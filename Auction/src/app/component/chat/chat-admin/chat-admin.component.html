<div class="container">
  <div class="row">
    <div class=" wrapper__chat">
      <div class="user__list col-lg-3">
        <ul class="user__group">
          <li class="user__item title">Người Dùng</li>
          <div *ngFor="let item of userchat">
            <li  class="user__item {{item}}" (click)="chooseUser(item)">{{item}}</li>
          </div>
        </ul>
        <ul class="user__group">
          <li class="user__item title" >Khách</li>
          <div *ngFor="let itemVisitor of listChatInforVisitor;let i = index">
            <li  class="user__item " (click)="chooseVisitor(itemVisitor)">khach{{i}}</li>
          </div>
        </ul>
      </div>
      <div  class="chatbox col-lg-6" id="myForm">
        <div class="chatbox__header d-flex justify-content-between">
          <p>Tư vấn viên</p>
        </div>
        <div *ngIf="itemUser===userchat[check]||itemUser===listChatInforVisitor[check]">
          <div class="chatbox__body" id="scroll">
            <div class="me__box" *ngFor="let chat of chats">
              <span class="user_name">{{chat.username}}</span>
              <span class="date-time">{{chat.timestamp | date:'dd/MM/yyyy HH:mm:ss'}}</span>
              <textarea readonly *ngIf="chat.username !== 'admin'" class="user__message">
                {{chat.message}}
              </textarea>
              <textarea readonly *ngIf="chat.username === 'admin'" class="me__message">
                {{chat.message}}
              </textarea>
            </div>
          </div>

        </div>
        <div class="chatbox__Footer">
          <form [formGroup]="form" *ngIf="form" (ngSubmit)="onChatSubmit(form.value)" action="" class="form__input__message">
            <input formControlName="message" type="text" class="input__mesage" placeholder="Tư vấn..." [readOnly]="itemUser==''">
            <button style="border:solid whitesmoke 0.1px;background-color: white  " [disabled]="!form.valid" class="send" (click)="onChatSubmit(form.value)">
              <i class="fa-solid fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="show__user w-100 d-flex align-items-center flex-wrap" *ngIf="userSelected">
          <div class="show__user--avarta w-100">
            <img src="{{userSelected.avatar}}" class="d-block w-75">
          </div>
          <div class="show__user--body">
            <p class="show__user--detail">
              <i class="fa-solid fa-user"></i>
              {{userSelected.firstName +' '+ userSelected.lastName}}</p>
            <p class="show__user--detail">
              <i class="fa-solid fa-envelope"></i>
              {{userSelected.email}}</p>
            <div class="d-flex justify-content-between w-100">
              <p class="show__user--detail">
                <i class="fa-solid fa-mobile"></i>
                {{userSelected.phone}}</p>
              <p class="show__user--detail">
                <i class="fa-solid fa-calendar-days"></i>
                {{userSelected.birthDay}}</p>
            </div>
            <p class="show__user--detail">
              <i class="fa-solid fa-location-pin"></i>
              {{userSelected.address.detailAddress}}</p>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>
