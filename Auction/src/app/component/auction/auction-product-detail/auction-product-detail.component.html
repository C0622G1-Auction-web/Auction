<!-- Auction Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body d-flex justify-content-center flex-wrap">
        <img class="d-block w-auto mb-3" height="300px" src="{{productDetail.imgUrlProducts[0]?.url}}" alt="">
        <p class="mt-2 w-100" style="text-align: center;font-size: 20px;margin-bottom: -10px">
          Đấu giá ngay sản phẩm
          <span style="color: red;font-weight: bold;font-size: 20px">{{productDetail.name|titlecase}}</span>
          với mức giá
          <span style="color: red;font-weight: bold;font-size: 20px">{{rfAuction.value.currentPrice}}</span> ?
        </p>
      </div>
      <hr>
      <div class="row mb-3" style="text-align: center">
        <div class="col-lg-6">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                  style="padding: 10px;font-size: 20px;width: 85%">Đóng
          </button>
        </div>
        <div class="col-lg-6">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                  style="padding: 10px;font-size: 20px;width: 85%" (click)="onAuction()">Xác Nhận
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!--Content-->
<div *ngIf="productDetail" class="container">
  <h3 class="mt-5 alert alert-success text-center" style="color:black">{{productDetail.name}}</h3>
  <div class="row bg bg-ligh">
    <div class="col-lg-8">
      <div class="row">
        <div class="col-lg-12 d-flex justify-content-center align-items-center">
          <div class="mt-4 card card-body w-50" style="margin-right: 22px">
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner" *ngFor="let item of productDetail.imgUrlProducts, let i = index">
                <div class="carousel-item" [ngClass]=" 1<2? 'active' : ''">
                  <img
                    [src]="item.url"
                    class="d-block w-100" alt="...">
                </div>
                <!--                <-->
                <!--                <div class="carousel-item">-->
                <!--                  <img-->
                <!--                    src="https://salt.tikicdn.com/cache/750x750/ts/product/36/ca/54/3997ea540afb84fb3db6b136f336ab0b.jpg.webp"-->
                <!--                    class="d-block w-100" alt="...">-->
                <!--                </div>-->
              </div>
              <div class="carousel-indicators" *ngFor="let item of productDetail.imgUrlProducts, let i = index">
                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                        class="thumbnail" aria-current="true" aria-label="Slide 1">
                  <img
                    [src]="item.url"
                    class="d-block w-100" alt="...">
                </button>
                <!--                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"-->
                <!--                        class="thumbnail" aria-label="Slide 2">-->
                <!--                  <img-->
                <!--                    src="https://salt.tikicdn.com/cache/750x750/ts/product/59/ef/44/653f387974a68b7b0ec7740201343ee9.jpg.webp"-->
                <!--                    class="d-block w-100" alt="...">-->
                <!--                </button>-->
                <!--                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"-->
                <!--                        class="thumbnail" aria-label="Slide 3">-->
                <!--                  <img-->
                <!--                    src="https://salt.tikicdn.com/cache/750x750/ts/product/36/ca/54/3997ea540afb84fb3db6b136f336ab0b.jpg.webp"-->
                <!--                    class="d-block w-100" alt="...">-->
                <!--                </button>-->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row" style="margin-right: 10px">
        <div class="col-lg-12">
          <div class="mt-5">
            <div class="card text-center">
              <div class="card-header" style="background: #E74C3C">
                <ul class="nav nav-tabs card-header-tabs">
                  <li class="nav-item">
                    <button id="title-hammer"
                            class="nav-link active" aria-current="true">
                      Thông Tin Sản Phẩm
                    </button>
                  </li>
                </ul>
              </div>
              <div id="show-hammer">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="card-body card-detail text-lg-start mt-3">
                      <span class="card-text title-detail">Ngày Bắt Đầu</span>
                      <span class="card-text">{{productDetail.startTime | date:"dd/MM/yyyy HH:mm:ss"}}</span>
                    </div>
                  </div>
                </div>
                <hr>

                <div class="row">
                  <div class="col-lg-6">
                    <div class="card-body card-detail text-lg-start">
                      <span class="card-text title-detail">Ngày Kết Thúc</span>
                      <span class="card-text">{{productDetail.endTime | date:"dd/MM/yyyy HH:mm:ss"}}</span>
                    </div>
                  </div>
                </div>
                <hr>
                <div class="row mt-4 mb-4">
                  <div class="col-lg-12">
                    <div class="row">
                      <div class="col-lg-3">
                        <span class="card-text title-detail">Mô Tả Sản Phẩm</span>
                      </div>
                      <div class="col-lg-9" style="text-align: justify">
                        <span style="padding-right: 40px;display: block">{{productDetail.description}}</span>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="col-lg-4 mt-4 card card-body">
      <div class="time mt-0">
        <span class="time__hh mx-2">09</span>
        <span class=" mx-2">:</span>
        <span class="time__hh mx-2">09</span>
        <span class=" mx-2">:</span>
        <span class="time__hh mx-2">09</span>
      </div>
      <div>
        <div class="card mt-4">
          <p class="title-currency-1 card-text alert alert-info"
             style="color: white;background-color: #2c3b59">Giá Gốc</p>
          <h5 class="currency-1 card-title product__price" style="color:#2c3b59;">{{productDetail.initialPrice|currency:'VND'}}</h5>
        </div>
        <div class="card mt-4">
          <p class="title-currency card-text alert alert-danger"
             style="color: white;background-color: #dc3545">Giá Đấu</p>
          <h5 class="currency card-title product__price">{{productDetail.maxCurrentPrice|currency:'VND'}}</h5>
        </div>
        <div class="card mt-4">
          <p class="title-currency-1 card-text alert alert-info"
             style="color: white;background-color: #00434c">Bước Giá</p>
          <h5 class="currency-1 card-title product__price"
              style="color:#00434c">{{productDetail.priceStep.step|currency:'VND'}}</h5>
        </div>
        <div *ngIf="productDetail?.auctionStatus.id != 3"
             class="input-group mt-4 d-flex align-items-center justify-content-center">

          <form class="d-flex flex-wrap" *ngIf="rfAuction" [formGroup]="rfAuction">

              <input hidden formControlName="userId">
              <input hidden formControlName="productId">

              <input class = "form-control" [value]="rfAuction.value.currentPrice" type="text" style="font-size: 20px;text-align: center"
                     formControlName="currentPrice"
                     [ngClass]="rfAuction.errors?.checkAuctionPrice?'is-invalid':''">

        <div class="w-100 d-flex mt-4">
          <button class="btn btn-outline-danger" type="button" style="font-size: 25px"
                  (click)="reduceAuctionPriceByPriceStep()">-
          </button>
          <button  type="submit" class="hammer btn btn-danger w-100 mx-2"
                  style="font-size: 25px;font-weight: bold" data-bs-toggle="modal"
                  data-bs-target="#staticBackdrop" [disabled]="rfAuction.invalid">
            <i class="fa-solid fa-gavel mx-3" style="font-size: 30px"></i>
          </button>
          <button class="btn btn-outline-danger" type="button" style="font-size: 25px"
                  (click)="increaseAuctionPriceByPriceStep()">+
          </button>
        </div>


            <div class="invalid-feedback">
              <div
                *ngIf="rfAuction.errors?.checkAuctionPrice && rfAuction.controls['currentPrice'].touched">
                Giá Đấu Phải Lớn Hơn Giá Hiện Tại Một Bước Giá
              </div>
            </div>
          </form>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="mt-4">
              <div class="card text-center">
                <div class="card-header" style="background: #d1e7dd">
                  <ul class="nav nav-tabs card-header-tabs">
                    <li class="nav-item">
                      <button id="title-buyer"
                              class="nav-link active" aria-current="true" (click)="onChangeInfoSeller()" type="button">
                        Lượt Đấu Giá
                      </button>
                    </li>
                    <li class="nav-item">
                      <button style=" background-color:#d1e7dd" id="title-seller"
                              class="nav-link active" aria-current="true"
                              type="button" (click)="onChangeInfoAuction()">
                        Chủ Sản Phẩm
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="changeBuyer">
            <app-infomation-auction-buyer></app-infomation-auction-buyer>
          </div>
          <div *ngIf="changeSeller">
            <app-infomation-auction-seller></app-infomation-auction-seller>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

