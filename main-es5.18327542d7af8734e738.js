function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _wrapRegExp(){_wrapRegExp=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),_setPrototypeOf(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[n]=e[i[o]]}return t}),Object.create(null))}return _inherits(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var i=n.indices;i&&(i.groups=r(i,this))}return n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},_wrapRegExp.apply(this,arguments)}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty2(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var h={};function d(){}function f(){}function A(){}var p={};c(p,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&n.call(v,o)&&(p=v);var m=A.prototype=d.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=A,r(m,"constructor",{value:A,configurable:!0}),r(A,"constructor",{value:f,configurable:!0}),f.displayName=c(A,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,c(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new y(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+Ewk":function(e,t,n){"use strict";var r=n("P7XM"),i=n("96lO"),o=n("+fXv"),a=n("v0om");function s(e){if(!s.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/jsonp",a,o)}r(s,i),s.enabled=function(){return!!global.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s},"+R4f":function(e,t,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter,o=n("yjSe");function a(e){i.call(this);var t=this,n=this.es=new o(e);n.onmessage=function(e){t.emit("message",decodeURI(e.data))},n.onerror=function(e){var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}r(a,i),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},a.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=a},"+fXv":function(e,t,n){"use strict";var r=n("8fj+"),i=n("JYLm"),o=n("JqAl"),a=n("Yh+D"),s=n("P7XM"),c=n("raCH").EventEmitter;function u(e){var t=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var n=a.addQuery(e,"c="+encodeURIComponent(r.WPrefix+"."+this.id));global[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout((function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),u.timeout)}s(u,c),u.prototype.abort=function(){if(global[r.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},u.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete global[r.WPrefix][this.id]},u.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),u.scriptErrorTimeout))},u.prototype._createScript=function(e){var t,n=this,r=this.script=global.document.createElement("script");if(r.id="a"+i.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){n._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){n.loadedOkay=!0;try{r.onclick()}catch(e){}}r&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&global.document.attachEvent)if(o.isOpera())(t=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=t.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(s){}r.async=!0}void 0!==r.async&&(r.async=!0);var a=global.document.getElementsByTagName("head")[0];a.insertBefore(r,a.firstChild),t&&a.insertBefore(t,a.firstChild)},e.exports=u},"+z1p":function(e,t,n){(function(e){var n,r;n=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}),(r=n.en=n.en||{}).dictionary=Object.assign(r.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"}),self,e.exports=function(){"use strict";var n={3062:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);var s=a},903:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);var s=a},3143:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},4717:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);var s=a},9315:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);var s=a},8733:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);var s=a},3508:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var s=a},2640:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);var s=a},5083:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);var s=a},4036:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);var s=a},3773:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);var s=a},3689:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);var s=a},1905:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},9773:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);var s=a},2347:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var s=a},7754:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var s=a},4652:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);var s=a},7442:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var s=a},9292:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},1613:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);var s=a},6306:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);var s=a},3881:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);var s=a},6945:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);var s=a},4906:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);var s=a},5332:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);var s=a},6781:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);var s=a},5485:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},3949:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},7686:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},7339:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);var s=a},9688:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var s=a},8847:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);var s=a},6574:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var s=a},4879:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var s=a},3662:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);var s=a},2577:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},1046:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},8793:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var s=a},4650:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);var s=a},7676:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var s=a},5868:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var s=a},6764:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);var s=a},9695:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);var s=a},5542:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);var s=a},3332:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);var s=a},4793:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);var s=a},3488:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);var s=a},8506:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);var s=a},4921:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1799),i=n.n(r),o=n(2609),a=n.n(o)()(i());a.push([e.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);var s=a},2609:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]=c[2]?"".concat(n," and ").concat(c[2]):n),t.push(c))}},t}},1799:function(e){function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n=t(e,4),r=n[1],i=n[3];if(!i)return r;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),s="/*# ".concat(a," */"),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[r].concat(c).concat([s]).join("\n")}return[r].join("\n")}},6062:function(e,t,n){var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],c=t.base?s[0]+t.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var h=a(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(d)):o.push({identifier:l,updater:p(d,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,A=0;function p(e,t){var n,r,i;if(t.singleton){var o=A++;n=f||(f=c(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var c=s(e,t),u=0;u<n.length;u++){var l=a(n[u]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=c}}}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e](o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.nc=void 0;var o={};return function(){var n=_regeneratorRuntime().mark(hc),r=_regeneratorRuntime().mark(dc),a=_regeneratorRuntime().mark(Nd);i.d(o,{default:function(){return Fb}});var s=function(){try{return navigator.userAgent.toLowerCase()}catch(s){return""}}(),c=f(s),u=(function(e){e.indexOf("windows")}(s),function(e){return!!e.match(/gecko\/\d+/)}(s)),l=function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(s),h=(function(e){e.match(/iphone|ipad/i)||f(e)&&navigator}(s),function(e){return e.indexOf("android")>-1}(s)),d=function(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}(s);function f(e){return e.indexOf("macintosh")>-1}function A(e,t,n,r){n=n||function(e,t){return e===t};var i=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Array.isArray(t)?t:Array.prototype.slice.call(t),a=function(e,t,n){var r=p(e,t,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var i=p(g(e,r),g(t,r),n);return{firstIndex:r,lastIndexOld:e.length-i,lastIndexNew:t.length-i}}(i,o,n);return r?function(e,t){var n=e.firstIndex,r=e.lastIndexOld,i=e.lastIndexNew;if(-1===n)return Array(t).fill("equal");var o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),i-n>0&&(o=o.concat(Array(i-n).fill("insert"))),r-n>0&&(o=o.concat(Array(r-n).fill("delete"))),i<t&&(o=o.concat(Array(t-i).fill("equal"))),o}(a,o.length):function(e,t){var n=[],r=t.firstIndex,i=t.lastIndexOld,o=t.lastIndexNew;return o-r>0&&n.push({index:r,type:"insert",values:e.slice(r,o)}),i-r>0&&n.push({index:r+(o-r),type:"delete",howMany:i-r}),n}(o,a)}function p(e,t,n){for(var r=0;r<Math.max(e.length,t.length);r++)if(void 0===e[r]||void 0===t[r]||!n(e[r],t[r]))return r;return-1}function g(e,t){return e.slice(t).reverse()}function v(e,t,n){n=n||function(e,t){return e===t};var r,i,o=e.length,a=t.length;if(o>200||a>200||o+a>300)return v.fastDiff(e,t,n,!0);if(a<o){var s=e;e=t,t=s,r="delete",i="insert"}else r="insert",i="delete";var c=e.length,u=t.length,l=u-c,h={},d={};function f(o){var a=(void 0!==d[o-1]?d[o-1]:-1)+1,s=void 0!==d[o+1]?d[o+1]:-1,l=a>s?-1:1;h[o+l]&&(h[o]=h[o+l].slice(0)),h[o]||(h[o]=[]),h[o].push(a>s?r:i);for(var f=Math.max(a,s),A=f-o;A<c&&f<u&&n(e[A],t[f]);)A++,f++,h[o].push("equal");return f}var A,p=0;do{for(A=-p;A<l;A++)d[A]=f(A);for(A=l+p;A>l;A--)d[A]=f(A);d[l]=f(l),p++}while(d[l]!==u);return h[l].slice(1)}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertySymbols(t);n.concat(r).forEach((function(n){if(!(n in e.prototype)&&("function"!=typeof t||"length"!=n&&"name"!=n&&"prototype"!=n)){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e.prototype,n,r)}}))}))}!function(){try{0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(s){}}(),v.fastDiff=A;var b=_createClass((function e(t,n){_classCallCheck(this,e),this.source=t,this.name=n,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}})),y=new Array(256).fill("").map((function(e,t){return("0"+t.toString(16)).slice(-2)}));function w(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+y[e>>0&255]+y[e>>8&255]+y[e>>16&255]+y[e>>24&255]+y[t>>0&255]+y[t>>8&255]+y[t>>16&255]+y[t>>24&255]+y[n>>0&255]+y[n>>8&255]+y[n>>16&255]+y[n>>24&255]+y[r>>0&255]+y[r>>8&255]+y[r>>16&255]+y[r>>24&255]}var _={get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function k(e,t){for(var n=_.get(t.priority),r=0;r<e.length;r++)if(_.get(e[r].priority)<n)return void e.splice(r,0,t);e.push(t)}var C=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,function(e,t){var n=new WeakSet;return e+(t?" ".concat(JSON.stringify(t,(function(e,t){if("object"==typeof t&&null!==t){if(n.has(t))return"[object ".concat(t.constructor.name,"]");n.add(t)}return t}))):"")+E(e)}(e,i))).name="CKEditorError",o.context=r,o.data=i,o}return _createClass(n,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,t){if(e.is&&e.is("CKEditorError"))throw e;var r=new n(e.message,t);throw r.stack=e.stack,r}}]),n}();function S(e,t){var n;(n=console).warn.apply(n,_toConsumableArray(I(e,t)))}function x(e,t){var n;(n=console).error.apply(n,_toConsumableArray(I(e,t)))}function E(e){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-".concat(e)}function I(e,t){var n=E(e);return t?[e,t,n]:[e,n]}var B="object"==typeof window?window:i.g;if(B.CKEDITOR_VERSION)throw new C("ckeditor-duplicated-modules",null);B.CKEDITOR_VERSION="35.4.0";var D=Symbol("listeningTo"),T=Symbol("emitterId"),O=Symbol("delegations"),F=R(Object);function R(e){return e?function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"on",value:function(e,t,n){this.listenTo(this,e,t,n)}},{key:"once",value:function(e,t,n){var r=this,i=!1;this.listenTo(this,e,(function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];i||(i=!0,e.off(),t.call.apply(t,[r,e].concat(o)))}),n)}},{key:"off",value:function(e,t){this.stopListening(this,e,t)}},{key:"listenTo",value:function(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[D]||(this[D]={});var a=this[D];N(e)||P(e);var s=N(e);(r=a[s])||(r=a[s]={emitter:e,callbacks:{}}),(i=r.callbacks[t])||(i=r.callbacks[t]=[]),i.push(n),function(e,t,n,r,i){t._addEventListener?t._addEventListener(n,r,i):e._addEventListener.call(t,n,r,i)}(this,e,t,n,o)}},{key:"stopListening",value:function(e,t,n){var r=this[D],i=e&&N(e),o=r&&i?r[i]:void 0,a=o&&t?o.callbacks[t]:void 0;if(!(!r||e&&!o||t&&!a))if(n)j(this,e,t,n),-1!==a.indexOf(n)&&(1===a.length?delete o.callbacks[t]:j(this,e,t,n));else if(a){for(;n=a.pop();)j(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[D]}}},{key:"fire",value:function(e){try{for(var t=e instanceof b?e:new b(this,e),n=t.name,r=function e(t,n){var r;return t._events&&(r=t._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,n),i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(t.path.push(this),r){var s=[t].concat(o);r=Array.from(r);for(var c=0;c<r.length&&(r[c].callback.apply(this,s),t.off.called&&(delete t.off.called,this._removeEventListener(n,r[c].callback)),!t.stop.called);c++);}var u=this[O];if(u){var l=u.get(n),h=u.get("*");l&&U(l,t,o),h&&U(h,t,o)}return t.return}catch(e){C.rethrowUnexpectedError(e,this)}}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{to:function(t,r){e[O]||(e[O]=new Map),n.forEach((function(n){var i=e[O].get(n);i?i.set(t,r):e[O].set(n,new Map([[t,r]]))}))}}}},{key:"stopDelegating",value:function(e,t){if(this[O])if(e)if(t){var n=this[O].get(e);n&&n.delete(t)}else this[O].delete(e);else this[O].clear()}},{key:"_addEventListener",value:function(e,t,n){!function(e,t){var n=M(e);if(!n[t]){for(var r=t,i=null,o=[];""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},o.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){var a,s=_createForOfIteratorHelper(o);try{for(s.s();!(a=s.n()).done;){a.value.callbacks=n[r].callbacks.slice()}}catch(c){s.e(c)}finally{s.f()}n[r].childEvents.push(i)}}}(this,e);var r,i=L(this,e),o={callback:t,priority:_.get(n.priority)},a=_createForOfIteratorHelper(i);try{for(a.s();!(r=a.n()).done;){k(r.value,o)}}catch(s){a.e(s)}finally{a.f()}}},{key:"_removeEventListener",value:function(e,t){var n,r=_createForOfIteratorHelper(L(this,e));try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0;o<i.length;o++)i[o].callback==t&&(i.splice(o,1),o--)}catch(a){r.e(a)}finally{r.f()}}}]),n}(e):F}function P(e,t){e[T]||(e[T]=t||w())}function N(e){return e[T]}function M(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function L(e,t){var n=M(e)[t];if(!n)return[];for(var r=[n.callbacks],i=0;i<n.childEvents.length;i++){var o=L(e,n.childEvents[i]);r=r.concat(o)}return r}function U(e,t,n){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=_slicedToArray(r.value,2),a=o[0],s=o[1];s?"function"==typeof s&&(s=s(t.name)):s=t.name;var c=new b(t.source,s);c.path=_toConsumableArray(t.path),a.fire.apply(a,[c].concat(_toConsumableArray(n)))}}catch(u){i.e(u)}finally{i.f()}}function j(e,t,n,r){t._removeEventListener?t._removeEventListener(n,r):e._removeEventListener.call(t,n,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((function(e){R[e]=F.prototype[e]}));var Q=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},H=Symbol("observableProperties"),V=Symbol("boundObservables"),z=Symbol("boundProperties"),q=Symbol("decoratedMethods"),K=Symbol("decoratedOriginal"),G=W(R());function W(e){return e?function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"set",value:function(e,t){var n=this;if(Q(e))Object.keys(e).forEach((function(t){n.set(t,e[t])}),this);else{Y(this);var r=this[H];if(e in this&&!r.has(e))throw new C("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return r.get(e)},set:function(t){var n=r.get(e),i=this.fire("set:".concat(e),e,t,n);void 0===i&&(i=t),n===i&&r.has(e)||(r.set(e,i),this.fire("change:".concat(e),e,i,n))}}),this[e]=t}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length||!Z(n))throw new C("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new C("observable-bind-duplicate-properties",this);Y(this);var i=this[z];n.forEach((function(t){if(i.has(t))throw new C("observable-bind-rebind",e)}));var o=new Map;return n.forEach((function(e){var t={property:e,to:[]};i.set(e,t),o.set(e,t)})),{to:J,toMany:X,_observable:this,_bindProperties:n,_to:[],_bindings:o}}},{key:"unbind",value:function(){var e=this;if(this[H]){for(var t=this[z],n=this[V],r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i.length){if(!Z(i))throw new C("observable-unbind-wrong-properties",this);i.forEach((function(r){var i=t.get(r);i&&(i.to.forEach((function(t){var r=_slicedToArray(t,2),o=r[0],a=r[1],s=n.get(o),c=s[a];c.delete(i),c.size||delete s[a],Object.keys(s).length||(n.delete(o),e.stopListening(o,"change"))})),t.delete(r))}))}else n.forEach((function(t,n){e.stopListening(n,"change")})),n.clear(),t.clear()}}},{key:"decorate",value:function(e){var t=this;Y(this);var n=this[e];if(!n)throw new C("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(function(e,r){e.return=n.apply(t,r)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.fire(e,n)},this[e][K]=n,this[q]||(this[q]=[]),this[q].push(e)}},{key:"stopListening",value:function(e,t,r){if(!e&&this[q]){var i,o=_createForOfIteratorHelper(this[q]);try{for(o.s();!(i=o.n()).done;){var a=i.value;this[a]=this[a][K]}}catch(s){o.e(s)}finally{o.f()}delete this[q]}_get(_getPrototypeOf(n.prototype),"stopListening",this).call(this,e,t,r)}}]),n}(e):G}function Y(e){e[H]||(Object.defineProperty(e,H,{value:new Map}),Object.defineProperty(e,V,{value:new Map}),Object.defineProperty(e,z,{value:new Map}))}function J(){var e,t=this,n=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new C("observable-bind-to-parse-error",null);var r,i={to:[]};return"function"==typeof t[t.length-1]&&(i.callback=t.pop()),t.forEach((function(e){if("string"==typeof e)r.properties.push(e);else{if("object"!=typeof e)throw new C("observable-bind-to-parse-error",null);r={observable:e,properties:[]},i.to.push(r)}})),i}).apply(void 0,arguments),r=Array.from(this._bindings.keys()),i=r.length;if(!n.callback&&n.to.length>1)throw new C("observable-bind-to-no-callback",this);if(i>1&&n.callback)throw new C("observable-bind-to-extra-callback",this);n.to.forEach((function(e){if(e.properties.length&&e.properties.length!==i)throw new C("observable-bind-to-properties-length",t);e.properties.length||(e.properties=t._bindProperties)})),this._to=n.to,n.callback&&(this._bindings.get(r[0]).callback=n.callback),e=this._observable,this._to.forEach((function(t){var n,r=e[V];r.get(t.observable)||e.listenTo(t.observable,"change",(function(i,o){(n=r.get(t.observable)[o])&&n.forEach((function(t){$(e,t.property)}))}))})),function(e){var t;e._bindings.forEach((function(n,r){e._to.forEach((function(i){t=i.properties[n.callback?0:e._bindProperties.indexOf(r)],n.to.push([i.observable,t]),function(e,t,n,r){var i=e[V],o=i.get(n),a=o||{};a[r]||(a[r]=new Set),a[r].add(t),o||i.set(n,a)}(e._observable,n,i.observable,t)}))}))}(this),this._bindProperties.forEach((function(e){$(t._observable,e)}))}function X(e,t,n){if(this._bindings.size>1)throw new C("observable-bind-to-many-not-one-binding",this);this.to.apply(this,_toConsumableArray(function(e,t){var n=e.map((function(e){return[e,t]}));return Array.prototype.concat.apply([],n)}(e,t)).concat([n]))}function Z(e){return e.every((function(e){return"string"==typeof e}))}function $(e,t){var n,r=e[z].get(t);r.callback?n=r.callback.apply(e,r.to.map((function(e){return e[0][e[1]]}))):n=(n=r.to[0])[0][n[1]],Object.prototype.hasOwnProperty.call(e,t)?e[t]=n:e.set(t,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((function(e){W[e]=G.prototype[e]}));var ee=function(){function e(){_classCallCheck(this,e),this._replacedElements=[]}return _createClass(e,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach((function(e){var t=e.element,n=e.newElement;t.style.display="",n&&n.remove()})),this._replacedElements=[]}}]),e}();function te(e){var t,n=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){t.value;n++}}catch(i){r.e(i)}finally{r.f()}return n}function ne(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}function re(e){return!(!e||!e[Symbol.iterator])}var ie="object"==typeof global&&global&&global.Object===Object&&global,oe="object"==typeof self&&self&&self.Object===Object&&self,ae=ie||oe||Function("return this")(),se=ae.Symbol,ce=Object.prototype,ue=ce.hasOwnProperty,le=ce.toString,he=se?se.toStringTag:void 0,de=Object.prototype.toString,fe=se?se.toStringTag:void 0,Ae=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":fe&&fe in Object(e)?function(e){var t=ue.call(e,he),n=e[he];try{e[he]=void 0;var r=!0}catch(e){}var i=le.call(e);return r&&(t?e[he]=n:delete e[he]),i}(e):function(e){return de.call(e)}(e)},pe=Array.isArray,ge=function(e){return null!=e&&"object"==typeof e},ve=function(e){return"string"==typeof e||!pe(e)&&ge(e)&&"[object String]"==Ae(e)};function me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=n&&n.xmlns,o=i?e.createElementNS(i,t):e.createElement(t);for(var a in n)o.setAttribute(a,n[a]);!ve(r)&&re(r)||(r=[r]);var s,c=_createForOfIteratorHelper(r);try{for(c.s();!(s=c.n()).done;){var u=s.value;ve(u)&&(u=e.createTextNode(u)),o.appendChild(u)}}catch(l){c.e(l)}finally{c.f()}return o}var be=function(e,t){return function(n){return e(t(n))}},ye=be(Object.getPrototypeOf,Object),we=Function.prototype.toString,_e=Object.prototype.hasOwnProperty,ke=we.call(Object),Ce=function(e){if(!ge(e)||"[object Object]"!=Ae(e))return!1;var t=ye(e);if(null===t)return!0;var n=_e.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==ke},Se=function(e,t){return e===t||e!=e&&t!=t},xe=function(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1},Ee=Array.prototype.splice;function Ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ie.prototype.clear=function(){this.__data__=[],this.size=0},Ie.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0||(n==t.length-1?t.pop():Ee.call(t,n,1),--this.size,0))},Ie.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return xe(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Be=Ie,De=function(e){if(!Q(e))return!1;var t=Ae(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Te=ae["__core-js_shared__"],Oe=function(){var e=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Function.prototype.toString,Re=function(e){if(null!=e){try{return Fe.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Pe=/^\[object .+?Constructor\]$/,Ne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Q(e)||function(e){return!!Oe&&Oe in e}(e))&&(De(e)?Ne:Pe).test(Re(e))}(n)?n:void 0},Le=Me(ae,"Map"),Ue=Me(Object,"create"),je=Object.prototype.hasOwnProperty,Qe=Object.prototype.hasOwnProperty;function He(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}He.prototype.clear=function(){this.__data__=Ue?Ue(null):{},this.size=0},He.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},He.prototype.get=function(e){var t=this.__data__;if(Ue){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return je.call(t,e)?t[e]:void 0},He.prototype.has=function(e){var t=this.__data__;return Ue?void 0!==t[e]:Qe.call(t,e)},He.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ue&&void 0===t?"__lodash_hash_undefined__":t,this};var Ve=He,ze=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ve,map:new(Le||Be),string:new Ve}},qe.prototype.delete=function(e){var t=ze(this,e).delete(e);return this.size-=t?1:0,t},qe.prototype.get=function(e){return ze(this,e).get(e)},qe.prototype.has=function(e){return ze(this,e).has(e)},qe.prototype.set=function(e,t){var n=ze(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Ke=qe;function Ge(e){var t=this.__data__=new Be(e);this.size=t.size}Ge.prototype.clear=function(){this.__data__=new Be,this.size=0},Ge.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ge.prototype.get=function(e){return this.__data__.get(e)},Ge.prototype.has=function(e){return this.__data__.has(e)},Ge.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Be){var r=n.__data__;if(!Le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ke(r)}return n.set(e,t),this.size=n.size,this};var We=Ge,Ye=function(){try{var e=Me(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Je=function(e,t,n){"__proto__"==t&&Ye?Ye(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Xe=Object.prototype.hasOwnProperty,Ze=function(e,t,n){var r=e[t];Xe.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||Je(e,t,n)},$e=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Je(n,s,c):Ze(n,s,c)}return n},et=function(e){return ge(e)&&"[object Arguments]"==Ae(e)},tt=Object.prototype,nt=tt.hasOwnProperty,rt=tt.propertyIsEnumerable,it=et(function(){return arguments}())?et:function(e){return ge(e)&&nt.call(e,"callee")&&!rt.call(e,"callee")},ot=t&&!t.nodeType&&t,at=ot&&"object"==typeof e&&e&&!e.nodeType&&e,st=at&&at.exports===ot?ae.Buffer:void 0,ct=(st?st.isBuffer:void 0)||function(){return!1},ut=/^(?:0|[1-9]\d*)$/,lt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ut.test(e))&&e>-1&&e%1==0&&e<t},ht=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},dt={};dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;var ft=function(e){return function(t){return e(t)}},At=t&&!t.nodeType&&t,pt=At&&"object"==typeof e&&e&&!e.nodeType&&e,gt=pt&&pt.exports===At&&ie.process,vt=function(){try{return pt&&pt.require&&pt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(s){}}(),mt=vt&&vt.isTypedArray,bt=mt?ft(mt):function(e){return ge(e)&&ht(e.length)&&!!dt[Ae(e)]},yt=Object.prototype.hasOwnProperty,wt=function(e,t){var n=pe(e),r=!n&&it(e),i=!n&&!r&&ct(e),o=!n&&!r&&!i&&bt(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!yt.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||lt(u,c))||s.push(u);return s},_t=Object.prototype,kt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_t)},Ct=be(Object.keys,Object),St=Object.prototype.hasOwnProperty,xt=function(e){return null!=e&&ht(e.length)&&!De(e)},Et=function(e){return xt(e)?wt(e):function(e){if(!kt(e))return Ct(e);var t=[];for(var n in Object(e))St.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},It=Object.prototype.hasOwnProperty,Bt=function(e){return xt(e)?wt(e,!0):function(e){if(!Q(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=kt(e),n=[];for(var r in e)("constructor"!=r||!t&&It.call(e,r))&&n.push(r);return n}(e)},Dt=t&&!t.nodeType&&t,Tt=Dt&&"object"==typeof e&&e&&!e.nodeType&&e,Ot=Tt&&Tt.exports===Dt?ae.Buffer:void 0,Ft=Ot?Ot.allocUnsafe:void 0,Rt=function(e,t){if(t)return e.slice();var n=e.length,r=Ft?Ft(n):new e.constructor(n);return e.copy(r),r},Pt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Nt=function(){return[]},Mt=Object.prototype.propertyIsEnumerable,Lt=Object.getOwnPropertySymbols,Ut=Lt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a)&&(o[i++]=a)}return o}(Lt(e),(function(t){return Mt.call(e,t)})))}:Nt,jt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Qt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)jt(t,Ut(e)),e=ye(e);return t}:Nt,Ht=function(e,t,n){var r=t(e);return pe(e)?r:jt(r,n(e))},Vt=function(e){return Ht(e,Et,Ut)},zt=function(e){return Ht(e,Bt,Qt)},qt=Me(ae,"DataView"),Kt=Me(ae,"Promise"),Gt=Me(ae,"Set"),Wt=Me(ae,"WeakMap"),Yt="[object Map]",Jt="[object Promise]",Xt="[object Set]",Zt="[object WeakMap]",$t="[object DataView]",en=Re(qt),tn=Re(Le),nn=Re(Kt),rn=Re(Gt),on=Re(Wt),an=Ae;(qt&&an(new qt(new ArrayBuffer(1)))!=$t||Le&&an(new Le)!=Yt||Kt&&an(Kt.resolve())!=Jt||Gt&&an(new Gt)!=Xt||Wt&&an(new Wt)!=Zt)&&(an=function(e){var t=Ae(e),n="[object Object]"==t?e.constructor:void 0,r=n?Re(n):"";if(r)switch(r){case en:return $t;case tn:return Yt;case nn:return Jt;case rn:return Xt;case on:return Zt}return t});var sn=an,cn=Object.prototype.hasOwnProperty,un=ae.Uint8Array,ln=function(e){var t=new e.constructor(e.byteLength);return new un(t).set(new un(e)),t},hn=/\w*$/,dn=se?se.prototype:void 0,fn=dn?dn.valueOf:void 0,An=function(e,t){var n=t?ln(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},pn=Object.create,gn=function(){function e(){}return function(t){if(!Q(t))return{};if(pn)return pn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),vn=function(e){return"function"!=typeof e.constructor||kt(e)?{}:gn(ye(e))},mn=vt&&vt.isMap,bn=mn?ft(mn):function(e){return ge(e)&&"[object Map]"==sn(e)},yn=vt&&vt.isSet,wn=yn?ft(yn):function(e){return ge(e)&&"[object Set]"==sn(e)},_n="[object Arguments]",kn="[object Function]",Cn="[object Object]",Sn={};Sn[_n]=Sn["[object Array]"]=Sn["[object ArrayBuffer]"]=Sn["[object DataView]"]=Sn["[object Boolean]"]=Sn["[object Date]"]=Sn["[object Float32Array]"]=Sn["[object Float64Array]"]=Sn["[object Int8Array]"]=Sn["[object Int16Array]"]=Sn["[object Int32Array]"]=Sn["[object Map]"]=Sn["[object Number]"]=Sn[Cn]=Sn["[object RegExp]"]=Sn["[object Set]"]=Sn["[object String]"]=Sn["[object Symbol]"]=Sn["[object Uint8Array]"]=Sn["[object Uint8ClampedArray]"]=Sn["[object Uint16Array]"]=Sn["[object Uint32Array]"]=!0,Sn["[object Error]"]=Sn[kn]=Sn["[object WeakMap]"]=!1;var xn=function e(t,n,r,i,o,a){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!Q(t))return t;var h=pe(t);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&cn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!c)return Pt(t,s)}else{var d=sn(t),f=d==kn||"[object GeneratorFunction]"==d;if(ct(t))return Rt(t,c);if(d==Cn||d==_n||f&&!o){if(s=u||f?{}:vn(t),!c)return u?function(e,t){return $e(e,Qt(e),t)}(t,function(e,t){return e&&$e(t,Bt(t),e)}(s,t)):function(e,t){return $e(e,Ut(e),t)}(t,function(e,t){return e&&$e(t,Et(t),e)}(s,t))}else{if(!Sn[d])return o?t:{};s=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ln(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?ln(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return An(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,hn.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return fn?Object(fn.call(e)):{}}(e)}}(t,d,c)}}a||(a=new We);var A=a.get(t);if(A)return A;a.set(t,s),wn(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):bn(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var p=h?void 0:(l?u?zt:Vt:u?Bt:Et)(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n););}(p||t,(function(i,o){p&&(i=t[o=i]),Ze(s,o,e(i,n,r,o,t,a))})),s},En=function(e,t){return xn(e,5,t="function"==typeof t?t:void 0)},In=function(e){return ge(e)&&1===e.nodeType&&!Ce(e)},Bn=function(){function e(t,n){_classCallCheck(this,e),this._config={},n&&this.define(Dn(n)),t&&this._setObjectToTarget(this._config,t)}return _createClass(e,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(!(t<n.length)){e.next=8;break}return r=n[t],e.next=5,r;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"_setToTarget",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Ce(t))this._setObjectToTarget(e,t,r);else{var i=t.split(".");t=i.pop();var o,a=_createForOfIteratorHelper(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;Ce(e[s])||(e[s]={}),e=e[s]}}catch(c){a.e(c)}finally{a.f()}if(Ce(n))return Ce(e[t])||(e[t]={}),void this._setObjectToTarget(e=e[t],n,r);r&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!Ce(e[o])){e=null;break}e=e[o]}}catch(a){i.e(a)}finally{i.f()}return e?Dn(e[t]):void 0}},{key:"_setObjectToTarget",value:function(e,t,n){var r=this;Object.keys(t).forEach((function(i){r._setToTarget(e,i,t[i],n)}))}}]),e}();function Dn(e){return En(e,Tn)}function Tn(e){return In(e)?e:void 0}function On(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function Fn(e){var t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}var Rn=Pn(R());function Pn(e){return e?function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"listenTo",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(On(e)||Fn(e)){var o={capture:!!i.useCapture,passive:!!i.usePassive},a=this._getProxyEmitter(e,o)||new Mn(e,o);this.listenTo(a,t,r,i)}else _get(_getPrototypeOf(n.prototype),"listenTo",this).call(this,e,t,r,i)}},{key:"stopListening",value:function(e,t,r){if(On(e)||Fn(e)){var i,o=_createForOfIteratorHelper(this._getAllProxyEmitters(e));try{for(o.s();!(i=o.n()).done;){var a=i.value;this.stopListening(a,t,r)}}catch(s){o.e(s)}finally{o.f()}}else _get(_getPrototypeOf(n.prototype),"stopListening",this).call(this,e,t,r)}},{key:"_getProxyEmitter",value:function(e,t){return function(e,t){var n=e[D];return n&&n[t]?n[t].emitter:null}(this,Ln(e,t))}},{key:"_getAllProxyEmitters",value:function(e){var t=this;return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((function(n){return t._getProxyEmitter(e,n)})).filter((function(e){return!!e}))}}]),n}(e):Rn}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((function(e){Pn[e]=Rn.prototype[e]}));var Nn,Mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),P(_assertThisInitialized(i=t.call(this)),Ln(e,r)),i._domNode=e,i._options=r,i}return _createClass(n,[{key:"attach",value:function(e){if(!this._domListeners||!this._domListeners[e]){var t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}}},{key:"detach",value:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}},{key:"_addEventListener",value:function(e,t,n){this.attach(e),R().prototype._addEventListener.call(this,e,t,n)}},{key:"_removeEventListener",value:function(e,t){R().prototype._removeEventListener.call(this,e,t),this.detach(e)}},{key:"_createDomListener",value:function(e){var t=this,n=function(n){t.fire(e,n)};return n.removeListener=function(){t._domNode.removeEventListener(e,n,t._options),delete t._domListeners[e]},n}}]),n}(R());function Ln(e,t){var n,r=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=w())}(e),i=_createForOfIteratorHelper(Object.keys(t).sort());try{for(i.s();!(n=i.n()).done;){var o=n.value;t[o]&&(r+="-"+o)}}catch(a){i.e(a)}finally{i.f()}return r}try{Nn={window:window,document:document}}catch(s){Nn={window:{},document:{}}}var Un=Nn;function jn(e){for(var t=[],n=e;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}function Qn(e){return"[object Text]"==Object.prototype.toString.call(e)}function Hn(e){return"[object Range]"==Object.prototype.toString.apply(e)}function Vn(e){var t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}var zn=["top","right","bottom","left","width","height"],qn=function(){function e(t){_classCallCheck(this,e);var n=Hn(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Wn(t)||n)if(n){var r=e.getDomRangeRects(t);Kn(this,e.getBoundingRect(r))}else Kn(this,t.getBoundingClientRect());else if(Fn(t)){var i=t.innerWidth,o=t.innerHeight;Kn(this,{top:0,right:i,bottom:o,left:0,width:i,height:o})}else Kn(this,t)}return _createClass(e,[{key:"clone",value:function(){return new e(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(t){var n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new e(n)}},{key:"getIntersectionArea",value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var t=this._source,n=this.clone();if(!Gn(t))for(var r=t.parentNode||t.commonAncestorContainer;r&&!Gn(r);){var i=new e(r),o=n.getIntersection(i);if(!o)return null;o.getArea()<n.getArea()&&(n=o),r=r.parentNode}return n}},{key:"isEqual",value:function(e){var t,n=_createForOfIteratorHelper(zn);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this[r]!==e[r])return!1}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,r=this._source;if(Fn(r))e=r.innerWidth-r.document.documentElement.clientWidth,t=r.innerHeight-r.document.documentElement.clientHeight,n=r.getComputedStyle(r.document.documentElement).direction;else{var i=Vn(r);e=r.offsetWidth-r.clientWidth-i.left-i.right,t=r.offsetHeight-r.clientHeight-i.top-i.bottom,n=r.ownerDocument.defaultView.getComputedStyle(r).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===n?this.right-=e:this.left+=e,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(t){var n=[],r=Array.from(t.getClientRects());if(r.length){var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.push(new e(a))}}catch(u){o.e(u)}finally{o.f()}}else{var s=t.startContainer;Qn(s)&&(s=s.parentNode);var c=new e(s.getBoundingClientRect());c.right=c.left,c.width=0,n.push(c)}return n}},{key:"getBoundingRect",value:function(t){var n,r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0},i=0,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;i++,r.left=Math.min(r.left,a.left),r.top=Math.min(r.top,a.top),r.right=Math.max(r.right,a.right),r.bottom=Math.max(r.bottom,a.bottom)}}catch(s){o.e(s)}finally{o.f()}return 0==i?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new e(r))}}]),e}();function Kn(e,t){var n,r=_createForOfIteratorHelper(zn);try{for(r.s();!(n=r.n()).done;){var i=n.value;e[i]=t[i]}}catch(o){r.e(o)}finally{r.f()}}function Gn(e){return!!Wn(e)&&e===e.ownerDocument.body}function Wn(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect}var Yn=function(){function e(t,n){_classCallCheck(this,e),e._observerInstance||e._createObserver(),this._element=t,this._callback=n,e._addElementCallback(t,n),e._observerInstance.observe(t)}return _createClass(e,[{key:"destroy",value:function(){e._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(t,n){e._elementCallbacks||(e._elementCallbacks=new Map);var r=e._elementCallbacks.get(t);r||(r=new Set,e._elementCallbacks.set(t,r)),r.add(n)}},{key:"_deleteElementCallback",value:function(t,n){var r=e._getElementCallbacks(t);r&&(r.delete(n),r.size||(e._elementCallbacks.delete(t),e._observerInstance.unobserve(t))),e._elementCallbacks&&!e._elementCallbacks.size&&(e._observerInstance=null,e._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(t){return e._elementCallbacks?e._elementCallbacks.get(t):null}},{key:"_createObserver",value:function(){e._observerInstance=new Un.window.ResizeObserver((function(t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e._getElementCallbacks(i.target);if(o){var a,s=_createForOfIteratorHelper(o);try{for(s.s();!(a=s.n()).done;){(0,a.value)(i)}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){r.e(c)}finally{r.f()}}))}}]),e}();function Jn(e){return function(t){return t+e}}function Xn(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function Zn(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function $n(e){return e&&e.nodeType===Node.COMMENT_NODE}function er(e){return!!(e&&e.getClientRects&&e.getClientRects().length)}function tr(e){var t=e.element,n=e.target,r=e.positions,i=e.limiter,o=e.fitInViewport,a=e.viewportOffsetConfig;De(n)&&(n=n()),De(i)&&(i=i());var s,c=function(e){return e&&e.parentNode?e.offsetParent===Un.document.body?null:e.offsetParent:null}(t),u=new qn(t),l=new qn(n),h=o&&function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);var t=new qn(Un.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}(a)||null,d={targetRect:l,elementRect:u,positionedElementAncestor:c,viewportRect:h};if(i||o){var f=i&&new qn(i).getVisible();Object.assign(d,{limiterRect:f,viewportRect:h}),s=function(e,t){var n,r=t.elementRect.getArea(),i=0,o=null,a=_createForOfIteratorHelper(e.map((function(e){return new rr(e,t)})).filter((function(e){return!!e.name})));try{for(a.s();!(n=a.n()).done;){var s=n.value,c=s.limiterIntersectionArea,u=s.viewportIntersectionArea;if(c===r)return s;var l=Math.pow(u,2)+Math.pow(c,2);l>i&&(i=l,o=s)}}catch(h){a.e(h)}finally{a.f()}return o}(r,d)||new rr(r[0],d)}else s=new rr(r[0],d);return s}function nr(e){var t=Un.window,n=t.scrollX,r=t.scrollY;return e.clone().moveBy(n,r)}Yn._observerInstance=null,Yn._elementCallbacks=null;var rr=function(){function e(t,n){_classCallCheck(this,e);var r=t(n.targetRect,n.elementRect,n.viewportRect);if(r){var i=r.left,o=r.top,a=r.name,s=r.config;this.name=a,this.config=s,this._positioningFunctionCorrdinates={left:i,top:o},this._options=n}}return _createClass(e,[{key:"left",get:function(){return this._absoluteRect.left}},{key:"top",get:function(){return this._absoluteRect.top}},{key:"limiterIntersectionArea",get:function(){var e=this._options.limiterRect;if(e){var t=this._options.viewportRect;if(!t)return e.getIntersectionArea(this._rect);var n=e.getIntersection(t);if(n)return n.getIntersectionArea(this._rect)}return 0}},{key:"viewportIntersectionArea",get:function(){var e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}},{key:"_rect",get:function(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}},{key:"_absoluteRect",get:function(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=nr(this._rect),this._options.positionedElementAncestor&&function(e,t){var n=nr(new qn(t)),r=Vn(t),i=0,o=0;i-=n.left,o-=n.top,i+=t.scrollLeft,o+=t.scrollTop,i-=r.left,o-=r.top,e.moveBy(i,o)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}]),e}();function ir(e){var t=e.parentNode;t&&t.removeChild(e)}function or(e,t,n){var r=t.clone().moveBy(0,n),i=t.clone().moveBy(0,-n),o=new qn(e).excludeScrollbarsAndBorders();if(![i,r].every((function(e){return o.contains(e)}))){var a=e.scrollX,s=e.scrollY;cr(i,o)?s-=o.top-t.top+n:sr(r,o)&&(s+=t.bottom-o.bottom+n),ur(t,o)?a-=o.left-t.left+n:lr(t,o)&&(a+=t.right-o.right+n),e.scrollTo(a,s)}}function ar(e,t){for(var n,r,i=hr(e);e!=i.document.body;)r=t(),(n=new qn(e).excludeScrollbarsAndBorders()).contains(r)||(cr(r,n)?e.scrollTop-=n.top-r.top:sr(r,n)&&(e.scrollTop+=r.bottom-n.bottom),ur(r,n)?e.scrollLeft-=n.left-r.left:lr(r,n)&&(e.scrollLeft+=r.right-n.right)),e=e.parentNode}function sr(e,t){return e.bottom>t.bottom}function cr(e,t){return e.top<t.top}function ur(e,t){return e.left<t.left}function lr(e,t){return e.right>t.right}function hr(e){return Hn(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function dr(e){if(Hn(e)){var t=e.commonAncestorContainer;return Qn(t)&&(t=t.parentNode),t}return e.parentNode}function fr(e,t){var n=hr(e),r=new qn(e);if(n===t)return r;for(var i=n;i!=t;){var o=new qn(i.frameElement).excludeScrollbarsAndBorders();r.moveBy(o.left,o.top),i=i.parent}return r}var Ar={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},pr={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},gr=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var r=112;r<=123;r++)e["f"+(r-111)]=r;var i,o=_createForOfIteratorHelper("`-=[];',./\\");try{for(o.s();!(i=o.n()).done;){var a=i.value;e[a]=a.charCodeAt(0)}}catch(s){o.e(s)}finally{o.f()}return e}(),vr=Object.fromEntries(Object.entries(gr).map((function(e){var t=_slicedToArray(e,2),n=t[0];return[t[1],n.charAt(0).toUpperCase()+n.slice(1)]})));function mr(e){var t;if("string"==typeof e){if(!(t=gr[e.toLowerCase()]))throw new C("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?gr.alt:0)+(e.ctrlKey?gr.ctrl:0)+(e.shiftKey?gr.shift:0)+(e.metaKey?gr.cmd:0);return t}function br(e){return"string"==typeof e&&(e=function(e){return e.split("+").map((function(e){return e.trim()}))}(e)),e.map((function(e){return"string"==typeof e?function(e){if(e.endsWith("!"))return mr(e.slice(0,-1));var t=mr(e);return c&&t==gr.ctrl?gr.cmd:t}(e):e})).reduce((function(e,t){return t+e}),0)}function yr(e){var t=br(e);return Object.entries(c?Ar:pr).reduce((function(e,n){var r=_slicedToArray(n,2),i=r[0],o=r[1];return 0!=(t&gr[i])&&(t&=~gr[i],e+=o),e}),"")+(t?vr[t]:"")}function wr(e,t){var n="ltr"===t;switch(e){case gr.arrowleft:return n?"left":"right";case gr.arrowright:return n?"right":"left";case gr.arrowup:return"up";case gr.arrowdown:return"down"}}function _r(e){return Array.isArray(e)?e:[e]}Un.window.CKEDITOR_TRANSLATIONS||(Un.window.CKEDITOR_TRANSLATIONS={});var kr=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Cr(e){return kr.includes(e)?"rtl":"ltr"}var Sr=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.uiLanguage,i=void 0===r?"en":r,o=n.contentLanguage;_classCallCheck(this,e),this.uiLanguage=i,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=Cr(this.uiLanguage),this.contentLanguageDirection=Cr(this.contentLanguage),this.t=function(e,n){return t._t(e,n)}}return _createClass(e,[{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}},{key:"_t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t=_r(t),"string"==typeof e&&(e={string:e}),function(e,t){return e.replace(/%(\d+)/g,(function(e,n){return n<t.length?t[n]:e}))}(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof n)throw new C("translation-service-quantity-not-a-number",null,{quantity:n});var r=Object.keys(Un.window.CKEDITOR_TRANSLATIONS).length;1===r&&(e=Object.keys(Un.window.CKEDITOR_TRANSLATIONS)[0]);var i=t.id||t.string;if(0===r||!function(e,t){return!!Un.window.CKEDITOR_TRANSLATIONS[e]&&!!Un.window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}(e,i))return 1!==n?t.plural:t.string;var o=Un.window.CKEDITOR_TRANSLATIONS[e].dictionary[i];return"string"==typeof o?o:o[Number((Un.window.CKEDITOR_TRANSLATIONS[e].getPluralForm||function(e){return 1===e?0:1})(n))]}(this.uiLanguage,e,e.plural?t[0]:1),t)}}]),e}(),xr=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,r),e=n.call(this);var o=re(t);if(o||(i=t),e._items=[],e._itemMap=new Map,e._idProperty=i.idProperty||"id",e._bindToExternalToInternalMap=new WeakMap,e._bindToInternalToExternalMap=new WeakMap,e._skippedIndexesFromExternal=[],o){var a,s=_createForOfIteratorHelper(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;e._items.push(c),e._itemMap.set(e._getItemIdBeforeAdding(c),c)}}catch(u){s.e(u)}finally{s.f()}}return e}return _createClass(r,[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(e,t){return this.addMany([e],t)}},{key:"addMany",value:function(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new C("collection-add-item-invalid-index",this);var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=this._getItemIdBeforeAdding(o),s=t+r;this._items.splice(s,0,o),this._itemMap.set(a,o),this.fire("add",o,s),r++}}catch(c){i.e(c)}finally{i.f()}return this.fire("change",{added:e,removed:[],index:t}),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new C("collection-get-invalid-arg",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){if("string"==typeof e)return this._itemMap.has(e);var t=e[this._idProperty];return t&&this._itemMap.has(t)}},{key:"getIndex",value:function(e){var t;return(t="string"==typeof e?this._itemMap.get(e):e)?this._items.indexOf(t):-1}},{key:"remove",value:function(e){var t=_slicedToArray(this._remove(e),2),n=t[0],r=t[1];return this.fire("change",{added:[],removed:[n],index:r}),n}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var e=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}},{key:"bindTo",value:function(e){var t=this;if(this._bindToCollection)throw new C("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding((function(t){return new e(t)}))},using:function(e){t._setUpBindToBinding("function"==typeof e?e:function(t){return t[e]})}}}},{key:"_setUpBindToBinding",value:function(e){var t,n=this,r=this._bindToCollection,i=function(t,i,o){var a=r._bindToCollection==n,s=r._bindToInternalToExternalMap.get(i);if(a&&s)n._bindToExternalToInternalMap.set(i,s),n._bindToInternalToExternalMap.set(s,i);else{var c=e(i);if(!c)return void n._skippedIndexesFromExternal.push(o);var u,l=o,h=_createForOfIteratorHelper(n._skippedIndexesFromExternal);try{for(h.s();!(u=h.n()).done;){o>u.value&&l--}}catch(p){h.e(p)}finally{h.f()}var d,f=_createForOfIteratorHelper(r._skippedIndexesFromExternal);try{for(f.s();!(d=f.n()).done;){l>=d.value&&l++}}catch(p){f.e(p)}finally{f.f()}n._bindToExternalToInternalMap.set(i,c),n._bindToInternalToExternalMap.set(c,i),n.add(c,l);for(var A=0;A<r._skippedIndexesFromExternal.length;A++)l<=r._skippedIndexesFromExternal[A]&&r._skippedIndexesFromExternal[A]++}},o=_createForOfIteratorHelper(r);try{for(o.s();!(t=o.n()).done;){var a=t.value;i(0,a,r.getIndex(a))}}catch(s){o.e(s)}finally{o.f()}this.listenTo(r,"add",i),this.listenTo(r,"remove",(function(e,t,r){var i=n._bindToExternalToInternalMap.get(t);i&&n.remove(i),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce((function(e,t){return r<t&&e.push(t-1),r>t&&e.push(t),e}),[])}))}},{key:"_getItemIdBeforeAdding",value:function(e){var t,n=this._idProperty;if(n in e){if("string"!=typeof(t=e[n]))throw new C("collection-add-invalid-id",this);if(this.get(t))throw new C("collection-add-item-already-exists",this)}else e[n]=t=w();return t}},{key:"_remove",value:function(e){var t,n,r,i=!1,o=this._idProperty;if("string"==typeof e?(n=e,i=!(r=this._itemMap.get(n)),r&&(t=this._items.indexOf(r))):"number"==typeof e?(t=e,i=!(r=this._items[t]),r&&(n=r[o])):(n=(r=e)[o],i=-1==(t=this._items.indexOf(r))||!this._itemMap.get(n)),i)throw new C("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);var a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,t),[r,t]}},{key:t,value:function(){return this._items[Symbol.iterator]()}}]),r}(R(),Symbol.iterator);function Er(e){var t=e.next();return t.done?null:t.value}var Ir=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._elements=new Set,e._nextEventLoopTimeout=null,e.set("isFocused",!1),e.set("focusedElement",null),e}return _createClass(n,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new C("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(function(){return t._focus(e)}),{useCapture:!0}),this.listenTo(e,"blur",(function(){return t._blur()}),{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){e.focusedElement=null,e.isFocused=!1}),0)}}]),n}(Pn(W())),Br=function(){function e(){_classCallCheck(this,e),this._listener=new(Pn())}return _createClass(e,[{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",(function(e,n){t._listener.fire("_keydown:"+mr(n),n)}))}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=br(e);this._listener.listenTo(this._listener,"_keydown:"+r,(function(e,n){t(n,(function(){n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:n.priority})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+mr(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),e}();function Dr(e){return re(e)?new Map(e):function(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e)}function Tr(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function Or(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var Fr=function(){var e=/(?:\uD83C[\uDDE6-\uDDFF]){2}/.source,t="(?:"+[/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])(?:\uDB40[\uDC20-\uDC7E])+(?:\uDB40\uDC7F)/,/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])\uFE0F?\u20E3/,/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])\uFE0F/,/(?=(?:[\xA6\xA9\xAE\xB0\u0482\u058D\u058E\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u09FA\u0B70\u0BF3-\u0BF8\u0BFA\u0C7F\u0D4F\u0D79\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116\u2117\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u214A\u214C\u214D\u214F\u218A\u218B\u2195-\u2199\u219C-\u219F\u21A1\u21A2\u21A4\u21A5\u21A7-\u21AD\u21AF-\u21CD\u21D0\u21D1\u21D3\u21D5-\u21F3\u2300-\u2307\u230C-\u231F\u2322-\u2328\u232B-\u237B\u237D-\u239A\u23B4-\u23DB\u23E2-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u25B6\u25B8-\u25C0\u25C2-\u25F7\u2600-\u266E\u2670-\u2767\u2794-\u27BF\u2800-\u28FF\u2B00-\u2B2F\u2B45\u2B46\u2B4D-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA828-\uA82B\uA836\uA837\uA839\uAA77-\uAA79\uFD40-\uFD4F\uFDCF\uFDFD-\uFDFF\uFFE4\uFFE8\uFFED\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFDC\uDFE1-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838\uDD4F|\uD83B[\uDCAC\uDD2E]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFA]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]))(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])(?:\uD83C[\uDFFB-\uDFFF])*/].map((function(e){return e.source})).join("|")+")";return new RegExp("".concat(e,"|").concat(t,"(?:\u200d").concat(t,")*"),"ug")}();function Rr(e,t){var n=String(e).matchAll(Fr);return Array.from(n).some((function(e){return e.index<t&&t<e.index+e[0].length}))}var Pr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).editor=e,r.set("isEnabled",!0),r._disableStack=new Set,r}return _createClass(n,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Nr,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Nr),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),n}(W());function Nr(e){e.return=!1,e.stop()}var Mr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).editor=e,r.set("value",void 0),r.set("isEnabled",!1),r._affectsData=!0,r._disableStack=new Set,r.decorate("execute"),r.listenTo(r.editor.model.document,"change",(function(){r.refresh()})),r.on("execute",(function(e){r.isEnabled||e.stop()}),{priority:"high"}),r.listenTo(e,"change:isReadOnly",(function(e,t,n){n&&r.affectsData?r.forceDisabled("readOnlyMode"):r.clearForceDisabled("readOnlyMode")})),r}return _createClass(n,[{key:"affectsData",get:function(){return this._affectsData},set:function(e){this._affectsData=e}},{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Lr,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Lr),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),n}(W());function Lr(e){e.return=!1,e.stop()}var Ur=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._childCommandsDefinitions=[],r}return _createClass(n,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=this._getFirstEnabledCommand(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!!e&&e.execute(n)}},{key:"registerChildCommand",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(this._childCommandsDefinitions,{command:e,priority:n.priority||"normal"}),e.on("change:isEnabled",(function(){return t._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){var e=this._childCommandsDefinitions.find((function(e){return e.command.isEnabled}));return e&&e.command}}]),n}(Mr),jr=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,r),(t=n.call(this))._context=e,t._plugins=new Map,t._availablePlugins=new Map;var a,s=_createForOfIteratorHelper(i);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.pluginName&&t._availablePlugins.set(c.pluginName,c)}}catch(A){s.e(A)}finally{s.f()}t._contextPlugins=new Map;var u,l=_createForOfIteratorHelper(o);try{for(l.s();!(u=l.n()).done;){var h=_slicedToArray(u.value,2),d=h[0],f=h[1];t._contextPlugins.set(d,f),t._contextPlugins.set(f,d),d.pluginName&&t._availablePlugins.set(d.pluginName,d)}}catch(A){l.e(A)}finally{l.f()}return t}return _createClass(r,[{key:t,value:_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper(this._plugins),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(r=n.value,e.t0="function"==typeof r[0],!e.t0){e.next=9;break}return e.next=9,r;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"get",value:function(e){var t=this._plugins.get(e);if(!t){var n=e;throw"function"==typeof e&&(n=e.pluginName||e.name),new C("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this,i=this._context;!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;t.forEach((function(t){s(t)&&(n.has(t)||(n.add(t),t.pluginName&&!r._availablePlugins.has(t.pluginName)&&r._availablePlugins.set(t.pluginName,t),t.requires&&e(t.requires,n)))}))}(e),h(e);var o=_toConsumableArray(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.map((function(e){return s(e)?e:r._availablePlugins.get(e)})).reduce((function(t,r){return n.has(r)?t:(n.add(r),r.requires&&(h(r.requires,r),e(r.requires,n).forEach((function(e){return t.add(e)}))),t.add(r))}),new Set)}(e.filter((function(e){return!u(e,t)}))));!function(e,t){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("function"!=typeof o)throw new C("plugincollection-replace-plugin-invalid-type",null,{pluginItem:o});var a=o.pluginName;if(!a)throw new C("plugincollection-replace-plugin-missing-name",null,{pluginItem:o});if(o.requires&&o.requires.length)throw new C("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:a});var s=r._availablePlugins.get(a);if(!s)throw new C("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:a});var c=e.indexOf(s);if(-1===c){if(r._contextPlugins.has(s))return;throw new C("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:a})}if(s.requires&&s.requires.length)throw new C("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:a});e.splice(c,1,o),r._availablePlugins.set(a,o)}}catch(u){i.e(u)}finally{i.f()}}(o,n);var a=function(e){return e.map((function(e){var t=r._contextPlugins.get(e);return t=t||new e(i),r._add(e,t),t}))}(o);return d(a,"init").then((function(){return d(a,"afterInit")})).then((function(){return a}));function s(e){return"function"==typeof e}function c(e){return s(e)&&e.isContextPlugin}function u(e,t){return t.some((function(t){return t===e||l(e)===t||l(t)===e}))}function l(e){return s(e)?e.pluginName||e.name:e}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.map((function(e){return s(e)?e:r._availablePlugins.get(e)||e})).forEach((function(e){!function(e,t){if(!s(e)){if(t)throw new C("plugincollection-soft-required",i,{missingPlugin:e,requiredBy:l(t)});throw new C("plugincollection-plugin-not-found",i,{plugin:e})}}(e,n),function(e,t){if(c(t)&&!c(e))throw new C("plugincollection-context-required",i,{plugin:l(e),requiredBy:l(t)})}(e,n),function(e,n){if(n&&u(e,t))throw new C("plugincollection-required",i,{plugin:l(e),requiredBy:l(n)})}(e,n)}))}function d(e,t){return e.reduce((function(e,n){return n[t]?r._contextPlugins.has(n)?e:e.then(n[t].bind(n)):e}),Promise.resolve())}}},{key:"destroy",value:function(){var e,t=[],n=_createForOfIteratorHelper(this);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2)[1];"function"!=typeof r.destroy||this._contextPlugins.has(r)||t.push(r.destroy())}}catch(i){n.e(i)}finally{n.f()}return Promise.all(t)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new C("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]),r}(R(),Symbol.iterator),Qr=function(){function e(t){_classCallCheck(this,e),this.config=new Bn(t,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new jr(this,n);var r=this.config.get("language")||{};this.locale=new Sr({uiLanguage:"string"==typeof r?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new xr,this._contextOwner=null}return _createClass(e,[{key:"initPlugins",value:function(){var e,t=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[],r=_createForOfIteratorHelper(t.concat(n));try{for(r.s();!(e=r.n()).done;){var i=e.value;if("function"!=typeof i)throw new C("context-initplugins-constructor-only",null,{Plugin:i});if(!0!==i.isContextPlugin)throw new C("context-initplugins-invalid-plugin",null,{Plugin:i})}}catch(o){r.e(o)}finally{r.f()}return this.plugins.init(t,[],n)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,(function(e){return e.destroy()}))).then((function(){return e.plugins.destroy()}))}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new C("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e,t={},n=_createForOfIteratorHelper(this.config.names());try{for(n.s();!(e=n.n()).done;){var r=e.value;["plugins","removePlugins","extraPlugins"].includes(r)||(t[r]=this.config.get(r))}}catch(i){n.e(i)}finally{n.f()}return t}}],[{key:"create",value:function(e){var t=this;return new Promise((function(n){var r=new t(e);n(r.initPlugins().then((function(){return r})))}))}}]),e}(),Hr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).context=e,r}return _createClass(n,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),n}(W()),Vr=i(6062),zr=i.n(Vr),qr=i(4717);zr()(qr.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Kr=new WeakMap;function Gr(e){var t=e.view,n=e.element,r=e.text,i=e.isDirectHost,o=void 0===i||i,a=e.keepOnFocus,s=void 0!==a&&a,c=t.document;Kr.has(c)||(Kr.set(c,new Map),c.registerPostFixer((function(e){return Wr(c,e)})),c.on("change:isComposing",(function(){t.change((function(e){return Wr(c,e)}))}),{priority:"high"})),Kr.get(c).set(n,{text:r,isDirectHost:o,keepOnFocus:s,hostElement:o?n:null}),t.change((function(e){return Wr(c,e)}))}function Wr(e,t){var n,r=Kr.get(e),i=[],o=!1,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=_slicedToArray(n.value,2),c=s[0],u=s[1];u.isDirectHost&&(i.push(c),Yr(t,c,u)&&(o=!0))}}catch(g){a.e(g)}finally{a.f()}var l,h=_createForOfIteratorHelper(r);try{for(h.s();!(l=h.n()).done;){var d=_slicedToArray(l.value,2),f=d[0],A=d[1];if(!A.isDirectHost){var p=Jr(f);p&&(i.includes(p)||(A.hostElement=p,Yr(t,f,A)&&(o=!0)))}}}catch(g){h.e(g)}finally{h.f()}return o}function Yr(e,t,n){var r=n.text,i=n.isDirectHost,o=n.hostElement,a=!1;return o.getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,o),a=!0),(i||1==t.childCount)&&function(e,t){if(!e.isAttached())return!1;if(Array.from(e.getChildren()).some((function(e){return!e.is("uiElement")})))return!1;var n=e.document,r=n.selection.anchor;return!(n.isComposing&&r&&r.parent===e||!t&&n.isFocused&&(!r||r.parent===e))}(o,n.keepOnFocus)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,o)&&(a=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,o)&&(a=!0),a}function Jr(e){if(e.childCount){var t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}var Xr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"is",value:function(){throw new Error("is() method is abstract")}}]),e}(),Zr=function(e){return xn(e,4)},$r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).document=e,r.parent=null,r}return _createClass(n,[{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new C("view-node-not-found-in-parent",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),r=e.getAncestors(t),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=ne(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:".concat(e),t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=Zr(this);return delete e.parent,e}}]),n}(R(Xr));$r.prototype.is=function(e){return"node"===e||"view:node"===e};var ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e))._textData=r,i}return _createClass(n,[{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}},{key:"isSimilar",value:function(e){return e instanceof n&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new n(this.document,this.data)}}]),n}($r);ei.prototype.is=function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e};var ti=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),(o=t.call(this)).textNode=e,r<0||r>e.data.length)throw new C("view-textproxy-wrong-offsetintext",_assertThisInitialized(o));if(i<0||r+i>e.data.length)throw new C("view-textproxy-wrong-length",_assertThisInitialized(o));return o.data=e.data.substring(r,r+i),o.offsetInText=r,_possibleConstructorReturn(o)}return _createClass(n,[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}]),n}(Xr);ti.prototype.is=function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e};var ni=function(){function e(){_classCallCheck(this,e),this._patterns=[],this.add.apply(this,arguments)}return _createClass(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];("string"==typeof o||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o,a=i[r],s=_createForOfIteratorHelper(this._patterns);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=ri(a,c);if(u)return{element:a,pattern:c,match:u}}}catch(l){s.e(l)}finally{s.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,s=o[i],c=_createForOfIteratorHelper(this._patterns);try{for(c.s();!(a=c.n()).done;){var u=a.value,l=ri(s,u);l&&e.push({element:s,pattern:u,match:l})}}catch(h){c.e(h)}finally{c.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),e}();function ri(e,t){if("function"==typeof t)return t(e);var n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?!!t.match(e):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){var n=new Set(t.getAttributeKeys());return Ce(e)?(void 0!==e.style&&S("matcher-pattern-deprecated-attributes-style-key",e),void 0!==e.class&&S("matcher-pattern-deprecated-attributes-class-key",e)):(n.delete("style"),n.delete("class")),ii(e,n,(function(e){return t.getAttribute(e)}))}(t.attributes,e),!n.attributes)||t.classes&&(n.classes=function(e,t){return ii(e,t.getClassNames(),(function(){}))}(t.classes,e),!n.classes)||t.styles&&(n.styles=function(e,t){return ii(e,t.getStyleNames(!0),(function(e){return t.getStyle(e)}))}(t.styles,e),!n.styles)?null:n}function ii(e,t,n){var r=function(e){return Array.isArray(e)?e.map((function(e){return Ce(e)?(void 0!==e.key&&void 0!==e.value||S("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]})):Ce(e)?Object.entries(e):[[e,!0]]}(e),i=Array.from(t),o=[];if(r.forEach((function(e){var t=_slicedToArray(e,2),r=t[0],a=t[1];i.forEach((function(e){(function(e,t){return!0===e||e===t||e instanceof RegExp&&t.match(e)})(r,e)&&function(e,t,n){if(!0===e)return!0;var r=n(t);return e===r||e instanceof RegExp&&!!String(r).match(e)}(a,e,n)&&o.push(e)}))})),r.length&&!(o.length<r.length))return o}var oi=function(e){return"symbol"==typeof e||ge(e)&&"[object Symbol]"==Ae(e)},ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,si=/^\w*$/;function ci(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ci.Cache||Ke),n}ci.Cache=Ke;var ui=ci,li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hi=/\\(\\)?/g,di=function(e){var t=ui((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(li,(function(e,n,r,i){t.push(r?i.replace(hi,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),fi=se?se.prototype:void 0,Ai=fi?fi.toString:void 0,pi=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(pe(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(oi(t))return Ai?Ai.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},gi=function(e,t){return pe(e)?e:function(e,t){if(pe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oi(e))||si.test(e)||!ai.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:di(pi(e))},vi=function(e){if("string"==typeof e||oi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},mi=function(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[vi(t[n++])];return n&&n==r?e:void 0},bi=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o},yi=function(e,t,n){var r=null==e?void 0:mi(e,t);return void 0===r?n:r},wi=function(e,t,n){(void 0!==n&&!Se(e[t],n)||void 0===n&&!(t in e))&&Je(e,t,n)},_i=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},ki=function(e){return e},Ci=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Si=Math.max,xi=function(e){return function(){return e}},Ei=Date.now,Ii=function(e){var t=0,n=0;return function(){var r=Ei(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Ye?function(e,t){return Ye(e,"toString",{configurable:!0,enumerable:!1,value:xi(t),writable:!0})}:ki),Bi=function(e){return function(e,t){return Ii(function(e,t,n){return t=Si(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Si(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Ci(e,this,s)}}(e,void 0,ki),e+"")}((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(e,t,n){if(!Q(n))return!1;var r=typeof t;return!!("number"==r?xt(n)&&lt(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))},Di=Bi((function(e,t,n){!function e(t,n,r,i,o){t!==n&&function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s))break}}(n,(function(a,s){if(o||(o=new We),Q(a))!function(e,t,n,r,i,o,a){var s=_i(e,n),c=_i(t,n),u=a.get(c);if(u)wi(e,n,u);else{var l=o?o(s,c,n+"",e,t,a):void 0,h=void 0===l;if(h){var d=pe(c),f=!d&&ct(c),A=!d&&!f&&bt(c);l=c,d||f||A?pe(s)?l=s:function(e){return ge(e)&&xt(e)}(s)?l=Pt(s):f?(h=!1,l=Rt(c,!0)):A?(h=!1,l=An(c,!0)):l=[]:Ce(c)||it(c)?(l=s,it(s)?l=function(e){return $e(e,Bt(e))}(s):Q(s)&&!De(s)||(l=vn(c))):h=!1}h&&(a.set(c,l),i(l,c,r,o,a),a.delete(c)),wi(e,n,l)}}(t,n,s,r,e,i,o);else{var c=i?i(_i(t,s),a,s+"",t,n,o):void 0;void 0===c&&(c=a),wi(t,s,c)}}),Bt)}(e,t,n)})),Ti=function(){function e(t){_classCallCheck(this,e),this._styles={},this._styleProcessor=t}return _createClass(e,[{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from(function(e){var t=null,n=0,r=0,i=null,o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(var a=0;a<e.length;a++){var s=e.charAt(a);if(null===t)switch(s){case":":i||(i=e.substr(n,a-n),r=a+1);break;case'"':case"'":t=s;break;case";":var c=e.substr(r,a-r);i&&o.set(i.trim(),c.trim()),i=null,n=a+1}else s===t&&(t=null)}return o}(e).entries());t<n.length;t++){var r=_slicedToArray(n[t],2),i=r[0],o=r[1];this._styleProcessor.toNormalizedForm(i,o,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return _slicedToArray(t,1)[0]===e}));return Array.isArray(t)}},{key:"set",value:function(e,t){if(Q(e))for(var n=0,r=Object.entries(e);n<r.length;n++){var i=_slicedToArray(r[n],2),o=i[0],a=i[1];this._styleProcessor.toNormalizedForm(o,a,this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t=Fi(e);(function(e,t){null==e||function(e,t){null==(e=function(e,t){return t.length<2?e:mi(e,bi(t,0,-1))}(e,t=gi(t,e)))||delete e[vi(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]}(e,t)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(e){return e.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!Q(this._styles[e]))return this._styles[e];var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return _slicedToArray(t,1)[0]===e}));return Array.isArray(t)?t[1]:void 0}}},{key:"getStyleNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map((function(e){return _slicedToArray(e,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var r=n[t];e.push.apply(e,_toConsumableArray(this._styleProcessor.getReducedForm(r,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t=e.split(".");if(t.length>1){var n=t.splice(0,t.length-1).join("."),r=yi(this._styles,n);r&&!Array.from(Object.keys(r)).length&&this.remove(n)}}}]),e}(),Oi=function(){function e(){_classCallCheck(this,e),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return _createClass(e,[{key:"toNormalizedForm",value:function(e,t,n){if(Q(t))Ri(n,Fi(e),t);else if(this._normalizers.has(e)){var r=this._normalizers.get(e)(t);Ri(n,r.path,r.value)}else Ri(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return Di({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return yi(t,n);var r=n(e,t);if(r)return r}return yi(t,Fi(e))}},{key:"getReducedForm",value:function(e,t){var n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}},{key:"getStyleNames",value:function(e){var t=this,n=Array.from(this._consumables.keys()).filter((function(n){var r=t.getNormalized(n,e);return r&&"object"==typeof r?Object.keys(r).length:r})),r=new Set([].concat(_toConsumableArray(n),_toConsumableArray(Object.keys(e))));return Array.from(r.values())}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._mapStyleNames(i,[e])}}catch(o){r.e(o)}finally{r.f()}}},{key:"_mapStyleNames",value:function(e,t){var n;this._consumables.has(e)||this._consumables.set(e,[]),(n=this._consumables.get(e)).push.apply(n,_toConsumableArray(t))}}]),e}();function Fi(e){return e.replace("-",".")}function Ri(e,t,n){var r=n;Q(n)&&(r=Di({},yi(e,t),n)),function(e,t,n){null==e||function(e,t,n,r){if(!Q(e))return e;for(var i=-1,o=(t=gi(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=vi(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];void 0===(u=void 0)&&(u=Q(l)?l:lt(t[i+1])?[]:{})}Ze(s,c,u),s=s[c]}}(e,t,n)}(e,t,r)}var Pi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;if(_classCallCheck(this,n),(a=t.call(this,e)).name=r,a._attrs=function(e){var t,n=Dr(e),r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var i=_slicedToArray(t.value,2),o=i[0],a=i[1];null===a?n.delete(o):"string"!=typeof a&&n.set(o,String(a))}}catch(s){r.e(s)}finally{r.f()}return n}(i),a._children=[],o&&a._insertChild(0,o),a._classes=new Set,a._attrs.has("class")){var s=a._attrs.get("class");Ni(a._classes,s),a._attrs.delete("class")}return a._styles=new Ti(a.document.stylesProcessor),a._attrs.has("style")&&(a._styles.setTo(a._attrs.get("style")),a._attrs.delete("style")),a._customProperties=new Map,a._unsafeAttributesToRender=[],_possibleConstructorReturn(a)}return _createClass(n,[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._classes.size>0,!e.t0){e.next=4;break}return e.next=4,"class";case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttributes",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=this._classes.size>0,!e.t1){e.next=5;break}return e.next=5,["class",this.getAttribute("class")];case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttribute",value:function(e){if("class"==e)return this._classes.size>0?_toConsumableArray(this._classes).join(" "):void 0;if("style"==e){var t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof n))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var t,r=_createForOfIteratorHelper(this._attrs);try{for(r.s();!(t=r.n()).done;){var i=_slicedToArray(t.value,2),o=i[0],a=i[1];if(!e._attrs.has(o)||e._attrs.get(o)!==a)return!1}}catch(f){r.e(f)}finally{r.f()}var s,c=_createForOfIteratorHelper(this._classes);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!e._classes.has(u))return!1}}catch(f){c.e(f)}finally{c.f()}var l,h=_createForOfIteratorHelper(this._styles.getStyleNames());try{for(h.s();!(l=h.n()).done;){var d=l.value;if(!e._styles.has(d)||e._styles.getAsString(d)!==this._styles.getAsString(d))return!1}}catch(f){h.e(f)}finally{h.f()}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!this._classes.has(o))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(e){return this._styles.getStyleNames(e)}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!this._styles.has(o))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=_construct(ni,t),i=this.parent;i&&!i.is("documentFragment");){if(r.match(i))return i;i=i.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')})).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" ".concat(n))}},{key:"shouldRenderUnsafeAttribute",value:function(e){return this._unsafeAttributesToRender.includes(e)}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n,r=_createForOfIteratorHelper(this.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i._clone(e))}}catch(a){r.e(a)}finally{r.f()}}var o=new this.constructor(this.document,this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,r=0,i=_createForOfIteratorHelper(function(e,t){return"string"==typeof t?[new ei(e,t)]:(re(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new ei(e,t):t instanceof ti?new ei(e,t.data):t})))}(this.document,t));try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,r++}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?Ni(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){this._fireChange("attributes",this);var t,n=_createForOfIteratorHelper(_r(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._classes.add(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_removeClass",value:function(e){this._fireChange("attributes",this);var t,n=_createForOfIteratorHelper(_r(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._classes.delete(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),Ce(e)?this._styles.set(e):this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){this._fireChange("attributes",this);var t,n=_createForOfIteratorHelper(_r(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;this._styles.remove(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}}]),n}($r);function Ni(e,t){var n=t.split(/\s+/);e.clear(),n.forEach((function(t){return e.add(t)}))}Pi.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e};var Mi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getFillerOffset=Li,e}return _createClass(n)}(Pi);function Li(){var e=_toConsumableArray(this.getChildren()),t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){if(!n.value.is("uiElement"))return null}}catch(i){r.e(i)}finally{r.f()}return this.childCount}Mi.prototype.is=function(e,t){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var Ui=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=t.call.apply(t,[this].concat(i));var a=i[0];return e.set("isReadOnly",!1),e.set("isFocused",!1),e.bind("isReadOnly").to(a),e.bind("isFocused").to(a,"isFocused",(function(t){return t&&a.selection.editableElement==_assertThisInitialized(e)})),e.listenTo(a.selection,"change",(function(){e.isFocused=a.isFocused&&a.selection.editableElement==_assertThisInitialized(e)})),e}return _createClass(n,[{key:"destroy",value:function(){this.stopListening()}}]),n}(W(Mi));Ui.prototype.is=function(e,t){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var ji=Symbol("rootName"),Qi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).rootName="main",i}return _createClass(n,[{key:"rootName",get:function(){return this.getCustomProperty(ji)},set:function(e){this._setCustomProperty(ji,e)}},{key:"_name",set:function(e){this.name=e}}]),n}(Ui);Qi.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var Hi=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),!e.boundaries&&!e.startPosition)throw new C("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new C("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,this.position=Vi._createAt(e.startPosition?e.startPosition:e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return _createClass(t,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,r;do{var i;r=this.position,t=(i=this.next()).done,n=i.value}while(!t&&e(n));t||(this.position=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t=this.position.clone(),n=this.position,r=t.parent;if(null===r.parent&&t.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};if(r instanceof ei){if(t.isAtEnd)return this.position=Vi._createAfter(r),this._next();e=r.data[t.offset]}else e=r.getChild(t.offset);if(e instanceof Pi)return this.shallow?t.offset++:t=new Vi(e,0),this.position=t,this._formatReturnValue("elementStart",e,n,t,1);if(e instanceof ei){if(this.singleCharacters)return t=new Vi(e,0),this.position=t,this._next();var i,o=e.data.length;return e==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new ti(e,0,o),t=Vi._createAfter(i)):(i=new ti(e,0,e.data.length),t.offset++),this.position=t,this._formatReturnValue("text",i,n,t,o)}if("string"==typeof e){var a;a=this.singleCharacters?1:(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-t.offset;var s=new ti(r,t.offset,a);return t.offset+=a,this.position=t,this._formatReturnValue("text",s,n,t,a)}return t=Vi._createAfter(r),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,t)}},{key:"_previous",value:function(){var e,t=this.position.clone(),n=this.position,r=t.parent;if(null===r.parent&&0===t.offset)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};if(r instanceof ei){if(t.isAtStart)return this.position=Vi._createBefore(r),this._previous();e=r.data[t.offset-1]}else e=r.getChild(t.offset-1);if(e instanceof Pi)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",e,n,t,1)):(t=new Vi(e,e.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",e,n,t));if(e instanceof ei){if(this.singleCharacters)return t=new Vi(e,e.data.length),this.position=t,this._previous();var i,o=e.data.length;if(e==this._boundaryStartParent){var a=this.boundaries.start.offset;o=(i=new ti(e,a,e.data.length-a)).data.length,t=Vi._createBefore(i)}else i=new ti(e,0,e.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",i,n,t,o)}if("string"==typeof e){var s;s=this.singleCharacters?1:t.offset-(r===this._boundaryStartParent?this.boundaries.start.offset:0),t.offset-=s;var c=new ti(r,t.offset,s);return this.position=t,this._formatReturnValue("text",c,n,t,s)}return t=Vi._createBefore(r),this.position=t,this._formatReturnValue("elementStart",r,n,t,1)}},{key:"_formatReturnValue",value:function(e,t,n,r,i){return t instanceof ti&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Vi._createAfter(t.textNode):(r=Vi._createAfter(t.textNode),this.position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Vi._createBefore(t.textNode):(r=Vi._createBefore(t.textNode),this.position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}}]),t}(),Vi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).parent=e,i.offset=r,i}return _createClass(n,[{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof Ui);){if(!e.parent)return null;e=e.parent}return e}},{key:"getShiftedBy",value:function(e){var t=n._createAt(this),r=t.offset+e;return t.offset=r<0?0:r,t}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Hi(t);return n.skip(e),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var r=ne(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new Hi(e)}},{key:"clone",value:function(){return new n(this.parent,this.offset)}}],[{key:"_createAt",value:function(e,t){if(e instanceof n)return new this(e.parent,e.offset);var r=e;if("end"==t)t=r.is("$text")?r.data.length:r.childCount;else{if("before"==t)return this._createBefore(r);if("after"==t)return this._createAfter(r);if(0!==t&&!t)throw new C("view-createpositionat-offset-required",r)}return new n(r,t)}},{key:"_createAfter",value:function(e){if(e.is("$textProxy"))return new n(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new C("view-position-after-root",e,{root:e});return new n(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("$textProxy"))return new n(e.textNode,e.offsetInText);if(!e.parent)throw new C("view-position-before-root",e,{root:e});return new n(e.parent,e.index)}}]),n}(Xr);Vi.prototype.is=function(e){return"position"===e||"view:position"===e};var zi=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,r),(t=n.call(this)).start=e.clone(),t.end=i?i.clone():e.clone(),t}return _createClass(r,[{key:t,value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Hi({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(qi,{direction:"backward"}),t=this.end.getLastMatchingPosition(qi);return e.parent.is("$text")&&e.isAtStart&&(e=Vi._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Vi._createAfter(t.parent)),new r(e,t)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(qi);if(e.isAfter(this.end)||e.isEqual(this.end))return new r(e,e);var t=this.end.getLastMatchingPosition(qi,{direction:"backward"}),n=e.nodeAfter,i=t.nodeBefore;return n&&n.is("$text")&&(e=new Vi(n,0)),i&&i.is("$text")&&(t=new Vi(i,i.data.length)),new r(e,t)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}},{key:"getDifference",value:function(e){var t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new r(this.start,e.start)),this.containsPosition(e.end)&&t.push(new r(e.end,this.end))):t.push(this.clone()),t}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new r(t,n)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Hi(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new r(this.start,this.end)}},{key:"getItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _regeneratorRuntime().mark((function n(){var r,i,o,a;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.boundaries=e,t.ignoreElementEnd=!0,r=new Hi(t),i=_createForOfIteratorHelper(r),n.prev=3,i.s();case 5:if((o=i.n()).done){n.next=11;break}return a=o.value,n.next=9,a.item;case 9:n.next=5;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,13,16,19]])}))()}},{key:"getPositions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _regeneratorRuntime().mark((function n(){var r,i,o,a;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.boundaries=e,r=new Hi(t),n.next=4,r.position;case 4:i=_createForOfIteratorHelper(r),n.prev=5,i.s();case 7:if((o=i.n()).done){n.next=13;break}return a=o.value,n.next=11,a.nextPosition;case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,15,18,21]])}))()}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,r){return new this(new Vi(e,t),new Vi(n,r))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Vi._createBefore(e),t)}}]),r}(Xr,Symbol.iterator);function qi(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}zi.prototype.is=function(e){return"range"===e||"view:range"===e};var Ki=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r;return _classCallCheck(this,n),(r=t.call(this))._ranges=[],r._lastRangeBackward=!1,r._isFake=!1,r._fakeSelectionLabel="",arguments.length&&(e=r).setTo.apply(e,arguments),r}return _createClass(n,[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.clone();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.start.isBefore(t.start)||(t=r)}}catch(i){n.e(i)}finally{n.f()}return t?t.clone():null}},{key:"getLastRange",value:function(){var e,t=null,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.end.isAfter(t.end)||(t=r)}}catch(i){n.e(i)}finally{n.f()}return t?t.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=!1,a=_createForOfIteratorHelper(e._ranges);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i.isEqual(s)){o=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(!o)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=te(this.getRanges());if(t!=te(e.getRanges()))return!1;if(0==t)return!0;var n,r=_createForOfIteratorHelper(this.getRanges());try{for(r.s();!(n=r.n()).done;){var i=n.value;i=i.getTrimmed();var o,a=!1,s=_createForOfIteratorHelper(e.getRanges());try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c=c.getTrimmed(),i.start.isEqual(c.start)&&i.end.isEqual(c.end)){a=!0;break}}}catch(u){s.e(u)}finally{s.f()}if(!a)return!1}}catch(u){r.e(u)}finally{r.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];if("object"==typeof o&&(a=o,o=void 0),null===i)this._setRanges([]),this._setFakeOptions(a);else if(i instanceof n||i instanceof Gi)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof zi)this._setRanges([i],a&&a.backward),this._setFakeOptions(a);else if(i instanceof Vi)this._setRanges([new zi(i)]),this._setFakeOptions(a);else if(i instanceof $r){var s,c=!!a&&!!a.backward;if(void 0===o)throw new C("view-selection-setto-required-second-parameter",this);s="in"==o?zi._createIn(i):"on"==o?zi._createOn(i):new zi(Vi._createAt(i,o)),this._setRanges([s],c),this._setFakeOptions(a)}else{if(!re(i))throw new C("view-selection-setto-not-selectable",this);this._setRanges(i,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new C("view-selection-setfocus-no-ranges",this);var n=Vi._createAt(e,t);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new zi(n,r),!0):this._addRange(new zi(r,n)),this.fire("change")}}},{key:"_setRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._addRange(i)}}catch(o){r.e(o)}finally{r.f()}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof zi))throw new C("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.isIntersecting(r))throw new C("view-selection-range-intersects",this,{addedRange:e,intersectingRange:r})}}catch(i){n.e(i)}finally{n.f()}this._ranges.push(new zi(e.start,e.end))}}]),n}(R(Xr));Ki.prototype.is=function(e){return"selection"===e||"view:selection"===e};var Gi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r;return _classCallCheck(this,n),(r=t.call(this))._selection=new Ki,r._selection.delegate("change").to(_assertThisInitialized(r)),arguments.length&&(e=r._selection).setTo.apply(e,arguments),r}return _createClass(n,[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"_setTo",value:function(){var e;(e=this._selection).setTo.apply(e,arguments)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}}]),n}(R(Xr));Gi.prototype.is=function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e};var Wi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).startRange=i,o._eventPhase="none",o._currentTarget=null,o}return _createClass(n,[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}]),n}(b),Yi=Symbol("bubbling contexts");function Ji(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"fire",value:function(e){try{var t=e instanceof b?e:new b(this,e),n=to(this);if(!n.size)return;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(Zi(t,"capturing",this),$i.apply(void 0,[n,"$capture",t].concat(i)))return t.return;var a=t.startRange||this.selection.getFirstRange(),s=a?a.getContainedElement():null,c=!!s&&Boolean(eo(n,s)),u=s||function(e){if(!e)return null;var t=e.start.parent,n=e.end.parent,r=t.getPath(),i=n.getPath();return r.length>i.length?t:n}(a);if(Zi(t,"atTarget",u),!c){if($i.apply(void 0,[n,"$text",t].concat(i)))return t.return;Zi(t,"bubbling",u)}for(;u;){if(u.is("rootElement")){if($i.apply(void 0,[n,"$root",t].concat(i)))return t.return}else if(u.is("element")&&$i.apply(void 0,[n,u.name,t].concat(i)))return t.return;if($i.apply(void 0,[n,u,t].concat(i)))return t.return;Zi(t,"bubbling",u=u.parent)}return Zi(t,"bubbling",this),$i.apply(void 0,[n,"$document",t].concat(i)),t.return}catch(e){C.rethrowUnexpectedError(e,this)}}},{key:"_addEventListener",value:function(e,t,n){var r,i=_r(n.context||"$document"),o=to(this),a=_createForOfIteratorHelper(i);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=o.get(s);c||(c=new(R()),o.set(s,c)),this.listenTo(c,e,t,n)}}catch(u){a.e(u)}finally{a.f()}}},{key:"_removeEventListener",value:function(e,t){var n,r=_createForOfIteratorHelper(to(this).values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.stopListening(i,e,t)}}catch(o){r.e(o)}finally{r.f()}}}]),n}(e)}var Xi=Ji(Object);function Zi(e,t,n){e instanceof Wi&&(e._eventPhase=t,e._currentTarget=n)}function $i(e,t,n){for(var r="string"==typeof t?e.get(t):eo(e,t),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return!!r&&(r.fire.apply(r,[n].concat(o)),n.stop.called)}function eo(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),o=i[0],a=i[1];if("function"==typeof o&&o(t))return a}}catch(s){r.e(s)}finally{r.f()}return null}function to(e){return e[Yi]||(e[Yi]=new Map),e[Yi]}["fire","_addEventListener","_removeEventListener"].forEach((function(e){Ji[e]=Xi.prototype[e]}));var no=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).selection=new Gi,r.roots=new xr({idProperty:"rootName"}),r.stylesProcessor=e,r.set("isReadOnly",!1),r.set("isFocused",!1),r.set("_isFocusChanging",!1),r.set("isSelecting",!1),r.set("isComposing",!1),r._postFixers=new Set,r}return _createClass(n,[{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map((function(e){return e.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,r=_createForOfIteratorHelper(this._postFixers);try{for(r.s();!(n=r.n()).done;){if(t=(0,n.value)(e))break}}catch(i){r.e(i)}finally{r.f()}}while(t)}}]),n}(Ji(W())),ro=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getFillerOffset=io,e._priority=10,e._id=null,e._clonesGroup=null,e}return _createClass(n,[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new C("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:_get(_getPrototypeOf(n.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=_get(_getPrototypeOf(n.prototype),"_clone",this).call(this,e);return t._priority=this._priority,t._id=this._id,t}}]),n}(Pi);function io(){if(oo(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(oo(e)>1)return null;e=e.parent}return!e||oo(e)>1?null:this.childCount}function oo(e){return Array.from(e.getChildren()).filter((function(e){return!e.is("uiElement")})).length}ro.DEFAULT_PRIORITY=10,ro.prototype.is=function(e,t){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var ao=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i,o)).getFillerOffset=so,a}return _createClass(n,[{key:"_insertChild",value:function(e,t){if(t&&(t instanceof $r||Array.from(t).length>0))throw new C("view-emptyelement-cannot-add",[this,t]);return 0}}]),n}(Pi);function so(){return null}ao.prototype.is=function(e,t){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var co=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getFillerOffset=uo,e}return _createClass(n,[{key:"_insertChild",value:function(e,t){if(t&&(t instanceof $r||Array.from(t).length>0))throw new C("view-uielement-cannot-add",[this,t]);return 0}},{key:"render",value:function(e,t){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t,n=e.createElement(this.name),r=_createForOfIteratorHelper(this.getAttributeKeys());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.setAttribute(i,this.getAttribute(i))}}catch(o){r.e(o)}finally{r.f()}return n}}]),n}(Pi);function uo(){return null}co.prototype.is=function(e,t){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var lo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).getFillerOffset=ho,e}return _createClass(n,[{key:"_insertChild",value:function(e,t){if(t&&(t instanceof $r||Array.from(t).length>0))throw new C("view-rawelement-cannot-add",[this,t]);return 0}},{key:"render",value:function(){}}]),n}(Pi);function ho(){return null}lo.prototype.is=function(e,t){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e};var fo=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this)).document=e,i._children=[],t&&i._insertChild(0,t),i}return _createClass(r,[{key:t,value:function(){return this._children[Symbol.iterator]()}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n,r=0,i=_createForOfIteratorHelper(function(e,t){return"string"==typeof t?[new ei(e,t)]:(re(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new ei(e,t):t instanceof ti?new ei(e,t.data):t})))}(this.document,t));try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,r++}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}}]),r}(R(Xr),Symbol.iterator);fo.prototype.is=function(e){return"documentFragment"===e||"view:documentFragment"===e};var Ao=function(){function e(t){_classCallCheck(this,e),this.document=t,this._cloneGroups=new Map,this._slotFactory=null}return _createClass(e,[{key:"setSelection",value:function(){var e;(e=this.document.selection)._setTo.apply(e,arguments)}},{key:"setSelectionFocus",value:function(){var e;(e=this.document.selection)._setFocus.apply(e,arguments)}},{key:"createDocumentFragment",value:function(e){return new fo(this.document,e)}},{key:"createText",value:function(e){return new ei(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new ro(this.document,e,t);return"number"==typeof r.priority&&(i._priority=r.priority),r.id&&(i._id=r.id),r.renderUnsafeAttributes&&(n=i._unsafeAttributesToRender).push.apply(n,_toConsumableArray(r.renderUnsafeAttributes)),i}},{key:"createContainerElement",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=null;Ce(r)?i=r:o=r;var a=new Mi(this.document,e,t,o);return i.renderUnsafeAttributes&&(n=a._unsafeAttributesToRender).push.apply(n,_toConsumableArray(i.renderUnsafeAttributes)),a}},{key:"createEditableElement",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Ui(this.document,e,t);return r.renderUnsafeAttributes&&(n=i._unsafeAttributesToRender).push.apply(n,_toConsumableArray(r.renderUnsafeAttributes)),i}},{key:"createEmptyElement",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new ao(this.document,e,t);return r.renderUnsafeAttributes&&(n=i._unsafeAttributesToRender).push.apply(n,_toConsumableArray(r.renderUnsafeAttributes)),i}},{key:"createUIElement",value:function(e,t,n){var r=new co(this.document,e,t);return n&&(r.render=n),r}},{key:"createRawElement",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new lo(this.document,e,t);return n&&(o.render=n),i.renderUnsafeAttributes&&(r=o._unsafeAttributesToRender).push.apply(r,_toConsumableArray(i.renderUnsafeAttributes)),o}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){Ce(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof Vi?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t=e.parent;if(!t.is("containerElement"))throw new C("view-writer-break-non-container-element",this.document);if(!t.parent)throw new C("view-writer-break-root",this.document);if(e.isAtStart)return Vi._createBefore(t);if(!e.isAtEnd){var n=t._clone(!1);this.insert(Vi._createAfter(t),n);var r=new zi(e,Vi._createAt(t,"end")),i=new Vi(n,0);this.move(r,i)}return Vi._createAfter(t)}},{key:"mergeAttributes",value:function(e){var t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){var r=n.parent,i=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Vi(r,i))}var o=n.getChild(t-1),a=n.getChild(t);if(!o||!a)return e;if(o.is("$text")&&a.is("$text"))return bo(o,a);if(o.is("attributeElement")&&a.is("attributeElement")&&o.isSimilar(a)){var s=o.childCount;return o._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Vi(o,s))}return e}},{key:"mergeContainers",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new C("view-writer-merge-containers-invalid-position",this.document);var r=t.getChild(t.childCount-1),i=Vi._createAt(r instanceof ei?r:t,"end");return this.move(zi._createIn(n),Vi._createAt(t,"end")),this.remove(zi._createOn(n)),i}},{key:"insert",value:function(e,t){!function e(t,n){var r,i=_createForOfIteratorHelper(t);try{var o=function(){var t=r.value;if(!yo.some((function(e){return t instanceof e})))throw new C("view-writer-insert-invalid-node-type",n);t.is("$text")||e(t.getChildren(),n)};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}(t=re(t)?_toConsumableArray(t):[t],this.document);var n,r=t.reduce((function(e,t){var n=e[e.length-1],r=!t.is("uiElement");return n&&n.breakAttributes==r?n.nodes.push(t):e.push({breakAttributes:r,nodes:[t]}),e}),[]),i=null,o=e,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=s.nodes,u=s.breakAttributes,l=this._insertNodes(o,c,u);i||(i=l.start),o=l.end}}catch(h){a.e(h)}finally{a.f()}return i?new zi(i,o):new zi(e)}},{key:"remove",value:function(e){var t=e instanceof zi?e:zi._createOn(e);if(_o(t,this.document),t.isCollapsed)return new fo(this.document);var n,r=this._breakAttributesRange(t,!0),i=r.start,o=r.end,a=i.parent._removeChildren(i.offset,o.offset-i.offset),s=_createForOfIteratorHelper(a);try{for(s.s();!(n=s.n()).done;){var c=n.value;this._removeFromClonedElementsGroup(c)}}catch(l){s.e(l)}finally{s.f()}var u=this.mergeAttributes(i);return t.start=u,t.end=u.clone(),new fo(this.document,a)}},{key:"clear",value:function(e,t){_o(e,this.document);var n,r=_createForOfIteratorHelper(e.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.item,a=void 0;if(o.is("element")&&t.isSimilar(o))a=zi._createOn(o);else if(!i.nextPosition.isAfter(e.start)&&o.is("$textProxy")){var s=o.getAncestors().find((function(e){return e.is("element")&&t.isSimilar(e)}));s&&(a=zi._createIn(s))}a&&(a.end.isAfter(e.end)&&(a.end=e.end),a.start.isBefore(e.start)&&(a.start=e.start),this.remove(a))}}catch(c){r.e(c)}finally{r.f()}}},{key:"move",value:function(e,t){var n;if(t.isAfter(e.end)){var r=(t=this._breakAttributes(t,!0)).parent,i=r.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-i}else n=this.remove(e);return this.insert(t,n)}},{key:"wrap",value:function(e,t){if(!(t instanceof ro))throw new C("view-writer-wrap-invalid-attribute",this.document);if(_o(e,this.document),e.isCollapsed){var n=e.start;n.parent.is("element")&&!Array.from(n.parent.getChildren()).some((function(e){return!e.is("uiElement")}))&&(n=n.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))),n=this._wrapPosition(n,t);var r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new zi(n)}return this._wrapRange(e,t)}},{key:"unwrap",value:function(e,t){if(!(t instanceof ro))throw new C("view-writer-unwrap-invalid-attribute",this.document);if(_o(e,this.document),e.isCollapsed)return e;var n=this._breakAttributesRange(e,!0),r=n.start,i=n.end,o=this._unwrapChildren(r.parent,r.offset,i.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;var s=this.mergeAttributes(o.end);return new zi(a,s)}},{key:"rename",value:function(e,t){var n=new Mi(this.document,e,t.getAttributes());return this.insert(Vi._createAfter(t),n),this.move(zi._createIn(t),Vi._createAt(n,0)),this.remove(zi._createOn(t)),n}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return Vi._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Vi._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Vi._createBefore(e)}},{key:"createRange",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(zi,t)}},{key:"createRangeOn",value:function(e){return zi._createOn(e)}},{key:"createRangeIn",value:function(e){return zi._createIn(e)}},{key:"createSelection",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(Ki,t)}},{key:"createSlot",value:function(e){if(!this._slotFactory)throw new C("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}},{key:"_registerSlotFactory",value:function(e){this._slotFactory=e}},{key:"_clearSlotFactory",value:function(){this._slotFactory=null}},{key:"_insertNodes",value:function(e,t,n){var r,i;if(!(r=n?po(e):e.parent.is("$text")?e.parent.parent:e.parent))throw new C("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(e,!0):e.parent.is("$text")?mo(e):e;var o,a=r._insertChild(i.offset,t),s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;this._addToClonedElementsGroup(c)}}catch(d){s.e(d)}finally{s.f()}var u=i.getShiftedBy(a),l=this.mergeAttributes(i);l.isEqual(i)||u.offset--;var h=this.mergeAttributes(u);return new zi(l,h)}},{key:"_wrapChildren",value:function(e,t,n,r){for(var i=t,o=[];i<n;){var a=e.getChild(i),s=a.is("$text"),c=a.is("attributeElement");if(c&&this._wrapAttributeElement(r,a))o.push(new Vi(e,i));else if(s||!c||go(r,a)){var u=r._clone();a._remove(),u._appendChild(a),e._insertChild(i,u),this._addToClonedElementsGroup(u),o.push(new Vi(e,i))}else this._wrapChildren(a,0,a.childCount,r);i++}for(var l=0,h=0,d=o;h<d.length;h++){var f=d[h];f.offset-=l,f.offset!=t&&(this.mergeAttributes(f).isEqual(f)||(l++,n--))}return zi._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,r){for(var i=t,o=[];i<n;){var a=e.getChild(i);if(a.is("attributeElement"))if(a.isSimilar(r)){var s=a.getChildren(),c=a.childCount;a._remove(),e._insertChild(i,s),this._removeFromClonedElementsGroup(a),o.push(new Vi(e,i),new Vi(e,i+c)),i+=c,n+=c-1}else this._unwrapAttributeElement(r,a)?(o.push(new Vi(e,i),new Vi(e,i+1)),i++):(this._unwrapChildren(a,0,a.childCount,r),i++);else i++}for(var u=0,l=0,h=o;l<h.length;l++){var d=h[l];d.offset-=u,d.offset!=t&&d.offset!=n&&(this.mergeAttributes(d).isEqual(d)||(u++,n--))}return zi._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var n=this._breakAttributesRange(e,!0),r=n.start,i=n.end,o=this._wrapChildren(r.parent,r.offset,i.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;var s=this.mergeAttributes(o.end);return new zi(a,s)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return vo(e.clone());e.parent.is("$text")&&(e=mo(e));var n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n);var r=new zi(e,e.getShiftedBy(1));this.wrap(r,t);var i=new Vi(n.parent,n.index);n._remove();var o=i.nodeBefore,a=i.nodeAfter;return o instanceof ei&&a instanceof ei?bo(o,a):vo(i)}},{key:"_wrapAttributeElement",value:function(e,t){if(!ko(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,r=_createForOfIteratorHelper(e.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1}}catch(v){r.e(v)}finally{r.f()}var o,a=_createForOfIteratorHelper(e.getStyleNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t.hasStyle(s)&&t.getStyle(s)!==e.getStyle(s))return!1}}catch(v){a.e(v)}finally{a.f()}var c,u=_createForOfIteratorHelper(e.getAttributeKeys());try{for(u.s();!(c=u.n()).done;){var l=c.value;"class"!==l&&"style"!==l&&(t.hasAttribute(l)||this.setAttribute(l,e.getAttribute(l),t))}}catch(v){u.e(v)}finally{u.f()}var h,d=_createForOfIteratorHelper(e.getStyleNames());try{for(d.s();!(h=d.n()).done;){var f=h.value;t.hasStyle(f)||this.setStyle(f,e.getStyle(f),t)}}catch(v){d.e(v)}finally{d.f()}var A,p=_createForOfIteratorHelper(e.getClassNames());try{for(p.s();!(A=p.n()).done;){var g=A.value;t.hasClass(g)||this.addClass(g,t)}}catch(v){p.e(v)}finally{p.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!ko(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n,r=_createForOfIteratorHelper(e.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if("class"!==i&&"style"!==i&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1}}catch(h){r.e(h)}finally{r.f()}if(!t.hasClass.apply(t,_toConsumableArray(e.getClassNames())))return!1;var o,a=_createForOfIteratorHelper(e.getStyleNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!t.hasStyle(s)||t.getStyle(s)!==e.getStyle(s))return!1}}catch(h){a.e(h)}finally{a.f()}var c,u=_createForOfIteratorHelper(e.getAttributeKeys());try{for(u.s();!(c=u.n()).done;){var l=c.value;"class"!==l&&"style"!==l&&this.removeAttribute(l,t)}}catch(h){u.e(h)}finally{u.f()}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,r=e.end;if(_o(e,this.document),e.isCollapsed){var i=this._breakAttributes(e.start,t);return new zi(i,i)}var o=this._breakAttributes(r,t),a=o.parent.childCount,s=this._breakAttributes(n,t);return o.offset+=o.parent.childCount-a,new zi(s,o)}},{key:"_breakAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new C("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new C("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new C("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&wo(r.parent))return e.clone();if(wo(r))return e.clone();if(r.is("$text"))return this._breakAttributes(mo(e),t);if(n==r.childCount){var i=new Vi(r.parent,r.index+1);return this._breakAttributes(i,t)}if(0===n){var o=new Vi(r.parent,r.index);return this._breakAttributes(o,t)}var a=r.index+1,s=r._clone();r.parent._insertChild(a,s),this._addToClonedElementsGroup(s);var c=r._removeChildren(n,r.childCount-n);s._appendChild(c);var u=new Vi(r.parent,a);return this._breakAttributes(u,t)}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._addToClonedElementsGroup(r)}}catch(a){n.e(a)}finally{n.f()}}var i=e.id;if(i){var o=this._cloneGroups.get(i);o||(o=new Set,this._cloneGroups.set(i,o)),o.add(e),e._clonesGroup=o}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._removeFromClonedElementsGroup(r)}}catch(a){n.e(a)}finally{n.f()}}var i=e.id;if(i){var o=this._cloneGroups.get(i);o&&o.delete(e)}}}]),e}();function po(e){for(var t=e.parent;!wo(t);){if(!t)return;t=t.parent}return t}function go(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function vo(e){var t=e.nodeBefore;if(t&&t.is("$text"))return new Vi(t,t.data.length);var n=e.nodeAfter;return n&&n.is("$text")?new Vi(n,0):e}function mo(e){if(e.offset==e.parent.data.length)return new Vi(e.parent.parent,e.parent.index+1);if(0===e.offset)return new Vi(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new ei(e.root.document,t)),new Vi(e.parent.parent,e.parent.index+1)}function bo(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new Vi(e,n)}var yo=[ei,ro,Mi,ao,lo,co];function wo(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function _o(e,t){var n=po(e.start),r=po(e.end);if(!n||!r||n!==r)throw new C("view-writer-invalid-range-container",t)}function ko(e,t){return null===e.id&&null===t.id}var Co=function(e){return e.createTextNode("\xa0")},So=function(e){var t=e.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xa0",t},xo=function(e){var t=e.createElement("br");return t.dataset.ckeFiller="true",t},Eo="\u2060".repeat(7);function Io(e){return Qn(e)&&e.data.substr(0,7)===Eo}function Bo(e){return 7==e.data.length&&Io(e)}function Do(e){return Io(e)?e.data.slice(7):e.data}function To(e,t){if(t.keyCode==gr.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var r=n.getRangeAt(0).startContainer,i=n.getRangeAt(0).startOffset;Io(r)&&i<=7&&n.collapse(r,0)}}}var Oo=i(9315);zr()(Oo.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Fo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).domDocuments=new Set,i.domConverter=e,i.markedAttributes=new Set,i.markedChildren=new Set,i.markedTexts=new Set,i.selection=r,i.set("isFocused",!1),i.set("_isFocusChanging",!1),i.set("isSelecting",!1),d&&!h&&i.on("change:isSelecting",(function(){i.isSelecting||i.render()})),i.set("isComposing",!1),i.on("change:isComposing",(function(){i.isComposing||i.render()})),i._inlineFiller=null,i._fakeSelectionContainer=null,i}return _createClass(n,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new C("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}},{key:"render",value:function(){if(!this.isComposing||h){var e,t=null,n=!(d&&!h&&this.isSelecting),r=_createForOfIteratorHelper(this.markedChildren);try{for(r.s();!(e=r.n()).done;){var i=e.value;this._updateChildrenMappings(i)}}catch(m){r.e(m)}finally{r.f()}n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&((t=this.domConverter.domPositionToView(this._inlineFiller))&&t.parent.is("$text")&&(t=Vi._createBefore(t.parent)));var o,a=_createForOfIteratorHelper(this.markedAttributes);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._updateAttrs(s)}}catch(m){a.e(m)}finally{a.f()}var c,u=_createForOfIteratorHelper(this.markedChildren);try{for(u.s();!(c=u.n()).done;){var l=c.value;this._updateChildren(l,{inlineFillerPosition:t})}}catch(m){u.e(m)}finally{u.f()}var f,A=_createForOfIteratorHelper(this.markedTexts);try{for(A.s();!(f=A.n()).done;){var p=f.value;!this.markedChildren.has(p.parent)&&this.domConverter.mapViewToDom(p.parent)&&this._updateText(p,{inlineFillerPosition:t})}}catch(m){A.e(m)}finally{A.f()}if(n)if(t){var g=this.domConverter.viewPositionToDom(t),v=g.parent.ownerDocument;this._inlineFiller=Io(g.parent)?g.parent:Ro(v,g.parent,g.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}}},{key:"_updateChildrenMappings",value:function(e){if(this.domConverter.mapViewToDom(e)){var t=Array.from(this.domConverter.mapViewToDom(e).childNodes),n=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(t,n),i=this._findReplaceActions(r,t,n);if(-1!==i.indexOf("replace")){var o,a={equal:0,insert:0,delete:0},s=_createForOfIteratorHelper(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if("replace"===c){var u=a.equal+a.insert,l=a.equal+a.delete,h=e.getChild(u);!h||h.is("uiElement")||h.is("rawElement")||this._updateElementMappings(h,t[l]),ir(n[u]),a.equal++}else a[c]++}}catch(d){s.e(d)}finally{s.f()}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("$text")?Vi._createBefore(e.parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Qn(t.parent)&&Io(t.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!Io(e))throw new C("view-renderer-filler-was-lost",this);Bo(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;var t=e.findAncestor((function(e){return e.hasAttribute("contenteditable")}));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;if(n===t.getFillerOffset())return!1;var r=e.nodeBefore,i=e.nodeAfter;return!(r instanceof ei||i instanceof ei||h&&(r||i))}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),r=this.domConverter.viewToDom(e).data,i=t.inlineFillerPosition;i&&i.parent==e.parent&&i.offset==e.index&&(r=Eo+r),Lo(n,r)}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n,r=Array.from(t.attributes).map((function(e){return e.name})),i=_createForOfIteratorHelper(e.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var o=n.value;this.domConverter.setDomElementAttribute(t,o,e.getAttribute(o),e)}}catch(u){i.e(u)}finally{i.f()}var a,s=_createForOfIteratorHelper(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(t,c)}}catch(u){s.e(u)}finally{s.f()}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){if(h)for(var r=null,i=0,o=Array.from(n.childNodes);i<o.length;i++){var a=o[i];if(r&&Qn(r)&&Qn(a)){n.normalize();break}r=a}var s=t.inlineFillerPosition,c=n.childNodes,u=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&Ro(n.ownerDocument,u,s.offset);var l,d=this._diffNodeLists(c,u),f=h?this._findReplaceActions(d,c,u,{replaceText:!0}):d,A=0,p=new Set,g=_createForOfIteratorHelper(f);try{for(g.s();!(l=g.n()).done;){var v=l.value;"delete"===v?(p.add(c[A]),ir(c[A])):"equal"!==v&&"replace"!==v||A++}}catch(C){g.e(C)}finally{g.f()}A=0;var m,b=_createForOfIteratorHelper(f);try{for(b.s();!(m=b.n()).done;){var y=m.value;"insert"===y?(Zn(n,A,u[A]),A++):"replace"===y?(Lo(c[A],u[A].data),A++):"equal"===y&&(this._markDescendantTextToSync(this.domConverter.domToView(u[A])),A++)}}catch(C){b.e(C)}finally{b.f()}var w,_=_createForOfIteratorHelper(p);try{for(_.s();!(w=_.n()).done;){var k=w.value;k.parentNode||this.domConverter.unbindDomElement(k)}}catch(C){_.e(C)}finally{_.f()}}}},{key:"_diffNodeLists",value:function(e,t){return v(e=function(e,t){var n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),t,Mo.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var i,o=[],a=[],s=[],c={equal:0,insert:0,delete:0},u=_createForOfIteratorHelper(e);try{for(u.s();!(i=u.n()).done;){var l=i.value;"insert"===l?s.push(n[c.equal+c.insert]):"delete"===l?a.push(t[c.equal+c.delete]):((o=o.concat(v(a,s,r.replaceText?No:Po).map((function(e){return"equal"===e?"replace":e})))).push("equal"),a=[],s=[]),c[l]++}}catch(h){u.e(h)}finally{u.f()}return o.concat(v(a,s,r.replaceText?No:Po).map((function(e){return"equal"===e?"replace":e})))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element")){var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._markDescendantTextToSync(r)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if((!d||h||!this.isSelecting||this.markedChildren.size)&&!this._isFocusChanging){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&h||this._updateDomSelection(e))}}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){var t=e.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)){n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";var r=t.getSelection(),i=t.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}}},{key:"_updateDomSelection",value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(n.parent,n.offset),t.extend(r.parent,r.offset),u&&function(e,t){var n=e.parent;if(n.nodeType==Node.ELEMENT_NODE&&e.offset==n.childNodes.length-1){var r=n.childNodes[e.offset];r&&"BR"==r.tagName&&t.addRange(t.getRangeAt(0))}}(r,t)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e,t=_createForOfIteratorHelper(this.domDocuments);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.getSelection();if(r.rangeCount){var i=n.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&r.removeAllRanges()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),n}(W());function Ro(e,t,n){var r=t instanceof Array?t:t.childNodes,i=r[n];if(Qn(i))return i.data=Eo+i.data,i;var o=e.createTextNode(Eo);return Array.isArray(t)?r.splice(n,0,o):Zn(t,n,o),o}function Po(e,t){return On(e)&&On(t)&&!Qn(e)&&!Qn(t)&&!$n(e)&&!$n(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function No(e,t){return On(e)&&On(t)&&Qn(e)&&Qn(t)}function Mo(e,t,n){return t===n||(Qn(t)&&Qn(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}function Lo(e,t){var n=e.data;if(n!=t){var r,i=_createForOfIteratorHelper(A(n,t));try{for(i.s();!(r=i.n()).done;){var o=r.value;"insert"===o.type?e.insertData(o.index,o.values.join("")):e.deleteData(o.index,o.howMany)}}catch(a){i.e(a)}finally{i.f()}}}var Uo=xo(Un.document),jo=Co(Un.document),Qo=So(Un.document),Ho="data-ck-unsafe-attribute-",Vo="data-ck-unsafe-element",zo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.document=t,this.renderingMode=n.renderingMode||"editing",this.blockFillerMode=n.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Un.document:Un.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ni,this._encounteredRawContentDomNodes=new WeakSet}return _createClass(e,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new Ki(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(var n=0,r=Array.from(e.children);n<r.length;n++){var i=r[n];this.unbindDomElement(i)}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"shouldRenderAttribute",value:function(e,t,n){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===e||"srcset"===e)||"source"===n&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}},{key:"setContentOf",value:function(e,t){if("data"!==this.renderingMode){for(var n=(new DOMParser).parseFromString(t,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;i.length>0;)r.appendChild(i[0]);for(var o,a=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),s=[];o=a.nextNode();)s.push(o);for(var c=0,u=s;c<u.length;c++){var l,h=u[c],d=_createForOfIteratorHelper(h.getAttributeNames());try{for(d.s();!(l=d.n()).done;){var f=l.value;this.setDomElementAttribute(h,f,h.getAttribute(f))}}catch(p){d.e(p)}finally{d.f()}var A=h.tagName.toLowerCase();this._shouldRenameElement(A)&&(Go(A),h.replaceWith(this._createReplacementDomElement(A,h)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}else e.innerHTML=t}},{key:"viewToDom",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.is("$text")){var r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))t=this._domDocument.createDocumentFragment(),n.bind&&this.bindDocumentFragments(t,e);else{if(e.is("uiElement"))return t="$comment"===e.name?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),n.bind&&this.bindElements(t,e),t;this._shouldRenameElement(e.name)?(Go(e.name),t=this._createReplacementDomElement(e.name)):t=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(t,this),n.bind&&this.bindElements(t,e);var i,o=_createForOfIteratorHelper(e.getAttributeKeys());try{for(o.s();!(i=o.n()).done;){var a=i.value;this.setDomElementAttribute(t,a,e.getAttribute(a),e)}}catch(l){o.e(l)}finally{o.f()}}if(!1!==n.withChildren){var s,c=_createForOfIteratorHelper(this.viewChildrenToDom(e,n));try{for(c.s();!(s=c.n()).done;){var u=s.value;t.appendChild(u)}}catch(l){c.e(l)}finally{c.f()}}return t}},{key:"setDomElementAttribute",value:function(e,t,n,r){var i=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);i||S("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),e.hasAttribute(t)&&!i?e.removeAttribute(t):e.hasAttribute(Ho+t)&&i&&e.removeAttribute(Ho+t),e.setAttribute(i?t:Ho+t,n)}},{key:"removeDomElementAttribute",value:function(e,t){t!=Vo&&(e.removeAttribute(t),e.removeAttribute(Ho+t))}},{key:"viewChildrenToDom",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regeneratorRuntime().mark((function r(){var i,o,a,s,c,u;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=e.getFillerOffset&&e.getFillerOffset(),o=0,a=_createForOfIteratorHelper(e.getChildren()),r.prev=3,a.s();case 5:if((s=a.n()).done){r.next=22;break}if(c=s.value,r.t0=i===o,!r.t0){r.next=11;break}return r.next=11,t._getBlockFiller();case 11:if(!(u=c.is("element")&&c.getCustomProperty("dataPipeline:transparentRendering"))||"data"!=t.renderingMode){r.next=16;break}return r.delegateYield(t.viewChildrenToDom(c,n),"t1",14);case 14:r.next=19;break;case 16:return u&&S("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),r.next=19,t.viewToDom(c,n);case 19:o++;case 20:r.next=5;break;case 22:r.next=27;break;case 24:r.prev=24,r.t2=r.catch(3),a.e(r.t2);case 27:return r.prev=27,a.f(),r.finish(27);case 30:if(r.t3=i===o,!r.t3){r.next=34;break}return r.next=34,t._getBlockFiller();case 34:case"end":return r.stop()}}),r,null,[[3,24,27,30]])}))()}},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}},{key:"viewPositionToDom",value:function(e){var t,n,r,i=e.parent;if(i.is("$text")){var o=this.findCorrespondingDomText(i);if(!o)return null;var a=e.offset;return Io(o)&&(a+=7),{parent:o,offset:a}}if(0===e.offset){if(!(t=this.mapViewToDom(i)))return null;r=t.childNodes[0]}else{var s=e.nodeBefore;if(!(n=s.is("$text")?this.findCorrespondingDomText(s):this.mapViewToDom(s)))return null;t=n.parentNode,r=n.nextSibling}return Qn(r)&&Io(r)?{parent:r,offset:7}:{parent:t,offset:n?Xn(n)+1:0}}},{key:"domToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e))return null;var n,r=this.getHostViewElement(e);if(r)return r;if($n(e)&&t.skipComments)return null;if(Qn(e)){if(Bo(e))return null;var i=this._processDataFromDomText(e);return""===i?null:new ei(this.document,i)}if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))n=new fo(this.document),t.bind&&this.bindDocumentFragments(e,n);else{n=this._createViewElement(e,t),t.bind&&this.bindElements(e,n);var o=e.attributes;if(o)for(var a=o.length,s=0;s<a;s++)n._setAttribute(o[s].name,o[s].value);if(this._isViewElementWithRawContent(n,t)||$n(e)){var c=$n(e)?e.data:e.innerHTML;return n._setCustomProperty("$rawContent",c),this._encounteredRawContentDomNodes.add(e),n}}if(!1!==t.withChildren){var u,l=_createForOfIteratorHelper(this.domChildrenToView(e,t));try{for(l.s();!(u=l.n()).done;){var h=u.value;n._appendChild(h)}}catch(d){l.e(d)}finally{l.f()}}return n}},{key:"domChildrenToView",value:_regeneratorRuntime().mark((function e(t,n){var r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.childNodes.length)){e.next=10;break}if(i=this.domToView(t.childNodes[r],n),e.t0=null!==i,!e.t0){e.next=7;break}return e.next=7,i;case 7:r++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)}))},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;Qn(t)&&(t=t.parentNode);var n=this.fakeSelectionToView(t);if(n)return n}for(var r=this.isDomSelectionBackward(e),i=[],o=0;o<e.rangeCount;o++){var a=e.getRangeAt(o),s=this.domRangeToView(a);s&&i.push(s)}return new Ki(i,{backward:r})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new zi(t,n):null}},{key:"domPositionToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Xn(e));var n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Vi._createBefore(n);if(Qn(e)){if(Bo(e))return this.domPositionToView(e.parentNode,Xn(e));var r=this.findCorrespondingViewText(e),i=t;return r?(Io(e)&&(i=(i-=7)<0?0:i),new Vi(r,i)):null}if(0===t){var o=this.mapDomToView(e);if(o)return new Vi(o,0)}else{var a=e.childNodes[t-1];if(Qn(a)&&Bo(a))return this.domPositionToView(a.parentNode,Xn(a));var s=Qn(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(s&&s.parent)return new Vi(s.parent,s.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(Bo(e))return null;var t=this.getHostViewElement(e);if(t)return t;var n=e.previousSibling;if(n){if(!this.isElement(n))return null;var r=this.mapDomToView(n);if(r){var i=r.nextSibling;return i instanceof ei?i:null}}else{var o=this.mapDomToView(e.parentNode);if(o){var a=o.getChild(0);return a instanceof ei?a:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var n=Un.window,r=n.scrollX,i=n.scrollY,o=[];qo(t,(function(e){var t=e.scrollLeft,n=e.scrollTop;o.push([t,n])})),t.focus(),qo(t,(function(e){var t=_slicedToArray(o.shift(),2),n=t[0],r=t[1];e.scrollLeft=n,e.scrollTop=r})),Un.window.scrollTo(r,i)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(Uo):!("BR"!==e.tagName||!Ko(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(Qo)||function(e,t){return e.isEqualNode(jo)&&Ko(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(e){return!1}var n=t.collapsed;return t.detach(),n}},{key:"getHostViewElement",value:function(e){var t=jn(e);for(t.pop();t.length;){var n=t.pop(),r=this._domToViewMapping.get(n);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"registerRawContentMatcher",value:function(e){this._rawContentElementMatcher.add(e)}},{key:"_getBlockFiller",value:function(){switch(this.blockFillerMode){case"nbsp":return Co(this._domDocument);case"markedNbsp":return So(this._domDocument);case"br":return xo(this._domDocument)}}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){if(Qn(e)&&Io(e)&&t<7)return!1;if(this.isElement(e)&&Io(e.childNodes[t]))return!1;var n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}},{key:"_processDataFromViewText",value:function(e){var t=this,n=e.data;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return n;if(" "==n.charAt(0)){var r=this._getTouchingInlineViewNode(e,!1);!(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r))&&r||(n="\xa0"+n.substr(1))}if(" "==n.charAt(n.length-1)){var i=this._getTouchingInlineViewNode(e,!0),o=i&&i.is("$textProxy")&&" "==i.data.charAt(0);" "!=n.charAt(n.length-2)&&i&&!o||(n=n.substr(0,n.length-1)+"\xa0")}return n.replace(/ {2}/g," \xa0")}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return!1;var n=this._processDataFromViewText(e);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(e){var t=e.data;if(function(e,t){return jn(e).some((function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())}))}(e,this.preElements))return Do(e);t=t.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(e,!1),r=this._getTouchingInlineDomNode(e,!0),i=this._checkShouldLeftTrimDomText(e,n),o=this._checkShouldRightTrimDomText(e,r);i&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=(t=Do(new Text(t))).replace(/ \u00A0/g,"  ");var a=r&&this.isElement(r)&&"BR"!=r.tagName,s=r&&Qn(r)&&" "==r.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(t)||!r||a||s)&&(t=t.replace(/\u00A0$/," ")),(i||n&&this.isElement(n)&&"BR"!=n.tagName)&&(t=t.replace(/^\u00A0/," ")),t}},{key:"_checkShouldLeftTrimDomText",value:function(e,t){return!t||(this.isElement(t)?"BR"===t.tagName:!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!Io(e)}},{key:"_getTouchingInlineViewNode",value:function(e,t){var n,r=_createForOfIteratorHelper(new Hi({startPosition:t?Vi._createAfter(e):Vi._createBefore(e),direction:t?"forward":"backward"}));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.item.is("element")&&this.inlineObjectElements.includes(i.item.name))return i.item;if(i.item.is("containerElement"))return null;if(i.item.is("element","br"))return null;if(i.item.is("$textProxy"))return i.item}}catch(o){r.e(o)}finally{r.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,t){if(!e.parentNode)return null;var n=t?"firstChild":"lastChild",r=t?"nextSibling":"previousSibling",i=!0,o=e;do{if(!i&&o[n]?o=o[n]:o[r]?(o=o[r],i=!1):(o=o.parentNode,i=!0),!o||this._isBlockElement(o))return null}while(!Qn(o)&&"BR"!=o.tagName&&!this._isInlineObjectElement(o));return o}},{key:"_isBlockElement",value:function(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}},{key:"_isInlineObjectElement",value:function(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}},{key:"_createViewElement",value:function(e,t){if($n(e))return new co(this.document,"$comment");var n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Pi(this.document,n)}},{key:"_isViewElementWithRawContent",value:function(e,t){return!1!==t.withChildren&&!!this._rawContentElementMatcher.match(e)}},{key:"_shouldRenameElement",value:function(e){var t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}},{key:"_createReplacementDomElement",value:function(e,t){var n=this._domDocument.createElement("span");if(n.setAttribute(Vo,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);var r,i=_createForOfIteratorHelper(t.getAttributeNames());try{for(i.s();!(r=i.n()).done;){var o=r.value;n.setAttribute(o,t.getAttribute(o))}}catch(a){i.e(a)}finally{i.f()}}return n}}]),e}();function qo(e,t){for(var n=e;n;)t(n),n=n.parentElement}function Ko(e,t){var n=e.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function Go(e){"script"===e&&S("domconverter-unsafe-script-element-detected"),"style"===e&&S("domconverter-unsafe-style-element-detected")}var Wo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).view=e,r.document=e.document,r.isEnabled=!1,r}return _createClass(n,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}]),n}(Pn()),Yo=Bi((function(e,t){$e(t,Bt(t),e)})),Jo=function(){function e(t,n,r){_classCallCheck(this,e),this.view=t,this.document=t.document,this.domEvent=n,this.domTarget=n.target,Yo(this,r)}return _createClass(e,[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}]),e}(),Xo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).useCapture=!1,r}return _createClass(n,[{key:"observe",value:function(e){var t=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((function(n){t.listenTo(e,n,(function(e,n){t.isEnabled&&!t.checkShouldIgnoreEventFromTarget(n.target)&&t.onDomEvent(n)}),{useCapture:t.useCapture})}))}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new Jo(this.view,t,n))}}]),n}(Wo),Zo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).domEventType=["keydown","keyup"],r}return _createClass(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return mr(this)}})}}]),n}(Xo),$o=function(){return ae.Date.now()},ea=/\s/,ta=/^\s+/,na=/^[-+]0x[0-9a-f]+$/i,ra=/^0b[01]+$/i,ia=/^0o[0-7]+$/i,oa=parseInt,aa=function(e){if("number"==typeof e)return e;if(oi(e))return NaN;if(Q(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Q(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ea.test(e.charAt(t)););return t}(e)+1).replace(ta,""):e}(e);var n=ra.test(e);return n||ia.test(e)?oa(e.slice(2),n?2:8):na.test(e)?NaN:+e},sa=Math.max,ca=Math.min,ua=function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function A(e){return u=e,s=setTimeout(g,t),l?f(e):a}function p(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=o}function g(){var e=$o();if(p(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-c);return h?ca(n,o-(e-u)):n}(e))}function v(e){return s=void 0,d&&r?f(e):(r=i=void 0,a)}function m(){var e=$o(),n=p(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return A(c);if(h)return clearTimeout(s),s=setTimeout(g,t),f(c)}return void 0===s&&(s=setTimeout(g,t)),a}return t=aa(t)||0,Q(n)&&(l=!!n.leading,o=(h="maxWait"in n)?sa(aa(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},m.flush=function(){return void 0===s?a:v($o())},m},la=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._fireSelectionChangeDoneDebounced=ua((function(e){r.document.fire("selectionChangeDone",e)}),200),r}return _createClass(n,[{key:"observe",value:function(){var e=this,t=this.document;t.on("arrowKey",(function(n,r){t.selection.isFake&&e.isEnabled&&r.preventDefault()}),{context:"$capture"}),t.on("arrowKey",(function(n,r){t.selection.isFake&&e.isEnabled&&e._handleSelectionMove(r.keyCode)}),{priority:"lowest"})}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new Ki(t.getRanges(),{backward:t.isBackward,fake:!1});e!=gr.arrowleft&&e!=gr.arrowup||n.setTo(n.getFirstPosition()),e!=gr.arrowright&&e!=gr.arrowdown||n.setTo(n.getLastPosition());var r={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}]),n}(Wo);function ha(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ke;++t<n;)this.add(e[t])}ha.prototype.add=ha.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ha.prototype.has=function(e){return this.__data__.has(e)};var da=ha,fa=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Aa=function(e,t){return e.has(t)},pa=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var h=-1,d=!0,f=2&n?new da:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var A=e[h],p=t[h];if(r)var g=a?r(p,A,h,t,e,o):r(A,p,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!fa(t,(function(e,t){if(!Aa(f,t)&&(A===e||i(A,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(A!==p&&!i(A,p,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},ga=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},va=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},ma=se?se.prototype:void 0,ba=ma?ma.valueOf:void 0,ya=Object.prototype.hasOwnProperty,wa="[object Arguments]",_a="[object Array]",ka="[object Object]",Ca=Object.prototype.hasOwnProperty,Sa=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ge(t)&&!ge(n)?t!=t&&n!=n:function(e,t,n,r,i,o){var a=pe(e),s=pe(t),c=a?_a:sn(e),u=s?_a:sn(t),l=(c=c==wa?ka:c)==ka,h=(u=u==wa?ka:u)==ka,d=c==u;if(d&&ct(e)){if(!ct(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new We),a||bt(e)?pa(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new un(e),new un(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Se(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ga;case"[object Set]":if(s||(s=va),e.size!=t.size&&!(1&r))return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=pa(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(ba)return ba.call(e)==ba.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var f=l&&Ca.call(e,"__wrapped__"),A=h&&Ca.call(t,"__wrapped__");if(f||A){var p=f?e.value():e,g=A?t.value():t;return o||(o=new We),i(p,g,n,r,o)}}return!!d&&(o||(o=new We),function(e,t,n,r,i,o){var a=1&n,s=Vt(e),c=s.length;if(c!=Vt(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:ya.call(t,l)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var A=a;++u<c;){var p=e[l=s[u]],g=t[l];if(r)var v=a?r(g,p,l,t,e,o):r(p,g,l,e,t,o);if(!(void 0===v?p===g||i(p,g,n,r,o):v)){f=!1;break}A||(A="constructor"==l)}if(f&&!A){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,i,o))}(t,n,r,i,e,o))},xa=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Sa(e,t,void 0,n):!!r},Ea=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._config={childList:!0,characterData:!0,subtree:!0},r.domConverter=e.domConverter,r.renderer=e._renderer,r._domElements=[],r._mutationObserver=new window.MutationObserver(r._onMutations.bind(_assertThisInitialized(r))),r}return _createClass(n,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){_get(_getPrototypeOf(n.prototype),"enable",this).call(this);var e,t=_createForOfIteratorHelper(this._domElements);try{for(t.s();!(e=t.n()).done;){var r=e.value;this._mutationObserver.observe(r,this._config)}}catch(i){t.e(i)}finally{t.f()}}},{key:"disable",value:function(){_get(_getPrototypeOf(n.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t,n=this.domConverter,r=new Set,i=new Set,o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=n.mapDomToView(a.target);s&&(s.is("uiElement")||s.is("rawElement")||"childList"!==a.type||this._isBogusBrMutation(a)||i.add(s))}}catch(k){o.e(k)}finally{o.f()}var c,u=_createForOfIteratorHelper(e);try{for(u.s();!(c=u.n()).done;){var l=c.value,h=n.mapDomToView(l.target);if((!h||!h.is("uiElement")&&!h.is("rawElement"))&&"characterData"===l.type){var d=n.findCorrespondingViewText(l.target);d&&!i.has(d.parent)?r.add(d):!d&&Io(l.target)&&i.add(n.mapDomToView(l.target.parentNode))}}}catch(k){u.e(k)}finally{u.f()}var f,A=!1,p=_createForOfIteratorHelper(r);try{for(p.s();!(f=p.n()).done;){var g=f.value;A=!0,this.renderer.markToSync("text",g)}}catch(k){p.e(k)}finally{p.f()}var v,m=_createForOfIteratorHelper(i);try{for(m.s();!(v=m.n()).done;){var b=v.value,y=n.mapViewToDom(b),w=Array.from(b.getChildren()),_=Array.from(n.domChildrenToView(y,{withChildren:!1}));xa(w,_,Ia)||(A=!0,this.renderer.markToSync("children",b))}}catch(k){m.e(k)}finally{m.f()}A&&this.view.forceRender()}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}]),n}(Wo);function Ia(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}var Ba=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).mutationObserver=e.getObserver(Ea),r.selection=r.document.selection,r.domConverter=e.domConverter,r._documents=new WeakSet,r._fireSelectionChangeDoneDebounced=ua((function(e){r.document.fire("selectionChangeDone",e)}),200),r._clearInfiniteLoopInterval=setInterval((function(){return r._clearInfiniteLoop()}),1e3),r._documentIsSelectingInactivityTimeoutDebounced=ua((function(){return r.document.isSelecting=!1}),5e3),r._loopbackCounter=0,r}return _createClass(n,[{key:"observe",value:function(e){var t=this,n=e.ownerDocument,r=function(){t.document.isSelecting&&(t._handleSelectionChange(null,n),t.document.isSelecting=!1,t._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",(function(){t.document.isSelecting=!0,t._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),this._documents.has(n)||(this.listenTo(n,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(n,"selectionchange",(function(e,r){t.document.isComposing&&!h||(t._handleSelectionChange(r,n),t._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(n))}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e,t){if(this.isEnabled){var n=t.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(n.anchorNode)){this.mutationObserver.flush();var r=this.domConverter.domSelectionToView(n);if(0!=r.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(r))this.view.forceRender();else{var i={oldSelection:this.selection,newSelection:r,domSelection:n};this.document._isFocusChanging=!1,this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}else this.view.hasDomSelection=!1}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),n}(Wo),Da=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this,e)).domEventType=["focus","blur"],r.useCapture=!0;var i=r.document;return i.on("focus",(function(){i.isFocused=!0,i._isFocusChanging=!0,r._renderTimeoutId=setTimeout((function(){i._isFocusChanging=!1,e.change((function(){}))}),50)})),i.on("blur",(function(t,n){var r=i.selection.editableElement;null!==r&&r!==n.target||(i.isFocused=!1,e.change((function(){})))})),r}return _createClass(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(Xo),Ta=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this,e)).domEventType=["compositionstart","compositionupdate","compositionend"];var i=r.document;return i.on("compositionstart",(function(){i.isComposing=!0}),{priority:"low"}),i.on("compositionend",(function(){i.isComposing=!1}),{priority:"low"}),r}return _createClass(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{data:e.data})}}]),n}(Xo),Oa=function(){function e(t){_classCallCheck(this,e),this.files=function(e){var t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t.length?t:n.filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))}(t),this._native=t}return _createClass(e,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"effectAllowed",get:function(){return this._native.effectAllowed},set:function(e){this._native.effectAllowed=e}},{key:"dropEffect",get:function(){return this._native.dropEffect},set:function(e){this._native.dropEffect=e}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}]),e}(),Fa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).domEventType=["beforeinput"],r}return _createClass(n,[{key:"onDomEvent",value:function(e){var t=e.getTargetRanges(),n=this.view,r=n.document,i=null,o=null,a=[];if(e.dataTransfer&&(i=new Oa(e.dataTransfer)),null!==e.data?o=e.data:i&&(o=i.getData("text/plain")),r.selection.isFake)a=Array.from(r.selection.getRanges());else if(t.length)a=t.map((function(e){return n.domConverter.domRangeToView(e)}));else if(h){var s=e.target.ownerDocument.defaultView.getSelection();a=Array.from(n.domConverter.domSelectionToView(s).getRanges())}if(h&&"insertCompositionText"==e.inputType&&o&&o.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(a[0].end)]});else if("insertText"==e.inputType&&o&&o.includes("\n"))for(var c=o.split(/\n{1,2}/g),u=a,l=0;l<c.length;l++){var d=c[l];""!=d&&(this.fire(e.type,e,{data:d,dataTransfer:i,targetRanges:u,inputType:e.inputType,isComposing:e.isComposing}),u=[r.selection.getFirstRange()]),l+1<c.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:u}),u=[r.selection.getFirstRange()])}else this.fire(e.type,e,{data:o,dataTransfer:i,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}]),n}(Xo),Ra=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).document.on("keydown",(function(e,t){if(r.isEnabled&&((i=t.keyCode)==gr.arrowright||i==gr.arrowleft||i==gr.arrowup||i==gr.arrowdown)){var n=new Wi(r.document,"arrowKey",r.document.selection.getFirstRange());r.document.fire(n,t),n.stop.called&&e.stop()}var i})),r}return _createClass(n,[{key:"observe",value:function(){}}]),n}(Wo),Pa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).document;return i.on("keydown",(function(e,t){if(r.isEnabled&&t.keyCode==gr.tab&&!t.ctrlKey){var n=new Wi(i,"tab",i.selection.getFirstRange());i.fire(n,t),n.stop.called&&e.stop()}})),r}return _createClass(n,[{key:"observe",value:function(){}}]),n}(Wo),Na=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).document=new no(e),r.domConverter=new zo(r.document),r.domRoots=new Map,r.set("isRenderingInProgress",!1),r.set("hasDomSelection",!1),r._renderer=new Fo(r.domConverter,r.document.selection),r._renderer.bind("isFocused","isSelecting","isComposing","_isFocusChanging").to(r.document,"isFocused","isSelecting","isComposing","_isFocusChanging"),r._initialDomRootAttributes=new WeakMap,r._observers=new Map,r._ongoingChange=!1,r._postFixersInProgress=!1,r._renderingDisabled=!1,r._hasChangedSinceTheLastRendering=!1,r._writer=new Ao(r.document),r.addObserver(Ea),r.addObserver(Ba),r.addObserver(Da),r.addObserver(Zo),r.addObserver(la),r.addObserver(Ta),r.addObserver(Ra),r.addObserver(Fa),r.addObserver(Pa),r.document.on("arrowKey",To,{priority:"low"}),function(e){e.document.on("arrowKey",(function(t,n){return function(e,t,n){if(t.keyCode==gr.arrowright){var r=t.domTarget.ownerDocument.defaultView.getSelection(),i=1==r.rangeCount&&r.getRangeAt(0).collapsed;if(i||t.shiftKey){var o=n.domPositionToView(r.focusNode,r.focusOffset);if(null===o)return;var a=!1,s=o.getLastMatchingPosition((function(e){return e.item.is("uiElement")&&(a=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}));if(a){var c=n.viewPositionToDom(s);i?r.collapse(c.parent,c.offset):r.extend(c.parent,c.offset)}}}}(0,n,e.domConverter)}),{priority:"low"})}(_assertThisInitialized(r)),r.on("render",(function(){r._render(),r.document.fire("layoutChanged"),r._hasChangedSinceTheLastRendering=!1})),r.listenTo(r.document.selection,"change",(function(){r._hasChangedSinceTheLastRendering=!0})),r.listenTo(r.document,"change:isFocused",(function(){r._hasChangedSinceTheLastRendering=!0})),r}return _createClass(n,[{key:"attachDomRoot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",r=this.document.getRoot(n);r._name=e.tagName.toLowerCase();for(var i={},o=0,a=Array.from(e.attributes);o<a.length;o++){var s=a[o],c=s.name,u=s.value;i[c]=u,"class"===c?this._writer.addClass(u.split(" "),r):this._writer.setAttribute(c,u,r)}this._initialDomRootAttributes.set(e,i);var l=function(){t._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?t._writer.addClass("ck-read-only",r):t._writer.removeClass("ck-read-only",r)};l(),this.domRoots.set(n,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(function(e,n){return t._renderer.markToSync("children",n)})),r.on("change:attributes",(function(e,n){return t._renderer.markToSync("attributes",n)})),r.on("change:text",(function(e,n){return t._renderer.markToSync("text",n)})),r.on("change:isReadOnly",(function(){return t.change(l)})),r.on("change",(function(){t._hasChangedSinceTheLastRendering=!0}));var h,d=_createForOfIteratorHelper(this._observers.values());try{for(d.s();!(h=d.n()).done;){var f=h.value;f.observe(e,n)}}catch(A){d.e(A)}finally{d.f()}}},{key:"detachDomRoot",value:function(e){var t=this.domRoots.get(e);Array.from(t.attributes).forEach((function(e){var n=e.name;return t.removeAttribute(n)}));var n=this._initialDomRootAttributes.get(t);for(var r in n)t.setAttribute(r,n[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n,r=_createForOfIteratorHelper(this.domRoots);try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),o=i[0],a=i[1];t.observe(a,o)}}catch(s){r.e(s)}finally{r.f()}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e,t=_createForOfIteratorHelper(this._observers.values());try{for(t.s();!(e=t.n()).done;){e.value.disable()}}catch(n){t.e(n)}finally{t.f()}}},{key:"enableObservers",value:function(){var e,t=_createForOfIteratorHelper(this._observers.values());try{for(t.s();!(e=t.n()).done;){e.value.enable()}}catch(n){t.e(n)}finally{t.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&function(e){for(var t=e.target,n=e.viewportOffset,r=void 0===n?0:n,i=hr(t),o=i,a=null;o;){ar(dr(o==i?t:a),(function(){return fr(t,o)}));var s=fr(t,o);if(or(o,s,r),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new C("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){C.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.document._isFocusChanging=!1,this.change((function(){}))}},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this._observers.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return Vi._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Vi._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Vi._createBefore(e)}},{key:"createRange",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(zi,t)}},{key:"createRangeOn",value:function(e){return zi._createOn(e)}},{key:"createRangeIn",value:function(e){return zi._createIn(e)}},{key:"createSelection",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(Ki,t)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,0==e&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),n}(W()),Ma=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"is",value:function(){throw new Error("is() method is abstract")}}]),e}(),La=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=null,r._attrs=Dr(e),r}return _createClass(n,[{key:"document",get:function(){return null}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new C("model-node-not-found-in-parent",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new C("model-node-not-found-in-parent",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),r=e.getAncestors(t),i=0;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=ne(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((function(e,t){return e[t[0]]=t[1],e}),{})),e}},{key:"_clone",value:function(e){return new n(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=Dr(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),n}(Ma);La.prototype.is=function(e){return"node"===e||"model:node"===e};var Ua=function(e){function t(e){_classCallCheck(this,t),this._nodes=[],e&&this._insertNodes(0,e)}return _createClass(t,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new C("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t,n=0,r=_createForOfIteratorHelper(this._nodes);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(e>=n&&e<n+i.offsetSize)return this.getNodeIndex(i);n+=i.offsetSize}}catch(o){r.e(o)}finally{r.f()}if(n!=e)throw new C("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){if(!(n.value instanceof La))throw new C("model-nodelist-insertnodes-not-node",this)}}catch(i){r.e(i)}finally{r.f()}this._nodes=function(e,t,n,r){if(Math.max(t.length,e.length)>1e4)return e.slice(0,n).concat(t).concat(e.slice(n+0,e.length));var i=Array.from(e);return i.splice.apply(i,[n,0].concat(_toConsumableArray(t))),i}(this._nodes,Array.from(t),e)}},{key:"_removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map((function(e){return e.toJSON()}))}}]),t}(),ja=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r))._data=e||"",i}return _createClass(n,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new n(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(e){return new n(e.data,e.attributes)}}]),n}(La);ja.prototype.is=function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e};var Qa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),(o=t.call(this)).textNode=e,r<0||r>e.offsetSize)throw new C("model-textproxy-wrong-offsetintext",_assertThisInitialized(o));if(i<0||r+i>e.offsetSize)throw new C("model-textproxy-wrong-length",_assertThisInitialized(o));return o.data=e.data.substring(r,r+i),o.offsetInText=r,_possibleConstructorReturn(o)}return _createClass(n,[{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),n}(Ma);Qa.prototype.is=function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e};var Ha=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,r)).name=e,o._children=new Ua,i&&o._insertChild(0,i),o}return _createClass(n,[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t,n=this,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.getChild(n.offsetToIndex(i))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"findAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeSelf?this:this.parent;n;){if(n.name===e)return n;n=n.parent}return null}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var t,r=_createForOfIteratorHelper(this._children);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.children.push(i.toJSON())}}catch(o){r.e(o)}finally{r.f()}}return e}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?Array.from(this._children).map((function(e){return e._clone(!0)})):void 0;return new n(this.name,this.getAttributes(),t)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,r=function(e){return"string"==typeof e?[new ja(e)]:(re(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new ja(e):e instanceof Qa?new ja(e.data,e.getAttributes()):e})))}(t),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(a){i.e(a)}finally{i.f()}this._children._insertNodes(e,r)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(e,n),i=_createForOfIteratorHelper(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.parent=null}}catch(a){i.e(a)}finally{i.f()}return r}}],[{key:"fromJSON",value:function(e){var t;if(e.children){t=[];var r,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.push(o.name?n.fromJSON(o):ja.fromJSON(o))}}catch(a){i.e(a)}finally{i.f()}}return new n(e.name,e.attributes,t)}}]),n}(La);Ha.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e};var Va=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),!e.boundaries&&!e.startPosition)throw new C("model-tree-walker-no-start-position",null);var n=e.direction||"forward";if("forward"!=n&&"backward"!=n)throw new C("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,this.position=e.startPosition?e.startPosition.clone():qa._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return _createClass(t,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,r,i;do{var o;r=this.position,i=this._visitedParent,t=(o=this.next()).done,n=o.value}while(!t&&e(n));t||(this.position=r,this._visitedParent=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};var r=Ka(t,n),i=r||Ga(t,n,r);if(i instanceof Ha)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=i),this.position=t,za("elementStart",i,e,t,1);if(i instanceof ja){var o;if(this.singleCharacters)o=1;else{var a=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<a&&(a=this.boundaries.end.offset),o=a-t.offset}var s=new Qa(i,t.offset-i.startOffset,o);return t.offset+=o,this.position=t,za("text",s,e,t,o)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():za("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};var r=t.parent,i=Ka(t,r),o=i||Wa(t,r,i);if(o instanceof Ha)return t.offset--,this.shallow?(this.position=t,za("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this.position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():za("elementEnd",o,e,t));if(o instanceof ja){var a;if(this.singleCharacters)a=1;else{var s=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>s&&(s=this.boundaries.start.offset),a=t.offset-s}var c=new Qa(o,t.offset-o.startOffset-a,a);return t.offset-=a,this.position=t,za("text",c,e,t,a)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,za("elementStart",n,e,t,1)}}]),t}();function za(e,t,n,r,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}var qa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(_classCallCheck(this,n),i=t.call(this),!e.is("element")&&!e.is("documentFragment"))throw new C("model-position-root-invalid",e);if(!(r instanceof Array)||0===r.length)throw new C("model-position-path-incorrect-format",e,{path:r});return e.is("rootElement")?r=r.slice():(r=[].concat(_toConsumableArray(e.getPath()),_toConsumableArray(r)),e=e.root),i.root=e,i.path=r,i.stickiness=o,_possibleConstructorReturn(i)}return _createClass(n,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new C("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new C("model-position-path-incorrect",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return Ka(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return Ga(this,e,Ka(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return Wa(this,e,Ka(this,e))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=ne(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Va(t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(e){var t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=ne(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),r=0;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(e){if(this.root!==e.root)return!1;for(var t=Math.min(this.path.length,e.path.length),n=0;n<t;n++){var r=this.path[n]-e.path[n];if(r<-1||r>1)return!1;if(1===r)return Ya(e,this,n);if(-1===r)return Ya(this,e,n)}return this.path.length===e.path.length||Ja(this.path.length>e.path.length?this.path:e.path,t)}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==ne(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(e){var t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=n._createAt(this)}return t}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var t,r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)?(t=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(t=t._getTransformedByDeletion(e.deletionPosition,1))):t=this.isEqual(e.deletionPosition)?n._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),t}},{key:"_getTransformedByDeletion",value:function(e,t){var r=n._createAt(this);if(this.root!=e.root)return r;if("same"==ne(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;r.offset-=t}}else if("prefix"==ne(e.getParentPath(),this.getParentPath())){var i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;r.path[i]-=t}}return r}},{key:"_getTransformedByInsertion",value:function(e,t){var r=n._createAt(this);if(this.root!=e.root)return r;if("same"==ne(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(r.offset+=t);else if("prefix"==ne(e.getParentPath(),this.getParentPath())){var i=e.path.length-1;e.offset<=this.path[i]&&(r.path[i]+=t)}return r}},{key:"_getTransformedByMove",value:function(e,t,r){if(t=t._getTransformedByDeletion(e,r),e.isEqual(t))return n._createAt(this);var i=this._getTransformedByDeletion(e,r);return null===i||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(r).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):i._getTransformedByInsertion(t,r)}},{key:"_getCombined",value:function(e,t){var r=e.path.length-1,i=n._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[r]-e.offset,i.path=[].concat(_toConsumableArray(i.path),_toConsumableArray(this.path.slice(r+1))),i}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof n)return new n(e.root,e.path,e.stickiness);var i=e;if("end"==t)t=i.maxOffset;else{if("before"==t)return this._createBefore(i,r);if("after"==t)return this._createAfter(i,r);if(0!==t&&!t)throw new C("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new C("model-position-parent-incorrect",[this,e]);var o=i.getPath();return o.push(t),new this(i.root,o,r)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new C("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new C("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(e,t){if("$graveyard"===e.root){var r=new n(t.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!t.getRoot(e.root))throw new C("model-position-fromjson-no-root",t,{rootName:e.root});return new n(t.getRoot(e.root),e.path,e.stickiness)}}]),n}(Ma);function Ka(e,t){var n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function Ga(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function Wa(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}function Ya(e,t,n){return n+1!==e.path.length&&!!Ja(t.path,n+1)&&!!function(e,t){for(var n=e.parent,r=e.path.length-1,i=0;r>=t;){if(e.path[r]+i!==n.maxOffset)return!1;i=1,r--,n=n.parent}return!0}(e,n+1)}function Ja(e,t){for(;t<e.length;){if(0!==e[t])return!1;t++}return!0}qa.prototype.is=function(e){return"position"===e||"model:position"===e};var Xa=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this)).start=qa._createAt(e),i.end=qa._createAt(t||e),i.start.stickiness=i.isCollapsed?"toNone":"toNext",i.end.stickiness=i.isCollapsed?"toNone":"toPrevious",i}return _createClass(r,[{key:t,value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Va({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==ne(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}},{key:"containsItem",value:function(e){var t=qa._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new r(this.start,e.start)),this.containsPosition(e.end)&&t.push(new r(e.end,this.end))):t.push(new r(this.start,this.end)),t}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new r(t,n)}return null}},{key:"getJoined",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;var i=this.start,o=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(o)&&(o=e.end),new r(i,o)}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],t=this.start.getCommonPath(this.end).length,n=qa._createAt(this.start),i=n.parent;n.path.length>t+1;){var o=i.maxOffset-n.offset;0!==o&&e.push(new r(n,n.getShiftedBy(o))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){var a=this.end.path[n.path.length-1],s=a-n.offset;0!==s&&e.push(new r(n,n.getShiftedBy(s))),n.offset=a,n.path.push(0)}return e}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Va(e)}},{key:"getItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _regeneratorRuntime().mark((function n(){var r,i,o,a;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.boundaries=e,t.ignoreElementEnd=!0,r=new Va(t),i=_createForOfIteratorHelper(r),n.prev=3,i.s();case 5:if((o=i.n()).done){n.next=11;break}return a=o.value,n.next=9,a.item;case 9:n.next=5;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,13,16,19]])}))()}},{key:"getPositions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _regeneratorRuntime().mark((function n(){var r,i,o,a;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.boundaries=e,r=new Va(t),n.next=4,r.position;case 4:i=_createForOfIteratorHelper(r),n.prev=5,i.s();case 7:if((o=i.n()).done){n.next=13;break}return a=o.value,n.next=11,a.nextPosition;case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),i.e(n.t0);case 18:return n.prev=18,i.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,15,18,21]])}))()}},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new r(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var t,n=[new r(this.start,this.end)],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;)for(var o=t.value,a=0;a<n.length;a++){var s=n[a].getTransformedByOperation(o);n.splice.apply(n,[a,1].concat(_toConsumableArray(s))),a+=s.length-1}}catch(d){i.e(d)}finally{i.f()}for(var c=0;c<n.length;c++)for(var u=n[c],l=c+1;l<n.length;l++){var h=n[l];(u.containsRange(h)||h.containsRange(u)||u.isEqual(h))&&n.splice(l,1)}return n}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,t)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=this.start._getTransformedBySplitOperation(e),n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new r(t,n)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new r(this.start);var t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=qa._createAt(n)).offset=0:(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new r(t,n)):new r(t,n)}},{key:"_getTransformedByInsertion",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&this.containsPosition(e))return[new r(this.start,e),new r(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];var i=new r(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,t),i.end=i.end._getTransformedByInsertion(e,t),[i]}},{key:"_getTransformedByMove",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var o=this.start._getTransformedByMove(e,t,n);return[new r(o)]}var a,s=r._createFromPositionAndShift(e,n),c=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var u=this.start._getTransformedByMove(e,t,n),l=this.end._getTransformedByMove(e,t,n);return[new r(u,l)]}var h=this.getDifference(s),d=null,f=this.getIntersection(s);if(1==h.length?d=new r(h[0].start._getTransformedByDeletion(e,n),h[0].end._getTransformedByDeletion(e,n)):2==h.length&&(d=new r(this.start,this.end._getTransformedByDeletion(e,n))),a=d?d._getTransformedByInsertion(c,n,null!==f||i):[],f){var A=new r(f.start._getCombined(s.start,c),f.end._getCombined(s.start,c));2==a.length?a.splice(1,0,A):a.push(A)}return a}},{key:"_getTransformedByDeletion",value:function(e,t){var n=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return null==n&&null==i?null:(null==n&&(n=e),null==i&&(i=e),new r(n,i))}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(e){return new this(qa._createAt(e,0),qa._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(qa._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new C("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort((function(e,t){return e.start.isAfter(t.start)?1:-1}));var n=e.indexOf(t),r=new this(t.start,t.end);if(n>0)for(var i=n-1;e[i].end.isEqual(r.start);i++)r.start=qa._createAt(e[i].start);for(var o=n+1;o<e.length&&e[o].start.isEqual(r.end);o++)r.end=qa._createAt(e[o].end);return r}},{key:"fromJSON",value:function(e,t){return new this(qa.fromJSON(e.start,t),qa.fromJSON(e.end,t))}}]),r}(Ma,Symbol.iterator);Xa.prototype.is=function(e){return"range"===e||"model:range"===e};var Za=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._modelToViewMapping=new WeakMap,e._viewToModelMapping=new WeakMap,e._viewToModelLengthCallbacks=new Map,e._markerNameToElements=new Map,e._elementToMarkerNames=new Map,e._deferredBindingRemovals=new Map,e._unboundMarkerNames=new Set,e.on("modelToViewPosition",(function(t,n){if(!n.viewPosition){var r=e._modelToViewMapping.get(n.modelPosition.parent);if(!r)throw new C("mapping-model-position-view-parent-not-found",_assertThisInitialized(e),{modelPosition:n.modelPosition});n.viewPosition=e.findPositionIn(r,n.modelPosition.offset)}}),{priority:"low"}),e.on("viewToModelPosition",(function(t,n){if(!n.modelPosition){var r=e.findMappedViewAncestor(n.viewPosition),i=e._viewToModelMapping.get(r),o=e._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,r);n.modelPosition=qa._createAt(i,o)}}),{priority:"low"}),e}return _createClass(n,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toModelElement(e);if(this._elementToMarkerNames.has(e)){var r,i=_createForOfIteratorHelper(this._elementToMarkerNames.get(e));try{for(i.s();!(r=i.n()).done;){var o=r.value;this._unboundMarkerNames.add(o)}}catch(a){i.e(a)}finally{i.f()}}t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set;n.add(e);var r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));var r=this._elementToMarkerNames.get(e);r&&(r.delete(t),0==r.size&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"flushDeferredBindings",value:function(){var e,t=_createForOfIteratorHelper(this._deferredBindingRemovals);try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,2),r=n[0],i=n[1];r.root==i&&this.unbindViewElement(r)}}catch(o){t.e(o)}finally{t.f()}this._deferredBindingRemovals=new Map}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new Xa(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new zi(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}},{key:"toViewPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(e){var t=this._markerNameToElements.get(e);if(!t)return null;var n,r=new Set,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is("attributeElement")){var a,s=_createForOfIteratorHelper(o.getElementsWithSameId());try{for(s.s();!(a=s.n()).done;){var c=a.value;r.add(c)}}catch(u){s.e(u)}finally{s.f()}}else r.add(o)}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;for(var r=0,i=0;i<t;i++)r+=this.getModelLength(e.getChild(i));return r}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;var t,n=0,r=_createForOfIteratorHelper(e.getChildren());try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.getModelLength(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"findPositionIn",value:function(e,t){var n,r=0,i=0,o=0;if(e.is("$text"))return new Vi(e,t);for(;i<t;)n=e.getChild(o),i+=r=this.getModelLength(n),o++;return i==t?this._moveViewPositionToTextNode(new Vi(e,o)):this.findPositionIn(n,t-(i-r))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof ei?new Vi(t,t.data.length):n instanceof ei?new Vi(n,0):e}}]),n}(R()),$a=function(){function e(){_classCallCheck(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return _createClass(e,[{key:"add",value:function(e,t){t=es(t),e instanceof Qa&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=es(t),e instanceof Qa&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=es(t),e instanceof Qa&&(e=this._getSymbolForTextProxy(e));var n=this._consumable.get(e);if(void 0===n)return null;var r=n.get(t);return void 0===r?null:r}},{key:"revert",value:function(e,t){t=es(t),e instanceof Qa&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"verifyAllConsumed",value:function(e){var t,n=[],r=_createForOfIteratorHelper(this._consumable);try{for(r.s();!(t=r.n()).done;){var i,o=_slicedToArray(t.value,2),a=o[0],s=_createForOfIteratorHelper(o[1]);try{for(s.s();!(i=s.n()).done;){var c=_slicedToArray(i.value,2),u=c[0],l=c[1],h=u.split(":")[0];l&&e==h&&n.push({event:u,item:a.name||a.description})}}catch(d){s.e(d)}finally{s.f()}}}catch(d){r.e(d)}finally{r.f()}if(n.length)throw new C("conversion-model-consumable-not-consumed",null,{items:n})}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);if(n){var r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}},{key:"_addSymbolForTextProxy",value:function(e){var t,n,r=e.startOffset,i=e.endOffset,o=e.parent,a=Symbol("$textProxy:"+e.data);return(t=this._textProxyRegistry.get(r))||(t=new Map,this._textProxyRegistry.set(r,t)),(n=t.get(i))||(n=new Map,t.set(i,n)),n.set(o,a),a}}]),e}();function es(e){var t=e.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?e:t.length>1?t[0]+":"+t[1]:t[0]}var ts=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._conversionApi=_objectSpread({dispatcher:_assertThisInitialized(r)},e),r._firedEventsMap=new WeakMap,r}return _createClass(n,[{key:"convertChanges",value:function(e,t,n){var r,i=this._createConversionApi(n,e.getRefreshedItems()),o=_createForOfIteratorHelper(e.getMarkersToRemove());try{for(o.s();!(r=o.n()).done;){var a=r.value;this._convertMarkerRemove(a.name,a.range,i)}}catch(v){o.e(v)}finally{o.f()}var s,c=_createForOfIteratorHelper(this._reduceChanges(e.getChanges()));try{for(c.s();!(s=c.n()).done;){var u=s.value;"insert"===u.type?this._convertInsert(Xa._createFromPositionAndShift(u.position,u.length),i):"reinsert"===u.type?this._convertReinsert(Xa._createFromPositionAndShift(u.position,u.length),i):"remove"===u.type?this._convertRemove(u.position,u.length,u.name,i):this._convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,i)}}catch(v){c.e(v)}finally{c.f()}var l,h=_createForOfIteratorHelper(i.mapper.flushUnboundMarkerNames());try{for(h.s();!(l=h.n()).done;){var d=l.value,f=t.get(d).getRange();this._convertMarkerRemove(d,f,i),this._convertMarkerAdd(d,f,i)}}catch(v){h.e(v)}finally{h.f()}var A,p=_createForOfIteratorHelper(e.getMarkersToAdd());try{for(p.s();!(A=p.n()).done;){var g=A.value;this._convertMarkerAdd(g.name,g.range,i)}}catch(v){p.e(v)}finally{p.f()}i.mapper.flushDeferredBindings(),i.consumable.verifyAllConsumed("insert")}},{key:"convert",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this._createConversionApi(n,void 0,r);this._convertInsert(e,i);var o,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var s=_slicedToArray(o.value,2),c=s[0],u=s[1];this._convertMarkerAdd(c,u,i)}}catch(l){a.e(l)}finally{a.f()}i.consumable.verifyAllConsumed("insert")}},{key:"convertSelection",value:function(e,t,n){var r=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),i=this._createConversionApi(n);if(this._addConsumablesForSelection(i.consumable,e,r),this.fire("selection",{selection:e},i),e.isCollapsed){var o,a=_createForOfIteratorHelper(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.getRange();if(ns(e.getFirstPosition(),s,i.mapper)){var u={item:e,markerName:s.name,markerRange:c};i.consumable.test(e,"addMarker:"+s.name)&&this.fire("addMarker:".concat(s.name),u,i)}}}catch(A){a.e(A)}finally{a.f()}var l,h=_createForOfIteratorHelper(e.getAttributeKeys());try{for(h.s();!(l=h.n()).done;){var d=l.value,f={item:e,range:e.getFirstRange(),attributeKey:d,attributeOldValue:null,attributeNewValue:e.getAttribute(d)};i.consumable.test(e,"attribute:"+f.attributeKey)&&this.fire("attribute:".concat(f.attributeKey,":$text"),f,i)}}catch(A){h.e(A)}finally{h.f()}}}},{key:"_convertInsert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));var r,i=_createForOfIteratorHelper(Array.from(e.getWalker({shallow:!0})).map(rs));try{for(i.s();!(r=i.n()).done;){var o=r.value;this._testAndFire("insert",o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_convertRemove",value:function(e,t,n,r){this.fire("remove:".concat(n),{position:e,length:t},r)}},{key:"_convertAttribute",value:function(e,t,n,r,i){this._addConsumablesForRange(i.consumable,e,"attribute:".concat(t));var o,a=_createForOfIteratorHelper(e);try{for(a.s();!(o=a.n()).done;){var s=o.value,c={item:s.item,range:Xa._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:".concat(t),c,i)}}catch(u){a.e(u)}finally{a.f()}}},{key:"_convertReinsert",value:function(e,t){var n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);var r,i=_createForOfIteratorHelper(n.map(rs));try{for(i.s();!(r=i.n()).done;){var o=r.value;this._testAndFire("insert",_objectSpread(_objectSpread({},o),{},{reconversion:!0}),t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_convertMarkerAdd",value:function(e,t,n){if("$graveyard"!=t.root.rootName){var r="addMarker:".concat(e);if(n.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},n),n.consumable.consume(t,r)){this._addConsumablesForRange(n.consumable,t,r);var i,o=_createForOfIteratorHelper(t.getItems());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(n.consumable.test(a,r)){var s={item:a,range:Xa._createOn(a),markerName:e,markerRange:t};this.fire(r,s,n)}}}catch(c){o.e(c)}finally{o.f()}}}}},{key:"_convertMarkerRemove",value:function(e,t,n){"$graveyard"!=t.root.rootName&&this.fire("removeMarker:".concat(e),{markerName:e,markerRange:t},n)}},{key:"_reduceChanges",value:function(e){var t={changes:e};return this.fire("reduceChanges",t),t.changes}},{key:"_addConsumablesForInsert",value:function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value.item;if(null===e.test(i,"insert")){e.add(i,"insert");var o,a=_createForOfIteratorHelper(i.getAttributeKeys());try{for(a.s();!(o=a.n()).done;){var s=o.value;e.add(i,"attribute:"+s)}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){r.e(c)}finally{r.f()}return e}},{key:"_addConsumablesForRange",value:function(e,t,n){var r,i=_createForOfIteratorHelper(t.getItems());try{for(i.s();!(r=i.n()).done;){var o=r.value;e.add(o,n)}}catch(a){i.e(a)}finally{i.f()}return e}},{key:"_addConsumablesForSelection",value:function(e,t,n){e.add(t,"selection");var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.add(t,"addMarker:"+o.name)}}catch(u){i.e(u)}finally{i.f()}var a,s=_createForOfIteratorHelper(t.getAttributeKeys());try{for(s.s();!(a=s.n()).done;){var c=a.value;e.add(t,"attribute:"+c)}}catch(u){s.e(u)}finally{s.f()}return e}},{key:"_testAndFire",value:function(e,t,n){var r=function(e,t){return"".concat(e,":").concat(t.item.is("element")?t.item.name:"$text")}(e,t),i=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(n),a=o.get(i);if(a){if(a.has(r))return;a.add(r)}else o.set(i,new Set([r]));this.fire(r,t,n)}},{key:"_testAndFireAddAttributes",value:function(e,t){var n,r={item:e,range:Xa._createOn(e)},i=_createForOfIteratorHelper(r.item.getAttributeKeys());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.attributeKey=o,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(o),this._testAndFire("attribute:".concat(o),r,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_createConversionApi",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=_objectSpread(_objectSpread({},this._conversionApi),{},{consumable:new $a,writer:e,options:r,convertItem:function(e){return t._convertInsert(Xa._createOn(e),i)},convertChildren:function(e){return t._convertInsert(Xa._createIn(e),i,{doNotAddConsumables:!0})},convertAttributes:function(e){return t._testAndFireAddAttributes(e,i)},canReuseView:function(e){return!n.has(i.mapper.toModelElement(e))}});return this._firedEventsMap.set(i,new Map),i}}]),n}(R());function ns(e,t,n){var r=t.getRange(),i=Array.from(e.getAncestors());return i.shift(),i.reverse(),!i.some((function(e){if(r.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}function rs(e){return{item:e.item,range:Xa._createFromPositionAndShift(e.previousPosition,e.length)}}var is=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r;return _classCallCheck(this,n),(r=t.call(this))._lastRangeBackward=!1,r._ranges=[],r._attrs=new Map,arguments.length&&(e=r).setTo.apply(e,arguments),r}return _createClass(n,[{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=!1,a=_createForOfIteratorHelper(e._ranges);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i.isEqual(s)){o=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(!o)return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"getRanges",value:_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper(this._ranges),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,new Xa(r.start,r.end);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getFirstRange",value:function(){var e,t=null,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.start.isBefore(t.start)||(t=r)}}catch(i){n.e(i)}finally{n.f()}return t?new Xa(t.start,t.end):null}},{key:"getLastRange",value:function(){var e,t=null,n=_createForOfIteratorHelper(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;t&&!r.end.isAfter(t.end)||(t=r)}}catch(i){n.e(i)}finally{n.f()}return t?new Xa(t.start,t.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];if("object"==typeof o&&(a=o,o=void 0),null===i)this._setRanges([]);else if(i instanceof n)this._setRanges(i.getRanges(),i.isBackward);else if(i&&"function"==typeof i.getRanges)this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof Xa)this._setRanges([i],!!a&&!!a.backward);else if(i instanceof qa)this._setRanges([new Xa(i)]);else if(i instanceof La){var s,c=!!a&&!!a.backward;if("in"==o)s=Xa._createIn(i);else if("on"==o)s=Xa._createOn(i);else{if(void 0===o)throw new C("model-selection-setto-required-second-parameter",[this,i]);s=new Xa(qa._createAt(i,o))}this._setRanges([s],c)}else{if(!re(i))throw new C("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,a&&!!a.backward)}}},{key:"_setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Array.from(e),i=r.some((function(n){if(!(n instanceof Xa))throw new C("model-selection-set-ranges-not-range",[t,e]);return t._ranges.every((function(e){return!e.isEqual(n)}))}));(r.length!==this._ranges.length||i)&&(this._replaceAllRanges(r),this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0}))}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new C("model-selection-setfocus-no-ranges",[this,e]);var n=qa._createAt(e,t);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new Xa(n,r)),this._lastRangeBackward=!0):(this._pushRange(new Xa(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"getSelectedBlocks",value:_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s,c,u,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,n=_createForOfIteratorHelper(this.getRanges()),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=38;break}if(i=r.value,o=ss(i.start,t),e.t0=o&&cs(o,i),!e.t0){e.next=11;break}return e.next=11,o;case 11:a=_createForOfIteratorHelper(i.getWalker()),e.prev=12,a.s();case 14:if((s=a.n()).done){e.next=23;break}if(c=s.value,u=c.item,e.t1="elementEnd"==c.type&&as(u,t,i),!e.t1){e.next=21;break}return e.next=21,u;case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t2=e.catch(12),a.e(e.t2);case 28:return e.prev=28,a.f(),e.finish(28);case 31:if(l=ss(i.end,t),e.t3=l&&!i.end.isTouching(qa._createAt(l,0))&&cs(l,i),!e.t3){e.next=36;break}return e.next=36,l;case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t4=e.catch(2),n.e(e.t4);case 43:return e.prev=43,n.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[2,40,43,46],[12,25,28,31]])}))},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=qa._createAt(e,0),n=qa._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new Xa(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new C("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_replaceAllRanges",value:function(e){this._removeAllRanges();var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._pushRange(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),n}(R(Ma));function os(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&!!e.parent)}function as(e,t,n){return os(e,t)&&cs(e,n)}function ss(e,t){var n=e.parent.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),i=!1,o=r.find((function(e){return!i&&(!(i=n.isLimit(e))&&os(e,t))}));return r.forEach((function(e){return t.add(e)})),o}function cs(e,t){var n=function(e){for(var t=e.root.document.model.schema,n=e.parent;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(Xa._createOn(n),!0)}is.prototype.is=function(e){return"selection"===e||"model:selection"===e};var us=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),i=t.call(this,e,r),ls.call(_assertThisInitialized(i)),i}return _createClass(n,[{key:"detach",value:function(){this.stopListening()}},{key:"toRange",value:function(){return new Xa(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new n(e.start,e.end)}}]),n}(R(Xa));function ls(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var r=n[0];r.isDocumentOperation&&hs.call(e,r)}),{priority:"low"})}function hs(e){var t=this.getTransformedByOperation(e),n=Xa._createFromRanges(t),r=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e),o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);var a=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",a,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}us.prototype.is=function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e};var ds="selection:",fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._selection=new As(e),r._selection.delegate("change:range").to(_assertThisInitialized(r)),r._selection.delegate("change:attribute").to(_assertThisInitialized(r)),r._selection.delegate("change:marker").to(_assertThisInitialized(r)),r}return _createClass(n,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(e){this._selection.observeMarkers(e)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(){var e;(e=this._selection).setTo.apply(e,arguments)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection.getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}}],[{key:"_getStoreAttributeKey",value:function(e){return ds+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith(ds)}}]),n}(R(Ma));fs.prototype.is=function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e};var As=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).markers=new xr({idProperty:"name"}),r._model=e.model,r._document=e,r._attributePriority=new Map,r._selectionRestorePosition=null,r._hasChangedRange=!1,r._overriddenGravityRegister=new Set,r._observedMarkers=new Set,r.listenTo(r._model,"applyOperation",(function(e,t){var n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==r._ranges.length&&r._selectionRestorePosition&&r._fixGraveyardSelection(r._selectionRestorePosition),r._selectionRestorePosition=null,r._hasChangedRange&&(r._hasChangedRange=!1,r.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),r.on("change:range",(function(){r._validateSelectionRanges(r.getRanges())})),r.listenTo(r._model.markers,"update",(function(e,t,n,i){r._updateMarker(t,i)})),r.listenTo(r._document,"change",(function(e,t){!function(e,t){var n,r=_createForOfIteratorHelper(e.document.differ.getChanges());try{var i=function(){var r=n.value;if("insert"!=r.type)return"continue";var i=r.position.parent;r.length===i.maxOffset&&e.enqueueChange(t,(function(e){var t,n=_createForOfIteratorHelper(Array.from(i.getAttributeKeys()).filter((function(e){return e.startsWith(ds)})));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.removeAttribute(r,i)}}catch(o){n.e(o)}finally{n.f()}}))};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}(r._model,t)})),r}return _createClass(n,[{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:_get(_getPrototypeOf(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return _get(_getPrototypeOf(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return _get(_getPrototypeOf(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(_get(_getPrototypeOf(n.prototype),"getRanges",this).call(this),"t0",2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return _get(_getPrototypeOf(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return _get(_getPrototypeOf(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=_get(_getPrototypeOf(n.prototype),"setTo",this)).call.apply(e,[this].concat(r)),this._updateAttributes(!0),this.updateMarkers()}},{key:"setFocus",value:function(e,t){_get(_getPrototypeOf(n.prototype),"setFocus",this).call(this,e,t),this._updateAttributes(!0),this.updateMarkers()}},{key:"setAttribute",value:function(e,t){this._setAttribute(e,t)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"removeAttribute",value:function(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"overrideGravity",value:function(){var e=w();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new C("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(e){this._observedMarkers.add(e),this.updateMarkers()}},{key:"_replaceAllRanges",value:function(e){this._validateSelectionRanges(e),_get(_getPrototypeOf(n.prototype),"_replaceAllRanges",this).call(this,e)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:"_validateSelectionRanges",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this._document._validateSelectionRange(r))throw new C("document-selection-wrong-position",this,{range:r})}}catch(i){n.e(i)}finally{n.f()}}},{key:"_prepareRange",value:function(e){var t=this;if(this._checkRange(e),e.root!=this._document.graveyard){var n=us.fromRange(e);return n.on("change:range",(function(e,r,i){if(t._hasChangedRange=!0,n.root==t._document.graveyard){t._selectionRestorePosition=i.deletionPosition;var o=t._ranges.indexOf(n);t._ranges.splice(o,1),n.detach()}})),n}}},{key:"updateMarkers",value:function(){if(this._observedMarkers.size){var e,t=[],n=!1,r=_createForOfIteratorHelper(this._model.markers);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.name.split(":",1)[0];if(this._observedMarkers.has(o)){var a,s=i.getRange(),c=_createForOfIteratorHelper(this.getRanges());try{for(c.s();!(a=c.n()).done;){var u=a.value;s.containsRange(u,!u.isCollapsed)&&t.push(i)}}catch(v){c.e(v)}finally{c.f()}}}}catch(v){r.e(v)}finally{r.f()}for(var l=Array.from(this.markers),h=0,d=t;h<d.length;h++){var f=d[h];this.markers.has(f)||(this.markers.add(f),n=!0)}for(var A=0,p=Array.from(this.markers);A<p.length;A++){var g=p[A];t.includes(g)||(this.markers.remove(g),n=!0)}n&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}}},{key:"_updateMarker",value:function(e,t){var n=e.name.split(":",1)[0];if(this._observedMarkers.has(n)){var r=!1,i=Array.from(this.markers),o=this.markers.has(e);if(t){var a,s=!1,c=_createForOfIteratorHelper(this.getRanges());try{for(c.s();!(a=c.n()).done;){var u=a.value;if(t.containsRange(u,!u.isCollapsed)){s=!0;break}}}catch(l){c.e(l)}finally{c.f()}s&&!o?(this.markers.add(e),r=!0):!s&&o&&(this.markers.remove(e),r=!0)}else o&&(this.markers.remove(e),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}}},{key:"_updateAttributes",value:function(e){var t=Dr(this._getSurroundingAttributes()),n=Dr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var r,i=_createForOfIteratorHelper(this._attributePriority);try{for(i.s();!(r=i.n()).done;){var o=_slicedToArray(r.value,2),a=o[0];"low"==o[1]&&(this._attrs.delete(a),this._attributePriority.delete(a))}}catch(g){i.e(g)}finally{i.f()}}this._setAttributesTo(t);var s,c=[],u=_createForOfIteratorHelper(this.getAttributes());try{for(u.s();!(s=u.n()).done;){var l=_slicedToArray(s.value,2),h=l[0],d=l[1];n.has(h)&&n.get(h)===d||c.push(h)}}catch(g){u.e(g)}finally{u.f()}var f,A=_createForOfIteratorHelper(n);try{for(A.s();!(f=A.n()).done;){var p=_slicedToArray(f.value,1)[0];this.hasAttribute(p)||c.push(p)}}catch(g){A.e(g)}finally{A.f()}c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}},{key:"_setAttribute",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=r?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(e))&&_get(_getPrototypeOf(n.prototype),"getAttribute",this).call(this,e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,i),!0)}},{key:"_removeAttribute",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t?"normal":"low";return!("low"==r&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,r),!_get(_getPrototypeOf(n.prototype),"hasAttribute",this).call(this,e)||(this._attrs.delete(e),0)))}},{key:"_setAttributesTo",value:function(e){var t,n=new Set,r=_createForOfIteratorHelper(this.getAttributes());try{for(r.s();!(t=r.n()).done;){var i=_slicedToArray(t.value,2),o=i[0],a=i[1];e.get(o)!==a&&this._removeAttribute(o,!1)}}catch(d){r.e(d)}finally{r.f()}var s,c=_createForOfIteratorHelper(e);try{for(c.s();!(s=c.n()).done;){var u=_slicedToArray(s.value,2),l=u[0],h=u[1];this._setAttribute(l,h,!1)&&n.add(l)}}catch(d){c.e(d)}finally{c.f()}return n}},{key:"getStoredAttributes",value:_regeneratorRuntime().mark((function e(){var t,n,r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=21;break}n=_createForOfIteratorHelper(t.getAttributeKeys()),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=13;break}if(!(i=r.value).startsWith(ds)){e.next=11;break}return o=i.substr(ds.length),e.next=11,[o,t.getAttribute(i)];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,15,18,21]])}))},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var r=e.textNode?e.textNode:e.nodeBefore,i=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=ps(r)),n||(n=ps(i)),!this.isGravityOverridden&&!n)for(var o=r;o&&!t.isInline(o)&&!n;)n=ps(o=o.previousSibling);if(!n)for(var a=i;a&&!t.isInline(a)&&!n;)n=ps(a=a.nextSibling);n||(n=this.getStoredAttributes())}else{var s,c=_createForOfIteratorHelper(this.getFirstRange());try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.item.is("element")&&t.isObject(u.item))break;if("text"==u.type){n=u.item.getAttributes();break}}}catch(l){c.e(l)}finally{c.f()}}return n}},{key:"_fixGraveyardSelection",value:function(e){var t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}]),n}(is);function ps(e){return e instanceof Qa||e instanceof ja?e.getAttributes():null}var gs=function(){function e(t){_classCallCheck(this,e),this._dispatchers=t}return _createClass(e,[{key:"add",value:function(e){var t,n=_createForOfIteratorHelper(this._dispatchers);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(r){n.e(r)}finally{n.f()}return this}}]),e}(),vs=function(e){return xn(e,5)},ms=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"elementToElement",value:function(e){return this.add(function(e){var t=ws(e.model),n=_s(e.view,"container");return t.attributes.length&&(t.children=!0),function(r){r.on("insert:".concat(t.name),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ds;return function(n,r,i){if(t(r.item,i.consumable,{preflight:!0})){var o=e(r.item,i,r);if(o){t(r.item,i.consumable);var a=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(a,o),i.convertAttributes(r.item),Is(o,r.item.getChildren(),i,{reconversion:r.reconversion})}}}}(n,Es(t)),{priority:e.converterPriority||"normal"}),(t.children||t.attributes.length)&&r.on("reduceChanges",xs(t),{priority:"low"})}}(e))}},{key:"elementToStructure",value:function(e){return this.add(function(e){var t=ws(e.model),n=_s(e.view,"container");return t.children=!0,function(r){if(r._conversionApi.schema.checkChild(t.name,"$text"))throw new C("conversion-element-to-structure-disallowed-text",r,{elementName:t.name});var i,o;r.on("insert:".concat(t.name),(i=n,o=Es(t),function(e,t,n){if(o(t.item,n.consumable,{preflight:!0})){var r=new Map;n.writer._registerSlotFactory(function(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",o=r.createContainerElement("$slot"),a=null;if("children"===i)a=Array.from(e.getChildren());else{if("function"!=typeof i)throw new C("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:i});a=Array.from(e.getChildren()).filter((function(e){return i(e)}))}return t.set(o,a),o}}(t.item,r,n));var a=i(t.item,n,t);if(n.writer._clearSlotFactory(),a){!function(e,t,n){var r=Array.from(t.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new C("conversion-slot-filter-overlap",n.dispatcher,{element:e});if(i.size!=e.childCount)throw new C("conversion-slot-filter-incomplete",n.dispatcher,{element:e})}(t.item,r,n),o(t.item,n.consumable);var s=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(t.item,a),n.writer.insert(s,a),n.convertAttributes(t.item),function(e,t,n,r){n.mapper.on("modelToViewPosition",u,{priority:"highest"});var i,o=null,a=null,s=_createForOfIteratorHelper(t);try{for(s.s();!(i=s.n()).done;){var c=_slicedToArray(i.value,2);o=c[0],Is(e,a=c[1],n,r),n.writer.move(n.writer.createRangeIn(o),n.writer.createPositionBefore(o)),n.writer.remove(o)}}catch(l){s.e(l)}finally{s.f()}function u(e,t){var n=a.indexOf(t.modelPosition.nodeAfter);n<0||(t.viewPosition=t.mapper.findPositionIn(o,n))}n.mapper.off("modelToViewPosition",u)}(a,r,n,{reconversion:t.reconversion})}}}),{priority:e.converterPriority||"normal"}),r.on("reduceChanges",xs(t),{priority:"low"})}}(e))}},{key:"attributeToElement",value:function(e){return this.add(function(e){var t=(e=vs(e)).model;"string"==typeof t&&(t={key:t});var n="attribute:".concat(t.key);if(t.name&&(n+=":"+t.name),t.values){var r,i=_createForOfIteratorHelper(t.values);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.view[o]=_s(e.view[o],"attribute")}}catch(s){i.e(s)}finally{i.f()}}else e.view=_s(e.view,"attribute");var a=ks(e);return function(t){t.on(n,function(e){return function(t,n,r){if(r.consumable.test(n.item,t.name)){var i=e(n.attributeOldValue,r,n),o=e(n.attributeNewValue,r,n);if(i||o){r.consumable.consume(n.item,t.name);var a=r.writer;if(n.item instanceof is||n.item instanceof fs)a.wrap(a.document.selection.getFirstRange(),o);else{var s=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(s=a.unwrap(s,i)),null!==n.attributeNewValue&&o&&a.wrap(s,o)}}}}}(a),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t=(e=vs(e)).model;"string"==typeof t&&(t={key:t});var n="attribute:".concat(t.key);if(t.name&&(n+=":"+t.name),t.values){var r,i=_createForOfIteratorHelper(t.values);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.view[o]=Cs(e.view[o])}}catch(s){i.e(s)}finally{i.f()}}else e.view=Cs(e.view);var a=ks(e);return function(t){var r;t.on(n,(r=a,function(e,t,n){if(n.consumable.test(t.item,e.name)){var i=r(t.attributeOldValue,n,t),o=r(t.attributeNewValue,n,t);if(i||o){n.consumable.consume(t.item,e.name);var a=n.mapper.toViewElement(t.item),c=n.writer;if(!a)throw new C("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(null!==t.attributeOldValue&&i)if("class"==i.key){var u,l=_createForOfIteratorHelper(_r(i.value));try{for(l.s();!(u=l.n()).done;){var h=u.value;c.removeClass(h,a)}}catch(s){l.e(s)}finally{l.f()}}else if("style"==i.key)for(var d=0,f=Object.keys(i.value);d<f.length;d++){var A=f[d];c.removeStyle(A,a)}else c.removeAttribute(i.key,a);if(null!==t.attributeNewValue&&o)if("class"==o.key){var p,g=_createForOfIteratorHelper(_r(o.value));try{for(g.s();!(p=g.n()).done;){var v=p.value;c.addClass(v,a)}}catch(s){g.e(s)}finally{g.f()}}else if("style"==o.key)for(var m=0,b=Object.keys(o.value);m<b.length;m++){var y=b[m];c.setStyle(y,o.value[y],a)}else c.setAttribute(o.key,o.value,a)}}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(function(e){var t=_s(e.view,"ui");return function(n){var r;n.on("addMarker:".concat(e.model),(r=t,function(e,t,n){t.isOpening=!0;var i=r(t,n);t.isOpening=!1;var o=r(t,n);if(i&&o){var a=t.markerRange;if(!a.isCollapsed||n.consumable.consume(a,e.name)){var s,c=_createForOfIteratorHelper(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!n.consumable.consume(u.item,e.name))return}}catch(d){c.e(d)}finally{c.f()}var l=n.mapper,h=n.writer;h.insert(l.toViewPosition(a.start),i),n.mapper.bindElementToMarker(i,t.markerName),a.isCollapsed||(h.insert(l.toViewPosition(a.end),o),n.mapper.bindElementToMarker(o,t.markerName)),e.stop()}}}),{priority:e.converterPriority||"normal"}),n.on("removeMarker:".concat(e.model),(function(e,t,n){var r=n.mapper.markerNameToElements(t.markerName);if(r){var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;n.mapper.unbindElementFromMarkerName(a,t.markerName),n.writer.clear(n.writer.createRangeOn(a),a)}}catch(s){o.e(s)}finally{o.f()}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToHighlight",value:function(e){return this.add(function(e){return function(t){var n;t.on("addMarker:".concat(e.model),(n=e.view,function(e,t,r){if(t.item&&(t.item instanceof is||t.item instanceof fs||t.item.is("$textProxy"))){var i=Ss(n,t,r);if(i&&r.consumable.consume(t.item,e.name)){var o=r.writer,a=bs(o,i);if(t.item instanceof is||t.item instanceof fs)o.wrap(o.document.selection.getFirstRange(),a);else{var s,c=r.mapper.toViewRange(t.range),u=_createForOfIteratorHelper(o.wrap(c,a).getItems());try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l.is("attributeElement")&&l.isSimilar(a)){r.mapper.bindElementToMarker(l,t.markerName);break}}}catch(h){u.e(h)}finally{u.f()}}}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:".concat(e.model),function(e){return function(t,n,r){if(n.item&&n.item instanceof Ha){var i=Ss(e,n,r);if(i&&r.consumable.test(n.item,t.name)){var o=r.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){r.consumable.consume(n.item,t.name);var a,s=_createForOfIteratorHelper(Xa._createIn(n.item));try{for(s.s();!(a=s.n()).done;){var c=a.value;r.consumable.consume(c.item,t.name)}}catch(u){s.e(u)}finally{s.f()}o.getCustomProperty("addHighlight")(o,i,r.writer),r.mapper.bindElementToMarker(o,n.markerName)}}}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:".concat(e.model),function(e){return function(t,n,r){if(!n.markerRange.isCollapsed){var i=Ss(e,n,r);if(i){var o=bs(r.writer,i),a=r.mapper.markerNameToElements(n.markerName);if(a){var s,c=_createForOfIteratorHelper(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;r.mapper.unbindElementFromMarkerName(u,n.markerName),u.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(u),o):u.getCustomProperty("removeHighlight")(u,i.id,r.writer)}}catch(l){c.e(l)}finally{c.f()}r.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToData",value:function(e){return this.add(function(e){var t=(e=vs(e)).model,n=e.view;return n||(n=function(n){return{group:t,name:n.substr(e.model.length+1)}}),function(r){var i;r.on("addMarker:".concat(t),(i=n,function(e,t,n){var r=i(t.markerName,n);if(r){var o=t.markerRange;n.consumable.consume(o,e.name)&&(ys(o,!1,n,t,r),ys(o,!0,n,t,r),e.stop())}}),{priority:e.converterPriority||"normal"}),r.on("removeMarker:".concat(t),function(e){return function(t,n,r){var i=e(n.markerName,r);if(i){var o=r.mapper.markerNameToElements(n.markerName);if(o){var a,s=_createForOfIteratorHelper(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;r.mapper.unbindElementFromMarkerName(c,n.markerName),c.is("containerElement")?(u("data-".concat(i.group,"-start-before"),c),u("data-".concat(i.group,"-start-after"),c),u("data-".concat(i.group,"-end-before"),c),u("data-".concat(i.group,"-end-after"),c)):r.writer.clear(r.writer.createRangeOn(c),c)}}catch(l){s.e(l)}finally{s.f()}r.writer.clearClonedElementsGroup(n.markerName),t.stop()}}function u(e,t){if(t.hasAttribute(e)){var n=new Set(t.getAttribute(e).split(","));n.delete(i.name),0==n.size?r.writer.removeAttribute(e,t):r.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(n),{priority:e.converterPriority||"normal"})}}(e))}}]),n}(gs);function bs(e,t){var n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),"number"==typeof t.priority&&(n._priority=t.priority),n._id=t.id,n}function ys(e,t,n,r,i){var o=t?e.start:e.end,a=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,s=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(a||s){var c,u;t&&a||!t&&!s?(c=a,u=!0):(c=s,u=!1);var l=n.mapper.toViewElement(c);if(l)return void function(e,t,n,r,i,o){var a="data-".concat(o.group,"-").concat(t?"start":"end","-").concat(n?"before":"after"),s=e.hasAttribute(a)?e.getAttribute(a).split(","):[];s.unshift(o.name),r.writer.setAttribute(a,s.join(","),e),r.mapper.bindElementToMarker(e,i.markerName)}(l,t,u,n,r,i)}!function(e,t,n,r,i){var o=n.writer.createUIElement("".concat(i.group,"-").concat(t?"start":"end"),i.name?{name:i.name}:null);n.writer.insert(e,o),n.mapper.bindElementToMarker(o,r.markerName)}(n.mapper.toViewPosition(o),t,n,r,i)}function ws(e){return"string"==typeof e&&(e={name:e}),e.attributes?Array.isArray(e.attributes)||(e.attributes=[e.attributes]):e.attributes=[],e.children=!!e.children,e}function _s(e,t){return"function"==typeof e?e:function(n,r){return function(e,t,n){var r;"string"==typeof e&&(e={name:e});var i=t.writer,o=Object.assign({},e.attributes);if(r="container"==n?i.createContainerElement(e.name,o):"attribute"==n?i.createAttributeElement(e.name,o,{priority:e.priority||ro.DEFAULT_PRIORITY}):i.createUIElement(e.name,o),e.styles)for(var a=0,s=Object.keys(e.styles);a<s.length;a++){var c=s[a];i.setStyle(c,e.styles[c],r)}if(e.classes){var u=e.classes;if("string"==typeof u)i.addClass(u,r);else{var l,h=_createForOfIteratorHelper(u);try{for(h.s();!(l=h.n()).done;){var d=l.value;i.addClass(d,r)}}catch(f){h.e(f)}finally{h.f()}}}return r}(e,r,t)}}function ks(e){return e.model.values?function(t,n,r){var i=e.view[t];return i?i(t,n,r):null}:e.view}function Cs(e){return"string"==typeof e?function(t){return{key:e,value:t}}:"object"==typeof e?e.value?function(){return e}:function(t){return{key:e.key,value:t}}:e}function Ss(e,t,n){var r="function"==typeof e?e(t,n):e;return r?(r.priority||(r.priority=10),r.id||(r.id=t.markerName),r):null}function xs(e){var t=function(e){return function(t,n){if(!t.is("element",e.name))return!1;if("attribute"==n.type){if(e.attributes.includes(n.attributeKey))return!0}else if(e.children)return!0;return!1}}(e);return function(e,n){var r=[];n.reconvertedElements||(n.reconvertedElements=new Set);var i,o=_createForOfIteratorHelper(n.changes);try{for(o.s();!(i=o.n()).done;){var a=i.value,s="attribute"==a.type?a.range.start.nodeAfter:a.position.parent;if(s&&t(s,a)){if(!n.reconvertedElements.has(s)){n.reconvertedElements.add(s);var c=qa._createBefore(s);r.push({type:"remove",name:s.name,position:c,length:1},{type:"reinsert",name:s.name,position:c,length:1})}}else r.push(a)}}catch(u){o.e(u)}finally{o.f()}n.changes=r}}function Es(e){return function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=["insert"],a=_createForOfIteratorHelper(e.attributes);try{for(a.s();!(r=a.n()).done;){var s=r.value;t.hasAttribute(s)&&o.push("attribute:".concat(s))}}catch(c){a.e(c)}finally{a.f()}return!!o.every((function(e){return n.test(t,e)}))&&(i.preflight||o.forEach((function(e){return n.consume(t,e)})),!0)}}function Is(e,t,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;Bs(e.root,a,n,r)||n.convertItem(a)}}catch(s){o.e(s)}finally{o.f()}}function Bs(e,t,n,r){var i=n.writer,o=n.mapper;if(!r.reconversion)return!1;var a=o.toViewElement(t);return!(!a||a.root==e||!n.canReuseView(a)||(i.move(i.createRangeOn(a),o.toViewPosition(qa._createBefore(t))),0))}function Ds(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preflight;return r?t.test(e,"insert"):t.consume(e,"insert")}function Ts(e){var t,n=e.model,r=n.schema,i=n.document,o=_createForOfIteratorHelper(i.getRootNames());try{for(o.s();!(t=o.n()).done;){var a=t.value,s=i.getRoot(a);if(s.isEmpty&&!r.checkChild(s,"$text")&&r.checkChild(s,"paragraph"))return e.insertElement("paragraph",s),!0}}catch(c){o.e(c)}finally{o.f()}return!1}function Os(e,t,n){var r=n.createContext(e);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),t)}function Fs(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}var Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"elementToElement",value:function(e){return this.add(Ps(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(e){Ls(e=vs(e));var t=Us(e,!1),n=Ns(e.view),r=n?"element:".concat(n):"element";return function(n){n.on(r,t,{priority:e.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t=null;("string"==typeof(e=vs(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t,n=e.view.key;return t="class"==n||"style"==n?_defineProperty2({},"class"==n?"classes":"styles",e.view.value):{attributes:_defineProperty2({},n,void 0===e.view.value?/[\s\S]*/:e.view.value)},e.view.name&&(t.name=e.view.name),e.view=t,n}(e)),Ls(e,t);var n=Us(e,!0);return function(t){t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return this.add(function(e){var t=function(e){return function(t,n){var r="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":r})}}(e.model);return Ps(_objectSpread(_objectSpread({},e),{},{model:t}))}(e))}},{key:"dataToMarker",value:function(e){return this.add(function(e){(e=vs(e)).model||(e.model=function(t){return t?e.view+":"+t:e.view});var t={view:e.view,model:e.model},n=Ms(js(t,"start")),r=Ms(js(t,"end"));return function(i){i.on("element:".concat(e.view,"-start"),n,{priority:e.converterPriority||"normal"}),i.on("element:".concat(e.view,"-end"),r,{priority:e.converterPriority||"normal"});var o=_.get("low"),a=_.get("highest"),s=_.get(e.converterPriority)/a;i.on("element",function(e){return function(t,n,r){var i="data-".concat(e.view);function o(t,i){var o,a=_createForOfIteratorHelper(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=e.model(s,r),u=r.writer.createElement("$marker",{"data-name":c});r.writer.insert(u,t),n.modelCursor=n.modelCursor.isEqual(t)?n.modelCursor.getShiftedBy(1):n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}catch(l){a.e(l)}finally{a.f()}}(r.consumable.test(n.viewItem,{attributes:i+"-end-after"})||r.consumable.test(n.viewItem,{attributes:i+"-start-after"})||r.consumable.test(n.viewItem,{attributes:i+"-end-before"})||r.consumable.test(n.viewItem,{attributes:i+"-start-before"}))&&(n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(",")))}}(t),{priority:o+s})}}(e))}}]),n}(gs);function Ps(e){var t=Ms(e=vs(e)),n=Ns(e.view),r=n?"element:".concat(n):"element";return function(n){n.on(r,t,{priority:e.converterPriority||"normal"})}}function Ns(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function Ms(e){var t=new ni(e.view);return function(n,r,i){var o=t.match(r.viewItem);if(o){var a=o.match;if(a.name=!0,i.consumable.test(r.viewItem,a)){var s=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,r.viewItem,i);s&&i.safeInsert(s,r.modelCursor)&&(i.consumable.consume(r.viewItem,a),i.convertChildren(r.viewItem,s),i.updateConversionResult(s,r))}}}}function Ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t||function(e){return e.getAttribute(t)};e.model={key:"object"!=typeof e.model?e.model:e.model.key,value:"object"!=typeof e.model||void 0===e.model.value?n:e.model.value}}function Us(e,t){var n=new ni(e.view);return function(r,i,o){if(i.modelRange||!t){var a=n.match(i.viewItem);if(a&&(function(e,t){var n="function"==typeof e?e(t):e;return!("object"==typeof n&&!Ns(n)||n.classes||n.attributes||n.styles)}(e.view,i.viewItem)?a.match.name=!0:delete a.match.name,o.consumable.test(i.viewItem,a.match))){var s=e.model.key,c="function"==typeof e.model.value?e.model.value(i.viewItem,o):e.model.value;null!==c&&(i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor)),function(e,t,n,r){for(var i=!1,o=0,a=Array.from(e.getItems({shallow:n}));o<a.length;o++){var s=a[o];r.schema.checkAttribute(s,t.key)&&(i=!0,s.hasAttribute(t.key)||r.writer.setAttribute(t.key,t.value,s))}return i}(i.modelRange,{key:s,value:c},t,o)&&(o.consumable.test(i.viewItem,{name:!0})&&(a.match.name=!0),o.consumable.consume(i.viewItem,a.match)))}}}}function js(e,t){return{view:"".concat(e.view,"-").concat(t),model:function(t,n){var r=t.getAttribute("name"),i=e.model(r,n);return n.writer.createElement("$marker",{"data-name":i})}}}var Qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this)).model=e,i.view=new Na(r),i.mapper=new Za,i.downcastDispatcher=new ts({mapper:i.mapper,schema:e.schema});var o=i.model.document,a=o.selection,s=i.model.markers;return i.listenTo(i.model,"_beforeChanges",(function(){i.view._disableRendering(!0)}),{priority:"highest"}),i.listenTo(i.model,"_afterChanges",(function(){i.view._disableRendering(!1)}),{priority:"lowest"}),i.listenTo(o,"change",(function(){i.view.change((function(e){i.downcastDispatcher.convertChanges(o.differ,s,e),i.downcastDispatcher.convertSelection(a,s,e)}))}),{priority:"low"}),i.listenTo(i.view.document,"selectionChange",function(e,t){return function(n,r){var i,o=r.newSelection,a=[],s=_createForOfIteratorHelper(o.getRanges());try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(t.toModelRange(c))}}catch(l){s.e(l)}finally{s.f()}var u=e.createSelection(a,{backward:o.isBackward});u.isEqual(e.document.selection)||e.change((function(e){e.setSelection(u)}))}}(i.model,i.mapper)),i.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,e.name)){var r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}}),{priority:"lowest"}),i.downcastDispatcher.on("insert",(function(e,t,n){n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),i.downcastDispatcher.on("remove",(function(e,t,n){var r,i=n.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),a=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(i,a),c=n.writer.remove(s.getTrimmed()),u=_createForOfIteratorHelper(n.writer.createRangeIn(c).getItems());try{for(u.s();!(r=u.n()).done;){var l=r.value;n.mapper.unbindViewElement(l,{defer:!0})}}catch(h){u.e(h)}finally{u.f()}}),{priority:"low"}),i.downcastDispatcher.on("selection",(function(e,t,n){var r,i=n.writer,o=_createForOfIteratorHelper(i.document.selection.getRanges());try{for(o.s();!(r=o.n()).done;){var a=r.value;a.isCollapsed&&a.end.parent.isAttached()&&n.writer.mergeAttributes(a.start)}}catch(s){o.e(s)}finally{o.f()}i.setSelection(null)}),{priority:"high"}),i.downcastDispatcher.on("selection",(function(e,t,n){var r=t.selection;if(!r.isCollapsed&&n.consumable.consume(r,"selection")){var i,o=[],a=_createForOfIteratorHelper(r.getRanges());try{for(a.s();!(i=a.n()).done;){var s=i.value;o.push(n.mapper.toViewRange(s))}}catch(c){a.e(c)}finally{a.f()}n.writer.setSelection(o,{backward:r.isBackward})}}),{priority:"low"}),i.downcastDispatcher.on("selection",(function(e,t,n){var r=t.selection;if(r.isCollapsed&&n.consumable.consume(r,"selection")){var i=n.writer,o=r.getFirstPosition(),a=n.mapper.toViewPosition(o),s=i.breakAttributes(a);i.setSelection(s)}}),{priority:"low"}),i.view.document.roots.bindTo(i.model.document.roots).using((function(e){if("$graveyard"==e.rootName)return null;var t=new Qi(i.view.document,e.name);return t.rootName=e.rootName,i.mapper.bindElements(e,t),t})),i}return _createClass(n,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}},{key:"reconvertMarker",value:function(e){var t=this,n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new C("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:n});this.model.change((function(){t.model.markers._refresh(r)}))}},{key:"reconvertItem",value:function(e){var t=this;this.model.change((function(){t.model.document.differ._refreshItem(e)}))}}]),n}(W()),Hs=function(){function e(){_classCallCheck(this,e),this._consumables=new Map}return _createClass(e,[{key:"add",value:function(e,t){var n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new zs(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t,n={element:e,name:!0,attributes:[],classes:[],styles:[]},r=_createForOfIteratorHelper(e.getAttributeKeys());try{for(r.s();!(t=r.n()).done;){var i=t.value;"style"!=i&&"class"!=i&&n.attributes.push(i)}}catch(h){r.e(h)}finally{r.f()}var o,a=_createForOfIteratorHelper(e.getClassNames());try{for(a.s();!(o=a.n()).done;){var s=o.value;n.classes.push(s)}}catch(h){a.e(h)}finally{a.f()}var c,u=_createForOfIteratorHelper(e.getStyleNames());try{for(u.s();!(c=u.n()).done;){var l=c.value;n.styles.push(l)}}catch(h){u.e(h)}finally{u.f()}return n}},{key:"createFrom",value:function(t,n){if(n||(n=new e),t.is("$text"))return n.add(t),n;t.is("element")&&n.add(t,e.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var r,i=_createForOfIteratorHelper(t.getChildren());try{for(i.s();!(r=i.n()).done;){var o=r.value;n=e.createFrom(o,n)}}catch(a){i.e(a)}finally{i.f()}return n}}]),e}(),Vs=["attributes","classes","styles"],zs=function(){function e(t){_classCallCheck(this,e),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return _createClass(e,[{key:"add",value:function(e){e.name&&(this._canConsumeName=!0);var t,n=_createForOfIteratorHelper(Vs);try{for(n.s();!(t=n.n()).done;){var r=t.value;r in e&&this._add(r,e[r])}}catch(i){n.e(i)}finally{n.f()}}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;var t,n=_createForOfIteratorHelper(Vs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r in e){var i=this._test(r,e[r]);if(!0!==i)return i}}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"consume",value:function(e){e.name&&(this._canConsumeName=!1);var t,n=_createForOfIteratorHelper(Vs);try{for(n.s();!(t=n.n()).done;){var r=t.value;r in e&&this._consume(r,e[r])}}catch(i){n.e(i)}finally{n.f()}}},{key:"revert",value:function(e){e.name&&(this._canConsumeName=!0);var t,n=_createForOfIteratorHelper(Vs);try{for(n.s();!(t=n.n()).done;){var r=t.value;r in e&&this._revert(r,e[r])}}catch(i){n.e(i)}finally{n.f()}}},{key:"_add",value:function(e,t){var n,r=pe(t)?t:[t],i=this._consumables[e],o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"===e&&("class"===a||"style"===a))throw new C("viewconsumable-invalid-attribute",this);if(i.set(a,!0),"styles"===e){var s,c=_createForOfIteratorHelper(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(c.s();!(s=c.n()).done;){var u=s.value;i.set(u,!0)}}catch(l){c.e(l)}finally{c.f()}}}}catch(l){o.e(l)}finally{o.f()}}},{key:"_test",value:function(e,t){var n,r=pe(t)?t:[t],i=this._consumables[e],o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"!==e||"class"!==a&&"style"!==a){var s=i.get(a);if(void 0===s)return null;if(!s)return!1}else{var c="class"==a?"classes":"styles",u=this._test(c,_toConsumableArray(this._consumables[c].keys()));if(!0!==u)return u}}}catch(l){o.e(l)}finally{o.f()}return!0}},{key:"_consume",value:function(e,t){var n,r=pe(t)?t:[t],i=this._consumables[e],o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"!==e||"class"!==a&&"style"!==a){if(i.set(a,!1),"styles"==e){var s,c=_createForOfIteratorHelper(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(c.s();!(s=c.n()).done;){var u=s.value;i.set(u,!1)}}catch(h){c.e(h)}finally{c.f()}}}else{var l="class"==a?"classes":"styles";this._consume(l,_toConsumableArray(this._consumables[l].keys()))}}}catch(h){o.e(h)}finally{o.f()}}},{key:"_revert",value:function(e,t){var n,r=pe(t)?t:[t],i=this._consumables[e],o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("attributes"!==e||"class"!==a&&"style"!==a)!1===i.get(a)&&i.set(a,!0);else{var s="class"==a?"classes":"styles";this._revert(s,_toConsumableArray(this._consumables[s].keys()))}}}catch(c){o.e(c)}finally{o.f()}}}]),e}(),qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._sourceDefinitions={},e._attributeProperties={},e.decorate("checkChild"),e.decorate("checkAttribute"),e.on("checkAttribute",(function(e,t){t[0]=new Ks(t[0])}),{priority:"highest"}),e.on("checkChild",(function(t,n){n[0]=new Ks(n[0]),n[1]=e.getDefinition(n[1])}),{priority:"highest"}),e}return _createClass(n,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new C("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new C("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isBlock)}},{key:"isLimit",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}},{key:"isObject",value:function(e){var t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}},{key:"isInline",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isInline)}},{key:"isSelectable",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isSelectable&&!t.isObject)}},{key:"isContent",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isContent&&!t.isObject)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){var n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e,t){if(e instanceof qa){var n=e.nodeBefore,r=e.nodeAfter;if(!(n instanceof Ha))throw new C("schema-check-merge-no-element-before",this);if(!(r instanceof Ha))throw new C("schema-check-merge-no-element-after",this);return this.checkMerge(n,r)}var i,o=_createForOfIteratorHelper(t.getChildren());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!this.checkChild(e,a))return!1}}catch(s){o.e(s)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",(function(t,n){var r=_slicedToArray(n,2),i=r[0],o=r[1];if(o){var a=e(i,o);"boolean"==typeof a&&(t.stop(),t.return=a)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",(function(t,n){var r=_slicedToArray(n,2),i=r[0],o=r[1],a=e(i,o);"boolean"==typeof a&&(t.stop(),t.return=a)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var t;for(t=e instanceof qa?e.parent:(e instanceof Xa?[e]:Array.from(e.getRanges())).reduce((function(e,t){var n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=[].concat(_toConsumableArray(e.getFirstPosition().getAncestors()),[new ja("",e.getAttributes())]);return this.checkAttribute(n,t)}var r,i=_createForOfIteratorHelper(e.getRanges());try{for(i.s();!(r=i.n()).done;){var o,a=_createForOfIteratorHelper(r.value);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(this.checkAttribute(s.item,t))return!0}}catch(c){a.e(c)}finally{a.f()}}}catch(c){i.e(c)}finally{i.f()}return!1}},{key:"getValidRanges",value:_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_createForOfIteratorHelper(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=8;break}return i=r.value,e.delegateYield(i.getMinimalFlatRanges(),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))(t),r=_createForOfIteratorHelper(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=9;break}return o=i.value,e.delegateYield(this._getValidRangesForRange(o,n),"t0",7);case 7:e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),r.e(e.t1);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,11,14,17]])}))},{key:"getNearestSelectionRange",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new Xa(e);var o=e.getAncestors().reverse().find((function(e){return r.isLimit(e)}))||e.root;"both"!=i&&"backward"!=i||(t=new Va({boundaries:Xa._createIn(o),startPosition:e,direction:"backward"})),"both"!=i&&"forward"!=i||(n=new Va({boundaries:Xa._createIn(o),startPosition:e}));var a,s=_createForOfIteratorHelper(_regeneratorRuntime().mark((function e(t,n){var r,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1;case 1:if(r){e.next=18;break}if(r=!0,!t){e.next=9;break}if(i=t.next(),e.t0=i.done,e.t0){e.next=9;break}return r=!1,e.next=9,{walker:t,value:i.value};case 9:if(!n){e.next=16;break}if(o=n.next(),e.t1=o.done,e.t1){e.next=16;break}return r=!1,e.next=16,{walker:n,value:o.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e)}))(t,n));try{for(s.s();!(a=s.n()).done;){var c=a.value,u=c.value;if(u.type==(c.walker==t?"elementEnd":"elementStart")&&this.isObject(u.item))return Xa._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new Xa(u.nextPosition)}}catch(l){s.e(l)}finally{s.f()}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"setAllowedAttributes",value:function(e,t,n){for(var r=n.model,i=0,o=Object.entries(t);i<o.length;i++){var a=_slicedToArray(o[i],2),s=a[0],c=a[1];r.schema.checkAttribute(e,s)&&n.setAttribute(s,c,e)}}},{key:"removeDisallowedAttributes",value:function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is("$text"))oc(this,i,t);else{var o,a=_createForOfIteratorHelper(Xa._createIn(i).getPositions());try{for(a.s();!(o=a.n()).done;){var s=o.value;oc(this,s.nodeBefore||s.parent,t)}}catch(c){a.e(c)}finally{a.f()}}}}catch(c){r.e(c)}finally{r.f()}}},{key:"getAttributesWithProperty",value:function(e,t,n){var r,i={},o=_createForOfIteratorHelper(e.getAttributes());try{for(o.s();!(r=o.n()).done;){var a=_slicedToArray(r.value,2),s=a[0],c=a[1],u=this.getAttributeProperties(s);void 0!==u[t]&&(void 0!==n&&n!==u[t]||(i[s]=c))}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"createContext",value:function(e){return new Ks(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),r=0,i=n;r<i.length;r++){var o=i[r];e[o]=Gs(t[o],o)}for(var a=0,s=n;a<s.length;a++){Ws(e,s[a])}for(var c=0,u=n;c<u.length;c++){Ys(e,u[c])}for(var l=0,h=n;l<h.length;l++){Js(e,h[l])}for(var d=0,f=n;d<f.length;d++){var A=f[d];Xs(e,A),Zs(e,A)}for(var p=0,g=n;p<g.length;p++){var v=g[p];$s(e,v),ec(e,v),tc(e,v)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,r=t.getItem(n);if(e.allowIn.includes(r.name)){if(0==n)return!0;var i=this.getDefinition(r);return this._checkContextMatch(i,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:_regeneratorRuntime().mark((function e(t,n){var r,i,o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.start,i=t.start,o=_createForOfIteratorHelper(t.getItems({shallow:!0})),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=19;break}if(s=a.value,e.t0=s.is("element"),!e.t0){e.next=9;break}return e.delegateYield(this._getValidRangesForRange(Xa._createIn(s),n),"t1",9);case 9:if(e.t2=this.checkAttribute(s,n),e.t2){e.next=16;break}if(e.t3=r.isEqual(i),e.t3){e.next=15;break}return e.next=15,new Xa(r,i);case 15:r=qa._createAfter(s);case 16:i=qa._createAfter(s);case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t4=e.catch(2),o.e(e.t4);case 24:return e.prev=24,o.f(),e.finish(24);case 27:if(e.t5=r.isEqual(i),e.t5){e.next=31;break}return e.next=31,new Xa(r,i);case 31:case"end":return e.stop()}}),e,this,[[2,21,24,27]])}))}]),n}(W()),Ks=function(e){function t(e){if(_classCallCheck(this,t),e instanceof t)return e;var n;n="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=n.map(ic)}return _createClass(t,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var n=new t([e]);return n._items=[].concat(_toConsumableArray(this._items),_toConsumableArray(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map((function(e){return e.name})),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}]),t}();function Gs(e,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=_createForOfIteratorHelper(Object.keys(o).filter((function(e){return e.startsWith("is")})));try{for(a.s();!(i=a.n()).done;){var s=i.value;t[s]=!!o[s]}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}}(e,n),nc(e,n,"allowIn"),nc(e,n,"allowContentOf"),nc(e,n,"allowWhere"),nc(e,n,"allowAttributes"),nc(e,n,"allowAttributesOf"),nc(e,n,"allowChildren"),nc(e,n,"inheritTypesFrom"),function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value.inheritAllFrom;i&&(t.allowContentOf.push(i),t.allowWhere.push(i),t.allowAttributesOf.push(i),t.inheritTypesFrom.push(i))}}catch(o){r.e(o)}finally{r.f()}}(e,n),n}function Ws(e,t){var n,r=e[t],i=_createForOfIteratorHelper(r.allowChildren);try{for(i.s();!(n=i.n()).done;){var o=e[n.value];o&&o.allowIn.push(t)}}catch(a){i.e(a)}finally{i.f()}r.allowChildren.length=0}function Ys(e,t){var n,r=_createForOfIteratorHelper(e[t].allowContentOf);try{for(r.s();!(n=r.n()).done;){var i=n.value;e[i]&&rc(e,i).forEach((function(e){e.allowIn.push(t)}))}}catch(o){r.e(o)}finally{r.f()}delete e[t].allowContentOf}function Js(e,t){var n,r=_createForOfIteratorHelper(e[t].allowWhere);try{for(r.s();!(n=r.n()).done;){var i,o=e[n.value];o&&(i=e[t].allowIn).push.apply(i,_toConsumableArray(o.allowIn))}}catch(a){r.e(a)}finally{r.f()}delete e[t].allowWhere}function Xs(e,t){var n,r=_createForOfIteratorHelper(e[t].allowAttributesOf);try{for(r.s();!(n=r.n()).done;){var i,o=e[n.value];o&&(i=e[t].allowAttributes).push.apply(i,_toConsumableArray(o.allowAttributes))}}catch(a){r.e(a)}finally{r.f()}delete e[t].allowAttributesOf}function Zs(e,t){var n,r=e[t],i=_createForOfIteratorHelper(r.inheritTypesFrom);try{for(i.s();!(n=i.n()).done;){var o=e[n.value];if(o){var a,s=_createForOfIteratorHelper(Object.keys(o).filter((function(e){return e.startsWith("is")})));try{for(s.s();!(a=s.n()).done;){var c=a.value;c in r||(r[c]=o[c])}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){i.e(u)}finally{i.f()}delete r.inheritTypesFrom}function $s(e,t){var n=e[t],r=n.allowIn.filter((function(t){return e[t]}));n.allowIn=Array.from(new Set(r))}function ec(e,t){var n,r=_createForOfIteratorHelper(e[t].allowIn);try{for(r.s();!(n=r.n()).done;){e[n.value].allowChildren.push(t)}}catch(i){r.e(i)}finally{r.f()}}function tc(e,t){var n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function nc(e,t,n){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o,a=r.value[n];"string"==typeof a?t[n].push(a):Array.isArray(a)&&(o=t[n]).push.apply(o,_toConsumableArray(a))}}catch(s){i.e(s)}finally{i.f()}}function rc(e,t){var n,r=e[t];return(n=e,Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return e.allowIn.includes(r.name)}))}function ic(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",getAttributeKeys:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),getAttribute:function(){}}:{name:e.is("element")?e.name:"$text",getAttributeKeys:_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),"t0",1);case 1:case"end":return t.stop()}}),t)})),getAttribute:function(t){return e.getAttribute(t)}}}function oc(e,t,n){var r,i=_createForOfIteratorHelper(t.getAttributeKeys());try{for(i.s();!(r=i.n()).done;){var o=r.value;e.checkAttribute(t,o)||n.removeAttribute(o,t)}}catch(a){i.e(a)}finally{i.f()}}var ac=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._splitParts=new Map,r._cursorParents=new Map,r._modelCursor=null,r._emptyElementsToKeep=new Set,r.conversionApi=_objectSpread(_objectSpread({},e),{},{consumable:null,writer:null,store:null,convertItem:function(e,t){return r._convertItem(e,t)},convertChildren:function(e,t){return r._convertChildren(e,t)},safeInsert:function(e,t){return r._safeInsert(e,t)},updateConversionResult:function(e,t){return r._updateConversionResult(e,t)},splitToAllowedParent:function(e,t){return r._splitToAllowedParent(e,t)},getSplitParts:function(e){return r._getSplitParts(e)},keepEmptyElement:function(e){return r._keepEmptyElement(e)}}),r}return _createClass(n,[{key:"convert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){var n,r,i=_createForOfIteratorHelper(new Ks(e));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,s={},c=_createForOfIteratorHelper(a.getAttributeKeys());try{for(c.s();!(o=c.n()).done;){var u=o.value;s[u]=a.getAttribute(u)}}catch(h){c.e(h)}finally{c.f()}var l=t.createElement(a.name,s);n&&t.insert(l,n),n=qa._createAt(l,0)}}catch(h){i.e(h)}finally{i.f()}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Hs.createFrom(e),this.conversionApi.store={};var r=this._convertItem(e,this._modelCursor),i=r.modelRange,o=t.createDocumentFragment();if(i){this._removeEmptyElements();for(var a=0,s=Array.from(this._modelCursor.parent.getChildren());a<s.length;a++){var c=s[a];t.append(c,o)}o.markers=function(e,t){var n,r=new Set,i=new Map,o=_createForOfIteratorHelper(Xa._createIn(e).getItems());try{for(o.s();!(n=o.n()).done;){var a=n.value;a.is("element","$marker")&&r.add(a)}}catch(d){o.e(d)}finally{o.f()}var s,c=_createForOfIteratorHelper(r);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=u.getAttribute("data-name"),h=t.createPositionBefore(u);i.has(l)?i.get(l).end=h.clone():i.set(l,new Xa(h.clone())),t.remove(u)}}catch(d){c.e(d)}finally{c.f()}return i}(o,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}},{key:"_convertItem",value:function(e,t){var n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire("element:".concat(e.name),n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Xa))throw new C("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(e,t){for(var n=t.is("position")?t:qa._createAt(t,0),r=new Xa(n),i=0,o=Array.from(e.getChildren());i<o.length;i++){var a=o[i],s=this._convertItem(a,n);s.modelRange instanceof Xa&&(r.end=s.modelRange.end,n=s.modelCursor)}return{modelRange:r,modelCursor:n}}},{key:"_safeInsert",value:function(e,t){var n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}},{key:"_updateConversionResult",value:function(e,t){var n=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1])));var i=this._cursorParents.get(e);t.modelCursor=i?r.createPositionAt(i,0):t.modelRange.end}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi,r=n.schema,i=n.writer,o=r.findAllowedParent(t,e);if(o){if(o===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return Os(t,e,r)?{position:Fs(t,i)}:null;var a,s=this.conversionApi.writer.split(t,o),c=[],u=_createForOfIteratorHelper(s.range.getWalker());try{for(u.s();!(a=u.n()).done;){var l=a.value;if("elementEnd"==l.type)c.push(l.item);else{var h=c.pop();this._registerSplitPair(h,l.item)}}}catch(f){u.e(f)}finally{u.f()}var d=s.range.end.parent;return this._cursorParents.set(e,d),{position:s.position,cursorParent:d}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);var n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_keepEmptyElement",value:function(e){this._emptyElementsToKeep.add(e)}},{key:"_removeEmptyElements",value:function(){var e,t=!1,n=_createForOfIteratorHelper(this._splitParts.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),t=!0)}}catch(i){n.e(i)}finally{n.f()}t&&this._removeEmptyElements()}}]),n}(R()),sc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]),e}(),cc=function(){function e(t){_classCallCheck(this,e),this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new zo(t,{renderingMode:"data"}),this.htmlWriter=new sc}return _createClass(e,[{key:"toData",value:function(e){var t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}},{key:"toView",value:function(e){var t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}},{key:"registerRawContentMatcher",value:function(e){this.domConverter.registerRawContentMatcher(e)}},{key:"useFillerType",value:function(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e="<body>".concat(e,"</body>"));for(var t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;r.length>0;)n.appendChild(r[0]);return n}}]),e}(),uc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).model=e,i.mapper=new Za,i.downcastDispatcher=new ts({mapper:i.mapper,schema:e.schema}),i.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,e.name)){var r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}}),{priority:"lowest"}),i.downcastDispatcher.on("insert",(function(e,t,n){n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),i.upcastDispatcher=new ac({schema:e.schema}),i.viewDocument=new no(r),i.stylesProcessor=r,i.htmlProcessor=new cc(i.viewDocument),i.processor=i.htmlProcessor,i._viewWriter=new Ao(i.viewDocument),i.upcastDispatcher.on("text",(function(e,t,n){var r=n.schema,i=n.consumable,o=n.writer,a=t.modelCursor;if(i.test(t.viewItem)){if(!r.checkChild(a,"$text")){if(!Os(a,"$text",r))return;if(0==t.viewItem.data.trim().length)return;a=Fs(a,o)}i.consume(t.viewItem);var s=o.createText(t.viewItem.data);o.insert(s,a),t.modelRange=o.createRange(a,a.getShiftedBy(s.offsetSize)),t.modelCursor=t.modelRange.end}}),{priority:"lowest"}),i.upcastDispatcher.on("element",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var r=n.convertChildren(t.viewItem,t.modelCursor),i=r.modelRange,o=r.modelCursor;t.modelRange=i,t.modelCursor=o}}),{priority:"lowest"}),i.upcastDispatcher.on("documentFragment",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var r=n.convertChildren(t.viewItem,t.modelCursor),i=r.modelRange,o=r.modelCursor;t.modelRange=i,t.modelCursor=o}}),{priority:"lowest"}),W().prototype.decorate.call(_assertThisInitialized(i),"init"),W().prototype.decorate.call(_assertThisInitialized(i),"set"),W().prototype.decorate.call(_assertThisInitialized(i),"get"),i.on("init",(function(){i.fire("ready")}),{priority:"lowest"}),i.on("ready",(function(){i.model.enqueueChange({isUndoable:!1},Ts)}),{priority:"lowest"}),i}return _createClass(n,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rootName,n=void 0===t?"main":t,r=e.trim,i=void 0===r?"empty":r;if(!this._checkIfRootsExists([n]))throw new C("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(n);return"empty"!==i||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,e):""}},{key:"stringify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toView(e,t);return this.processor.toData(n)}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();var i=Xa._createIn(e),o=new fo(n);this.mapper.bindElements(e,o);var a=e.is("documentFragment")?e.markers:function(e){var t=[],n=e.root.document;if(!n)return new Map;var r,i=Xa._createIn(e),o=_createForOfIteratorHelper(n.model.markers);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.getRange(),c=s.isCollapsed,u=s.start.isEqual(i.start)||s.end.isEqual(i.end);if(c&&u)t.push([a.name,s]);else{var l=i.getIntersection(s);l&&t.push([a.name,l])}}}catch(h){o.e(h)}finally{o.f()}return t.sort((function(e,t){var n=_slicedToArray(e,2),r=n[0],i=n[1],o=_slicedToArray(t,2),a=o[0],s=o[1];if("after"!==i.end.compareWith(s.start))return 1;if("before"!==i.start.compareWith(s.end))return-1;switch(i.start.compareWith(s.start)){case"before":return 1;case"after":return-1;default:switch(i.end.compareWith(s.end)){case"before":return 1;case"after":return-1;default:return a.localeCompare(r)}}})),new Map(t)}(e);return this.downcastDispatcher.convert(i,a,r,t),o}},{key:"init",value:function(e){var t=this;if(this.model.document.version)throw new C("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new C("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(function(e){for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r],a=t.model.document.getRoot(o);e.insert(t.parse(n[o],a),a,0)}})),Promise.resolve()}},{key:"set",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof e?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new C("datacontroller-set-non-existent-root",this);this.model.enqueueChange(n.batchType||{},(function(e){e.setSelection(null),e.removeSelectionAttribute(t.model.document.selection.getAttributeKeys());for(var n=0,i=Object.keys(r);n<i.length;n++){var o=i[n],a=t.model.document.getRoot(o);e.remove(e.createRangeIn(a)),e.insert(t.parse(r[o],a),a,0)}}))}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(e);return this.toModel(n,t)}},{key:"toModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(r){return t.upcastDispatcher.convert(e,r,n)}))}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.model.document.getRootNames().includes(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}}]),n}(R()),lc=function(){function e(t,n){_classCallCheck(this,e),this._helpers=new Map,this._downcast=_r(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=_r(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return _createClass(e,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new C("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new C("conversion-for-unknown-group",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t,n=_createForOfIteratorHelper(hc(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.model,o=r.view;this.for("upcast").elementToElement({model:i,view:o,converterPriority:e.converterPriority})}}catch(a){n.e(a)}finally{n.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t,n=_createForOfIteratorHelper(hc(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.model,o=r.view;this.for("upcast").elementToAttribute({view:o,model:i,converterPriority:e.converterPriority})}}catch(a){n.e(a)}finally{n.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t,n=_createForOfIteratorHelper(hc(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.model,o=r.view;this.for("upcast").attributeToAttribute({view:o,model:i})}}catch(a){n.e(a)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,r=e.isDowncast;if(this._helpers.has(t))throw new C("conversion-group-exists",this);var i=r?new ms(n):new Rs(n);this._helpers.set(t,i)}}]),e}();function hc(e){var t,r,i,o,a,s;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.model.values){n.next=20;break}t=_createForOfIteratorHelper(e.model.values),n.prev=2,t.s();case 4:if((r=t.n()).done){n.next=10;break}return i=r.value,o={key:e.model.key,value:i},a=e.view[i],s=e.upcastAlso?e.upcastAlso[i]:void 0,n.delegateYield(dc(o,a,s),"t0",8);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(2),t.e(n.t1);case 15:return n.prev=15,t.f(),n.finish(15);case 18:n.next=21;break;case 20:return n.delegateYield(dc(e.model,e.view,e.upcastAlso),"t2",21);case 21:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}function dc(e,t,n){var i,o,a;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{model:e,view:t};case 2:if(!n){r.next=20;break}i=_createForOfIteratorHelper(_r(n)),r.prev=4,i.s();case 6:if((o=i.n()).done){r.next=12;break}return a=o.value,r.next=10,{model:e,view:a};case 10:r.next=6;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),i.e(r.t0);case 17:return r.prev=17,i.f(),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[4,14,17,20]])}var fc=function(){function e(t){_classCallCheck(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return _createClass(e,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(e,t){return new this(e.baseVersion)}}]),e}();function Ac(e,t){var n=vc(t),r=n.reduce((function(e,t){return e+t.offsetSize}),0),i=e.parent;bc(e);var o=e.index;return i._insertChild(o,n),mc(i,o+n.length),mc(i,o),new Xa(e,e.getShiftedBy(r))}function pc(e){if(!e.isFlat)throw new C("operation-utils-remove-range-not-flat",this);var t=e.start.parent;bc(e.start),bc(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return mc(t,e.start.index),n}function gc(e,t){if(!e.isFlat)throw new C("operation-utils-move-range-not-flat",this);var n=pc(e);return Ac(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function vc(e){var t=[];!function e(n){if("string"==typeof n)t.push(new ja(n));else if(n instanceof Qa)t.push(new ja(n.data,n.getAttributes()));else if(n instanceof La)t.push(n);else if(re(n)){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){e(r.value)}}catch(o){i.e(o)}finally{i.f()}}}(e);for(var n=1;n<t.length;n++){var r=t[n],i=t[n-1];r instanceof ja&&i instanceof ja&&yc(r,i)&&(t.splice(n-1,2,new ja(i.data+r.data,i.getAttributes())),n--)}return t}function mc(e,t){var n=e.getChild(t-1),r=e.getChild(t);if(n&&r&&n.is("$text")&&r.is("$text")&&yc(n,r)){var i=new ja(n.data+r.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function bc(e){var t=e.textNode,n=e.parent;if(t){var r=e.offset-t.startOffset,i=t.index;n._removeChildren(i,1);var o=new ja(t.data.substr(0,r),t.getAttributes()),a=new ja(t.data.substr(r),t.getAttributes());n._insertChild(i,[o,a])}}function yc(e,t){var n,r=e.getAttributes(),i=t.getAttributes(),o=_createForOfIteratorHelper(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a[1]!==t.getAttribute(a[0]))return!1;i.next()}}catch(s){o.e(s)}finally{o.f()}return i.next().done}var wc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,o)).sourcePosition=e.clone(),a.sourcePosition.stickiness="toNext",a.howMany=r,a.targetPosition=i.clone(),a.targetPosition.stickiness="toNone",a}return _createClass(n,[{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}},{key:"clone",value:function(){return new n(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new n(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new C("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new C("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==ne(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var i=this.sourcePosition.path.length-1;if(this.targetPosition.path[i]>=n&&this.targetPosition.path[i]<n+this.howMany)throw new C("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){gc(Xa._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(e,t){var n=qa.fromJSON(e.sourcePosition,t),r=qa.fromJSON(e.targetPosition,t);return new this(n,e.howMany,r,e.baseVersion)}}]),n}(fc),_c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,i)).position=e.clone(),o.position.stickiness="toNone",o.nodes=new Ua(vc(r)),o.shouldReceiveAttributes=!1,o}return _createClass(n,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var e=new Ua(_toConsumableArray(this.nodes).map((function(e){return e._clone(!0)}))),t=new n(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}},{key:"getReversed",value:function(){var e=new qa(this.position.root.document.graveyard,[0]);return new wc(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new C("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new Ua(_toConsumableArray(e).map((function(e){return e._clone(!0)}))),Ac(this.position,e)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(e,t){var r,i=[],o=_createForOfIteratorHelper(e.nodes);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(a.name?Ha.fromJSON(a):ja.fromJSON(a))}}catch(c){o.e(c)}finally{o.f()}var s=new n(qa.fromJSON(e.position,t),i,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}]),n}(fc),kc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var c;return _classCallCheck(this,n),(c=t.call(this,s)).name=e,c.oldRange=r?r.clone():null,c.newRange=i?i.clone():null,c.affectsData=a,c._markers=o,c}return _createClass(n,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(e,t){return new n(e.name,e.oldRange?Xa.fromJSON(e.oldRange,t):null,e.newRange?Xa.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}]),n}(fc),Cc=function(e,t){return Sa(e,t)},Sc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,a)).range=e.clone(),s.key=r,s.oldValue=void 0===i?null:i,s.newValue=void 0===o?null:o,s}return _createClass(n,[{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new n(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new C("attribute-operation-range-not-flat",this);var e,t=_createForOfIteratorHelper(this.range.getItems({shallow:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==this.oldValue&&!Cc(n.getAttribute(this.key),this.oldValue))throw new C("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new C("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(r){t.e(r)}finally{t.f()}}},{key:"_execute",value:function(){Cc(this.oldValue,this.newValue)||function(e,t,n){bc(e.start),bc(e.end);var r,i=_createForOfIteratorHelper(e.getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.is("$textProxy")?o.textNode:o;null!==n?a._setAttribute(t,n):a._removeAttribute(t),mc(a.parent,a.index)}}catch(s){i.e(s)}finally{i.f()}mc(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(e,t){return new n(Xa.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}]),n}(fc),xc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new n(this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),n}(fc),Ec=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,o)).position=e,a.position.stickiness="toNext",a.oldName=r,a.newName=i,a}return _createClass(n,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new n(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof Ha))throw new C("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new C("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(e,t){return new n(qa.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}]),n}(fc),Ic=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,a)).root=e,s.key=r,s.oldValue=i,s.newValue=o,s}return _createClass(n,[{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new n(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new n(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new C("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new C("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new C("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(e,t){if(!t.getRoot(e.root))throw new C("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new n(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}]),n}(fc),Bc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,a)).sourcePosition=e.clone(),s.sourcePosition.stickiness="toPrevious",s.howMany=r,s.targetPosition=i.clone(),s.targetPosition.stickiness="toNext",s.graveyardPosition=o.clone(),s}return _createClass(n,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new qa(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Xa(this.sourcePosition,e)}},{key:"clone",value:function(){return new n(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new qa(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Dc(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new C("merge-operation-source-position-invalid",this);if(!t.parent)throw new C("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new C("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;gc(Xa._createIn(e),this.targetPosition),gc(Xa._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(e,t){var n=qa.fromJSON(e.sourcePosition,t),r=qa.fromJSON(e.targetPosition,t),i=qa.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,i,e.baseVersion)}}]),n}(fc),Dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,a)).splitPosition=e.clone(),s.splitPosition.stickiness="toNext",s.howMany=r,s.insertionPosition=i,s.graveyardPosition=o?o.clone():null,s.graveyardPosition&&(s.graveyardPosition.stickiness="toNext"),s}return _createClass(n,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new qa(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Xa(this.splitPosition,e)}},{key:"clone",value:function(){return new n(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=new qa(this.splitPosition.root.document.graveyard,[0]);return new Bc(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new C("split-operation-position-invalid",this);if(!e.parent)throw new C("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new C("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new C("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)gc(Xa._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var t=e._clone();Ac(this.insertionPosition,t)}gc(new Xa(qa._createAt(e,this.splitPosition.offset),qa._createAt(e,e.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new qa(e.root,t,"toPrevious")}},{key:"fromJSON",value:function(e,t){var n=qa.fromJSON(e.splitPosition,t),r=qa.fromJSON(e.insertionPosition,t),i=e.graveyardPosition?qa.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,r,i,e.baseVersion)}}]),n}(fc),Tc={};Tc[Sc.className]=Sc,Tc[_c.className]=_c,Tc[kc.className]=kc,Tc[wc.className]=wc,Tc[xc.className]=xc,Tc[fc.className]=fc,Tc[Ec.className]=Ec,Tc[Ic.className]=Ic,Tc[Dc.className]=Dc,Tc[Bc.className]=Bc;var Oc=new Map;function Fc(e,t,n){var r=Oc.get(e);r||(r=new Map,Oc.set(e,r)),r.set(t,n)}function Rc(e){return[e]}function Pc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e,t){var n=Oc.get(e);return n&&n.has(t)?n.get(t):Rc}(e.constructor,t.constructor);try{return r(e=e.clone(),t,n)}catch(e){throw e}}function Nc(e,t,n){e=e.slice(),t=t.slice();var r=new Mc(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(e),r.setOriginalOperations(t);var i=r.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:i};var o,a=new WeakMap,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;a.set(c,0)}}catch(k){s.e(k)}finally{s.f()}for(var u={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},l=0;l<e.length;){var h,d,f=e[l],A=a.get(f);if(A!=t.length){var p=t[A],g=Pc(f,p,r.getContext(f,p,!0)),v=Pc(p,f,r.getContext(p,f,!1));r.updateRelation(f,p),r.setOriginalOperations(g,f),r.setOriginalOperations(v,p);var m,b=_createForOfIteratorHelper(g);try{for(b.s();!(m=b.n()).done;){var y=m.value;a.set(y,A+v.length)}}catch(k){b.e(k)}finally{b.f()}(h=e).splice.apply(h,[l,1].concat(_toConsumableArray(g))),(d=t).splice.apply(d,[A,1].concat(_toConsumableArray(v)))}else l++}if(n.padWithNoOps){var w=e.length-u.originalOperationsACount,_=t.length-u.originalOperationsBCount;Uc(e,_-w),Uc(t,w-_)}return Lc(e,u.nextBaseVersionB),Lc(t,u.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:i}}var Mc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.originalOperations=new Map,this._history=t.history,this._useRelations=n,this._forceWeakRemove=!!r,this._relations=new Map}return _createClass(e,[{key:"setOriginalOperations",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n?this.originalOperations.get(n):null,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.originalOperations.set(o,r||o)}}catch(a){i.e(a)}finally{i.f()}}},{key:"updateRelation",value:function(e,t){if(e instanceof wc)t instanceof Bc?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof wc&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Dc){if(t instanceof Bc)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof wc)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{var n=Xa._createFromPositionAndShift(t.sourcePosition,t.howMany);e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)&&this._setRelation(e,t,{howMany:n.end.offset-e.splitPosition.offset,offset:e.splitPosition.offset-n.start.offset})}}else if(e instanceof Bc)t instanceof Bc?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Dc&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof kc){var r=e.newRange;if(!r)return;if(t instanceof wc){var i=Xa._createFromPositionAndShift(t.sourcePosition,t.howMany),o=i.containsPosition(r.start)||i.start.isEqual(r.start),a=i.containsPosition(r.end)||i.end.isEqual(r.end);!o&&!a||i.containsRange(r)||this._setRelation(e,t,{side:o?"left":"right",path:o?r.start.path.slice():r.end.path.slice()})}else if(t instanceof Bc){var s=r.start.isEqual(t.targetPosition),c=r.start.isEqual(t.deletionPosition),u=r.end.isEqual(t.deletionPosition),l=r.end.isEqual(t.sourcePosition);(s||c||u||l)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:u,wasInRightElement:l})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}},{key:"_getRelation",value:function(e,t){var n=this.originalOperations.get(t),r=this._history.getUndoneOperation(n);if(!r)return null;var i=this.originalOperations.get(e),o=this._relations.get(i);return o&&o.get(r)||null}},{key:"_setRelation",value:function(e,t,n){var r=this.originalOperations.get(e),i=this.originalOperations.get(t),o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(i,n)}}]),e}();function Lc(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){n.value.baseVersion=t++}}catch(i){r.e(i)}finally{r.f()}}function Uc(e,t){for(var n=0;n<t;n++)e.push(new xc(0))}function jc(e,t,n){var r=e.nodes.getNode(0).getAttribute(t);if(r==n)return null;var i=new Xa(e.position,e.position.getShiftedBy(e.howMany));return new Sc(i,t,r,n,0)}function Qc(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function Hc(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new wc(i.start,i.end.offset-i.start.offset,t,0);n.push(o);for(var a=r+1;a<e.length;a++)e[a]=e[a]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Fc(Sc,Sc,(function(e,t,n){if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){var r=e.range.getDifference(t.range).map((function(t){return new Sc(t,e.key,e.oldValue,e.newValue,0)})),i=e.range.getIntersection(t.range);return i&&n.aIsStrong&&r.push(new Sc(i,t.key,t.newValue,e.newValue,0)),0==r.length?[new xc(0)]:r}return[e]})),Fc(Sc,_c,(function(e,t){if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){var n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((function(t){return new Sc(t,e.key,e.oldValue,e.newValue,e.baseVersion)}));if(t.shouldReceiveAttributes){var r=jc(t,e.key,e.oldValue);r&&n.unshift(r)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),Fc(Sc,Bc,(function(e,t){var n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(Xa._createFromPositionAndShift(t.graveyardPosition,1));var r=e.range._getTransformedByMergeOperation(t);return r.isCollapsed||n.push(r),n.map((function(t){return new Sc(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),Fc(Sc,wc,(function(e,t){return function(e,t){var n=Xa._createFromPositionAndShift(t.sourcePosition,t.howMany),r=null,i=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),r=e.getIntersection(n)):i=[e];var o,a=[],s=_createForOfIteratorHelper(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;c=c._getTransformedByDeletion(t.sourcePosition,t.howMany);var u=t.getMovedRangeStart(),l=c.start.hasSameParentAs(u),h=c._getTransformedByInsertion(u,t.howMany,l);a.push.apply(a,_toConsumableArray(h))}}catch(d){s.e(d)}finally{s.f()}return r&&a.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),a}(e.range,t).map((function(t){return new Sc(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),Fc(Sc,Dc,(function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new Xa(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),Fc(_c,Sc,(function(e,t){var n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){var r=jc(e,t.key,t.newValue);r&&n.push(r)}return n})),Fc(_c,_c,(function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]})),Fc(_c,wc,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),Fc(_c,Dc,(function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]})),Fc(_c,Bc,(function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]})),Fc(kc,_c,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]})),Fc(kc,kc,(function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new xc(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),Fc(kc,Bc,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]})),Fc(kc,wc,(function(e,t,n){if(e.oldRange&&(e.oldRange=Xa._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var r=Xa._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.end=r.end,e.newRange.start.path=n.abRelation.path,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=r.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=Xa._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),Fc(kc,Dc,(function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var r=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=qa._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=qa._createAt(t.moveTargetPosition)),e.newRange.end=e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?qa._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?qa._createAt(t.insertionPosition):r.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),Fc(Bc,_c,(function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]})),Fc(Bc,Bc,(function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var r=t.graveyardPosition.path.slice();return r.push(0),e.sourcePosition=new qa(t.graveyardPosition.root,r),e.howMany=0,[e]}return[new xc(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var i="$graveyard"==e.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!i||(!i||o)&&n.aIsStrong){var a=t.targetPosition._getTransformedByMergeOperation(t),s=e.targetPosition._getTransformedByMergeOperation(t);return[new wc(a,e.howMany,s,0)]}return[new xc(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),Fc(Bc,wc,(function(e,t,n){var r=Xa._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new xc(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),Fc(Bc,Dc,(function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var r=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),Fc(wc,_c,(function(e,t){var n=Xa._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),Fc(wc,wc,(function(e,t,n){var r,i=Xa._createFromPositionAndShift(e.sourcePosition,e.howMany),o=Xa._createFromPositionAndShift(t.sourcePosition,t.howMany),a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),r=e.targetPosition.isEqual(t.targetPosition)&&s?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Qc(e,t)&&Qc(t,e))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Hc([i],r);if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Hc([i],r);var c=ne(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),Hc([i],r);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;var u,l=[],h=_createForOfIteratorHelper(i.getDifference(o));try{for(h.s();!(u=h.n()).done;){var d=u.value;d.start=d.start._getTransformedByDeletion(t.sourcePosition,t.howMany),d.end=d.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var f="same"==ne(d.start.getParentPath(),t.getMovedRangeStart().getParentPath()),A=d._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,f);l.push.apply(l,_toConsumableArray(A))}}catch(g){h.e(g)}finally{h.f()}var p=i.getIntersection(o);return null!==p&&a&&(p.start=p.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),p.end=p.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===l.length?l.push(p):1==l.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?l.unshift(p):l.push(p):l.splice(1,0,p)),0===l.length?[new xc(e.baseVersion)]:Hc(l,r)})),Fc(wc,Dc,(function(e,t,n){var r=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t));var i=Xa._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){var o=new Xa(t.splitPosition,i.end);return o=o._getTransformedBySplitOperation(t),Hc([new Xa(i.start,t.splitPosition),o],r)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);var a=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){var s=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);e.howMany>1&&s&&!n.aWasUndone&&a.push(Xa._createFromPositionAndShift(t.insertionPosition,1))}return Hc(a,r)})),Fc(wc,Bc,(function(e,t,n){var r=Xa._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new xc(0)]}else if(!n.aWasUndone){var i=[],o=t.graveyardPosition.clone(),a=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(i.push(new wc(e.sourcePosition,e.howMany-1,e.targetPosition,0)),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),a=a._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),c=new wc(o,1,s,0),u=c.getMovedRangeStart().path.slice();u.push(0);var l=new qa(c.targetPosition.root,u);a=a._getTransformedByMove(o,s,1);var h=new wc(a,t.howMany,l,0);return i.push(c),i.push(h),i}var d=Xa._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=d.start,e.howMany=d.end.offset-d.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),Fc(Ec,_c,(function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]})),Fc(Ec,Bc,(function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])})),Fc(Ec,wc,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),Fc(Ec,Ec,(function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new xc(0)];e.oldName=t.newName}return[e]})),Fc(Ec,Dc,(function(e,t){if("same"==ne(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){var n=new Ec(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,n]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),Fc(Ic,Ic,(function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new xc(0)];e.oldValue=t.newValue}return[e]})),Fc(Dc,_c,(function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]})),Fc(Dc,Bc,(function(e,t,n){if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){var r=t.graveyardPosition.path.slice();r.push(0);var i=new qa(t.graveyardPosition.root,r),o=Dc.getInsertionPosition(new qa(t.graveyardPosition.root,r)),a=new Dc(i,0,o,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Dc.getInsertionPosition(e.splitPosition),e.graveyardPosition=a.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[a,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Dc.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),Fc(Dc,wc,(function(e,t,n){var r=Xa._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){var o=e.splitPosition._getTransformedByMoveOperation(t),a=e.graveyardPosition._getTransformedByMoveOperation(t),s=a.path.slice();s.push(0);var c=new qa(a.root,s);return[new wc(o,e.howMany,c,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}var u=e.splitPosition.isEqual(t.targetPosition);if(u&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=Dc.getInsertionPosition(e.splitPosition),[e];if(u&&n.abRelation&&n.abRelation.howMany){var l=n.abRelation,h=l.howMany,d=l.offset;return e.howMany+=h,e.splitPosition=e.splitPosition.getShiftedBy(d),[e]}return e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)?(e.howMany-=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=Dc.getInsertionPosition(e.splitPosition),[e]):(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.insertionPosition=e.graveyardPosition?e.insertionPosition._getTransformedByMoveOperation(t):Dc.getInsertionPosition(e.splitPosition),[e])})),Fc(Dc,Dc,(function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new xc(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new xc(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var r="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){var o=[];return t.howMany&&o.push(new wc(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&o.push(new wc(e.splitPosition,e.howMany,e.moveTargetPosition,0)),o}return[new xc(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){var a=t.insertionPosition.path.slice();a.push(0);var s=new qa(t.insertionPosition.root,a);return[e,new wc(e.insertionPosition,1,s,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=Dc.getInsertionPosition(e.splitPosition),[e]}));var Vc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(_classCallCheck(this,n),!(i=t.call(this,e,r,o)).root.is("rootElement"))throw new C("model-liveposition-root-not-rootelement",e);return zc.call(_assertThisInitialized(i)),_possibleConstructorReturn(i)}return _createClass(n,[{key:"detach",value:function(){this.stopListening()}},{key:"toPosition",value:function(){return new qa(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]),n}(R(qa));function zc(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var r=n[0];r.isDocumentOperation&&qc.call(e,r)}),{priority:"low"})}function qc(e){var t=this.getTransformedByOperation(e);if(!this.isEqual(t)){var n=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",n)}}Vc.prototype.is=function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e};var Kc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},S("batch-constructor-deprecated-string-type"));var n=t,r=n.isUndoable,i=void 0===r||r,o=n.isLocal,a=void 0===o||o,s=n.isUndo,c=void 0!==s&&s,u=n.isTyping,l=void 0!==u&&u;this.operations=[],this.isUndoable=i,this.isLocal=a,this.isUndo=c,this.isTyping=l}return _createClass(e,[{key:"type",get:function(){return S("batch-type-deprecated"),"default"}},{key:"baseVersion",get:function(){var e,t=_createForOfIteratorHelper(this.operations);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(null!==n.baseVersion)return n.baseVersion}}catch(r){t.e(r)}finally{t.f()}return null}},{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}}]),e}(),Gc=function(){function e(t){_classCallCheck(this,e),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}return _createClass(e,[{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}},{key:"bufferOperation",value:function(e){var t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var n,r=_createForOfIteratorHelper(t.range.getItems({shallow:!0}));try{for(r.s();!(n=r.n()).done;){var i=n.value;this._isInInsertedElement(i.parent)||this._markAttribute(i)}}catch(p){r.e(p)}finally{r.f()}break;case"remove":case"move":case"reinsert":if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;var o=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);o||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break;case"rename":if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);var s,c=Xa._createFromPositionAndShift(t.position,1),u=_createForOfIteratorHelper(this._markerCollection.getMarkersIntersectingRange(c));try{for(u.s();!(s=u.n()).done;){var l=s.value,h=l.getData();this.bufferMarkerChange(l.name,h,h)}}catch(p){u.e(p)}finally{u.f()}break;case"split":var d=t.splitPosition.parent;this._isInInsertedElement(d)||this._markRemove(d,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break;case"merge":var f=t.sourcePosition.parent;this._isInInsertedElement(f.parent)||this._markRemove(f.parent,f.startOffset,1),this._markInsert(t.graveyardPosition.parent,t.graveyardPosition.offset,1);var A=t.targetPosition.parent;this._isInInsertedElement(A)||this._markInsert(A,t.targetPosition.offset,f.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n){var r=this._changedMarkers.get(e);r?(r.newMarkerData=n,null==r.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:n,oldMarkerData:t})}},{key:"getMarkersToRemove",value:function(){var e,t=[],n=_createForOfIteratorHelper(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),i=r[0],o=r[1];null!=o.oldMarkerData.range&&t.push({name:i,range:o.oldMarkerData.range})}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getMarkersToAdd",value:function(){var e,t=[],n=_createForOfIteratorHelper(this._changedMarkers);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),i=r[0],o=r[1];null!=o.newMarkerData.range&&t.push({name:i,range:o.newMarkerData.range})}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return{name:n,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}}))}},{key:"hasDataChanges",value:function(){if(this._changesInElement.size>0)return!0;var e,t=_createForOfIteratorHelper(this._changedMarkers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.newMarkerData,i=n.oldMarkerData;if(r.affectsData!==i.affectsData)return!0;if(r.affectsData){var o=r.range&&!i.range,a=!r.range&&i.range,s=r.range&&i.range&&!r.range.isEqual(i.range);if(o||a||s)return!0}}}catch(c){t.e(c)}finally{t.f()}return!1}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var t,n=[],r=_createForOfIteratorHelper(this._changesInElement.keys());try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=this._changesInElement.get(o).sort((function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1})),s=this._elementSnapshots.get(o),c=Wc(o.getChildren()),u=Yc(s.length,a),l=0,h=0,d=_createForOfIteratorHelper(u);try{for(d.s();!(i=d.n()).done;){var f=i.value;if("i"===f)n.push(this._getInsertDiff(o,l,c[l])),l++;else if("r"===f)n.push(this._getRemoveDiff(o,l,s[h])),h++;else if("a"===f){var A,p=c[l].attributes,g=s[h].attributes,v=void 0;if("$text"==c[l].name)v=new Xa(qa._createAt(o,l),qa._createAt(o,l+1));else{var m=o.offsetToIndex(l);v=new Xa(qa._createAt(o,l),qa._createAt(o.getChild(m),0))}(A=n).push.apply(A,_toConsumableArray(this._getAttributesDiff(v,g,p))),l++,h++}else l++,h++}}catch(B){d.e(B)}finally{d.f()}}}catch(B){r.e(B)}finally{r.f()}n.sort((function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1}));for(var b=1,y=0;b<n.length;b++){var w=n[y],_=n[b],k="remove"==w.type&&"remove"==_.type&&"$text"==w.name&&"$text"==_.name&&w.position.isEqual(_.position),C="insert"==w.type&&"insert"==_.type&&"$text"==w.name&&"$text"==_.name&&w.position.parent==_.position.parent&&w.position.offset+w.length==_.position.offset,S="attribute"==w.type&&"attribute"==_.type&&w.position.parent==_.position.parent&&w.range.isFlat&&_.range.isFlat&&w.position.offset+w.length==_.position.offset&&w.attributeKey==_.attributeKey&&w.attributeOldValue==_.attributeOldValue&&w.attributeNewValue==_.attributeNewValue;k||C||S?(w.length++,S&&(w.range.end=w.range.end.getShiftedBy(1)),n[b]=null):y=b}var x,E=_createForOfIteratorHelper(n=n.filter((function(e){return e})));try{for(E.s();!(x=E.n()).done;){var I=x.value;delete I.changeCount,"attribute"==I.type&&(delete I.position,delete I.length)}}catch(B){E.e(B)}finally{E.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=n,this._cachedChanges=n.filter(Jc),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}},{key:"getRefreshedItems",value:function(){return new Set(this._refreshedItems)}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}},{key:"_refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);var t,n=Xa._createOn(e),r=_createForOfIteratorHelper(this._markerCollection.getMarkersIntersectingRange(n));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.getData();this.bufferMarkerChange(i.name,o,o)}}catch(a){r.e(a)}finally{r.f()}this._cachedChanges=null}}},{key:"_markInsert",value:function(e,t,n){var r={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r)}},{key:"_markRemove",value:function(e,t,n){var r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Wc(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e.offset+e.howMany,a=i.offset+i.howMany;if("insert"==e.type&&("insert"==i.type&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<a&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==i.type&&e.offset<i.offset&&(i.offset+=e.howMany),"attribute"==i.type))if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<a){var s=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:o,howMany:s-i.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==i.type)if(o<=i.offset)i.offset-=e.howMany;else if(o<=a)if(e.offset<i.offset){var c=o-i.offset;i.offset=e.offset,i.howMany-=c,e.nodesToHandle-=c}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<a){var u=a-e.offset;i.howMany-=u,e.nodesToHandle-=u}if("remove"==i.type&&(o<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),"attribute"==i.type)if(o<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){var l=o-i.offset;i.offset=e.offset,i.howMany-=l}else if(e.offset<a)if(o<=a){var h=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:e.offset,howMany:h-i.howMany-e.nodesToHandle,count:this._changeCount++})}else i.howMany-=a-e.offset}if("attribute"==e.type){if("insert"==i.type)if(e.offset<i.offset&&o>i.offset){if(o>a){var d={type:"attribute",offset:a,howMany:o-a,count:this._changeCount++};this._handleChange(d,t),t.push(d)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<a&&(o>a?(e.nodesToHandle=o-a,e.offset=a):e.nodesToHandle=0);if("remove"==i.type&&e.offset<i.offset&&o>i.offset){var f={type:"attribute",offset:i.offset,howMany:o-i.offset,count:this._changeCount++};this._handleChange(f,t),t.push(f),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==i.type&&(e.offset>=i.offset&&o<=a?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&o>=a&&(i.howMany=0))}}}catch(A){r.e(A)}finally{r.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:qa._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:qa._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var r=[];n=new Map(n);var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=_slicedToArray(i.value,2),s=a[0],c=a[1],u=n.has(s)?n.get(s):null;u!==c&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:c,attributeNewValue:u,changeCount:this._changeCount++}),n.delete(s)}}catch(p){o.e(p)}finally{o.f()}var l,h=_createForOfIteratorHelper(n);try{for(h.s();!(l=h.n()).done;){var d=_slicedToArray(l.value,2),f=d[0],A=d[1];r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:A,changeCount:this._changeCount++})}}catch(p){h.e(p)}finally{h.f()}return r}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),r=e.startOffset;if(n){var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("insert"==a.type&&r>=a.offset&&r<a.offset+a.howMany)return!0}}catch(s){o.e(s)}finally{o.f()}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var r,i=_createForOfIteratorHelper(new Xa(qa._createAt(e,t),qa._createAt(e,t+n)).getItems({shallow:!0}));try{for(i.s();!(r=i.n()).done;){var o=r.value;o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}catch(a){i.e(a)}finally{i.f()}}}]),e}();function Wc(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.is("$text"))for(var o=0;o<i.data.length;o++)n.push({name:"$text",attributes:new Map(i.getAttributes())});else n.push({name:i.name,attributes:new Map(i.getAttributes())})}}catch(a){r.e(a)}finally{r.f()}return n}function Yc(e,t){var n,r=[],i=0,o=0,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.offset>i){for(var c=0;c<s.offset-i;c++)r.push("e");o+=s.offset-i}if("insert"==s.type){for(var u=0;u<s.howMany;u++)r.push("i");i=s.offset+s.howMany}else if("remove"==s.type){for(var l=0;l<s.howMany;l++)r.push("r");i=s.offset,o+=s.howMany}else r.push.apply(r,_toConsumableArray("a".repeat(s.howMany).split(""))),i=s.offset+s.howMany,o+=s.howMany}}catch(d){a.e(d)}finally{a.f()}if(o<e)for(var h=0;h<e-o-i;h++)r.push("e");return r}function Jc(e){return!("position"in e&&"$graveyard"==e.position.root.rootName||"range"in e&&"$graveyard"==e.range.root.rootName)}var Xc=function(){function e(){_classCallCheck(this,e),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}return _createClass(e,[{key:"version",get:function(){return this._version},set:function(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}},{key:"lastOperation",get:function(){return this._operations[this._operations.length-1]}},{key:"addOperation",value:function(e){if(e.baseVersion!==this.version)throw new C("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}},{key:"getOperations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.version;if(!this._operations.length)return[];var n=this._operations[0];void 0===e&&(e=n.baseVersion);var r,i=t-1,o=_createForOfIteratorHelper(this._gaps);try{for(o.s();!(r=o.n()).done;){var a=_slicedToArray(r.value,2),s=a[0],c=a[1];e>s&&e<c&&(e=c),i>s&&i<c&&(i=s-1)}}catch(h){o.e(h)}finally{o.f()}if(i<n.baseVersion||e>this.lastOperation.baseVersion)return[];var u=this._baseVersionToOperationIndex.get(e);void 0===u&&(u=0);var l=this._baseVersionToOperationIndex.get(i);return void 0===l&&(l=this._operations.length-1),this._operations.slice(u,l+1)}},{key:"getOperation",value:function(e){var t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}},{key:"reset",value:function(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}]),e}(),Zc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return _classCallCheck(this,n),(i=t.call(this,r))._document=e,i.rootName=o,i}return _createClass(n,[{key:"document",get:function(){return this._document}},{key:"toJSON",value:function(){return this.rootName}}]),n}(Ha);Zc.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e};var $c="$graveyard",eu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).model=e,r.history=new Xc,r.selection=new fs(_assertThisInitialized(r)),r.roots=new xr({idProperty:"rootName"}),r.differ=new Gc(e.markers),r._postFixers=new Set,r._hasSelectionChangedFromTheLastChangeBlock=!1,r.createRoot("$root",$c),r.listenTo(e,"applyOperation",(function(e,t){var n=t[0];n.isDocumentOperation&&r.differ.bufferOperation(n)}),{priority:"high"}),r.listenTo(e,"applyOperation",(function(e,t){var n=t[0];n.isDocumentOperation&&r.history.addOperation(n)}),{priority:"low"}),r.listenTo(r.selection,"change",(function(){r._hasSelectionChangedFromTheLastChangeBlock=!0})),r.listenTo(e.markers,"update",(function(e,t,n,i,o){var a=_objectSpread(_objectSpread({},t.getData()),{},{range:i});r.differ.bufferMarkerChange(t.name,o,a),null===n&&t.on("change",(function(e,n){var i=t.getData();r.differ.bufferMarkerChange(t.name,_objectSpread(_objectSpread({},i),{},{range:n}),i)}))})),r}return _createClass(n,[{key:"version",get:function(){return this.history.version},set:function(e){this.history.version=e}},{key:"graveyard",get:function(){return this.getRoot($c)}},{key:"createRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new C("model-document-createroot-name-exists",this,{name:t});var n=new Zc(this,e,t);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(e){return e.rootName})).filter((function(e){return e!=$c}))}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=Zr(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e,t=_createForOfIteratorHelper(this.roots);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n!==this.graveyard)return n}}catch(r){t.e(r)}finally{t.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,r=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(r)||t.createRange(r)}},{key:"_validateSelectionRange",value:function(e){return tu(e.start)&&tu(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n,r=_createForOfIteratorHelper(this._postFixers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.selection.refresh(),t=i(e))break}}catch(o){r.e(o)}finally{r.f()}}while(t)}}]),n}(R());function tu(e){var t=e.textNode;if(t){var n=t.data,r=e.offset-t.startOffset;return!Tr(n,r)&&!Or(n,r)}return!0}var nu=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.call(this))._markers=new Map,e}return _createClass(r,[{key:t,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e instanceof ru?e.name:e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e instanceof ru?e.name:e;if(i.includes(","))throw new C("markercollection-incorrect-marker-name",this);var o=this._markers.get(i);if(o){var a=o.getData(),s=o.getRange(),c=!1;return s.isEqual(t)||(o._attachLiveRange(us.fromRange(t)),c=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,c=!0),"boolean"==typeof r&&r!=o.affectsData&&(o._affectsData=r,c=!0),c&&this.fire("update:".concat(i),o,s,t,a),o}var u=us.fromRange(t),l=new ru(i,u,n,r);return this._markers.set(i,l),this.fire("update:".concat(i),l,null,t,_objectSpread(_objectSpread({},l.getData()),{},{range:null})),l}},{key:"_remove",value:function(e){var t=e instanceof ru?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:".concat(t),n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(e){var t=e instanceof ru?e.name:e,n=this._markers.get(t);if(!n)throw new C("markercollection-refresh-marker-not-exists",this);var r=n.getRange();this.fire("update:".concat(t),n,r,r,n.getData())}},{key:"getMarkersAtPosition",value:_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_createForOfIteratorHelper(this),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(i=r.value,e.t0=i.getRange().containsPosition(t),!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"getMarkersIntersectingRange",value:_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_createForOfIteratorHelper(this),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(i=r.value,e.t0=null!==i.getRange().getIntersection(t),!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this._markers.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._destroyMarker(n)}}catch(r){t.e(r)}finally{t.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_createForOfIteratorHelper(this._markers.values()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}if(i=r.value,e.t0=i.name.startsWith(t+":"),!e.t0){e.next=9;break}return e.next=9,i;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),r}(R(),Symbol.iterator),ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this)).name=e,a._liveRange=a._attachLiveRange(r),a._managedUsingOperations=i,a._affectsData=o,a}return _createClass(n,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new C("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new C("marker-destroyed",this);return this._affectsData}},{key:"getData",value:function(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}},{key:"getStart",value:function(){if(!this._liveRange)throw new C("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new C("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new C("marker-destroyed",this);return this._liveRange.toRange()}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),n}(R(Ma));ru.prototype.is=function(e){return"marker"===e||"model:marker"===e};var iu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,null)).sourcePosition=e.clone(),i.howMany=r,i}return _createClass(n,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new C("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){pc(Xa._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),n}(fc),ou=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this)).markers=new Map,t._children=new Ua,e&&t._insertChild(0,e),t}return _createClass(r,[{key:t,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"document",get:function(){return null}},{key:"getAncestors",value:function(){return[]}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t,n=this,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.getChild(n.offsetToIndex(i))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e,t=[],n=_createForOfIteratorHelper(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.toJSON())}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n,r=function(e){return"string"==typeof e?[new ja(e)]:(re(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new ja(e):e instanceof Qa?new ja(e.data,e.getAttributes()):e})))}(t),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;null!==o.parent&&o._remove(),o.parent=this}}catch(a){i.e(a)}finally{i.f()}this._children._insertNodes(e,r)}},{key:"_removeChildren",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(e,n),i=_createForOfIteratorHelper(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.parent=null}}catch(a){i.e(a)}finally{i.f()}return r}}],[{key:"fromJSON",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(o.name?Ha.fromJSON(o):ja.fromJSON(o))}}catch(a){i.e(a)}finally{i.f()}return new r(n)}}]),r}(Ma,Symbol.iterator);ou.prototype.is=function(e){return"documentFragment"===e||"model:documentFragment"===e};var au=function(){function e(t,n){_classCallCheck(this,e),this.model=t,this.batch=n}return _createClass(e,[{key:"createText",value:function(e,t){return new ja(e,t)}},{key:"createElement",value:function(e,t){return new Ha(e,t)}},{key:"createDocumentFragment",value:function(){return new ou}},{key:"cloneElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof ja&&""==e.data)){var r=qa._createAt(t,n);if(e.parent){if(hu(e.root,r.root))return void this.move(Xa._createOn(e),r);if(e.root.document)throw new C("model-writer-insert-forbidden-move",this);this.remove(e)}var i=new _c(r,e,r.root.document?r.root.document.version:null);if(e instanceof ja&&(i.shouldReceiveAttributes=!0),this.batch.addOperation(i),this.model.applyOperation(i),e instanceof ou){var o,a=_createForOfIteratorHelper(e.markers);try{for(a.s();!(o=a.n()).done;){var s=_slicedToArray(o.value,2),c=s[0],u=s[1],l=qa._createAt(u.root,0),h={range:new Xa(u.start._getCombined(l,r),u.end._getCombined(l,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(c)?this.updateMarker(c,h):this.addMarker(c,h)}}catch(d){a.e(d)}finally{a.f()}}}}},{key:"insertText",value:function(e,t,n,r){t instanceof ou||t instanceof Ha||t instanceof qa?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}},{key:"insertElement",value:function(e,t,n,r){t instanceof ou||t instanceof Ha||t instanceof qa?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof ou||t instanceof Ha?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof ou||t instanceof Ha?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Xa){var r,i=_createForOfIteratorHelper(n.getMinimalFlatRanges());try{for(i.s();!(r=i.n()).done;){su(this,e,t,r.value)}}catch(o){i.e(o)}finally{i.f()}}else cu(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n,r=_createForOfIteratorHelper(Dr(e));try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),o=i[0],a=i[1];this.setAttribute(o,a,t)}}catch(s){r.e(s)}finally{r.f()}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Xa){var n,r=_createForOfIteratorHelper(t.getMinimalFlatRanges());try{for(r.s();!(n=r.n()).done;){su(this,e,null,n.value)}}catch(i){r.e(i)}finally{r.f()}}else cu(this,e,null,t)}},{key:"clearAttributes",value:function(e){var t=this;this._assertWriterUsedCorrectly();var n=function(e){var n,r=_createForOfIteratorHelper(e.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var i=n.value;t.removeAttribute(i,e)}}catch(o){r.e(o)}finally{r.f()}};if(e instanceof Xa){var r,i=_createForOfIteratorHelper(e.getItems());try{for(i.s();!(r=i.n()).done;){n(r.value)}}catch(o){i.e(o)}finally{i.f()}}else n(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Xa))throw new C("writer-move-invalid-range",this);if(!e.isFlat)throw new C("writer-move-range-not-flat",this);var r=qa._createAt(t,n);if(!r.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!hu(e.root,r.root))throw new C("writer-move-different-document",this);var i=new wc(e.start,e.end.offset-e.start.offset,r,e.root.document?e.root.document.version:null);this.batch.addOperation(i),this.model.applyOperation(i)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t,n=_createForOfIteratorHelper((e instanceof Xa?e:Xa._createOn(e)).getMinimalFlatRanges().reverse());try{for(n.s();!(t=n.n()).done;){var r=t.value;this._addOperationForAffectedMarkers("move",r),lu(r.start,r.end.offset-r.start.offset,this.batch,this.model)}}catch(i){n.e(i)}finally{n.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Ha))throw new C("writer-merge-no-element-before",this);if(!(n instanceof Ha))throw new C("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(){var e;return(e=this.model).createSelection.apply(e,arguments)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;this.move(Xa._createIn(n),qa._createAt(t,"end")),this.remove(n)}},{key:"_merge",value:function(e){var t=qa._createAt(e.nodeBefore,"end"),n=qa._createAt(e.nodeAfter,0),r=new qa(e.root.document.graveyard,[0]),i=new Bc(n,e.nodeAfter.maxOffset,t,r,e.root.document.version);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Ha))throw new C("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,r=new Ec(qa._createBefore(e),e.name,t,n);this.batch.addOperation(r),this.model.applyOperation(r)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,r,i=e.parent;if(!i.parent)throw new C("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new C("writer-split-invalid-limit-element",this);do{var o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,s=Dc.getInsertionPosition(e),c=new Dc(e,a,s,null,o);this.batch.addOperation(c),this.model.applyOperation(c),n||r||(n=i,r=e.parent.nextSibling),i=(e=this.createPositionAfter(e.parent)).parent}while(i!==t);return{position:e,range:new Xa(qa._createAt(n,"end"),qa._createAt(r,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new C("writer-wrap-range-not-flat",this);var n=t instanceof Ha?t:new Ha(t);if(n.childCount>0)throw new C("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new C("writer-wrap-element-attached",this);this.insert(n,e.start);var r=new Xa(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,qa._createAt(n,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new C("writer-unwrap-element-no-parent",this);this.move(Xa._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new C("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,r=t.range,i=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new C("writer-addmarker-marker-exists",this);if(!r)throw new C("writer-addmarker-no-range",this);return n?(uu(this,e,null,r,i),this.model.markers.get(e)):this.model.markers._set(e,r,n,i)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new C("writer-updatemarker-marker-not-exists",this);if(!t)return S("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(r);var i="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,a=o?t.affectsData:r.affectsData;if(!i&&!t.range&&!o)throw new C("writer-updatemarker-wrong-options",this);var s=r.getRange(),c=t.range?t.range:s;i&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?uu(this,n,null,c,a):(uu(this,n,s,null,a),this.model.markers._set(n,c,void 0,a)):r.managedUsingOperations?uu(this,n,s,c,a):this.model.markers._set(n,c,void 0,a)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new C("writer-removemarker-no-marker",this);var n=this.model.markers.get(t);n.managedUsingOperations?uu(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}},{key:"setSelection",value:function(){var e;this._assertWriterUsedCorrectly(),(e=this.model.document.selection)._setTo.apply(e,arguments)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n,r=_createForOfIteratorHelper(Dr(e));try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),o=i[0],a=i[1];this._setSelectionAttribute(o,a)}}catch(s){r.e(s)}finally{r.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._removeSelectionAttribute(r)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var r=fs._getStoreAttributeKey(e);this.setAttribute(r,t,n.anchor.parent)}n._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var n=fs._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new C("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n,r=_createForOfIteratorHelper(this.model.markers);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.managedUsingOperations){var o=i.getRange(),a=!1;if("move"===e){var s=t;a=s.containsPosition(o.start)||s.start.isEqual(o.start)||s.containsPosition(o.end)||s.end.isEqual(o.end)}else{var c=t.nodeAfter,u=o.end.parent==c&&0==o.end.offset,l=o.end.nodeAfter==c,h=o.start.nodeAfter==c;a=o.start.parent==t.nodeBefore&&o.start.isAtEnd||u||l||h}a&&this.updateMarker(i.name,{range:o})}}}catch(d){r.e(d)}finally{r.f()}}}]),e}();function su(e,t,n,r){var i,o,a,s,c=e.model,u=c.document,l=r.start,h=_createForOfIteratorHelper(r.getWalker({shallow:!0}));try{for(h.s();!(s=h.n()).done;){var d=s.value;a=d.item.getAttribute(t),i&&o!=a&&(o!=n&&f(),l=i),i=d.nextPosition,o=a}}catch(A){h.e(A)}finally{h.f()}function f(){var r=new Xa(l,i),a=new Sc(r,t,o,n,r.root.document?u.version:null);e.batch.addOperation(a),c.applyOperation(a)}i instanceof qa&&i!=l&&o!=n&&f()}function cu(e,t,n,r){var i,o,a=e.model,s=a.document,c=r.getAttribute(t);c!=n&&(r.root===r?o=new Ic(r,t,c,n,r.document?s.version:null):(i=new Xa(qa._createBefore(r),e.createPositionAfter(r)),o=new Sc(i,t,c,n,i.root.document?s.version:null)),e.batch.addOperation(o),a.applyOperation(o))}function uu(e,t,n,r,i){var o=e.model,a=new kc(t,n,r,o.markers,!!i,o.document.version);e.batch.addOperation(a),o.applyOperation(a)}function lu(e,t,n,r){var i;if(e.root.document){var o=r.document,a=new qa(o.graveyard,[0]);i=new wc(e,t,a,o.version)}else i=new iu(e,t);n.addOperation(i),r.applyOperation(i)}function hu(e,t){return e===t||e instanceof Zc&&t instanceof Zc}function du(e,t){return e.isCollapsed?function(e,t){var n=e.start,r=t.getNearestSelectionRange(n);if(!r){var i=n.getAncestors().reverse().find((function(e){return t.isObject(e)}));return i?Xa._createOn(i):null}if(!r.isCollapsed)return r;var o=r.start;return n.isEqual(o)?null:new Xa(o)}(e,t):function(e,t){var n=e.start,r=e.end,i=t.checkChild(n,"$text"),o=t.checkChild(r,"$text"),a=t.getLimitElement(n),s=t.getLimitElement(r);if(a===s){if(i&&o)return null;if(function(e,t,n){var r=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),i=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return r||i}(n,r,t)){var c=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),u=r.nodeBefore&&t.isSelectable(r.nodeBefore)?null:t.getNearestSelectionRange(r,"backward");return new Xa(c?c.start:n,u?u.end:r)}}var l=a&&!a.is("rootElement"),h=s&&!s.is("rootElement");if(l||h){var d=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,f=l&&(!d||!Au(n.nodeAfter,t)),A=h&&(!d||!Au(r.nodeBefore,t)),p=n,g=r;return f&&(p=qa._createBefore(fu(a,t))),A&&(g=qa._createAfter(fu(s,t))),new Xa(p,g)}return null}(e,t)}function fu(e,t){for(var n=e,r=n;t.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function Au(e,t){return e&&t.isSelectable(e)}function pu(e,t,n){var r=t.parent,i=n.parent;return r!=i&&!e.isLimit(r)&&!e.isLimit(i)&&function(e,t,n){var r,i=_createForOfIteratorHelper(new Xa(e,t).getWalker());try{for(i.s();!(r=i.n()).done;){var o=r.value;if(n.isLimit(o.item))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}(t,n,e)}function gu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.createElement("paragraph");e.model.schema.setAllowedAttributes(i,r,e),e.insert(i,t),vu(e,n,e.createPositionAt(i,0))}function vu(e,t,n){t instanceof fs?e.setSelection(n):t.setTo(n)}function mu(e,t){var n=[];Array.from(e.getItems({direction:"backward"})).map((function(e){return t.createRangeOn(e)})).filter((function(t){return(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))})).forEach((function(e){n.push(e.start.parent),t.remove(e)})),n.forEach((function(e){for(var n=e;n.parent&&n.isEmpty;){var r=t.createRangeOn(n);n=n.parent,t.remove(r)}}))}var bu=function(){function e(t,n,r){_classCallCheck(this,e),this.model=t,this.writer=n,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return _createClass(e,[{key:"handleNodes",value:function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t];this._handleNode(r)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(e){var t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new C("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this._nodeToSelect?Xa._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new Xa(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e){if(this.schema.isObject(e))this._handleObject(e);else{var t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e))?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}}},{key:"_insertPartialFragment",value:function(){if(!this._documentFragment.isEmpty){var e=Vc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}}},{key:"_handleObject",value:function(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}},{key:"_handleDisallowedNode",value:function(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}},{key:"_appendToFragment",value:function(e){if(!this.schema.checkChild(this.position,e))throw new C("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this._nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Vc.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Vc.fromPosition(e,"toNext"))}},{key:"_mergeOnLeft",value:function(){var e=this._firstNode;if(e instanceof Ha&&this._canMergeLeft(e)){var t=Vc._createBefore(e);t.stickiness="toNext";var n=Vc.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Vc._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Vc._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}}},{key:"_mergeOnRight",value:function(){var e=this._lastNode;if(e instanceof Ha&&this._canMergeRight(e)){var t=Vc._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new C("insertcontent-invalid-insertion-position",this);this.position=qa._createAt(t.nodeBefore,"end");var n=Vc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Vc._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Vc._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}}},{key:"_canMergeLeft",value:function(e){var t=e.previousSibling;return t instanceof Ha&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e){var t=e.nextSibling;return t instanceof Ha&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e){var t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();var t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}]),e}();function yu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",r=e.getSelectedElement();if(r&&t.schema.isObject(r)&&!t.schema.isInline(r))return"before"==n||"after"==n?t.createRange(t.createPositionAt(r,n)):t.createRangeOn(r);var i=Er(e.getSelectedBlocks());if(!i)return t.createRange(e.focus);if(i.isEmpty)return t.createRange(t.createPositionAt(i,0));var o=t.createPositionAfter(i);return e.focus.isTouching(o)?t.createRange(o):t.createRange(t.createPositionBefore(i))}function wu(e,t){var n=e.isForward,r=e.walker,i=e.unit,o=e.schema,a=e.treatEmojiAsSingleUnit,s=t.type,c=t.item,u=t.nextPosition;if("text"==s)return"word"===e.unit?function(e,t){var n=e.position.textNode;for(n||(n=t?e.position.nodeAfter:e.position.nodeBefore);n&&n.is("$text");){var r=e.position.offset-n.startOffset;if(Cu(n,r,t))n=t?e.position.nodeAfter:e.position.nodeBefore;else{if(ku(n.data,r,t))break;e.next()}}return e.position}(r,n):function(e,t,n){var r=e.position.textNode;if(r)for(var i=r.data,o=e.position.offset-r.startOffset;Tr(i,o)||"character"==t&&Or(i,o)||n&&Rr(i,o);)e.next(),o=e.position.offset-r.startOffset;return e.position}(r,i,a);if(s==(n?"elementStart":"elementEnd")){if(o.isSelectable(c))return qa._createAt(c,n?"after":"before");if(o.checkChild(u,"$text"))return u}else{if(o.isLimit(c))return void r.skip((function(){return!0}));if(o.checkChild(u,"$text"))return u}}function _u(e,t){var n=qa._createAt(e.root,t?"end":0);return t?new Xa(e,n):new Xa(n,e)}function ku(e,t,n){return' ,.?!:;"-()'.includes(e.charAt(t+(n?0:-1)))}function Cu(e,t,n){return t===(n?e.offsetSize:0)}var Su=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).markers=new nu,e.document=new eu(_assertThisInitialized(e)),e.schema=new qs,e._pendingChanges=[],e._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(t){return e.decorate(t)})),e.on("applyOperation",(function(e,t){t[0]._validate()}),{priority:"highest"}),e.schema.register("$root",{isLimit:!0}),e.schema.register("$container",{allowIn:["$root","$container"]}),e.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),e.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),e.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),e.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),e.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),e.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),e.schema.register("$marker"),e.schema.addChildCheck((function(e,t){if("$marker"===t.name)return!0})),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,r=t.document.selection,i=t.schema,o=[],a=!1,s=_createForOfIteratorHelper(r.getRanges());try{for(s.s();!(n=s.n()).done;){var c=n.value,u=du(c,i);u&&!u.isEqual(c)?(o.push(u),a=!0):o.push(c)}}catch(l){s.e(l)}finally{s.f()}return a&&e.setSelection(function(e){for(var t=_toConsumableArray(e),n=new Set,r=1;r<t.length;){var i,o=t[r],a=_createForOfIteratorHelper(t.slice(0,r).entries());try{for(a.s();!(i=a.n()).done;){var s=_slicedToArray(i.value,2),c=s[0],u=s[1];if(!n.has(c))if(o.isEqual(u))n.add(c);else if(o.isIntersecting(u)){n.add(c),n.add(r);var h=o.getJoined(u);t.push(h)}}}catch(l){a.e(l)}finally{a.f()}r++}return t.filter((function(e,t){return!n.has(t)}))}(o),{backward:r.isBackward}),!1}(t,e)}))}(_assertThisInitialized(e)),e.document.registerPostFixer(Ts),e}return _createClass(n,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Kc,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){C.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{e?"function"==typeof e?(t=e,e=new Kc):e instanceof Kc||(e=new Kc(e)):e=new Kc,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){C.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return function(e,t,n,r){return e.change((function(i){var o;(o=n?n instanceof is||n instanceof fs?n:i.createSelection(n,r):e.document.selection).isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});var a,s=new bu(e,i,o.anchor),c=[];if(t.is("documentFragment")){if(t.markers.size){var u,l=[],h=_createForOfIteratorHelper(t.markers);try{for(h.s();!(u=h.n()).done;){var d=_slicedToArray(u.value,2),f=d[0],A=d[1],p=A.start,g=A.end,v=p.isEqual(g);l.push({position:p,name:f,isCollapsed:v},{position:g,name:f,isCollapsed:v})}}catch(G){h.e(G)}finally{h.f()}l.sort((function(e,t){var n=e.position,r=t.position;return n.isBefore(r)?1:-1}));for(var m=0,b=l;m<b.length;m++){var y=b[m],w=y.position,_=y.name,k=y.isCollapsed,C=null,S=null,x=w.parent===t&&w.isAtStart,E=w.parent===t&&w.isAtEnd;x||E?k&&(S=x?"start":"end"):(C=i.createElement("$marker"),i.insert(C,w)),c.push({name:_,element:C,collapsed:S})}}a=t.getChildren()}else a=[t];s.handleNodes(a);var I=s.getSelectionRange();if(t.is("documentFragment")&&c.length){for(var B=I?us.fromRange(I):null,D={},T=c.length-1;T>=0;T--){var O=c[T],F=O.name,R=O.element,P=O.collapsed,N=!D[F];if(N&&(D[F]=[]),R){var M=i.createPositionAt(R,"before");D[F].push(M),i.remove(R)}else{var L=s.getAffectedRange();if(!L){P&&D[F].push(s.position);continue}D[F].push(P?L[P]:N?L.start:L.end)}}for(var U=0,j=Object.entries(D);U<j.length;U++){var Q=_slicedToArray(j[U],2),H=Q[0],V=_slicedToArray(Q[1],2),z=V[0],q=V[1];z&&q&&z.root===q.root&&i.addMarker(H,{usingOperation:!0,affectsData:!0,range:new Xa(z,q)})}B&&(I=B.toRange(),B.detach())}I&&(o instanceof fs?i.setSelection(I):o.setTo(I));var K=s.getAffectedRange()||e.createRange(o.anchor);return s.destroy(),K}))}(this,e,t,n)}},{key:"insertObject",value:function(e,t,n,r){return function(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e.schema.isObject(t))throw new C("insertobject-element-not-an-object",e,{object:t});var a=i=n?n instanceof is||n instanceof fs?n:e.createSelection(n,r):e.document.selection;o.findOptimalPosition&&e.schema.isBlock(t)&&(a=e.createSelection(yu(i,e,o.findOptimalPosition)));var s=Er(i.getSelectedBlocks()),c={};return s&&Object.assign(c,e.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),e.change((function(n){a.isCollapsed||e.deleteContent(a,{doNotAutoparagraph:!0});var r=t,i=a.anchor.parent;!e.schema.checkChild(i,t)&&e.schema.checkChild(i,"paragraph")&&e.schema.checkChild("paragraph",t)&&(r=n.createElement("paragraph"),n.insert(t,r)),e.schema.setAllowedAttributes(r,c,n);var s=e.insertContent(r,a);return s.isCollapsed||o.setSelection&&function(e,t,n,r){var i=e.model;if("on"!=n){if("after"!=n)throw new C("insertobject-invalid-place-parameter-value",i);var o=t.nextSibling;i.schema.isInline(t)?e.setSelection(t,"after"):(!(o&&i.schema.checkChild(o,"$text"))&&i.schema.checkChild(t.parent,"paragraph")&&(o=e.createElement("paragraph"),i.schema.setAllowedAttributes(o,r,e),i.insertContent(o,e.createPositionAfter(t))),o&&e.setSelection(o,0))}else e.setSelection(t,"on")}(n,t,o.setSelection,c),s}))}(this,e,t,n,r)}},{key:"deleteContent",value:function(e,t){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.isCollapsed){var r=t.getFirstRange();if("$graveyard"!=r.root.rootName){var i=e.schema;e.change((function(e){if(n.doNotResetEntireContent||!function(e,t){var n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;var r=t.getFirstRange();return r.start.parent!=r.end.parent&&e.checkChild(n,"paragraph")}(i,t)){var o={};if(!n.doNotAutoparagraph){var a=t.getSelectedElement();a&&Object.assign(o,i.getAttributesWithProperty(a,"copyOnReplace",!0))}var s=_slicedToArray(function(e){var t=e.root.document.model,n=e.start,r=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){var i=function(e){var t,n=e.parent,r=n.root.document.model.schema,i=_createForOfIteratorHelper(n.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(i.s();!(t=i.n()).done;){var o=t.value;if(r.isLimit(o))return null;if(r.isBlock(o))return o}}catch(a){i.e(a)}finally{i.f()}}(r);if(i&&r.isTouching(t.createPositionAt(i,0))){var o=t.createSelection(e);t.modifySelection(o,{direction:"backward"});var a=o.getLastPosition(),s=t.createRange(a,r);t.hasContent(s,{ignoreMarkers:!0})||(r=a)}}return[Vc.fromPosition(n,"toPrevious"),Vc.fromPosition(r,"toNext")]}(r),2),c=s[0],u=s[1];c.isTouching(u)||e.remove(e.createRange(c,u)),n.leaveUnmerged||(function(e,t,n){var r=e.model;if(pu(e.model.schema,t,n)){var i=_slicedToArray(function(e,t){for(var n=e.getAncestors(),r=t.getAncestors(),i=0;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}(t,n),2),o=i[0],a=i[1];o&&a&&(!r.hasContent(o,{ignoreMarkers:!0})&&r.hasContent(a,{ignoreMarkers:!0})?function e(t,n,r,i){var o=n.parent,a=r.parent;if(o!=i&&a!=i){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(a)).isEqual(n)||t.insert(o,r);n.parent.isEmpty;){var s=n.parent;n=t.createPositionBefore(s),t.remove(s)}r=t.createPositionBefore(a),function(e,t){var n=t.nodeBefore,r=t.nodeAfter;n.name!=r.name&&e.rename(n,r.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(r.getAttributes()),n),e.merge(t)}(t,r),pu(t.model.schema,n,r)&&e(t,n,r,i)}}(e,t,n,o.parent):function e(t,n,r,i){var o=n.parent,a=r.parent;if(o!=i&&a!=i){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(a)).isEqual(n)||t.insert(a,n),t.merge(n);r.parent.isEmpty;){var s=r.parent;r=t.createPositionBefore(s),t.remove(s)}pu(t.model.schema,n,r)&&e(t,n,r,i)}}(e,t,n,o.parent))}}(e,c,u),i.removeDisallowedAttributes(c.parent.getChildren(),e)),vu(e,t,c),!n.doNotAutoparagraph&&function(e,t){var n=e.checkChild(t,"$text"),r=e.checkChild(t,"paragraph");return!n&&r}(i,c)&&gu(e,c,t,o),c.detach(),u.detach()}else!function(e,t){var n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),gu(e,e.createPositionAt(n,0),t)}(e,t)}))}}}(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.schema,o="backward"!=r.direction,a=r.unit?r.unit:"character",s=!!r.treatEmojiAsSingleUnit,c=new Va({boundaries:_u(t.focus,o),singleCharacters:!0,direction:o?"forward":"backward"}),u={walker:c,schema:i,isForward:o,unit:a,treatEmojiAsSingleUnit:s},l=function(){if(n.done)return{v:void 0};var r=wu(u,n.value);return r?{v:void(t instanceof fs?e.change((function(e){e.setSelectionFocus(r)})):t.setFocus(r))}:void 0};n=c.next();){var h=l();if("object"==typeof h)return h.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return function(e,t){return e.change((function(e){var n=e.createDocumentFragment(),r=t.getFirstRange();if(!r||r.isCollapsed)return n;var i,o,a=r.start.root,s=r.start.getCommonPath(r.end),c=a.getNodeByPath(s),u=(i=r.start.parent==r.end.parent?r:e.createRange(e.createPositionAt(c,r.start.path[s.length]),e.createPositionAt(c,r.end.path[s.length]+1))).end.offset-i.start.offset,l=_createForOfIteratorHelper(i.getItems({shallow:!0}));try{for(l.s();!(o=l.n()).done;){var h=o.value;h.is("$textProxy")?e.appendText(h.data,h.getAttributes(),n):e.append(e.cloneElement(h,!0),n)}}catch(A){l.e(A)}finally{l.f()}if(i!=r){var d=r._getTransformedByMove(i.start,e.createPositionAt(n,0),u)[0],f=e.createRange(e.createPositionAt(n,0),d.start);mu(e.createRange(d.end,e.createPositionAt(n,"end")),e),mu(f,e)}return n}))}(this,e)}},{key:"hasContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof Xa?e:Xa._createIn(e);if(n.isCollapsed)return!1;var r=t.ignoreWhitespaces,i=void 0!==r&&r,o=t.ignoreMarkers,a=void 0!==o&&o;if(!a){var s,c=_createForOfIteratorHelper(this.markers.getMarkersIntersectingRange(n));try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.affectsData)return!0}}catch(f){c.e(f)}finally{c.f()}}var l,h=_createForOfIteratorHelper(n.getItems());try{for(h.s();!(l=h.n()).done;){var d=l.value;if(this.schema.isContent(d)){if(!d.is("$textProxy"))return!0;if(!i)return!0;if(-1!==d.data.search(/\S/))return!0}}}catch(f){h.e(f)}finally{h.f()}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new qa(e,t,n)}},{key:"createPositionAt",value:function(e,t){return qa._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return qa._createAfter(e)}},{key:"createPositionBefore",value:function(e){return qa._createBefore(e)}},{key:"createRange",value:function(e,t){return new Xa(e,t)}},{key:"createRangeIn",value:function(e){return Xa._createIn(e)}},{key:"createRangeOn",value:function(e){return Xa._createOn(e)}},{key:"createSelection",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(is,t)}},{key:"createBatch",value:function(e){return new Kc(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"fromJSON",value:function(e,t){return Tc[e.__className].fromJSON(e,t)}}]),e}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new au(this,this._pendingChanges[0].batch);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}]),n}(W()),xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).domEventType="click",r}return _createClass(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Xo),Eu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).domEventType=["mousedown","mouseup","mouseover","mouseout"],r}return _createClass(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Xo),Iu=function(){function e(t){_classCallCheck(this,e),this.document=t}return _createClass(e,[{key:"createDocumentFragment",value:function(e){return new fo(this.document,e)}},{key:"createElement",value:function(e,t,n){return new Pi(this.document,e,t,n)}},{key:"createText",value:function(e){return new ei(this.document,e)}},{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}},{key:"appendChild",value:function(e,t){return t._appendChild(e)}},{key:"insertChild",value:function(e,t,n){return n._insertChild(e,t)}},{key:"removeChildren",value:function(e,t,n){return n._removeChildren(e,t)}},{key:"remove",value:function(e){var t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}},{key:"replace",value:function(e,t){var n=e.parent;if(n){var r=n.getChildIndex(e);return this.removeChildren(r,1,n),this.insertChild(r,t,n),!0}return!1}},{key:"unwrapElement",value:function(e){var t=e.parent;if(t){var n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}},{key:"rename",value:function(e,t){var n=new Pi(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){Ce(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,t){return Vi._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Vi._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Vi._createBefore(e)}},{key:"createRange",value:function(e,t){return new zi(e,t)}},{key:"createRangeOn",value:function(e){return zi._createOn(e)}},{key:"createRangeIn",value:function(e){return zi._createIn(e)}},{key:"createSelection",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _construct(Ki,t)}}]),e}();new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);var Bu=function(e){function t(){_classCallCheck(this,t),this._commands=new Map}return _createClass(t,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new C("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.execute.apply(t,r)}},{key:"names",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"commands",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:e,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this.commands());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),t}(Symbol.iterator),Du=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).editor=e,r}return _createClass(n,[{key:"set",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t){var o=t;t=function(e,t){r.editor.execute(o),t()}}_get(_getPrototypeOf(n.prototype),"set",this).call(this,e,t,i)}}]),n}(Br),Tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,n);var i=(e=t.call(this)).constructor;e._context=r.context||new Qr({language:r.language||i.defaultConfig&&i.defaultConfig.language}),e._context._addEditor(_assertThisInitialized(e),!r.context);var o=Array.from(i.builtinPlugins||[]);e.config=new Bn(r,i.defaultConfig),e.config.define("plugins",o),e.config.define(e._context._getEditorConfig()),e.plugins=new jr(_assertThisInitialized(e),o,e._context.plugins),e.locale=e._context.locale,e.t=e.locale.t,e._readOnlyLocks=new Set,e.commands=new Bu,e.set("state","initializing"),e.once("ready",(function(){return e.state="ready"}),{priority:"high"}),e.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),e.model=new Su;var a=new Oi;return e.data=new uc(e.model,a),e.editing=new Qs(e.model,a),e.editing.view.document.bind("isReadOnly").to(_assertThisInitialized(e)),e.conversion=new lc([e.editing.downcastDispatcher,e.data.downcastDispatcher],e.data.upcastDispatcher),e.conversion.addAlias("dataDowncast",e.data.downcastDispatcher),e.conversion.addAlias("editingDowncast",e.editing.downcastDispatcher),e.keystrokes=new Du(_assertThisInitialized(e)),e.keystrokes.listenTo(e.editing.view.document),e}return _createClass(n,[{key:"isReadOnly",get:function(){return this._readOnlyLocks.size>0},set:function(e){throw new C("editor-isreadonly-has-no-setter")}},{key:"enableReadOnlyMode",value:function(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new C("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}},{key:"disableReadOnlyMode",value:function(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new C("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}},{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],i=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),n,i)}},{key:"destroy",value:function(){var e=this,t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((function(t){return e.once("ready",t)}))),t.then((function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()})).then((function(){return e.plugins.destroy()})).then((function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()})).then((function(){return e._context._removeEditor(e)}))}},{key:"execute",value:function(e){try{for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.commands).execute.apply(t,[e].concat(r))}catch(e){C.rethrowUnexpectedError(e,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}]),n}(W()),Ou=function(){function e(t){_classCallCheck(this,e),this.editor=t,this._components=new Map}return _createClass(e,[{key:"names",value:_regeneratorRuntime().mark((function e(){var t,n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=_createForOfIteratorHelper(this._components.values()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.originalName;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"add",value:function(e,t){this._components.set(Fu(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new C("componentfactory-item-missing",this,{name:e});return this._components.get(Fu(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(Fu(e))}}]),e}();function Fu(e){return String(e).toLowerCase()}var Ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(e=t.call(this,r,{idProperty:"viewUid"})).on("add",(function(t,n,r){e._renderViewIntoCollectionParent(n,r)})),e.on("remove",(function(t,n){n.element&&e._parentElement&&n.element.remove()})),e._parentElement=null,e}return _createClass(n,[{key:"destroy",value:function(){this.map((function(e){return e.destroy()}))}},{key:"setParent",value:function(e){this._parentElement=e;var t,n=_createForOfIteratorHelper(this);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._renderViewIntoCollectionParent(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length||!n.every((function(e){return"string"==typeof e})))throw new C("ui-viewcollection-delegate-wrong-events",this);return{to:function(t){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o,a=r.value,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var c=o.value;a.delegate(c).to(t)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}e.on("add",(function(e,r){var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.delegate(a).to(t)}}catch(u){o.e(u)}finally{o.f()}})),e.on("remove",(function(e,r){var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.stopDelegating(a,t)}}catch(u){o.e(u)}finally{o.f()}}))}}}},{key:"_renderViewIntoCollectionParent",value:function(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}]),n}(xr),Pu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this),Object.assign(_assertThisInitialized(r),qu(zu(e))),r._isRendered=!1,r._revertData=null,r}return _createClass(n,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new C("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(_regeneratorRuntime().mark((function e(t){var n,r,i;return _regeneratorRuntime().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.children){o.next=24;break}n=_createForOfIteratorHelper(t.children),o.prev=2,n.s();case 4:if((r=n.n()).done){o.next=16;break}if(!Ju(i=r.value)){o.next=11;break}return o.next=9,i;case 9:o.next=14;break;case 11:if(o.t0=Xu(i),!o.t0){o.next=14;break}return o.delegateYield(e(i),"t1",14);case 14:o.next=4;break;case 16:o.next=21;break;case 18:o.prev=18,o.t2=o.catch(2),n.e(o.t2);case 21:return o.prev=21,n.f(),o.finish(21);case 24:case"end":return o.stop()}}),e,null,[[2,18,21,24]])}))(this),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new C("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Uu(this.text)?this._bindToObservable({schema:this.text,updater:Qu(t),data:e}):t.textContent=this.text.join(""),t}},{key:"_renderAttributes",value:function(e){if(this.attributes){var t=e.node,n=e.revertData;for(var r in this.attributes){var i=t.getAttribute(r),o=this.attributes[r];n&&(n.attributes[r]=i);var a=$u(o)?o[0].ns:null;if(Uu(o)){var s=$u(o)?o[0].value:o;n&&el(r)&&s.unshift(i),this._bindToObservable({schema:s,updater:Hu(t,r,a),data:e})}else if("style"==r&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],e);else{n&&i&&el(r)&&o.unshift(i);var c=o.map((function(e){return e&&e.value||e})).reduce((function(e,t){return e.concat(t)}),[]).reduce(Gu,"");Yu(c)||t.setAttributeNS(a,r,c)}}}}},{key:"_renderStyleAttribute",value:function(e,t){var n=t.node;for(var r in e){var i=e[r];Uu(i)?this._bindToObservable({schema:[i],updater:Vu(n,r),data:t}):n.style[r]=i}}},{key:"_renderElementChildren",value:function(e){var t,n=e.node,r=e.intoFragment?document.createDocumentFragment():n,i=e.isApplying,o=0,a=_createForOfIteratorHelper(this.children);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(Zu(s)){if(!i){s.setParent(n);var c,u=_createForOfIteratorHelper(s);try{for(u.s();!(c=u.n()).done;){var l=c.value;r.appendChild(l.element)}}catch(d){u.e(d)}finally{u.f()}}}else if(Ju(s))i||(s.isRendered||s.render(),r.appendChild(s.element));else if(On(s))r.appendChild(s);else if(i){var h={children:[],bindings:[],attributes:{}};e.revertData.children.push(h),s._renderNode({intoFragment:!1,node:r.childNodes[o++],isApplying:!0,revertData:h})}else r.appendChild(s.render())}}catch(d){a.e(d)}finally{a.f()}e.intoFragment&&n.appendChild(r)}},{key:"_setUpListeners",value:function(e){var t=this;if(this.eventListeners){var n=function(n){var r=t.eventListeners[n].map((function(t){var r=_slicedToArray(n.split("@"),2),i=r[0],o=r[1];return t.activateDomEventListener(i,o,e)}));e.revertData&&e.revertData.bindings.push(r)};for(var r in this.eventListeners)n(r)}}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,r=e.data,i=r.revertData;ju(t,n,r);var o=t.filter((function(e){return!Yu(e)})).filter((function(e){return e.observable})).map((function(e){return e.activateAttributeListener(t,n,r)}));i&&i.bindings.push(o)}},{key:"_revertTemplateFromNode",value:function(e,t){var n,r=_createForOfIteratorHelper(t.bindings);try{for(r.s();!(n=r.n()).done;){var i,o=_createForOfIteratorHelper(n.value);try{for(o.s();!(i=o.n()).done;){(0,i.value)()}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}if(t.text)e.textContent=t.text;else{var a=e;for(var s in t.attributes){var c=t.attributes[s];null===c?a.removeAttribute(s):a.setAttribute(s,c)}for(var u=0;u<t.children.length;++u)this._revertTemplateFromNode(a.childNodes[u],t.children[u])}}}],[{key:"bind",value:function(e,t){return{to:function(n,r){return new Mu({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:r})},if:function(n,r,i){return new Lu({observable:e,emitter:t,attribute:n,valueIfTrue:r,callback:i})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new C("template-extend-render",[this,e]);!function e(t,n){var r;if(n.attributes&&(t.attributes||(t.attributes={}),Wu(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),Wu(t.eventListeners,n.eventListeners)),n.text&&(r=t.text).push.apply(r,_toConsumableArray(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new C("ui-template-extend-children-mismatch",t);var i,o=0,a=_createForOfIteratorHelper(n.children);try{for(a.s();!(i=a.n()).done;){var s=i.value;e(t.children[o++],s)}}catch(c){a.e(c)}finally{a.f()}}}(e,qu(zu(t)))}}]),n}(R()),Nu=function(){function e(t){_classCallCheck(this,e),this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}return _createClass(e,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){var r=this,i=function(){return ju(e,t,n)};return this.emitter.listenTo(this.observable,"change:".concat(this.attribute),i),function(){r.emitter.stopListening(r.observable,"change:".concat(r.attribute),i)}}}]),e}(),Mu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).eventNameOrFunction=e.eventNameOrFunction,r}return _createClass(n,[{key:"activateDomEventListener",value:function(e,t,n){var r=this,i=function(e,n){t&&!n.target.matches(t)||("function"==typeof r.eventNameOrFunction?r.eventNameOrFunction(n):r.observable.fire(r.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,i),function(){r.emitter.stopListening(n.node,e,i)}}}]),n}(Nu),Lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).valueIfTrue=e.valueIfTrue,r}return _createClass(n,[{key:"getValue",value:function(e){return!Yu(_get(_getPrototypeOf(n.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),n}(Nu);function Uu(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(Uu):e instanceof Nu)}function ju(e,t,n){var r,i=function(e,t){return e.map((function(e){return e instanceof Nu?e.getValue(t):e}))}(e,n.node);Yu(r=1==e.length&&e[0]instanceof Lu?i[0]:i.reduce(Gu,""))?t.remove():t.set(r)}function Qu(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=""}}}function Hu(e,t,n){return{set:function(r){e.setAttributeNS(n,t,r)},remove:function(){e.removeAttributeNS(n,t)}}}function Vu(e,t){return{set:function(n){e.style[t]=n},remove:function(){e.style[t]=null}}}function zu(e){return En(e,(function(e){if(e&&(e instanceof Nu||Xu(e)||Ju(e)||Zu(e)))return e}))}function qu(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=_r(e.text)}(e),e.on&&(e.eventListeners=function(e){for(var t in e)Ku(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(var t in e)e[t].value&&(e[t].value=_r(e[t].value)),Ku(e,t)}(e.attributes);var t=[];if(e.children)if(Zu(e.children))t.push(e.children);else{var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;Xu(i)||Ju(i)||On(i)?t.push(i):t.push(new Pu(i))}}catch(o){r.e(o)}finally{r.f()}}e.children=t}return e}function Ku(e,t){e[t]=_r(e[t])}function Gu(e,t){return Yu(t)?e:Yu(e)?t:"".concat(e," ").concat(t)}function Wu(e,t){for(var n in t){var r;e[n]?(r=e[n]).push.apply(r,_toConsumableArray(t[n])):e[n]=t[n]}}function Yu(e){return!e&&0!==e}function Ju(e){return e instanceof nl}function Xu(e){return e instanceof Pu}function Zu(e){return e instanceof Ru}function $u(e){return Q(e[0])&&e[0].ns}function el(e){return"class"==e||"style"==e}var tl=i(4793);zr()(tl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).element=null,r.isRendered=!1,r.locale=e,r.t=e&&e.t,r._viewCollections=new xr,r._unboundChildren=r.createCollection(),r._viewCollections.on("add",(function(t,n){n.locale=e,n.t=e&&e.t})),r.decorate("render"),r}return _createClass(n,[{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Pu.bind(this,this)}},{key:"createCollection",value:function(e){var t=new Ru(e);return this._viewCollections.add(t),t}},{key:"registerChild",value:function(e){re(e)||(e=[e]);var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._unboundChildren.add(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"deregisterChild",value:function(e){re(e)||(e=[e]);var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._unboundChildren.remove(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"setTemplate",value:function(e){this.template=new Pu(e)}},{key:"extendTemplate",value:function(e){Pu.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new C("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(e){return e.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}}]),n}(Pn(W())),rl=i(8793);zr()(rl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var il=Jn("px"),ol=Un.document.body,al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate;return r.set("top",0),r.set("left",0),r.set("position","arrow_nw"),r.set("isVisible",!1),r.set("withArrow",!0),r.set("class",void 0),r._pinWhenIsVisibleCallback=null,r.content=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",(function(e){return"ck-balloon-panel_".concat(e)})),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",il),left:i.to("left",il)}},children:r.content}),r}return _createClass(n,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var t=n.defaultPositions,r=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:ol,fitInViewport:!0},e),i=n._getOptimalPosition(r),o=parseInt(i.left),a=parseInt(i.top),s=i.name,c=(i.config||{}).withArrow,u=void 0===c||c;this.top=a,this.left=o,this.position=s,this.withArrow=u}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(e){var t=this;this.attachTo(e);var n=sl(e.target),r=e.limiter?sl(e.limiter):ol;this.listenTo(Un.document,"scroll",(function(i,o){var a=o.target,s=n&&a.contains(n),c=r&&a.contains(r);!s&&!c&&n&&r||t.attachTo(e)}),{useCapture:!0}),this.listenTo(Un.window,"resize",(function(){t.attachTo(e)}))}},{key:"_stopPinning",value:function(){this.stopListening(Un.document,"scroll"),this.stopListening(Un.window,"resize")}}]),n}(nl);function sl(e){return In(e)?e:Hn(e)?e.commonAncestorContainer:"function"==typeof e?sl(e()):null}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sideOffset,n=void 0===t?al.arrowSideOffset:t,r=e.heightOffset,i=void 0===r?al.arrowHeightOffset:r,o=e.stickyVerticalOffset,a=void 0===o?al.stickyVerticalOffset:o,s=e.config;return{northWestArrowSouthWest:function(e,t){return _objectSpread({top:c(e,t),left:e.left-n,name:"arrow_sw"},s&&{config:s})},northWestArrowSouthMiddleWest:function(e,t){return _objectSpread({top:c(e,t),left:e.left-.25*t.width-n,name:"arrow_smw"},s&&{config:s})},northWestArrowSouth:function(e,t){return _objectSpread({top:c(e,t),left:e.left-t.width/2,name:"arrow_s"},s&&{config:s})},northWestArrowSouthMiddleEast:function(e,t){return _objectSpread({top:c(e,t),left:e.left-.75*t.width+n,name:"arrow_sme"},s&&{config:s})},northWestArrowSouthEast:function(e,t){return _objectSpread({top:c(e,t),left:e.left-t.width+n,name:"arrow_se"},s&&{config:s})},northArrowSouthWest:function(e,t){return _objectSpread({top:c(e,t),left:e.left+e.width/2-n,name:"arrow_sw"},s&&{config:s})},northArrowSouthMiddleWest:function(e,t){return _objectSpread({top:c(e,t),left:e.left+e.width/2-.25*t.width-n,name:"arrow_smw"},s&&{config:s})},northArrowSouth:function(e,t){return _objectSpread({top:c(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"},s&&{config:s})},northArrowSouthMiddleEast:function(e,t){return _objectSpread({top:c(e,t),left:e.left+e.width/2-.75*t.width+n,name:"arrow_sme"},s&&{config:s})},northArrowSouthEast:function(e,t){return _objectSpread({top:c(e,t),left:e.left+e.width/2-t.width+n,name:"arrow_se"},s&&{config:s})},northEastArrowSouthWest:function(e,t){return _objectSpread({top:c(e,t),left:e.right-n,name:"arrow_sw"},s&&{config:s})},northEastArrowSouthMiddleWest:function(e,t){return _objectSpread({top:c(e,t),left:e.right-.25*t.width-n,name:"arrow_smw"},s&&{config:s})},northEastArrowSouth:function(e,t){return _objectSpread({top:c(e,t),left:e.right-t.width/2,name:"arrow_s"},s&&{config:s})},northEastArrowSouthMiddleEast:function(e,t){return _objectSpread({top:c(e,t),left:e.right-.75*t.width+n,name:"arrow_sme"},s&&{config:s})},northEastArrowSouthEast:function(e,t){return _objectSpread({top:c(e,t),left:e.right-t.width+n,name:"arrow_se"},s&&{config:s})},southWestArrowNorthWest:function(e){return _objectSpread({top:u(e),left:e.left-n,name:"arrow_nw"},s&&{config:s})},southWestArrowNorthMiddleWest:function(e,t){return _objectSpread({top:u(e),left:e.left-.25*t.width-n,name:"arrow_nmw"},s&&{config:s})},southWestArrowNorth:function(e,t){return _objectSpread({top:u(e),left:e.left-t.width/2,name:"arrow_n"},s&&{config:s})},southWestArrowNorthMiddleEast:function(e,t){return _objectSpread({top:u(e),left:e.left-.75*t.width+n,name:"arrow_nme"},s&&{config:s})},southWestArrowNorthEast:function(e,t){return _objectSpread({top:u(e),left:e.left-t.width+n,name:"arrow_ne"},s&&{config:s})},southArrowNorthWest:function(e){return _objectSpread({top:u(e),left:e.left+e.width/2-n,name:"arrow_nw"},s&&{config:s})},southArrowNorthMiddleWest:function(e,t){return _objectSpread({top:u(e),left:e.left+e.width/2-.25*t.width-n,name:"arrow_nmw"},s&&{config:s})},southArrowNorth:function(e,t){return _objectSpread({top:u(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"},s&&{config:s})},southArrowNorthMiddleEast:function(e,t){return _objectSpread({top:u(e),left:e.left+e.width/2-.75*t.width+n,name:"arrow_nme"},s&&{config:s})},southArrowNorthEast:function(e,t){return _objectSpread({top:u(e),left:e.left+e.width/2-t.width+n,name:"arrow_ne"},s&&{config:s})},southEastArrowNorthWest:function(e){return _objectSpread({top:u(e),left:e.right-n,name:"arrow_nw"},s&&{config:s})},southEastArrowNorthMiddleWest:function(e,t){return _objectSpread({top:u(e),left:e.right-.25*t.width-n,name:"arrow_nmw"},s&&{config:s})},southEastArrowNorth:function(e,t){return _objectSpread({top:u(e),left:e.right-t.width/2,name:"arrow_n"},s&&{config:s})},southEastArrowNorthMiddleEast:function(e,t){return _objectSpread({top:u(e),left:e.right-.75*t.width+n,name:"arrow_nme"},s&&{config:s})},southEastArrowNorthEast:function(e,t){return _objectSpread({top:u(e),left:e.right-t.width+n,name:"arrow_ne"},s&&{config:s})},westArrowEast:function(e,t){return _objectSpread({top:e.top+e.height/2-t.height/2,left:e.left-t.width-i,name:"arrow_e"},s&&{config:s})},eastArrowWest:function(e,t){return _objectSpread({top:e.top+e.height/2-t.height/2,left:e.right+i,name:"arrow_w"},s&&{config:s})},viewportStickyNorth:function(e,t,n){return e.getIntersection(n)?{top:n.top+a,left:e.left+e.width/2-t.width/2,name:"arrowless",config:_objectSpread({withArrow:!1},s)}:null}};function c(e,t){return e.top-t.height-i}function u(e){return e.bottom+i}}al.arrowSideOffset=25,al.arrowHeightOffset=10,al.stickyVerticalOffset=20,al._getOptimalPosition=tr,al.defaultPositions=cl();var ul=i(3332);zr()(ul.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ll="ck-tooltip",hl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this),n._editors.add(e),n._instance?_possibleConstructorReturn(r,n._instance):(n._instance=_assertThisInitialized(r),r.tooltipTextView=new nl(e.locale),r.tooltipTextView.set("text",""),r.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:r.tooltipTextView.bindTemplate.to("text")}]}),r.balloonPanelView=new al(e.locale),r.balloonPanelView.class=ll,r.balloonPanelView.content.add(r.tooltipTextView),r._resizeObserver=null,r._currentElementWithTooltip=null,r._currentTooltipPosition=null,r._pinTooltipDebounced=ua(r._pinTooltip,600),r.listenTo(Un.document,"mouseenter",r._onEnterOrFocus.bind(_assertThisInitialized(r)),{useCapture:!0}),r.listenTo(Un.document,"mouseleave",r._onLeaveOrBlur.bind(_assertThisInitialized(r)),{useCapture:!0}),r.listenTo(Un.document,"focus",r._onEnterOrFocus.bind(_assertThisInitialized(r)),{useCapture:!0}),r.listenTo(Un.document,"blur",r._onLeaveOrBlur.bind(_assertThisInitialized(r)),{useCapture:!0}),r.listenTo(Un.document,"scroll",r._onScroll.bind(_assertThisInitialized(r)),{useCapture:!0}),r._watchdogExcluded=!0,_possibleConstructorReturn(r))}return _createClass(n,[{key:"destroy",value:function(e){var t=e.ui.view&&e.ui.view.body;n._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),n._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),n._instance=null)}},{key:"_onEnterOrFocus",value:function(e,t){var n,r=dl(t.target);r&&r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,{text:(n=r).dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}))}},{key:"_onLeaveOrBlur",value:function(e,t){var n=t.target,r=t.relatedTarget;if("mouseleave"===e.name){if(!In(n))return;if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;var i=dl(n),o=dl(r);i&&i!==o&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltip()}}},{key:"_onScroll",value:function(e,t){var n=t.target;this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}},{key:"_pinTooltip",value:function(e,t){var r=this,i=t.text,o=t.position,a=t.cssClass,s=Er(n._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.pin({target:e,positions:n.getPositioningFunctions(o)}),this._resizeObserver=new Yn(e,(function(){er(e)||r._unpinTooltip()})),this.balloonPanelView.class=[ll,a].filter((function(e){return e})).join(" ");var c,u=_createForOfIteratorHelper(n._editors);try{for(u.s();!(c=u.n()).done;){var l=c.value;this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"})}}catch(h){u.e(h)}finally{u.f()}this._currentElementWithTooltip=e,this._currentTooltipPosition=o}},{key:"_unpinTooltip",value:function(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();var e,t=_createForOfIteratorHelper(n._editors);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.stopListening(r.ui,"update")}}catch(i){t.e(i)}finally{t.f()}this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}},{key:"_updateTooltipPosition",value:function(){er(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:n.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}],[{key:"getPositioningFunctions",value:function(e){var t=n.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}}]),n}(Pn());function dl(e){return In(e)?e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}hl.defaultBalloonPositions=cl({heightOffset:5,sideOffset:13}),hl._editors=new Set,hl._instance=null;var fl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).editor=e,r.componentFactory=new Ou(e),r.focusTracker=new Ir,r.tooltipManager=new hl(e),r.set("viewportOffset",r._readViewportOffsetFromConfig()),r.isReady=!1,r.once("ready",(function(){r.isReady=!0})),r._editableElementsMap=new Map,r._focusableToolbarDefinitions=[],r.listenTo(e.editing.view.document,"layoutChanged",(function(){return r.update()})),r._initFocusTracking(),r}return _createClass(n,[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);var e,t=_createForOfIteratorHelper(this._editableElementsMap.values());try{for(t.s();!(e=t.n()).done;){e.value.ckeditorInstance=null}}catch(n){t.e(n)}finally{t.f()}this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}},{key:"setEditableElement",value:function(e,t){var n=this;this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);var r=function(){n.editor.editing.view.getDomRoot(e)||n.editor.keystrokes.listenTo(t)};this.isReady?r():this.once("ready",r)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"addToolbar",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",(function(){t.focusTracker.add(e.element),t.editor.keystrokes.listenTo(e.element)})),this._focusableToolbarDefinitions.push({toolbarView:e,options:n})}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}},{key:"_readViewportOffsetFromConfig",value:function(){var e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;var n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}},{key:"_initFocusTracking",value:function(){var e,t,n=this,r=this.editor,i=r.editing.view;r.keystrokes.set("Alt+F10",(function(r,o){var a=n.focusTracker.focusedElement;Array.from(n._editableElementsMap.values()).includes(a)&&!Array.from(i.domRoots.values()).includes(a)&&(e=a);var s=n._getCurrentFocusedToolbarDefinition();s&&t||(t=n._getFocusableCandidateToolbarDefinitions());for(var c=0;c<t.length;c++){var u=t.shift();if(t.push(u),u!==s&&n._focusFocusableCandidateToolbar(u)){s&&s.options.afterBlur&&s.options.afterBlur();break}}o()})),r.keystrokes.set("Esc",(function(t,i){var o=n._getCurrentFocusedToolbarDefinition();o&&(e?(e.focus(),e=null):r.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),i())}))}},{key:"_getFocusableCandidateToolbarDefinitions",value:function(){var e,t=[],n=_createForOfIteratorHelper(this._focusableToolbarDefinitions);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.toolbarView,o=r.options;(er(i.element)||o.beforeFocus)&&t.push(r)}}catch(a){n.e(a)}finally{n.f()}return t.sort((function(e,t){return Al(e)-Al(t)})),t}},{key:"_getCurrentFocusedToolbarDefinition",value:function(){var e,t=_createForOfIteratorHelper(this._focusableToolbarDefinitions);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n}}catch(r){t.e(r)}finally{t.f()}return null}},{key:"_focusFocusableCandidateToolbar",value:function(e){var t=e.toolbarView,n=e.options.beforeFocus;return n&&n(),!!er(t.element)&&(t.focus(),!0)}}]),n}(W());function Al(e){var t=e.toolbarView,n=e.options,r=10;return er(t.element)&&r--,n.isContextual&&r--,r}function pl(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"setData",value:function(e){this.data.set(e)}},{key:"getData",value:function(e){return this.data.get(e)}}]),n}(e)}var gl=pl(Object);function vl(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"updateSourceElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.get();if(!this.sourceElement)throw new C("editor-missing-sourceelement",this);var t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;!function(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}(this.sourceElement,t||n?e:"")}}]),n}(e)}pl.setData=gl.prototype.setData,pl.getData=gl.prototype.getData,vl.updateSourceElement=vl(Object).prototype.updateSourceElement;var ml=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new xr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(e){if("string"!=typeof e)throw new C("pendingactions-add-invalid-message",this);var t=new(W());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}},{key:"remove",value:function(e){this._actions.remove(e),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:t,value:function(){return this._actions[Symbol.iterator]()}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),r}(Hr,Symbol.iterator),bl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',yl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',wl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',_l='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',kl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',Cl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',Sl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',xl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',El='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',Il='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',Bl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',Dl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Tl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',Ol='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Fl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',Rl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Pl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Nl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',Ml='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',Ll='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',Ul='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';function jl(e){var t=e.emitter,n=e.activator,r=e.callback,i=e.contextElements;t.listenTo(document,"mousedown",(function(e,t){if(n()){var o,a="function"==typeof t.composedPath?t.composedPath():[],s=_createForOfIteratorHelper(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.contains(t.target)||a.includes(c))return}}catch(u){s.e(u)}finally{s.f()}r()}}))}function Ql(e){var t=e;t.set("_isCssTransitionsDisabled",!1),t.disableCssTransitions=function(){t._isCssTransitionsDisabled=!0},t.enableCssTransitions=function(){t._isCssTransitionsDisabled=!1},t.extendTemplate({attributes:{class:[t.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function Hl(e){var t=e.view;t.listenTo(t.element,"submit",(function(e,n){n.preventDefault(),t.fire("submit")}),{useCapture:!0})}var Vl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _classCallCheck(this,n),(r=t.call(this,i)).locale=e,r}return _createClass(n,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new Pu({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=me(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]),n}(Ru),zl=i(6574);zr()(zl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ql=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n);var r=(e=t.call(this)).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.set("isColorInherited",!0),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",r.if("isColorInherited","ck-icon_inherit-color")],viewBox:r.to("viewBox")}}),e}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){e._updateXMLContent(),e._colorFillPaths()})),this.on("change:fillColor",(function(){e._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(var r=0,i=Array.from(e.attributes);r<i.length;r++){var o=i[r],a=o.name,s=o.value;n.presentationalAttributeNames.includes(a)&&this.element.setAttribute(a,s)}for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var e=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(t){t.style.fill=e.fillColor}))}}]),n}(nl);ql.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var Kl=i(4906);zr()(Kl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate,o=w();r.set("class",void 0),r.set("labelStyle",void 0),r.set("icon",void 0),r.set("isEnabled",!0),r.set("isOn",!1),r.set("isVisible",!0),r.set("isToggleable",!1),r.set("keystroke",void 0),r.set("label",void 0),r.set("tabindex",-1),r.set("tooltip",!1),r.set("tooltipPosition","s"),r.set("type","button"),r.set("withText",!1),r.set("withKeystroke",!1),r.children=r.createCollection(),r.labelView=r._createLabelView(o),r.iconView=new ql,r.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),r.keystrokeView=r._createKeystrokeView(),r.bind("_tooltipString").to(_assertThisInitialized(r),"tooltip",_assertThisInitialized(r),"label",_assertThisInitialized(r),"keystroke",r._getTooltipString.bind(_assertThisInitialized(r)));var a={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",(function(e){return!e})),i.if("isVisible","ck-hidden",(function(e){return!e})),i.to("isOn",(function(e){return e?"ck-on":"ck-off"})),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",(function(e){return e||"button"})),tabindex:i.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_".concat(o),"aria-disabled":i.if("isEnabled",!0,(function(e){return!e})),"aria-pressed":i.to("isOn",(function(e){return!!r.isToggleable&&String(!!e)})),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:r.children,on:{click:i.to((function(e){r.isEnabled?r.fire("execute"):e.preventDefault()}))}};return l&&(a.on.mousedown=i.to((function(e){r.focus(),e.preventDefault()}))),r.setTemplate(a),r}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createLabelView",value:function(e){var t=new nl;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_".concat(e)},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new nl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(e){return yr(e)}))}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n&&(n=yr(n)),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]),n}(nl),Wl=i(5332);zr()(Wl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Yl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).isToggleable=!0,r.toggleSwitchView=r._createToggleView(),r.extendTemplate({attributes:{class:"ck-switchbutton"}}),r}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new nl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]),n}(Gl),Jl=i(6781);zr()(Jl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Xl='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',Zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).arrowView=r._createArrowView(),r.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":r.bindTemplate.to("isOn",(function(e){return String(e)}))}}),r.delegate("execute").to(_assertThisInitialized(r),"open"),r}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new ql;return e.content=Xl,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),n}(Gl),$l=i(7686);zr()($l.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var eh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate;return r.set("class",void 0),r.set("labelStyle",void 0),r.set("icon",void 0),r.set("isEnabled",!0),r.set("isOn",!1),r.set("isToggleable",!1),r.set("isVisible",!0),r.set("keystroke",void 0),r.set("withKeystroke",!1),r.set("label",void 0),r.set("tabindex",-1),r.set("tooltip",!1),r.set("tooltipPosition","s"),r.set("type","button"),r.set("withText",!1),r.children=r.createCollection(),r.actionView=r._createActionView(),r.arrowView=r._createArrowView(),r.keystrokes=new Br,r.focusTracker=new Ir,r.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",(function(e){return!e})),r.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:r.children}),r}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(function(t,n){e.focusTracker.focusedElement===e.actionView.element&&(e.arrowView.focus(),n())})),this.keystrokes.set("arrowleft",(function(t,n){e.focusTracker.focusedElement===e.arrowView.element&&(e.actionView.focus(),n())}))}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var e=new Gl;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}},{key:"_createArrowView",value:function(){var e=new Gl,t=e.bindTemplate;return e.icon=Xl,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",(function(e){return String(e)}))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}]),n}(nl),th=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate;return r.set("isVisible",!1),r.set("position","se"),r.children=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",(function(e){return"ck-dropdown__panel_".concat(e)})),i.if("isVisible","ck-dropdown__panel-visible")]},children:r.children,on:{selectstart:i.to((function(e){return e.preventDefault()}))}}),r}return _createClass(n,[{key:"focus",value:function(){if(this.children.length){var e=this.children.first;"function"==typeof e.focus?e.focus():S("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}},{key:"focusLast",value:function(){if(this.children.length){var e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}]),n}(nl),nh=i(5485);zr()(nh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var rh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n);var a=(o=t.call(this,e)).bindTemplate;return o.buttonView=r,o.panelView=i,o.set("isOpen",!1),o.set("isEnabled",!0),o.set("class",void 0),o.set("id",void 0),o.set("panelPosition","auto"),o.keystrokes=new Br,o.focusTracker=new Ir,o.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",(function(e){return!e}))],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[r,i]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}}),o}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(function(){e.isOpen=!e.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(t,r,i){i&&(e.panelView.position="auto"===e.panelPosition?n._getOptimalPosition({element:e.panelView.element,target:e.buttonView.element,fitInViewport:!0,positions:e._panelPositions}).name:e.panelPosition)})),this.keystrokes.listenTo(this.element);var t=function(t,n){e.isOpen&&(e.isOpen=!1,n())};this.keystrokes.set("arrowdown",(function(t,n){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,n())})),this.keystrokes.set("arrowright",(function(t,n){e.isOpen&&n()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=n.defaultPanelPositions,t=e.south,r=e.north,i=e.southEast,o=e.southWest,a=e.northEast,s=e.northWest,c=e.southMiddleEast,u=e.southMiddleWest,l=e.northMiddleEast,h=e.northMiddleWest;return"rtl"!==this.locale.uiLanguageDirection?[i,o,c,u,t,a,s,l,h,r]:[o,i,u,c,t,s,a,h,l,r]}}]),n}(nl);rh.defaultPanelPositions={south:function(e,t){return{top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}},southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},southMiddleEast:function(e,t){return{top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}},southMiddleWest:function(e,t){return{top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}},north:function(e,t){return{top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}},northMiddleEast:function(e,t){return{top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}},northMiddleWest:function(e,t){return{top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"}}},rh._getOptimalPosition=tr;var ih=function(){function e(t){var n=this;if(_classCallCheck(this,e),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler){var r=function(e){var r=t.actions[e];"string"==typeof r&&(r=[r]);var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.keystrokeHandler.set(a,(function(t,r){n[e](),r()}))}}catch(s){o.e(s)}finally{o.f()}};for(var i in t.actions)r(i)}}return _createClass(e,[{key:"first",get:function(){return this.focusables.find(oh)||null}},{key:"last",get:function(){return this.focusables.filter(oh).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(n,r){var i=n.element===e.focusTracker.focusedElement;return i&&(t=r),i})),t)}},{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];var r=(t+n+e)%n;do{var i=this.focusables.get(r);if(oh(i))return i;r=(r+n+e)%n}while(r!==t);return null}}]),e}();function oh(e){return!(!e.focus||!er(e.element))}var ah=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),r}return _createClass(n)}(nl),sh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}}),r}return _createClass(n)}(nl);function ch(e){return Array.isArray(e)?{items:e,removeItems:[]}:e?Object.assign({items:[],removeItems:[]},e):{items:[],removeItems:[]}}var uh=i(5542);zr()(uh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var lh=Ul,hh={alignLeft:Bl,bold:bl,importExport:Sl,paragraph:xl,plus:El,text:Il,threeVerticalDots:Ul},dh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n);var o=(i=t.call(this,e)).bindTemplate,a=i.t;i.options=r||{},i.set("ariaLabel",a("Editor toolbar")),i.set("maxWidth","auto"),i.items=i.createCollection(),i.focusTracker=new Ir,i.keystrokes=new Br,i.set("class",void 0),i.set("isCompact",!1),i.itemsView=new fh(e),i.children=i.createCollection(),i.children.add(i.itemsView),i.focusables=i.createCollection();var s="rtl"===e.uiLanguageDirection;i._focusCycler=new ih({focusables:i.focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});var c,u=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];return i.options.shouldGroupWhenFull&&i.options.isFloating&&u.push("ck-toolbar_floating"),i.setTemplate({tag:"div",attributes:{class:u,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:i.children,on:{mousedown:(c=_assertThisInitialized(i),c.bindTemplate.to((function(e){e.target===c.element&&e.preventDefault()})))}}),i._behavior=i.options.shouldGroupWhenFull?new ph(_assertThisInitialized(i)):new Ah(_assertThisInitialized(i)),i}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this);var t,r=_createForOfIteratorHelper(this.items);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.focusTracker.add(i.element)}}catch(o){r.e(o)}finally{r.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,t,n){var r=this,i=ch(e),o=n||i.removeItems,a=this._cleanItemsConfiguration(i.items,t,o).map((function(e){return Q(e)?r._createNestedToolbarDropdown(e,t,o):"|"===e?new ah:"-"===e?new sh:t.create(e)})).filter((function(e){return!!e}));this.items.addMany(a)}},{key:"_cleanItemsConfiguration",value:function(e,t,n){var r=this,i=e.filter((function(e,i,o){return"|"===e||-1===n.indexOf(e)&&("-"===e?!r.options.shouldGroupWhenFull||(S("toolbarview-line-break-ignored-when-grouping-items",o),!1):!(!Q(e)&&!t.has(e)&&(S("toolbarview-item-unavailable",{item:e}),1)))}));return this._cleanSeparatorsAndLineBreaks(i)}},{key:"_cleanSeparatorsAndLineBreaks",value:function(e){var t=function(e){return"-"!==e&&"|"!==e},n=e.length,r=e.findIndex(t);if(-1===r)return[];var i=n-e.slice().reverse().findIndex(t);return e.slice(r,i).filter((function(e,n,r){return!!t(e)||!(n>0&&r[n-1]===e)}))}},{key:"_createNestedToolbarDropdown",value:function(e,t,n){var r=e.label,i=e.icon,o=e.items,a=e.tooltip,s=void 0===a||a,c=e.withText,u=void 0!==c&&c;if(!(o=this._cleanItemsConfiguration(o,t,n)).length)return null;var l=_h(this.locale);return r||S("toolbarview-nested-toolbar-dropdown-missing-label",e),l.class="ck-toolbar__nested-toolbar-dropdown",l.buttonView.set({label:r,tooltip:s,withText:!!u}),!1!==i?l.buttonView.icon=hh[i]||i||lh:l.buttonView.withText=!0,kh(l,[]),l.toolbarView.fillFromConfig(o,t,n),l}}]),n}(nl),fh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).children=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:r.children}),r}return _createClass(n)}(nl),Ah=function(){function e(t){_classCallCheck(this,e);var n=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((function(e){return e})),t.focusables.bindTo(t.items).using((function(e){return e})),t.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return _createClass(e,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),e}(),ph=function(){function e(t){var n=this;_classCallCheck(this,e),this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using((function(e){return e})),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(function(e,t){var r,i=t.index,o=Array.from(t.added),a=_createForOfIteratorHelper(t.removed);try{for(a.s();!(r=a.n()).done;){var s=r.value;i>=n.ungroupedItems.length?n.groupedItems.remove(s):n.ungroupedItems.remove(s)}}catch(l){a.e(l)}finally{a.f()}for(var c=i;c<i+o.length;c++){var u=o[c-i];c>n.ungroupedItems.length?n.groupedItems.add(u,c-n.ungroupedItems.length):n.ungroupedItems.add(u,c)}n._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return _createClass(e,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(er(this.viewElement)){for(var e,t=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new qn(e.lastChild),r=new qn(e);if(!this.cachedPadding){var i=Un.window.getComputedStyle(e);this.cachedPadding=Number.parseInt(i["ltr"===t?"paddingRight":"paddingLeft"])}return"ltr"===t?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}},{key:"_enableGroupingOnResize",value:function(){var e,t=this;this.resizeObserver=new Yn(this.viewElement,(function(n){e&&e===n.contentRect.width&&!t.shouldUpdateGroupingOnNextResize||(t.shouldUpdateGroupingOnNextResize=!1,t._updateGrouping(),e=n.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",(function(){t._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new ah),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=_h(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",kh(n,[]),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:lh}),n.toolbarView.items.bindTo(this.groupedItems).using((function(e){return e})),n}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(t){e.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}]),e}(),gh=i(1046);zr()(gh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var vh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).items=r.createCollection(),r.focusTracker=new Ir,r.keystrokes=new Br,r._focusCycler=new ih({focusables:r.items,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),r.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:r.items}),r}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this);var t,r=_createForOfIteratorHelper(this.items);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.focusTracker.add(i.element)}}catch(o){r.e(o)}finally{r.f()}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),n}(nl),mh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate;return r.set("isVisible",!0),r.children=r.createCollection(),r.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",(function(e){return!e}))]},children:r.children}),r}return _createClass(n,[{key:"focus",value:function(){this.children.first.focus()}}]),n}(nl),bh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),r}return _createClass(n)}(nl),yh=i(7339);zr()(yh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var wh=i(3949);function _h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zl,n=new t(e),r=new th(e),i=new rh(e,n,r);return n.bind("isEnabled").to(i),n instanceof eh?n.arrowView.bind("isOn").to(i,"isOpen"):n.bind("isOn").to(i,"isOpen"),function(e){(function(e){e.on("render",(function(){jl({emitter:e,activator:function(){return e.isOpen},callback:function(){e.isOpen=!1},contextElements:[e.element]})}))})(e),function(e){e.on("execute",(function(t){t.source instanceof Yl||(e.isOpen=!1)}))}(e),function(e){e.focusTracker.on("change:isFocused",(function(t,n,r){e.isOpen&&!r&&(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",(function(t,n){e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",(function(t,n){e.isOpen&&(e.panelView.focusLast(),n())}))}(e),function(e){e.on("change:isOpen",(function(t,n,r){r||e.panelView.element.contains(Un.document.activeElement)&&e.buttonView.focus()}))}(e),function(e){e.on("change:isOpen",(function(t,n,r){r&&e.panelView.focus()}),{priority:"low"})}(e)}(i),i}function kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.locale,i=r.t,o=e.toolbarView=new dh(r);o.set("ariaLabel",i("Dropdown toolbar")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.map((function(e){return o.items.add(e)})),n.enableActiveItemFocusOnDropdownOpen&&Sh(e,(function(){return o.items.find((function(e){return e.isOn}))})),e.panelView.children.add(o),o.items.delegate("execute").to(e)}function Ch(e,t){var n=e.locale,r=e.listView=new vh(n);r.items.bindTo(t).using((function(e){if("separator"===e.type)return new bh(n);if("button"===e.type||"switchbutton"===e.type){var t,r,i=new mh(n);return(t=r="button"===e.type?new Gl(n):new Yl(n)).bind.apply(t,_toConsumableArray(Object.keys(e.model))).to(e.model),r.delegate("execute").to(i),i.children.add(r),i}return null})),e.panelView.children.add(r),r.items.delegate("execute").to(e),Sh(e,(function(){return r.items.find((function(e){return e instanceof mh&&e.children.first.isOn}))}))}function Sh(e,t){e.on("change:isOpen",(function(){if(e.isOpen){var n=t();n&&("function"==typeof n.focus?n.focus():S("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}}),{priority:_.low-10})}zr()(wh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var xh=i(9688);zr()(xh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Eh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).body=new Vl(e),r}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(nl),Ih=i(3662);zr()(Ih.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Bh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this,e)).set("text",void 0),r.set("for",void 0),r.id="ck-editor__label_".concat(w());var i=r.bindTemplate;return r.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:r.id,for:i.to("for")},children:[{text:i.to("text")}]}),r}return _createClass(n)}(nl),Dh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).top=r.createCollection(),r.main=r.createCollection(),r._voiceLabelView=r._createVoiceLabel(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":r._voiceLabelView.id},children:[r._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:r.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:r.main}]}),r}return _createClass(n,[{key:"_createVoiceLabel",value:function(){var e=this.t,t=new Bh;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}]),n}(Eh),Th=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck(this,n),o=t.call(this,e,r,i);var s=e.t;return o.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),o._generateLabel=a.label||function(){return s("Editor editing area: %0",o.name)},o}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this);var t=this._editingView;t.change((function(n){var r=t.document.getRoot(e.name);n.setAttribute("aria-label",e._generateLabel(e),r)}))}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),o.name=null,o.set("isFocused",!1),o._editableElement=i,o._hasExternalElement=!!o._editableElement,o._editingView=r,o}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return e._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var e=this._editingView;function t(t){e.change((function(n){var r=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",r)}))}e.isRenderingInProgress?function n(r){e.once("change:isRenderingInProgress",(function(e,i,o){o?n(r):t(r)}))}(this):t(this)}}]),n}(nl)),Oh=i(8847);zr()(Oh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Fh=i(4879);zr()(Fh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Rh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).extendTemplate({attributes:{type:"text",class:["ck-input-text"]}}),r}return _createClass(n)}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this,e)).set("value",void 0),r.set("id",void 0),r.set("placeholder",void 0),r.set("isReadOnly",!1),r.set("hasError",!1),r.set("ariaDescribedById",void 0),r.focusTracker=new Ir,r.bind("isFocused").to(r.focusTracker),r.set("isEmpty",!0),r.set("inputMode","text");var i=r.bindTemplate;return r.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=r).fire.apply(e,["input"].concat(n)),r._updateIsEmpty()})),change:i.to(r._updateIsEmpty.bind(_assertThisInitialized(r)))}}),r}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(function(t,n,r){e._setDomElementValue(r),e._updateIsEmpty()}))}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy()}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}},{key:"_updateIsEmpty",value:function(){this.isEmpty=!this.element.value}},{key:"_setDomElementValue",value:function(e){this.element.value=e||0===e?e:""}}]),n}(nl)),Ph=i(2577);zr()(Ph.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Nh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),i=t.call(this,e);var o="ck-labeled-field-view-".concat(w()),a="ck-labeled-field-view-status-".concat(w());i.fieldView=r(_assertThisInitialized(i),o,a),i.set("label",void 0),i.set("isEnabled",!0),i.set("isEmpty",!0),i.set("isFocused",!1),i.set("errorText",null),i.set("infoText",null),i.set("class",void 0),i.set("placeholder",void 0),i.labelView=i._createLabelView(o),i.statusView=i._createStatusView(a),i.fieldWrapperChildren=i.createCollection([i.fieldView,i.labelView]),i.bind("_statusText").to(_assertThisInitialized(i),"errorText",_assertThisInitialized(i),"infoText",(function(e,t){return e||t}));var s=i.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",(function(e){return!e})),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:i.fieldWrapperChildren},i.statusView]}),i}return _createClass(n,[{key:"_createLabelView",value:function(e){var t=new Bh(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createStatusView",value:function(e){var t=new nl(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(function(e){return!e}))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"focus",value:function(){this.fieldView.focus()}}]),n}(nl);function Mh(e,t,n){var r=new Rh(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",(function(e){return!e})),r.bind("hasError").to(e,"errorText",(function(e){return!!e})),r.on("input",(function(){e.errorText=null})),e.bind("isEmpty","isFocused","placeholder").to(r),r}var Lh=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){this.on("show:warning",(function(e,t){window.alert(t.message)}),{priority:"lowest"})}},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}},{key:"_showNotification",value:function(e){this.fire(e.namespace?"show:".concat(e.type,":").concat(e.namespace):"show:".concat(e.type),{message:e.message,type:e.type,title:e.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),n}(Hr),Uh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),i=t.call(this),r&&Yo(_assertThisInitialized(i),r),e&&i.set(e),i}return _createClass(n)}(W()),jh=i(4650);zr()(jh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Qh=i(7676);zr()(Qh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Hh=Jn("px"),Vh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).positionLimiter=function(){var e=r.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},r.set("visibleView",null),r.view=new al(e.locale),e.ui.view.body.add(r.view),e.ui.focusTracker.add(r.view.element),r._viewToStack=new Map,r._idToStack=new Map,r.set("_numberOfStacks",0),r.set("_singleViewMode",!1),r._rotatorView=r._createRotatorView(),r._fakePanelsView=r._createFakePanelsView(),r}return _createClass(n,[{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}},{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new C("contextualballoon-add-view-exist",[this,e]);var t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));var n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}},{key:"remove",value:function(e){if(!this.hasView(e))throw new C("contextualballoon-remove-view-not-exist",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;var t=this._idToStack.get(e);if(!t)throw new C("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}},{key:"_getStackId",value:function(e){return Array.from(this._idToStack.entries()).find((function(t){return t[1]===e}))[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var e=this,t=new zh(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>1})),t.on("change:isNavigationVisible",(function(){return e.updatePosition()}),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,r){if(r<2)return"";var i=Array.from(e._idToStack.values()).indexOf(e._visibleStack)+1;return n("%0 of %1",[i,r])})),t.buttonNextView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showNextStack()})),t.buttonPrevView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showPrevStack()})),t}},{key:"_createFakePanelsView",value:function(){var e=new qh(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>=2?Math.min(e-1,2):0})),e.listenTo(this.view,"change:top",(function(){return e.updatePosition()})),e.listenTo(this.view,"change:left",(function(){return e.updatePosition()})),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,r=void 0===n?"":n,i=e.withArrow,o=void 0===i||i,a=e.singleViewMode,s=void 0!==a&&a;this.view.class=r,this.view.withArrow=o,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}],[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),n}(Pr),zh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),r=t.call(this,e);var i=e.t,o=r.bindTemplate;return r.set("isNavigationVisible",!0),r.focusTracker=new Ir,r.buttonPrevView=r._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),r.buttonNextView=r._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),r.content=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",(function(e){return e?"":"ck-hidden"}))]},children:[r.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},r.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:r.content}]}),r}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy()}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new Gl(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),n}(nl),qh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n);var o=(i=t.call(this,e)).bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=r,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",(function(e){return e?"":"ck-hidden"}))],style:{top:o.to("top",Hh),left:o.to("left",Hh),width:o.to("width",Hh),height:o.to("height",Hh)}},children:i.content}),i.on("change:numberOfPanels",(function(e,t,n,r){n>r?i._addPanels(n-r):i._removePanels(r-n),i.updatePosition()})),i}return _createClass(n,[{key:"_addPanels",value:function(e){for(;e--;){var t=new nl;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var e=this._balloonPanelView,t=e.top,n=e.left,r=new qn(this._balloonPanelView.element),i=r.width,o=r.height;Object.assign(this,{top:t,left:n,width:i,height:o})}}}]),n}(nl),Kh=i(5868);zr()(Kh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Gh=Jn("px"),Wh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate;return r.set("isActive",!1),r.set("isSticky",!1),r.set("limiterElement",null),r.set("limiterBottomOffset",50),r.set("viewportTopOffset",0),r.set("_marginLeft",null),r.set("_isStickyToTheLimiter",!1),r.set("_hasViewportTopOffset",!1),r.content=r.createCollection(),r._contentPanelPlaceholder=new Pu({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",(function(e){return e?"block":"none"})),height:i.to("isSticky",(function(e){return e?Gh(r._panelRect.height):null}))}}}).render(),r._contentPanel=new Pu({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",(function(e){return e?Gh(r._contentPanelPlaceholder.getBoundingClientRect().width):null})),top:i.to("_hasViewportTopOffset",(function(e){return e?Gh(r.viewportTopOffset):null})),bottom:i.to("_isStickyToTheLimiter",(function(e){return e?Gh(r.limiterBottomOffset):null})),marginLeft:i.to("_marginLeft")}},children:r.content}).render(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[r._contentPanelPlaceholder,r._contentPanel]}),r}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Un.window,"scroll",(function(){e._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(function(){e._checkIfShouldBeSticky()}))}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Gh(-Un.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),n}(nl);Jn("px");var Yh=i(9695);zr()(Yh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Jn("px"),Jn("px");var Jh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).view=r,i._toolbarConfig=ch(e.config.get("toolbar")),i._elementReplacer=new ee,i}return _createClass(n,[{key:"element",get:function(){return this.view.element}},{key:"init",value:function(e){var t=this.view,n=this.editor.editing.view,r=t.editable,i=n.document.getRoot();r.name=i.rootName,t.render();var o=r.element;this.setEditableElement(r.name,o),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this);var e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}},{key:"_initToolbar",value:function(){var e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(function(e){return e.top||0})),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}},{key:"_initPlaceholder",value:function(){var e=this.editor,t=e.editing.view,n=t.document.getRoot(),r=e.sourceElement,i=e.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");i&&Gr({view:t,element:n,text:i,isDirectHost:!1,keepOnFocus:!0})}}]),n}(fl),Xh=i(3143);zr()(Xh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Zh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,n),(i=t.call(this,e)).stickyPanel=new Wh(e),i.toolbar=new dh(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),i.editable=new Th(e,r),i}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),n}(Dh),$h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,n),!ed(e)&&void 0!==i.initialData)throw new C("editor-create-initial-data",null);void 0===(r=t.call(this,i)).config.get("initialData")&&r.config.set("initialData",function(e){return ed(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e)),ed(e)&&(r.sourceElement=e),r.model.document.createRoot();var o=!r.config.get("toolbar.shouldNotGroupWhenFull"),a=new Zh(r.locale,r.editing.view,{shouldToolbarGroupWhenFull:o});return r.ui=new Jh(_assertThisInitialized(r),a),function(e){if(!De(e.updateSourceElement))throw new C("attachtoform-missing-elementapi-interface",e);var t=e.sourceElement;if(function(e){return!!e&&"textarea"===e.tagName.toLowerCase()}(t)&&t.form){var n,r=t.form,i=function(){return e.updateSourceElement()};De(r.submit)&&(n=r.submit,r.submit=function(){i(),n.apply(r)}),r.addEventListener("submit",i),e.on("destroy",(function(){r.removeEventListener("submit",i),n&&(r.submit=n)}))}}(_assertThisInitialized(r)),r}return _createClass(n,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var i=new t(e,n);r(i.initPlugins().then((function(){return i.ui.init(ed(e)?e:null)})).then((function(){return i.data.init(i.config.get("initialData"))})).then((function(){return i.fire("ready")})).then((function(){return i})))}))}}]),n}(pl(vl(Tu)));function ed(e){return In(e)}var td=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).document;function o(e){return function(t,n){n.preventDefault();var r=n.dropRange?[n.dropRange]:null,o=new b(i,e);i.fire(o,{dataTransfer:n.dataTransfer,method:t.name,targetRanges:r,target:n.target}),o.stop.called&&n.stopPropagation()}}return r.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],r.listenTo(i,"paste",o("clipboardInput"),{priority:"low"}),r.listenTo(i,"drop",o("clipboardInput"),{priority:"low"}),r.listenTo(i,"dragover",o("dragging"),{priority:"low"}),r}return _createClass(n,[{key:"onDomEvent",value:function(e){var t={dataTransfer:new Oa("clipboardData"in e?e.clipboardData:e.dataTransfer)};"drop"!=e.type&&"dragover"!=e.type||(t.dropRange=function(e,t){var n,r=t.target.ownerDocument,i=t.clientX,o=t.clientY;return r.caretRangeFromPoint&&r.caretRangeFromPoint(i,o)?n=r.caretRangeFromPoint(i,o):t.rangeParent&&((n=r.createRange()).setStart(t.rangeParent,t.rangeOffset),n.collapse(!0)),n?e.domConverter.domRangeToView(n):null}(this.view,e)),this.fire(e.type,e,t)}}]),n}(Xo),nd=["figcaption","li"],rd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){this.editor.editing.view.addObserver(td),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var e=this,t=this.editor,n=t.model,r=t.editing.view,i=r.document;this.listenTo(i,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",(function(t,n){var i,o,a=n.dataTransfer;if(n.content)i=n.content;else{var s="";a.getData("text/html")?s=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1==t.length?" ":t})).replace(/<!--[\s\S]*?-->/g,"")}(a.getData("text/html")):a.getData("text/plain")&&(((o=(o=a.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o="<p>".concat(o,"</p>")),s=o),i=e.editor.data.htmlProcessor.toView(s)}var c=new b(e,"inputTransformation");e.fire(c,{content:i,dataTransfer:a,targetRanges:n.targetRanges,method:n.method}),c.stop.called&&t.stop(),r.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(t,r){if(!r.content.isEmpty){var i=e.editor.data.toModel(r.content,"$clipboardHolder");0!=i.childCount&&(t.stop(),n.change((function(){e.fire("contentInsertion",{content:i,method:r.method,dataTransfer:r.dataTransfer,targetRanges:r.targetRanges})})))}}),{priority:"low"}),this.listenTo(this,"contentInsertion",(function(e,t){t.resultRange=n.insertContent(t.content)}),{priority:"low"})}},{key:"_setupCopyCut",value:function(){var e=this,t=this.editor,n=t.model.document,r=t.editing.view.document,i=function(e,i){var o=i.dataTransfer;i.preventDefault();var a=t.data.toView(t.model.getSelectedContent(n.selection));r.fire("clipboardOutput",{dataTransfer:o,content:a,method:e.name})};this.listenTo(r,"copy",i,{priority:"low"}),this.listenTo(r,"cut",(function(e,n){t.isReadOnly?n.preventDefault():i(e,n)}),{priority:"low"}),this.listenTo(r,"clipboardOutput",(function(r,i){i.content.isEmpty||(i.dataTransfer.setData("text/html",e.editor.data.htmlProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("$text")||t.is("$textProxy"))n=t.data;else if(t.is("element","img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else if(t.is("element","br"))n="\n";else{var r,i=null,o=_createForOfIteratorHelper(t.getChildren());try{for(o.s();!(r=o.n()).done;){var a=r.value,s=e(a);i&&(i.is("containerElement")||a.is("containerElement"))&&(nd.includes(i.name)||nd.includes(a.name)?n+="\n":n+="\n\n"),n+=s,i=a}}catch(c){o.e(c)}finally{o.f()}}return n}(i.content))),"cut"==i.method&&t.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ClipboardPipeline"}}]),n}(Pr),id=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;_classCallCheck(this,e),this._batch=null,this.model=t,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=function(e,t){t.isLocal&&t.isUndoable&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return _createClass(e,[{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}},{key:"size",get:function(){return this._size}},{key:"input",value:function(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}},{key:"isLocked",get:function(){return this._isLocked}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLocked&&!e||(this._batch=null,this._size=0)}}]),e}(),od=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e))._buffer=new id(e.model,r),i}return _createClass(n,[{key:"buffer",get:function(){return this._buffer}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,i=t.text||"",o=i.length,a=r.selection;t.selection?a=t.selection:t.range&&(a=n.createSelection(t.range));var s=t.resultRange;n.enqueueChange(this._buffer.batch,(function(t){e._buffer.lock(),n.deleteContent(a),i&&n.insertContent(t.createText(i,r.selection.getAttributes()),a),s?t.setSelection(s):a.is("documentSelection")||t.setSelection(a),e._buffer.unlock(),e._buffer.input(o)}))}}]),n}(Mr),ad=["insertText","insertReplacementText"],sd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),r=t.call(this,e),h&&ad.push("insertCompositionText");var i=e.document;return i.on("beforeinput",(function(t,n){if(r.isEnabled){var o=n.data,a=n.targetRanges,s=n.inputType,c=n.domEvent;if(ad.includes(s)){var u=new b(i,"insertText");i.fire(u,new Jo(e,c,{text:o,selection:e.createSelection(a)})),u.stop.called&&t.stop()}}})),i.on("compositionend",(function(t,n){var o=n.data,a=n.domEvent;r.isEnabled&&!h&&o&&i.fire("insertText",new Jo(e,a,{text:o,selection:i.selection}))}),{priority:"lowest"}),r}return _createClass(n,[{key:"observe",value:function(){}}]),n}(Wo),cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=e.editing.view,r=t.document.selection;n.addObserver(sd);var i=new od(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",i),e.commands.add("input",i),this.listenTo(n.document,"insertText",(function(r,i){n.document.isComposing||i.preventDefault();var o=i.text,a=i.selection,s=i.resultRange,c=Array.from(a.getRanges()).map((function(t){return e.editing.mapper.toModelRange(t)})),u=o;if(h){var l=Array.from(c[0].getItems()).reduce((function(e,t){return e+(t.is("$textProxy")?t.data:"")}),"");l&&(l.length<=u.length?u.startsWith(l)&&(u=u.substring(l.length),c[0].start=c[0].start.getShiftedBy(l.length)):l.startsWith(u)&&(c[0].start=c[0].start.getShiftedBy(u.length),u=""))}var d={text:u,selection:t.createSelection(c)};s&&(d.resultRange=e.editing.mapper.toModelRange(s)),e.execute("insertText",d)})),h?this.listenTo(n.document,"keydown",(function(e,o){!r.isCollapsed&&229==o.keyCode&&n.document.isComposing&&ud(t,i)})):this.listenTo(n.document,"compositionstart",(function(){r.isCollapsed||ud(t,i)}))}}],[{key:"pluginName",get:function(){return"Input"}}]),n}(Pr);function ud(e,t){if(t.isEnabled){var n=t.buffer;n.lock(),e.enqueueChange(n.batch,(function(){e.deleteContent(e.document.selection)})),n.unlock()}}var ld=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).direction=r,i._buffer=new id(e.model,e.config.get("typing.undoStep")),i}return _createClass(n,[{key:"buffer",get:function(){return this._buffer}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document;n.enqueueChange(this._buffer.batch,(function(i){e._buffer.lock();var o=i.createSelection(t.selection||r.selection),a=t.sequence||1,s=o.isCollapsed;if(o.isCollapsed&&n.modifySelection(o,{direction:e.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),e._shouldEntireContentBeReplacedWithParagraph(a))e._replaceEntireContentWithParagraph(i);else if(e._shouldReplaceFirstBlockWithParagraph(o,a))e.editor.execute("paragraph",{selection:o});else if(!o.isCollapsed){var c=0;o.getFirstRange().getMinimalFlatRanges().forEach((function(e){c+=te(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),n.deleteContent(o,{doNotResetEntireContent:s,direction:e.direction}),e._buffer.input(c),i.setSelection(o),e._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(e>1)return!1;var t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!t.schema.checkChild(r,"paragraph"))return!1;var i=r.getChild(0);return!i||!i.is("element","paragraph")}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,n=t.schema.getLimitElement(t.document.selection),r=e.createElement("paragraph");e.remove(e.createRangeIn(n)),e.insert(r,n),e.setSelection(r,0)}},{key:"_shouldReplaceFirstBlockWithParagraph",value:function(e,t){var n=this.editor.model;if(t>1||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;var r=e.getFirstPosition(),i=n.schema.getLimitElement(r),o=i.getChild(0);return r.parent==o&&!!e.containsEntireContent(o)&&!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=o.name}}]),n}(Mr),hd="selection",dd="backward",fd="forward",Ad={deleteContent:{unit:hd,direction:dd},deleteContentBackward:{unit:"codePoint",direction:dd},deleteWordBackward:{unit:"word",direction:dd},deleteHardLineBackward:{unit:hd,direction:dd},deleteSoftLineBackward:{unit:hd,direction:dd},deleteContentForward:{unit:"character",direction:fd},deleteWordForward:{unit:"word",direction:fd},deleteHardLineForward:{unit:hd,direction:fd},deleteSoftLineForward:{unit:hd,direction:fd}},pd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),r=t.call(this,e);var i=e.document,o=0;return i.on("keydown",(function(){o++})),i.on("keyup",(function(){o=0})),i.on("beforeinput",(function(t,n){if(r.isEnabled){var a=n.targetRanges,s=n.domEvent,c=n.inputType,u=Ad[c];if(u){var l={direction:u.direction,unit:u.unit,sequence:o};l.unit==hd&&(l.selectionToRemove=e.createSelection(a[0])),h&&"deleteContentBackward"===c&&(l.sequence=1,1!=a.length||a[0].start.parent==a[0].end.parent&&a[0].start.offset+1==a[0].end.offset||(l.unit=hd,l.selectionToRemove=e.createSelection(a)));var d=new Wi(i,"delete",a[0]);i.fire(d,new Jo(e,s,l)),d.stop.called&&t.stop()}}})),d&&function(e){var t=e.view,n=t.document,r=null,i=!1;function o(e){return e==gr.backspace||e==gr.delete}function a(e){return e==gr.backspace?dd:fd}n.on("keydown",(function(e,t){var n=t.keyCode;r=n,i=!1})),n.on("keyup",(function(s,c){var u=c.keyCode,l=c.domEvent,h=n.selection,d=e.isEnabled&&u==r&&o(u)&&!h.isCollapsed&&!i;if(r=null,d){var f=h.getFirstRange(),A=new Wi(n,"delete",f),p={unit:hd,direction:a(u),selectionToRemove:h};n.fire(A,new Jo(t,l,p))}})),n.on("beforeinput",(function(e,t){var n=t.inputType,s=Ad[n];o(r)&&s&&s.direction==a(r)&&(i=!0)}),{priority:"high"}),n.on("beforeinput",(function(e,t){var n=t.inputType,i=t.data;r==gr.delete&&"insertText"==n&&"\x7f"==i&&e.stop()}),{priority:"high"})}(_assertThisInitialized(r)),r}return _createClass(n,[{key:"observe",value:function(){}}]),n}(Wo),gd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,r=n.document,i=t.model.document;n.addObserver(pd),this._undoOnBackspace=!1;var o=new ld(t,"forward");t.commands.add("deleteForward",o),t.commands.add("forwardDelete",o),t.commands.add("delete",new ld(t,"backward")),this.listenTo(r,"delete",(function(e,i){r.isComposing||i.preventDefault();var o=i.direction,a=i.sequence,s=i.selectionToRemove,c=i.unit,u="forward"===o?"deleteForward":"delete",l={sequence:a};if("selection"==c){var h=Array.from(s.getRanges()).map((function(e){return t.editing.mapper.toModelRange(e)}));l.selection=t.model.createSelection(h)}else l.unit=c;t.execute(u,l),n.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(function(n,r){e._undoOnBackspace&&"backward"==r.direction&&1==r.sequence&&"codePoint"==r.unit&&(e._undoOnBackspace=!1,t.execute("undo"),r.preventDefault(),n.stop())}),{context:"$capture"}),this.listenTo(i,"change",(function(){e._undoOnBackspace=!1})))}},{key:"requestUndoOnBackspace",value:function(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}],[{key:"pluginName",get:function(){return"Delete"}}]),n}(Pr),vd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[cd,gd]}},{key:"pluginName",get:function(){return"Typing"}}]),n}(Pr);function md(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,r){return r.is("$text")||r.is("$textProxy")?e+r.data:(n=t.createPositionAfter(r),"")}),""),range:t.createRange(n,e.end)}}var bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).model=e,i.testCallback=r,i._hasMatch=!1,i.set("isEnabled",!0),i.on("change:isEnabled",(function(){i.isEnabled?i._startListening():(i.stopListening(e.document.selection),i.stopListening(e.document))})),i._startListening(),i}return _createClass(n,[{key:"hasMatch",get:function(){return this._hasMatch}},{key:"_startListening",value:function(){var e=this,t=this.model.document;this.listenTo(t.selection,"change:range",(function(n,r){r.directChange&&(t.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e._hasMatch=!1))})),this.listenTo(t,"change:data",(function(t,n){!n.isUndo&&n.isLocal&&e._evaluateTextBeforeSelection("data",{batch:n})}))}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,r=n.document.selection,i=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),o=md(i,n),a=o.text,s=o.range,c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){var u=Object.assign(t,{text:a,range:s});"object"==typeof c&&Object.assign(u,c),this.fire("matched:".concat(e),u)}}}]),n}(W()),yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).attributes=new Set,r._overrideUid=null,r}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.locale,r=t.model.document.selection;this.listenTo(t.editing.view.document,"arrowKey",(function(t,i){if(r.isCollapsed&&!(i.shiftKey||i.altKey||i.ctrlKey)){var o=i.keyCode==gr.arrowright,a=i.keyCode==gr.arrowleft;if(o||a){var s=n.contentLanguageDirection;!0===("ltr"===s&&o||"rtl"===s&&a?e._handleForwardMovement(i):e._handleBackwardMovement(i))&&t.stop()}}}),{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",(function(t,n){e._isNextGravityRestorationSkipped?e._isNextGravityRestorationSkipped=!1:e._isGravityOverridden&&(!n.directChange&&Cd(r.getFirstPosition(),e.attributes)||e._restoreGravity())}))}},{key:"registerAttribute",value:function(e){this.attributes.add(e)}},{key:"_handleForwardMovement",value:function(e){var t=this.attributes,n=this.editor.model.document.selection,r=n.getFirstPosition();return!(this._isGravityOverridden||r.isAtStart&&wd(n,t)||!Cd(r,t)||(kd(e),this._overrideGravity(),0))}},{key:"_handleBackwardMovement",value:function(e){var t=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return this._isGravityOverridden?(kd(e),this._restoreGravity(),_d(n,t,i),!0):i.isAtStart?!!wd(r,t)&&(kd(e),_d(n,t,i),!0):!!function(e,t){return Cd(e.getShiftedBy(-1),t)}(i,t)&&(i.isAtEnd&&!wd(r,t)&&Cd(i,t)?(kd(e),_d(n,t,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_overrideGravity",value:function(){this._overrideUid=this.editor.model.change((function(e){return e.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var e=this;this.editor.model.change((function(t){t.restoreSelectionGravity(e._overrideUid),e._overrideUid=null}))}}],[{key:"pluginName",get:function(){return"TwoStepCaretMovement"}}]),n}(Pr);function wd(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.hasAttribute(i))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function _d(e,t,n){var r=n.nodeBefore;e.change((function(e){r?e.setSelectionAttribute(r.getAttributes()):e.removeSelectionAttribute(t)}))}function kd(e){e.preventDefault()}function Cd(e,t){var n,r=e.nodeBefore,i=e.nodeAfter,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r?r.getAttribute(a):void 0;if((i?i.getAttribute(a):void 0)!==s)return!0}}catch(c){o.e(c)}finally{o.f()}return!1}var Sd=/[\\^$.*+?()[\]{}|]/g,xd=RegExp(Sd.source),Ed={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Fd('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Fd("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Fd("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Fd('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Fd('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Fd("'"),to:[null,"\u201a",null,"\u2019"]}},Id={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Bd=["symbols","mathematical","typography","quotes"];function Dd(e){return"string"==typeof e?new RegExp("(".concat(function(e){return(e=pi(e))&&xd.test(e)?e.replace(Sd,"\\$&"):e}(e),")$")):e}function Td(e){return"string"==typeof e?function(){return[e]}:e instanceof Array?function(){return e}:e}function Od(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function Fd(e){return new RegExp("(^|\\s)(".concat(e,")([^").concat(e,"]*)(").concat(e,")$"))}function Rd(e,t,n,r){return r.createRange(Pd(e,t,n,!0,r),Pd(e,t,n,!1,r))}function Pd(e,t,n,r,i){for(var o=e.textNode||(r?e.nodeBefore:e.nodeAfter),a=null;o&&o.getAttribute(t)==n;)a=o,o=r?o.previousSibling:o.nextSibling;return a?i.createPositionAt(a,r?"before":"after"):e}function Nd(e,t){var n,r,i;return _regeneratorRuntime().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=_createForOfIteratorHelper(t),o.prev=1,n.s();case 3:if((r=n.n()).done){o.next=11;break}if(i=r.value,o.t0=i&&e.getAttributeProperties(i[0]).copyOnEnter,!o.t0){o.next=9;break}return o.next=9,i;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),n.e(o.t1);case 16:return o.prev=16,n.f(),o.finish(16);case 19:case"end":return o.stop()}}),a,null,[[1,13,16,19]])}var Md=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"execute",value:function(){var e=this;this.editor.model.change((function(t){e.enterBlock(t),e.fire("afterExecute",{writer:t})}))}},{key:"enterBlock",value:function(e){var t=this.editor.model,n=t.document.selection,r=t.schema,i=n.isCollapsed,o=n.getFirstRange(),a=o.start.parent,s=o.end.parent;if(r.isLimit(a)||r.isLimit(s))return i||a!=s||t.deleteContent(n),!1;if(i){var c=Nd(e.model.schema,n.getAttributes());return Ld(e,o.start),e.setSelectionAttribute(c),!0}var u=!(o.start.isAtStart&&o.end.isAtEnd),l=a==s;if(t.deleteContent(n,{leaveUnmerged:u}),u){if(l)return Ld(e,n.focus),!0;e.setSelection(s,0)}return!1}}]),n}(Mr);function Ld(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var Ud={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}},jd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).document;return i.on("beforeinput",(function(t,n){if(r.isEnabled){var o=n.domEvent,a=Ud[n.inputType];if(a){var s=new Wi(i,"enter",n.targetRanges[0]);i.fire(s,new Jo(e,o,{isSoft:a.isSoft})),s.stop.called&&t.stop()}}})),r}return _createClass(n,[{key:"observe",value:function(){}}]),n}(Wo),Qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;t.addObserver(jd),e.commands.add("enter",new Md(e)),this.listenTo(n,"enter",(function(r,i){n.isComposing||i.preventDefault(),i.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),n}(Pr),Hd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(r){!function(e,t,n){var r=n.isCollapsed,i=n.getFirstRange(),o=i.end.parent,a=i.start.parent==o;if(r){var s=Nd(e.schema,n.getAttributes());Vd(e,t,i.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(s)}else{var c=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:c}),a?Vd(e,t,n.focus):c&&t.setSelection(o,0)}}(t,r,n.selection),e.fire("afterExecute",{writer:r})}))}},{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;var r=t.getFirstRange(),i=r.start.parent,o=r.end.parent;return!zd(i,e)&&!zd(o,e)||i===o}(e.schema,e.document.selection)}}]),n}(Mr);function Vd(e,t,n){var r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function zd(e,t){return!e.is("rootElement")&&(t.isLimit(e)||zd(e.parent,t))}var qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.conversion,n=e.editing.view,r=n.document;e.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),t.for("upcast").elementToElement({model:"softBreak",view:"br"}),t.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.writer.createEmptyElement("br")}}),n.addObserver(jd),e.commands.add("shiftEnter",new Hd(e)),this.listenTo(r,"enter",(function(t,i){r.isComposing||i.preventDefault(),i.isSoft&&(e.execute("shiftEnter"),n.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),n}(Pr),Kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._stack=[],e}return _createClass(n,[{key:"add",value:function(e,t){var n=this._stack,r=n[0];this._insertDescriptor(e);var i=n[0];r===i||Gd(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,r=n[0];this._removeDescriptor(e);var i=n[0];r===i||Gd(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:t})}},{key:"_insertDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e.id}));if(!Gd(e,t[n])){n>-1&&t.splice(n,1);for(var r=0;t[r]&&Wd(t[r],e);)r++;t.splice(r,0,e)}}},{key:"_removeDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e}));n>-1&&t.splice(n,1)}}]),n}(R());function Gd(e,t){return e&&t&&e.priority==t.priority&&Yd(e.classes)==Yd(t.classes)}function Wd(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&Yd(e.classes)>Yd(t.classes)}function Yd(e){return Array.isArray(e)?e.sort().join(","):e}var Jd="ck-widget_selected";function Xd(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function Zd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.is("containerElement"))throw new C("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=of,t.setCustomProperty("widgetLabel",[],e),n.label&&function(e,t){e.getCustomProperty("widgetLabel").push(t)}(e,n.label),n.hasSelectionHandle&&function(e,t){var n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){var t=this.toDomElement(e),n=new ql;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),tf(e,t),e}function $d(e,t,n){if(t.classes&&n.addClass(_r(t.classes),e),t.attributes)for(var r in t.attributes)n.setAttribute(r,t.attributes[r],e)}function ef(e,t,n){if(t.classes&&n.removeClass(_r(t.classes),e),t.attributes)for(var r in t.attributes)n.removeAttribute(r,e)}function tf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$d,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ef,i=new Kd;i.on("change:top",(function(t,i){i.oldDescriptor&&r(e,i.oldDescriptor,i.writer),i.newDescriptor&&n(e,i.newDescriptor,i.writer)})),t.setCustomProperty("addHighlight",(function(e,t,n){return i.add(t,n)}),e),t.setCustomProperty("removeHighlight",(function(e,t,n){return i.remove(t,n)}),e)}function nf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("role","textbox",e),n.label&&t.setAttribute("aria-label",n.label,e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(function(n,r,i){t.setAttribute("contenteditable",i?"false":"true",e)})),e.on("change:isFocused",(function(n,r,i){i?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),tf(e,t),e}function rf(e,t){var n=e.getSelectedElement();if(n){var r=cf(e);if(r)return t.createRange(t.createPositionAt(n,r))}return yu(e,t)}function of(){return null}var af="widget-type-around";function sf(e,t,n){return!!e&&Xd(e)&&!n.isInline(t)}function cf(e){return e.getAttribute(af)}var uf=i(4921);zr()(uf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var lf=["before","after"],hf=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,df="ck-widget__type-around_disabled",ff=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._currentFakeCaretModelElement=null,r}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view;this.on("change:isEnabled",(function(n,r,i){t.change((function(e){var n,r=_createForOfIteratorHelper(t.document.roots);try{for(r.s();!(n=r.n()).done;){var o=n.value;i?e.removeClass(df,o):e.addClass(df,o)}}catch(a){r.e(a)}finally{r.f()}})),i||e.model.change((function(e){e.removeSelectionAttribute(af)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(e,t){var n=this.editor,r=n.editing.view,i=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:i}),r.focus(),r.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(e,t,n,r){var i=this;this.listenTo(e,t,(function(){i.isEnabled&&n.apply(void 0,arguments)}),r)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var e=this.editor.model.document.selection,t=cf(e);if(!t)return!1;var n=e.getSelectedElement();return this._insertParagraph(n,t),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var e=this,t=this.editor,n=t.model.schema,r=t.locale.t,i={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(function(t,o,a){var s=a.mapper.toViewElement(o.item);s&&sf(s,o.item,n)&&(function(e,t,n){var r=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){var n=this.toDomElement(e);return function(e,t){var n,r=_createForOfIteratorHelper(lf);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=new Pu({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(i)],title:t[i],"aria-hidden":"true"},children:[e.ownerDocument.importNode(hf,!0)]});e.appendChild(o.render())}}catch(a){r.e(a)}finally{r.f()}}(n,t),function(e){var t=new Pu({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),r)}(a.writer,i,s),s.getCustomProperty("widgetLabel").push((function(){return e.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""})))}),{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var e=this,t=this.editor,n=t.model,r=n.document.selection,i=n.schema;function o(e){return"ck-widget_type-around_show-fake-caret_".concat(e)}this._listenToIfEnabled(t.editing.view.document,"arrowKey",(function(t,n){e._handleArrowKeyPress(t,n)}),{context:[Xd,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(function(e,n){n.directChange&&t.model.change((function(e){e.removeSelectionAttribute(af)}))})),this._listenToIfEnabled(n.document,"change:data",(function(){var e=r.getSelectedElement();e&&sf(t.editing.mapper.toViewElement(e),e,i)||t.model.change((function(e){e.removeSelectionAttribute(af)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(function(t,n,r){var a=r.writer;if(e._currentFakeCaretModelElement){var s=r.mapper.toViewElement(e._currentFakeCaretModelElement);s&&(a.removeClass(lf.map(o),s),e._currentFakeCaretModelElement=null)}var c=n.selection.getSelectedElement();if(c){var u=r.mapper.toViewElement(c);if(sf(u,c,i)){var l=cf(n.selection);l&&(a.addClass(o(l),u),e._currentFakeCaretModelElement=c)}}})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(function(e,n,r){r||t.model.change((function(e){e.removeSelectionAttribute(af)}))}))}},{key:"_handleArrowKeyPress",value:function(e,t){var n,r=this.editor,i=r.model,o=i.document.selection,a=i.schema,s=r.editing.view,c=function(e,t){var n=wr(e,t);return"down"===n||"right"===n}(t.keyCode,r.locale.contentLanguageDirection),u=s.document.selection.getSelectedElement();sf(u,r.editing.mapper.toModelElement(u),a)?n=this._handleArrowKeyPressOnSelectedWidget(c):o.isCollapsed?n=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):t.shiftKey||(n=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),n&&(t.preventDefault(),e.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(e){var t=this.editor.model,n=cf(t.document.selection);return t.change((function(t){return n?n!==(e?"after":"before")&&(t.removeSelectionAttribute(af),!0):(t.setSelectionAttribute(af,e?"after":"before"),!0)}))}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(e){var t=this.editor,n=t.model,r=n.schema,i=t.plugins.get("Widget"),o=i._getObjectElementNextToSelection(e);return!!sf(t.editing.mapper.toViewElement(o),o,r)&&(n.change((function(t){i._setSelectionOverElement(o),t.setSelectionAttribute(af,e?"before":"after")})),!0)}},{key:"_handleArrowKeyPressWhenNonCollapsedSelection",value:function(e){var t=this.editor,n=t.model,r=n.schema,i=t.editing.mapper,o=n.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!sf(i.toViewElement(a),a,r)&&(n.change((function(t){t.setSelection(a,"on"),t.setSelectionAttribute(af,e?"after":"before")})),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var e=this,t=this.editor,n=t.editing.view;this._listenToIfEnabled(n.document,"mousedown",(function(r,i){var o=i.domTarget.closest(".ck-widget__type-around__button");if(o){var a=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(o),s=function(e,t){var n=e.closest(".ck-widget");return t.mapDomToView(n)}(o,n.domConverter),c=t.editing.mapper.toModelElement(s);e._insertParagraph(c,a),i.preventDefault(),r.stop()}}))}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var e=this,t=this.editor,n=t.model.document.selection;this._listenToIfEnabled(t.editing.view.document,"enter",(function(r,i){if("atTarget"==r.eventPhase){var o,a=n.getSelectedElement(),s=t.editing.mapper.toViewElement(a),c=t.model.schema;e._insertParagraphAccordingToFakeCaretPosition()?o=!0:sf(s,a,c)&&(e._insertParagraph(a,i.isSoft?"before":"after"),o=!0),o&&(i.preventDefault(),r.stop())}}),{context:Xd})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var e=this,t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(function(n,r){e._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=t.selection)}),{priority:"high"}),h?this._listenToIfEnabled(t,"keydown",(function(t,n){229==n.keyCode&&e._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(t,"compositionstart",(function(){e._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var e=this.editor,t=e.model,n=t.schema;this._listenToIfEnabled(e.editing.view.document,"delete",(function(r,i){if("atTarget"==r.eventPhase){var o=cf(t.document.selection);if(o){var a=i.direction,s=t.document.selection.getSelectedElement(),c="forward"==a;if("before"===o===c)e.execute("delete",{selection:t.createSelection(s,"on")});else{var u=n.getNearestSelectionRange(t.createPositionAt(s,o),a);if(u)if(u.isCollapsed){var l=t.createSelection(u.start);if(t.modifySelection(l,{direction:a}),l.focus.isEqual(u.start)){var h=function(e,t){var n,r=t,i=_createForOfIteratorHelper(t.getAncestors({parentFirst:!0}));try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.childCount>1||e.isLimit(o))break;r=o}}catch(a){i.e(a)}finally{i.f()}return r}(n,u.start.parent);t.deleteContent(t.createSelection(h,"on"),{doNotAutoparagraph:!0})}else t.change((function(t){t.setSelection(u),e.execute(c?"deleteForward":"delete")}))}else t.change((function(t){t.setSelection(u),e.execute(c?"deleteForward":"delete")}))}i.preventDefault(),r.stop()}}}),{context:Xd})}},{key:"_enableInsertContentIntegration",value:function(){var e=this.editor.model,t=e.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(function(n,r){var i=_slicedToArray(r,2),o=i[0],a=i[1];if(!a||a.is("documentSelection")){var s=cf(t);return s?(n.stop(),e.change((function(n){var r=t.getSelectedElement(),i=e.createPositionAt(r,s),a=n.createSelection(i),c=e.insertContent(o,a);return n.setSelection(a),c}))):void 0}}),{priority:"high"})}},{key:"_enableInsertObjectIntegration",value:function(){var e=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(function(t,n){var r=_slicedToArray(n,4),i=r[1],o=r[3],a=void 0===o?{}:o;if(!i||i.is("documentSelection")){var s=cf(e);s&&(a.findOptimalPosition=s,n[3]=a)}}),{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var e=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(function(t,n){var r=_slicedToArray(n,1)[0];r&&!r.is("documentSelection")||cf(e)&&t.stop()}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[Qd,gd]}}]),n}(Pr);function Af(e,t,n){var r,i=e.schema,o="forward"==n?"elementStart":"elementEnd",a=_createForOfIteratorHelper(e.createRangeIn(t.root).getWalker({startPosition:t,direction:n}));try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s.previousPosition,u=s.item,l=s.type;if(i.isLimit(u)&&!i.isInline(u))return c;if(l==o&&i.isBlock(u))return null}}catch(h){a.e(h)}finally{a.f()}return null}function pf(e,t,n){var r="backward"==n?t.end:t.start;if(e.checkChild(r,"$text"))return r;var i,o=_createForOfIteratorHelper(t.getWalker({direction:n}));try{for(o.s();!(i=o.n()).done;){var a=i.value.nextPosition;if(e.checkChild(a,"$text"))return a}}catch(s){o.e(s)}finally{o.f()}return null}var gf=i(3488);zr()(gf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var vf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,r=n.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(e,n,r){var i=r.writer,o=n.selection;if(!o.isCollapsed){var a=o.getSelectedElement();if(a){var s,c=t.editing.mapper.toViewElement(a);Xd(c)&&r.consumable.consume(o,"selection")&&i.setSelection(i.createRangeOn(c),{fake:!0,label:(s=c,s.getCustomProperty("widgetLabel").reduce((function(e,t){return"function"==typeof t?e?e+". "+t():t():e?e+". "+t:t}),""))})}}})),this.editor.editing.downcastDispatcher.on("selection",(function(t,n,r){e._clearPreviouslySelectedWidgets(r.writer);var i,o=r.writer,a=null,s=_createForOfIteratorHelper(o.document.selection.getRanges());try{for(s.s();!(i=s.n()).done;){var c,u=_createForOfIteratorHelper(i.value);try{for(u.s();!(c=u.n()).done;){var l=c.value.item;Xd(l)&&!mf(l,a)&&(o.addClass(Jd,l),e._previouslySelected.add(l),a=l)}}catch(h){u.e(h)}finally{u.f()}}}catch(h){s.e(h)}finally{s.f()}}),{priority:"low"}),n.addObserver(Eu),this.listenTo(r,"mousedown",(function(){return e._onMousedown.apply(e,arguments)})),this.listenTo(r,"arrowKey",(function(){e._handleSelectionChangeOnArrowKeyPress.apply(e,arguments)}),{context:[Xd,"$text"]}),this.listenTo(r,"arrowKey",(function(){e._preventDefaultOnArrowKeyPress.apply(e,arguments)}),{context:"$root"}),this.listenTo(r,"arrowKey",function(e){var t=e.model;return function(n,r){var i=r.keyCode==gr.arrowdown,o=r.shiftKey,a=t.document.selection;if(r.keyCode==gr.arrowup||i){var s=i;if(!o||!function(e,t){return!e.isCollapsed&&e.isBackward==t}(a,s)){var c=function(e,t,n){var r=e.model;if(n){var i=t.isCollapsed?t.focus:t.getLastPosition(),o=Af(r,i,"forward");if(!o)return null;var a=r.createRange(i,o),s=pf(r.schema,a,"backward");return s?r.createRange(i,s):null}var c=t.isCollapsed?t.focus:t.getFirstPosition(),u=Af(r,c,"backward");if(!u)return null;var l=r.createRange(u,c),h=pf(r.schema,l,"forward");return h?r.createRange(h,c):null}(e,a,s);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||function(e,t,n){var r=e.model,i=e.view.domConverter;if(n){var o=r.createSelection(t.start);r.modifySelection(o),o.focus.isAtEnd||t.start.isEqual(o.focus)||(t=r.createRange(o.focus,t.end))}var a,s,c=e.mapper.toViewRange(t),u=i.viewRangeToDom(c),l=_createForOfIteratorHelper(qn.getDomRangeRects(u));try{for(l.s();!(s=l.n()).done;){var h=s.value;if(void 0!==a){if(Math.round(h.top)>=a)return!1;a=Math.max(a,Math.round(h.bottom))}else a=Math.round(h.bottom)}}catch(d){l.e(d)}finally{l.f()}return!0}(e,c,s))&&(t.change((function(e){var n=s?c.end:c.start;if(o){var r=t.createSelection(a.anchor);r.setFocus(n),e.setSelection(r)}else e.setSelection(n)})),n.stop(),r.preventDefault(),r.stopPropagation())}}}}}(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(function(t,n){e._handleDelete("forward"==n.direction)&&(n.preventDefault(),t.stop())}),{context:"$root"})}},{key:"_onMousedown",value:function(e,t){var n=this.editor,r=n.editing.view,i=r.document,o=t.target;if(function(e){for(var t=e;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(Xd(t))return!1;t=t.parent}return!1}(o)){if((l||u)&&t.domEvent.detail>=3){var a=n.editing.mapper,s=o.is("attributeElement")?o.findAncestor((function(e){return!e.is("attributeElement")})):o,c=a.toModelElement(s);t.preventDefault(),this.editor.model.change((function(e){e.setSelection(c,"in")}))}}else if(Xd(o)||(o=o.findAncestor(Xd))){h&&t.preventDefault(),i.isFocused||r.focus();var d=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(d)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(e,t){var n=t.keyCode,r=this.editor.model,i=r.schema,o=r.document.selection,a=o.getSelectedElement(),s=wr(n,this.editor.locale.contentLanguageDirection),c="down"==s||"right"==s,u="up"==s||"down"==s;if(a&&i.isObject(a)){var l=c?o.getLastPosition():o.getFirstPosition(),h=i.getNearestSelectionRange(l,c?"forward":"backward");h&&(r.change((function(e){e.setSelection(h)})),t.preventDefault(),e.stop())}else if(o.isCollapsed||t.shiftKey){if(o.isCollapsed){var d=this._getObjectElementNextToSelection(c);if(d&&i.isObject(d)){if(i.isInline(d)&&u)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}}else{var f=o.getFirstPosition(),A=o.getLastPosition(),p=f.nodeAfter,g=A.nodeBefore;(p&&i.isObject(p)||g&&i.isObject(g))&&(r.change((function(e){e.setSelection(c?A:f)})),t.preventDefault(),e.stop())}}},{key:"_preventDefaultOnArrowKeyPress",value:function(e,t){var n=this.editor.model,r=n.schema,i=n.document.selection.getSelectedElement();i&&r.isObject(i)&&(t.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var t=this;if(!this.editor.isReadOnly){var n=this.editor.model.document.selection;if(n.isCollapsed){var r=this._getObjectElementNextToSelection(e);return r?(this.editor.model.change((function(e){for(var i=n.anchor.parent;i.isEmpty;){var o=i;i=o.parent,e.remove(o)}t._setSelectionOverElement(r)})),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,r=t.document.selection,i=t.createSelection(r);if(t.modifySelection(i,{direction:e?"forward":"backward"}),i.isEqual(r))return null;var o=e?i.focus.nodeBefore:i.focus.nodeAfter;return o&&n.isObject(o)?o:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t,n=_createForOfIteratorHelper(this._previouslySelected);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.removeClass(Jd,r)}}catch(i){n.e(i)}finally{n.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[ff,gd]}}]),n}(Pr);function mf(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}var bf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var n=t.plugins.get("BalloonToolbar");this.listenTo(n,"show",(function(e){(function(e){var t=e.getSelectedElement();return!(!t||!Xd(t))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){e._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this);var e,t=_createForOfIteratorHelper(this._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){e.value.view.destroy()}}catch(r){t.e(r)}finally{t.f()}}},{key:"register",value:function(e,t){var n=this,r=t.ariaLabel,i=t.items,o=t.getRelatedElement,a=t.balloonClassName,s=void 0===a?"ck-toolbar-container":a;if(i.length){var c=this.editor,u=c.t,l=new dh(c.locale);if(l.ariaLabel=r||u("Widget toolbar"),this._toolbarDefinitions.has(e))throw new C("widget-toolbar-duplicated",this,{toolbarId:e});l.fillFromConfig(i,c.ui.componentFactory);var h={view:l,getRelatedElement:o,balloonClassName:s};c.ui.addToolbar(l,{isContextual:!0,beforeFocus:function(){var e=o(c.editing.view.document.selection);e&&n._showToolbar(h,e)},afterBlur:function(){n._hideToolbar(h)}}),this._toolbarDefinitions.set(e,h)}else S("widget-toolbar-no-items",{toolbarId:e})}},{key:"_updateToolbarsVisibility",value:function(){var e,t=0,n=null,r=null,i=_createForOfIteratorHelper(this._toolbarDefinitions.values());try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&a)if(this.editor.ui.focusTracker.isFocused){var s=a.getAncestors().length;s>t&&(t=s,n=a,r=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}}catch(c){i.e(c)}finally{i.f()}r&&this._showToolbar(r,n)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var n=this;this._isToolbarVisible(e)?yf(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:wf(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var e,t=_createForOfIteratorHelper(n._toolbarDefinitions.values());try{for(t.s();!(e=t.n()).done;){var r=e.value;if(n._isToolbarVisible(r)){var i=r.getRelatedElement(n.editor.editing.view.document.selection);yf(n.editor,i)}}}catch(o){t.e(o)}finally{t.f()}})))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[Vh]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),n}(Pr);function yf(e,t){var n=e.plugins.get("ContextualBalloon"),r=wf(e,t);n.updatePosition(r)}function wf(e,t){var n=al.defaultPositions;return{target:e.editing.view.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}W(),W();var _f=i(8506);zr()(_f.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var kf=i(903);zr()(kf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Cf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=function(t,n,r){var i=!0,o=!0;return Q(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),ua((function(t){return e._updateDropMarker(t)}),40,{leading:i,maxWait:40,trailing:o})}(),this._removeDropMarkerDelayed=Ef((function(){return e._removeDropMarker()}),40),this._clearDraggableAttributesDelayed=Ef((function(){return e._clearDraggableAttributes()}),40),n.addObserver(td),n.addObserver(Eu),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(function(t,n,r){r?e.forceDisabled("readOnlyMode"):e.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",(function(t,n,r){r||e._finalizeDragging(!1)})),h&&this.forceDisabled("noAndroidSupport")}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var e=this,t=this.editor,n=t.model,r=n.document,i=t.editing.view,o=i.document;this.listenTo(o,"dragstart",(function(i,a){var s=r.selection;if(a.target&&a.target.is("editableElement"))a.preventDefault();else{var c=a.target?If(a.target):null;if(c){var u=t.editing.mapper.toModelElement(c);e._draggedRange=us.fromRange(n.createRangeOn(u)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!o.selection.isCollapsed){var l=o.selection.getSelectedElement();l&&Xd(l)||(e._draggedRange=us.fromRange(s.getFirstRange()))}if(e._draggedRange){e._draggingUid=w(),a.dataTransfer.effectAllowed=e.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",e._draggingUid);var h=n.createSelection(e._draggedRange.toRange()),d=t.data.toView(n.getSelectedContent(h));o.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:d,method:"dragstart"}),e.isEnabled||(e._draggedRange.detach(),e._draggedRange=null,e._draggingUid="")}else a.preventDefault()}}),{priority:"low"}),this.listenTo(o,"dragend",(function(t,n){e._finalizeDragging(!n.dataTransfer.isCanceled&&"move"==n.dataTransfer.dropEffect)}),{priority:"low"}),this.listenTo(o,"dragenter",(function(){e.isEnabled&&i.focus()})),this.listenTo(o,"dragleave",(function(){e._removeDropMarkerDelayed()})),this.listenTo(o,"dragging",(function(n,r){if(e.isEnabled){e._removeDropMarkerDelayed.cancel();var i=Sf(t,r.targetRanges,r.target);e._draggedRange||(r.dataTransfer.dropEffect="copy"),u||("copy"==r.dataTransfer.effectAllowed?r.dataTransfer.dropEffect="copy":["all","copyMove"].includes(r.dataTransfer.effectAllowed)&&(r.dataTransfer.dropEffect="move")),i&&e._updateDropMarkerThrottled(i)}else r.dataTransfer.dropEffect="none"}),{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var e=this,t=this.editor;this.listenTo(t.editing.view.document,"clipboardInput",(function(n,r){if("drop"==r.method){var i=Sf(t,r.targetRanges,r.target);return e._removeDropMarker(),i?(e._draggedRange&&e._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(e._draggedRange.detach(),e._draggedRange=null,e._draggingUid=""),"move"==xf(r.dataTransfer)&&e._draggedRange&&e._draggedRange.containsRange(i,!0)?(e._finalizeDragging(!1),void n.stop()):void(r.targetRanges=[t.editing.mapper.toViewRange(i)])):(e._finalizeDragging(!1),void n.stop())}}),{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var e=this,t=this.editor.plugins.get(rd);t.on("contentInsertion",(function(t,n){if(e.isEnabled&&"drop"===n.method){var r=n.targetRanges.map((function(t){return e.editor.editing.mapper.toModelRange(t)}));e.editor.model.change((function(e){return e.setSelection(r)}))}}),{priority:"high"}),t.on("contentInsertion",(function(t,n){if(e.isEnabled&&"drop"===n.method){var r="move"==xf(n.dataTransfer);e._finalizeDragging((!n.resultRange||!n.resultRange.isCollapsed)&&r)}}),{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var e=this,t=this.editor,n=t.editing.view,r=n.document;this.listenTo(r,"mousedown",(function(i,o){if(!h&&o){e._clearDraggableAttributesDelayed.cancel();var a=If(o.target);if(d&&!t.isReadOnly&&!a&&!r.selection.isCollapsed){var s=r.selection.getSelectedElement();s&&Xd(s)||(a=r.selection.editableElement)}a&&(n.change((function(e){e.setAttribute("draggable","true",a)})),e._draggableElement=t.editing.mapper.toModelElement(a))}})),this.listenTo(r,"mouseup",(function(){h||e._clearDraggableAttributesDelayed()}))}},{key:"_clearDraggableAttributes",value:function(){var e=this,t=this.editor.editing;t.view.change((function(n){e._draggableElement&&"$graveyard"!=e._draggableElement.root.rootName&&n.removeAttribute("draggable",t.mapper.toViewElement(e._draggableElement)),e._draggableElement=null}))}},{key:"_setupDropMarker",value:function(){var e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(t,n){var r=n.writer;if(e.model.schema.checkChild(t.markerRange.start,"$text"))return r.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){var t=this.toDomElement(e);return t.append("\u2060",e.createElement("span"),"\u2060"),t}))}})}},{key:"_updateDropMarker",value:function(e){var t=this.editor,n=t.model.markers;t.model.change((function(t){n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})}))}},{key:"_removeDropMarker",value:function(){var e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change((function(e){e.removeMarker("drop-target")}))}},{key:"_finalizeDragging",value:function(e){var t=this.editor,n=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}],[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[rd,vf]}}]),n}(Pr);function Sf(e,t,n){var r=e.model,i=e.editing.mapper,o=null,a=t?t[0].start:null;if(n.is("uiElement")&&(n=n.parent),o=function(e,t){var n=e.model,r=e.editing.mapper;if(Xd(t))return n.createRangeOn(r.toModelElement(t));if(!t.is("editableElement")){var i=t.findAncestor((function(e){return Xd(e)||e.is("editableElement")}));if(Xd(i))return n.createRangeOn(r.toModelElement(i))}return null}(e,n))return o;var s=function(e,t){var n=e.editing.mapper,r=e.editing.view,i=n.toModelElement(t);if(i)return i;var o=r.createPositionBefore(t),a=n.findMappedViewAncestor(o);return n.toModelElement(a)}(e,n),c=a?i.toModelPosition(a):null;return c?(o=function(e,t,n){var r=e.model;if(!r.schema.checkChild(n,"$block"))return null;var i=r.createPositionAt(n,0),o=t.path.slice(0,i.path.length),a=r.createPositionFromPath(t.root,o).nodeAfter;return a&&r.schema.isObject(a)?r.createRangeOn(a):null}(e,c,s))||((o=r.schema.getNearestSelectionRange(c,u?"forward":"backward"))||function(e,t){for(var n=e.model,r=t;r;){if(n.schema.isObject(r))return n.createRangeOn(r);r=r.parent}return null}(e,c.parent)):function(e,t){var n=e.model,r=n.schema,i=n.createPositionAt(t,0);return r.getNearestSelectionRange(i,"forward")}(e,s)}function xf(e){return u?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function Ef(e,t){var n;function r(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.cancel(),n=setTimeout((function(){return e.apply(void 0,o)}),t)}return r.cancel=function(){clearTimeout(n)},r}function If(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(Xd);if(Xd(e))return e;var t=e.findAncestor((function(e){return Xd(e)||e.is("editableElement")}));return Xd(t)?t:null}var Bf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=e.editing.view,r=n.document,i=t.document.selection,o=!1;n.addObserver(td),this.listenTo(r,"keydown",(function(e,t){o=t.shiftKey})),e.plugins.get(rd).on("contentInsertion",(function(e,n){(o||function(e,t){if(e.childCount>1)return!1;var n=e.getChild(0);return!t.isObject(n)&&0==Array.from(n.getAttributeKeys()).length}(n.content,t.schema))&&t.change((function(e){var r=Array.from(i.getAttributes()).filter((function(e){var n=_slicedToArray(e,1)[0];return t.schema.getAttributeProperties(n).isFormatting}));i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0}),r.push.apply(r,_toConsumableArray(i.getAttributes()));var o,a=_createForOfIteratorHelper(e.createRangeIn(n.content).getItems());try{for(a.s();!(o=a.n()).done;){var s=o.value;s.is("$textProxy")&&e.setAttributes(r,s)}}catch(c){a.e(c)}finally{a.f()}}))}))}}],[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[rd]}}]),n}(Pr),Df=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[rd,Cf,Bf]}}]),n}(Pr),Tf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).affectsData=!1,r}return _createClass(n,[{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Of(e.schema,n))do{if(!(n=n.parent))return}while(!Of(e.schema,n));e.change((function(e){e.setSelection(n,"in")}))}}]),n}(Mr);function Of(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}var Ff=br("Ctrl+A"),Rf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new Tf(e)),this.listenTo(t,"keydown",(function(t,n){mr(n)===Ff&&(e.execute("selectAll"),n.preventDefault())}))}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),n}(Pr),Pf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor;t.ui.componentFactory.add("selectAll",(function(n){var r=t.commands.get("selectAll"),i=new Gl(n);return i.set({label:(0,n.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),e.listenTo(i,"execute",(function(){t.execute("selectAll"),t.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),n}(Pr),Nf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[Rf,Pf]}},{key:"pluginName",get:function(){return"SelectAll"}}]),n}(Pr),Mf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._stack=[],r._createdBatches=new WeakSet,r.refresh(),r.listenTo(e.data,"set",(function(e,t){t[1]=_objectSpread({},t[1]);var n=t[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),r.listenTo(e.data,"set",(function(e,t){t[1].batchType.isUndoable||r.clearStack()})),r}return _createClass(n,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var r,i=this.editor.model,o=i.document,a=[],s=e.map((function(e){return e.getTransformedByOperations(n)})),c=s.flat(),u=_createForOfIteratorHelper(s);try{for(u.s();!(r=u.n()).done;){var l=r.value.filter((function(e){return e.root!=o.graveyard})).filter((function(e){return!Uf(e,c)}));l.length&&(Lf(l),a.push(l[0]))}}catch(h){u.e(h)}finally{u.f()}a.length&&i.change((function(e){e.setSelection(a,{backward:t})}))}},{key:"_undo",value:function(e,t){var n=this.editor.model,r=n.document;this._createdBatches.add(t);var i=e.operations.slice().filter((function(e){return e.isDocumentOperation}));i.reverse();var o,a=_createForOfIteratorHelper(i);try{for(a.s();!(o=a.n()).done;){var s,c=o.value,u=Array.from(r.history.getOperations(c.baseVersion+1)),l=_createForOfIteratorHelper(Nc([c.getReversed()],u,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA);try{for(l.s();!(s=l.n()).done;){var h=s.value;t.addOperation(h),n.applyOperation(h),r.history.setOperationAsUndone(c,h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}}}]),n}(Mr);function Lf(e){e.sort((function(e,t){return e.start.isBefore(t.start)?-1:1}));for(var t=1;t<e.length;t++){var n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function Uf(e,t){return t.some((function(t){return t!==e&&t.containsRange(e,!0)}))}var jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?this._stack.findIndex((function(e){return e.batch==t})):this._stack.length-1,r=this._stack.splice(n,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,(function(){e._undo(r.batch,i);var t=e.editor.model.document.history.getOperations(r.batch.baseVersion);e._restoreSelection(r.selection.ranges,r.selection.isBackward,t),e.fire("revert",r.batch,i)})),this.refresh()}}]),n}(Mf),Qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"execute",value:function(){var e=this,t=this._stack.pop(),n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,(function(){var r=e.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);e._restoreSelection(t.selection.ranges,t.selection.isBackward,r),e._undo(t.batch,n)})),this.refresh()}}]),n}(Mf),Hf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._batchRegistry=new WeakSet,r}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor;this._undoCommand=new jf(t),this._redoCommand=new Qf(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(function(t,n){var r=n[0];if(r.isDocumentOperation){var i=r.batch,o=e._redoCommand._createdBatches.has(i),a=e._undoCommand._createdBatches.has(i);e._batchRegistry.has(i)||(e._batchRegistry.add(i),i.isUndoable&&(o?e._undoCommand.addBatch(i):a||(e._undoCommand.addBatch(i),e._redoCommand.clearStack())))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(t,n,r){e._redoCommand.addBatch(r)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}],[{key:"pluginName",get:function(){return"UndoEditing"}}]),n}(Pr),Vf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',zf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?Vf:zf,i="ltr"==t.uiLanguageDirection?zf:Vf;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",i)}},{key:"_addButton",value:function(e,t,n,r){var i=this,o=this.editor;o.ui.componentFactory.add(e,(function(a){var s=o.commands.get(e),c=new Gl(a);return c.set({label:t,icon:r,keystroke:n,tooltip:!0}),c.bind("isEnabled").to(s,"isEnabled"),i.listenTo(c,"execute",(function(){o.execute(e),o.editing.view.focus()})),c}))}}],[{key:"pluginName",get:function(){return"UndoUI"}}]),n}(Pr),Kf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[Hf,qf]}},{key:"pluginName",get:function(){return"Undo"}}]),n}(Pr),Gf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n),e=t.call(this);var r=new window.FileReader;return e._reader=r,e._data=void 0,e.set("loaded",0),r.onprogress=function(t){e.loaded=t.loaded},e}return _createClass(n,[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(e){var t=this,n=this._reader;return this.total=e.size,new Promise((function(r,i){n.onload=function(){var e=n.result;t._data=e,r(e)},n.onerror=function(){i("error")},n.onabort=function(){i("aborted")},t._reader.readAsDataURL(e)}))}},{key:"abort",value:function(){this._reader.abort()}}]),n}(W()),Wf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this;this.loaders=new xr,this.loaders.on("change",(function(){return e._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0}))}},{key:"getLoader",value:function(e){return this._loadersMap.get(e)||null}},{key:"createLoader",value:function(e){var t=this;if(!this.createUploadAdapter)return S("filerepository-no-upload-adapter"),null;var n=new Yf(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then((function(e){t._loadersMap.set(e,n)})).catch((function(){})),n.on("change:uploaded",(function(){var e,n=0,r=_createForOfIteratorHelper(t.loaders);try{for(r.s();!(e=r.n()).done;){n+=e.value.uploaded}}catch(i){r.e(i)}finally{r.f()}t.uploaded=n})),n.on("change:uploadTotal",(function(){var e,n=0,r=_createForOfIteratorHelper(t.loaders);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.uploadTotal&&(n+=i.uploadTotal)}}catch(o){r.e(o)}finally{r.f()}t.uploadTotal=n})),n}},{key:"destroyLoader",value:function(e){var t=this,n=e instanceof Yf?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((function(e,r){e===n&&t._loadersMap.delete(r)}))}},{key:"_updatePendingAction",value:function(){var e=this.editor.plugins.get(ml);if(this.loaders.length){if(!this._pendingAction){var t=this.editor.t,n=function(e){return"".concat(t("Upload in progress")," ").concat(parseInt(e),"%.")};this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[ml]}}]),n}(Pr),Yf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).id=w(),i._filePromiseWrapper=i._createFilePromiseWrapper(e),i._adapter=r(_assertThisInitialized(i)),i._reader=new Gf,i.set("status","idle"),i.set("uploaded",0),i.set("uploadTotal",null),i.bind("uploadedPercent").to(_assertThisInitialized(i),"uploaded",_assertThisInitialized(i),"uploadTotal",(function(e,t){return t?e/t*100:0})),i.set("uploadResponse",null),i}return _createClass(n,[{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(t){return e._filePromiseWrapper?t:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var e=this;if("idle"!=this.status)throw new C("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((function(t){return e._reader.read(t)})).then((function(t){if("reading"!==e.status)throw e.status;return e.status="idle",t})).catch((function(t){if("aborted"===t)throw e.status="aborted","aborted";throw e.status="error",e._reader.error?e._reader.error:t}))}},{key:"upload",value:function(){var e=this;if("idle"!=this.status)throw new C("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((function(){return e._adapter.upload()})).then((function(t){return e.uploadResponse=t,e.status="idle",t})).catch((function(t){if("aborted"===e.status)throw"aborted";throw e.status="error",t}))}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var t={};return t.promise=new Promise((function(n,r){t.rejecter=r,t.isFulfilled=!1,e.then((function(e){t.isFulfilled=!0,n(e)})).catch((function(e){t.isFulfilled=!0,r(e)}))})),t}}]),n}(W()),Jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).buttonView=new Gl(e),r._fileInputView=new Xf(e),r._fileInputView.bind("acceptedType").to(_assertThisInitialized(r)),r._fileInputView.bind("allowMultipleFiles").to(_assertThisInitialized(r)),r._fileInputView.delegate("done").to(_assertThisInitialized(r)),r.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[r.buttonView,r._fileInputView]}),r.buttonView.on("execute",(function(){r._fileInputView.open()})),r}return _createClass(n,[{key:"focus",value:function(){this.buttonView.focus()}}]),n}(nl),Xf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),(r=t.call(this,e)).set("acceptedType",void 0),r.set("allowMultipleFiles",!1);var i=r.bindTemplate;return r.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to((function(){r.element&&r.element.files&&r.element.files.length&&r.fire("done",r.element.files),r.element.value=""}))}}),r}return _createClass(n,[{key:"open",value:function(){this.element.click()}}]),n}(nl),Zf="abcdefghijklmnopqrstuvwxyz0123456789",$f=function(){function e(t,n,r){_classCallCheck(this,e),this.loader=t,this.url=n,this.t=r}return _createClass(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return new Promise((function(n,r){e._initRequest(),e._initListeners(n,r,t),e._sendRequest(t)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,t,n){var r=this.xhr,i=this.loader,o=(0,this.t)("Cannot upload file:")+" ".concat(n.name,".");r.addEventListener("error",(function(){return t(o)})),r.addEventListener("abort",(function(){return t()})),r.addEventListener("load",(function(){var n=r.response;if(!n||!n.uploaded)return t(n&&n.error&&n.error.message?n.error.message:o);e({default:n.url})})),r.upload&&r.upload.addEventListener("progress",(function(e){e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(e){var t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){var e,t=function(e){e=e.toLowerCase();var t,n=_createForOfIteratorHelper(document.cookie.split(";"));try{for(n.s();!(t=n.n()).done;){var r=t.value.split("=");if(decodeURIComponent(r[0].trim().toLowerCase())===e)return decodeURIComponent(r[1])}}catch(i){n.e(i)}finally{n.f()}return null}("ckCsrfToken");return t&&40==t.length||(e=t=function(e){var t="",n=new Uint8Array(40);window.crypto.getRandomValues(n);for(var r=0;r<n.length;r++){var i=Zf.charAt(n[r]%Zf.length);t+=Math.random()>.5?i.toUpperCase():i}return t}(),document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(t)}}]),e}();function eA(e,t,n,r){var i,o=null;"function"==typeof r?i=r:(o=e.commands.get(r),i=function(){e.execute(r)}),e.model.document.on("change:data",(function(a,s){if((!o||o.isEnabled)&&t.isEnabled){var c=Er(e.model.document.selection.getRanges());if(c.isCollapsed&&!s.isUndo&&s.isLocal){var u=Array.from(e.model.document.differ.getChanges()),l=u[0];if(1==u.length&&"insert"===l.type&&"$text"==l.name&&1==l.length){var h=l.position.parent;if(!h.is("element","codeBlock")&&(!h.is("element","listItem")||"function"==typeof r||["numberedList","bulletedList","todoList"].includes(r))&&(!o||!0!==o.value)){var d=h.getChild(0),f=e.model.createRangeOn(d);if(f.containsRange(c)||c.end.isEqual(f.end)){var A=n.exec(d.data.substr(0,c.end.offset));A&&e.model.enqueueChange((function(t){var n=t.createPositionAt(h,0),r=t.createPositionAt(h,A[0].length),o=new us(n,r);if(!1!==i({match:A})){t.remove(o);var a=e.model.document.selection.getFirstRange(),s=t.createRangeIn(h);!h.isEmpty||s.isEqual(a)||s.containsRange(a,!0)||t.remove(h)}o.detach(),e.model.enqueueChange((function(){e.plugins.get("Delete").requestUndoOnBackspace()}))}))}}}}}}))}function tA(e,t,n,r){var i,o;n instanceof RegExp?i=n:o=n,o=o||function(e){for(var t,n=[],r=[];null!==(t=i.exec(e))&&!(t&&t.length<4);){var o=t,a=o.index,s=o[1],c=o[2],u=o[3],l=[(a+=t[0].length-(s+c+u).length)+s.length+c.length,a+s.length+c.length+u.length];n.push([a,a+s.length]),n.push(l),r.push([a+s.length,a+s.length+c.length])}return{remove:n,format:r}},e.model.document.on("change:data",(function(n,i){if(!i.isUndo&&i.isLocal&&t.isEnabled){var a=e.model,s=a.document.selection;if(s.isCollapsed){var c=Array.from(a.document.differ.getChanges()),u=c[0];if(1==c.length&&"insert"===u.type&&"$text"==u.name&&1==u.length){var l=s.focus,h=l.parent,d=function(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,r){return!r.is("$text")&&!r.is("$textProxy")||r.getAttribute("code")?(n=t.createPositionAfter(r),""):e+r.data}),""),range:t.createRange(n,e.end)}}(a.createRange(a.createPositionAt(h,0),l),a),f=d.text,A=d.range,p=o(f),g=nA(A.start,p.format,a),v=nA(A.start,p.remove,a);g.length&&v.length&&a.enqueueChange((function(t){if(!1!==r(t,g)){var n,i=_createForOfIteratorHelper(v.reverse());try{for(i.s();!(n=i.n()).done;){var o=n.value;t.remove(o)}}catch(s){i.e(s)}finally{i.f()}a.enqueueChange((function(){e.plugins.get("Delete").requestUndoOnBackspace()}))}}))}}}}))}function nA(e,t,n){return t.filter((function(e){return void 0!==e[0]&&void 0!==e[1]})).map((function(t){return n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))}))}function rA(e,t){return function(n,r){if(!e.commands.get(t).isEnabled)return!1;var i,o=_createForOfIteratorHelper(e.model.schema.getValidRanges(r,t));try{for(o.s();!(i=o.n()).done;){var a=i.value;n.setAttribute(t,!0,a)}}catch(s){o.e(s)}finally{o.f()}n.removeSelectionAttribute(t)}}var iA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).attributeKey=r,i}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(r.isCollapsed)i?t.setSelectionAttribute(e.attributeKey,!0):t.removeSelectionAttribute(e.attributeKey);else{var o,a=_createForOfIteratorHelper(n.schema.getValidRanges(r.getRanges(),e.attributeKey));try{for(a.s();!(o=a.n()).done;){var s=o.value;i?t.setAttribute(e.attributeKey,i,s):t.removeAttribute(e.attributeKey,s)}}catch(c){a.e(c)}finally{a.f()}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var r,i=_createForOfIteratorHelper(n.getRanges());try{for(i.s();!(r=i.n()).done;){var o,a=_createForOfIteratorHelper(r.value.getItems());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){i.e(c)}finally{i.f()}return!1}}]),n}(Mr),oA="bold",aA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:oA}),e.model.schema.setAttributeProperties(oA,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:oA,view:"strong",upcastAlso:["b",function(e){var t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add(oA,new iA(e,oA)),e.keystrokes.set("CTRL+B",oA)}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),n}(Pr),sA="bold",cA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(sA,(function(r){var i=t.commands.get(sA),o=new Gl(r);return o.set({label:n("Bold"),icon:bl,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(sA),t.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"BoldUI"}}]),n}(Pr),uA="italic",lA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:uA}),e.model.schema.setAttributeProperties(uA,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:uA,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(uA,new iA(e,uA)),e.keystrokes.set("CTRL+I",uA)}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),n}(Pr),hA="italic",dA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add(hA,(function(r){var i=t.commands.get(hA),o=new Gl(r);return o.set({label:n("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute(hA),t.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"ItalicUI"}}]),n}(Pr),fA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.schema,i=Array.from(n.document.selection.getSelectedBlocks()),o=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(o){var n=i.filter((function(e){return AA(e)||gA(r,e)}));e._applyQuote(t,n)}else e._removeQuote(t,i.filter(AA))}))}},{key:"_getValue",value:function(){var e=Er(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!AA(e))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=Er(this.editor.model.document.selection.getSelectedBlocks());return!!t&&gA(e,t)}},{key:"_removeQuote",value:function(e,t){pA(e,t).reverse().forEach((function(t){if(t.start.isAtStart&&t.end.isAtEnd)e.unwrap(t.start.parent);else if(t.start.isAtStart){var n=e.createPositionBefore(t.start.parent);e.move(t,n)}else{t.end.isAtEnd||e.split(t.end);var r=e.createPositionAfter(t.end.parent);e.move(t,r)}}))}},{key:"_applyQuote",value:function(e,t){var n=[];pA(e,t).reverse().forEach((function(t){var r=AA(t.start);r||(r=e.createElement("blockQuote"),e.wrap(t,r)),n.push(r)})),n.reverse().reduce((function(t,n){return t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n}))}}]),n}(Mr);function AA(e){return"blockQuote"==e.parent.name?e.parent:null}function pA(e,t){for(var n,r=0,i=[];r<t.length;){var o=t[r],a=t[r+1];n||(n=e.createPositionBefore(o)),a&&o.nextSibling==a||(i.push(e.createRange(n,e.createPositionAfter(o))),n=null),r++}return i}function gA(e,t){var n=e.checkChild(t.parent,"blockQuote"),r=e.checkChild(["$root","blockQuote"],t);return n&&r}var vA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new fA(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((function(n){var r,i=_createForOfIteratorHelper(e.model.document.differ.getChanges());try{for(i.s();!(r=i.n()).done;){var o=r.value;if("insert"==o.type){var a=o.position.nodeAfter;if(!a)continue;if(a.is("element","blockQuote")&&a.isEmpty)return n.remove(a),!0;if(a.is("element","blockQuote")&&!t.checkChild(o.position,a))return n.unwrap(a),!0;if(a.is("element")){var s,c=_createForOfIteratorHelper(n.createRangeIn(a).getItems());try{for(c.s();!(s=c.n()).done;){var u=s.value;if(u.is("element","blockQuote")&&!t.checkChild(n.createPositionBefore(u),u))return n.unwrap(u),!0}}catch(h){c.e(h)}finally{c.f()}}}else if("remove"==o.type){var l=o.position.parent;if(l.is("element","blockQuote")&&l.isEmpty)return n.remove(l),!0}}}catch(h){i.e(h)}finally{i.f()}return!1}));var n=this.editor.editing.view.document,r=e.model.document.selection,i=e.commands.get("blockQuote");this.listenTo(n,"enter",(function(t,n){r.isCollapsed&&i.value&&r.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",(function(t,n){if("backward"==n.direction&&r.isCollapsed&&i.value){var o=r.getLastPosition().parent;o.isEmpty&&!o.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())}}),{context:"blockquote"})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}},{key:"requires",get:function(){return[Qd,gd]}}]),n}(Pr),mA=i(3062);zr()(mA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var bA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("blockQuote",(function(r){var i=t.commands.get("blockQuote"),o=new Gl(r);return o.set({label:n("Block quote"),icon:Ll,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),e.listenTo(o,"execute",(function(){t.execute("blockQuote"),t.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"BlockQuoteUI"}}]),n}(Pr),yA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"afterInit",value:function(){var e=this.editor;if(e.commands.get("ckbox")){var t=e.t;e.ui.componentFactory.add("ckbox",(function(n){var r=e.commands.get("ckbox"),i=new Gl(n);return i.set({label:t("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),i.bind("isOn","isEnabled").to(r,"value","isEnabled"),i.on("execute",(function(){e.execute("ckbox")})),i}))}}}],[{key:"pluginName",get:function(){return"CKBoxUI"}}]),n}(Pr);function wA(e){var t=e.token,n=e.id,r=e.origin,i=e.width,o=e.extension,a=_A(t),s=function(e){for(var t=Math.floor(Math.max(10*e/100,80)),n=[Math.min(e,4e3)],r=n[0];r-t>=t;)r-=t,n.unshift(r);return n}(i),c=function(e){return"bmp"===e||"tiff"===e||"jpg"===e?"jpeg":e}(o);return{imageFallbackUrl:kA({environmentId:a,id:n,origin:r,width:i,extension:c}),imageSources:[{srcset:s.map((function(e){return"".concat(kA({environmentId:a,id:n,origin:r,width:e,extension:"webp"})," ").concat(e,"w")})).join(","),sizes:"(max-width: ".concat(i,"px) 100vw, ").concat(i,"px"),type:"image/webp"}]}}function _A(e){var t=_slicedToArray(e.value.split("."),2)[1];return JSON.parse(atob(t)).aud}function kA(e){var t=e.environmentId,n=e.id,r=e.origin,i=e.width,o=e.extension;return new URL("".concat(t,"/assets/").concat(n,"/images/").concat(i,".").concat(o),r).toString()}var CA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._chosenAssets=new Set,r._wrapper=null,r._initListeners(),r}return _createClass(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){this.fire("ckbox:open")}},{key:"_getValue",value:function(){return null!==this._wrapper}},{key:"_checkEnabled",value:function(){var e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}},{key:"_prepareOptions",value:function(){var e=this,t=this.editor.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,assetsOrigin:t.assetsOrigin,dialog:{onClose:function(){return e.fire("ckbox:close")}},assets:{onChoose:function(t){return e.fire("ckbox:choose",t)}}}}},{key:"_initListeners",value:function(){var e=this,t=this.editor,n=t.model,r=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",(function(){e.refresh()}),{priority:"low"}),this.on("ckbox:open",(function(){e.isEnabled&&!e.value&&(e._wrapper=me(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(e._wrapper),window.CKBox.mount(e._wrapper,e._prepareOptions()))})),this.on("ckbox:close",(function(){e.value&&(e._wrapper.remove(),e._wrapper=null)})),this.on("ckbox:choose",(function(i,o){if(e.isEnabled){var a=t.commands.get("insertImage"),s=t.commands.get("link"),c=t.plugins.get("CKBoxEditing"),u=function(e){var t=e.origin,n=e.token,r=e.isImageAllowed,i=e.isLinkAllowed;return e.assets.map((function(e){return{id:e.data.id,type:xA(e)?"image":"link",attributes:SA(e,n,t)}})).filter((function(e){return"image"===e.type?r:i}))}({assets:o,origin:t.config.get("ckbox.assetsOrigin"),token:c.getToken(),isImageAllowed:a.isEnabled,isLinkAllowed:s.isEnabled});0!==u.length&&n.change((function(t){var n,i=_createForOfIteratorHelper(u);try{var o=function(){var i=n.value;e._insertAsset(i,i===u[u.length-1],t),r&&(setTimeout((function(){return e._chosenAssets.delete(i)}),1e3),e._chosenAssets.add(i))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}))}})),this.listenTo(t,"destroy",(function(){e.fire("ckbox:close"),e._chosenAssets.clear()}))}},{key:"_insertAsset",value:function(e,t,n){var r=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),"image"===e.type?this._insertImage(e):this._insertLink(e,n),t||n.setSelection(r.getLastPosition())}},{key:"_insertImage",value:function(e){var t=this.editor,n=e.attributes,r=n.imageFallbackUrl,i=n.imageSources,o=n.imageTextAlternative;t.execute("insertImage",{source:{src:r,sources:i,alt:o}})}},{key:"_insertLink",value:function(e,t){var n=this.editor,r=n.model,i=r.document.selection,o=e.attributes,a=o.linkName,s=o.linkHref;if(i.isCollapsed){var c=Dr(i.getAttributes()),u=t.createText(a,c),l=r.insertContent(u);t.setSelection(l)}n.execute("link",s)}}]),n}(Mr);function SA(e,t,n){if(xA(e)){var r=wA({token:t,origin:n,id:e.data.id,width:e.data.metadata.width,extension:e.data.extension});return{imageFallbackUrl:r.imageFallbackUrl,imageSources:r.imageSources,imageTextAlternative:e.data.metadata.description||""}}return{linkName:e.data.name,linkHref:EA(e,t,n)}}function xA(e){var t=e.data.metadata;return!!t&&t.width&&t.height}function EA(e,t,n){var r=_A(t),i=new URL("".concat(r,"/assets/").concat(e.data.id,"/file"),n);return i.searchParams.set("download","true"),i.toString()}var IA=function(e){_inherits(r,e);var t,n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"afterInit",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editor,n=!!t.config.get("ckbox"),r=!!window.CKBox,n||r){e.next=3;break}return e.abrupt("return");case 3:i=t.plugins.get(Wf),o=t.plugins.get(TA),i.createUploadAdapter=function(e){return new BA(e,o.getToken(),t)},a=!t.config.get("ckbox.ignoreDataId"),s=t.plugins.get("ImageUploadEditing"),a&&s.on("uploadComplete",(function(e,n){var r=n.imageElement,i=n.data;t.model.change((function(e){e.setAttribute("ckboxImageId",i.ckboxImageId,r)}))}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"requires",get:function(){return["ImageUploadEditing","ImageUploadProgress",Wf,TA]}},{key:"pluginName",get:function(){return"CKBoxUploadAdapter"}}]),r}(Pr),BA=function(){function e(t,n,r){_classCallCheck(this,e),this.loader=t,this.token=n,this.editor=r,this.controller=new AbortController,this.serviceOrigin=r.config.get("ckbox.serviceOrigin"),this.assetsOrigin=r.config.get("ckbox.assetsOrigin")}var t,n,r;return _createClass(e,[{key:"getAvailableCategories",value:(r=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r=this,i=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:0,n=new URL("categories",this.serviceOrigin),e.abrupt("return",(n.searchParams.set("limit",50..toString()),n.searchParams.set("offset",t.toString()),this._sendHttpRequest({url:n}).then(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(n){var i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.totalCount-(t+50)>0)){e.next=5;break}return e.next=3,r.getAvailableCategories(t+50);case 3:return i=e.sent,e.abrupt("return",[].concat(_toConsumableArray(n.items),_toConsumableArray(i)));case 5:return e.abrupt("return",n.items);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){r.controller.signal.throwIfAborted(),x("ckbox-fetch-category-http-error")}))));case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getCategoryIdForFile",value:(n=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,r,i,o,a,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=DA(t.name),e.next=3,this.getAvailableCategories();case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!(i=this.editor.config.get("ckbox.defaultUploadCategories"))){e.next=12;break}if(!(o=Object.keys(i).find((function(e){return i[e].includes(n)})))){e.next=12;break}return a=r.find((function(e){return e.id===o||e.name===o})),e.abrupt("return",a?a.id:null);case 12:return s=r.find((function(e){return e.extensions.includes(n)})),e.abrupt("return",s?s.id:null);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"upload",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a,s=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.editor.t,n=t("Cannot determine a category for the uploaded file."),e.next=4,this.loader.file;case 4:return r=e.sent,e.next=7,this.getCategoryIdForFile(r);case 7:if(i=e.sent){e.next=10;break}return e.abrupt("return",Promise.reject(n));case 10:return o=new URL("assets",this.serviceOrigin),a=new FormData,e.abrupt("return",(a.append("categoryId",i),a.append("file",r),this._sendHttpRequest({method:"POST",url:o,data:a,onUploadProgress:function(e){e.lengthComputable&&(s.loader.uploadTotal=e.total,s.loader.uploaded=e.loaded)}}).then(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i,o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s._getImageWidth();case 2:return n=e.sent,i=DA(r.name),o=wA({token:s.token,id:t.id,origin:s.assetsOrigin,width:n,extension:i}),e.abrupt("return",{ckboxImageId:t.id,default:o.imageFallbackUrl,sources:o.imageSources});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){var e=t("Cannot upload file:")+" ".concat(r.name,".");return Promise.reject(e)}))));case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"abort",value:function(){this.controller.abort()}},{key:"_sendHttpRequest",value:function(e){var t=e.url,n=e.data,r=e.onUploadProgress,i=e.method||"GET",o=this.controller.signal,a=new XMLHttpRequest;a.open(i,t.toString(),!0),a.setRequestHeader("Authorization",this.token.value),a.setRequestHeader("CKBox-Version","CKEditor 5"),a.responseType="json";var s=function(){a.abort()};return new Promise((function(e,t){o.addEventListener("abort",s),a.addEventListener("loadstart",(function(){o.addEventListener("abort",s)})),a.addEventListener("loadend",(function(){o.removeEventListener("abort",s)})),a.addEventListener("error",(function(){t()})),a.addEventListener("abort",(function(){t()})),a.addEventListener("load",_asyncToGenerator(_regeneratorRuntime().mark((function n(){var r;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.response,n.abrupt("return",!r||r.statusCode>=400?t(r&&r.message):e(r));case 2:case"end":return n.stop()}}),n)})))),r&&a.upload.addEventListener("progress",(function(e){r(e)})),a.send(n)}))}},{key:"_getImageWidth",value:function(){var e=this;return new Promise((function(t){var n=new Image;n.onload=function(){URL.revokeObjectURL(n.src),t(n.width)},n.src=e.loader.data}))}}]),e}();function DA(e){return e.match(_wrapRegExp(/\.([^.]+)$/,{ext:1})).groups.ext}var TA=function(e){_inherits(r,e);var t,n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"init",value:(t=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,r,i,o,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editor,n=!!t.config.get("ckbox"),r=!!window.CKBox,n||r){e.next=3;break}return e.abrupt("return");case 3:if(this._initConfig(),i=t.plugins.get("CloudServicesCore"),o=t.config.get("ckbox.tokenUrl"),a=t.config.get("cloudServices.tokenUrl"),o!==a){e.next=9;break}e.t0=t.plugins.get("CloudServices").token,e.next=12;break;case 9:return e.next=11,i.createToken(o).init();case 11:e.t0=e.sent;case 12:this._token=e.t0,t.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),r&&t.commands.add("ckbox",new CA(t));case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getToken",value:function(){return this._token}},{key:"_initConfig",value:function(){var e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new C("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||x("ckbox-plugin-image-feature-missing",e)}},{key:"_initSchema",value:function(){var e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((function(e,t){if(!e.last.getAttribute("linkHref")&&"ckboxLinkId"===t)return!1}))}},{key:"_initConversion",value:function(){var e=this.editor;e.conversion.for("downcast").add((function(e){e.on("attribute:ckboxLinkId:imageBlock",(function(e,t,n){var r=n.writer,i=n.mapper;if(n.consumable.consume(t.item,e.name)){var o=_toConsumableArray(i.toViewElement(t.item).getChildren()).find((function(e){return"a"===e.name}));o&&(t.item.hasAttribute("ckboxLinkId")?r.setAttribute("data-ckbox-resource-id",t.item.getAttribute("ckboxLinkId"),o):r.removeAttribute("data-ckbox-resource-id",o))}}),{priority:"low"}),e.on("attribute:ckboxLinkId",(function(e,t,n){var r=n.writer,i=n.mapper;if(n.consumable.consume(t.item,e.name)){if(t.attributeOldValue){var o=FA(r,t.attributeOldValue);r.unwrap(i.toViewRange(t.range),o)}if(t.attributeNewValue){var a=FA(r,t.attributeNewValue);t.item.is("selection")?r.wrap(r.document.selection.getFirstRange(),a):r.wrap(i.toViewRange(t.range),a)}}}),{priority:"low"})})),e.conversion.for("upcast").add((function(e){e.on("element:a",(function(e,t,n){var r=n.writer,i=n.consumable;if(t.viewItem.getAttribute("href")&&i.consume(t.viewItem,{attributes:["data-ckbox-resource-id"]})){var o=t.viewItem.getAttribute("data-ckbox-resource-id");if(o)if(t.modelRange){var a,s=_createForOfIteratorHelper(t.modelRange.getItems());try{for(s.s();!(a=s.n()).done;){var c=a.value;c.is("$textProxy")&&(c=c.textNode),RA(c)&&r.setAttribute("ckboxLinkId",o,c)}}catch(u){s.e(u)}finally{s.f()}}else r.setAttribute("ckboxLinkId",o,t.modelCursor.nodeBefore||t.modelCursor.parent)}}),{priority:"low"})})),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:function(e){return e.getAttribute("data-ckbox-resource-id")}},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}},{key:"_initFixers",value:function(){var e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(e){return function(t){var n=!1,r=e.model,i=e.commands.get("ckbox");if(!i)return n;var o,a=_createForOfIteratorHelper(r.document.differ.getChanges());try{for(a.s();!(o=a.n()).done;){var s=o.value;if("insert"===s.type||"attribute"===s.type){var c,u="insert"===s.type?new Xa(s.position,s.position.getShiftedBy(s.length)):s.range,l="attribute"===s.type&&"linkHref"===s.attributeKey&&null===s.attributeNewValue,h=_createForOfIteratorHelper(u.getItems());try{for(h.s();!(c=h.n()).done;){var d=c.value;if(l&&d.hasAttribute("ckboxLinkId"))t.removeAttribute("ckboxLinkId",d),n=!0;else{var f,A=_createForOfIteratorHelper(OA(d,i._chosenAssets));try{for(A.s();!(f=A.n()).done;){var p=f.value,g="image"===p.type?"ckboxImageId":"ckboxLinkId";p.id!==d.getAttribute(g)&&(t.setAttribute(g,p.id,d),n=!0)}}catch(v){A.e(v)}finally{A.f()}}}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){a.e(v)}finally{a.f()}return n}}(e)),t.document.registerPostFixer(function(e){return function(t){!e.hasAttribute("linkHref")&&e.hasAttribute("ckboxLinkId")&&t.removeSelectionAttribute("ckboxLinkId")}}(n))}}],[{key:"pluginName",get:function(){return"CKBoxEditing"}},{key:"requires",get:function(){return["CloudServices","LinkEditing","PictureEditing",IA]}}]),r}(Pr);function OA(e,t){var n=e.is("element","imageInline")||e.is("element","imageBlock"),r=e.hasAttribute("linkHref");return _toConsumableArray(t).filter((function(t){return"image"===t.type&&n?t.attributes.imageFallbackUrl===e.getAttribute("src"):"link"===t.type&&r?t.attributes.linkHref===e.getAttribute("linkHref"):void 0}))}function FA(e,t){var n=e.createAttributeElement("a",{"data-ckbox-resource-id":t},{priority:5});return e.setCustomProperty("link",!0,n),n}function RA(e){return!!e.is("$text")||!(!e.is("element","imageInline")&&!e.is("element","imageBlock"))}var PA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.t;e.ui.componentFactory.add("ckfinder",(function(n){var r=e.commands.get("ckfinder"),i=new Gl(n);return i.set({label:t("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(r),i.on("execute",(function(){e.execute("ckfinder"),e.editing.view.focus()})),i}))}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),n}(Pr),NA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).stopListening(r.editor.model.document,"change"),r.listenTo(r.editor.model.document,"change",(function(){return r.refresh()}),{priority:"low"}),r}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}},{key:"execute",value:function(){var e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new C("ckfinder-unknown-openermethod",e);var n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;var r=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=function(t){r&&r(t),t.on("files:choose",(function(n){var r,i=n.data.files.toArray(),o=i.filter((function(e){return!e.isImage()})),a=i.filter((function(e){return e.isImage()})),s=_createForOfIteratorHelper(o);try{for(s.s();!(r=s.n()).done;){var c=r.value;e.execute("link",c.getUrl())}}catch(A){s.e(A)}finally{s.f()}var u,l=[],h=_createForOfIteratorHelper(a);try{for(h.s();!(u=h.n()).done;){var d=u.value,f=d.getUrl();l.push(f||t.request("file:getProxyUrl",{file:d}))}}catch(A){h.e(A)}finally{h.f()}l.length&&MA(e,l)})),t.on("file:choose:resizedImage",(function(t){var n=t.data.resizedUrl;if(n)MA(e,[n]);else{var r=e.plugins.get("Notification"),i=e.locale.t;r.showWarning(i("Could not obtain resized image URL."),{title:i("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[t](n)}}]),n}(Mr);function MA(e,t){if(e.commands.get("insertImage").isEnabled)e.execute("insertImage",{source:t});else{var n=e.plugins.get("Notification"),r=e.locale.t;n.showWarning(r("Could not insert image at the current position."),{title:r("Inserting image failed"),namespace:"ckfinder"})}}var LA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new C("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new NA(e))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Lh,"LinkEditing"]}}]),n}(Pr),UA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.plugins.get("CloudServices"),r=n.token,i=n.uploadUrl;r&&(this._uploadGateway=t.plugins.get("CloudServicesCore").createUploadGateway(r,i),t.plugins.get(Wf).createUploadAdapter=function(t){return new jA(e._uploadGateway,t)})}}],[{key:"pluginName",get:function(){return"CloudServicesUploadAdapter"}},{key:"requires",get:function(){return["CloudServices",Wf]}}]),n}(Pr),jA=function(){function e(t,n){_classCallCheck(this,e),this.uploadGateway=t,this.loader=n}return _createClass(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return e.fileUploader=e.uploadGateway.upload(t),e.fileUploader.on("progress",(function(t,n){e.loader.uploadTotal=n.total,e.loader.uploaded=n.uploaded})),e.fileUploader.send()}))}},{key:"abort",value:function(){this.fileUploader.abort()}}]),e}(),QA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model,t=Er(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&HA(t,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document;t.change((function(r){var i,o=_createForOfIteratorHelper((e.selection||n.selection).getSelectedBlocks());try{for(o.s();!(i=o.n()).done;){var a=i.value;!a.is("element","paragraph")&&HA(a,t.schema)&&r.rename(a,"paragraph")}}catch(s){o.e(s)}finally{o.f()}}))}}]),n}(Mr);function HA(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}var VA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"execute",value:function(e){var t=this.editor.model,n=e.attributes,r=e.position;t.change((function(e){var i=e.createElement("paragraph");if(n&&t.schema.setAllowedAttributes(i,n,e),!t.schema.checkChild(r.parent,i)){var o=t.schema.findAllowedParent(r,i);if(!o)return;r=e.split(r,o).position}t.insertContent(i,r),e.setSelection(i,"in")}))}}]),n}(Mr),zA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model;e.commands.add("paragraph",new QA(e)),e.commands.add("insertParagraph",new VA(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:function(e,t){var r=t.writer;return n.paragraphLikeElements.has(e.name)?e.isEmpty?null:r.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),n}(Pr);zA.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var qA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).modelElements=r,i}return _createClass(n,[{key:"refresh",value:function(){var e=this,t=Er(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(n){return KA(t,n,e.editor.model.schema)}))}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document,r=e.value;t.change((function(e){var i,o=_createForOfIteratorHelper(Array.from(n.selection.getSelectedBlocks()).filter((function(e){return KA(e,r,t.schema)})));try{for(o.s();!(i=o.n()).done;){var a=i.value;a.is("element",r)||e.rename(a,r)}}catch(s){o.e(s)}finally{o.f()}}))}}]),n}(Mr);function KA(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var GA="paragraph",WA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),r}return _createClass(n,[{key:"init",value:function(){var e,t=this.editor,n=[],r=_createForOfIteratorHelper(t.config.get("heading.options"));try{for(r.s();!(e=r.n()).done;){var i=e.value;i.model!==GA&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model))}}catch(o){r.e(o)}finally{r.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new qA(t,n))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(function(t,r){var i=e.model.document.selection.getFirstPosition().parent;n.some((function(e){return i.is("element",e.model)}))&&!i.is("element",GA)&&0===i.childCount&&r.writer.rename(i,GA)}))}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:_.get("low")+1})}}],[{key:"pluginName",get:function(){return"HeadingEditing"}},{key:"requires",get:function(){return[zA]}}]),n}(Pr),YA=i(8733);zr()(YA.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var JA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,r=function(e){var t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(t),i=n("Choose heading"),o=n("Heading");t.ui.componentFactory.add("heading",(function(n){var a,s={},c=new xr,u=t.commands.get("heading"),l=t.commands.get("paragraph"),h=[u],d=_createForOfIteratorHelper(r);try{var f=function(){var e=a.value,t={type:"button",model:new Uh({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(l,"value"),t.model.set("commandName","paragraph"),h.push(l)):(t.model.bind("isOn").to(u,"value",(function(t){return t===e.model})),t.model.set({commandName:"heading",commandValue:e.model})),c.add(t),s[e.model]=e.title};for(d.s();!(a=d.n()).done;)f()}catch(p){d.e(p)}finally{d.f()}var A=_h(n);return Ch(A,c),A.buttonView.set({isOn:!1,withText:!0,tooltip:o}),A.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),A.bind("isEnabled").toMany(h,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),A.buttonView.bind("label").to(u,"value",l,"value",(function(e,t){var n=e||t&&"paragraph";return s[n]?s[n]:i})),e.listenTo(A,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),A}))}}],[{key:"pluginName",get:function(){return"HeadingUI"}}]),n}(Pr),XA=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!(!this.isEnabled||!e.hasAttribute("alt"))&&e.getAttribute("alt")}},{key:"execute",value:function(e){var t=this.editor,n=t.plugins.get("ImageUtils"),r=t.model,i=n.getClosestSelectedImageElement(r.document.selection);r.change((function(t){t.setAttribute("alt",e.newValue,i)}))}}]),n}(Mr);function ZA(e){return e.createContainerElement("figure",{class:"image"},[e.createEmptyElement("img"),e.createSlot()])}function $A(e,t){var n=e.plugins.get("ImageUtils"),r=e.plugins.has("ImageInlineEditing")&&e.plugins.has("ImageBlockEditing");return function(e){return n.isInlineImageView(e)?r&&("block"==e.getStyle("display")||e.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==t?null:function(e){var t={name:!0};return e.hasAttribute("src")&&(t.attributes=["src"]),t}(e):null}}function ep(e,t){var n=Er(t.getSelectedBlocks());return!n||e.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}var tp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"isImage",value:function(e){return this.isInlineImage(e)||this.isBlockImage(e)}},{key:"isInlineImageView",value:function(e){return!!e&&e.is("element","img")}},{key:"isBlockImageView",value:function(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}},{key:"insertImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.editor,i=r.model,o=i.document.selection;for(var a in n=np(r,t||o,n),e=_objectSpread(_objectSpread({},Object.fromEntries(o.getAttributes())),e))i.schema.checkAttribute(n,a)||delete e[a];return i.change((function(r){var o=r.createElement(n,e);return i.insertObject(o,t,null,{setSelection:"on",findOptimalPosition:!t&&"imageInline"!=n}),o.parent?o:null}))}},{key:"getClosestSelectedImageWidget",value:function(e){var t=e.getFirstPosition();if(!t)return null;var n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;for(var r=t.parent;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}},{key:"getClosestSelectedImageElement",value:function(e){var t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}},{key:"isImageAllowed",value:function(){var e=this.editor.model.document.selection;return function(e,t){if("imageBlock"==np(e,t)){var n=function(e,t){var n=rf(e,t).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(t,e.model);if(e.model.schema.checkChild(n,"imageBlock"))return!0}else if(e.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(e){return _toConsumableArray(e.focus.getAncestors()).every((function(e){return!e.is("element","imageBlock")}))}(e)}},{key:"toImageWidget",value:function(e,t,n){var r=this;return t.setCustomProperty("image",!0,e),Zd(e,t,{label:function(){var t=r.findViewImgElement(e).getAttribute("alt");return t?"".concat(t," ").concat(n):n}})}},{key:"isImageWidget",value:function(e){return!!e.getCustomProperty("image")&&Xd(e)}},{key:"isBlockImage",value:function(e){return!!e&&e.is("element","imageBlock")}},{key:"isInlineImage",value:function(e){return!!e&&e.is("element","imageInline")}},{key:"findViewImgElement",value:function(e){if(this.isInlineImageView(e))return e;var t,n=_createForOfIteratorHelper(this.editor.editing.view.createRangeIn(e));try{for(n.s();!(t=n.n()).done;){var r=t.value.item;if(this.isInlineImageView(r))return r}}catch(i){n.e(i)}finally{n.f()}}}],[{key:"pluginName",get:function(){return"ImageUtils"}}]),n}(Pr);function np(e,t,n){var r=e.model.schema,i=e.config.get("image.insert.type");return e.plugins.has("ImageBlockEditing")?e.plugins.has("ImageInlineEditing")?n||("inline"===i?"imageInline":"block"===i?"imageBlock":t.is("selection")?ep(r,t):r.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}var rp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new XA(this.editor))}}],[{key:"requires",get:function(){return[tp]}},{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),n}(Pr),ip=i(1905);zr()(ip.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var op=i(6764);zr()(op.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ap=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).locale.t;return r.focusTracker=new Ir,r.keystrokes=new Br,r.labeledInput=r._createLabeledInputView(),r.saveButtonView=r._createButton(i("Save"),_l,"ck-button-save"),r.saveButtonView.type="submit",r.cancelButtonView=r._createButton(i("Cancel"),yl,"ck-button-cancel","cancel"),r._focusables=new Ru,r._focusCycler=new ih({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[r.labeledInput,r.saveButtonView,r.cancelButtonView]}),Ql(_assertThisInitialized(r)),r}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),Hl({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)}))}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"_createButton",value:function(e,t,n,r){var i=new Gl(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new Nh(this.locale,Mh);return t.label=e("Text alternative"),t}}]),n}(nl);function sp(e){var t=e.editing.view,n=al.defaultPositions,r=e.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(t.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}var cp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(r){var i=t.commands.get("imageTextAlternative"),o=new Gl(r);return o.set({label:n("Change image text alternative"),icon:Cl,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",(function(e){return!!e})),e.listenTo(o,"execute",(function(){e._showForm()})),o}))}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=t.editing.view.document,r=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new ap(t.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:e._form.labeledInput.fieldView.element.value}),e._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){e._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(t,n){e._hideForm(!0),n()})),this.listenTo(t.ui,"update",(function(){r.getClosestSelectedImageWidget(n.selection)?e._isVisible&&function(e){var t=e.plugins.get("ContextualBalloon");if(e.plugins.get("ImageUtils").getClosestSelectedImageWidget(e.editing.view.document.selection)){var n=sp(e);t.updatePosition(n)}}(t):e._hideForm(!0)})),jl({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:sp(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[Vh]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),n}(Pr),up=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[rp,cp]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),n}(Pr);function lp(e,t){return function(e){e.on("attribute:srcset:".concat(t),n)};function n(t,n,r){if(r.consumable.consume(n.item,t.name)){var i=r.writer,o=r.mapper.toViewElement(n.item),a=e.findViewImgElement(o);if(null===n.attributeNewValue){var s=n.attributeOldValue;s.data&&(i.removeAttribute("srcset",a),i.removeAttribute("sizes",a),s.width&&i.removeAttribute("width",a))}else{var c=n.attributeNewValue;c.data&&(i.setAttribute("srcset",c.data,a),i.setAttribute("sizes","100vw",a),c.width&&i.setAttribute("width",c.width,a))}}}}function hp(e,t,n){return function(e){e.on("attribute:".concat(n,":").concat(t),r)};function r(t,n,r){if(r.consumable.consume(n.item,t.name)){var i=r.writer,o=r.mapper.toViewElement(n.item),a=e.findViewImgElement(o);i.setAttribute(n.attributeKey,n.attributeNewValue||"",a)}}}var dp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"observe",value:function(e){var t=this;this.listenTo(e,"load",(function(e,n){var r=n.target;t.checkShouldIgnoreEventFromTarget(r)||"IMG"==r.tagName&&t._fireEvents(n)}),{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]),n}(Wo),fp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),r=t.call(this,e);var i=e.config.get("image.insert.type");return e.plugins.has("ImageBlockEditing")||"block"===i&&S("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===i&&S("image-inline-plugin-required"),r}return _createClass(n,[{key:"refresh",value:function(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}},{key:"execute",value:function(e){var t=this,n=_r(e.source),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),o=Object.fromEntries(r.getAttributes());n.forEach((function(e,n){var a=r.getSelectedElement();if("string"==typeof e&&(e={src:e}),n&&a&&i.isImage(a)){var s=t.editor.model.createPositionAfter(a);i.insertImage(_objectSpread(_objectSpread({},e),o),s)}else i.insertImage(_objectSpread(_objectSpread({},e),o))}))}}]),n}(Mr),Ap=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.conversion;e.editing.view.addObserver(dp),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}});var n=new fp(e);e.commands.add("insertImage",n),e.commands.add("imageInsert",n)}}],[{key:"requires",get:function(){return[tp]}},{key:"pluginName",get:function(){return"ImageEditing"}}]),n}(Pr),pp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e))._modelElementName=r,i}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?e.isInlineImage(t):e.isBlockImage(t)}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=this.editor.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(t.document.selection),i=Object.fromEntries(r.getAttributes());return i.src||i.uploadId?t.change((function(o){var a=Array.from(t.markers).filter((function(e){return e.getRange().containsItem(r)})),s=n.insertImage(i,t.createSelection(r,"on"),e._modelElementName);if(!s)return null;var c,u=o.createRangeOn(s),l=_createForOfIteratorHelper(a);try{for(l.s();!(c=l.n()).done;){var h=c.value,d=h.getRange(),f="$graveyard"!=d.root.rootName?d.getJoined(u,!0):u;o.updateMarker(h,{range:f})}}catch(A){l.e(A)}finally{l.f()}return{oldElement:r,newElement:s}})):null}}]),n}(Mr),gp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new pp(this.editor,"imageBlock")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var e=this.editor,t=e.t,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:function(e,t){return ZA(t.writer)}}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:function(e,n){var i=n.writer;return r.toImageWidget(ZA(i),i,t("image widget"))}}),n.for("downcast").add(hp(r,"imageBlock","src")).add(hp(r,"imageBlock","alt")).add(lp(r,"imageBlock")),n.for("upcast").elementToElement({view:$A(e,"imageBlock"),model:function(e,t){return t.writer.createElement("imageBlock",e.hasAttribute("src")?{src:e.getAttribute("src")}:null)}}).add(function(e){return function(e){e.on("element:figure",t)};function t(t,n,r){if(r.consumable.test(n.viewItem,{name:!0,classes:"image"})){var i=e.findViewImgElement(n.viewItem);if(i&&r.consumable.test(i,{name:!0})){r.consumable.consume(n.viewItem,{name:!0,classes:"image"});var o=Er(r.convertItem(i,n.modelCursor).modelRange.getItems());o?(r.convertChildren(n.viewItem,o),r.updateConversionResult(o,n)):r.consumable.revert(n.viewItem,{name:!0,classes:"image"})}}}}(r))}},{key:"_setupClipboardIntegration",value:function(){var e=this.editor,t=e.model,n=e.editing.view,r=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(function(i,o){var a,s=Array.from(o.content.getChildren());if(s.every(r.isInlineImageView)){a=o.targetRanges?e.editing.mapper.toModelRange(o.targetRanges[0]):t.document.selection.getFirstRange();var c=t.createSelection(a);if("imageBlock"===ep(t.schema,c)){var u=new Iu(n.document),l=s.map((function(e){return u.createElement("figure",{class:"image"},e)}));o.content=u.createDocumentFragment(l)}}}))}}],[{key:"requires",get:function(){return[Ap,tp,rd]}},{key:"pluginName",get:function(){return"ImageBlockEditing"}}]),n}(Pr),vp=i(3508);zr()(vp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var mp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[gp,vf,up]}},{key:"pluginName",get:function(){return"ImageBlock"}}]),n}(Pr),bp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((function(e,t){if(e.endsWith("caption")&&"imageInline"===t.name)return!1})),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new pp(this.editor,"imageInline")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var e=this.editor,t=e.t,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:function(e,t){return t.writer.createEmptyElement("img")}}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:function(e,n){var i=n.writer;return r.toImageWidget(function(e){return e.createContainerElement("span",{class:"image-inline"},e.createEmptyElement("img"))}(i),i,t("image widget"))}}),n.for("downcast").add(hp(r,"imageInline","src")).add(hp(r,"imageInline","alt")).add(lp(r,"imageInline")),n.for("upcast").elementToElement({view:$A(e,"imageInline"),model:function(e,t){return t.writer.createElement("imageInline",e.hasAttribute("src")?{src:e.getAttribute("src")}:null)}})}},{key:"_setupClipboardIntegration",value:function(){var e=this.editor,t=e.model,n=e.editing.view,r=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(function(i,o){var a,s=Array.from(o.content.getChildren());if(s.every(r.isBlockImageView)){a=o.targetRanges?e.editing.mapper.toModelRange(o.targetRanges[0]):t.document.selection.getFirstRange();var c=t.createSelection(a);if("imageInline"===ep(t.schema,c)){var u=new Iu(n.document),l=s.map((function(e){return 1===e.childCount?(Array.from(e.getAttributes()).forEach((function(t){return u.setAttribute.apply(u,_toConsumableArray(t).concat([r.findViewImgElement(e)]))})),e.getChild(0)):e}));o.content=u.createDocumentFragment(l)}}}))}}],[{key:"requires",get:function(){return[Ap,tp,rd]}},{key:"pluginName",get:function(){return"ImageInlineEditing"}}]),n}(Pr),yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[bp,vf,up]}},{key:"pluginName",get:function(){return"ImageInline"}}]),n}(Pr),wp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor,t=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(gp))return this.isEnabled=!1,void(this.value=!1);var n=e.model.document.selection,r=n.getSelectedElement();if(!r){var i=t.getCaptionFromModelSelection(n);return this.isEnabled=!!i,void(this.value=!!i)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(r),this.value=!!this.isEnabled&&!!t.getCaptionFromImageModelElement(r)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.focusCaptionOnShow;this.editor.model.change((function(t){e.value?e._hideImageCaption(t):e._showImageCaption(t,n)}))}},{key:"_showImageCaption",value:function(e,t){var n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),i=n.getSelectedElement(),o=r._getSavedCaption(i);this.editor.plugins.get("ImageUtils").isInlineImage(i)&&(this.editor.execute("imageTypeBlock"),i=n.getSelectedElement());var a=o||e.createElement("caption");e.append(a,i),t&&e.setSelection(a,"in")}},{key:"_hideImageCaption",value:function(e){var t,n=this.editor,r=n.model.document.selection,i=n.plugins.get("ImageCaptionEditing"),o=n.plugins.get("ImageCaptionUtils"),a=r.getSelectedElement();a?t=o.getCaptionFromImageModelElement(a):a=(t=o.getCaptionFromModelSelection(r)).parent,i._saveCaption(a,t),e.setSelection(a,"on"),e.remove(t)}}]),n}(Mr),_p=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getCaptionFromImageModelElement",value:function(e){var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r&&r.is("element","caption"))return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"getCaptionFromModelSelection",value:function(e){var t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}},{key:"matchImageCaptionViewElement",value:function(e){var t=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}}],[{key:"pluginName",get:function(){return"ImageCaptionUtils"}},{key:"requires",get:function(){return[tp]}}]),n}(Pr),kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._savedCaptionsMap=new WeakMap,r}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new wp(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}},{key:"_setupConversion",value:function(){var e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),i=e.t;e.conversion.for("upcast").elementToElement({view:function(e){return r.matchImageCaptionViewElement(e)},model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:function(e,t){var r=t.writer;return n.isBlockImage(e.parent)?r.createContainerElement("figcaption"):null}}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:function(e,r){var o=r.writer;if(!n.isBlockImage(e.parent))return null;var a=o.createEditableElement("figcaption");o.setCustomProperty("imageCaption",!0,a),Gr({view:t,element:a,text:i("Enter image caption"),keepOnFocus:!0});var s=e.parent.getAttribute("alt");return nf(a,o,{label:s?i("Caption for image: %0",[s]):i("Caption for the image")})}})}},{key:"_setupImageTypeCommandsIntegration",value:function(){var e=this,t=this.editor,n=t.plugins.get("ImageUtils"),r=t.plugins.get("ImageCaptionUtils"),i=t.commands.get("imageTypeInline"),o=t.commands.get("imageTypeBlock"),a=function(t){if(t.return){var i=t.return,o=i.oldElement,a=i.newElement;if(o){if(n.isBlockImage(o)){var s=r.getCaptionFromImageModelElement(o);if(s)return void e._saveCaption(a,s)}var c=e._getSavedCaption(o);c&&e._saveCaption(a,c)}}};i&&this.listenTo(i,"execute",a,{priority:"low"}),o&&this.listenTo(o,"execute",a,{priority:"low"})}},{key:"_getSavedCaption",value:function(e){var t=this._savedCaptionsMap.get(e);return t?Ha.fromJSON(t):null}},{key:"_saveCaption",value:function(e,t){this._savedCaptionsMap.set(e,t.toJSON())}},{key:"_registerCaptionReconversion",value:function(){var e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",(function(){var i,o=_createForOfIteratorHelper(t.document.differ.getChanges());try{for(o.s();!(i=o.n()).done;){var a=i.value;if("alt"===a.attributeKey){var s=a.range.start.nodeAfter;if(n.isBlockImage(s)){var c=r.getCaptionFromImageModelElement(s);if(!c)return;e.editing.reconvertItem(c)}}}}catch(u){o.e(u)}finally{o.f()}}))}}],[{key:"requires",get:function(){return[tp,_p]}},{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),n}(Pr),Cp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,r=t.plugins.get("ImageCaptionUtils"),i=t.t;t.ui.componentFactory.add("toggleImageCaption",(function(o){var a=t.commands.get("toggleImageCaption"),s=new Gl(o);return s.set({icon:wl,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),s.bind("label").to(a,"value",(function(e){return i(e?"Toggle caption off":"Toggle caption on")})),e.listenTo(s,"execute",(function(){t.execute("toggleImageCaption",{focusCaptionOnShow:!0});var e=r.getCaptionFromModelSelection(t.model.document.selection);if(e){var i=t.editing.mapper.toViewElement(e);n.scrollToTheSelection(),n.change((function(e){e.addClass("image__caption_highlighted",i)}))}t.editing.view.focus()})),s}))}}],[{key:"requires",get:function(){return[_p]}},{key:"pluginName",get:function(){return"ImageCaptionUI"}}]),n}(Pr),Sp=i(2640);zr()(Sp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var xp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e))._defaultStyles={imageBlock:!1,imageInline:!1},i._styles=new Map(r.map((function(e){if(e.isDefault){var t,n=_createForOfIteratorHelper(e.modelElements);try{for(n.s();!(t=n.n()).done;){var r=t.value;i._defaultStyles[r]=e.name}}catch(o){n.e(o)}finally{n.f()}}return[e.name,e]}))),i}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.value=!!this.isEnabled&&(e.hasAttribute("imageStyle")?e.getAttribute("imageStyle"):this._defaultStyles[e.name])}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.model,i=n.plugins.get("ImageUtils");r.change((function(n){var o=t.value,a=i.getClosestSelectedImageElement(r.document.selection);o&&e.shouldConvertImageType(o,a)&&(e.editor.execute(i.isBlockImage(a)?"imageTypeInline":"imageTypeBlock"),a=i.getClosestSelectedImageElement(r.document.selection)),!o||e._styles.get(o).isDefault?n.removeAttribute("imageStyle",a):n.setAttribute("imageStyle",o,a)}))}},{key:"shouldConvertImageType",value:function(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}]),n}(Mr),Ep=Rl,Ip=Dl,Bp=Ol,Dp=Tl,Tp=Pl,Op=Nl,Fp={get inline(){return{name:"inline",title:"In line",icon:Ep,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Ip,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Tp,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Dp,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Bp,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Op,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Dp,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Bp,modelElements:["imageBlock"],className:"image-style-side"}}},Rp={full:Fl,left:Tp,right:Op,center:Dp,inlineLeft:Ip,inlineRight:Bp,inline:Ep},Pp=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Np(e){S("image-style-configuration-definition-invalid",e)}var Mp={normalizeStyles:function(e){return(e.configuredStyles.options||[]).map((function(e){return function(e){return"string"==typeof(e="string"==typeof e?Fp[e]?_objectSpread({},Fp[e]):{name:e}:function(e,t){var n=_objectSpread({},t);for(var r in e)Object.prototype.hasOwnProperty.call(t,r)||(n[r]=e[r]);return n}(Fp[e.name],e)).icon&&(e.icon=Rp[e.icon]||e.icon),e}(e)})).filter((function(t){return function(e,t){var n=t.isBlockPluginLoaded,r=t.isInlinePluginLoaded,i=e.modelElements,o=e.name;if(!(i&&i.length&&o))return Np({style:e}),!1;var a=[n?"imageBlock":null,r?"imageInline":null];return!!i.some((function(e){return a.includes(e)}))||(S("image-style-missing-dependency",{style:e,missingPlugins:i.map((function(e){return"imageBlock"===e?"ImageBlockEditing":"ImageInlineEditing"}))}),!1)}(t,e)}))},getDefaultStylesConfiguration:function(e,t){return e&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:e?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(e){return e.has("ImageBlockEditing")&&e.has("ImageInlineEditing")?[].concat(Pp):[]},warnInvalidStyle:Np,DEFAULT_OPTIONS:Fp,DEFAULT_ICONS:Rp,DEFAULT_DROPDOWN_DEFINITIONS:Pp};function Lp(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.name===e)return i}}catch(o){r.e(o)}finally{r.f()}}var Up=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=Mp.normalizeStyles,t=Mp.getDefaultStylesConfiguration,n=this.editor,r=n.plugins.has("ImageBlockEditing"),i=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(r,i)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:i}),this._setupConversion(r,i),this._setupPostFixer(),n.commands.add("imageStyle",new xp(n,this.normalizedStyles))}},{key:"_setupConversion",value:function(e,t){var n,r=this.editor,i=r.model.schema,o=(n=this.normalizedStyles,function(e,t,r){if(r.consumable.consume(t.item,e.name)){var i=Lp(t.attributeNewValue,n),o=Lp(t.attributeOldValue,n),a=r.mapper.toViewElement(t.item),s=r.writer;o&&s.removeClass(o.className,a),i&&s.addClass(i.className,a)}}),a=function(e){var t={imageInline:e.filter((function(e){return!e.isDefault&&e.modelElements.includes("imageInline")})),imageBlock:e.filter((function(e){return!e.isDefault&&e.modelElements.includes("imageBlock")}))};return function(e,n,r){if(n.modelRange){var i=n.viewItem,o=Er(n.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle")){var a,s=_createForOfIteratorHelper(t[o.name]);try{for(s.s();!(a=s.n()).done;){var c=a.value;r.consumable.consume(i,{classes:c.className})&&r.writer.setAttribute("imageStyle",c.name,o)}}catch(u){s.e(u)}finally{s.f()}}}}}(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",o),r.data.downcastDispatcher.on("attribute:imageStyle",o),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",a,{priority:"low"})),t&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",a,{priority:"low"}))}},{key:"_setupPostFixer",value:function(){var e=this.editor,t=e.model.document,n=e.plugins.get(tp),r=new Map(this.normalizedStyles.map((function(e){return[e.name,e]})));t.registerPostFixer((function(e){var i,o=!1,a=_createForOfIteratorHelper(t.differ.getChanges());try{for(a.s();!(i=a.n()).done;){var s=i.value;if("insert"==s.type||"attribute"==s.type&&"imageStyle"==s.attributeKey){var c="insert"==s.type?s.position.nodeAfter:s.range.start.nodeAfter;if(c&&c.is("element","paragraph")&&c.childCount>0&&(c=c.getChild(0)),!n.isImage(c))continue;var u=c.getAttribute("imageStyle");if(!u)continue;var l=r.get(u);l&&l.modelElements.includes(c.name)||(e.removeAttribute("imageStyle",c),o=!0)}}}catch(h){a.e(h)}finally{a.f()}return o}))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}},{key:"requires",get:function(){return[tp]}}]),n}(Pr),jp=i(5083);zr()(jp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Qp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}},{key:"init",value:function(){var e,t=this.editor.plugins,n=this.editor.config.get("image.toolbar")||[],r=Hp(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles),i=_createForOfIteratorHelper(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;this._createButton(o)}}catch(u){i.e(u)}finally{i.f()}var a,s=_createForOfIteratorHelper(Hp([].concat(_toConsumableArray(n.filter(Q)),_toConsumableArray(Mp.getDefaultDropdownDefinitions(t))),this.localizedDefaultStylesTitles));try{for(s.s();!(a=s.n()).done;){var c=a.value;this._createDropdown(c,r)}}catch(u){s.e(u)}finally{s.f()}}},{key:"_createDropdown",value:function(e,t){var n=this,r=this.editor.ui.componentFactory;r.add(e.name,(function(i){var o,a=e.defaultItem,s=e.items,c=e.title,u=s.filter((function(e){return t.find((function(t){return Vp(t.name)===e}))})).map((function(e){var t=r.create(e);return e===a&&(o=t),t}));s.length!==u.length&&Mp.warnInvalidStyle({dropdown:e});var l=_h(i,eh),h=l.buttonView,d=h.arrowView;return kh(l,u,{enableActiveItemFocusOnDropdownOpen:!0}),h.set({label:zp(c,o.label),class:null,tooltip:!0}),d.unbind("label"),d.set({label:c}),h.bind("icon").toMany(u,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.findIndex(ki);return r<0?o.icon:u[r].icon})),h.bind("label").toMany(u,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.findIndex(ki);return zp(c,r<0?o.label:u[r].label)})),h.bind("isOn").toMany(u,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(ki)})),h.bind("class").toMany(u,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(ki)?"ck-splitbutton_flatten":null})),h.on("execute",(function(){u.some((function(e){return e.isOn}))?l.isOpen=!l.isOpen:o.fire("execute")})),l.bind("isEnabled").toMany(u,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(ki)})),n.listenTo(l,"execute",(function(){n.editor.editing.view.focus()})),l}))}},{key:"_createButton",value:function(e){var t=this,n=e.name;this.editor.ui.componentFactory.add(Vp(n),(function(r){var i=t.editor.commands.get("imageStyle"),o=new Gl(r);return o.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",(function(e){return e===n})),o.on("execute",t._executeCommand.bind(t,n)),o}))}},{key:"_executeCommand",value:function(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}],[{key:"requires",get:function(){return[Up]}},{key:"pluginName",get:function(){return"ImageStyleUI"}}]),n}(Pr);function Hp(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t[i.title]&&(i.title=t[i.title])}}catch(o){r.e(o)}finally{r.f()}return e}function Vp(e){return"imageStyle:".concat(e)}function zp(e,t){return(e?e+": ":"")+t}function qp(e){var t=e.map((function(e){return e.replace("+","\\+")}));return new RegExp("^image\\/(".concat(t.join("|"),")$"))}function Kp(e){return new Promise((function(t,n){var r=e.getAttribute("src");fetch(r).then((function(e){return e.blob()})).then((function(e){var n=Gp(e,r),i=n.replace("image/",""),o=new File([e],"image.".concat(i),{type:n});t(o)})).catch((function(e){return e&&"TypeError"===e.name?function(e){return function(e){return new Promise((function(t,n){var r=Un.document.createElement("img");r.addEventListener("load",(function(){var e=Un.document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),e.toBlob((function(e){return e?t(e):n()}))})),r.addEventListener("error",(function(){return n()})),r.src=e}))}(e).then((function(t){var n=Gp(t,e),r=n.replace("image/","");return new File([t],"image.".concat(r),{type:n})}))}(r).then(t).catch(n):n(e)}))}))}function Gp(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}var Wp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.t,n=function(n){var r=new Jf(n),i=e.commands.get("uploadImage"),o=e.config.get("image.upload.types"),a=qp(o);return r.set({acceptedType:o.map((function(e){return"image/".concat(e)})).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:t("Insert image"),icon:kl,tooltip:!0}),r.buttonView.bind("isEnabled").to(i),r.on("done",(function(t,n){var r=Array.from(n).filter((function(e){return a.test(e.type)}));r.length&&(e.execute("uploadImage",{file:r}),e.editing.view.focus())})),r};e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n)}}],[{key:"pluginName",get:function(){return"ImageUploadUI"}}]),n}(Pr),Yp=i(3689);zr()(Yp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Jp=i(4036);zr()(Jp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Xp=i(3773);zr()(Xp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Zp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",r}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(function(){return e.uploadStatusChange.apply(e,arguments)})),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(function(){return e.uploadStatusChange.apply(e,arguments)}))}},{key:"uploadStatusChange",value:function(e,t,n){var r=this.editor,i=t.item,o=i.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){var a=r.plugins.get("ImageUtils"),s=r.plugins.get(Wf),c=o?t.attributeNewValue:null,u=this.placeholder,l=r.editing.mapper.toViewElement(i),h=n.writer;if("reading"==c)return $p(l,h),void eg(a,u,l,h);if("uploading"==c){var d=s.loaders.get(o);return $p(l,h),void(d?(tg(l,h),function(e,t,n,r){var i=function(e){var t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),i),n.on("change:uploadedPercent",(function(e,t,n){r.change((function(e){e.setStyle("width",n+"%",i)}))}))}(l,h,d,r.editing.view),function(e,t,n,r){if(r.data){var i=e.findViewImgElement(t);n.setAttribute("src",r.data,i)}}(a,l,h,d)):eg(a,u,l,h))}"complete"==c&&s.loaders.get(o)&&function(e,t,n){var r=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),r),setTimeout((function(){n.change((function(e){return e.remove(e.createRangeOn(r))}))}),3e3)}(l,h,r.editing.view),function(e,t){rg(e,t,"progressBar")}(l,h),tg(l,h),function(e,t){t.removeClass("ck-appear",e)}(l,h)}}}],[{key:"pluginName",get:function(){return"ImageUploadProgress"}}]),n}(Pr);function $p(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function eg(e,t,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);var i=e.findViewImgElement(n);i.getAttribute("src")!==t&&r.setAttribute("src",t,i),ng(n,"placeholder")||r.insert(r.createPositionAfter(i),function(e){var t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(r))}function tg(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),rg(e,t,"placeholder")}function ng(e,t){var n,r=_createForOfIteratorHelper(e.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.getCustomProperty(t))return i}}catch(o){r.e(o)}finally{r.f()}}function rg(e,t,n){var r=ng(e,n);r&&t.remove(t.createRangeOn(r))}var ig=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}},{key:"execute",value:function(e){var t=this,n=_r(e.file),r=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),o=Object.fromEntries(r.getAttributes());n.forEach((function(e,n){var a=r.getSelectedElement();if(n&&a&&i.isImage(a)){var s=t.editor.model.createPositionAfter(a);t._uploadImage(e,o,s)}else t._uploadImage(e,o)}))}},{key:"_uploadImage",value:function(e,t,n){var r=this.editor,i=r.plugins.get(Wf).createLoader(e),o=r.plugins.get("ImageUtils");i&&o.insertImage(_objectSpread(_objectSpread({},t),{},{uploadId:i.id}),n)}}]),n}(Mr),og=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),r._uploadImageElements=new Map,r}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,r=t.conversion,i=t.plugins.get(Wf),o=t.plugins.get("ImageUtils"),a=qp(t.config.get("image.upload.types")),s=new ig(t);t.commands.add("uploadImage",s),t.commands.add("imageUpload",s),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){if(r=n.dataTransfer,!Array.from(r.types).includes("text/html")||""===r.getData("text/html")){var r,i=Array.from(n.dataTransfer.files).filter((function(e){return!!e&&a.test(e.type)}));i.length&&(e.stop(),t.model.change((function(e){n.targetRanges&&e.setSelection(n.targetRanges.map((function(e){return t.editing.mapper.toModelRange(e)}))),t.model.enqueueChange((function(){t.execute("uploadImage",{file:i})}))})))}})),this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(function(e,n){var r=Array.from(t.editing.view.createRangeIn(n.content)).filter((function(e){return function(e,t){return!(!e.isInlineImageView(t)||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))}(o,e.item)&&!e.item.getAttribute("uploadProcessed")})).map((function(e){return{promise:Kp(e.item),imageElement:e.item}}));if(r.length){var a,s=new Iu(t.editing.view.document),c=_createForOfIteratorHelper(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;s.setAttribute("uploadProcessed",!0,u.imageElement);var l=i.createLoader(u.promise);l&&(s.setAttribute("src","",u.imageElement),s.setAttribute("uploadId",l.id,u.imageElement))}}catch(h){c.e(h)}finally{c.f()}}})),t.editing.view.document.on("dragover",(function(e,t){t.preventDefault()})),n.on("change",(function(){var r,o=n.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),a=new Set,s=_createForOfIteratorHelper(o);try{for(s.s();!(r=s.n()).done;){var c=r.value;if("insert"==c.type&&"$text"!=c.name){var u,l=c.position.nodeAfter,h="$graveyard"==c.position.root.rootName,d=_createForOfIteratorHelper(ag(t,l));try{for(d.s();!(u=d.n()).done;){var f=u.value,A=f.getAttribute("uploadId");if(A){var p=i.loaders.get(A);p&&(h?a.has(A)||p.abort():(a.add(A),e._uploadImageElements.set(A,f),"idle"==p.status&&e._readAndUpload(p)))}}}catch(g){d.e(g)}finally{d.f()}}}}catch(g){s.e(g)}finally{s.f()}})),this.on("uploadComplete",(function(t,n){var r=n.imageElement,i=n.data,o=i.urls?i.urls:i;e.editor.model.change((function(t){t.setAttribute("src",o.default,r),e._parseAndSetSrcsetAttributeOnImage(o,r,t)}))}),{priority:"low"})}},{key:"afterInit",value:function(){var e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}},{key:"_readAndUpload",value:function(e){var t=this,n=this.editor,r=n.model,i=n.locale.t,o=n.plugins.get(Wf),a=n.plugins.get(Lh),s=n.plugins.get("ImageUtils"),c=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},(function(t){t.setAttribute("uploadStatus","reading",c.get(e.id))})),e.read().then((function(){var t=e.upload(),i=c.get(e.id);if(l){var o=n.editing.mapper.toViewElement(i),a=s.findViewImgElement(o);n.editing.view.once("render",(function(){if(a.parent){var e=n.editing.view.domConverter.mapViewToDom(a.parent);if(e){var t=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t}}}))}return r.enqueueChange({isUndoable:!1},(function(e){e.setAttribute("uploadStatus","uploading",i)})),t})).then((function(n){r.enqueueChange({isUndoable:!1},(function(r){var i=c.get(e.id);r.setAttribute("uploadStatus","complete",i),t.fire("uploadComplete",{data:n,imageElement:i})})),u()})).catch((function(t){if("error"!==e.status&&"aborted"!==e.status)throw t;"error"==e.status&&t&&a.showWarning(t,{title:i("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},(function(t){t.remove(c.get(e.id))})),u()}));function u(){r.enqueueChange({isUndoable:!1},(function(t){var n=c.get(e.id);t.removeAttribute("uploadId",n),t.removeAttribute("uploadStatus",n),c.delete(e.id)})),o.destroyLoader(e)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(e,t,n){var r=0,i=Object.keys(e).filter((function(e){var t=parseInt(e,10);if(!isNaN(t))return r=Math.max(r,t),!0})).map((function(t){return"".concat(e[t]," ").concat(t,"w")})).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:r},t)}}],[{key:"requires",get:function(){return[Wf,Lh,rd,tp]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),n}(Pr);function ag(e,t){var n=e.plugins.get("ImageUtils");return Array.from(e.model.createRangeOn(t)).filter((function(e){return n.isImage(e.item)})).map((function(e){return e.item}))}var sg=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new Ur(e)),e.commands.add("outdent",new Ur(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),n}(Pr),cg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ug='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',lg=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?cg:ug,i="ltr"==t.uiLanguageDirection?ug:cg;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),i)}},{key:"_defineButton",value:function(e,t,n){var r=this,i=this.editor;i.ui.componentFactory.add(e,(function(o){var a=i.commands.get(e),s=new Gl(o);return s.set({label:t,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),r.listenTo(s,"execute",(function(){i.execute(e),i.editing.view.focus()})),s}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),n}(Pr),hg=function(){function e(){_classCallCheck(this,e),this._definitions=new Set}return _createClass(e,[{key:"length",get:function(){return this._definitions.size}},{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._definitions.add(e)})):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(t){t.on("attribute:linkHref",(function(t,n,r){if(r.consumable.test(n.item,"attribute:linkHref")&&(n.item.is("selection")||r.schema.isInline(n.item))){var i,o=r.writer,a=o.document.selection,s=_createForOfIteratorHelper(e._definitions);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=o.createAttributeElement("a",c.attributes,{priority:5});for(var l in c.classes&&o.addClass(c.classes,u),c.styles)o.setStyle(l,c.styles[l],u);o.setCustomProperty("link",!0,u),c.callback(n.attributeNewValue)?n.item.is("selection")?o.wrap(a.getFirstRange(),u):o.wrap(r.mapper.toViewRange(n.range),u):o.unwrap(r.mapper.toViewRange(n.range),u)}}catch(h){s.e(h)}finally{s.f()}}}),{priority:"high"})}}},{key:"getDispatcherForLinkedImage",value:function(){var e=this;return function(t){t.on("attribute:linkHref:imageBlock",(function(t,n,r){var i,o=r.writer,a=r.mapper.toViewElement(n.item),s=Array.from(a.getChildren()).find((function(e){return"a"===e.name})),c=_createForOfIteratorHelper(e._definitions);try{for(c.s();!(i=c.n()).done;){var u=i.value,l=Dr(u.attributes);if(u.callback(n.attributeNewValue)){var h,d=_createForOfIteratorHelper(l);try{for(d.s();!(h=d.n()).done;){var f=_slicedToArray(h.value,2),A=f[0],p=f[1];"class"===A?o.addClass(p,s):o.setAttribute(A,p,s)}}catch(k){d.e(k)}finally{d.f()}for(var g in u.classes&&o.addClass(u.classes,s),u.styles)o.setStyle(g,u.styles[g],s)}else{var v,m=_createForOfIteratorHelper(l);try{for(m.s();!(v=m.n()).done;){var b=_slicedToArray(v.value,2),y=b[0],w=b[1];"class"===y?o.removeClass(w,s):o.removeAttribute(y,s)}}catch(k){m.e(k)}finally{m.f()}for(var _ in u.classes&&o.removeClass(u.classes,s),u.styles)o.removeStyle(_,s)}}}catch(k){c.e(k)}finally{c.f()}}))}}}]),e}(),dg=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),fg=function(e){return dg.test(e)},Ag="\\ud800-\\udfff",pg="["+Ag+"]",gg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",vg="\\ud83c[\\udffb-\\udfff]",mg="[^"+Ag+"]",bg="(?:\\ud83c[\\udde6-\\uddff]){2}",yg="[\\ud800-\\udbff][\\udc00-\\udfff]",wg="(?:"+gg+"|"+vg+")?",_g="[\\ufe0e\\ufe0f]?",kg=_g+wg+"(?:\\u200d(?:"+[mg,bg,yg].join("|")+")"+_g+wg+")*",Cg="(?:"+[mg+gg+"?",gg,bg,yg,pg].join("|")+")",Sg=RegExp(vg+"(?="+vg+")|"+Cg+kg,"g"),xg=function(e){e=pi(e);var t=fg(e)?function(e){return fg(e)?function(e){return e.match(Sg)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,n=t?t[0]:e.charAt(0),r=t?function(e,t,n){return bi(e,1,n=void 0===n?e.length:n)}(t).join(""):e.slice(1);return n.toUpperCase()+r},Eg=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ig=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Bg=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Dg=/^((\w+:(\/{2,})?)|(\W))/i,Tg="Ctrl+K";function Og(e,t){var n=t.writer,r=n.createAttributeElement("a",{href:e},{priority:5});return n.setCustomProperty("link",!0,r),r}function Fg(e){return function(e){return e.replace(Eg,"").match(Ig)}(e=String(e))?e:"#"}function Rg(e,t){return!!e&&t.checkAttribute(e.name,"linkHref")}function Pg(e,t){var n=Bg.test(e)?"mailto:":t,r=!!n&&!Ng(e);return e&&r?n+e:e}function Ng(e){return Dg.test(e)}function Mg(e){window.open(e,"_blank","noopener")}var Lg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).manualDecorators=new xr,r.automaticDecorators=new hg,r}return _createClass(n,[{key:"restoreManualDecoratorStates",value:function(){var e,t=_createForOfIteratorHelper(this.manualDecorators);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=this._getDecoratorStateFromModel(n.id)}}catch(r){t.e(r)}finally{t.f()}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Er(t.getSelectedBlocks());Rg(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));var r,i=_createForOfIteratorHelper(this.manualDecorators);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(a){i.e(a)}finally{i.f()}}},{key:"execute",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.editor.model,i=r.document.selection,o=[],a=[];for(var s in n)n[s]?o.push(s):a.push(s);r.change((function(n){if(i.isCollapsed){var s=i.getFirstPosition();if(i.hasAttribute("linkHref")){var c=Rd(s,"linkHref",i.getAttribute("linkHref"),r);n.setAttribute("linkHref",e,c),o.forEach((function(e){n.setAttribute(e,!0,c)})),a.forEach((function(e){n.removeAttribute(e,c)})),n.setSelection(n.createPositionAfter(c.end.nodeBefore))}else if(""!==e){var u=Dr(i.getAttributes());u.set("linkHref",e),o.forEach((function(e){u.set(e,!0)}));var l=r.insertContent(n.createText(e,u),s).end;n.setSelection(l)}["linkHref"].concat(o,a).forEach((function(e){n.removeSelectionAttribute(e)}))}else{var h,d=r.schema.getValidRanges(i.getRanges(),"linkHref"),f=[],A=_createForOfIteratorHelper(i.getSelectedBlocks());try{for(A.s();!(h=A.n()).done;){var p=h.value;r.schema.checkAttribute(p,"linkHref")&&f.push(n.createRangeOn(p))}}catch(k){A.e(k)}finally{A.f()}var g,v=f.slice(),m=_createForOfIteratorHelper(d);try{for(m.s();!(g=m.n()).done;){var b=g.value;t._isRangeToUpdate(b,f)&&v.push(b)}}catch(k){m.e(k)}finally{m.f()}var y,w=_createForOfIteratorHelper(v);try{var _=function(){var t=y.value;n.setAttribute("linkHref",e,t),o.forEach((function(e){n.setAttribute(e,!0,t)})),a.forEach((function(e){n.removeAttribute(e,t)}))};for(w.s();!(y=w.n()).done;)_()}catch(k){w.e(k)}finally{w.f()}}}))}},{key:"_getDecoratorStateFromModel",value:function(e){var t=this.editor.model,n=t.document.selection,r=n.getSelectedElement();return Rg(r,t.schema)?r.getAttribute(e):n.getAttribute(e)}},{key:"_isRangeToUpdate",value:function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){if(n.value.containsRange(e))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}}]),n}(Mr),Ug=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();this.isEnabled=Rg(n,e.schema)?e.schema.checkAttribute(n,"linkHref"):e.schema.checkAttributeInSelection(t,"linkHref")}},{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=this.editor.commands.get("link");e.change((function(r){var i,o=_createForOfIteratorHelper(t.isCollapsed?[Rd(t.getFirstPosition(),"linkHref",t.getAttribute("linkHref"),e)]:e.schema.getValidRanges(t.getRanges(),"linkHref"));try{for(o.s();!(i=o.n()).done;){var a=i.value;if(r.removeAttribute("linkHref",a),n){var s,c=_createForOfIteratorHelper(n.manualDecorators);try{for(c.s();!(s=c.n()).done;){var u=s.value;r.removeAttribute(u.id,a)}}catch(l){c.e(l)}finally{c.f()}}}}catch(l){o.e(l)}finally{o.f()}}))}}]),n}(Mr),jg=function(){function e(t){var n=t.id,r=t.label,i=t.attributes,o=t.classes,a=t.styles,s=t.defaultValue;_classCallCheck(this,e),this.id=n,this.set("value"),this.defaultValue=s,this.label=r,this.attributes=i,this.classes=o,this.styles=a}return _createClass(e,[{key:"_createPattern",value:function(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}]),e}();m(jg,W);var Qg=i(9773);zr()(Qg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Hg="automatic",Vg=/^(https?:)?\/\//,zg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e),e.config.define("link",{addTargetToExternalLinks:!1}),r}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Og}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Og(Fg(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new Lg(e)),e.commands.add("unlink",new Ug(e));var t=function(e,t){var n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((function(e){return e.label&&n[e.label]&&(e.label=n[e.label]),e})),t}(e.t,function(e){var t=[];if(e)for(var n=0,r=Object.entries(e);n<r.length;n++){var i=_slicedToArray(r[n],2),o=i[0],a=i[1],s=Object.assign({},a,{id:"link".concat(xg(o))});t.push(s)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter((function(e){return e.mode===Hg}))),this._enableManualDecorators(t.filter((function(e){return"manual"===e.mode}))),e.plugins.get(yd).registerAttribute("linkHref"),function(e,t,n,r){var i=e.editing.view,o=new Set;i.document.registerPostFixer((function(n){var i=e.model.document.selection,a=!1;if(i.hasAttribute(t)){var s,c=Rd(i.getFirstPosition(),t,i.getAttribute(t),e.model),u=_createForOfIteratorHelper(e.editing.mapper.toViewRange(c).getItems());try{for(u.s();!(s=u.n()).done;){var l=s.value;l.is("element","a")&&!l.hasClass(r)&&(n.addClass(r,l),o.add(l),a=!0)}}catch(h){u.e(h)}finally{u.f()}}return a})),e.conversion.for("editingDowncast").add((function(e){function t(){i.change((function(e){var t,n=_createForOfIteratorHelper(o.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;e.removeClass(r,i),o.delete(i)}}catch(a){n.e(a)}finally{n.f()}}))}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})}))}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:Hg,callback:function(e){return Vg.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((function(e){t.model.schema.extend("$text",{allowAttributes:e.id}),e=new jg(e),n.add(e),t.conversion.for("downcast").attributeToElement({model:e.id,view:function(t,n,r){var i=n.writer,o=n.schema,a=r.item;if((a.is("selection")||o.isInline(a))&&t){var s=i.createAttributeElement("a",e.attributes,{priority:5});for(var c in e.classes&&i.addClass(e.classes,s),e.styles)i.setStyle(c,e.styles[c],s);return i.setCustomProperty("link",!0,s),s}}}),t.conversion.for("upcast").elementToAttribute({view:_objectSpread({name:"a"},e._createPattern()),model:{key:e.id}})}))}}},{key:"_enableLinkOpen",value:function(){var e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(function(e,t){if(c?t.domEvent.metaKey:t.domEvent.ctrlKey){var n=t.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),n){var r=n.getAttribute("href");r&&(e.stop(),t.preventDefault(),Mg(r))}}}),{context:"$capture"}),this.listenTo(t,"keydown",(function(t,n){var r=e.commands.get("link").value;r&&n.keyCode===gr.enter&&n.altKey&&(t.stop(),Mg(r))}))}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",(function(){var n=t.anchor.nodeBefore,r=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||e.change((function(t){qg(t,Gg(e.schema))})))}),{priority:"low"})}},{key:"_enableClickingAfterLink",value:function(){var e=this.editor,t=e.model;e.editing.view.addObserver(Eu);var n=!1;this.listenTo(e.editing.view.document,"mousedown",(function(){n=!0})),this.listenTo(e.editing.view.document,"selectionChange",(function(){if(n){n=!1;var e=t.document.selection;if(e.isCollapsed&&e.hasAttribute("linkHref")){var r=e.getFirstPosition(),i=Rd(r,"linkHref",e.getAttribute("linkHref"),t);(r.isTouching(i.start)||r.isTouching(i.end))&&t.change((function(e){qg(e,Gg(t.schema))}))}}}))}},{key:"_enableTypingOverLink",value:function(){var e,t,n=this.editor;this.listenTo(n.editing.view.document,"delete",(function(){t=!0}),{priority:"high"}),this.listenTo(n.model,"deleteContent",(function(){var r=n.model.document.selection;r.isCollapsed||(t?t=!1:Kg(n)&&function(e){var t=e.document.selection,n=t.getFirstPosition(),r=t.getLastPosition(),i=n.nodeAfter;return!!i&&!!i.is("$text")&&!!i.hasAttribute("linkHref")&&(i===(r.textNode||r.nodeBefore)||Rd(n,"linkHref",i.getAttribute("linkHref"),e).containsRange(e.createRange(n,r),!0))}(n.model)&&(e=r.getAttributes()))}),{priority:"high"}),this.listenTo(n.model,"insertContent",(function(r,i){var o=_slicedToArray(i,1)[0];t=!1,Kg(n)&&e&&(n.model.change((function(t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=_slicedToArray(n.value,2),a=i[0],s=i[1];t.setAttribute(a,s,o)}}catch(c){r.e(c)}finally{r.f()}})),e=null)}),{priority:"high"})}},{key:"_handleDeleteContentAfterLink",value:function(){var e=this.editor,t=e.model,n=t.document.selection,r=!1,i=!1;this.listenTo(e.editing.view.document,"delete",(function(e,t){i="backward"===t.direction}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){r=!1;var e=n.getFirstPosition(),i=n.getAttribute("linkHref");if(i){var o=Rd(e,"linkHref",i,t);r=o.containsPosition(e)||o.end.isEqual(e)}}),{priority:"high"}),this.listenTo(t,"deleteContent",(function(){i&&(i=!1,r||e.model.enqueueChange((function(e){qg(e,Gg(t.schema))})))}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"LinkEditing"}},{key:"requires",get:function(){return[yd,cd,rd]}}]),n}(Pr);function qg(e,t){e.removeSelectionAttribute("linkHref");var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeSelectionAttribute(i)}}catch(o){r.e(o)}finally{r.f()}}function Kg(e){return e.model.change((function(e){return e.batch})).isTyping}function Gg(e){return e.getDefinition("$text").allowAttributes.filter((function(e){return e.startsWith("link")}))}var Wg=i(7754);zr()(Wg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Yg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),i=t.call(this,e);var o=e.t;i.focusTracker=new Ir,i.keystrokes=new Br,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),_l,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),yl,"ck-button-cancel","cancel"),i._manualDecoratorSwitches=i._createManualDecoratorSwitches(r),i.children=i._createFormChildren(r.manualDecorators),i._focusables=new Ru,i._focusCycler=new ih({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var a=["ck","ck-link-form","ck-responsive-form"];return r.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),i.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:i.children}),Ql(_assertThisInitialized(i)),i}return _createClass(n,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(e,t){return e[t.name]=t.isOn,e}),{})}},{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),Hl({view:this}),[this.urlInputView].concat(_toConsumableArray(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=this.locale.t,t=new Nh(this.locale,Mh);return t.label=e("Link URL"),t}},{key:"_createButton",value:function(e,t,n,r){var i=new Gl(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}},{key:"_createManualDecoratorSwitches",value:function(e){var t,n=this,r=this.createCollection(),i=_createForOfIteratorHelper(e.manualDecorators);try{var o=function(){var i=t.value,o=new Yl(n.locale);o.set({name:i.id,label:i.label,withText:!0}),o.bind("isOn").toMany([i,e],"value",(function(e,t){return void 0===t&&void 0===e?i.defaultValue:e})),o.on("execute",(function(){i.set("value",!o.isOn)})),r.add(o)};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();if(t.add(this.urlInputView),e.length){var n=new nl;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),n}(nl),Jg=i(2347);zr()(Jg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Xg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n),r=t.call(this,e);var i=e.t;return r.focusTracker=new Ir,r.keystrokes=new Br,r.previewButtonView=r._createPreviewButton(),r.unlinkButtonView=r._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),r.editButtonView=r._createButton(i("Edit link"),Ml,"edit"),r.set("href"),r._focusables=new Ru,r._focusCycler=new ih({focusables:r._focusables,focusTracker:r.focusTracker,keystrokeHandler:r.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[r.previewButtonView,r.editButtonView,r.unlinkButtonView]}),r}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var r=new Gl(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}},{key:"_createPreviewButton",value:function(){var e=new Gl(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(function(e){return e&&Fg(e)})),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(function(e){return e||n("This link has no URL")})),e.bind("isEnabled").to(this,"href",(function(e){return!!e})),e.template.tag="a",e.template.eventListeners={},e}}]),n}(nl),Zg="link-ui",$g=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(xu),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Vh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:Zg,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Zg,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var e=this,t=this.editor,n=new Xg(t.locale),r=t.commands.get("link"),i=t.commands.get("unlink");return n.bind("href").to(r,"value"),n.editButtonView.bind("isEnabled").to(r),n.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(n,"edit",(function(){e._addFormView()})),this.listenTo(n,"unlink",(function(){t.execute("unlink"),e._hideUI()})),n.keystrokes.set("Esc",(function(t,n){e._hideUI(),n()})),n.keystrokes.set(Tg,(function(t,n){e._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),r=t.config.get("link.defaultProtocol"),i=new Yg(t.locale,n);return i.urlInputView.fieldView.bind("value").to(n,"value"),i.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),i.saveButtonView.bind("isEnabled").to(n),this.listenTo(i,"submit",(function(){var n=Pg(i.urlInputView.fieldView.element.value,r);t.execute("link",n,i.getDecoratorSwitchesState()),e._closeFormView()})),this.listenTo(i,"cancel",(function(){e._closeFormView()})),i.keystrokes.set("Esc",(function(t,n){e._closeFormView(),n()})),i}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),r=t.t;t.keystrokes.set(Tg,(function(t,r){r(),n.isEnabled&&e._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var i=new Gl(t);return i.isEnabled=!0,i.label=r("Link"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',i.keystroke=Tg,i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(n,"isEnabled"),i.bind("isOn").to(n,"value",(function(e){return!!e})),e.listenTo(i,"execute",(function(){return e._showUI(!0)})),i}))}},{key:"_enableUserBalloonInteractions",value:function(){var e=this;this.listenTo(this.editor.editing.view.document,"click",(function(){e._getSelectedLinkElement()&&e._showUI()})),this.editor.keystrokes.set("Tab",(function(t,n){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._isUIVisible&&(e._hideUI(),n())})),jl({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}},{key:"_showUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}},{key:"_startUpdatingUI",value:function(){var e=this,t=this.editor,n=t.editing.view.document,r=this._getSelectedLinkElement(),i=a(),o=function(){var t=e._getSelectedLinkElement(),n=a();r&&!t||!r&&n!==i?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),r=t,i=n};function a(){return n.selection.focus.getAncestors().reverse().find((function(e){return e.is("element")}))}this.listenTo(t.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}},{key:"_getBalloonPositionData",value:function(){var e=this,t=this.editor.editing.view,n=t.document,r=null;if(this.editor.model.markers.has(Zg)){var i=Array.from(this.editor.editing.mapper.markerNameToElements(Zg)),o=t.createRange(t.createPositionBefore(i[0]),t.createPositionAfter(i[i.length-1]));r=t.domConverter.viewRangeToDom(o)}else r=function(){var r=e._getSelectedLinkElement();return r?t.domConverter.mapViewToDom(r):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:r}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&Xd(n))return ev(t.getFirstPosition());var r=t.getFirstRange().getTrimmed(),i=ev(r.start),o=ev(r.end);return i&&i==o&&e.createRangeIn(i).getTrimmed().isEqual(r)?i:null}},{key:"_showFakeVisualSelection",value:function(){var e=this.editor.model;e.change((function(t){var n=e.document.selection.getFirstRange();if(e.markers.has(Zg))t.updateMarker(Zg,{range:n});else if(n.start.isAtEnd){var r=n.start.getLastMatchingPosition((function(t){var n=t.item;return!e.schema.isContent(n)}),{boundaries:n});t.addMarker(Zg,{usingOperation:!1,affectsData:!1,range:t.createRange(r,n.end)})}else t.addMarker(Zg,{usingOperation:!1,affectsData:!1,range:n})}))}},{key:"_hideFakeVisualSelection",value:function(){var e=this.editor.model;e.markers.has(Zg)&&e.change((function(e){e.removeMarker(Zg)}))}}],[{key:"requires",get:function(){return[Vh]}},{key:"pluginName",get:function(){return"LinkUI"}}]),n}(Pr);function ev(e){return e.getAncestors().find((function(e){return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))}var tv=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),nv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}},{key:"afterInit",value:function(){this._enableEnterHandling(),this._enableShiftEnterHandling()}},{key:"_enableTypingHandling",value:function(){var e=this,t=this.editor,n=new bd(t.model,(function(e){if(function(e){return e.length>4&&" "===e[e.length-1]&&" "!==e[e.length-2]}(e)){var t=rv(e.substr(0,e.length-1));return t?{url:t}:void 0}}));n.on("matched:data",(function(n,r){var i=r.batch,o=r.range,a=r.url;if(i.isTyping){var s=o.end.getShiftedBy(-1),c=s.getShiftedBy(-a.length),u=t.model.createRange(c,s);e._applyAutoLink(a,u)}})),n.bind("isEnabled").to(this)}},{key:"_enableEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,r=t.commands.get("enter");r&&r.on("execute",(function(){var t=n.document.selection.getFirstPosition();if(t.parent.previousSibling){var r=n.createRangeIn(t.parent.previousSibling);e._checkAndApplyAutoLinkOnRange(r)}}))}},{key:"_enableShiftEnterHandling",value:function(){var e=this,t=this.editor,n=t.model,r=t.commands.get("shiftEnter");r&&r.on("execute",(function(){var t=n.document.selection.getFirstPosition(),r=n.createRange(n.createPositionAt(t.parent,0),t.getShiftedBy(-1));e._checkAndApplyAutoLinkOnRange(r)}))}},{key:"_checkAndApplyAutoLinkOnRange",value:function(e){var t=this.editor.model,n=md(e,t),r=n.text,i=n.range,o=rv(r);if(o){var a=t.createRange(i.end.getShiftedBy(-o.length),i.end);this._applyAutoLink(o,a)}}},{key:"_applyAutoLink",value:function(e,t){var n=this.editor.model,r=Pg(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}(t,n)&&Ng(r)&&!function(e){var t=e.start.nodeAfter;return t&&t.hasAttribute("linkHref")}(t)&&this._persistAutoLink(r,t)}},{key:"_persistAutoLink",value:function(e,t){var n=this.editor.model,r=this.editor.plugins.get("Delete");n.enqueueChange((function(i){i.setAttribute("linkHref",e,t),n.enqueueChange((function(){r.requestUndoOnBackspace()}))}))}}],[{key:"requires",get:function(){return[gd]}},{key:"pluginName",get:function(){return"AutoLink"}}]),n}(Pr);function rv(e){var t=tv.exec(e);return t?t[2]:null}var iv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).type=r,i}return _createClass(n,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=Array.from(n.document.selection.getSelectedBlocks()).filter((function(e){return av(e,n.schema)})),i=void 0!==t.forceValue?!t.forceValue:this.value;n.change((function(t){if(i){for(var n=r[r.length-1].nextSibling,o=Number.POSITIVE_INFINITY,a=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var s=n.getAttribute("listIndent");s<o&&(o=s),a.push({element:n,listIndent:s-o}),n=n.nextSibling}var c,u=_createForOfIteratorHelper(a=a.reverse());try{for(u.s();!(c=u.n()).done;){var l=c.value;t.setAttribute("listIndent",l.listIndent,l.element)}}catch(m){u.e(m)}finally{u.f()}}if(!i){var h,d=Number.POSITIVE_INFINITY,f=_createForOfIteratorHelper(r);try{for(f.s();!(h=f.n()).done;){var A=h.value;A.is("element","listItem")&&A.getAttribute("listIndent")<d&&(d=A.getAttribute("listIndent"))}}catch(m){f.e(m)}finally{f.f()}ov(r,!0,d=0===d?1:d),ov(r,!1,d)}var p,g=_createForOfIteratorHelper(r.reverse());try{for(g.s();!(p=g.n()).done;){var v=p.value;i&&"listItem"==v.name?t.rename(v,"paragraph"):i||"listItem"==v.name?i||"listItem"!=v.name||v.getAttribute("listType")==e.type||t.setAttribute("listType",e.type,v):(t.setAttributes({listType:e.type,listIndent:0},v),t.rename(v,"listItem"))}}catch(m){g.e(m)}finally{g.f()}e.fire("_executeCleanup",r)}))}},{key:"_getValue",value:function(){var e=Er(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=Er(this.editor.model.document.selection.getSelectedBlocks());return!!t&&av(t,e)}}]),n}(Mr);function ov(e,t,n){var r=t?e[0]:e[e.length-1];if(r.is("element","listItem"))for(var i=r[t?"previousSibling":"nextSibling"],o=r.getAttribute("listIndent");i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;)o>i.getAttribute("listIndent")&&(o=i.getAttribute("listIndent")),i.getAttribute("listIndent")==o&&e[t?"unshift":"push"](i),i=i[t?"previousSibling":"nextSibling"]}function av(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}var sv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e))._indentBy="forward"==r?1:-1,i}return _createClass(n,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=Array.from(t.document.selection.getSelectedBlocks());t.change((function(t){for(var r=n[n.length-1],i=r.nextSibling;i&&"listItem"==i.name&&i.getAttribute("listIndent")>r.getAttribute("listIndent");)n.push(i),i=i.nextSibling;e._indentBy<0&&(n=n.reverse());var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.getAttribute("listIndent")+e._indentBy;c<0?t.rename(s,"paragraph"):t.setAttribute("listIndent",c,s)}}catch(u){a.e(u)}finally{a.f()}e.fire("_executeCleanup",n)}))}},{key:"_checkEnabled",value:function(){var e=Er(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),r=e.previousSibling;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=t;){if(r.getAttribute("listIndent")==t)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}]),n}(Mr);function cv(e,t,n,r){var i=t.parent,o=n.mapper,a=n.writer,s=o.toViewPosition(r.createPositionBefore(e)),c=hv(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),u=e.previousSibling;if(c&&c.getAttribute("listIndent")==e.getAttribute("listIndent")){var l=o.toViewElement(c);s=a.breakContainer(a.createPositionAfter(l))}else if(u&&"listItem"==u.name){s=o.toViewPosition(r.createPositionAt(u,"end"));var h=o.findMappedViewAncestor(s),d=function(e){var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if("ul"==r.name||"ol"==r.name)return r}}catch(i){n.e(i)}finally{n.f()}return null}(h);s=d?a.createPositionBefore(d):a.createPositionAt(h,"end")}else s=o.toViewPosition(r.createPositionBefore(e));if(s=lv(s),a.insert(s,i),u&&"listItem"==u.name){var f,A=o.toViewElement(u),p=a.createRange(a.createPositionAt(A,0),s).getWalker({ignoreElementEnd:!0}),g=_createForOfIteratorHelper(p);try{for(g.s();!(f=g.n()).done;){var v=f.value;if(v.item.is("element","li")){var m=a.breakContainer(a.createPositionBefore(v.item)),b=v.item.parent,y=a.createPositionAt(t,"end");uv(a,y.nodeBefore,y.nodeAfter),a.move(a.createRangeOn(b),y),p.position=m}}}catch(E){g.e(E)}finally{g.f()}}else{var w=i.nextSibling;if(w&&(w.is("element","ul")||w.is("element","ol"))){var _,k=null,C=_createForOfIteratorHelper(w.getChildren());try{for(C.s();!(_=C.n()).done;){var S=_.value,x=o.toModelElement(S);if(!(x&&x.getAttribute("listIndent")>e.getAttribute("listIndent")))break;k=S}}catch(E){C.e(E)}finally{C.f()}k&&(a.breakContainer(a.createPositionAfter(k)),a.move(a.createRangeOn(k.parent),a.createPositionAt(t,"end")))}}uv(a,i,i.nextSibling),uv(a,i.previousSibling,i)}function uv(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function lv(e){return e.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))}function hv(e,t){for(var n=!!t.sameIndent,r=!!t.smallerIndent,i=t.listIndent,o=e;o&&"listItem"==o.name;){var a=o.getAttribute("listIndent");if(n&&i==a||r&&i>a)return o;o="forward"===t.direction?o.nextSibling:o.previousSibling}return null}function dv(e,t,n,r){e.ui.componentFactory.add(t,(function(i){var o=e.commands.get(t),a=new Gl(i);return a.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.on("execute",(function(){e.execute(t),e.editing.view.focus()})),a}))}function fv(e,t){var n,r=[],i=e.parent,o={ignoreElementEnd:!1,startPosition:e,shallow:!0,direction:t},a=i.getAttribute("listIndent"),s=_createForOfIteratorHelper(_toConsumableArray(new Va(o)).filter((function(e){return e.item.is("element")})).map((function(e){return e.item})));try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!c.is("element","listItem"))break;if(c.getAttribute("listIndent")<a)break;if(!(c.getAttribute("listIndent")>a)){if(c.getAttribute("listType")!==i.getAttribute("listType"))break;if(c.getAttribute("listStyle")!==i.getAttribute("listStyle"))break;if(c.getAttribute("listReversed")!==i.getAttribute("listReversed"))break;if(c.getAttribute("listStart")!==i.getAttribute("listStart"))break;"backward"===t?r.unshift(c):r.push(c)}}}catch(u){s.e(u)}finally{s.f()}return r}var Av=["disc","circle","square"],pv=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function gv(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:Li.call(this)}var vv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getListTypeFromListStyleType",value:function(e){return function(e){return Av.includes(e)?"bulleted":pv.includes(e)?"numbered":null}(e)}},{key:"getSelectedListItems",value:function(e){return function(e){var t=_toConsumableArray(e.document.selection.getSelectedBlocks()).filter((function(e){return e.is("element","listItem")})).map((function(t){var n=e.change((function(e){return e.createPositionAt(t,0)}));return[].concat(_toConsumableArray(fv(n,"backward")),_toConsumableArray(fv(n,"forward")))})).flat();return t=_toConsumableArray(new Set(t))}(e)}},{key:"getSiblingNodes",value:function(e,t){return fv(e,t)}}],[{key:"pluginName",get:function(){return"ListUtils"}}]),n}(Pr);function mv(e){return function(t,n,r){var i=r.consumable;if(i.test(n.item,"insert")&&i.test(n.item,"attribute:listType")&&i.test(n.item,"attribute:listIndent")){i.consume(n.item,"insert"),i.consume(n.item,"attribute:listType"),i.consume(n.item,"attribute:listIndent");var o=n.item;cv(o,function(e,t){var n=t.mapper,r=t.writer,i="numbered"==e.getAttribute("listType")?"ol":"ul",o=function(e){var t=e.createContainerElement("li");return t.getFillerOffset=gv,t}(r),a=r.createContainerElement(i,null);return r.insert(r.createPositionAt(a,0),o),n.bindElements(e,o),o}(o,r),r,e)}}}function bv(e,t,n){if(n.consumable.test(t.item,e.name)){var r=n.mapper.toViewElement(t.item),i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r)),i.rename("numbered"==t.attributeNewValue?"ol":"ul",r.parent)}}function yv(e,t,n){n.consumable.consume(t.item,e.name);var r=n.mapper.toViewElement(t.item).parent,i=n.writer;uv(i,r,r.nextSibling),uv(i,r.previousSibling,r)}function wv(e,t,n){if(n.consumable.test(t.item,e.name)&&"listItem"!=t.item.name){for(var r=n.mapper.toViewPosition(t.range.start),i=n.writer,o=[];("ul"==r.parent.name||"ol"==r.parent.name)&&"li"==(r=i.breakContainer(r)).parent.name;){var a=r,s=i.createPositionAt(r.parent,"end");if(!a.isEqual(s)){var c=i.remove(i.createRange(a,s));o.push(c)}r=i.createPositionAfter(r.parent)}if(o.length>0){for(var u=0;u<o.length;u++){var l=r.nodeBefore;if(r=i.insert(r,o[u]).end,u>0){var h=uv(i,l,l.nextSibling);h&&h.parent==l&&r.offset--}}uv(i,r.nodeBefore,r.nodeAfter)}}}function _v(e,t,n){var r=n.mapper.toViewPosition(t.position);uv(n.writer,r.nodeBefore,r.nodeAfter)}function kv(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var r=n.writer,i=r.createElement("listItem"),o=function(e){for(var t=0,n=e.parent;n;){if(n.is("element","li"))t++;else{var r=n.previousSibling;r&&r.is("element","li")&&t++}n=n.parent}return t}(t.viewItem);if(r.setAttribute("listIndent",o,i),r.setAttribute("listType",t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted",i),!n.safeInsert(i,t.modelCursor))return;var a=function(e,t,n){var r,i=n.writer,o=n.schema,a=i.createPositionAfter(e),s=_createForOfIteratorHelper(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;if("ul"==c.name||"ol"==c.name)a=n.convertItem(c,a).modelCursor;else{var u=n.convertItem(c,i.createPositionAt(e,"end")),l=u.modelRange.start.nodeAfter;l&&l.is("element")&&!o.checkChild(e,l.name)&&(e=u.modelCursor.parent.is("element","listItem")?u.modelCursor.parent:Iv(u.modelCursor),a=i.createPositionAfter(e))}}}catch(h){s.e(h)}finally{s.f()}return a}(i,t.viewItem.getChildren(),n);t.modelRange=r.createRange(t.modelCursor,a),n.updateConversionResult(i,t)}}function Cv(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var r=0,i=Array.from(t.viewItem.getChildren());r<i.length;r++){var o=i[r];!o.is("element","li")&&!Dv(o)&&o._remove()}}function Sv(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var r,i=!1,o=_createForOfIteratorHelper(_toConsumableArray(t.viewItem.getChildren()));try{for(o.s();!(r=o.n()).done;){var a=r.value;i&&!Dv(a)&&a._remove(),Dv(a)&&(i=!0)}}catch(s){o.e(s)}finally{o.f()}}}function xv(e){return function(t,n){if(!n.isPhantom){var r=n.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){var i,o=n.mapper.toViewElement(r),a=o.getAncestors().find(Dv),s=_createForOfIteratorHelper(e.createPositionAt(o,0).getWalker());try{for(s.s();!(i=s.n()).done;){var c=i.value;if("elementStart"==c.type&&c.item.is("element","li")){n.viewPosition=c.previousPosition;break}if("elementEnd"==c.type&&c.item==a){n.viewPosition=c.nextPosition;break}}}catch(u){s.e(u)}finally{s.f()}}}}}function Ev(e,t){var n,r=_slicedToArray(t,3),i=r[0],o=r[1],a=r[2],s=i.is("documentFragment")?i.getChild(0):i;if(n=o?this.createSelection(o,a):this.document.selection,s&&s.is("element","listItem")){var c=n.getFirstPosition(),u=null;if(c.parent.is("element","listItem")?u=c.parent:c.nodeBefore&&c.nodeBefore.is("element","listItem")&&(u=c.nodeBefore),u){var l=u.getAttribute("listIndent");if(l>0)for(;s&&s.is("element","listItem");)s._setAttribute("listIndent",s.getAttribute("listIndent")+l),s=s.nextSibling}}}function Iv(e){var t,n=new Va({startPosition:e});do{t=n.next()}while(!t.value.item.is("element","listItem"));return t.value.item}function Bv(e,t,n,r,i,o){var a,s=hv(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),c=i.mapper,u=i.writer,l=s?s.getAttribute("listIndent"):null;if(s)if(l==e){var h=c.toViewElement(s).parent;a=u.createPositionAfter(h)}else{var d=o.createPositionAt(s,"end");a=c.toViewPosition(d)}else a=n;a=lv(a);for(var f=0,A=_toConsumableArray(r.getChildren());f<A.length;f++){var p=A[f];Dv(p)&&(a=u.move(u.createRangeOn(p),a).end,uv(u,p,p.nextSibling),uv(u,p.previousSibling,p))}}function Dv(e){return e.is("element","ol")||e.is("element","ul")}var Tv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n,r=t.data,i=t.editing;t.model.document.registerPostFixer((function(e){return function(e,t){var n,r=e.document.differ.getChanges(),i=new Map,o=!1,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("insert"==s.type&&"listItem"==s.name)A(s.position);else if("insert"==s.type&&"listItem"!=s.name){if("$text"!=s.name){var c=s.position.nodeAfter;c.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",c),o=!0),c.hasAttribute("listType")&&(t.removeAttribute("listType",c),o=!0),c.hasAttribute("listStyle")&&(t.removeAttribute("listStyle",c),o=!0),c.hasAttribute("listReversed")&&(t.removeAttribute("listReversed",c),o=!0),c.hasAttribute("listStart")&&(t.removeAttribute("listStart",c),o=!0);var u,l=_createForOfIteratorHelper(Array.from(e.createRangeIn(c)).filter((function(e){return e.item.is("element","listItem")})));try{for(l.s();!(u=l.n()).done;){A(u.value.previousPosition)}}catch(v){l.e(v)}finally{l.f()}}A(s.position.getShiftedBy(s.length))}else"remove"==s.type&&"listItem"==s.name?A(s.position):("attribute"==s.type&&"listIndent"==s.attributeKey||"attribute"==s.type&&"listType"==s.attributeKey)&&A(s.range.start)}}catch(v){a.e(v)}finally{a.f()}var h,d=_createForOfIteratorHelper(i.values());try{for(d.s();!(h=d.n()).done;){var f=h.value;p(f),g(f)}}catch(v){d.e(v)}finally{d.f()}return o;function A(e){var t=e.nodeBefore;if(t&&t.is("element","listItem")){var n=t;if(i.has(n))return;for(var r=n.previousSibling;r&&r.is("element","listItem");r=n.previousSibling)if(n=r,i.has(n))return;i.set(t,n)}else{var o=e.nodeAfter;o&&o.is("element","listItem")&&i.set(o,o)}}function p(e){for(var n=0,r=null;e&&e.is("element","listItem");){var i=e.getAttribute("listIndent");if(i>n){var a=void 0;null===r?(r=i-n,a=n):(r>i&&(r=i),a=i-r),t.setAttribute("listIndent",a,e),o=!0}else r=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function g(e){for(var n=[],r=null;e&&e.is("element","listItem");){var i=e.getAttribute("listIndent");if(r&&r.getAttribute("listIndent")>i&&(n=n.slice(0,i+1)),0!=i)if(n[i]){var a=n[i];e.getAttribute("listType")!=a&&(t.setAttribute("listType",a,e),o=!0)}else n[i]=e.getAttribute("listType");r=e,e=e.nextSibling}}}(t.model,e)})),i.mapper.registerViewToModelLength("li",Ov),r.mapper.registerViewToModelLength("li",Ov),i.mapper.on("modelToViewPosition",xv(i.view)),i.mapper.on("viewToModelPosition",(n=t.model,function(e,t){var r=t.viewPosition,i=r.parent,o=t.mapper;if("ul"==i.name||"ol"==i.name){if(r.isAtEnd){var a=o.toModelElement(r.nodeBefore),s=o.getModelLength(r.nodeBefore);t.modelPosition=n.createPositionBefore(a).getShiftedBy(s)}else{var c=o.toModelElement(r.nodeAfter);t.modelPosition=n.createPositionBefore(c)}e.stop()}else if("li"==i.name&&r.nodeBefore&&("ul"==r.nodeBefore.name||"ol"==r.nodeBefore.name)){for(var u=o.toModelElement(i),l=1,h=r.nodeBefore;h&&Dv(h);)l+=o.getModelLength(h),h=h.previousSibling;t.modelPosition=n.createPositionBefore(u).getShiftedBy(l),e.stop()}})),r.mapper.on("modelToViewPosition",xv(i.view)),t.conversion.for("editingDowncast").add((function(e){e.on("insert",wv,{priority:"high"}),e.on("insert:listItem",mv(t.model)),e.on("attribute:listType:listItem",bv,{priority:"high"}),e.on("attribute:listType:listItem",yv,{priority:"low"}),e.on("attribute:listIndent:listItem",function(e){return function(t,n,r){if(r.consumable.consume(n.item,"attribute:listIndent")){var i=r.mapper.toViewElement(n.item),o=r.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));var a=i.parent,s=a.previousSibling,c=o.createRangeOn(a);o.remove(c),s&&s.nextSibling&&uv(o,s,s.nextSibling),Bv(n.attributeOldValue+1,n.range.start,c.start,i,r,e),cv(n.item,i,r,e);var u,l=_createForOfIteratorHelper(n.item.getChildren());try{for(l.s();!(u=l.n()).done;){var h=u.value;r.consumable.consume(h,"insert")}}catch(d){l.e(d)}finally{l.f()}}}}(t.model)),e.on("remove:listItem",function(e){return function(t,n,r){var i=r.mapper.toViewPosition(n.position).getLastMatchingPosition((function(e){return!e.item.is("element","li")})).nodeAfter,o=r.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));var a=i.parent,s=a.previousSibling,c=o.createRangeOn(a),u=o.remove(c);s&&s.nextSibling&&uv(o,s,s.nextSibling),Bv(r.mapper.toModelElement(i).getAttribute("listIndent")+1,n.position,c.start,i,r,e);var l,h=_createForOfIteratorHelper(o.createRangeIn(u).getItems());try{for(h.s();!(l=h.n()).done;){var d=l.value;r.mapper.unbindViewElement(d)}}catch(f){h.e(f)}finally{h.f()}t.stop()}}(t.model)),e.on("remove",_v,{priority:"low"})})),t.conversion.for("dataDowncast").add((function(e){e.on("insert",wv,{priority:"high"}),e.on("insert:listItem",mv(t.model))})),t.conversion.for("upcast").add((function(e){e.on("element:ul",Cv,{priority:"high"}),e.on("element:ol",Cv,{priority:"high"}),e.on("element:li",Sv,{priority:"high"}),e.on("element:li",kv)})),t.model.on("insertContent",Ev,{priority:"high"}),t.commands.add("numberedList",new iv(t,"numbered")),t.commands.add("bulletedList",new iv(t,"bulleted")),t.commands.add("indentList",new sv(t,"forward")),t.commands.add("outdentList",new sv(t,"backward"));var o=i.view.document;this.listenTo(o,"enter",(function(t,n){var r=e.editor.model.document,i=r.selection.getLastPosition().parent;r.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(e.editor.execute("outdentList"),n.preventDefault(),t.stop())}),{context:"li"}),this.listenTo(o,"delete",(function(t,n){if("backward"===n.direction){var r=e.editor.model.document.selection;if(r.isCollapsed){var i=r.getFirstPosition();if(i.isAtStart){var o=i.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(e.editor.execute("outdentList"),n.preventDefault(),t.stop()))}}}}),{context:"li"}),this.listenTo(t.editing.view.document,"tab",(function(n,r){var i=r.shiftKey?"outdentList":"indentList";e.editor.commands.get(i).isEnabled&&(t.execute(i),r.stopPropagation(),r.preventDefault(),n.stop())}),{context:"li"})}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[Qd,gd,vv]}}]),n}(Pr);function Ov(e){var t,n=1,r=_createForOfIteratorHelper(e.getChildren());try{for(r.s();!(t=r.n()).done;){var i=t.value;if("ul"==i.name||"ol"==i.name){var o,a=_createForOfIteratorHelper(i.getChildren());try{for(a.s();!(o=a.n()).done;){n+=Ov(o.value)}}catch(s){a.e(s)}finally{a.f()}}}}catch(s){r.e(s)}finally{r.f()}return n}var Fv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor.t;dv(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),dv(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}],[{key:"pluginName",get:function(){return"ListUI"}}]),n}(Pr);function Rv(e,t){return function(e){e.on("attribute:url:media",n)};function n(n,r,i){if(i.consumable.consume(r.item,n.name)){var o=r.attributeNewValue,a=i.writer,s=i.mapper.toViewElement(r.item),c=_toConsumableArray(s.getChildren()).find((function(e){return e.getCustomProperty("media-content")}));a.remove(c);var u=e.getMediaViewElement(a,o,t);a.insert(a.createPositionAt(s,0),u)}}}function Pv(e,t,n,r){return e.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(e,n,r),e.createSlot()])}function Nv(e){var t=e.getSelectedElement();return t&&t.is("element","media")?t:null}function Mv(e,t,n,r){e.change((function(i){var o=i.createElement("media",{url:t});e.insertObject(o,n,null,{setSelection:"on",findOptimalPosition:r})}))}var Lv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=Nv(t);this.value=n?n.getAttribute("url"):null,this.isEnabled=function(e){var t=e.getSelectedElement();return!!t&&"media"===t.name}(t)||function(e,t){var n=rf(e,t).start.parent;return n.isEmpty&&!t.schema.isLimit(n)&&(n=n.parent),t.schema.checkChild(n,"media")}(t,e)}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection,r=Nv(n);r?t.change((function(t){t.setAttribute("url",e,r)})):Mv(t,e,n,!0)}}]),n}(Mr),Uv=function(){function e(t,n){_classCallCheck(this,e);var r=n.providers,i=n.extraProviders||[],o=new Set(n.removeProviders),a=r.concat(i).filter((function(e){var t=e.name;return t?!o.has(t):(S("media-embed-no-provider-name",{provider:e}),!1)}));this.locale=t,this.providerDefinitions=a}return _createClass(e,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,t,n){return this._getMedia(t).getViewElement(e,n)}},{key:"_getMedia",value:function(e){if(!e)return new jv(this.locale);e=e.trim();var t,n=_createForOfIteratorHelper(this.providerDefinitions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=i.html,a=_createForOfIteratorHelper(_r(i.url));try{for(a.s();!(r=a.n()).done;){var s=r.value,c=this._getUrlMatches(e,s);if(c)return new jv(this.locale,e,c,o)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){n.e(u)}finally{n.f()}return null}},{key:"_getUrlMatches",value:function(e,t){var n=e.match(t);if(n)return n;var r=e.replace(/^https?:\/\//,"");return(n=r.match(t))||((n=(r=r.replace(/^www\./,"")).match(t))||null)}}]),e}(),jv=function(){function e(t,n,r,i){_classCallCheck(this,e),this.url=this._getValidUrl(n),this._locale=t,this._match=r,this._previewRenderer=i}return _createClass(e,[{key:"getViewElement",value:function(e,t){var n,r={};if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(r["data-oembed-url"]=this.url),t.renderForEditingView&&(r.class="ck-media__wrapper");var i=this._getPreviewHtml(t);n=e.createRawElement("div",r,(function(e,t){t.setContentOf(e,i)}))}else this.url&&(r.url=this.url),n=e.createEmptyElement(t.elementName,r);return e.setCustomProperty("media-content",!0,n),n}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new ql,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Pu({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),e}(),Qv=i(7442);zr()(Qv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Hv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:function(e){var t=e[2];return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(e[1]).concat(t?"?start=".concat(t):"",'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(e[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),r.registry=new Uv(e.locale,e.config.get("mediaEmbed")),r}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,r=e.conversion,i=e.config.get("mediaEmbed.previewsInData"),o=e.config.get("mediaEmbed.elementName"),a=this.registry;e.commands.add("mediaEmbed",new Lv(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),r.for("dataDowncast").elementToStructure({model:"media",view:function(e,t){var n=t.writer,r=e.getAttribute("url");return Pv(n,a,r,{elementName:o,renderMediaPreview:r&&i})}}),r.for("dataDowncast").add(Rv(a,{elementName:o,renderMediaPreview:i})),r.for("editingDowncast").elementToStructure({model:"media",view:function(e,t){var r=t.writer,i=e.getAttribute("url");return function(e,t,n){return t.setCustomProperty("media",!0,e),Zd(e,t,{label:n})}(Pv(r,a,i,{elementName:o,renderForEditingView:!0}),r,n("media widget"))}}),r.for("editingDowncast").add(Rv(a,{elementName:o,renderForEditingView:!0})),r.for("upcast").elementToElement({view:function(e){return["oembed",o].includes(e.name)&&e.getAttribute("url")?{name:!0}:null},model:function(e,t){var n=t.writer,r=e.getAttribute("url");if(a.hasMedia(r))return n.createElement("media",{url:r})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(e,t){var n=t.writer,r=e.getAttribute("data-oembed-url");if(a.hasMedia(r))return n.createElement("media",{url:r})}}).add((function(e){e.on("element:figure",(function(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0,classes:"media"})){var r=n.convertChildren(t.viewItem,t.modelCursor),i=r.modelRange,o=r.modelCursor;t.modelRange=i,t.modelCursor=o,Er(i.getItems())||n.consumable.revert(t.viewItem,{name:!0,classes:"media"})}}))}))}}],[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),n}(Pr),Vv=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/,zv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._timeoutId=null,r._positionToInsert=null,r}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document;this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(function(){var t=n.selection.getFirstRange(),r=Vc.fromPosition(t.start);r.stickiness="toPrevious";var i=Vc.fromPosition(t.end);i.stickiness="toNext",n.once("change:data",(function(){e._embedMediaBetweenPositions(r,i),r.detach(),i.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(function(){e._timeoutId&&(Un.window.clearTimeout(e._timeoutId),e._positionToInsert.detach(),e._timeoutId=null,e._positionToInsert=null)}),{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(e,t){var n,r=this,i=this.editor,o=i.plugins.get(Hv).registry,a=new us(e,t),s=a.getWalker({ignoreElementEnd:!0}),c="",u=_createForOfIteratorHelper(s);try{for(u.s();!(n=u.n()).done;){var l=n.value;l.item.is("$textProxy")&&(c+=l.item.data)}}catch(h){u.e(h)}finally{u.f()}(c=c.trim()).match(Vv)&&o.hasMedia(c)&&i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Vc.fromPosition(e),this._timeoutId=Un.window.setTimeout((function(){i.model.change((function(e){var t;r._timeoutId=null,e.remove(a),a.detach(),"$graveyard"!==r._positionToInsert.root.rootName&&(t=r._positionToInsert),Mv(i.model,c,t,!1),r._positionToInsert.detach(),r._positionToInsert=null})),i.plugins.get("Delete").requestUndoOnBackspace()}),100)):a.detach()}}],[{key:"requires",get:function(){return[Df,gd,Kf]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),n}(Pr),qv=i(9292);zr()(qv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Kv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),i=t.call(this,r);var o=r.t;return i.focusTracker=new Ir,i.keystrokes=new Br,i.set("mediaURLInputValue",""),i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),_l,"ck-button-save"),i.saveButtonView.type="submit",i.saveButtonView.bind("isEnabled").to(_assertThisInitialized(i),"mediaURLInputValue",(function(e){return!!e})),i.cancelButtonView=i._createButton(o("Cancel"),yl,"ck-button-cancel","cancel"),i._focusables=new Ru,i._focusCycler=new ih({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i._validators=e,i.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[i.urlInputView,i.saveButtonView,i.cancelButtonView]}),Ql(_assertThisInitialized(i)),i}return _createClass(n,[{key:"render",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"render",this).call(this),Hl({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);var t=function(e){return e.stopPropagation()};this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(function(e,t){t.stopPropagation()}),{priority:"high"})}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.focusTracker.destroy(),this.keystrokes.destroy()}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(e){this.urlInputView.fieldView.element.value=e.trim()}},{key:"isValid",value:function(){this.resetFormStatus();var e,t=_createForOfIteratorHelper(this._validators);try{for(t.s();!(e=t.n()).done;){var n=(0,e.value)(this);if(n)return this.urlInputView.errorText=n,!1}}catch(r){t.e(r)}finally{t.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var e=this,t=this.locale.t,n=new Nh(this.locale,Mh),r=n.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),n.label=t("Media URL"),n.infoText=this._urlInputViewInfoDefault,r.on("input",(function(){n.infoText=r.element.value?e._urlInputViewInfoTip:e._urlInputViewInfoDefault,e.mediaURLInputValue=r.element.value.trim()})),n}},{key:"_createButton",value:function(e,t,n,r){var i=new Gl(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}}]),n}(nl),Gv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.commands.get("mediaEmbed"),r=t.plugins.get(Hv).registry;t.ui.componentFactory.add("mediaEmbed",(function(i){var o=_h(i),a=new Kv(function(e,t){return[function(t){if(!t.url.length)return e("The URL must not be empty.")},function(n){if(!t.hasMedia(n.url))return e("This media URL is not supported.")}]}(t.t,r),t.locale);return e._setUpDropdown(o,a,n,t),e._setUpForm(o,a,n),o}))}},{key:"_setUpDropdown",value:function(e,t,n){var r=this.editor,i=r.t,o=e.buttonView;e.bind("isEnabled").to(n),e.panelView.children.add(t),o.set({label:i("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),o.on("open",(function(){t.disableCssTransitions(),t.url=n.value||"",t.urlInputView.fieldView.select(),t.enableCssTransitions()}),{priority:"low"}),e.on("submit",(function(){t.isValid()&&(r.execute("mediaEmbed",t.url),r.editing.view.focus())})),e.on("change:isOpen",(function(){return t.resetFormStatus()})),e.on("cancel",(function(){r.editing.view.focus()}))}},{key:"_setUpForm",value:function(e,t,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e}))}}],[{key:"requires",get:function(){return[Hv]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),n}(Pr),Wv=i(4652);function Yv(e,t,n,r){var i=r.blockElements,o=r.inlineObjectElements,a=n.createPositionAt(e,"forward"==t?"after":"before");return a=a.getLastMatchingPosition((function(e){var t=e.item;return t.is("element")&&!i.includes(t.name)&&!o.includes(t.name)}),{direction:t}),"forward"==t?a.nodeAfter:a.nodeBefore}function Jv(e,t){return!!e&&e.is("element")&&t.includes(e.name)}function Xv(e){if(e.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(e){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}}function Zv(e,t,n){var r=t.parent,i=n.createElement(e.type),o=r.getChildIndex(t)+1;return n.insertChild(o,i,r),e.style&&n.setStyle("list-style-type",e.style,i),e.startIndex&&e.startIndex>1&&n.setAttribute("start",e.startIndex,i),i}function $v(e){var t={},n=e.getStyle("mso-list");if(n){var r=n.match(/(^|\s{1,100})l(\d+)/i),i=n.match(/\s{0,100}lfo(\d+)/i),o=n.match(/\s{0,100}level(\d+)/i);r&&i&&o&&(t.id=r[2],t.order=i[1],t.indent=o[1])}return t}zr()(Wv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var em=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,tm=function(){function e(t){_classCallCheck(this,e),this.document=t}return _createClass(e,[{key:"isActive",value:function(e){return em.test(e)}},{key:"execute",value:function(e){var t=new Iu(this.document),n=e._parsedData.body;!function(e,t){var n,r=_createForOfIteratorHelper(e.getChildren());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is("element","b")&&"normal"===i.getStyle("font-weight")){var o=e.getChildIndex(i);t.remove(i),t.insertChild(o,i.getChildren(),e)}}}catch(a){r.e(a)}finally{r.f()}}(n,t),function(e,t){var n,r=_createForOfIteratorHelper(t.createRangeIn(e));try{for(r.s();!(n=r.n()).done;){var i=n.value.item;if(i.is("element","li")){var o=i.getChild(0);o&&o.is("element","p")&&t.unwrapElement(o)}}}catch(a){r.e(a)}finally{r.f()}}(n,t),function(e,t){var n,r=new no(t.document.stylesProcessor),i=new zo(r,{renderingMode:"data"}),o=i.blockElements,a=i.inlineObjectElements,s=[],c=_createForOfIteratorHelper(t.createRangeIn(e));try{for(c.s();!(n=c.n()).done;){var u=n.value.item;if(u.is("element","br")){var l=Yv(u,"forward",t,{blockElements:o,inlineObjectElements:a}),h=Yv(u,"backward",t,{blockElements:o,inlineObjectElements:a}),d=Jv(l,o);(Jv(h,o)||d)&&s.push(u)}}}catch(g){c.e(g)}finally{c.f()}for(var f=0,A=s;f<A.length;f++){var p=A[f];p.hasClass("Apple-interchange-newline")?t.remove(p):t.replace(p,t.createElement("p"))}}(n,t),e.content=n}}]),e}();function nm(e){return btoa(e.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}var rm=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,im=/xmlns:o="urn:schemas-microsoft-com/i,om=function(){function e(t){_classCallCheck(this,e),this.document=t}return _createClass(e,[{key:"isActive",value:function(e){return rm.test(e)||im.test(e)}},{key:"execute",value:function(e){var t=e._parsedData,n=t.body;(function(e,t){if(e.childCount){var n=new Iu(e.document),r=function(e,t){var n,r=t.createRangeIn(e),i=new ni({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("elementStart"===s.type&&i.match(s.item)){var c=$v(s.item);o.push({element:s.item,id:c.id,order:c.order,indent:c.indent})}}}catch(u){a.e(u)}finally{a.f()}return o}(e,n);if(r.length){var i=null,o=1;r.forEach((function(e,a){var s,c,u=function(e,t){if(!e)return!0;if(e.id!==t.id)return t.indent-e.indent!=1;var n,r=t.element.previousSibling;return!r||!((n=r).is("element","ol")||n.is("element","ul"))}(r[a-1],e),l=(c=e,(s=u?null:r[a-1])?c.indent-s.indent:c.indent-1);if(u&&(i=null,o=1),!i||0!==l){var h=function(e,t){var n=new RegExp("@list l".concat(e.id,":level").concat(e.indent,"\\s*({[^}]*)"),"gi").exec(t),r="decimal",i="ol",o=null;if(n&&n[1]){var a=/mso-level-number-format:([^;]{0,100});/gi.exec(n[1]);if(a&&a[1]&&(i="bullet"!==(r=a[1].trim())&&"image"!==r?"ol":"ul"),"bullet"===r){var s=function(e){var t=function(e){if(e.getChild(0).is("$text"))return null;var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.is("element","span")){var i=r.getChild(0);return i.is("$text")?i:i.getChild(0)}}}catch(o){n.e(o)}finally{n.f()}}(e);if(!t)return null;var n=t._data;return"o"===n?"circle":"\xb7"===n?"disc":"\xa7"===n?"square":null}(e.element);s&&(r=s)}else{var c=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi.exec(n[1]);c&&c[1]&&(o=parseInt(c[1]))}}return{type:i,startIndex:o,style:Xv(r)}}(e,t);if(i)if(e.indent>o){var d=i.getChild(i.childCount-1),f=d.getChild(d.childCount-1);i=Zv(h,f,n),o+=1}else e.indent<o&&(i=function(e,t){var n,r=null,i=0,o=_createForOfIteratorHelper(e.getAncestors({parentFirst:!0}));try{for(o.s();!(n=o.n()).done;){var a=n.value;if("ul"!==a.name&&"ol"!==a.name||i++,i===t){r=a;break}}}catch(s){o.e(s)}finally{o.f()}return r}(i,o-e.indent),o=parseInt(e.indent));else i=Zv(h,e.element,n);e.indent<=o&&(i.is("element",h.type)||(i=n.rename(h.type,i)))}var A=function(e,t){return function(e,t){var n,r=new ni({name:"span",styles:{"mso-list":"Ignore"}}),i=_createForOfIteratorHelper(t.createRangeIn(e));try{for(i.s();!(n=i.n()).done;){var o=n.value;"elementStart"===o.type&&r.match(o.item)&&t.remove(o.item)}}catch(a){i.e(a)}finally{i.f()}}(e,t),t.rename("li",e)}(e.element,n);n.appendChild(A,i)}))}}})(n,t.stylesString),function(e,t){if(e.childCount){var n=new Iu;!function(e,t,n){var r,i=n.createRangeIn(t),o=new ni({name:"img"}),a=[],s=_createForOfIteratorHelper(i);try{for(s.s();!(r=s.n()).done;){var c=r.value;if(o.match(c.item)){var u=c.item,l=u.getAttribute("v:shapes")?u.getAttribute("v:shapes").split(" "):[];l.length&&l.every((function(t){return e.indexOf(t)>-1}))?a.push(u):u.getAttribute("src")||a.push(u)}}}catch(A){s.e(A)}finally{s.f()}for(var h=0,d=a;h<d.length;h++){var f=d[h];n.remove(f)}}(function(e,t){var n,r=t.createRangeIn(e),i=new ni({name:/v:(.+)/}),o=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if("elementStart"==s.type){var c=s.item,u=c.previousSibling&&c.previousSibling.name||null;i.match(c)&&c.getAttribute("o:gfxdata")&&"v:shapetype"!==u&&o.push(s.item.getAttribute("id"))}}}catch(l){a.e(l)}finally{a.f()}return o}(e,n),e,n),function(e,t){var n,r=t.createRangeIn(e),i=new ni({name:/v:(.+)/}),o=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;"elementStart"==s.type&&i.match(s.item)&&o.push(s.item)}}catch(h){a.e(h)}finally{a.f()}for(var c=0,u=o;c<u.length;c++){var l=u[c];t.remove(l)}}(e,n);var r=function(e,t){var n,r=t.createRangeIn(e),i=new ni({name:"img"}),o=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;i.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&o.push(s.item)}}catch(c){a.e(c)}finally{a.f()}return o}(e,n);r.length&&function(e,t,n){if(e.length===t.length)for(var r=0;r<e.length;r++){var i="data:".concat(t[r].type,";base64,").concat(nm(t[r].hex));n.setAttribute("src",i,e[r])}}(r,function(e){if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),r=e.match(n),i=[];if(r){var o,a=_createForOfIteratorHelper(r);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=!1;s.includes("\\pngblip")?c="image/png":s.includes("\\jpegblip")&&(c="image/jpeg"),c&&i.push({hex:s.replace(t,"").replace(/[^\da-fA-F]/g,""),type:c})}}catch(u){a.e(u)}finally{a.f()}}return i}(t),n)}}(n,e.dataTransfer.getData("text/rtf")),e.content=n}}]),e}();function am(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)}))}function sm(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t>i?r.setAttribute(e,t,n):r.removeAttribute(e,n)}function cm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.createElement("tableCell",n);return e.insertElement("paragraph",r),e.insert(r,t),r}function um(e,t){var n=parseInt(t.parent.parent.getAttribute("headingColumns")||0),r=e.getCellLocation(t).column;return!!n&&r<n}function lm(e){return function(t){t.on("element:".concat(e),(function(e,t,n){if(t.modelRange&&t.viewItem.isEmpty){var r=n.writer.createPositionAt(t.modelRange.start.nodeAfter,0);n.writer.insertElement("paragraph",r)}}),{priority:"low"})}}function hm(e){for(var t=0,n=0,r=Array.from(e.getChildren()).filter((function(e){return"th"===e.name||"td"===e.name}));n<r.length&&"th"===r[n].name;)t+=parseInt(r[n].getAttribute("colspan")||1),n++;return t}var dm=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this._table=e,this._startRow=void 0!==n.row?n.row:n.startRow||0,this._endRow=void 0!==n.row?n.row:n.endRow,this._startColumn=void 0!==n.column?n.column:n.startColumn||0,this._endColumn=void 0!==n.column?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return _createClass(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();var t=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{var r=e.getChild(this._cellIndex);if(!r)return this._advanceToNextRow();var i=parseInt(r.getAttribute("colspan")||1),o=parseInt(r.getAttribute("rowspan")||1);(i>1||o>1)&&this._recordSpans(r,o,i),this._shouldSkipSlot()||(t=this._formatOutValue(r)),this._nextCellAtColumn=this._column+i}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new fm(this,e,t,n)}}},{key:"_shouldSkipSlot",value:function(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_getSpanned",value:function(){var e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}},{key:"_recordSpans",value:function(e,t,n){for(var r={cell:e,row:this._row,column:this._column},i=this._row;i<this._row+t;i++)for(var o=this._column;o<this._column+n;o++)i==this._row&&o==this._column||this._markSpannedCell(i,o,r)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]),t}(),fm=function(){function e(t,n,r,i){_classCallCheck(this,e),this.cell=n,this.row=t._row,this.column=t._column,this.cellAnchorRow=r,this.cellAnchorColumn=i,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}return _createClass(e,[{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}},{key:"rowIndex",get:function(){return this._rowIndex}},{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}]),e}();function Am(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var i=r.writer,o=n.getAttribute("headingRows")||0,a=[];o>0&&a.push(i.createContainerElement("thead",null,i.createSlot((function(e){return e.is("element","tableRow")&&e.index<o})))),o<e.getRows(n)&&a.push(i.createContainerElement("tbody",null,i.createSlot((function(e){return e.is("element","tableRow")&&e.index>=o}))));var s=i.createContainerElement("figure",{class:"table"},[i.createContainerElement("table",null,a),i.createSlot((function(e){return!e.is("element","tableRow")}))]);return t.asWidget?function(e,t){return t.setCustomProperty("table",!0,e),Zd(e,t,{hasSelectionHandle:!0})}(s,i):s}}function pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r,i=n.writer,o=t.parent,a=o.parent,s=a.getChildIndex(o),c=new dm(a,{row:s}),u=a.getAttribute("headingRows")||0,l=a.getAttribute("headingColumns")||0,h=_createForOfIteratorHelper(c);try{for(h.s();!(r=h.n()).done;){var d=r.value;if(d.cell==t){var f=d.row<u||d.column<l?"th":"td";return e.asWidget?nf(i.createEditableElement(f),i):i.createContainerElement(f)}}}catch(A){h.e(A)}finally{h.f()}}}function gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n.writer,i=n.consumable,o=n.mapper;if(t.parent.is("element","tableCell")&&vm(t))return e.asWidget?r.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(i.consume(t,"insert"),void o.bindElements(t,o.toViewElement(t.parent)))}}function vm(e){return 1==e.parent.childCount&&!_toConsumableArray(e.getAttributeKeys()).length}var mm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=function(e,t){var n=e.getFirstPosition().parent;return t.checkChild(n===n.root?n:n.parent,"table")}(e.document.selection,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=this.editor.plugins.get("TableUtils"),r=this.editor.config.get("table"),i=r.defaultHeadings.rows,o=r.defaultHeadings.columns;void 0===e.headingRows&&i&&(e.headingRows=i),void 0===e.headingColumns&&o&&(e.headingColumns=o),t.change((function(r){var i=n.createTable(r,e);t.insertObject(i,null,null,{findOptimalPosition:"auto"}),r.setSelection(r.createPositionAt(i.getNodeByPath([0,0,0]),0))}))}}]),n}(Mr),bm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(r=t.call(this,e)).order=i.order||"below",r}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="above"===this.order,i=n.getSelectionAffectedTableCells(t),o=n.getRowIndexes(i),a=r?o.first:o.last,s=i[0].findAncestor("table");n.insertRows(s,{at:r?a:a+1,copyStructureFromAbove:!r})}}]),n}(Mr),ym=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(r=t.call(this,e)).order=i.order||"right",r}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="left"===this.order,i=n.getSelectionAffectedTableCells(t),o=n.getColumnIndexes(i),a=r?o.first:o.last,s=i[0].findAncestor("table");n.insertColumns(s,{columns:1,at:r?a:a+1})}}]),n}(Mr),wm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(r=t.call(this,e)).direction=i.direction||"horizontally",r}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}]),n}(Mr);function _m(e,t,n){for(var r=t.startRow,i=t.startColumn,o=t.endRow,a=t.endColumn,s=n.createElement("table"),c=o-r+1,u=0;u<c;u++)n.insertElement("tableRow",s,"end");var l,h=_createForOfIteratorHelper(_toConsumableArray(new dm(e,{startRow:r,endRow:o,startColumn:i,endColumn:a,includeAllSlots:!0})));try{for(h.s();!(l=h.n()).done;){var d=l.value,f=d.row,A=d.column,p=d.cell,g=d.isAnchor,v=d.cellAnchorRow,m=d.cellAnchorColumn,b=s.getChild(f-r);if(g){var y=n.cloneElement(p);n.append(y,b),Em(y,f,A,o,a,n)}else(v<r||m<i)&&cm(n,n.createPositionAt(b,"end"))}}catch(w){h.e(w)}finally{h.f()}return function(e,t,n,r,i){var o=parseInt(t.getAttribute("headingRows")||0);o>0&&sm("headingRows",o-n,e,i,0);var a=parseInt(t.getAttribute("headingColumns")||0);a>0&&sm("headingColumns",a-r,e,i,0)}(s,e,r,i,n),s}function km(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],o=new dm(e,{startRow:r,endRow:t-1}),a=_createForOfIteratorHelper(o);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=s.row,u=s.cellHeight;c<t&&t<=c+u-1&&i.push(s)}}catch(l){a.e(l)}finally{a.f()}return i}function Cm(e,t,n){var r=e.parent,i=r.parent,o=r.index,a=t-o,s={},c=parseInt(e.getAttribute("rowspan"))-a;c>1&&(s.rowspan=c);var u=parseInt(e.getAttribute("colspan")||1);u>1&&(s.colspan=u);var l,h,d=o+a,f=null,A=_createForOfIteratorHelper(_toConsumableArray(new dm(i,{startRow:o,endRow:d,includeAllSlots:!0})));try{for(A.s();!(h=A.n()).done;){var p=h.value,g=p.row,v=p.column;p.cell===e&&void 0===l&&(l=v),void 0!==l&&l===v&&g===d&&(f=cm(n,p.getPositionBefore(),s))}}catch(m){A.e(m)}finally{A.f()}return sm("rowspan",a,e,n),f}function Sm(e,t){var n,r=[],i=_createForOfIteratorHelper(new dm(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.column,s=o.cellWidth;a<t&&t<=a+s-1&&r.push(o)}}catch(c){i.e(c)}finally{i.f()}return r}function xm(e,t,n,r){var i=n-t,o={},a=parseInt(e.getAttribute("colspan"))-i;a>1&&(o.colspan=a);var s=parseInt(e.getAttribute("rowspan")||1);s>1&&(o.rowspan=s);var c=cm(r,r.createPositionAfter(e),o);return sm("colspan",i,e,r),c}function Em(e,t,n,r,i,o){var a=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);n+a-1>i&&sm("colspan",i-n+1,e,o,1),t+s-1>r&&sm("rowspan",r-t+1,e,o,1)}function Im(e,t){var n,r=t.getColumns(e),i=new Array(r).fill(0),o=_createForOfIteratorHelper(new dm(e));try{for(o.s();!(n=o.n()).done;){i[n.value.column]++}}catch(s){o.e(s)}finally{o.f()}var a=i.reduce((function(e,t,n){return t?e:[].concat(_toConsumableArray(e),[n])}),[]);return a.length>0&&(t.removeColumns(e,{at:a[a.length-1]}),!0)}function Bm(e,t){for(var n=[],r=t.getRows(e),i=0;i<r;i++)e.getChild(i).isEmpty&&n.push(i);return n.length>0&&(t.removeRows(e,{at:n[n.length-1]}),!0)}function Dm(e,t){Im(e,t)||Bm(e,t)}function Tm(e,t){var n=Array.from(new dm(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));return n.every((function(e){return 1===e.cellHeight}))?t.lastRow:t.lastRow+(n[0].cellHeight-1)}function Om(e,t){var n=Array.from(new dm(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));return n.every((function(e){return 1===e.cellWidth}))?t.lastColumn:t.lastColumn+(n[0].cellWidth-1)}var Fm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).direction=r.direction,i.isHorizontal="right"==i.direction||"left"==i.direction,i}return _createClass(n,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(n.selection)[0],i=this.value,o=this.direction;t.change((function(t){var n="right"==o||"down"==o,a=n?r:i,s=n?i:r,c=s.parent;!function(e,t,n){Rm(e)||(Rm(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(s,a,t);var u=e.isHorizontal?"colspan":"rowspan",l=parseInt(r.getAttribute(u)||1),h=parseInt(i.getAttribute(u)||1);t.setAttribute(u,l+h,a),t.setSelection(t.createRangeIn(a));var d=e.editor.plugins.get("TableUtils");Dm(c.findAncestor("table"),d)}))}},{key:"_getMergeableCell",value:function(){var e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(n){var r=this.isHorizontal?function(e,t,n){var r="right"==t?e.nextSibling:e.previousSibling,i=(e.parent.parent.getAttribute("headingColumns")||0)>0;if(r){var o="right"==t?e:r,a="right"==t?r:e,s=n.getCellLocation(o).column,c=n.getCellLocation(a).column,u=parseInt(o.getAttribute("colspan")||1),l=um(n,o),h=um(n,a);return i&&l!=h?void 0:s+u===c?r:void 0}}(n,this.direction,t):function(e,t,n){var r=e.parent,i=r.parent,o=i.getChildIndex(r);if(!("down"==t&&o===n.getRows(i)-1||"up"==t&&0===o)){var a=parseInt(e.getAttribute("rowspan")||1),s=i.getAttribute("headingRows")||0;if(!s||!("down"==t&&o+a===s||"up"==t&&o===s)){var c=parseInt(e.getAttribute("rowspan")||1),u="down"==t?o+c:o,l=_toConsumableArray(new dm(i,{endRow:u})),h=l.find((function(t){return t.cell===e})).column,d=l.find((function(e){var n=e.row,r=e.cellHeight;return e.column===h&&("down"==t?n===u:u===n+r)}));return d&&d.cell}}}(n,this.direction,t);if(r){var i=this.isHorizontal?"rowspan":"colspan",o=parseInt(n.getAttribute(i)||1);return parseInt(r.getAttribute(i)||1)===o?r:void 0}}}}]),n}(Mr);function Rm(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}var Pm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){var r=n.findAncestor("table"),i=this.editor.plugins.get("TableUtils").getRows(r)-1,o=e.getRowIndexes(t);this.isEnabled=!(0===o.first&&o.last===i)}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(n),i=n[0],o=i.findAncestor("table"),a=t.getCellLocation(i).column;e.change((function(e){t.removeRows(o,{at:r.first,rows:r.last-r.first+1});var n=function(e,t,n,r){var i,o=e.getChild(Math.min(t,r-1)),a=o.getChild(0),s=0,c=_createForOfIteratorHelper(o.getChildren());try{for(c.s();!(i=c.n()).done;){var u=i.value;if(s>n)return a;a=u,s+=parseInt(u.getAttribute("colspan")||1)}}catch(l){c.e(l)}finally{c.f()}return a}(o,r.first,a,t.getRows(o));e.setSelection(e.createPositionAt(n,0))}))}}]),n}(Mr),Nm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){var r=n.findAncestor("table"),i=e.getColumns(r),o=e.getColumnIndexes(t),a=o.first,s=o.last;this.isEnabled=s-a<i-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e=this,t=this.editor.plugins.get("TableUtils"),n=_slicedToArray(function(e,t){var n=t.getSelectionAffectedTableCells(e),r=n[0],i=n.pop(),o=[r,i];return r.isBefore(i)?o:o.reverse()}(this.editor.model.document.selection,t),2),r=n[0],i=n[1],o=r.parent.parent,a=_toConsumableArray(new dm(o)),s={first:a.find((function(e){return e.cell===r})).column,last:a.find((function(e){return e.cell===i})).column},c=function(e,t,n,r){return parseInt(n.getAttribute("colspan")||1)>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:r.first?e.reverse().find((function(e){return e.column<r.first})).cell:e.reverse().find((function(e){return e.column>r.last})).cell}(a,r,i,s);this.editor.model.change((function(t){var n=s.last-s.first+1;e.editor.plugins.get("TableUtils").removeColumns(o,{at:s.first,columns:n}),t.setSelection(t.createPositionAt(c,0))}))}}]),n}(Mr),Mm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this,t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((function(t){return e._isInHeading(t,t.parent.parent)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.forceValue!==this.value){var t=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=t.getSelectionAffectedTableCells(n.document.selection),i=r[0].findAncestor("table"),o=t.getRowIndexes(r),a=o.first,s=o.last,c=this.value?a:s+1,u=i.getAttribute("headingRows")||0;n.change((function(e){if(c){var t,n=_createForOfIteratorHelper(km(i,c,c>u?u:0));try{for(n.s();!(t=n.n()).done;){Cm(t.value.cell,c,e)}}catch(r){n.e(r)}finally{n.f()}}sm("headingRows",c,i,e,0)}))}}},{key:"_isInHeading",value:function(e,t){var n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}]),n}(Mr),Lm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),r=n.length>0;this.isEnabled=r,this.value=r&&n.every((function(e){return um(t,e)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.forceValue!==this.value){var t=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=t.getSelectionAffectedTableCells(n.document.selection),i=r[0].findAncestor("table"),o=t.getColumnIndexes(r),a=o.first,s=o.last,c=this.value?a:s+1;n.change((function(e){if(c){var t,n=_createForOfIteratorHelper(Sm(i,c));try{for(n.s();!(t=n.n()).done;){var r=t.value;xm(r.cell,r.column,c,e)}}catch(o){n.e(o)}finally{n.f()}}sm("headingColumns",c,i,e,0)}))}}}]),n}(Mr),Um=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(e){var t,n=e.parent,r=n.parent,i=r.getChildIndex(n),o=_createForOfIteratorHelper(new dm(r,{row:i}));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.cell,c=a.row,u=a.column;if(s===e)return{row:c,column:u}}}catch(l){o.e(l)}finally{o.f()}}},{key:"createTable",value:function(e,t){var n=e.createElement("table"),r=parseInt(t.rows)||2,i=parseInt(t.columns)||2;return jm(e,n,0,r,i),t.headingRows&&sm("headingRows",Math.min(t.headingRows,r),n,e,0),t.headingColumns&&sm("headingColumns",Math.min(t.headingColumns,i),n,e,0),n}},{key:"insertRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,r=t.at||0,i=t.rows||1,o=void 0!==t.copyStructureFromAbove,a=t.copyStructureFromAbove?r-1:r,s=this.getRows(e),c=this.getColumns(e);if(r>s)throw new C("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change((function(t){var n=e.getAttribute("headingRows")||0;if(n>r&&sm("headingRows",n+i,e,t,0),o||0!==r&&r!==s){var u,l=o?Math.max(r,a):r,h=new dm(e,{endRow:l}),d=new Array(c).fill(1),f=_createForOfIteratorHelper(h);try{for(f.s();!(u=f.n()).done;){var A=u.value,p=A.row,g=A.column,v=A.cellHeight,m=A.cellWidth,b=A.cell,y=p+v-1,w=p<=a&&a<=y;p<r&&r<=y?(t.setAttribute("rowspan",v+i,b),d[g]=-m):o&&w&&(d[g]=m)}}catch(E){f.e(E)}finally{f.f()}for(var _=0;_<i;_++){var k=t.createElement("tableRow");t.insert(k,e,r);for(var C=0;C<d.length;C++){var S=d[C],x=t.createPositionAt(k,"end");S>0&&cm(t,x,S>1?{colspan:S}:null),C+=Math.abs(S)-1}}}else jm(t,e,r,i,c)}))}},{key:"insertColumns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.at||0,i=n.columns||1;this.editor.model.change((function(n){var o=e.getAttribute("headingColumns");r<o&&n.setAttribute("headingColumns",o+i,e);var a=t.getColumns(e);if(0!==r&&a!==r){var s,c=new dm(e,{column:r,includeAllSlots:!0}),u=_createForOfIteratorHelper(c);try{for(u.s();!(s=u.n()).done;){var l=s.value,h=l.row,d=l.cell,f=l.cellAnchorColumn,A=l.cellAnchorRow,p=l.cellWidth,g=l.cellHeight;if(f<r){n.setAttribute("colspan",p+i,d);for(var v=A+g-1,m=h;m<=v;m++)c.skipRow(m)}else Qm(i,n,l.getPositionBefore())}}catch(_){u.e(_)}finally{u.f()}}else{var b,y=_createForOfIteratorHelper(e.getChildren());try{for(y.s();!(b=y.n()).done;){var w=b.value;w.is("element","tableRow")&&Qm(i,n,n.createPositionAt(w,r?"end":0))}}catch(_){y.e(_)}finally{y.f()}}}))}},{key:"removeRows",value:function(e,t){var n=this,r=this.editor.model,i=t.rows||1,o=this.getRows(e),a=t.at,s=a+i-1;if(s>o-1)throw new C("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});r.change((function(t){var r=function(e,t,n){var r,i=new Map,o=[],a=_createForOfIteratorHelper(new dm(e,{endRow:n}));try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s.row,u=s.column,l=s.cellHeight,h=s.cell,d=c+l-1;if(c>=t&&c<=n&&d>n&&i.set(u,{cell:h,rowspan:l-(n-c+1)}),c<t&&d>=t){var f;f=d>=n?n-t+1:d-t+1,o.push({cell:h,rowspan:l-f})}}}catch(A){a.e(A)}finally{a.f()}return{cellsToMove:i,cellsToTrim:o}}(e,a,s),i=r.cellsToMove,o=r.cellsToTrim;i.size&&function(e,t,n,r){var i,o,a=_toConsumableArray(new dm(e,{includeAllSlots:!0,row:t})),s=e.getChild(t),c=_createForOfIteratorHelper(a);try{for(c.s();!(o=c.n()).done;){var u=o.value,l=u.column,h=u.cell,d=u.isAnchor;if(n.has(l)){var f=n.get(l),A=f.cell,p=f.rowspan,g=i?r.createPositionAfter(i):r.createPositionAt(s,0);r.move(r.createRangeOn(A),g),sm("rowspan",p,A,r),i=A}else d&&(i=h)}}catch(v){c.e(v)}finally{c.f()}}(e,s+1,i,t);for(var c=s;c>=a;c--)t.remove(e.getChild(c));var u,l=_createForOfIteratorHelper(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;sm("rowspan",h.rowspan,h.cell,t)}}catch(d){l.e(d)}finally{l.f()}!function(e,t,n,r){var i=e.getAttribute("headingRows")||0;t<i&&sm("headingRows",n<i?i-(n-t+1):t,e,r,0)}(e,a,s,t),Im(e,n)||Bm(e,n)}))}},{key:"removeColumns",value:function(e,t){var n=this,r=t.at,i=t.at+(t.columns||1)-1;this.editor.model.change((function(t){!function(e,t,n){var r=e.getAttribute("headingColumns")||0;if(r&&t.first<r){var i=Math.min(r-1,t.last)-t.first+1;n.setAttribute("headingColumns",r-i,e)}}(e,{first:r,last:i},t);for(var o=i;o>=r;o--)for(var a=0,s=_toConsumableArray(new dm(e));a<s.length;a++){var c=s[a],u=c.cell,l=c.column,h=c.cellWidth;l<=o&&h>1&&l+h>o?sm("colspan",h-1,u,t):l===o&&t.remove(u)}Bm(e,n)||Im(e,n)}))}},{key:"splitCellVertically",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,r=e.parent.parent,i=parseInt(e.getAttribute("rowspan")||1),o=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(o>1){var a=Hm(o,t),s=a.newCellsSpan;sm("colspan",a.updatedSpan,e,n);var c={};s>1&&(c.colspan=s),i>1&&(c.rowspan=i),Qm(o>t?t-1:o-1,n,n.createPositionAfter(e),c)}if(o<t){var u,l=t-o,h=_toConsumableArray(new dm(r)),d=h.find((function(t){return t.cell===e})).column,f=_createForOfIteratorHelper(h.filter((function(t){var n=t.cell,r=t.cellWidth,i=t.column;return n!==e&&i===d||i<d&&i+r>d})));try{for(f.s();!(u=f.n()).done;){var A=u.value,p=A.cell,g=A.cellWidth;n.setAttribute("colspan",g+l,p)}}catch(b){f.e(b)}finally{f.f()}var v={};i>1&&(v.rowspan=i),Qm(l,n,n.createPositionAfter(e),v);var m=r.getAttribute("headingColumns")||0;m>d&&sm("headingColumns",m+l,r,n)}}))}},{key:"splitCellHorizontally",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,r=e.parent,i=r.parent,o=i.getChildIndex(r),a=parseInt(e.getAttribute("rowspan")||1),s=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(a>1){var r=_toConsumableArray(new dm(i,{startRow:o,endRow:o+a-1,includeAllSlots:!0})),c=Hm(a,t),u=c.newCellsSpan,l=c.updatedSpan;sm("rowspan",l,e,n);var h=r.find((function(t){return t.cell===e})).column,d={};u>1&&(d.rowspan=u),s>1&&(d.colspan=s);for(var f=0,A=r;f<A.length;f++){var p=A[f],g=p.column,v=p.row;v>=o+l&&g===h&&(v+o+l)%u==0&&Qm(1,n,p.getPositionBefore(),d)}}if(a<t){var m,b=t-a,y=_createForOfIteratorHelper(_toConsumableArray(new dm(i,{startRow:0,endRow:o})));try{for(y.s();!(m=y.n()).done;){var w=m.value,_=w.cell,k=w.cellHeight,C=w.row;_!==e&&C+k>o&&n.setAttribute("rowspan",k+b,_)}}catch(E){y.e(E)}finally{y.f()}var S={};s>1&&(S.colspan=s),jm(n,i,o+1,b,1,S);var x=i.getAttribute("headingRows")||0;x>o&&sm("headingRows",x+b,i,n)}}))}},{key:"getColumns",value:function(e){return _toConsumableArray(e.getChild(0).getChildren()).reduce((function(e,t){return e+parseInt(t.getAttribute("colspan")||1)}),0)}},{key:"getRows",value:function(e){return Array.from(e.getChildren()).reduce((function(e,t){return t.is("element","tableRow")?e+1:e}),0)}},{key:"createTableWalker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new dm(e,t)}},{key:"getSelectedTableCells",value:function(e){var t,n=[],r=_createForOfIteratorHelper(this.sortRanges(e.getRanges()));try{for(r.s();!(t=r.n()).done;){var i=t.value.getContainedElement();i&&i.is("element","tableCell")&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"getTableCellsContainingSelection",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e.getRanges());try{for(r.s();!(t=r.n()).done;){var i=t.value.start.findAncestor("tableCell");i&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"getSelectionAffectedTableCells",value:function(e){var t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}},{key:"getRowIndexes",value:function(e){var t=e.map((function(e){return e.parent.index}));return this._getFirstLastIndexesObject(t)}},{key:"getColumnIndexes",value:function(e){var t=e[0].findAncestor("table"),n=_toConsumableArray(new dm(t)).filter((function(t){return e.includes(t.cell)})).map((function(e){return e.column}));return this._getFirstLastIndexesObject(n)}},{key:"isSelectionRectangular",value:function(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;var t,n=new Set,r=new Set,i=0,o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=this.getCellLocation(a),c=s.row,u=s.column,l=parseInt(a.getAttribute("rowspan")||1),h=parseInt(a.getAttribute("colspan")||1);n.add(c),r.add(u),l>1&&n.add(c+l-1),h>1&&r.add(u+h-1),i+=l*h}}catch(d){o.e(d)}finally{o.f()}return function(e,t){var n=Array.from(e.values()),r=Array.from(t.values());return(Math.max.apply(Math,n)-Math.min.apply(Math,n)+1)*(Math.max.apply(Math,r)-Math.min.apply(Math,r)+1)}(n,r)==i}},{key:"sortRanges",value:function(e){return Array.from(e).sort(Vm)}},{key:"_getFirstLastIndexesObject",value:function(e){var t=e.sort((function(e,t){return e-t}));return{first:t[0],last:t[t.length-1]}}},{key:"_areCellInTheSameTableSection",value:function(e){var t=e[0].findAncestor("table"),n=this.getRowIndexes(e),r=parseInt(t.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(n,r))return!1;var i=parseInt(t.getAttribute("headingColumns")||0),o=this.getColumnIndexes(e);return this._areIndexesInSameSection(o,i)}},{key:"_areIndexesInSameSection",value:function(e,t){return e.first<t==e.last<t}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),n}(Pr);function jm(e,t,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=0;a<r;a++){var s=e.createElement("tableRow");e.insert(s,t,n),Qm(i,e,e.createPositionAt(s,"end"),o)}}function Qm(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=0;i<e;i++)cm(t,n,r)}function Hm(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}function Vm(e,t){return e.start.isBefore(t.start)?-1:1}var zm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get(Um),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t,this.editor.plugins.get(Um))}},{key:"execute",value:function(){var e=this.editor.model,t=this.editor.plugins.get(Um);e.change((function(n){var r=t.getSelectedTableCells(e.document.selection),i=r.shift(),o=function(e,t,n){var r,i=0,o=0,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=n.getCellLocation(s),u=c.row;i=Gm(s,c.column,i,"colspan"),o=Gm(s,u,o,"rowspan")}}catch(d){a.e(d)}finally{a.f()}var l=n.getCellLocation(e),h=l.row;return{mergeWidth:i-l.column,mergeHeight:o-h}}(i,r,t),a=o.mergeWidth,s=o.mergeHeight;sm("colspan",a,i,n),sm("rowspan",s,i,n);var c,u=_createForOfIteratorHelper(r);try{for(u.s();!(c=u.n()).done;){qm(c.value,i,n)}}catch(l){u.e(l)}finally{u.f()}Dm(i.findAncestor("table"),t),n.setSelection(i,"in")}))}}]),n}(Mr);function qm(e,t,n){Km(e)||(Km(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function Km(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function Gm(e,t,n,r){var i=parseInt(e.getAttribute(r)||1);return Math.max(n,t+i)}var Wm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).affectsData=!1,r}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){for(var e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(n),i=n[0].findAncestor("table"),o=[],a=r.first;a<=r.last;a++){var s,c=_createForOfIteratorHelper(i.getChild(a).getChildren());try{for(c.s();!(s=c.n()).done;){var u=s.value;o.push(e.createRangeOn(u))}}catch(l){c.e(l)}finally{c.f()}}e.change((function(e){e.setSelection(o)}))}}]),n}(Mr),Ym=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).affectsData=!1,r}return _createClass(n,[{key:"refresh",value:function(){var e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}},{key:"execute",value:function(){var e,t=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=t.getSelectionAffectedTableCells(n.document.selection),i=r[0],o=r.pop(),a=i.findAncestor("table"),s=t.getCellLocation(i),c=t.getCellLocation(o),u=Math.min(s.column,c.column),l=Math.max(s.column,c.column),h=[],d=_createForOfIteratorHelper(new dm(a,{startColumn:u,endColumn:l}));try{for(d.s();!(e=d.n()).done;){var f=e.value;h.push(n.createRangeOn(f.cell))}}catch(A){d.e(A)}finally{d.f()}n.change((function(e){e.setSelection(h)}))}}]),n}(Mr);function Jm(e,t){var n=!1,r=function(e){var t,n=parseInt(e.getAttribute("headingRows")||0),r=Array.from(e.getChildren()).reduce((function(e,t){return t.is("element","tableRow")?e+1:e}),0),i=[],o=_createForOfIteratorHelper(new dm(e));try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.row,c=a.cell,u=a.cellHeight;if(!(u<2)){var l=s<n?n:r;s+u>l&&i.push({cell:c,rowspan:l-s})}}}catch(h){o.e(h)}finally{o.f()}return i}(e);if(r.length){n=!0;var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;sm("rowspan",a.rowspan,a.cell,t,1)}}catch(s){o.e(s)}finally{o.f()}}return n}function Xm(e,t){var n,r=!1,i=function(e){var t,n=new Array(e.childCount).fill(0),r=_createForOfIteratorHelper(new dm(e,{includeAllSlots:!0}));try{for(r.s();!(t=r.n()).done;){n[t.value.rowIndex]++}}catch(i){r.e(i)}finally{r.f()}return n}(e),o=[],a=_createForOfIteratorHelper(i.entries());try{for(a.s();!(n=a.n()).done;){var s=_slicedToArray(n.value,2),c=s[0];!s[1]&&e.getChild(c).is("element","tableRow")&&o.push(c)}}catch(w){a.e(w)}finally{a.f()}if(o.length){r=!0;var u,l=_createForOfIteratorHelper(o.reverse());try{for(l.s();!(u=l.n()).done;){var h=u.value;t.remove(e.getChild(h)),i.splice(h,1)}}catch(w){l.e(w)}finally{l.f()}}var d=i.filter((function(t,n){return e.getChild(n).is("element","tableRow")})),f=d[0];if(!d.every((function(e){return e===f}))){var A,p=d.reduce((function(e,t){return t>e?t:e}),0),g=_createForOfIteratorHelper(d.entries());try{for(g.s();!(A=g.n()).done;){var v=_slicedToArray(A.value,2),m=v[0],b=p-v[1];if(b){for(var y=0;y<b;y++)cm(t,t.createPositionAt(e.getChild(m),"end"));r=!0}}}catch(w){g.e(w)}finally{g.f()}}return r}function Zm(e){var t=e.attributeKey;return"attribute"===e.type&&("headingRows"===t||"colspan"===t||"rowspan"===t)}function $m(e,t){var n,r=!1,i=_createForOfIteratorHelper(e.getChildren());try{for(i.s();!(n=i.n()).done;){var o=n.value;o.is("element","tableRow")&&(r=eb(o,t)||r)}}catch(a){i.e(a)}finally{i.f()}return r}function eb(e,t){var n,r=!1,i=_createForOfIteratorHelper(e.getChildren());try{for(i.s();!(n=i.n()).done;){r=tb(n.value,t)||r}}catch(o){i.e(o)}finally{i.f()}return r}function tb(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n,r=Array.from(e.getChildren()).filter((function(e){return e.is("$text")})),i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.wrap(t.createRangeOn(o),"paragraph")}}catch(a){i.e(a)}finally{i.f()}return!!r.length}function nb(e){return!(!e.position||!e.position.parent.is("element","tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function rb(e,t){if(!e.is("element","paragraph"))return!1;var n=t.toViewElement(e);return!!n&&vm(e)!==n.is("element","span")}var ib=i(3881);zr()(ib.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.model,n=t.schema,r=e.conversion,i=e.plugins.get(Um);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add((function(e){e.on("element:figure",(function(e,t,n){if(n.consumable.test(t.viewItem,{name:!0,classes:"table"})){var r=function(e){var t,n=_createForOfIteratorHelper(e.getChildren());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.is("element","table"))return r}}catch(i){n.e(i)}finally{n.f()}}(t.viewItem);if(r&&n.consumable.test(r,{name:!0})){n.consumable.consume(t.viewItem,{name:!0,classes:"table"});var i=Er(n.convertItem(r,t.modelCursor).modelRange.getItems());i?(n.convertChildren(t.viewItem,n.writer.createPositionAt(i,"end")),n.updateConversionResult(i,t)):n.consumable.revert(t.viewItem,{name:!0,classes:"table"})}}}))})),r.for("upcast").add((function(e){e.on("element:table",(function(e,t,n){var r=t.viewItem;if(n.consumable.test(r,{name:!0})){var i=function(e){for(var t,n={headingRows:0,headingColumns:0},r=[],i=[],o=0,a=Array.from(e.getChildren());o<a.length;o++){var s=a[o];if("tbody"===s.name||"thead"===s.name||"tfoot"===s.name){"thead"!==s.name||t||(t=s);var c,u=_createForOfIteratorHelper(Array.from(s.getChildren()).filter((function(e){return e.is("element","tr")})));try{for(u.s();!(c=u.n()).done;){var l=c.value;if("thead"===l.parent.name&&l.parent===t)n.headingRows++,r.push(l);else{i.push(l);var h=hm(l);h>n.headingColumns&&(n.headingColumns=h)}}}catch(d){u.e(d)}finally{u.f()}}}return n.rows=[].concat(r,i),n}(r),o=i.rows,a=i.headingRows,s=i.headingColumns,c={};s&&(c.headingColumns=s),a&&(c.headingRows=a);var u=n.writer.createElement("table",c);if(n.safeInsert(u,t.modelCursor)){if(n.consumable.consume(r,{name:!0}),o.forEach((function(e){return n.convertItem(e,n.writer.createPositionAt(u,"end"))})),n.convertChildren(r,n.writer.createPositionAt(u,"end")),u.isEmpty){var l=n.writer.createElement("tableRow");n.writer.insert(l,n.writer.createPositionAt(u,"end")),cm(n.writer,n.writer.createPositionAt(l,"end"))}n.updateConversionResult(u,t)}}}))})),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Am(i,{asWidget:!0})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Am(i)}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add((function(e){e.on("element:tr",(function(e,t){t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),r.for("downcast").elementToElement({model:"tableRow",view:function(e,t){var n=t.writer;return e.isEmpty?n.createEmptyElement("tr"):n.createContainerElement("tr")}}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(lm("td")),r.for("upcast").add(lm("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:pm({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:pm()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:gm({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:gm(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:ab("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:ab("rowspan")},view:"rowspan"}),e.data.mapper.on("modelToViewPosition",(function(e,t){var n=t.modelPosition.parent,r=t.modelPosition.nodeBefore;if(n.is("element","tableCell")&&r&&r.is("element","paragraph")){var i=t.mapper.toViewElement(r),o=t.mapper.toViewElement(n);i===o&&(t.viewPosition=t.mapper.findPositionIn(o,r.maxOffset))}})),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new mm(e)),e.commands.add("insertTableRowAbove",new bm(e,{order:"above"})),e.commands.add("insertTableRowBelow",new bm(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new ym(e,{order:"left"})),e.commands.add("insertTableColumnRight",new ym(e,{order:"right"})),e.commands.add("removeTableRow",new Pm(e)),e.commands.add("removeTableColumn",new Nm(e)),e.commands.add("splitTableCellVertically",new wm(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new wm(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new zm(e)),e.commands.add("mergeTableCellRight",new Fm(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Fm(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Fm(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Fm(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Lm(e)),e.commands.add("setTableRowHeader",new Mm(e)),e.commands.add("selectTableRow",new Wm(e)),e.commands.add("selectTableColumn",new Ym(e)),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,r=t.document.differ.getChanges(),i=!1,o=new Set,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=void 0;"table"==s.name&&"insert"==s.type&&(c=s.position.nodeAfter),"tableRow"!=s.name&&"tableCell"!=s.name||(c=s.position.findAncestor("table")),Zm(s)&&(c=s.range.start.findAncestor("table")),c&&!o.has(c)&&(i=Jm(c,e)||i,i=Xm(c,e)||i,o.add(c))}}catch(u){a.e(u)}finally{a.f()}return i}(t,e)}))}(t),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n,r=!1,i=_createForOfIteratorHelper(t.document.differ.getChanges());try{for(i.s();!(n=i.n()).done;){var o=n.value;"insert"==o.type&&"table"==o.name&&(r=$m(o.position.nodeAfter,e)||r),"insert"==o.type&&"tableRow"==o.name&&(r=eb(o.position.nodeAfter,e)||r),"insert"==o.type&&"tableCell"==o.name&&(r=tb(o.position.nodeAfter,e)||r),nb(o)&&(r=tb(o.position.parent,e)||r)}}catch(a){i.e(a)}finally{i.f()}return r}(t,e)}))}(t),this.listenTo(t.document,"change:data",(function(){!function(e,t){var n,r=_createForOfIteratorHelper(e.document.differ.getChanges());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=void 0,a=!1;if("attribute"==i.type){var s=i.range.start.nodeAfter;if(!s||!s.is("element","table"))continue;if("headingRows"!=i.attributeKey&&"headingColumns"!=i.attributeKey)continue;o=s,a="headingRows"==i.attributeKey}else"tableRow"!=i.name&&"tableCell"!=i.name||(o=i.position.findAncestor("table"),a="tableRow"==i.name);if(o){var c,u=o.getAttribute("headingRows")||0,l=o.getAttribute("headingColumns")||0,h=_createForOfIteratorHelper(new dm(o));try{for(h.s();!(c=h.n()).done;){var d=c.value,f=d.row<u||d.column<l?"th":"td",A=t.mapper.toViewElement(d.cell);A&&A.is("element")&&A.name!=f&&t.reconvertItem(a?d.cell.parent:d.cell)}}catch(p){h.e(p)}finally{h.f()}}}}catch(p){r.e(p)}finally{r.f()}}(t,e.editing),function(e,t){var n,r=e.document.differ,i=new Set,o=_createForOfIteratorHelper(r.getChanges());try{for(o.s();!(n=o.n()).done;){var a=n.value,s="attribute"==a.type?a.range.start.parent:a.position.parent;s.is("element","tableCell")&&i.add(s)}}catch(A){o.e(A)}finally{o.f()}var c,u=_createForOfIteratorHelper(i.values());try{for(u.s();!(c=u.n()).done;){var l,h=c.value,d=_createForOfIteratorHelper(Array.from(h.getChildren()).filter((function(e){return rb(e,t.mapper)})));try{for(d.s();!(l=d.n()).done;){var f=l.value;t.reconvertItem(f)}}catch(A){d.e(A)}finally{d.f()}}}catch(A){u.e(A)}finally{u.f()}}(t,e.editing)}))}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[Um]}}]),n}(Pr);function ab(e){return function(t){var n=parseInt(t.getAttribute(e));return Number.isNaN(n)||n<=0?null:n}}var sb=i(1613);zr()(sb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var cb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var i=(r=t.call(this,e)).bindTemplate;return r.items=r._createGridCollection(),r.keystrokes=new Br,r.focusTracker=new Ir,r.set("rows",0),r.set("columns",0),r.bind("label").to(_assertThisInitialized(r),"columns",_assertThisInitialized(r),"rows",(function(e,t){return"".concat(t," \xd7 ").concat(e)})),r.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:r.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to((function(e){e.preventDefault()})),click:i.to((function(){r.fire("execute")}))}}),r.on("boxover",(function(e,t){var n=t.target.dataset,i=n.row,o=n.column;r.items.get(10*(parseInt(i,10)-1)+(parseInt(o,10)-1)).focus()})),r.focusTracker.on("change:focusedElement",(function(e,t,n){if(n){var i=n.dataset,o=i.row,a=i.column;r.set({rows:parseInt(o),columns:parseInt(a)})}})),r.on("change:columns",(function(){return r._highlightGridBoxes()})),r.on("change:rows",(function(){return r._highlightGridBoxes()})),r}return _createClass(n,[{key:"render",value:function(){_get(_getPrototypeOf(n.prototype),"render",this).call(this),function(e){var t=e.keystrokeHandler,n=e.focusTracker,r=e.gridItems,i=e.numberOfColumns,o=e.uiLanguageDirection,a="number"==typeof i?function(){return i}:i;function s(e){return function(t){var i=r.find((function(e){return e.element===n.focusedElement})),o=r.getIndex(i),a=e(o,r);r.get(a).focus(),t.stopPropagation(),t.preventDefault()}}function c(e,t){return e===t-1?0:e+1}function u(e,t){return 0===e?t-1:e-1}t.set("arrowright",s((function(e,t){return"rtl"===o?u(e,t.length):c(e,t.length)}))),t.set("arrowleft",s((function(e,t){return"rtl"===o?c(e,t.length):u(e,t.length)}))),t.set("arrowup",s((function(e,t){var n=e-a();return n<0&&((n=e+a()*Math.floor(t.length/a()))>t.length-1&&(n-=a())),n}))),t.set("arrowdown",s((function(e,t){var n=e+a();return n>t.length-1&&(n=e%a()),n})))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});var e,t=_createForOfIteratorHelper(this.items);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.focusTracker.add(r.element)}}catch(i){t.e(i)}finally{t.f()}this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this.items.get(0).focus()}},{key:"focusLast",value:function(){this.items.get(0).focus()}},{key:"_highlightGridBoxes",value:function(){var e=this.rows,t=this.columns;this.items.map((function(n,r){var i=Math.floor(r/10)<e&&r%10<t;n.set("isOn",i)}))}},{key:"_createGridButton",value:function(e,t,n,r){var i=new Gl(e);return i.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),i.extendTemplate({attributes:{"data-row":t,"data-column":n}}),i}},{key:"_createGridCollection",value:function(){for(var e=[],t=0;t<100;t++){var n=Math.floor(t/10),r=t%10;e.push(this._createGridButton(this.locale,n+1,r+1,"".concat(n+1," \xd7 ").concat(r+1)))}return this.createCollection(e)}}]),n}(nl),ub=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=this.editor.t,r="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(function(e){var r,i=t.commands.get("insertTable"),o=_h(e);return o.bind("isEnabled").to(i),o.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:n("Insert table"),tooltip:!0}),o.on("change:isOpen",(function(){r||(r=new cb(e),o.panelView.children.add(r),r.delegate("execute").to(o),o.on("execute",(function(){t.execute("insertTable",{rows:r.rows,columns:r.columns}),t.editing.view.focus()})))})),o})),t.ui.componentFactory.add("tableColumn",(function(t){var i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return e._prepareDropdown(n("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,t)})),t.ui.componentFactory.add("tableRow",(function(t){var r=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return e._prepareDropdown(n("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',r,t)})),t.ui.componentFactory.add("mergeTableCells",(function(t){var i=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return e._prepareMergeSplitButtonDropdown(n("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,t)}))}},{key:"_prepareDropdown",value:function(e,t,n,r){var i=this.editor,o=_h(r),a=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),this.listenTo(o,"execute",(function(e){i.execute(e.source.commandName),e.source instanceof Yl||i.editing.view.focus()})),o}},{key:"_prepareMergeSplitButtonDropdown",value:function(e,t,n,r){var i=this.editor,o=_h(r,eh),a="mergeTableCells",s=i.commands.get(a),c=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([s].concat(_toConsumableArray(c)),"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),this.listenTo(o.buttonView,"execute",(function(){i.execute(a),i.editing.view.focus()})),this.listenTo(o,"execute",(function(e){i.execute(e.source.commandName),i.editing.view.focus()})),o}},{key:"_fillDropdownWithListOptions",value:function(e,t){var n,r=this.editor,i=[],o=new xr,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){lb(n.value,r,i,o)}}catch(s){a.e(s)}finally{a.f()}return Ch(e,o),i}}],[{key:"pluginName",get:function(){return"TableUI"}}]),n}(Pr);function lb(e,t,n,r){var i=e.model=new Uh(e.model),o=e.model,a=o.commandName,s=o.bindIsOn;if("button"===e.type||"switchbutton"===e.type){var c=t.commands.get(a);n.push(c),i.set({commandName:a}),i.bind("isEnabled").to(c),s&&i.bind("isOn").to(c,"value")}i.set({withText:!0}),r.add(e)}var hb=i(6945);zr()(hb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var db=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view;this.listenTo(t.model,"deleteContent",(function(t,n){return e._handleDeleteContent(t,n)}),{priority:"high"}),this.listenTo(n.document,"insertText",(function(t,n){return e._handleInsertTextEvent(t,n)}),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var e=this.editor.plugins.get(Um).getSelectedTableCells(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var e=this.editor.plugins.get(Um),t=this.getSelectedTableCells();return t?this.editor.model.change((function(n){var r=n.createDocumentFragment(),i=e.getColumnIndexes(t),o=i.first,a=i.last,s=e.getRowIndexes(t),c=s.first,u=s.last,l=t[0].findAncestor("table"),h=u,d=a;if(e.isSelectionRectangular(t)){var f={firstColumn:o,lastColumn:a,firstRow:c,lastRow:u};h=Tm(l,f),d=Om(l,f)}var A=_m(l,{startRow:c,startColumn:o,endRow:h,endColumn:d},n);return n.insert(A,r,0),r})):null}},{key:"setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change((function(e){e.setSelection(n.cells.map((function(t){return e.createRangeOn(t)})),{backward:n.backward})}))}},{key:"getFocusCell",value:function(){var e=_toConsumableArray(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"getAnchorCell",value:function(){var e=Er(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}},{key:"_defineSelectionConverter",value:function(){var e=this,t=this.editor,n=new Set;t.conversion.for("editingDowncast").add((function(t){return t.on("selection",(function(t,r,i){var o=i.writer;!function(e){var t,r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.removeClass("ck-editor__editable_selected",i)}}catch(o){r.e(o)}finally{r.f()}n.clear()}(o);var a=e.getSelectedTableCells();if(a){var s,c=_createForOfIteratorHelper(a);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=i.mapper.toViewElement(u);o.addClass("ck-editor__editable_selected",l),n.add(l)}}catch(d){c.e(d)}finally{c.f()}var h=i.mapper.toViewElement(a[a.length-1]);o.setSelection(h,0)}}),{priority:"lowest"})}))}},{key:"_enablePluginDisabling",value:function(){var e=this,t=this.editor;this.on("change:isEnabled",(function(){if(!e.isEnabled){var n=e.getSelectedTableCells();if(!n)return;t.model.change((function(e){var r=e.createPositionAt(n[0],0),i=t.model.schema.getNearestSelectionRange(r);e.setSelection(i)}))}}))}},{key:"_handleDeleteContent",value:function(e,t){var n=this.editor.plugins.get(Um),r=_slicedToArray(t,2),i=r[0],o=r[1],a=this.editor.model,s=!o||"backward"==o.direction,c=n.getSelectedTableCells(i);c.length&&(e.stop(),a.change((function(e){var t=c[s?c.length-1:0];a.change((function(e){var t,n=_createForOfIteratorHelper(c);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.deleteContent(e.createSelection(r,"in"))}}catch(i){n.e(i)}finally{n.f()}}));var n=a.schema.getNearestSelectionRange(e.createPositionAt(t,0));i.is("documentSelection")?e.setSelection(n):i.setTo(n)})))}},{key:"_handleInsertTextEvent",value:function(e,t){var n=this.editor,r=this.getSelectedTableCells(n.model.document.selection);if(r){var i=n.editing.view,o=n.editing.mapper,a=r.map((function(e){return i.createRangeOn(o.toViewElement(e))}));t.selection=i.createSelection(a)}}},{key:"_getCellsToSelect",value:function(e,t){var n,r=this.editor.plugins.get("TableUtils"),i=r.getCellLocation(e),o=r.getCellLocation(t),a=Math.min(i.row,o.row),s=Math.max(i.row,o.row),c=Math.min(i.column,o.column),u=Math.max(i.column,o.column),l=new Array(s-a+1).fill(null).map((function(){return[]})),h={startRow:a,endRow:s,startColumn:c,endColumn:u},d=_createForOfIteratorHelper(new dm(e.findAncestor("table"),h));try{for(d.s();!(n=d.n()).done;){var f=n.value,A=f.row,p=f.cell;l[A-a].push(p)}}catch(m){d.e(m)}finally{d.f()}var g=o.row<i.row,v=o.column<i.column;return g&&l.reverse(),v&&l.forEach((function(e){return e.reverse()})),{cells:l.flat(),backward:g||v}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[Um,Um]}}]),n}(Pr),fb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this.listenTo(n,"copy",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(n,"cut",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(t.model,"insertContent",(function(t,n){return e._onInsertContent.apply(e,[t].concat(_toConsumableArray(n)))}),{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(e,t){var n=this.editor.plugins.get(db);if(n.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();var r=this.editor.editing.view.document,i=this.editor.data.toView(n.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:i,method:e.name})}}},{key:"_onInsertContent",value:function(e,t,n){var r=this;if(!n||n.is("documentSelection")){var i=this.editor.model,o=this.editor.plugins.get(Um),a=Ab(t,i);if(a){var s=o.getSelectionAffectedTableCells(i.document.selection);s.length?(e.stop(),i.change((function(e){var t={width:o.getColumns(a),height:o.getRows(a)},n=function(e,t,n,r){var i=e[0].findAncestor("table"),o=r.getColumnIndexes(e),a=r.getRowIndexes(e),s={firstColumn:o.first,lastColumn:o.last,firstRow:a.first,lastRow:a.last},c=1===e.length;return c&&(s.lastRow+=t.height-1,s.lastColumn+=t.width-1,function(e,t,n,r){var i=r.getColumns(e),o=r.getRows(e);n>i&&r.insertColumns(e,{at:i,columns:n-i}),t>o&&r.insertRows(e,{at:o,rows:t-o})}(i,s.lastRow+1,s.lastColumn+1,r)),c||!r.isSelectionRectangular(e)?function(e,t,n){var r=t.firstRow,i=t.lastRow,o=t.firstColumn,a=t.lastColumn,s={first:r,last:i},c={first:o,last:a};gb(e,o,s,n),gb(e,a+1,s,n),pb(e,r,c,n),pb(e,i+1,c,n,r)}(i,s,n):(s.lastRow=Tm(i,s),s.lastColumn=Om(i,s)),s}(s,t,e,o),i=n.lastColumn-n.firstColumn+1,c={startRow:0,startColumn:0,endRow:Math.min(n.lastRow-n.firstRow+1,t.height)-1,endColumn:Math.min(i,t.width)-1};a=_m(a,c,e);var u=s[0].findAncestor("table"),l=r._replaceSelectedCellsWithPasted(a,t,u,n,e);if(r.editor.plugins.get("TableSelection").isEnabled){var h=o.sortRanges(l.map((function(t){return e.createRangeOn(t)})));e.setSelection(h)}else e.setSelection(l[0],0)}))):Dm(a,o)}}}},{key:"_replaceSelectedCellsWithPasted",value:function(e,t,n,r,i){var o,a,s=t.width,c=t.height,u=function(e,t,n){var r,i=new Array(n).fill(null).map((function(){return new Array(t).fill(null)})),o=_createForOfIteratorHelper(new dm(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.column,c=a.row,u=a.cell;i[c][s]=u}}catch(l){o.e(l)}finally{o.f()}return i}(e,s,c),l=[],h=_createForOfIteratorHelper(_toConsumableArray(new dm(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})));try{for(h.s();!(a=h.n()).done;){var d=a.value,f=d.row,A=d.column;A===r.firstColumn&&(o=d.getPositionBefore());var p=u[(f-r.firstRow)%c][(A-r.firstColumn)%s],g=p?i.cloneElement(p):null,v=this._replaceTableSlotCell(d,g,o,i);v&&(Em(v,f,A,r.lastRow,r.lastColumn,i),l.push(v),o=i.createPositionAfter(v))}}catch(k){h.e(k)}finally{h.f()}var m=parseInt(n.getAttribute("headingRows")||0),b=parseInt(n.getAttribute("headingColumns")||0),y=r.firstColumn<b&&b<=r.lastColumn;if(r.firstRow<m&&m<=r.lastRow){var w=pb(n,m,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow);l.push.apply(l,_toConsumableArray(w))}if(y){var _=gb(n,b,{first:r.firstRow,last:r.lastRow},i);l.push.apply(l,_toConsumableArray(_))}return l}},{key:"_replaceTableSlotCell",value:function(e,t,n,r){var i=e.cell;return e.isAnchor&&r.remove(i),t?(r.insert(t,n),t):null}},{key:"getTableIfOnlyTableInContent",value:function(e,t){return Ab(e,t)}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[db,Um]}}]),n}(Pr);function Ab(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);var n,r=t.createRangeIn(e),i=_createForOfIteratorHelper(r.getItems());try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.is("element","table")){var a=t.createRange(r.start,t.createPositionBefore(o));if(t.hasContent(a,{ignoreWhitespaces:!0}))return null;var s=t.createRange(t.createPositionAfter(o),r.end);return t.hasContent(s,{ignoreWhitespaces:!0})?null:o}}}catch(c){i.e(c)}finally{i.f()}return null}function pb(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!(t<1))return km(e,t,i).filter((function(e){return vb(e.column,e.cellWidth,n)})).map((function(e){return Cm(e.cell,t,r)}))}function gb(e,t,n,r){if(!(t<1))return Sm(e,t).filter((function(e){return vb(e.row,e.cellHeight,n)})).map((function(e){return xm(e.cell,e.column,t,r)}))}function vb(e,t,n){var r=e+t-1,i=n.first,o=n.last;return e>=i&&e<=o||e<i&&r>=i}var mb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(function(){return e._onArrowKey.apply(e,arguments)}),{context:"table"}),this.listenTo(t,"tab",(function(){return e._handleTabOnSelectedTable.apply(e,arguments)}),{context:"figure"}),this.listenTo(t,"tab",(function(){return e._handleTab.apply(e,arguments)}),{context:["th","td"]})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change((function(e){e.setSelection(e.createRangeIn(r.getChild(0).getChild(0)))})))}},{key:"_handleTab",value:function(e,t){var n=this.editor,r=this.editor.plugins.get(Um),i=!t.shiftKey,o=r.getTableCellsContainingSelection(n.model.document.selection)[0];if(o||(o=this.editor.plugins.get("TableSelection").getFocusCell()),o){t.preventDefault(),t.stopPropagation(),e.stop();var a=o.parent,s=a.parent,c=s.getChildIndex(a),u=a.getChildIndex(o),l=0===u;if(i||!l||0!==c){var h=u===a.childCount-1,d=c===r.getRows(s)-1;if(i&&d&&h&&(n.execute("insertTableRowBelow"),c===r.getRows(s)-1))n.model.change((function(e){e.setSelection(e.createRangeOn(s))}));else{var f;if(i&&h){var A=s.getChild(c+1);f=A.getChild(0)}else if(!i&&l){var p=s.getChild(c-1);f=p.getChild(p.childCount-1)}else f=a.getChild(u+(i?1:-1));n.model.change((function(e){e.setSelection(e.createRangeIn(f))}))}}else n.model.change((function(e){e.setSelection(e.createRangeOn(s))}))}}},{key:"_onArrowKey",value:function(e,t){var n=wr(t.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(n,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}},{key:"_handleArrowKeys",value:function(e,t){var n,r=this.editor.plugins.get(Um),i=this.editor.model,o=i.document.selection,a=["right","down"].includes(e),s=r.getSelectedTableCells(o);if(s.length)return n=t?this.editor.plugins.get("TableSelection").getFocusCell():a?s[s.length-1]:s[0],this._navigateFromCellInDirection(n,e,t),!0;var c=o.focus.findAncestor("tableCell");if(!c)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==a&&!o.containsEntireContent(c))return!1}else{var u=o.getSelectedElement();if(!u||!i.schema.isObject(u))return!1}return!!this._isSelectionAtCellEdge(o,c,a)&&(this._navigateFromCellInDirection(c,e,t),!0)}},{key:"_isSelectionAtCellEdge",value:function(e,t,n){var r=this.editor.model,i=this.editor.model.schema,o=n?e.getLastPosition():e.getFirstPosition();if(!i.getLimitElement(o).is("element","tableCell"))return r.createPositionAt(t,n?"end":0).isTouching(o);var a=r.createSelection(o);return r.modifySelection(a,{direction:n?"forward":"backward"}),o.isEqual(a.focus)}},{key:"_navigateFromCellInDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.editor.model,i=e.findAncestor("table"),o=_toConsumableArray(new dm(i,{includeAllSlots:!0})),a=o[o.length-1],s=a.row,c=a.column,u=o.find((function(t){return t.cell==e})),l=u.row,h=u.column;switch(t){case"left":h--;break;case"up":l--;break;case"right":h+=u.cellWidth;break;case"down":l+=u.cellHeight}if(l<0||l>s||h<0&&l<=0||h>c&&l>=s)r.change((function(e){e.setSelection(e.createRangeOn(i))}));else{h<0?(h=n?0:c,l--):h>c&&(h=n?c:0,l++);var d=o.find((function(e){return e.row==l&&e.column==h})).cell,f=["right","down"].includes(t),A=this.editor.plugins.get("TableSelection");if(n&&A.isEnabled){var p=A.getAnchorCell()||e;A.setCellSelection(p,d)}else{var g=r.createPositionAt(d,f?0:"end");r.change((function(e){e.setSelection(g)}))}}}}],[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[db,Um]}}]),n}(Pr),bb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).domEventType=["mousemove","mouseleave"],r}return _createClass(n,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),n}(Xo),yb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){this.editor.editing.view.addObserver(bb),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var e=this,t=this.editor,n=t.plugins.get(Um),r=!1,i=t.plugins.get(db);this.listenTo(t.editing.view.document,"mousedown",(function(o,a){var s=t.model.document.selection;if(e.isEnabled&&i.isEnabled&&a.domEvent.shiftKey){var c=i.getAnchorCell()||n.getTableCellsContainingSelection(s)[0];if(c){var u=e._getModelTableCellFromDomEvent(a);u&&wb(c,u)&&(r=!0,i.setCellSelection(c,u),a.preventDefault())}}})),this.listenTo(t.editing.view.document,"mouseup",(function(){r=!1})),this.listenTo(t.editing.view.document,"selectionChange",(function(e){r&&e.stop()}),{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,t,n=this,r=this.editor,i=!1,o=!1,a=r.plugins.get(db);this.listenTo(r.editing.view.document,"mousedown",(function(t,r){n.isEnabled&&a.isEnabled&&(r.domEvent.shiftKey||r.domEvent.ctrlKey||r.domEvent.altKey||(e=n._getModelTableCellFromDomEvent(r)))})),this.listenTo(r.editing.view.document,"mousemove",(function(r,s){if(s.domEvent.buttons&&e){var c=n._getModelTableCellFromDomEvent(s);c&&wb(e,c)&&(t=c,i||t==e||(i=!0)),i&&(o=!0,a.setCellSelection(e,t),s.preventDefault())}})),this.listenTo(r.editing.view.document,"mouseup",(function(){i=!1,o=!1,e=null,t=null})),this.listenTo(r.editing.view.document,"selectionChange",(function(e){o&&e.stop()}),{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(e){var t=this.editor.editing.view.createPositionAt(e.target,0);return this.editor.editing.mapper.toModelPosition(t).parent.findAncestor("tableCell",{includeSelf:!0})}}],[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[db,Um]}}]),n}(Pr);function wb(e,t){return e.parent.parent==t.parent.parent}var _b=i(6306);function kb(e){var t=e.getSelectedElement();return t&&Sb(t)?t:null}function Cb(e){var t=e.getFirstPosition();if(!t)return null;for(var n=t.parent;n;){if(n.is("element")&&Sb(n))return n;n=n.parent}return null}function Sb(e){return!!e.getCustomProperty("table")&&Xd(e)}zr()(_b.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var xb={autoRefresh:!0},Eb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb;if(_classCallCheck(this,e),!t)throw new C("token-missing-token-url",this);n.initValue&&this._validateTokenValue(n.initValue),this.set("value",n.initValue),this._refresh="function"==typeof t?t:function(){return e=t,new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.addEventListener("load",(function(){var e=r.status,i=r.response;return e<200||e>299?n(new C("token-cannot-download-new-token",null)):t(i)})),r.addEventListener("error",(function(){return n(new Error("Network Error"))})),r.addEventListener("abort",(function(){return n(new Error("Abort"))})),r.send()}));var e},this._options=Object.assign({},xb,n)}return _createClass(e,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e.value?(e._options.autoRefresh&&e._registerRefreshTokenTimeout(),t(e)):e.refreshToken().then(t).catch(n)}))}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then((function(t){e._validateTokenValue(t),e.set("value",t),e._options.autoRefresh&&e._registerRefreshTokenTimeout()})).then((function(){return e}))}},{key:"destroy",value:function(){clearTimeout(this._tokenRefreshTimeout)}},{key:"_validateTokenValue",value:function(e){var t="string"==typeof e,n=!/^".*"$/.test(e),r=t&&3===e.split(".").length;if(!n||!r)throw new C("token-not-in-jwt-format",this)}},{key:"_registerRefreshTokenTimeout",value:function(){var e=this,t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((function(){e.refreshToken()}),t)}},{key:"_getTokenRefreshTimeoutTime",value:function(){try{var e=_slicedToArray(this.value.split("."),2)[1],t=JSON.parse(atob(e)).exp;return t?Math.floor((1e3*t-Date.now())/2):36e5}catch(s){return 36e5}}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb;return new e(t,n).init()}}]),e}();m(Eb,W);var Ib=Eb,Bb=/^data:(\S*?);base64,/,Db=function(){function e(t,n,r){if(_classCallCheck(this,e),!t)throw new C("fileuploader-missing-file",null);if(!n)throw new C("fileuploader-missing-token",null);if(!r)throw new C("fileuploader-missing-api-address",null);this.file=function(e){if("string"!=typeof e)return!1;var t=e.match(Bb);return!(!t||!t.length)}(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{for(var n=e.match(Bb)[1],r=atob(e.replace(Bb,"")),i=[],o=0;o<r.length;o+=t){for(var a=r.slice(o,o+t),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);i.push(new Uint8Array(s))}return new Blob(i,{type:n})}catch(e){throw new C("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=n,this._apiAddress=r}return _createClass(e,[{key:"onProgress",value:function(e){return this.on("progress",(function(t,n){return e(n)})),this}},{key:"onError",value:function(e){return this.once("error",(function(t,n){return e(n)})),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,t=this,n=this.xhr;function r(e){return function(){return t.fire("error",e)}}n.addEventListener("error",r("Network Error")),n.addEventListener("abort",r("Abort")),n.upload&&n.upload.addEventListener("progress",(function(t){t.lengthComputable&&e.fire("progress",{total:t.total,uploaded:t.loaded})})),n.addEventListener("load",(function(){var t=n.status,r=n.response;if(t<200||t>299)return e.fire("error",r.message||r.error)}))}},{key:"_sendRequest",value:function(){var e=this,t=new FormData,n=this.xhr;return t.append("file",this.file),new Promise((function(r,i){n.addEventListener("load",(function(){var t=n.status,o=n.response;return t<200||t>299?i(o.message?new C("fileuploader-uploading-data-failed",e,{message:o.message}):o.error):r(o)})),n.addEventListener("error",(function(){return i(new Error("Network Error"))})),n.addEventListener("abort",(function(){return i(new Error("Abort"))})),n.send(t)}))}}]),e}();m(Db,R);var Tb=function(){function e(t,n){if(_classCallCheck(this,e),!t)throw new C("uploadgateway-missing-token",null);if(!n)throw new C("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=n}return _createClass(e,[{key:"upload",value:function(e){return new Db(e,this._token,this._apiAddress)}}]),e}(),Ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"createToken",value:function(e,t){return new Ib(e,t)}},{key:"createUploadGateway",value:function(e,t){return new Tb(e,t)}}],[{key:"pluginName",get:function(){return"CloudServicesCore"}}]),n}(Hr),Fb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}($h);Fb.builtinPlugins=[function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[Df,Qd,Nf,qd,vd,Kf]}},{key:"pluginName",get:function(){return"Essentials"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Wf).createUploadAdapter=function(n){return new $f(n,t,e.editor.t)})}}],[{key:"requires",get:function(){return[Wf]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this,t=this.editor.commands;t.get("bulletedList")&&eA(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&eA(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&eA(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&eA(this.editor,this,/^\[\s?x\s?\]\s$/,(function(){e.editor.execute("todoList"),e.editor.execute("checkTodoList")}))}},{key:"_addBasicStylesAutoformats",value:function(){var e=this.editor.commands;if(e.get("bold")){var t=rA(this.editor,"bold");tA(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),tA(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){var n=rA(this.editor,"italic");tA(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),tA(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(e.get("code")){var r=rA(this.editor,"code");tA(this.editor,this,/(`)([^`]+)(`)$/g,r)}if(e.get("strikethrough")){var i=rA(this.editor,"strikethrough");tA(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}},{key:"_addHeadingAutoformats",value:function(){var e=this,t=this.editor.commands.get("heading");t&&t.modelElements.filter((function(e){return e.match(/^heading[1-6]$/)})).forEach((function(n){var r=new RegExp("^(#{".concat(n[7],"})\\s$"));eA(e.editor,e,r,(function(){if(!t.isEnabled||t.value===n)return!1;e.editor.execute("heading",{value:n})}))}))}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&eA(this.editor,this,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){var e=this,t=this.editor,n=t.model.document.selection;t.commands.get("codeBlock")&&eA(t,this,/^```$/,(function(){if(n.getFirstPosition().parent.is("element","listItem"))return!1;e.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}},{key:"_addHorizontalLineAutoformats",value:function(){this.editor.commands.get("horizontalLine")&&eA(this.editor,this,/^---$/,"horizontalLine")}}],[{key:"requires",get:function(){return[gd]}},{key:"pluginName",get:function(){return"Autoformat"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[aA,cA]}},{key:"pluginName",get:function(){return"Bold"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[lA,dA]}},{key:"pluginName",get:function(){return"Italic"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[vA,bA]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"pluginName",get:function(){return"CKBox"}},{key:"requires",get:function(){return[TA,yA]}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return["Link","CKFinderUploadAdapter",LA,PA]}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.context.config.get("cloudServices")||{};for(var t in e)this[t]=e[t];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}},{key:"registerTokenUrl",value:function(e){if(this._tokens.has(e))return Promise.resolve(this.getTokenFor(e));var t=this.context.plugins.get("CloudServicesCore").createToken(e);return this._tokens.set(e,t),t.init()}},{key:"getTokenFor",value:function(e){var t=this._tokens.get(e);if(!t)throw new C("cloudservices-token-not-registered",this);return t}},{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this);var e,t=_createForOfIteratorHelper(this._tokens.values());try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"pluginName",get:function(){return"CloudServices"}},{key:"requires",get:function(){return[Ob]}}]),n}(Hr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||S("easy-image-image-feature-missing",e)}}],[{key:"requires",get:function(){return[UA,"ImageUpload"]}},{key:"pluginName",get:function(){return"EasyImage"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[WA,JA]}},{key:"pluginName",get:function(){return"Heading"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[mp,yp]}},{key:"pluginName",get:function(){return"Image"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[kp,Cp]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[Up,Qp]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"afterInit",value:function(){var e,t=this.editor,n=t.t,r=t.plugins.get(bf),i=t.plugins.get("ImageUtils");r.register("image",{ariaLabel:n("Image toolbar"),items:(e=t.config.get("image.toolbar")||[],e.map((function(e){return Q(e)?e.name:e}))),getRelatedElement:function(e){return i.getClosestSelectedImageWidget(e)}})}}],[{key:"requires",get:function(){return[bf,tp]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[og,Wp,Zp]}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[sg,lg]}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[zg,$g,nv]}},{key:"pluginName",get:function(){return"Link"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[Tv,Fv]}},{key:"pluginName",get:function(){return"List"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[Hv,Gv,zv,vf]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),n}(Pr),zA,function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"init",value:function(){var e=this.editor,t=e.editing.view.document,n=[];n.push(new om(t)),n.push(new tm(t)),e.plugins.get("ClipboardPipeline").on("inputTransformation",(function(r,i){if(!i._isTransformedWithPasteFromOffice&&!e.model.document.selection.getFirstPosition().parent.is("element","codeBlock")){var o=i.dataTransfer.getData("text/html"),a=n.find((function(e){return e.isActive(o)}));a&&(i._parsedData=function(e,t){var n=new DOMParser,r=function(e){return am(am(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(e){var t="</body>",n=e.indexOf(t);if(n<0)return e;var r=e.indexOf("</html>",n+t.length);return e.substring(0,n+t.length)+(r>=0?e.substring(r):"")}(e=e.replace(/<!--\[if gte vml 1]>/g,""))),i=n.parseFromString(r,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach((function(e){var t=e.innerText.length||0;e.innerText=Array(t+1).join("\xa0 ").substr(0,t)}))}(i);var o=i.body.innerHTML,a=function(e,t){for(var n=new no(t),r=new zo(n,{renderingMode:"data"}),i=e.createDocumentFragment(),o=e.body.childNodes;o.length>0;)i.appendChild(o[0]);return r.domToView(i,{skipComments:!0})}(i,t),s=function(e){for(var t=[],n=[],r=0,i=Array.from(e.getElementsByTagName("style"));r<i.length;r++){var o=i[r];o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(t.push(o.sheet),n.push(o.innerHTML))}return{styles:t,stylesString:n.join(" ")}}(i);return{body:a,bodyString:o,styles:s.styles,stylesString:s.stylesString}}(o,t.stylesProcessor),a.execute(i),i._isTransformedWithPasteFromOffice=!0)}}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[rd]}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"afterInit",value:function(){var e=this.editor;e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}},{key:"_setupConversion",value:function(){var e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("upcast").add(function(e){var t=["srcset","media","type","sizes"];return function(e){e.on("element:picture",n)};function n(n,r,i){var o=r.viewItem;if(i.consumable.test(o,{name:!0})){var a,s=new Map,c=_createForOfIteratorHelper(o.getChildren());try{for(c.s();!(a=c.n()).done;){var u=a.value;if(u.is("element","source")){for(var l={},h=0,d=t;h<d.length;h++){var f=d[h];u.hasAttribute(f)&&i.consumable.test(u,{attributes:f})&&(l[f]=u.getAttribute(f))}Object.keys(l).length&&s.set(u,l)}}}catch(_){c.e(_)}finally{c.f()}var A=e.findViewImgElement(o);if(A){var p=r.modelCursor.parent;if(!p.is("element","imageBlock")){var g=i.convertItem(A,r.modelCursor);r.modelRange=g.modelRange,r.modelCursor=g.modelCursor,p=Er(g.modelRange.getItems())}i.consumable.consume(o,{name:!0});var v,m=_createForOfIteratorHelper(s);try{for(m.s();!(v=m.n()).done;){var b=_slicedToArray(v.value,2),y=b[0],w=b[1];i.consumable.consume(y,{attributes:Object.keys(w)})}}catch(_){m.e(_)}finally{m.f()}s.size&&i.writer.setAttribute("sources",Array.from(s.values()),p),i.convertChildren(o,p)}}}}(n)),t.for("downcast").add(function(e){return function(e){e.on("attribute:sources:imageBlock",t),e.on("attribute:sources:imageInline",t)};function t(t,n,r){if(r.consumable.consume(n.item,t.name)){var i=r.writer,o=r.mapper.toViewElement(n.item),a=e.findViewImgElement(o);if(n.attributeNewValue&&n.attributeNewValue.length){for(var s=i.createContainerElement("picture",null,n.attributeNewValue.map((function(e){return i.createEmptyElement("source",e)}))),c=[],u=a.parent;u&&u.is("attributeElement");){var l=u.parent;i.unwrap(i.createRangeOn(a),u),c.unshift(u),u=l}i.insert(i.createPositionBefore(a),s),i.move(i.createRangeOn(a),i.createPositionAt(s,"end"));for(var h=0,d=c;h<d.length;h++){var f=d[h];i.wrap(i.createRangeOn(s),f)}}else if(a.parent.is("element","picture")){var A=a.parent;i.move(i.createRangeOn(a),i.createPositionBefore(A)),i.remove(A)}}}}(n))}},{key:"_setupImageUploadEditingIntegration",value:function(){var e=this.editor;e.plugins.has("ImageUploadEditing")&&this.listenTo(e.plugins.get("ImageUploadEditing"),"uploadComplete",(function(t,n){var r=n.imageElement,i=n.data.sources;i&&e.model.change((function(e){e.setAttributes({sources:i},r)}))}))}}],[{key:"requires",get:function(){return[Ap,tp]}},{key:"pluginName",get:function(){return"PictureEditing"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,null,[{key:"requires",get:function(){return[ob,ub,db,yb,mb,fb,vf]}},{key:"pluginName",get:function(){return"Table"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(bf),r=e.config.get("table.contentToolbar"),i=e.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:Cb}),i&&n.register("table",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:kb})}}],[{key:"requires",get:function(){return[bf]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),n}(Pr),function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e),e.config.define("typing",{transformations:{include:Bd}}),r}return _createClass(n,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var e=this.editor,t=e.model,n=e.plugins.get("Delete"),r=function(e){var t=e.remove||[],n=function(e){return!t.includes(e)};return function(e){var t,n=new Set,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("string"==typeof i&&Id[i]){var o,a=_createForOfIteratorHelper(Id[i]);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.add(s)}}catch(c){a.e(c)}finally{a.f()}}else n.add(i)}}catch(c){r.e(c)}finally{r.f()}return Array.from(n)}(e.include.concat(e.extra||[]).filter(n)).filter(n).map((function(e){return"string"==typeof e&&Ed[e]?Ed[e]:e})).filter((function(e){return"object"==typeof e})).map((function(e){return{from:Dd(e.from),to:Td(e.to)}}))}(e.config.get("typing.transformations")),i=new bd(e.model,(function(e){var t,n=_createForOfIteratorHelper(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.from.test(e))return{normalizedTransformation:i}}}catch(o){n.e(o)}finally{n.f()}}));i.on("matched:data",(function(e,r){if(r.batch.isTyping){var i=r.normalizedTransformation,o=i.from,a=i.to,s=o.exec(r.text),c=a(s.slice(1)),u=r.range,l=s.index;t.enqueueChange((function(e){for(var r=1;r<s.length;r++){var i=s[r],o=c[r-1];if(null!=o){var a=u.start.getShiftedBy(l),h=t.createRange(a,a.getShiftedBy(i.length)),d=Od(a);t.insertContent(e.createText(o,d),h),l+=o.length}else l+=i.length}t.enqueueChange((function(){n.requestUndoOnBackspace()}))}))}})),i.bind("isEnabled").to(this)}}],[{key:"requires",get:function(){return["Delete","Input"]}},{key:"pluginName",get:function(){return"TextTransformation"}}]),n}(Pr)],Fb.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}(),o.default}()}).call(this,n("YuTi")(e))},"/6Yf":function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.r(t);var a=n("qOnz");n.d(t,"Component",(function(){return s})),n.d(t,"ComponentContainer",(function(){return u})),n.d(t,"Provider",(function(){return c}));var s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),c=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=i(a.value,2),c=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),i(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var o=e.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var u=r(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var h=i(l.value,2),d=h[1];s===this.normalizeInstanceIdentifier(h[0])&&d.resolve(c)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return c},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new c(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"1eVo":function(e,t,n){"use strict";e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,i=arguments.length;r<i;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},"2Naf":function(e,t,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("woL0"),a=n("Yh+D"),s=global.XMLHttpRequest;function c(e,t,n,i){var o=this;r.call(this),setTimeout((function(){o._start(e,t,n,i)}),0)}i(c,r),c.prototype._start=function(e,t,n,r){var i=this;try{this.xhr=new s}catch(l){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(h){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var u in r.headers)this.xhr.setRequestHeader(u,r.headers[u]);this.xhr.onreadystatechange=function(){if(i.xhr){var e,t,n=i.xhr;switch(n.readyState){case 3:try{t=n.status,e=n.responseText}catch(h){}1223===t&&(t=204),200===t&&e&&e.length>0&&i.emit("chunk",t,e);break;case 4:1223===(t=n.status)&&(t=204),12005!==t&&12029!==t||(t=0),i.emit("finish",t,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(h){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!s;var u=["Active"].concat("Object").join("X");!c.enabled&&u in global&&(c.enabled=!!new(s=function(){try{return new global[u]("Microsoft.XMLHTTP")}catch(e){return null}}));var l=!1;try{l="withCredentials"in new s}catch(h){}c.supportsCORS=l,e.exports=c},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3/ER":function(e,t,n){"use strict";(function(e){var r=n("Ju5/"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("3UD+")(e))},"3N8a":function(e,t,n){"use strict";var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a);n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(r)},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3wkl":function(e,t,n){"use strict";var r=n("P7XM"),i=n("2Naf");function o(e,t,n,r){i.call(this,e,t,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,e.exports=o},"42Jg":function(e,t,n){"use strict";var r=n("P7XM"),i=n("moM4");function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),e.exports=o},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"4rNY":function(e,t,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("FUii"),a=n("3wkl"),s=n("c6pU");function c(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",o,a)}r(c,i),c.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||a.enabled)},c.transportName="xhr-polling",c.roundTrips=2,e.exports=c},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(c((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"5Vaj":function(e,t,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("sYUk"),a=n("FUii"),s=n("nX0T");function c(e){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",a,s)}r(c,i),c.enabled=o.enabled,c.transportName="xdr-polling",c.roundTrips=2,e.exports=c},"6Uf2":function(e,t,n){"use strict";(function(e){var t=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mAIw"),a=n("q/0M"),s="";function c(e){s=e}var u,l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(i.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(i.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(i.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},f=d("localStorage"),A=d("sessionStorage"),p=new a.Logger("@firebase/database"),g=(u=1,function(){return u++}),v=function(e){var t=Object(i.stringToByteArray)(e),n=new i.Sha1;n.update(t);var r=n.digest();return i.base64.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=0;o<t.length;o++){var a=t[o];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?Object(i.stringify)(a):a,r+=" "}return r},b=null,y=!0,w=function(e,t){Object(i.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=a.LogLevel.VERBOSE,b=p.log.bind(p),t&&A.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,A.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===y&&(y=!1,null===b&&!0===A.get("logging_enabled")&&w(!0)),b){var n=m.apply(null,e);b(n)}},k=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,Object(o.f)([e],Object(o.e)(t)))}},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(o.f)([],Object(o.e)(e)));p.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(o.f)([],Object(o.e)(e)));throw p.error(n),new Error(n)},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,Object(o.f)([],Object(o.e)(e)));p.warn(n)},E=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",B="[MAX_NAME]",D=function(e,t){if(e===t)return 0;if(e===I||t===B)return-1;if(t===I||e===B)return 1;var n=L(e),r=L(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},T=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(i.stringify)(t))},F=function e(t){if("object"!=typeof t||null===t)return Object(i.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",a=0;a<n.length;a++)0!==a&&(o+=","),o+=Object(i.stringify)(n[a]),o+=":",o+=e(t[n[a]]);return o+"}"},R=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function P(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var N=function(e){var t,n,r,o,a;Object(i.assert)(!E(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var c=s.join(""),u="";for(a=0;a<64;a+=8){var l=parseInt(c.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),L=function(e){if(M.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},U=function(e){try{e()}catch(t){setTimeout((function(){throw x("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},j=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},Q=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),H=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';x(e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),V=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function K(e,t,n){var r;if(Object(i.assert)("string"==typeof t,"typeof type must == string"),Object(i.assert)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var o=[];return P(n,(function(e,t){o.push(e+"="+t)})),r+o.join("&")}var G=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(i.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},e}(),W={},Y={};function J(e){var t=e.toString();return W[t]||(W[t]=new G),W[t]}var X=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&U((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Z=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(e),this.stats_=J(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),K(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new X(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(i.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.e)(e,5),i=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.e)(e,2),i=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(i.isNodeSdk)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(i.base64Encode)(t),r=R(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(i.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),$=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){_("frame writing exception"),c.stack&&_(c.stack),_(c)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ee=null;"undefined"!=typeof MozWebSocket?ee=MozWebSocket:"undefined"!=typeof WebSocket&&(ee=WebSocket);var te=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=J(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var o={v:"5"};return!Object(i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),K(e,"websocket",o)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+s+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new ee(this.connURL,[],r)}else this.mySock=new ee(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ee&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=R(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ne=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Z,te]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=te&&te.isAvailable(),a=i&&!te.previouslyFailed();if(t.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[te];else{var s=this.transports_=[];try{for(var c=Object(o.g)(e.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),re=function(){function e(e,t,n,r,i,o,a,s,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new ne(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=j((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?C("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),j((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ie=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),oe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(i.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(i.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),ae=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(o.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(oe),se=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ce(){return new se("")}function ue(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function le(e){return e.pieces_.length-e.pieceNum_}function he(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function de(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ae(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function pe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new se(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function ve(e,t){var n=ue(e),r=ue(t);if(null===n)return t;if(n===r)return ve(he(e),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function me(e,t){for(var n=fe(e,0),r=fe(t,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function be(e,t){if(le(e)!==le(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ye(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(le(e)>le(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var we=function(e,t){this.errorPrefix_=t,this.parts_=fe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);_e(this)};function _e(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ke(e))}function ke(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ce,Se,xe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(o.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(oe),Ee=function(e){function t(n,r,o,a,s,c,u,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=k("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return xe.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ae.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new i.Deferred,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&o===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,c=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==c&&n.removeListen_(i,o),e.onComplete&&e.onComplete(c,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(i.contains)(e,"w")){var n=Object(i.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(i.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(i.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(i.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):C("Unrecognized action received from server: "+Object(i.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,n,r,a,s,c,u,l,h,d,f,A,p,g=this;return Object(o.d)(this,(function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,r())},sendRequest:function(e){Object(i.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.e.apply(void 0,[v.sent(),2]),f=d[0],A=d[1],c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=A&&A.token,u=new re(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){x(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return p=v.sent(),this.log_("Failed to get token: "+p),c||(this.repoInfo_.nodeAdmin&&x(p),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return F(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new se(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var c=(n=void 0,Object(o.g)(s.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(i.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+s.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?e["framework.cordova"]=1:Object(i.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=ae.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ie),Ie=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ie(I,e),r=new Ie(I,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ie.MIN},e}(),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ce},set:function(e){Ce=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return D(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(B,Ce)},t.prototype.makePost=function(e,t){return Object(i.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ie(e,Ce)},t.prototype.toString=function(){return".key"},t}(Be),Te=new De,Oe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Fe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Pe.EMPTY_NODE,this.right=null!=o?o:Pe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Pe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Re=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Fe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Pe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Fe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Oe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Oe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Oe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Oe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Re,e}();function Ne(e,t){return D(e.name,t.name)}function Me(e,t){return D(e,t)}var Le,Ue,je,Qe,He,Ve=function(e){return"number"==typeof e?"number:"+N(e):"string:"+e},ze=function(e){if(e.isLeafNode()){var t=e.val();Object(i.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(i.contains)(t,".sv"),"Priority must be a string or number.")}else Object(i.assert)(e===Se||e.isEmpty(),"priority of unexpected type.");Object(i.assert)(e===Se||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},qe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ze(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Le},set:function(e){Le=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ge(t)?this:".priority"===ue(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ue(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===le(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ve(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?N(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(i.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ke=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(B,new qe("[PRIORITY-POST]",je))},t.prototype.makePost=function(e,t){var n=Ue(e);return new Ie(t,new qe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Be)),Ge=Math.log(2),We=function(){function e(e){this.count=parseInt(Math.log(e+1)/Ge,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ye=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var c=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Fe(a,o.node,Fe.BLACK,null,null);var c=parseInt(s/2,10)+r,u=t(r,c),l=t(c+1,i);return o=e[c],a=n?n(o):o,new Fe(a,o.node,Fe.BLACK,u,l)}(i+1,a),u=e[i],l=n?n(u):u;s(new Fe(l,u.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},c=0;c<t.count;++c){var u=t.nextBitIsOne(),l=Math.pow(2,t.count-(c+1));u?a(l,Fe.BLACK):(a(l,Fe.BLACK),a(l,Fe.RED))}return i}(new We(e.length));return new Pe(r||t,i)},Je={},Xe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(i.assert)(Je&&Ke,"ChildrenNode.ts has not been loaded"),Qe=Qe||new e({".priority":Je},{".priority":Ke})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(i.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pe?t:null},e.prototype.hasIndex=function(e){return Object(i.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(i.assert)(t!==Te,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,c=n.getIterator(Ie.Wrap),u=c.getNext();u;)s=s||t.isDefinedOn(u.node),a.push(u),u=c.getNext();r=s?Ye(a,t.getCompare()):Je;var l=t.toString(),h=Object(o.a)({},this.indexSet_);h[l]=t;var d=Object(o.a)({},this.indexes_);return d[l]=r,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(i.map)(this.indexes_,(function(e,o){var a=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(a,"Missing index implementation for "+o),e===Je){if(a.isDefinedOn(t.node)){for(var s=[],c=n.getIterator(Ie.Wrap),u=c.getNext();u;)u.name!==t.name&&s.push(u),u=c.getNext();return s.push(t),Ye(s,a.getCompare())}return Je}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Ie(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(i.map)(this.indexes_,(function(e){if(e===Je)return e;var r=n.get(t.name);return r?e.remove(new Ie(t.name,r)):e})),this.indexSet_)},e}(),Ze=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ze(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return He||(He=new e(new Pe(Me),null,Xe.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||He},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?He:t},e.prototype.getChild=function(e){var t=ue(e);return null===t?this:this.getImmediateChild(t).getChild(he(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ie(t,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?He:this.priorityNode_;return new e(o,s,a)},e.prototype.updateChild=function(e,t){var n=ue(e);if(null===n)return t;Object(i.assert)(".priority"!==ue(e)||1===le(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(he(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ke,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ve(this.getPriority().val())+":"),this.forEachChild(Ke,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ie(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$e?-1:0},e.prototype.withIndex=function(t){if(t===Te||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Te||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ke),r=t.getIterator(Ke),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Te?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),$e=new(function(e){function t(){return e.call(this,new Pe(Me),Ze.EMPTY_NODE,Xe.Default)||this}return Object(o.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ze.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ze));function et(e,t){if(void 0===t&&(t=null),null===e)return Ze.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(i.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new qe(e,et(t));if(e instanceof Array){var n=Ze.EMPTY_NODE;return P(e,(function(t,r){if(Object(i.contains)(e,t)&&"."!==t.substring(0,1)){var o=et(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}})),n.updatePriority(et(t))}var r=[],o=!1;if(P(e,(function(e,t){if("."!==e.substring(0,1)){var n=et(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Ie(e,n)))}})),0===r.length)return Ze.EMPTY_NODE;var a=Ye(r,Ne,(function(e){return e.name}),Me);if(o){var s=Ye(r,Ke.getCompare());return new Ze(a,et(t),new Xe({".priority":s},{".priority":Ke}))}return new Ze(a,et(t),Xe.Default)}Object.defineProperties(Ie,{MIN:{value:new Ie(I,Ze.EMPTY_NODE)},MAX:{value:new Ie(B,$e)}}),De.__EMPTY_NODE=Ze.EMPTY_NODE,qe.__childrenNodeConstructor=Ze,Se=$e,je=$e,function(e){Ue=e}(et);var tt,nt,rt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(i.assert)(!ge(t)&&".priority"!==ue(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=et(e),r=Ze.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ie(t,r)},t.prototype.maxPost=function(){var e=Ze.EMPTY_NODE.updateChild(this.indexPath_,$e);return new Ie(B,e)},t.prototype.toString=function(){return fe(this.indexPath_,0).join("/")},t}(Be),it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?D(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(e,t){var n=et(e);return new Ie(t,n)},t.prototype.toString=function(){return".value"},t}(Be)),ot="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",at=(tt=0,nt=[],function(e){var t,n=e===tt;tt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ot.charAt(e%64),e=Math.floor(e/64);Object(i.assert)(0===e,"Cannot push at time == 0");var o=r.join("");if(n){for(t=11;t>=0&&63===nt[t];t--)nt[t]=0;nt[t]++}else for(t=0;t<12;t++)nt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=ot.charAt(nt[t]);return Object(i.assert)(20===o.length,"nextPushId: Length should be 20."),o}),st=function(e){if("2147483647"===e)return"-";var t=L(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return B;var o=ot.charAt(ot.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ct=function(e){if("-2147483648"===e)return I;var t=L(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ot.charAt(ot.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ut(e){return{type:"value",snapshotNode:e}}function lt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ht(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function dt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ft=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,a){Object(i.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ht(t,s)):Object(i.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(lt(t,n)):a.trackChildChange(dt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ke,(function(e,r){t.hasChild(e)||n.trackChildChange(ht(e,r))})),t.isLeafNode()||t.forEachChild(Ke,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(dt(t,r,i))}else n.trackChildChange(lt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ze.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),At=function(){function e(t){this.indexedFilter_=new ft(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ie(t,n))||(n=Ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ze.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ze.EMPTY_NODE);var i=this;return t.forEachChild(Ke,(function(e,t){i.matches(new Ie(e,t))||(r=r.updateImmediateChild(e,Ze.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),pt=function(){function e(e){this.rangedFilter_=new At(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ie(t,n))||(n=Ze.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ze.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ze.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ze.EMPTY_NODE);var s=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&u(s,a)<=0&&(h=!0),h&&o<this.limit_&&u(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Ze.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var c=e;Object(i.assert)(c.numChildren()===this.limit_,"");var u=new Ie(t,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(t)){for(var d=c.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var A=null==f?1:a(f,u);if(h&&!n.isEmpty()&&A>=0)return null!=o&&o.trackChildChange(dt(t,n,d)),c.updateImmediateChild(t,n);null!=o&&o.trackChildChange(ht(t,d));var p=c.updateImmediateChild(t,Ze.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(lt(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:h&&a(l,u)>=0?(null!=o&&(o.trackChildChange(ht(l.name,l.node)),o.trackChildChange(lt(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(l.name,Ze.EMPTY_NODE)):e},e}(),gt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:B},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ke},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function vt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function bt(e,t){var n=e.copy();return n.index_=t,n}function yt(e){var t,n={};return e.isDefault()?n:(e.index_===Ke?t="$priority":e.index_===it?t="$value":e.index_===Te?t="$key":(Object(i.assert)(e.index_ instanceof rt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(i.stringify)(t),e.startSet_&&(n.startAt=Object(i.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(i.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(i.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(i.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n)}function wt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ke&&(t.i=e.index_.toString()),t}var _t=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=k("p:rest:"),o.listens_={},o}return Object(o.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(i.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,o){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var c=t.getListenId_(e,r),u={};this.listens_[c]=u;var l=yt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(i.safeGet)(a.listens_,c)===u&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=yt(e._queryParams),r=e._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var i=n;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var s=Object(o.e)(a,2),c=s[0],u=s[1];c&&c.accessToken&&(t.auth=c.accessToken),u&&u.token&&(t.ac=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(i.jsonEval)(h.responseText)}catch(t){x("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&x("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(ie),kt=function(){function e(){this.rootNode_=Ze.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ct(){return{value:null,children:new Map}}function St(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ue(t);e.children.has(r)||e.children.set(r,Ct()),St(e.children.get(r),t=he(t),n)}}function xt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){xt(r,new se(t.toString()+"/"+e),n)}))}var Et=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(o.a)({},e);return this.last_&&P(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),It=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Et(e);var n=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;P(t,(function(t,o){o>0&&Object(i.contains)(e.statsToReport_,t)&&(n[t]=o,r=!0)})),r&&this.server_.reportStats(n),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Bt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function Dt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Tt,Ot=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Bt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ge(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new se(t));return new e(ce(),n,this.revert)}return Object(i.assert)(ue(this.path)===t,"operationForChild called for unrelated child."),new e(he(this.path),this.affectedTree,this.revert)},e}(),Ft=function(){function e(e,t){this.source=e,this.path=t,this.type=Bt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,ce()):new e(this.source,he(this.path))},e}(),Rt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Bt.OVERWRITE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,ce(),this.snap.getImmediateChild(t)):new e(this.source,he(this.path),this.snap)},e}(),Pt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Bt.MERGE}return e.prototype.operationForChild=function(t){if(ge(this.path)){var n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Rt(this.source,ce(),n.value):new e(this.source,ce(),n)}return Object(i.assert)(ue(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,he(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Nt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;var t=ue(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Mt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Lt(e,t,n,r,o,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),o=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}(e,n,a);o.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ut(e,t){return{eventCache:e,serverCache:t}}function jt(e,t,n,r){return Ut(new Nt(t,n,r),e.serverCache)}function Qt(e,t,n,r){return Ut(e.eventCache,new Nt(t,n,r))}function Ht(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Vt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var zt=function(){function e(e,t){void 0===t&&(Tt||(Tt=new Pe(T)),t=Tt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return P(t,(function(e,t){n=n.set(new se(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ce(),value:this.value};if(ge(e))return null;var n=ue(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(he(e),t);return null!=i?{path:pe(new se(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ge(t))return this;var n=ue(t),r=this.children.get(n);return null!==r?r.subtree(he(t)):new e(null)},e.prototype.set=function(t,n){if(ge(t))return new e(n,this.children);var r=ue(t),i=(this.children.get(r)||new e(null)).set(he(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ge(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ue(t),r=this.children.get(n);if(r){var i=r.remove(he(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ge(e))return this.value;var t=ue(e),n=this.children.get(t);return n?n.get(he(e)):null},e.prototype.setTree=function(t,n){if(ge(t))return n;var r,i=ue(t),o=(this.children.get(i)||new e(null)).setTree(he(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(ce(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(pe(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ce(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ge(e))return null;var i=ue(e),o=this.children.get(i);return o?o.findOnPath_(he(e),pe(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ce(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ge(t))return this;this.value&&r(n,this.value);var i=ue(t),o=this.children.get(i);return o?o.foreachOnPath_(he(t),pe(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ce(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(pe(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),qt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new zt(null))},e}();function Kt(e,t,n){if(ge(t))return new qt(new zt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=ve(i,t);return o=o.updateChild(a,n),new qt(e.writeTree_.set(i,o))}var s=new zt(n),c=e.writeTree_.setTree(t,s);return new qt(c)}function Gt(e,t,n){var r=e;return P(n,(function(e,n){r=Kt(r,pe(t,e),n)})),r}function Wt(e,t){if(ge(t))return qt.empty();var n=e.writeTree_.setTree(t,new zt(null));return new qt(n)}function Yt(e,t){return null!=Jt(e,t)}function Jt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ve(n.path,t)):null}function Xt(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ke,(function(e,n){t.push(new Ie(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ie(e,n.value))})),t}function Zt(e,t){if(ge(t))return e;var n=Jt(e,t);return new qt(null!=n?new zt(n):e.writeTree_.subtree(t))}function $t(e){return e.writeTree_.isEmpty()}function en(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var o=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(i.assert)(null!==a.value,"Priority writes must always be leaf nodes"),o=a.value):r=e(pe(t,n),a,r)})),r.getChild(t).isEmpty()||null===o||(r=r.updateChild(pe(t,".priority"),o)),r}(ce(),e.writeTree_,t)}function tn(e,t){return fn(t,e)}function nn(e,t){if(e.snap)return ye(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ye(pe(e.path,n),t))return!0;return!1}function rn(e){return e.visible}function on(e,t,n){for(var r=qt.empty(),o=0;o<e.length;++o){var a=e[o];if(t(a)){var s=a.path,c=void 0;if(a.snap)ye(n,s)?r=Kt(r,c=ve(n,s),a.snap):ye(s,n)&&(c=ve(s,n),r=Kt(r,ce(),a.snap.getChild(c)));else{if(!a.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(ye(n,s))r=Gt(r,c=ve(n,s),a.children);else if(ye(s,n))if(ge(c=ve(s,n)))r=Gt(r,ce(),a.children);else{var u=Object(i.safeGet)(a.children,ue(c));if(u){var l=u.getChild(he(c));r=Kt(r,ce(),l)}}}}}return r}function an(e,t,n,r,i){if(r||i){var o=Zt(e.visibleWrites,t);return!i&&$t(o)?n:i||null!=n||Yt(o,ce())?en(on(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ye(e.path,t)||ye(t,e.path))}),t),n||Ze.EMPTY_NODE):null}var a=Jt(e.visibleWrites,t);if(null!=a)return a;var s=Zt(e.visibleWrites,t);return $t(s)?n:null!=n||Yt(s,ce())?en(s,n||Ze.EMPTY_NODE):null}function sn(e,t,n,r){return an(e.writeTree,e.treePath,t,n,r)}function cn(e,t){return function(e,t,n){var r=Ze.EMPTY_NODE,i=Jt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ke,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Zt(e.visibleWrites,t);return n.forEachChild(Ke,(function(e,t){var n=en(Zt(o,new se(e)),t);r=r.updateImmediateChild(e,n)})),Xt(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Xt(Zt(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function un(e,t,n,r){return function(e,t,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=pe(t,n);if(Yt(e.visibleWrites,a))return null;var s=Zt(e.visibleWrites,a);return $t(s)?o.getChild(n):en(s,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ln(e,t){return function(e,t){return Jt(e.visibleWrites,t)}(e.writeTree,pe(e.treePath,t))}function hn(e,t,n){return function(e,t,n,r){var i=pe(t,n),o=Jt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?en(Zt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function dn(e,t){return fn(pe(e.treePath,t),e.writeTree)}function fn(e,t){return{treePath:e,writeTree:t}}var An=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(i.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,dt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,ht(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,lt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,dt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),pn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),gn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Nt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Vt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,c=Zt(e.visibleWrites,t),u=Jt(c,ce());if(null!=u)s=u;else{if(null==n)return[];s=en(c,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),d=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function vn(e,t,n,r,o,a){var s=t.eventCache;if(null!=ln(r,n))return t;var c=void 0,u=void 0;if(ge(n))if(Object(i.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Vt(t),h=cn(r,l instanceof Ze?l:Ze.EMPTY_NODE);c=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=sn(r,Vt(t));c=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=ue(n);if(".priority"===f){Object(i.assert)(1===le(n),"Can't have a priority with additional path components");var A=s.getNode(),p=un(r,n,A,u=t.serverCache.getNode());c=null!=p?e.filter.updatePriority(A,p):s.getNode()}else{var g=he(n),v=void 0;if(s.isCompleteForChild(f)){u=t.serverCache.getNode();var m=un(r,n,s.getNode(),u);v=null!=m?s.getNode().getImmediateChild(f).updateChild(g,m):s.getNode().getImmediateChild(f)}else v=hn(r,f,t.serverCache);c=null!=v?e.filter.updateChild(s.getNode(),f,v,g,o,a):s.getNode()}}return jt(t,c,s.isFullyInitialized()||ge(n),e.filter.filtersNodes())}function mn(e,t,n,r,i,o,a,s){var c,u=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(ge(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ue(n);if(!u.isCompleteForPath(n)&&le(n)>1)return t;var f=he(n),A=u.getNode().getImmediateChild(d).updateChild(f,r);c=".priority"===d?l.updatePriority(u.getNode(),A):l.updateChild(u.getNode(),d,A,f,pn,null)}var p=Qt(t,c,u.isFullyInitialized()||ge(n),l.filtersNodes());return vn(e,p,n,i,new gn(i,p,o),s)}function bn(e,t,n,r,i,o,a){var s,c,u=t.eventCache,l=new gn(i,t,o);if(ge(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=jt(t,c,!0,e.filter.filtersNodes());else{var h=ue(n);if(".priority"===h)c=e.filter.updatePriority(t.eventCache.getNode(),r),s=jt(t,c,u.isFullyInitialized(),u.isFiltered());else{var d=he(n),f=u.getNode().getImmediateChild(h),A=void 0;if(ge(d))A=r;else{var p=l.getCompleteChild(h);A=null!=p?".priority"===de(d)&&p.getChild(Ae(d)).isEmpty()?p:p.updateChild(d,r):Ze.EMPTY_NODE}s=f.equals(A)?t:jt(t,e.filter.updateChild(u.getNode(),h,A,d,l,a),u.isFullyInitialized(),e.filter.filtersNodes())}}return s}function yn(e,t){return e.eventCache.isCompleteForChild(t)}function wn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function _n(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c,u=t;c=ge(n)?r:new zt(null).setTree(n,r);var l=t.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var c=wn(0,t.serverCache.getNode().getImmediateChild(n),r);u=mn(e,u,new se(n),c,i,o,a,s)}})),c.children.inorderTraversal((function(n,r){var c=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=wn(0,t.serverCache.getNode().getImmediateChild(n),r);u=mn(e,u,new se(n),h,i,o,a,s)}})),u}var kn,Cn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ft(r.getIndex()),o=(n=r).loadsAllData()?new ft(n.getIndex()):n.hasLimit()?new pt(n):new At(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,c=i.updateFullNode(Ze.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(Ze.EMPTY_NODE,s.getNode(),null),l=new Nt(c,a.isFullyInitialized(),i.filtersNodes()),h=new Nt(u,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ut(h,l),this.eventGenerator_=new Mt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Sn(e,t){var n=Vt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(ue(t)).isEmpty())?n.getChild(t):null}function xn(e){return 0===e.eventRegistrations_.length}function En(e,t,n){var r=[];if(n){Object(i.assert)(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var c=e.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(c)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function In(e,t,n,r){t.type===Bt.MERGE&&null!==t.source.queryId&&(Object(i.assert)(Vt(e.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(Ht(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,s=e.viewCache_,c=function(e,t,n,r,o){var a,s,c=new An;if(n.type===Bt.OVERWRITE){var u=n;u.source.fromUser?a=bn(e,t,u.path,u.snap,r,o,c):(Object(i.assert)(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!ge(u.path),a=mn(e,t,u.path,u.snap,r,o,s,c))}else if(n.type===Bt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,c){var u=pe(n,r);yn(t,ue(u))&&(s=bn(e,s,u,c,i,o,a))})),r.foreach((function(r,c){var u=pe(n,r);yn(t,ue(u))||(s=bn(e,s,u,c,i,o,a))})),s}(e,t,l.path,l.children,r,o,c):(Object(i.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=_n(e,t,l.path,l.children,r,o,s,c))}else if(n.type===Bt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,o,a){var s;if(null!=ln(r,n))return t;var c=new gn(r,t,o),u=t.eventCache.getNode(),l=void 0;if(ge(n)||".priority"===ue(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=sn(r,Vt(t));else{var d=t.serverCache.getNode();Object(i.assert)(d instanceof Ze,"serverChildren would be complete if leaf node"),h=cn(r,d)}l=e.filter.updateFullNode(u,h=h,a)}else{var f=ue(n),A=hn(r,f,t.serverCache);null==A&&t.serverCache.isCompleteForChild(f)&&(A=u.getImmediateChild(f)),(l=null!=A?e.filter.updateChild(u,f,A,he(n),c,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(u,f,Ze.EMPTY_NODE,he(n),c,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=sn(r,Vt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=ln(r,ce()),jt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,o,c):function(e,t,n,r,i,o,a){if(null!=ln(i,n))return t;var s=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return mn(e,t,n,c.getNode().getChild(n),i,o,s,a);if(ge(n)){var u=new zt(null);return c.getNode().forEachChild(Te,(function(e,t){u=u.set(new se(e),t)})),_n(e,t,n,u,i,o,s,a)}return t}var l=new zt(null);return r.foreach((function(e,t){var r=pe(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),_n(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,o,c)}else{if(n.type!==Bt.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return vn(e,Qt(t,o.getNode(),o.isFullyInitialized()||ge(n),o.isFiltered()),n,r,pn,i)}(e,t,n.path,r,c)}var d=c.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ht(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ut(Ht(t)))}}(t,a,d),{viewCache:a,changes:d}}(e.processor_,s,t,n,r);return o=e.processor_,a=c.viewCache,Object(i.assert)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=c.viewCache,Bn(e,c.changes,c.viewCache.eventCache.getNode(),null)}function Bn(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})})),Lt(e,i,"child_removed",t,r,n),Lt(e,i,"child_added",t,r,n),Lt(e,i,"child_moved",o,r,n),Lt(e,i,"child_changed",t,r,n),Lt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var Dn,Tn=function(){this.views=new Map};function On(e,t,n,r){var a,s,c=t.source.queryId;if(null!==c){var u=e.views.get(c);return Object(i.assert)(null!=u,"SyncTree gave us an op for an invalid query."),In(u,t,n,r)}var l=[];try{for(var h=Object(o.g)(e.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(In(u=d.value,t,n,r))}catch(f){a={error:f}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l}function Fn(e,t,n,r,i){var o=e.views.get(t._queryIdentifier);if(!o){var a=sn(n,i?r:null),s=!1;a?s=!0:r instanceof Ze?(a=cn(n,r),s=!1):(a=Ze.EMPTY_NODE,s=!1);var c=Ut(new Nt(a,s,!1),new Nt(r,i,!1));return new Cn(t,c)}return o}function Rn(e){var t,n,r=[];try{for(var i=Object(o.g)(e.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Pn(e,t){var n,r,i=null;try{for(var a=Object(o.g)(e.views.values()),s=a.next();!s.done;s=a.next())i=i||Sn(s.value,t)}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function Nn(e,t){return t._queryParams.loadsAllData()?Un(e):e.views.get(t._queryIdentifier)}function Mn(e,t){return null!=Nn(e,t)}function Ln(e){return null!=Un(e)}function Un(e){var t,n;try{for(var r=Object(o.g)(e.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var jn=1,Qn=function(e){this.listenProvider_=e,this.syncPointTree_=new zt(null),this.pendingWriteTree_={visibleWrites:qt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Hn(e,t,n,r,o){return function(e,t,n,r,o){Object(i.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Kt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Wn(e,new Rt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Vn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,a=!1,s=e.allWrites.length-1;o&&s>=0;){var c=e.allWrites[s];c.visible&&(s>=n&&nn(c,r.path)?o=!1:ye(r.path,c.path)&&(a=!0)),s--}return!!o&&(a?(function(e){e.visibleWrites=on(e.allWrites,rn,ce()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Wt(e.visibleWrites,r.path):P(r.children,(function(t){e.visibleWrites=Wt(e.visibleWrites,pe(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var o=new zt(null);return null!=r.snap?o=o.set(ce(),!0):P(r.children,(function(e){o=o.set(new se(e),!0)})),Wn(e,new Ot(r.path,o,n))}return[]}function zn(e,t,n){return Wn(e,new Rt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function qn(e,t,n,r){var a=t._path,s=e.syncPointTree_.get(a),c=[];if(s&&("default"===t._queryIdentifier||Mn(s,t))){var u=function(e,t,n,r){var a,s,c=t._queryIdentifier,u=[],l=[],h=Ln(e);if("default"===c)try{for(var d=Object(o.g)(e.views.entries()),f=d.next();!f.done;f=d.next()){var A,p=Object(o.e)(f.value,2),g=p[0];l=l.concat(En(A=p[1],n,r)),xn(A)&&(e.views.delete(g),A.query._queryParams.loadsAllData()||u.push(A.query))}}catch(v){a={error:v}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}else(A=e.views.get(c))&&(l=l.concat(En(A,n,r)),xn(A)&&(e.views.delete(c),A.query._queryParams.loadsAllData()||u.push(A.query)));return h&&!Ln(e)&&u.push(new(Object(i.assert)(kn,"Reference.ts has not been loaded"),kn)(t._repo,t._path)),{removed:u,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;c=u.events;var h=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return Ln(t)}));if(h&&!d){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var A=function(e){return e.fold((function(e,t,n){if(t&&Ln(t))return[Un(t)];var r=[];return t&&(r=Rn(t)),P(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<A.length;++p){var g=A[p],v=g.query,m=Yn(e,g);e.listenProvider_.startListening(tr(v),Jn(e,v),m.hashFn,m.onComplete)}}!d&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(tr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(Xn(t));e.listenProvider_.stopListening(tr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Xn(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return c}function Kn(e,t,n){var r=t._path,o=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ve(e,r);o=o||Pn(t,n),a=a||Ln(t)}));var s,c=e.syncPointTree_.get(r);c?(a=a||Ln(c),o=o||Pn(c,ce())):(c=new Tn,e.syncPointTree_=e.syncPointTree_.set(r,c)),null!=o?s=!0:(s=!1,o=Ze.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Pn(t,ce());n&&(o=o.updateImmediateChild(e,n))})));var u=Mn(c,t);if(!u&&!t._queryParams.loadsAllData()){var l=Xn(t);Object(i.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=jn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var d=function(e,t,n,r,i,o){var a=Fn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(function(e,t){r.push(lt(e,t))})),n.isFullyInitialized()&&r.push(ut(n.getNode())),Bn(e,r,n.getNode(),t)}(a,n)}(c,t,n,tn(e.pendingWriteTree_,r),o,s);if(!u&&!a){var f=Nn(c,t);d=d.concat(function(e,t,n){var r=t._path,o=Jn(e,t),a=Yn(e,n),s=e.listenProvider_.startListening(tr(t),o,a.hashFn,a.onComplete),c=e.syncPointTree_.subtree(r);if(o)Object(i.assert)(!Ln(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(e,t,n){if(!ge(e)&&t&&Ln(t))return[Un(t).query];var r=[];return t&&(r=r.concat(Rn(t).map((function(e){return e.query})))),P(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var h=u[l];e.listenProvider_.stopListening(tr(h),Jn(e,h))}return s}(e,t,f))}return d}function Gn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Pn(n,ve(e,t));if(r)return r}));return an(r,t,i,n,!0)}function Wn(e,t){return function e(t,n,r,i){if(ge(t.path))return function e(t,n,r,i){var o=n.get(ce());null==r&&null!=o&&(r=Pn(o,ce()));var a=[];return n.children.inorderTraversal((function(n,o){var s=r?r.getImmediateChild(n):null,c=dn(i,n),u=t.operationForChild(n);u&&(a=a.concat(e(u,o,s,c)))})),o&&(a=a.concat(On(o,t,i,r))),a}(t,n,r,i);var o=n.get(ce());null==r&&null!=o&&(r=Pn(o,ce()));var a=[],s=ue(t.path),c=t.operationForChild(s),u=n.children.get(s);if(u&&c){var l=r?r.getImmediateChild(s):null,h=dn(i,s);a=a.concat(e(c,u,l,h))}return o&&(a=a.concat(On(o,t,i,r))),a}(t,e.syncPointTree_,null,tn(e.pendingWriteTree_,ce()))}function Yn(e,t){var n=t.query,r=Jn(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Ze.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Zn(e,n);if(r){var i=$n(r),o=i.path,a=i.queryId,s=ve(o,t);return er(e,o,new Ft(Dt(a),s))}return[]}(e,n._path,r):function(e,t){return Wn(e,new Ft({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return qn(e,n,null,i)}}}function Jn(e,t){var n=Xn(t);return e.queryToTagMap.get(n)}function Xn(e){return e._path.toString()+"$"+e._queryIdentifier}function Zn(e,t){return e.tagToQueryMap.get(t)}function $n(e){var t=e.indexOf("$");return Object(i.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function er(e,t,n){var r=e.syncPointTree_.get(t);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),On(r,n,tn(e.pendingWriteTree_,t),null)}function tr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(i.assert)(Dn,"Reference.ts has not been loaded"),Dn)(e._repo,e._path):e}var nr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),rr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=pe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Gn(this.syncTree_,this.path_)},e}(),ir=function(e,t,n){return e&&"object"==typeof e?(Object(i.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?or(e[".sv"],t,n):"object"==typeof e[".sv"]?ar(e[".sv"],t):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},or=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(i.assert)(!1,"Unexpected server value: "+e)}},ar=function(e,t,n){e.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=t.node();if(Object(i.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!=typeof a?r:a+r},sr=function(e,t,n,r){return ur(t,new rr(n,e),r)},cr=function(e,t,n){return ur(e,new nr(t),n)};function ur(e,t,n){var r,i=e.getPriority().val(),o=ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ir(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new qe(s,et(o)):e}var c=e;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new qe(o))),c.forEachChild(Ke,(function(e,i){var o=ur(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var lr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function hr(e,t){for(var n=t instanceof se?t:new se(t),r=e,o=ue(n);null!==o;){var a=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new lr(o,r,a),o=ue(n=he(n))}return r}function dr(e){return e.node.value}function fr(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){var o=function(e){return void 0===dr(e)&&!Ar(e)}(r),a=Object(i.contains)(t.node.children,n);o&&a?(delete t.node.children[n],t.node.childCount--,e(t)):o||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function Ar(e){return e.node.childCount>0}function pr(e,t){P(e.node.children,(function(n,r){t(new lr(n,e,r))}))}function gr(e){return new se(null===e.parent?e.name:gr(e.parent)+"/"+e.name)}var vr=/[\[\].#$\/\u0000-\u001F\u007F]/,mr=/[\[\].#$\u0000-\u001F\u007F]/,br=function(e){return"string"==typeof e&&0!==e.length&&!vr.test(e)},yr=function(e){return"string"==typeof e&&0!==e.length&&!mr.test(e)},wr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!E(e)||e&&"object"==typeof e&&Object(i.contains)(e,".sv")},_r=function(e,t,n,r){r&&void 0===t||kr(Object(i.errorPrefix)(e,"value"),t,n)},kr=function e(t,n,r){var o=r instanceof se?new we(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ke(o));if("function"==typeof n)throw new Error(t+"contains a function "+ke(o)+" with contents = "+n.toString());if(E(n))throw new Error(t+"contains "+n.toString()+" "+ke(o));if("string"==typeof n&&n.length>10485760/3&&Object(i.stringLength)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+ke(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(P(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!br(n)))throw new Error(t+" contains an invalid key ("+n+") "+ke(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var c,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(i.stringLength)(t),_e(e)}(o,n),e(t,r,o),u=(c=o).parts_.pop(),c.byteLength_-=Object(i.stringLength)(u),c.parts_.length>0&&(c.byteLength_-=1)})),a&&s)throw new Error(t+' contains ".value" child '+ke(o)+" in addition to actual children.")}},Cr=function(e,t,n,r){if(!r||void 0!==t){var o=Object(i.errorPrefix)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var a=[];P(t,(function(e,t){var r=new se(e);if(kr(o,t,pe(n,r)),".priority"===de(r)&&!wr(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=fe(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!br(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(me);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ye(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},Sr=function(e,t,n){if(!n||void 0!==t){if(E(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wr(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Er=function(e,t,n,r){if(!(r&&void 0===n||br(n)))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ir=function(e,t,n,r){if(!(r&&void 0===n||yr(n)))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Br=function(e,t){if(".info"===ue(t))throw new Error(e+" failed = Can't modify data under /.info/")},Dr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!br(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yr(e)}(n))throw new Error(Object(i.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Tr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.errorPrefix)(e,t)+"must be a boolean.")},Or=function(){this.eventLists_=[],this.recursionDepth_=0};function Fr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||be(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Rr(e,t,n){Fr(e,n),Nr(e,(function(e){return be(e,t)}))}function Pr(e,t,n){Fr(e,n),Nr(e,(function(e){return ye(e,t)||ye(t,e)}))}function Nr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Mr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Mr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&_("event: "+n.toString()),U(r)}}}var Lr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Or,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ct(),this.transactionQueueTree_=new lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Ur(e){var t=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function jr(e){return(t=(t={timestamp:Ur(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Qr(e,t,n,r,o){e.dataUpdateCount++;var a=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(o)if(r){var c=Object(i.map)(n,(function(e){return et(e)}));s=function(e,t,n,r){var i=Zn(e,r);if(i){var o=$n(i),a=o.path,s=o.queryId,c=ve(a,t),u=zt.fromObject(n);return er(e,a,new Pt(Dt(s),c,u))}return[]}(e.serverSyncTree_,a,c,o)}else{var u=et(n);s=function(e,t,n,r){var i=Zn(e,r);if(null!=i){var o=$n(i),a=o.path,s=o.queryId,c=ve(a,t);return er(e,a,new Rt(Dt(s),c,n))}return[]}(e.serverSyncTree_,a,u,o)}else if(r){var l=Object(i.map)(n,(function(e){return et(e)}));s=function(e,t,n){var r=zt.fromObject(n);return Wn(e,new Pt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=et(n);s=zn(e.serverSyncTree_,a,h)}var d=a;s.length>0&&(d=$r(e,a)),Pr(e.eventQueue_,d,s)}function Hr(e,t){Vr(e,"connected",t),!1===t&&function(e){Yr(e,"onDisconnectEvents");var t=jr(e),n=Ct();xt(e.onDisconnect_,ce(),(function(r,i){var o=sr(r,i,e.serverSyncTree_,t);St(n,r,o)}));var r=[];xt(n,ce(),(function(t,n){r=r.concat(zn(e.serverSyncTree_,t,n));var i=ri(e,t);$r(e,i)})),e.onDisconnect_=Ct(),Pr(e.eventQueue_,ce(),r)}(e)}function Vr(e,t,n){var r=new se("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var o=zn(e.infoSyncTree_,r,i);Pr(e.eventQueue_,r,o)}function zr(e){return e.nextWriteId_++}function qr(e,t,n,r,i){Yr(e,"set",{path:t.toString(),value:n,priority:r});var o=jr(e),a=et(n,r),s=Gn(e.serverSyncTree_,t),c=cr(a,s,o),u=zr(e),l=Hn(e.serverSyncTree_,t,c,u,!0);Fr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||x("set at "+t+" failed: "+n);var a=Vn(e.serverSyncTree_,u,!o);Pr(e.eventQueue_,t,a),Jr(0,i,n,r)}));var h=ri(e,t);$r(e,h),Pr(e.eventQueue_,h,[])}function Kr(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&St(e.onDisconnect_,t,i),Jr(0,r,n,o)}))}function Gr(e,t,n){var r;r=".info"===ue(t._path)?qn(e.infoSyncTree_,t,n):qn(e.serverSyncTree_,t,n),Rr(e.eventQueue_,t._path,r)}function Wr(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_.apply(void 0,Object(o.f)([r],Object(o.e)(t)))}function Jr(e,t,n,r){t&&U((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Xr(e,t,n){return Gn(e.serverSyncTree_,t,n)||Ze.EMPTY_NODE}function Zr(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ni(e,t),dr(t)){var n=ti(e,t);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),o=Xr(e,t,r),a=o,s=o.hash(),c=0;c<n.length;c++){var u=n[c];Object(i.assert)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=ve(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var h=a.val(!0),d=t;e.server_.put(d.toString(),h,(function(r){Yr(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Vn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(ni(e,hr(e.transactionQueueTree_,t)),Zr(e,e.transactionQueueTree_),Pr(e.eventQueue_,t,i),s=0;s<o.length;s++)U(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(x("transaction at "+d.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;$r(e,t)}}),s)}(e,gr(t),n)}else Ar(t)&&pr(t,(function(t){Zr(e,t)}))}function $r(e,t){var n=ei(e,t),r=gr(n);return function(e,t,n){if(0!==t.length){for(var r=[],o=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var c,u=t[s],l=ve(n,u.path),h=!1;if(Object(i.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,o=o.concat(Vn(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",o=o.concat(Vn(e.serverSyncTree_,u.currentWriteId,!0));else{var d=Xr(e,u.path,a);u.currentInputSnapshot=d;var f=t[s].update(d.val());if(void 0!==f){kr("transaction failed: Data returned ",f,u.path);var A=et(f);"object"==typeof f&&null!=f&&Object(i.contains)(f,".priority")||(A=A.updatePriority(d.getPriority()));var p=u.currentWriteId,g=jr(e),v=cr(A,d,g);u.currentOutputSnapshotRaw=A,u.currentOutputSnapshotResolved=v,u.currentWriteId=zr(e),a.splice(a.indexOf(p),1),o=(o=o.concat(Hn(e.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally))).concat(Vn(e.serverSyncTree_,p,!0))}else h=!0,c="nodata",o=o.concat(Vn(e.serverSyncTree_,u.currentWriteId,!0))}Pr(e.eventQueue_,n,o),o=[],h&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&r.push("nodata"===c?function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)}:function(){return t[s].onComplete(new Error(c),!1,null)}))},c=0;c<t.length;c++)s(c);for(ni(e,e.transactionQueueTree_),c=0;c<r.length;c++)U(r[c]);Zr(e,e.transactionQueueTree_)}}(e,ti(e,n),r),r}function ei(e,t){var n,r=e.transactionQueueTree_;for(n=ue(t);null!==n&&void 0===dr(r);)r=hr(r,n),n=ue(t=he(t));return r}function ti(e,t){var n=[];return function e(t,n,r){var i=dr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);pr(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ni(e,t){var n=dr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,fr(t,n.length>0?n:void 0)}pr(t,(function(t){ni(e,t)}))}function ri(e,t){var n=gr(ei(e,t)),r=hr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ii(e,t)})),ii(e,r),function e(t,n,r,i){r&&!i&&n(t),pr(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){ii(e,t)})),n}function ii(e,t){var n=dr(t);if(n){for(var r=[],o=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(i.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(i.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(Vn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?fr(t,void 0):n.length=a+1,Pr(e.eventQueue_,gr(t),o),s=0;s<r.length;s++)U(r[s])}}var oi=function(e,t){var n=ai(e),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new q(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new se(n.pathString)}},ai=function(e){var t="",n="",r="",i="",a="",s=!0,c="https",u=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(c=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(h,d)),h<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,d)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(o.g)(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var c=s.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):x("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===c||"wss"===c,u=parseInt(t.substring(l+1),10)):l=t.length;var A=t.slice(0,l);if("localhost"===A.toLowerCase())n="localhost";else if(A.split(".").length<=2)n=A;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:c,pathString:i,namespace:a}},si=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},e}(),ci=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ui=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e,t,n,r=new i.Deferred;return e=this._repo,t=this._path,n=r.wrapCallback((function(){})),e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(ge(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(Ke,(function(e,n){St(t,new se(e),n)})),e(t,n)}if(t.children.size>0){var i=ue(n);return n=he(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),Jr(0,n,r,i)})),r.promise},e.prototype.remove=function(){Br("OnDisconnect.remove",this._path);var e=new i.Deferred;return Kr(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Br("OnDisconnect.set",this._path),_r("OnDisconnect.set",e,this._path,!1);var t=new i.Deferred;return Kr(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Br("OnDisconnect.setWithPriority",this._path),_r("OnDisconnect.setWithPriority",e,this._path,!1),Sr("OnDisconnect.setWithPriority",t,!1);var n=new i.Deferred;return function(e,t,n,r,i){var o=et(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&St(e.onDisconnect_,t,o),Jr(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Br("OnDisconnect.update",this._path),Cr("OnDisconnect.update",e,this._path,!1);var t=new i.Deferred;return function(e,t,n,r){if(Object(i.isEmpty)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void Jr(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&P(n,(function(n,r){var i=et(r);St(e.onDisconnect_,pe(t,n),i)})),Jr(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),hi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:de(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new pi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=wt(this._queryParams),t=F(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return wt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(i.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=be(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function di(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function fi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Te){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==B)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===Ke){if(null!=t&&!wr(t)||null!=n&&!wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(e.getIndex()instanceof rt||e.getIndex()===it,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ai(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pi=function(e){function t(t,n){return e.call(this,t,n,new gt,!1)||this}return Object(o.c)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ae(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(hi),gi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new se(t),r=bi(this.ref,t);return new e(this._node.getChild(n),r,Ke)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,bi(n.ref,r),Ke))}))},e.prototype.hasChild=function(e){var t=new se(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function vi(e,t){return(e=Object(i.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?bi(e._root,t):e._root}function mi(e,t){(e=Object(i.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=oi(t,e._repo.repoInfo_.nodeAdmin);Dr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),vi(e,n.path.toString())}function bi(e,t){var n;return null===ue((e=Object(i.getModularInstance)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ir("child","path",n,!1)):Ir("child","path",t,!1),new pi(e._repo,pe(e._path,t))}function yi(e,t){e=Object(i.getModularInstance)(e),Br("push",e._path),_r("push",t,e._path,!0);var n,r=Ur(e._repo),o=at(r),a=bi(e,o),s=bi(e,o);return n=null!=t?_i(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function wi(e){return Br("remove",e._path),_i(e,null)}function _i(e,t){e=Object(i.getModularInstance)(e),Br("set",e._path),_r("set",t,e._path,!1);var n=new i.Deferred;return qr(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ki(e,t){e=Object(i.getModularInstance)(e),Br("setPriority",e._path),Sr("setPriority",t,!1);var n=new i.Deferred;return qr(e._repo,pe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ci(e,t,n){if(Br("setWithPriority",e._path),_r("setWithPriority",t,e._path,!1),Sr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new i.Deferred;return qr(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Si(e,t){Cr("update",t,e._path,!1);var n=new i.Deferred;return function(e,t,n,r){Yr(e,"update",{path:t.toString(),value:n});var o=!0,a=jr(e),s={};if(P(n,(function(n,r){o=!1,s[n]=sr(pe(t,n),et(r),e.serverSyncTree_,a)})),o)_("update() called with empty data.  Don't do anything."),Jr(0,r,"ok",void 0);else{var c=zr(e),u=function(e,t,n,r){!function(e,t,n,r){Object(i.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Gt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var o=zt.fromObject(n);return Wn(e,new Pt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(e.serverSyncTree_,t,s,c);Fr(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||x("update at "+t+" failed: "+n);var a=Vn(e.serverSyncTree_,c,!o),s=a.length>0?$r(e,t):t;Pr(e.eventQueue_,s,a),Jr(0,r,n,i)})),P(n,(function(n){var r=ri(e,pe(t,n));$r(e,r)})),Pr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var xi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new si("value",this,new gi(e.snapshotNode,new pi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ci(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ei=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return this.eventType===("children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ci(this,e,t):null},e.prototype.createEvent=function(e,t){Object(i.assert)(null!=e.childName,"Child events should have a childName.");var n=bi(new pi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new si(e.type,this,new gi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ii(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Gr(e._repo,e,u),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var c=new ui(n,o||void 0),u="value"===t?new xi(c):new Ei(t,c);return function(e,t,n){var r;r=".info"===ue(t._path)?Kn(e.infoSyncTree_,t,n):Kn(e.serverSyncTree_,t,n),Rr(e.eventQueue_,t._path,r)}(e._repo,e,u),function(){return Gr(e._repo,e,u)}}function Bi(e,t,n,r){return Ii(e,"value",t,n,r)}function Di(e,t,n,r){return Ii(e,"child_added",t,n,r)}function Ti(e,t,n,r){return Ii(e,"child_changed",t,n,r)}function Oi(e,t,n,r){return Ii(e,"child_moved",t,n,r)}function Fi(e,t,n,r){return Ii(e,"child_removed",t,n,r)}function Ri(e,t,n){var r=null,i=n?new ui(n):null;"value"===t?r=new xi(i):t&&(r=new Ei(t,i)),Gr(e._repo,e,r)}var Pi=function(){},Ni=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){_r("endAt",this._value,e._path,!0);var t=mt(e._queryParams,this._value,this._key);if(Ai(t),fi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(e._repo,e._path,t,e._orderByCalled)},t}(Pi);function Mi(e,t){return Er("endAt","key",t,!0),new Ni(e,t)}var Li=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){_r("endBefore",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Te?("string"==typeof n&&(n=ct(n)),i=mt(t,n,r)):i=mt(t,n,null==r?I:ct(r)),i.endBeforeSet_=!0,i);if(Ai(o),fi(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(e._repo,e._path,o,e._orderByCalled)},t}(Pi);function Ui(e,t){return Er("endBefore","key",t,!0),new Li(e,t)}var ji=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){_r("startAt",this._value,e._path,!0);var t=vt(e._queryParams,this._value,this._key);if(Ai(t),fi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(e._repo,e._path,t,e._orderByCalled)},t}(Pi);function Qi(e,t){return void 0===e&&(e=null),Er("startAt","key",t,!0),new ji(e,t)}var Hi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){_r("startAfter",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Te?("string"==typeof n&&(n=st(n)),i=vt(t,n,r)):i=vt(t,n,null==r?B:st(r)),i.startAfterSet_=!0,i);if(Ai(o),fi(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(e._repo,e._path,o,e._orderByCalled)},t}(Pi);function Vi(e,t){return Er("startAfter","key",t,!0),new Hi(e,t)}var zi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="l",n),e._orderByCalled);var t,n},t}(Pi);function qi(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zi(e)}var Ki=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="r",n),e._orderByCalled);var t,n},t}(Pi);function Gi(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ki(e)}var Wi=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){di(e,"orderByChild");var t=new se(this._path);if(ge(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new rt(t),r=bt(e._queryParams,n);return fi(r),new hi(e._repo,e._path,r,!0)},t}(Pi);function Yi(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ir("orderByChild","path",e,!1),new Wi(e)}var Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){di(e,"orderByKey");var t=bt(e._queryParams,Te);return fi(t),new hi(e._repo,e._path,t,!0)},t}(Pi);function Xi(){return new Ji}var Zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){di(e,"orderByPriority");var t=bt(e._queryParams,Ke);return fi(t),new hi(e._repo,e._path,t,!0)},t}(Pi);function $i(){return new Zi}var eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){di(e,"orderByValue");var t=bt(e._queryParams,it);return fi(t),new hi(e._repo,e._path,t,!0)},t}(Pi);function to(){return new eo}var no=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){if(_r("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ni(this._value,this._key)._apply(new ji(this._value,this._key)._apply(e))},t}(Pi);function ro(e,t){return Er("equalTo","key",t,!0),new no(e,t)}function io(e){for(var t,n,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=Object(i.getModularInstance)(e);try{for(var c=Object(o.g)(r),u=c.next();!u.done;u=c.next()){var l=u.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return s}!function(e){Object(i.assert)(!kn,"__referenceConstructor has already been defined"),kn=e}(pi),function(e){Object(i.assert)(!Dn,"__referenceConstructor has already been defined"),Dn=e}(pi);var oo={},ao=!1;function so(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=oi(o,i),c=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,c=(s=oi(o="http://"+u+"?ns="+c.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new V(V.OWNER):new H(e.name,e.options,t);Dr("Invalid Firebase Database URL",s),ge(s.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=oo[t.name];i||(oo[t.name]=i={});var o=i[e.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Lr(e,ao,n,r),i[e.toURLString()]=o,o}(c,e,l,new Q(e.name,n));return new co(h,e)}var co=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=J(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new _t(e.repoInfo_,(function(t,n,r,i){Qr(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Hr(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}e.persistentConnection_=new Ee(e.repoInfo_,t,(function(t,n,r,i){Qr(e,t,n,r,i)}),(function(t){Hr(e,t)}),(function(t){!function(e,t){P(t,(function(t,n){Vr(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=function(){return new It(e.stats_,e.server_)},o=e.repoInfo_.toString(),Y[o]||(Y[o]=r()),Y[o]),e.infoData_=new kt,e.infoSyncTree_=new Qn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=zn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Vr(e,"connected",!1),e.serverSyncTree_=new Qn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Pr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new pi(this._repo,ce())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,(n=oo[t=this.app.name])&&n[e.key]===e||S("Database "+t+"("+e.repoInfo_+") has already been deleted."),Wr(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&S("Cannot call "+e+" on a deleted database.")},e}();function uo(e){(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOffline"),Wr(e._repo)}function lo(e){var t;(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},fo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Ao(e,t,n){var r;if(e=Object(i.getModularInstance)(e),Br("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new i.Deferred,s=Bi(e,(function(){}));return function(t,n,r,o,s,c){Yr(t,"transaction on "+n);var u={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new gi(r,new pi(e._repo,e._path),Ke),a.resolve(new fo(n,i)))},status:null,order:g(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Xr(t,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{kr("transaction failed: Data returned ",h,u.path),u.status=0;var d=hr(t.transactionQueueTree_,n),f=dr(d)||[];f.push(u),fr(d,f);var A=void 0;"object"==typeof h&&null!==h&&Object(i.contains)(h,".priority")?(A=Object(i.safeGet)(h,".priority"),Object(i.assert)(wr(A),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):A=(Gn(t.serverSyncTree_,n)||Ze.EMPTY_NODE).getPriority().val();var p=jr(t),v=et(h,A),m=cr(v,l,p);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=m,u.currentWriteId=zr(t);var b=Hn(t.serverSyncTree_,n,m,u.currentWriteId,u.applyLocally);Pr(t.eventQueue_,n,b),Zr(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,o),a.promise}var po=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},e}(),go=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),vo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ir("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Ir("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new bo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),mo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,o){var a,s=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var c=e.getCancelAndContextArgs_("Query.on",r,o),u=function(e,t){n.call(c.context,new vo(s.database,e),t)};u.userCallback=n,u.context=c.context;var l=null===(a=c.cancel)||void 0===a?void 0:a.bind(c.context);switch(t){case"value":return Bi(this._delegate,u,l),n;case"child_added":return Di(this._delegate,u,l),n;case"child_removed":return Fi(this._delegate,u,l),n;case"child_changed":return Ti(this._delegate,u,l),n;case"child_moved":return Oi(this._delegate,u,l),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),xr("Query.off",e,!0),Object(i.validateCallback)("Query.off","callback",t,!0),Object(i.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Ri(this._delegate,e,r)}else Ri(this._delegate,e)},e.prototype.get=function(){var e=this;return function(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ve(e,n);r=r||Pn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Pn(i,ce()):(i=new Tn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Nt(r,!0,!1):null;return Ht(Fn(i,t,tn(e.pendingWriteTree_,t._path),o?a.getNode():Ze.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=et(n).withIndex(t._queryParams.getIndex()),i=zn(e.serverSyncTree_,t._path,r);return Rr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Yr(e,"get for query "+Object(i.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(i.getModularInstance)(e))._repo,e).then((function(t){return new gi(t,new pi(e._repo,e._path),e._queryParams.getIndex())}))}(this._delegate).then((function(t){return new vo(e.database,t)}))},e.prototype.once=function(t,n,r,o){var a=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,o),c=new i.Deferred,u=function(e,t){var r=new vo(a.database,e);n&&n.call(s.context,r,t),c.resolve(r)};u.userCallback=n,u.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),c.reject(e)};switch(t){case"value":Bi(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Di(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Fi(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Ti(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Oi(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},e.prototype.limitToFirst=function(t){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,io(this._delegate,qi(t)))},e.prototype.limitToLast=function(t){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,io(this._delegate,Gi(t)))},e.prototype.orderByChild=function(t){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,io(this._delegate,Yi(t)))},e.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,io(this._delegate,Xi()))},e.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,io(this._delegate,$i()))},e.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,io(this._delegate,to()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,io(this._delegate,Qi(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,io(this._delegate,Vi(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,io(this._delegate,Mi(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,io(this._delegate,Ui(t,n)))},e.prototype.equalTo=function(t,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,io(this._delegate,ro(t,n)))},e.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(i.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(i.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new bo(this.database,new pi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),bo=function(e){function t(t,n){var r=e.call(this,t,new hi(n._repo,n._path,new gt,!1))||this;return r.database=t,r._delegate=n,r}return Object(o.c)(t,e),t.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,bi(this._delegate,e))},t.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",t,!0);var n=_i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Br("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",t,!0);var o=Si(this._delegate,e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},t.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ci(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",e,!0);var t=wi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(i.validateCallback)("Reference.transaction","onComplete",t,!0),Tr("Reference.transaction","applyLocally",n,!0);var o=Ao(this._delegate,e,{applyLocally:n}).then((function(e){return new go(e.committed,new vo(r.database,e.snapshot))}));return t&&o.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),o},t.prototype.setPriority=function(e,t){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=ki(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=yi(this._delegate,e),a=o.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,o);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Br("Reference.onDisconnect",this._delegate._path),new po(new li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(mo),yo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=Object(i.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var o=e._repoInternal,a=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new V(V.OWNER);else if(r.mockUserToken){var s="string"==typeof r.mockUserToken?r.mockUserToken:Object(i.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new V(s)}!function(e,t,n,r){e.repoInfo_=new q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(o,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),e instanceof bo){var t=mi(this._delegate,e.toString());return new bo(this,t)}return t=vi(this._delegate,e),new bo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(i.validateArgCount)(t,1,1,arguments.length);var n=mi(this._delegate,e);return new bo(this,n)},e.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),uo(this._delegate)},e.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),lo(this._delegate)},e.ServerValue={TIMESTAMP:ho,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),wo=Object.freeze({__proto__:null,forceLongPolling:function(){te.forceDisallow(),Z.forceAllow()},forceWebSockets:function(){Z.forceDisallow()},isWebSocketsAvailable:function(){return te.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Et(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);P(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;c(e.version);var u=new r.Provider("auth-internal",new r.ComponentContainer("database-standalone"));return u.setComponent(new r.Component("auth-internal",(function(){return i}),"PRIVATE")),{instance:new yo(so(t,u,void 0,n,s),t),namespace:o}}}),_o=Ee;Ee.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ee.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ko=Object.freeze({__proto__:null,DataConnection:_o,RealTimeConnection:re,hijackHash:function(e){var t=Ee.prototype.put;return Ee.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ee.prototype.put=t}},ConnectionTarget:q,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){ao=e}(e)}}),Co=yo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new r.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new yo(so(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:bo,Query:mo,Database:yo,DataSnapshot:vo,enableLogging:w,INTERNAL:wo,ServerValue:Co,TEST_ACCESS:ko}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),Object(i.isNodeSdk)()&&(e.exports=n)}(t.default)}).call(this,n("3UD+")(e))},"6Zju":function(e,t,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter;function o(e,t){i.call(this),this.sendBuffer=[],this.sender=t,this.url=e}r(o,i),o.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){t.sendStop=null,t.sendSchedule()}),25)},o.prototype.sendSchedule=function(){var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=o},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),c=n("NJ4a"),u=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t,o){var a;switch(_classCallCheck(this,r),(a=n.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof r?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,t,o)}return a}return _createClass(r,[{key:t,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i}}]),r}(o.a,a.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var c,u;_classCallCheck(this,n),(c=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(c);return Object(r.a)(o)?u=o:o&&(u=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&c.add(l.unsubscribe.bind(l)),l.unsubscribe=c.unsubscribe.bind(_assertThisInitialized(c)))),c._context=l,c._next=u,c._error=a,c._complete=s,c}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(u)},"8fj+":function(e,t,n){"use strict";var r=n("woL0"),i=n("kwwM"),o=n("JqAl");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in global||(global[e.exports.WPrefix]={})},postMessage:function(t,n){global.parent!==global&&global.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:n||""}),"*")},createIframe:function(e,t){var n,i,o=global.document.createElement("iframe"),a=function(){clearTimeout(n);try{o.onload=null}catch(e){}o.onerror=null},s=function(){o&&(a(),setTimeout((function(){o&&o.parentNode.removeChild(o),o=null}),0),r.unloadDel(i))},c=function(e){o&&(s(),t(e))};return o.src=e,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(n),n=setTimeout((function(){c("onload timeout")}),2e3)},global.document.body.appendChild(o),n=setTimeout((function(){c("timeout")}),15e3),i=r.unloadAdd(s),{post:function(e,t){setTimeout((function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}}),0)},cleanup:s,loaded:a}},createHtmlfile:function(t,n){var i,o,a,s=["Active"].concat("Object").join("X"),c=new global[s]("htmlfile"),u=function(){clearTimeout(i),a.onerror=null},l=function(){c&&(u(),r.unloadDel(o),a.parentNode.removeChild(a),a=c=null,CollectGarbage())},h=function(e){c&&(l(),n(e))};c.open(),c.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[e.exports.WPrefix]=global[e.exports.WPrefix];var d=c.createElement("div");return c.body.appendChild(d),a=c.createElement("iframe"),d.appendChild(a),a.src=t,a.onerror=function(){h("onerror")},i=setTimeout((function(){h("timeout")}),15e3),o=r.unloadAdd(l),{post:function(e,t){try{setTimeout((function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}),0)}catch(n){}},cleanup:l,loaded:u}}},e.exports.iframeEnabled=!1,global.document&&(e.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!o.isKonqueror())},"96lO":function(e,t,n){"use strict";var r=n("P7XM"),i=n("Yh+D"),o=n("6Zju"),a=n("Dohz");function s(e,t,n,r,s){var c=i.addPath(e,t),u=this;o.call(this,e,n),this.poll=new a(r,c,s),this.poll.on("message",(function(e){u.emit("message",e)})),this.poll.once("close",(function(e,t){u.poll=null,u.emit("close",e,t),u.close()}))}r(s,o),s.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=s},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},"9wH6":function(e,t,n){"use strict";var r=n("raCH").EventEmitter;function i(){var e=this;r.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),i.timeout)}n("P7XM")(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,e.exports=i},AEAD:function(e,t,n){"use strict";e.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||t.length&&-1===t.indexOf(e.transportName)||e.enabled(n)&&(r.main.push(e),e.facadeTransport&&r.facade.push(e.facadeTransport)))})),r}}}},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(u.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[c.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[c.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}n.d(t,"a",(function(){return h}))},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},Dohz:function(e,t,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter;function o(e,t,n){i.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,r){e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=o},E8Ah:function(e,t,n){"use strict";var r=global.WebSocket||global.MozWebSocket;e.exports=r?function(e){return new r(e)}:void 0},EBWB:function(e,t){e.exports="1.4.0"},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},EcEN:function(e,t,n){var r=n("xDdU"),i=n("xk4V"),o=i;o.v1=r,o.v4=i,e.exports=o},FUii:function(e,t,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter;function o(e,t){i.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null,n.emit("close",null,200===e?"network":"permanent"),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=o},GBY4:function(e,t,n){"use strict";var r=n("RA0T"),i=n("nFlj"),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function h(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return p(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function A(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n,r={},i=typeof(e=e||t.location||{});if("blob:"===e.protocol)r=new v(unescape(e.pathname),{});else if("string"===i)for(n in r=new v(e,{}),f)delete r[n];else if("object"===i){for(n in e)n in f||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=s.test(e.href))}return r}function p(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=h(e)).replace(a,""),t=t||{};var n,r=u.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],c=0;return o?s?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):s?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===i?c>=2&&(n=n.slice(2)):p(i)?n=r[4]:i?o&&(n=n.slice(2)):c>=2&&p(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||p(i),slashesCount:c,rest:n}}function v(e,t,n){if(e=(e=h(e)).replace(a,""),!(this instanceof v))return new v(e,t,n);var o,s,c,u,f,m,b=d.slice(),y=typeof t,w=this,_=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),o=!(s=g(e||"",t=A(t))).protocol&&!s.slashes,w.slashes=s.slashes||o&&t.slashes,w.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!p(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);_<b.length;_++)"function"!=typeof(u=b[_])?(m=u[1],(c=u[0])!=c?w[m]=e:"string"==typeof c?~(f="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof u[2]?(w[m]=e.slice(0,f),e=e.slice(f+u[2])):(w[m]=e.slice(f),e=e.slice(0,f))):(f=c.exec(e))&&(w[m]=f[1],e=e.slice(0,f.index)),w[m]=w[m]||o&&u[3]&&t[m]||"",u[4]&&(w[m]=w[m].toLowerCase())):e=u(e,w);n&&(w.query=n(w.query)),o&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&p(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(f=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,f),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(f+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&p(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}v.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,c.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<d.length;u++){var l=d[u];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&p(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||p(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&p(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},v.extractProtocol=g,v.location=A,v.trimLeft=h,v.qs=i,e.exports=v},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),c=n("2fFW");n.d(t,"a",(function(){return l}));var u,l=((u=function(e){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var a=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(s.add(a?a.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(s.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),t}(a.a)).create=function(e){return new u(e)},u);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}();n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},JYLm:function(e,t,n){"use strict";var r=n("z+YZ");e.exports={string:function(e){for(var t="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(e),i=[],o=0;o<e;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[o]%t,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.default})),r.default.registerVersion("firebase","8.10.1","app"),r.default.SDK_VERSION="8.10.1"},JqAl:function(e,t,n){"use strict";e.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(e){return!1}}}},"Ju5/":function(e,t,n){"use strict";var r=n("XqMk"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},"JuP+":function(e,t,n){"use strict";var r=n("P7XM"),i=n("nzop"),o=n("1eVo");e.exports=function(e){function t(t,n){i.call(this,e.transportName,t,n)}return r(t,i),t.enabled=function(t,n){if(!global.document)return!1;var r=o.extend({},n);return r.sameOrigin=!0,e.enabled(r)&&i.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=i.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},"OX/4":function(e,t,n){"use strict";var r=n("woL0"),i=n("Yh+D"),o=n("P7XM"),a=n("raCH").EventEmitter,s=n("E8Ah");function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");a.call(this);var o=this,u=i.addPath(e,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new s(this.url,[],n),this.ws.onmessage=function(e){o.emit("message",e.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(e){o.emit("close",e.code,e.reason),o._cleanup()},this.ws.onerror=function(e){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,a),c.prototype.send=function(e){this.ws.send("["+e+"]")},c.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!s},c.transportName="websocket",c.roundTrips=2,e.exports=c},P7XM:function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},PSD3:function(e,t,n){e.exports=function(){"use strict";var e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},t=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},n=t(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),r=t(["success","warning","info","question","error"]),i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o=function(e){console.warn("SweetAlert2: ".concat("object"==typeof e?e.join(" "):e))},a=function(e){console.error("SweetAlert2: ".concat(e))},s=[],c=function(e){return"function"==typeof e?e():e},u=function(e){return e&&"function"==typeof e.toPromise},l=function(e){return u(e)?e.toPromise():Promise.resolve(e)},h=function(e){return e&&Promise.resolve(e)===e},d=function(){return document.body.querySelector(".".concat(n.container))},f=function(e){var t=d();return t?t.querySelector(e):null},A=function(e){return f(".".concat(e))},p=function(){return A(n.popup)},g=function(){return A(n.icon)},v=function(){return A(n.title)},m=function(){return A(n["html-container"])},b=function(){return A(n.image)},y=function(){return A(n["progress-steps"])},w=function(){return A(n["validation-message"])},_=function(){return f(".".concat(n.actions," .").concat(n.confirm))},k=function(){return f(".".concat(n.actions," .").concat(n.deny))},C=function(){return f(".".concat(n.loader))},S=function(){return f(".".concat(n.actions," .").concat(n.cancel))},x=function(){return A(n.actions)},E=function(){return A(n.footer)},I=function(){return A(n["timer-progress-bar"])},B=function(){return A(n.close)},D=function(){var e=Array.from(p().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),t=Array.from(p().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return W(e)}))},T=function(){return P(document.body,n.shown)&&!P(document.body,n["toast-shown"])&&!P(document.body,n["no-backdrop"])},O=function(){return p()&&P(p(),n.toast)},F={previousBodyPadding:null},R=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},P=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},N=function(e,t,i){if(function(e,t){Array.from(e.classList).forEach((function(i){Object.values(n).includes(i)||Object.values(r).includes(i)||Object.values(t.showClass).includes(i)||e.classList.remove(i)}))}(e,t),t.customClass&&t.customClass[i]){if("string"!=typeof t.customClass[i]&&!t.customClass[i].forEach)return void o("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(typeof t.customClass[i],'"'));j(e,t.customClass[i])}},M=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(n.popup," > .").concat(n[t]));case"checkbox":return e.querySelector(".".concat(n.popup," > .").concat(n.checkbox," input"));case"radio":return e.querySelector(".".concat(n.popup," > .").concat(n.radio," input:checked"))||e.querySelector(".".concat(n.popup," > .").concat(n.radio," input:first-child"));case"range":return e.querySelector(".".concat(n.popup," > .").concat(n.range," input"));default:return e.querySelector(".".concat(n.popup," > .").concat(n.input))}},L=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},U=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},j=function(e,t){U(e,t,!0)},Q=function(e,t){U(e,t,!1)},H=function(e,t){for(var n=Array.from(e.children),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLElement&&P(i,t))return i}},V=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},q=function(e){e.style.display="none"},K=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex";t?z(e,n):q(e)},W=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},Y=function(e){return!!(e.scrollHeight>e.clientHeight)},J=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=I();W(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},Z={},$=function(){return"undefined"==typeof window||"undefined"==typeof document},ee='\n <div aria-labelledby="'.concat(n.title,'" aria-describedby="').concat(n["html-container"],'" class="').concat(n.popup,'" tabindex="-1">\n   <button type="button" class="').concat(n.close,'"></button>\n   <ul class="').concat(n["progress-steps"],'"></ul>\n   <div class="').concat(n.icon,'"></div>\n   <img class="').concat(n.image,'" />\n   <h2 class="').concat(n.title,'" id="').concat(n.title,'"></h2>\n   <div class="').concat(n["html-container"],'" id="').concat(n["html-container"],'"></div>\n   <input class="').concat(n.input,'" />\n   <input type="file" class="').concat(n.file,'" />\n   <div class="').concat(n.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(n.select,'"></select>\n   <div class="').concat(n.radio,'"></div>\n   <label for="').concat(n.checkbox,'" class="').concat(n.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(n.label,'"></span>\n   </label>\n   <textarea class="').concat(n.textarea,'"></textarea>\n   <div class="').concat(n["validation-message"],'" id="').concat(n["validation-message"],'"></div>\n   <div class="').concat(n.actions,'">\n     <div class="').concat(n.loader,'"></div>\n     <button type="button" class="').concat(n.confirm,'"></button>\n     <button type="button" class="').concat(n.deny,'"></button>\n     <button type="button" class="').concat(n.cancel,'"></button>\n   </div>\n   <div class="').concat(n.footer,'"></div>\n   <div class="').concat(n["timer-progress-bar-container"],'">\n     <div class="').concat(n["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),te=function(){Z.currentInstance.resetValidationMessage()},ne=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?re(e,t):e&&R(t,e)},re=function(e,t){e.jquery?ie(t,e):R(t,e.toString())},ie=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},oe=function(){if($())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}();function ae(e,t,r){G(e,r["show".concat(i(t),"Button")],"inline-block"),R(e,r["".concat(t,"ButtonText")]),e.setAttribute("aria-label",r["".concat(t,"ButtonAriaLabel")]),e.className=n[t],N(e,r,"".concat(t,"Button")),j(e,r["".concat(t,"ButtonClass")])}var se=["input","file","range","select","radio","checkbox","textarea"],ce=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},ue=function(e,t,r){if(r.inputLabel){e.id=n.input;var i=document.createElement("label"),o=n["input-label"];i.setAttribute("for",e.id),i.className=o,"object"==typeof r.customClass&&j(i,r.customClass.inputLabel),i.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",i)}},le=function(e){return H(p(),n[e]||n.input)},he=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):h(t)||o('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},de={};de.text=de.email=de.password=de.number=de.tel=de.url=function(e,t){return he(e,t.inputValue),ue(e,e,t),ce(e,t),e.type=t.input,e},de.file=function(e,t){return ue(e,e,t),ce(e,t),e},de.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return he(n,t.inputValue),n.type=t.input,he(r,t.inputValue),ue(n,e,t),e},de.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");R(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return ue(e,e,t),e},de.radio=function(e){return e.textContent="",e},de.checkbox=function(e,t){var r=M(p(),"checkbox");r.value="1",r.id=n.checkbox,r.checked=Boolean(t.inputValue);var i=e.querySelector("span");return R(i,t.inputPlaceholder),r},de.textarea=function(e,t){return he(e,t.inputValue),ce(e,t),ue(e,e,t),setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(p()).width);new MutationObserver((function(){var n,r=e.offsetWidth+(n=e,parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight));p().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var fe=function(e,t){for(var n in r)t.icon!==n&&Q(e,r[n]);j(e,r[t.icon]),ge(e,t),Ae(),N(e,t,"icon")},Ae=function(){for(var e=p(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},pe=function(e,t){var n,r=e.innerHTML;t.iconHtml?n=ve(t.iconHtml):"success"===t.icon?(n='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':ve({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&R(e,n)},ge=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){K(e,r[n],"backgroundColor",t.iconColor)}K(e,".swal2-success-ring","borderColor",t.iconColor)}},ve=function(e){return'<div class="'.concat(n["icon-content"],'">').concat(e,"</div>")},me=function(t,i){(function(e,t){var r=d(),i=p();t.toast?(V(r,"width",t.width),i.style.width="100%",i.insertBefore(C(),g())):V(i,"width",t.width),V(i,"padding",t.padding),t.color&&(i.style.color=t.color),t.background&&(i.style.background=t.background),q(w()),function(e,t){e.className="".concat(n.popup," ").concat(W(e)?t.showClass.popup:""),t.toast?(j([document.documentElement,document.body],n["toast-shown"]),j(e,n.toast)):j(e,n.modal),N(e,t,"popup"),"string"==typeof t.customClass&&j(e,t.customClass),t.icon&&j(e,n["icon-".concat(t.icon)])}(i,t)})(0,i),function(e,t){var r=d();r&&(function(e,t){"string"==typeof t?e.style.background=t:t||j([document.documentElement,document.body],n["no-backdrop"])}(r,t.backdrop),function(e,t){t in n?j(e,n[t]):(o('The "position" parameter is not valid, defaulting to "center"'),j(e,n.center))}(r,t.position),function(e,t){if(t&&"string"==typeof t){var r="grow-".concat(t);r in n&&j(e,n[r])}}(r,t.grow),N(r,t,"container"))}(0,i),function(e,t){var r=y();t.progressSteps&&0!==t.progressSteps.length?(z(r),r.textContent="",t.currentProgressStep>=t.progressSteps.length&&o("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,i){var o=function(e){var t=document.createElement("li");return j(t,n["progress-step"]),R(t,e),t}(e);if(r.appendChild(o),i===t.currentProgressStep&&j(o,n["active-progress-step"]),i!==t.progressSteps.length-1){var a=function(e){var t=document.createElement("li");return j(t,n["progress-step-line"]),e.progressStepsDistance&&V(t,"width",e.progressStepsDistance),t}(t);r.appendChild(a)}}))):q(r)}(0,i),function(t,n){var i=e.innerParams.get(t),o=g();if(i&&n.icon===i.icon)return pe(o,n),void fe(o,n);if(n.icon||n.iconHtml){if(n.icon&&-1===Object.keys(r).indexOf(n.icon))return a('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(n.icon,'"')),void q(o);z(o),pe(o,n),fe(o,n),j(o,n.showClass.icon)}else q(o)}(t,i),function(e,t){var r=b();t.imageUrl?(z(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt),V(r,"width",t.imageWidth),V(r,"height",t.imageHeight),r.className=n.image,N(r,t,"image")):q(r)}(0,i),function(e,t){var n=v();G(n,t.title||t.titleText,"block"),t.title&&ne(t.title,n),t.titleText&&(n.innerText=t.titleText),N(n,t,"title")}(0,i),function(e,t){var n=B();R(n,t.closeButtonHtml),N(n,t,"closeButton"),G(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,i),function(t,r){var i=m();N(i,r,"htmlContainer"),r.html?(ne(r.html,i),z(i,"block")):r.text?(i.textContent=r.text,z(i,"block")):q(i),function(t,r){var i=p(),o=e.innerParams.get(t),s=!o||r.input!==o.input;se.forEach((function(e){var t=H(i,n[e]);(function(e,t){var n=M(p(),e);if(n)for(var r in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}}(n),t)n.setAttribute(r,t[r])})(e,r.inputAttributes),t.className=n[e],s&&q(t)})),r.input&&(s&&function(e){if(de[e.input]){var t=le(e.input),n=de[e.input](t,e);z(t),setTimeout((function(){L(n)}))}else a('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))}(r),function(e){var t=le(e.input);"object"==typeof e.customClass&&j(t,e.customClass.input)}(r))}(t,r)}(t,i),function(e,t){var r=x(),i=C();t.showConfirmButton||t.showDenyButton||t.showCancelButton?z(r):q(r),N(r,t,"actions"),function(e,t,r){var i=_(),o=k(),a=S();ae(i,"confirm",r),ae(o,"deny",r),ae(a,"cancel",r),function(e,t,r,i){i.buttonsStyling?(j([e,t,r],n.styled),i.confirmButtonColor&&(e.style.backgroundColor=i.confirmButtonColor,j(e,n["default-outline"])),i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor,j(t,n["default-outline"])),i.cancelButtonColor&&(r.style.backgroundColor=i.cancelButtonColor,j(r,n["default-outline"]))):Q([e,t,r],n.styled)}(i,o,a,r),r.reverseButtons&&(r.toast?(e.insertBefore(a,i),e.insertBefore(o,i)):(e.insertBefore(a,t),e.insertBefore(o,t),e.insertBefore(i,t)))}(r,i,t),R(i,t.loaderHtml),N(i,t,"loader")}(0,i),function(e,t){var n=E();G(n,t.footer),t.footer&&ne(t.footer,n),N(n,t,"footer")}(0,i),"function"==typeof i.didRender&&i.didRender(p())};function be(){var t=e.innerParams.get(this);if(t){var r=e.domCache.get(this);q(r.loader),O()?t.icon&&z(g()):ye(r),Q([r.popup,r.actions],n.loading),r.popup.removeAttribute("aria-busy"),r.popup.removeAttribute("data-loading"),r.confirmButton.disabled=!1,r.denyButton.disabled=!1,r.cancelButton.disabled=!1}}var ye=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?z(t[0],"inline-block"):W(_())||W(k())||W(S())||q(e.actions)},we=function(){return _()&&_().click()},_e=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ke=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Ce=function(e,t){var n=D();if(n.length)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();p().focus()},Se=["ArrowRight","ArrowDown"],xe=["ArrowLeft","ArrowUp"],Ee={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ie=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))};function Be(e,t,r,i){O()?Ne(e,i):(function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,r=window.scrollY;Z.restoreFocusTimeout=setTimeout((function(){Z.previousActiveElement instanceof HTMLElement?(Z.previousActiveElement.focus(),Z.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(n,r)}))}(r).then((function(){return Ne(e,i)})),ke(Z)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),T()&&(null!==F.previousBodyPadding&&(document.body.style.paddingRight="".concat(F.previousBodyPadding,"px"),F.previousBodyPadding=null),function(){if(P(document.body,n.iosfix)){var e=parseInt(document.body.style.top,10);Q(document.body,n.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),Ie()),Q([document.documentElement,document.body],[n.shown,n["height-auto"],n["no-backdrop"],n["toast-shown"]])}function De(e){e=Fe(e);var t=Ee.swalPromiseResolve.get(this),n=Te(this);this.isAwaitingPromise()?e.isDismissed||(Oe(this),t(e)):n&&t(e)}var Te=function(t){var n=p();if(!n)return!1;var r=e.innerParams.get(t);if(!r||P(n,r.hideClass.popup))return!1;Q(n,r.showClass.popup),j(n,r.hideClass.popup);var i=d();return Q(i,r.showClass.backdrop),j(i,r.hideClass.backdrop),Re(t,n,r),!0},Oe=function(t){t.isAwaitingPromise()&&(e.awaitingPromise.delete(t),e.innerParams.get(t)||t._destroy())},Fe=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},Re=function(e,t,n){var r=d(),i=oe&&J(t);"function"==typeof n.willClose&&n.willClose(t),i?Pe(e,t,r,n.returnFocus,n.didClose):Be(e,r,n.returnFocus,n.didClose)},Pe=function(e,t,n,r,i){Z.swalCloseEventFinishedCallback=Be.bind(null,e,n,r,i),t.addEventListener(oe,(function(e){e.target===t&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback)}))},Ne=function(e,t){setTimeout((function(){"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function Me(t,n,r){var i=e.domCache.get(t);n.forEach((function(e){i[e].disabled=r}))}function Le(e,t){if(e)if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}var Ue,je={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],He={},Ve=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ze=function(e){return Object.prototype.hasOwnProperty.call(je,e)},qe=function(e){return-1!==Qe.indexOf(e)},Ke=function(e){return He[e]},Ge=function(e){ze(e)||o('Unknown parameter "'.concat(e,'"'))},We=function(e){Ve.includes(e)&&o('The parameter "'.concat(e,'" is incompatible with toasts'))},Ye=function(e){var t,n,r;Ke(e)&&(t=e,n=Ke(e),s.includes(r='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'))||(s.push(r),o(r)))},Je=function(t){t.isAwaitingPromise()?(Xe(e,t),e.awaitingPromise.set(t,!0)):(Xe(Ee,t),Xe(e,t))},Xe=function(e,t){for(var n in e)e[n].delete(t)},Ze=Object.freeze({__proto__:null,hideLoading:be,disableLoading:be,getInput:function(t){var n=e.innerParams.get(t||this),r=e.domCache.get(t||this);return r?M(r.popup,n.input):null},close:De,isAwaitingPromise:function(){return!!e.awaitingPromise.get(this)},rejectPromise:function(e){var t=Ee.swalPromiseReject.get(this);Oe(this),t&&t(e)},handleAwaitingPromise:Oe,closePopup:De,closeModal:De,closeToast:De,enableButtons:function(){Me(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Me(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){Le(this.getInput(),!1)},disableInput:function(){Le(this.getInput(),!0)},showValidationMessage:function(t){var r=e.domCache.get(this),i=e.innerParams.get(this);R(r.validationMessage,t),r.validationMessage.className=n["validation-message"],i.customClass&&i.customClass.validationMessage&&j(r.validationMessage,i.customClass.validationMessage),z(r.validationMessage);var o=this.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedby",n["validation-message"]),L(o),j(o,n.inputerror))},resetValidationMessage:function(){var t=e.domCache.get(this);t.validationMessage&&q(t.validationMessage);var r=this.getInput();r&&(r.removeAttribute("aria-invalid"),r.removeAttribute("aria-describedby"),Q(r,n.inputerror))},update:function(t){var n=p(),r=e.innerParams.get(this);if(n&&!P(n,r.hideClass.popup)){var i=function(e){var t={};return Object.keys(e).forEach((function(n){qe(n)?t[n]=e[n]:o("Invalid parameter to update: ".concat(n))})),t}(t),a=Object.assign({},r,i);me(this,a),e.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}else o("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")},_destroy:function(){var t=e.domCache.get(this),n=e.innerParams.get(this);n?(t.popup&&Z.swalCloseEventFinishedCallback&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback),"function"==typeof n.didDestroy&&n.didDestroy(),Je(this),delete this.params,delete Z.keydownHandler,delete Z.keydownTarget,delete Z.currentInstance):Je(this)}}),$e=function(e){var t=p();t||new Ot,t=p();var n=C();O()?q(g()):et(t,e),z(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},et=function(e,t){var r=x(),i=C();!t&&W(_())&&(t=_()),z(r),t&&(q(t),i.setAttribute("data-button-to-replace",t.className)),i.parentNode.insertBefore(i,t),j([e,r],n.loading)},tt={select:function(e,t,r){var i=H(e,n.select),o=function(e,t,n){var i=document.createElement("option");i.value=n,R(i,t),i.selected=nt(n,r.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var r=document.createElement("optgroup");r.label=t,r.disabled=!1,i.appendChild(r),n.forEach((function(e){return o(r,e[1],e[0])}))}else o(i,n,t)})),i.focus()},radio:function(e,t,r){var i=H(e,n.radio);t.forEach((function(e){var t=e[0],o=e[1],a=document.createElement("input"),s=document.createElement("label");a.type="radio",a.name=n.radio,a.value=t,nt(t,r.inputValue)&&(a.checked=!0);var c=document.createElement("span");R(c,o),c.className=n.label,s.appendChild(a),s.appendChild(c),i.appendChild(s)}));var o=i.querySelectorAll("input");o.length&&o[0].focus()}},nt=function(e,t){return t&&t.toString()===e.toString()},rt=function(t,n){var r=e.innerParams.get(t);if(r.input){var o=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return function(e){return e.checked?1:0}(n);case"radio":return function(e){return e.checked?e.value:null}(n);case"file":return function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null}(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(t,r);r.inputValidator?it(t,o,n):t.getInput().checkValidity()?"deny"===n?ot(t,o):ct(t,o):(t.enableButtons(),t.showValidationMessage(r.validationMessage))}else a('The "input" parameter is needed to be set when using returnInputValueOn'.concat(i(n)))},it=function(t,n,r){var i=e.innerParams.get(t);t.disableInput(),Promise.resolve().then((function(){return l(i.inputValidator(n,i.validationMessage))})).then((function(e){t.enableButtons(),t.enableInput(),e?t.showValidationMessage(e):"deny"===r?ot(t,n):ct(t,n)}))},ot=function(t,n){var r=e.innerParams.get(t||void 0);r.showLoaderOnDeny&&$e(k()),r.preDeny?(e.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((function(){return l(r.preDeny(n,r.validationMessage))})).then((function(e){!1===e?(t.hideLoading(),Oe(t)):t.close({isDenied:!0,value:void 0===e?n:e})})).catch((function(e){return st(t||void 0,e)}))):t.close({isDenied:!0,value:n})},at=function(e,t){e.close({isConfirmed:!0,value:t})},st=function(e,t){e.rejectPromise(t)},ct=function(t,n){var r=e.innerParams.get(t||void 0);r.showLoaderOnConfirm&&$e(),r.preConfirm?(t.resetValidationMessage(),e.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((function(){return l(r.preConfirm(n,r.validationMessage))})).then((function(e){W(w())||!1===e?(t.hideLoading(),Oe(t)):at(t,void 0===e?n:e)})).catch((function(e){return st(t||void 0,e)}))):at(t,n)},ut=!1,lt=function(e){return e instanceof Element||function(e){return"object"==typeof e&&e.jquery}(e)},ht=function(){if(Z.timeout)return function(){var e=I(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")}(),Z.timeout.stop()},dt=function(){if(Z.timeout){var e=Z.timeout.start();return X(e),e}},ft=!1,At={},pt=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in At){var r=t.getAttribute(n);if(r)return void At[n].fire({template:r})}},gt=Object.freeze({__proto__:null,isValidParameter:ze,isUpdatableParameter:qe,isDeprecatedParameter:Ke,argsToParams:function(e){var t={};return"object"!=typeof e[0]||lt(e[0])?["title","html","icon"].forEach((function(n,r){var i=e[r];"string"==typeof i||lt(i)?t[n]=i:void 0!==i&&a("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t},getContainer:d,getPopup:p,getTitle:v,getHtmlContainer:m,getImage:b,getIcon:g,getIconContent:function(){return A(n["icon-content"])},getInputLabel:function(){return A(n["input-label"])},getCloseButton:B,getActions:x,getConfirmButton:_,getDenyButton:k,getCancelButton:S,getLoader:C,getFooter:E,getTimerProgressBar:I,getFocusableElements:D,getValidationMessage:w,getProgressSteps:y,isLoading:function(){return p().hasAttribute("data-loading")},isVisible:function(){return W(p())},clickConfirm:we,clickDeny:function(){return k()&&k().click()},clickCancel:function(){return S()&&S().click()},fire:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)},mixin:function(e){return function(t){_inherits(r,t);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"_main",value:function(t,n){return _get(_getPrototypeOf(r.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),r}(this)},showLoading:$e,enableLoading:$e,getTimerLeft:function(){return Z.timeout&&Z.timeout.getTimerLeft()},stopTimer:ht,resumeTimer:dt,toggleTimer:function(){var e=Z.timeout;return e&&(e.running?ht():dt())},increaseTimer:function(e){if(Z.timeout){var t=Z.timeout.increase(e);return X(t,!0),t}},isTimerRunning:function(){return Z.timeout&&Z.timeout.isRunning()},bindClickHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";At[e]=this,ft||(document.body.addEventListener("click",pt),ft=!0)}}),vt=function(){function e(t,n){_classCallCheck(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return _createClass(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),mt=["swal-title","swal-html","swal-footer"],bt=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&o(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},yt=function e(t){var n=p();if(t.target===n){var r=d();n.removeEventListener(oe,e),r.style.overflowY="auto"}},wt={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}},_t=function(){function t(){if(_classCallCheck(this,t),"undefined"!=typeof window){Ue=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var a=Ue._main(Ue.params);e.promise.set(this,a)}}return _createClass(t,[{key:"_main",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&o('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Ge(t),e.toast&&We(t),Ye(t)})(Object.assign({},r,t)),Z.currentInstance&&(Z.currentInstance._destroy(),T()&&Ie()),Z.currentInstance=Ue;var i,s=Ct(t,r);(function(e){e.inputValidator||Object.keys(wt).forEach((function(t){e.input===t&&(e.inputValidator=wt[t])}))})(i=s),i.showLoaderOnConfirm&&!i.preConfirm&&o("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(o('Target parameter is not valid, defaulting to "body"'),e.target="body")}(i),"string"==typeof i.title&&(i.title=i.title.split("\n").join("<br />")),function(e){var t,r=!!(t=d())&&(t.remove(),Q([document.documentElement,document.body],[n["no-backdrop"],n["toast-shown"],n["has-column"]]),!0);if($())a("SweetAlert2 requires document to initialize");else{var i=document.createElement("div");i.className=n.container,r&&j(i,n["no-transition"]),R(i,ee);var o,s,c,u,l,h,f,A,g,v="string"==typeof(o=e.target)?document.querySelector(o):o;v.appendChild(i),function(e){var t=p();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&j(d(),n.rtl)}(v),s=p(),c=H(s,n.input),u=H(s,n.file),l=s.querySelector(".".concat(n.range," input")),h=s.querySelector(".".concat(n.range," output")),f=H(s,n.select),A=s.querySelector(".".concat(n.checkbox," input")),g=H(s,n.textarea),c.oninput=te,u.onchange=te,f.onchange=te,A.onchange=te,g.oninput=te,l.oninput=function(){te(),h.value=l.value},l.onchange=function(){te(),h.value=l.value}}}(i),Object.freeze(s),Z.timeout&&(Z.timeout.stop(),delete Z.timeout),clearTimeout(Z.restoreFocusTimeout);var c=St(Ue);return me(Ue,s),e.innerParams.set(Ue,s),kt(Ue,c,s)}},{key:"then",value:function(t){return e.promise.get(this).then(t)}},{key:"finally",value:function(t){return e.promise.get(this).finally(t)}}]),t}(),kt=function(t,r,i){return new Promise((function(o,s){var f=function(e){t.close({isDismissed:!0,dismiss:e})};Ee.swalPromiseResolve.set(t,o),Ee.swalPromiseReject.set(t,s),r.confirmButton.onclick=function(){!function(t){var n=e.innerParams.get(t);t.disableButtons(),n.input?rt(t,"confirm"):ct(t,!0)}(t)},r.denyButton.onclick=function(){!function(t){var n=e.innerParams.get(t);t.disableButtons(),n.returnInputValueOnDeny?rt(t,"deny"):ot(t,!1)}(t)},r.cancelButton.onclick=function(){!function(e,t){e.disableButtons(),t(_e.cancel)}(t,f)},r.closeButton.onclick=function(){f(_e.close)},function(t,n,r){e.innerParams.get(t).toast?function(t,n,r){n.popup.onclick=function(){var n=e.innerParams.get(t);n&&(function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton}(n)||n.timer||n.input)||r(_e.close)}}(t,n,r):(function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(ut=!0)}}}(n),function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(ut=!0)}}}(n),function(t,n,r){n.container.onclick=function(i){var o=e.innerParams.get(t);ut?ut=!1:i.target===n.container&&c(o.allowOutsideClick)&&r(_e.backdrop)}}(t,n,r))}(t,r,f),function(t,n,r,i){ke(n),r.toast||(n.keydownHandler=function(n){return function(t,n,r){var i=e.innerParams.get(t);i&&(n.isComposing||229===n.keyCode||(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?function(e,t,n){if(c(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;we(),t.preventDefault()}}(t,n,i):"Tab"===n.key?function(e){for(var t=e.target,n=D(),r=-1,i=0;i<n.length;i++)if(t===n[i]){r=i;break}Ce(r,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()}(n):[].concat(Se,xe).includes(n.key)?function(e){var t=_(),n=k(),r=S();if(!(document.activeElement instanceof HTMLElement)||[t,n,r].includes(document.activeElement)){for(var i=Se.includes(e)?"nextElementSibling":"previousElementSibling",o=document.activeElement,a=0;a<x().children.length;a++){if(!(o=o[i]))return;if(o instanceof HTMLButtonElement&&W(o))break}o instanceof HTMLButtonElement&&o.focus()}}(n.key):"Escape"===n.key&&function(e,t,n){c(t.allowEscapeKey)&&(e.preventDefault(),n(_e.esc))}(n,i,r)))}(t,n,i)},n.keydownTarget=r.keydownListenerCapture?window:p(),n.keydownListenerCapture=r.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)}(t,Z,i,f),function(e,t){"select"===t.input||"radio"===t.input?function(e,t){var n=p(),r=function(e){tt[t.input](n,function e(t){var n=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"==typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"==typeof i&&(i=e(i)),n.push([r,i])})),n}(e),t)};u(t.inputOptions)||h(t.inputOptions)?($e(_()),l(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"==typeof t.inputOptions?r(t.inputOptions):a("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))}(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(u(t.inputValue)||h(t.inputValue))&&($e(_()),function(e,t){var n=e.getInput();q(n),l(t.inputValue).then((function(r){n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),z(n),n.focus(),e.hideLoading()})).catch((function(t){a("Error in inputValue promise: ".concat(t)),n.value="",z(n),n.focus(),e.hideLoading()}))}(e,t))}(t,i),function(e){var t=d(),r=p();"function"==typeof e.willOpen&&e.willOpen(r);var i=window.getComputedStyle(document.body).overflowY;(function(e,t,r){j(e,r.showClass.backdrop),t.style.setProperty("opacity","0","important"),z(t,"grid"),setTimeout((function(){j(t,r.showClass.popup),t.style.removeProperty("opacity")}),10),j([document.documentElement,document.body],n.shown),r.heightAuto&&r.backdrop&&!r.toast&&j([document.documentElement,document.body],n["height-auto"])})(t,r,e),setTimeout((function(){!function(e,t){oe&&J(t)?(e.style.overflowY="hidden",t.addEventListener(oe,yt)):e.style.overflowY="auto"}(t,r)}),10),T()&&(function(e,t,r){(function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!P(document.body,n.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),j(document.body,n.iosfix),function(){var e,t=d();t.ontouchstart=function(t){e=function(e){var t=e.target,n=d();return!(function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType}(e)||function(e){return e.touches&&e.touches.length>1}(e)||t!==n&&(Y(n)||!(t instanceof HTMLElement)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||Y(m())&&m().contains(t)))}(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}(),function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){p().scrollHeight>window.innerHeight-44&&(d().style.paddingBottom="".concat(44,"px"))}}()}})(),t&&"hidden"!==r&&null===F.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(F.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(F.previousBodyPadding+function(){var e=document.createElement("div");e.className=n["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px")),setTimeout((function(){e.scrollTop=0}))}(t,e.scrollbarPadding,i),Array.from(document.body.children).forEach((function(e){e===d()||e.contains(d())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),O()||Z.previousActiveElement||(Z.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((function(){return e.didOpen(r)})),Q(t,n["no-transition"])}(i),xt(Z,i,f),Et(r,i),setTimeout((function(){r.container.scrollTop=0}))}))},Ct=function(e,t){var n=function(e){var t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return function(e){var t=mt.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||o("Unrecognized element <".concat(n,">"))}))}(n),Object.assign(function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){bt(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");t[n]="boolean"==typeof je[n]?"false"!==r:"object"==typeof je[n]?JSON.parse(r):r})),t}(n),function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),r=e.getAttribute("value");t[n]=new Function("return ".concat(r))()})),t}(n),function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){bt(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(i(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t}(n),function(e){var t={},n=e.querySelector("swal-image");return n&&(bt(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t}(n),function(e){var t={},n=e.querySelector("swal-icon");return n&&(bt(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t}(n),function(e){var t={},n=e.querySelector("swal-input");n&&(bt(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((function(e){bt(e,["value"]);var n=e.getAttribute("value");t.inputOptions[n]=e.innerHTML}))),t}(n),function(e,t){var n={};for(var r in t){var i=t[r],o=e.querySelector(i);o&&(bt(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n}(n,mt))}(e),r=Object.assign({},je,t,n,e);return r.showClass=Object.assign({},je.showClass,r.showClass),r.hideClass=Object.assign({},je.hideClass,r.hideClass),r},St=function(t){var n={popup:p(),container:d(),actions:x(),confirmButton:_(),denyButton:k(),cancelButton:S(),loader:C(),closeButton:B(),validationMessage:w(),progressSteps:y()};return e.domCache.set(t,n),n},xt=function(e,t,n){var r=I();q(r),t.timer&&(e.timeout=new vt((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(z(r),N(r,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&X(t.timer)}))))},Et=function(e,t){t.toast||(c(t.allowEnterKey)?It(e,t)||Ce(-1,1):Bt())},It=function(e,t){return t.focusDeny&&W(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&W(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!W(e.confirmButton)||(e.confirmButton.focus(),0))},Bt=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){var Dt=new Date,Tt=localStorage.getItem("swal-initiation");Tt?(Dt.getTime()-Date.parse(Tt))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(Dt))}Object.assign(_t.prototype,Ze),Object.assign(_t,gt),Object.keys(Ze).forEach((function(e){_t[e]=function(){var t;if(Ue)return(t=Ue)[e].apply(t,arguments)}})),_t.DismissReason=_e,_t.version="11.6.16";var Ot=_t;return Ot.default=Ot,Ot}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},Ph6G:function(e,t,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("FUii"),a=n("3wkl"),s=n("c6pU"),c=n("JqAl");function u(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,a)}r(u,i),u.enabled=function(e){return!e.nullOrigin&&!c.isOpera()&&a.enabled},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!global.document,e.exports=u},QLKV:function(e,t,n){"use strict";var r=n("P7XM"),i=n("VNbE"),o=n("c6pU"),a=n("dXd4");function s(e){if(!i.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",i,o)}r(s,a),s.enabled=function(e){return i.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},"R+Q3":function(e,t,n){"use strict";var r=n("P7XM"),i=n("moM4");function o(e){i.call(this),this.initEvent("message",!1,!1),this.data=e}r(o,i),e.exports=o},RA0T:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},SGzc:function(e,t,n){"use strict";n("dyV1");var r,i=n("GBY4"),o=n("P7XM"),a=n("kwwM"),s=n("JYLm"),c=n("hPxs"),u=n("Yh+D"),l=n("woL0"),h=n("AEAD"),d=n("1eVo"),f=n("JqAl"),A=n("SM0v"),p=n("moM4"),g=n("l6Lj"),v=n("oOIF"),m=n("42Jg"),b=n("R+Q3"),y=n("uajq");function w(e,t,n){if(!(this instanceof w))return new w(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=w.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&A.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(r)}}this._server=n.server||s.numberString(1e3);var o=new i(e);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https:"===v.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var c=t.sort();c.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<c.length-1&&e===c[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var l=u.getOrigin(v.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this._urlInfo={nullOrigin:!f.hasDomain(),sameOrigin:u.isOriginEqual(this.url,v.href),sameScheme:u.isSchemeEqual(this.url,v.href)},this._ir=new y(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function _(e){return 1e3===e||e>=3e3&&e<=4999}o(w,g),w.prototype.close=function(e,t){if(e&&!_(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==w.CLOSING&&this.readyState!==w.CLOSED&&this._close(e||1e3,t||"Normal closure",!0)},w.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===w.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===w.OPEN&&this._transport.send(c.quote(e))},w.version=n("EBWB"),w.CONNECTING=0,w.OPEN=1,w.CLOSING=2,w.CLOSED=3,w.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=d.extend(e,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._connect()}else this._close(1002,"Cannot connect to server")},w.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(e),void l.attachEvent("load",this._connect.bind(this));var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=new e(u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[e.transportName]);return n.on("message",this._transportMessage.bind(this)),n.once("close",this._transportClose.bind(this)),n.transportName=e.transportName,void(this._transport=n)}this._close(2e3,"All transports failed",!1)},w.prototype._transportTimeout=function(){this.readyState===w.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},w.prototype._transportMessage=function(e){var t,n=this,r=e.slice(0,1),i=e.slice(1);switch(r){case"o":return void this._open();case"h":return void this.dispatchEvent(new p("heartbeat"))}if(i)try{t=a.parse(i)}catch(o){}if(void 0!==t)switch(r){case"a":Array.isArray(t)&&t.forEach((function(e){n.dispatchEvent(new b(e))}));break;case"m":this.dispatchEvent(new b(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},w.prototype._transportClose=function(e,t){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),_(e)||2e3===e||this.readyState!==w.CONNECTING?this._close(e,t):this._connect()},w.prototype._open=function(){this.readyState===w.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=w.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new p("open"))):this._close(1006,"Server lost session")},w.prototype._close=function(e,t,n){var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===w.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=w.CLOSING,setTimeout((function(){this.readyState=w.CLOSED,r&&this.dispatchEvent(new p("error"));var i=new m("close");i.wasClean=n||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},w.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return r=h(e),n("n6ct")(w,e),w}},SM0v:function(e,t,n){"use strict";var r={};["log","debug","warn"].forEach((function(e){var t;try{t=global.console&&global.console[e]&&global.console[e].apply}catch(n){}r[e]=t?function(){return global.console[e].apply(global.console,arguments)}:"log"===e?function(){}:r.log})),e.exports=r},SeVD:function(e,t,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),u=n("XoHu");n.d(t,"a",(function(){return l}));var l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(c.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(u.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},UyXh:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return A})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__spreadArray",(function(){return m})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return _})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return S})),n.d(t,"__importDefault",(function(){return x})),n.d(t,"__classPrivateFieldGet",(function(){return E})),n.d(t,"__classPrivateFieldSet",(function(){return I})),n.d(t,"__classPrivateFieldIn",(function(){return B}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function A(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=A(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return C(t,e),t}function x(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function B(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},VLs4:function(e,t,n){var r,i,o;!function(a){if("object"==typeof e.exports){var s=a(0,t);void 0!==s&&(e.exports=s)}else i=[n,t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["de",[["AM","PM"],n,n],n,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],n,n],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",n,"{1} 'um' {0}",n],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],CUC:[n,"Cub$"],DEM:["DM"],FKP:[n,"Fl\xa3"],GNF:[n,"F.G."],KMF:[n,"FC"],RON:[n,"L"],RWF:[n,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[n,"K"]},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}]}))},VNbE:function(e,t,n){"use strict";var r=n("P7XM"),i=n("8fj+"),o=n("Yh+D"),a=n("raCH").EventEmitter,s=n("JYLm");function c(e){a.call(this);var t=this;i.polluteGlobalNamespace(),this.id="a"+s.string(6),e=o.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id));var n=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;global[i.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,(function(){t._cleanup(),t._close("permanent")}))}r(c,a),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[i.WPrefix][this.id]},c.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in global)try{c.htmlfileEnabled=!!new global[u]("htmlfile")}catch(l){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,e.exports=c},WOAq:function(e,t,n){"use strict";(function(e){var r=n("Ju5/"),i=n("L3Qv"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.a.Buffer:void 0;t.a=(s?s.isBuffer:void 0)||i.a}).call(this,n("3UD+")(e))},"X8/r":function(e,t,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("UyXh"),a=n("qOnz"),s=n("q/0M");var c,u,l=(u=r)&&"object"==typeof u&&"default"in u?u:{default:u},h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),d=new a.ErrorFactory("appCheck","AppCheck",h),f=new Map,A={activated:!1,tokenObservers:[]},p={enabled:!1};function g(e){return f.get(e)||A}function v(e,t){f.set(e,t)}function m(){return p}var b="https://content-firebaseappcheck.googleapis.com/v1beta",y=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function w(){return self.grecaptcha}function _(e){if(!g(e).activated)throw d.create("use-before-activation",{appName:e.name})}function k(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,c,u,l,h,f,A;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw c=o.sent(),d.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==s.status)throw d.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return u=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=u.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return f=1e3*Number(h[1]),A=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:A+f,issuedAtTimeMillis:A}]}}))}))}function C(e,t){var n=e.options;return{url:b+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:t}}}function S(e,t){var n=e.options;return{url:b+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:t}}}var x="firebase-app-check-store",E=null;function I(){return E||(E=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(d.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(x,{keyPath:"compositeKey"})}}}catch(u){t(d.create("storage-open",{originalErrorMessage:u.message}))}})))}function B(e){return T(O(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,I()];case 1:return n=o.sent(),r=n.transaction(x,"readwrite"),i=r.objectStore(x),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(d.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function T(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,I()];case 1:return t=o.sent(),n=t.transaction(x,"readonly"),r=n.objectStore(x),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(d.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function O(e){return e.options.appId+"-"+e.name}var F=new s.Logger("@firebase/app-check");function R(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(O(e),t)}(e,t).catch((function(e){F.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function P(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var N={error:"UNKNOWN_ERROR"};function M(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,c,u,l,h,d,f,A;return o.__generator(this,(function(p){switch(p.label){case 0:return _(e),r=g(e),s=void 0,(i=r.token)?[3,2]:[4,r.cachedTokenPromise];case 1:(c=p.sent())&&Q(c)&&(i=c,v(e,o.__assign(o.__assign({},r),{token:i})),j(e,{token:i.token})),p.label=2;case 2:return!n&&i&&Q(i)?[2,{token:i.token}]:m().enabled?(l=k,h=S,d=[e],[4,P()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,R(e,u)];case 5:return p.sent(),v(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return f=p.sent(),F.error(f),s=f,[3,9];case 9:return i?[3,10]:(A=function(e){return{token:(t=N,a.base64.encodeString(JSON.stringify(t),!1)),error:e};var t}(s),[3,12]);case 10:return A={token:i.token},v(e,o.__assign(o.__assign({},r),{token:i})),[4,R(e,i)];case 11:p.sent(),p.label=12;case 12:return j(e,A),[2,A]}}))}))}function L(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},c=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!c.tokenRefresher){var u=function(e,t){var n=this;return new y((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,M(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,M(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,t.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0}),3e4,96e4)}(e,t);c.tokenRefresher=u}if(!c.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),a.token&&Q(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&Q(e)&&r({token:e.token})})).catch((function(){}));v(e,c)}function U(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function j(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function Q(e){return e.expireTimeMillis-Date.now()>0}function H(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return _(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function V(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);v(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var z=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw d.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,H(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),d.create("recaptcha-error");case 4:return[2,k(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,function(e,t){var n=g(e),r=new a.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var c,u,l=w();return l?l.ready((function(){V(e,t,l,i),r.resolve(l)})):(c=function(){var n=w();if(!n)throw new Error("no recaptcha");n.ready((function(){V(e,t,n,i),r.resolve(n)}))},(u=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",u.onload=c,document.head.appendChild(u)),r.promise}(e,this._siteKey).catch((function(){}))},e}(),q=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw d.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{app:t,activate:function(e,r){return function(e,t,n,r){var i=g(e);if(i.activated)throw d.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,B(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),F.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&Q(t)&&v(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"==typeof t?new z(t):t instanceof z||t instanceof q?t:new q({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,v(e,s),s.provider.initialize(e,n)}(t,e,n,r)},setTokenAutoRefreshEnabled:function(e){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(t,e)},getToken:function(e){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,M(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(t,n,e)},onTokenChanged:function(e,r,i){return function(e,t,n,r,i){var o,a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),L(e,t,"EXTERNAL",o,a),function(){return U(e,o)}}(t,n,e,r)},INTERNAL:{delete:function(){for(var e=0,n=g(t).tokenObservers;e<n.length;e++)U(t,n[e].next);return Promise.resolve()}}};var t,n}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:z,CustomProvider:q}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("app-check-internal").initialize()}))),e.INTERNAL.registerComponent(new i.Component("app-check-internal",(function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{getToken:function(e){return M(t,n,e)},addTokenListener:function(e){return L(t,n,"INTERNAL",e)},removeTokenListener:function(e){return U(t,e)}};var t,n}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,T("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:((r=t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),D("debug-token",r)).catch((function(e){return F.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}())}}()},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),c=n("2QA8"),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return _createClass(n)}(i.a),l=function(){var e=function(e,t){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(i,[{key:t,value:function(){return new u(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(i.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),i}(r.a,c.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},XqMk:function(e,t,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;t.a=r},"Yh+D":function(e,t,n){"use strict";var r=n("GBY4");e.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){return this.getOrigin(e)===this.getOrigin(t)},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},aUWK:function(e,t,n){"use strict";e.exports=[n("OX/4"),n("Ph6G"),n("sYUk"),n("e03l"),n("JuP+")(n("e03l")),n("QLKV"),n("JuP+")(n("QLKV")),n("4rNY"),n("5Vaj"),n("JuP+")(n("4rNY")),n("+Ewk")]},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},c6pU:function(e,t,n){"use strict";var r=n("P7XM"),i=n("2Naf");function o(e,t,n){i.call(this,e,t,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,e.exports=o},cDf5:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},dXd4:function(e,t,n){"use strict";var r=n("P7XM"),i=n("Yh+D"),o=n("96lO");function a(e,t,n,r){o.call(this,e,t,function(e){return function(t,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var a=i.addPath(t,"/xhr_send"),s=new e("POST",a,n,o);return s.once("finish",(function(e){if(s=null,200!==e&&204!==e)return r(new Error("http status "+e));r()})),function(){s.close(),s=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}(r),n,r)}r(a,o),e.exports=a},dyV1:function(e,t,n){"use strict";var r,i=Array.prototype,o=Object.prototype,a=Function.prototype,s=String.prototype,c=i.slice,u=o.toString,l=function(e){return"[object Function]"===o.toString.call(e)},h=function(e){return"[object String]"===u.call(e)},d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();r=d?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var f=function(e,t,n){for(var i in t)o.hasOwnProperty.call(t,i)&&r(e,i,t[i],n)},A=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function p(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function g(){}f(a,{bind:function(e){var t=this;if(!l(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=c.call(arguments,1),r=function(){if(this instanceof s){var r=t.apply(this,n.concat(c.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(c.call(arguments)))},i=Math.max(0,t.length-n.length),o=[],a=0;a<i;a++)o.push("$"+a);var s=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return t.prototype&&(g.prototype=t.prototype,s.prototype=new g,g.prototype=null),s}}),f(Array,{isArray:function(e){return"[object Array]"===u.call(e)}});var v,m,b,y=Object("a"),w="a"!==y[0]||!(0 in y);f(i,{forEach:function(e){var t=A(this),n=w&&h(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if(!l(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}},(m=!0,b=!0,(v=i.forEach)&&(v.call("foo",(function(e,t,n){"object"!=typeof n&&(m=!1)})),v.call([1],(function(){b="string"==typeof this}),"x")),!(v&&m&&b)));var _=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);f(i,{indexOf:function(e){var t=w&&h(this)?this.split(""):A(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=p(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},_);var k,C=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(k=void 0===/()??/.exec("")[1],s.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==u.call(e))return C.call(this,e,t);var r,o,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),h=0;for(e=new RegExp(e.source,l+"g"),n+="",k||(r=new RegExp("^"+e.source+"$(?!\\s)",l)),t=void 0===t?-1>>>0:t>>>0;(o=e.exec(n))&&!((a=o.index+o[0].length)>h&&(c.push(n.slice(h,o.index)),!k&&o.length>1&&o[0].replace(r,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),o.length>1&&o.index<n.length&&i.push.apply(c,o.slice(1)),s=o[0].length,h=a,c.length>=t));)e.lastIndex===o.index&&e.lastIndex++;return h===n.length?!s&&e.test("")||c.push(""):c.push(n.slice(h)),c.length>t?c.slice(0,t):c}):"0".split(void 0,0).length&&(s.split=function(e,t){return void 0===e&&0===t?[]:C.call(this,e,t)});var S=s.substr;f(s,{substr:function(e,t){return S.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},"".substr&&"b"!=="0b".substr(-1))},e03l:function(e,t,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("+R4f"),a=n("3wkl"),s=n("yjSe");function c(e){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",o,a)}r(c,i),c.enabled=function(){return!!s},c.transportName="eventsource",c.roundTrips=2,e.exports=c},fCBv:function(e,t,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("kwwM"),a=n("woL0"),s=n("nzop"),c=n("xSnx");function u(e,t){var n=this;r.call(this);var i=function(){var r=n.ifr=new s(c.transportName,t,e);r.once("message",(function(e){if(e){var t;try{t=o.parse(e)}catch(r){return n.emit("finish"),void n.close()}n.emit("finish",t[0],t[1])}n.close()})),r.once("close",(function(){n.emit("finish"),n.close()}))};global.document.body?i():a.attachEvent("load",i)}i(u,r),u.enabled=function(){return s.enabled()},u.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=u},fXoL:function(e,t,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("z+Ro"),s=n("bHdf"),c=n("yCtX"),u=n("7o/Q");function l(){return function(e){return e.lift(new d(e))}}var h,d=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new f(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(u.a),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new i.a).add(this.source.subscribe(new g(this.getSubject(),this))),e.closed&&(this._connection=null,e=i.a.EMPTY)),e}},{key:"refCount",value:function(){return l()(this)}}]),n}(o.a),p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(h=A.prototype)._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function m(e){return{toString:e}.toString()}function b(e,t,n){return m((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}n.d(t,"a",(function(){return So})),n.d(t,"b",(function(){return jc})),n.d(t,"c",(function(){return Pc})),n.d(t,"d",(function(){return Fc})),n.d(t,"e",(function(){return Rc})),n.d(t,"f",(function(){return Ou})),n.d(t,"g",(function(){return _u})),n.d(t,"h",(function(){return so})),n.d(t,"i",(function(){return Xc})),n.d(t,"j",(function(){return ds})),n.d(t,"k",(function(){return Vc})),n.d(t,"l",(function(){return fs})),n.d(t,"m",(function(){return Cn})),n.d(t,"n",(function(){return gc})),n.d(t,"o",(function(){return re})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return ne})),n.d(t,"r",(function(){return Co})),n.d(t,"s",(function(){return Os})),n.d(t,"t",(function(){return Fs})),n.d(t,"u",(function(){return Hc})),n.d(t,"v",(function(){return ge})),n.d(t,"w",(function(){return Cu})),n.d(t,"x",(function(){return pe})),n.d(t,"y",(function(){return gu})),n.d(t,"z",(function(){return tu})),n.d(t,"A",(function(){return w})),n.d(t,"B",(function(){return Uc})),n.d(t,"C",(function(){return Lc})),n.d(t,"D",(function(){return vs})),n.d(t,"E",(function(){return ps})),n.d(t,"F",(function(){return gs})),n.d(t,"G",(function(){return bs})),n.d(t,"H",(function(){return hr})),n.d(t,"I",(function(){return k})),n.d(t,"J",(function(){return Eu})),n.d(t,"K",(function(){return Ms})),n.d(t,"L",(function(){return uu})),n.d(t,"M",(function(){return ws})),n.d(t,"N",(function(){return ys})),n.d(t,"O",(function(){return Us})),n.d(t,"P",(function(){return Ce})),n.d(t,"Q",(function(){return Fo})),n.d(t,"R",(function(){return vu})),n.d(t,"S",(function(){return Hn})),n.d(t,"T",(function(){return j})),n.d(t,"U",(function(){return Qn})),n.d(t,"V",(function(){return Du})),n.d(t,"W",(function(){return hu})),n.d(t,"X",(function(){return Qc})),n.d(t,"Y",(function(){return uo})),n.d(t,"Z",(function(){return tc})),n.d(t,"ab",(function(){return ur})),n.d(t,"bb",(function(){return Ar})),n.d(t,"cb",(function(){return Kn})),n.d(t,"db",(function(){return On})),n.d(t,"eb",(function(){return Rn})),n.d(t,"fb",(function(){return Ln})),n.d(t,"gb",(function(){return Nn})),n.d(t,"hb",(function(){return Pn})),n.d(t,"ib",(function(){return Mn})),n.d(t,"jb",(function(){return Xs})),n.d(t,"kb",(function(){return Bu})),n.d(t,"lb",(function(){return Zs})),n.d(t,"mb",(function(){return $s})),n.d(t,"nb",(function(){return Fn})),n.d(t,"ob",(function(){return W})),n.d(t,"pb",(function(){return Ro})),n.d(t,"qb",(function(){return ta})),n.d(t,"rb",(function(){return ea})),n.d(t,"sb",(function(){return Oo})),n.d(t,"tb",(function(){return Js})),n.d(t,"ub",(function(){return We})),n.d(t,"vb",(function(){return M})),n.d(t,"wb",(function(){return Tn})),n.d(t,"xb",(function(){return Ga})),n.d(t,"yb",(function(){return $a})),n.d(t,"zb",(function(){return us})),n.d(t,"Ab",(function(){return Pr})),n.d(t,"Bb",(function(){return Uo})),n.d(t,"Cb",(function(){return Ca})),n.d(t,"Db",(function(){return Ha})),n.d(t,"Eb",(function(){return wa})),n.d(t,"Fb",(function(){return Ic})),n.d(t,"Gb",(function(){return mr})),n.d(t,"Hb",(function(){return Ie})),n.d(t,"Ib",(function(){return Pe})),n.d(t,"Jb",(function(){return E})),n.d(t,"Kb",(function(){return I})),n.d(t,"Lb",(function(){return Oe})),n.d(t,"Mb",(function(){return Ne})),n.d(t,"Nb",(function(){return Vo})),n.d(t,"Ob",(function(){return Jo})),n.d(t,"Pb",(function(){return Zo})),n.d(t,"Qb",(function(){return Xo})),n.d(t,"Rb",(function(){return Yo})),n.d(t,"Sb",(function(){return Wo})),n.d(t,"Tb",(function(){return $o})),n.d(t,"Ub",(function(){return yn})),n.d(t,"Vb",(function(){return za})),n.d(t,"Wb",(function(){return he})),n.d(t,"Xb",(function(){return zo})),n.d(t,"Yb",(function(){return Oc})),n.d(t,"Zb",(function(){return qo})),n.d(t,"ac",(function(){return na})),n.d(t,"bc",(function(){return Bc})),n.d(t,"cc",(function(){return oa})),n.d(t,"dc",(function(){return lc})),n.d(t,"ec",(function(){return hc})),n.d(t,"fc",(function(){return dc})),n.d(t,"gc",(function(){return fc})),n.d(t,"hc",(function(){return Ko})),n.d(t,"ic",(function(){return aa})),n.d(t,"jc",(function(){return sa})),n.d(t,"kc",(function(){return ac})),n.d(t,"lc",(function(){return sc})),n.d(t,"mc",(function(){return Ec})),n.d(t,"nc",(function(){return Ho})),n.d(t,"oc",(function(){return ft})),n.d(t,"pc",(function(){return pr})),n.d(t,"qc",(function(){return vr})),n.d(t,"rc",(function(){return Fe})),n.d(t,"sc",(function(){return _a})),n.d(t,"tc",(function(){return Va})),n.d(t,"uc",(function(){return ya})),n.d(t,"vc",(function(){return Qo})),n.d(t,"wc",(function(){return Tc})),n.d(t,"xc",(function(){return Ma})),n.d(t,"yc",(function(){return La})),n.d(t,"zc",(function(){return Ua})),n.d(t,"Ac",(function(){return ja})),n.d(t,"Bc",(function(){return Qa})),n.d(t,"Cc",(function(){return qa}));var y=b("Inject",(function(e){return{token:e}})),w=b("Optional"),_=b("Self"),k=b("SkipSelf"),C=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function S(e){for(var t in e)if(e[t]===S)return t;throw Error("Could not find renamed property on target object.")}function x(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function I(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function B(e){return D(e,e[O])||D(e,e[P])}function D(e,t){return t&&t.token===e?t:null}function T(e){return e&&(e.hasOwnProperty(F)||e.hasOwnProperty(N))?e[F]:null}var O=S({"\u0275prov":S}),F=S({"\u0275inj":S}),R=S({"\u0275provFallback":S}),P=S({ngInjectableDef:S}),N=S({ngInjectorDef:S});function M(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(M).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function L(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var U=S({__forward_ref__:S});function j(e){return e.__forward_ref__=j,e.toString=function(){return M(this())},e}function Q(e){return H(e)?e():e}function H(e){return"function"==typeof e&&e.hasOwnProperty(U)&&e.__forward_ref__===j}var V,z="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,K="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,W=z||G||q||K,Y=S({"\u0275cmp":S}),J=S({"\u0275dir":S}),X=S({"\u0275pipe":S}),Z=S({"\u0275mod":S}),$=S({"\u0275loc":S}),ee=S({"\u0275fac":S}),te=S({__NG_ELEMENT_ID__:S}),ne=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),re=new ne("INJECTOR",-1),ie={},oe=/\n/gm,ae=S({provide:String,useValue:S}),se=void 0;function ce(e){var t=se;return se=e,t}function ue(e){var t=V;return V=e,t}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;if(void 0===se)throw new Error("inject() must be called from an injection context");return null===se?de(e,void 0,t):se.get(e,t&C.Optional?null:void 0,t)}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default;return(V||le)(Q(e),t)}function de(e,t,n){var r=B(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(M(e),"]"))}function fe(e){for(var t=[],n=0;n<e.length;n++){var r=Q(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=C.Default,a=0;a<r.length;a++){var s=r[a];s instanceof w||"Optional"===s.ngMetadataName||s===w?o|=C.Optional:s instanceof k||"SkipSelf"===s.ngMetadataName||s===k?o|=C.SkipSelf:s instanceof _||"Self"===s.ngMetadataName||s===_?o|=C.Self:i=s instanceof y||s===y?s.token:s}t.push(he(i,o))}else t.push(he(r))}return t}var Ae=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;if(t===ie){var n=new Error("NullInjectorError: No provider for ".concat(M(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),pe=_createClass((function e(){_classCallCheck(this,e)})),ge=_createClass((function e(){_classCallCheck(this,e)}));function ve(e,t){e.forEach((function(e){return Array.isArray(e)?ve(e,t):t(e)}))}function me(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function be(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ye(e,t,n){var r=_e(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function we(e,t){var n=_e(e,t);if(n>=0)return e[1|n]}function _e(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ke=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Ce=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Se={},xe=[],Ee=0;function Ie(e){return m((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||xe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ce.Emulated,id:"c",styles:e.styles||xe,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=Ee++,i.inputs=Re(e.inputs,r),i.outputs=Re(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Be)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(De)}:null,i}))}function Be(e){return Me(e)||function(e){return e[J]||null}(e)}function De(e){return function(e){return e[X]||null}(e)}var Te={};function Oe(e){var t={type:e.type,bootstrap:e.bootstrap||xe,declarations:e.declarations||xe,imports:e.imports||xe,exports:e.exports||xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&m((function(){Te[e.id]=e.type})),t}function Fe(e,t){return m((function(){var n=Ue(e,!0);n.declarations=t.declarations||xe,n.imports=t.imports||xe,n.exports=t.exports||xe}))}function Re(e,t){if(null==e)return Se;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Pe=Ie;function Ne(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Me(e){return e[Y]||null}function Le(e,t){return e.hasOwnProperty(ee)?e[ee]:null}function Ue(e,t){var n=e[Z]||null;if(!n&&!0===t)throw new Error("Type ".concat(M(e)," does not have '\u0275mod' property."));return n}function je(e){return Array.isArray(e)&&"object"==typeof e[1]}function Qe(e){return Array.isArray(e)&&!0===e[1]}function He(e){return 0!=(8&e.flags)}function Ve(e){return 2==(2&e.flags)}function ze(e){return 1==(1&e.flags)}function qe(e){return null!==e.template}function Ke(e){return 0!=(512&e[2])}var Ge=void 0;function We(e){Ge=e}function Ye(){return void 0!==Ge?Ge:"undefined"!=typeof document?document:void 0}function Je(e){return!!e.listen}var Xe={createRenderer:function(e,t){return Ye()}};function Ze(e){for(;Array.isArray(e);)e=e[0];return e}function $e(e,t){return Ze(t[e+19])}function et(e,t){return Ze(t[e.index])}function tt(e,t){return e.data[t+19]}function nt(e,t){return e[t+19]}function rt(e,t){var n=t[e];return je(n)?n:n[0]}function it(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function ot(e){return 4==(4&e[2])}function at(e){return 128==(128&e[2])}function st(e,t){return null===e||null==t?null:e[t]}function ct(e){e[18]=0}var ut={lFrame:Dt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function lt(){return ut.bindingsEnabled}function ht(){return ut.lFrame.lView}function dt(){return ut.lFrame.tView}function ft(e){ut.lFrame.contextLView=e}function At(){return ut.lFrame.previousOrParentTNode}function pt(e,t){ut.lFrame.previousOrParentTNode=e,ut.lFrame.isParent=t}function gt(){return ut.lFrame.isParent}function vt(){ut.lFrame.isParent=!1}function mt(){return ut.checkNoChangesMode}function bt(e){ut.checkNoChangesMode=e}function yt(){var e=ut.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function wt(){return ut.lFrame.bindingIndex}function _t(){return ut.lFrame.bindingIndex++}function kt(e){var t=ut.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ct(e,t){var n=ut.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function St(){return ut.lFrame.currentQueryIndex}function xt(e){ut.lFrame.currentQueryIndex=e}function Et(e,t){var n=Bt();ut.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function It(e,t){var n=Bt(),r=e[1];ut.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function Bt(){var e=ut.lFrame,t=null===e?null:e.child;return null===t?Dt(e):t}function Dt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Tt(){var e=ut.lFrame;return ut.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Ot=Tt;function Ft(){var e=Tt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Rt(){return ut.lFrame.selectedIndex}function Pt(e){ut.lFrame.selectedIndex=e}function Nt(){var e=ut.lFrame;return tt(e.tView,e.selectedIndex)}function Mt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Lt(e,t,n){Qt(e,t,3,n)}function Ut(e,t,n,r){(3&e[2])===n&&Qt(e,t,n,r)}function jt(e,t){var n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function Qt(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Ht(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Ht(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(a)):o.call(a)}var Vt=_createClass((function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}));function zt(e,t,n){for(var r=Je(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],c=n[i++];r?e.setAttribute(t,s,c,a):t.setAttributeNS(a,s,c)}else{var u=o,l=n[++i];Kt(u)?r&&e.setProperty(t,u,l):r?e.setAttribute(t,u,l):t.setAttribute(u,l),i++}}return i}function qt(e){return 3===e||4===e||6===e}function Kt(e){return 64===e.charCodeAt(0)}function Gt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Wt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Wt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var c=e[o];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Yt(e){return-1!==e}function Jt(e){return 32767&e}function Xt(e){return e>>16}function Zt(e,t){for(var n=Xt(e),r=t;n>0;)r=r[15],n--;return r}function $t(e){return"string"==typeof e?e:null==e?"":""+e}function en(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$t(e)}var tn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function nn(e){return e instanceof Function?e():e}var rn=!0;function on(e){var t=rn;return rn=e,t}var an=0;function sn(e,t){var n=un(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,cn(r.data,e),cn(t,null),cn(r.blueprint,null));var i=ln(e,t),o=e.injectorIndex;if(Yt(i))for(var a=Jt(i),s=Zt(i,t),c=s[1].data,u=0;u<8;u++)t[o+u]=s[a+u]|c[a+u];return t[o+8]=i,o}function cn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function un(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function ln(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function hn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[te]:n.charCodeAt(0)||0;null==r&&(r=n[te]=an++);var i=255&r,o=1<<i,a=64&i,s=32&i,c=t.data;128&i?a?s?c[e+7]|=o:c[e+6]|=o:s?c[e+5]|=o:c[e+4]|=o:a?s?c[e+3]|=o:c[e+2]|=o:s?c[e+1]|=o:c[e]|=o}(e,t,n)}function dn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[te];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Et(t,e);try{var a=o();if(null!=a||r&C.Optional)return a;throw new Error("No provider for ".concat(en(n),"!"))}finally{Ot()}}else if("number"==typeof o){if(-1===o)return new bn(e,t);var s=null,c=un(e,t),u=-1,l=r&C.Host?t[16][6]:null;for((-1===c||r&C.SkipSelf)&&(u=-1===c?ln(e,t):t[c+8],mn(r,!1)?(s=t[1],c=Jt(u),t=Zt(u,t)):c=-1);-1!==c;){u=t[c+8];var h=t[1];if(vn(o,c,h.data)){var d=An(c,t,n,s,r,l);if(d!==fn)return d}mn(r,t[1].data[c+8]===l)&&vn(o,c,t)?(s=h,c=Jt(u),t=Zt(u,t)):c=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){var f=t[9],A=ue(void 0);try{return f?f.get(n,i,r&C.Optional):de(n,i,r&C.Optional)}finally{ue(A)}}if(r&C.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(en(n),"]"))}var fn={};function An(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],c=pn(s,a,n,null==r?Ve(s)&&rn:r!=a&&3===s.type,i&C.Host&&o===s);return null!==c?gn(t,a,c,s):fn}function pn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,c=e.directiveStart,u=o>>16,l=i?s+u:e.directiveEnd,h=r?s:s+u;h<l;h++){var d=a[h];if(h<c&&n===d||h>=c&&d.type===n)return h}if(i){var f=a[c];if(f&&qe(f)&&f.type===n)return c}return null}function gn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Vt){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(en(o[n])));var s,c=on(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=ue(a.injectImpl)),Et(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&ue(s),on(c),a.resolving=!1,Ot()}}return i}function vn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function mn(e,t){return!(e&C.Self||e&C.Host&&t)}var bn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return dn(this._tNode,this._lView,e,void 0,t)}}]),e}();function yn(e){return m((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[ee]||function e(t){var n=t;if(H(t))return function(){var t=e(Q(n));return t?t():null};var r=Le(n);if(null===r){var i=T(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function wn(e){return e.ngDebugContext}function _n(e){return e.ngOriginalError}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Cn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||kn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?wn(e)?wn(e):this._findContext(_n(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=_n(e);t&&_n(t);)t=_n(t);return t}}]),e}(),Sn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),xn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Sn),En=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Sn),In=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Sn),Bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Sn),Dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Sn);function Tn(e){return e instanceof Sn?e.changingThisBreaksApplicationSecurity:e}function On(e,t){var n=Fn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function Fn(e){return e instanceof Sn&&e.getTypeName()||null}function Rn(e){return new xn(e)}function Pn(e){return new En(e)}function Nn(e){return new In(e)}function Mn(e){return new Bn(e)}function Ln(e){return new Dn(e)}var Un=!0,jn=!1;function Qn(){return jn=!0,Un}function Hn(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");Un=!1}var Vn=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),zn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(e){return(e=String(e)).match(zn)||e.match(qn)?e:(Qn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Gn(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Wn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Yn,Jn=Gn("area,br,col,hr,img,wbr"),Xn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Gn("rp,rt"),$n=Wn(Zn,Xn),er=Wn(Jn,Wn(Xn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Zn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$n),tr=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Gn("srcset"),rr=Wn(tr,nr,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Gn("script,style,template"),or=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!er.hasOwnProperty(t))return this.sanitizedSomething=!0,!ir.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(rr.hasOwnProperty(s)){var c=o.value;tr[s]&&(c=Kn(c)),nr[s]&&(n=c,c=(n=String(n)).split(",").map((function(e){return Kn(e.trim())})).join(", ")),this.buf.push(" ",a,'="',cr(c),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();er.hasOwnProperty(t)&&!Jn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(cr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function cr(e){return e.replace(/&/g,"&amp;").replace(ar,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(sr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(e,t){var n=null;try{Yn=Yn||new Vn(e);var r=t?String(t):"";n=Yn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Yn.getInertBodyElement(r)}while(r!==o);var a=new or,s=a.sanitizeChildren(lr(n)||n);return Qn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=lr(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function lr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),dr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),fr=/^url\(([^)]+)\)$/;function Ar(e){if(!(e=String(e).trim()))return"";var t=e.match(fr);return t&&Kn(t[1])===t[1]||e.match(dr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Qn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function pr(e){var t=yr();return t?t.sanitize(hr.HTML,e)||"":On(e,"HTML")?Tn(e):ur(Ye(),$t(e))}function gr(e){var t=yr();return t?t.sanitize(hr.STYLE,e)||"":On(e,"Style")?Tn(e):Ar($t(e))}function vr(e){var t=yr();return t?t.sanitize(hr.URL,e)||"":On(e,"URL")?Tn(e):Kn($t(e))}var mr=function(e,t,n){if(void 0===t&&void 0===n)return gr(e);var r=!0;return 1&(n=n||3)&&(r=br(e)),2&n?r?gr(t):Tn(t):r};function br(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"border-image-source"===e||"borderImageSource"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}function yr(){var e=ht();return e&&e[12]}function wr(e,t){e.__ngContext__=t}function _r(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function kr(){throw new Error("Cannot mix multi providers and regular providers")}function Cr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Sr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Cr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function xr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Er(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(qt(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var c=t[s];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!xr(e,c,n)||""===c&&1===t.length){if(Ir(r))return!1;a=!0}}else{var u=8&r?c:t[++s];if(8&r&&null!==e.attrs){if(!Sr(e.attrs,u,n)){if(Ir(r))return!1;a=!0}continue}var l=Br(8&r?"class":c,i,0==e.type&&"ng-template"!==e.tagName,n);if(-1===l){if(Ir(r))return!1;a=!0;continue}if(""!==u){var h;h=l>o?"":i[l+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==Cr(d,u,0)||2&r&&u!==h){if(Ir(r))return!1;a=!0}}}}else{if(!a&&!Ir(r)&&!Ir(c))return!1;if(a&&Ir(c))continue;a=!1,r=c|1&r}}return Ir(r)||a}function Ir(e){return 0==(1&e)}function Br(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Dr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Er(e,t[r],n))return!0;return!1}function Tr(e,t){return e?":not("+t.trim()+")":t}function Or(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ir(a)||(t+=Tr(o,i),i=""),r=a,o=o||!Ir(r);n++}return""!==i&&(t+=Tr(o,i)),t}var Fr={};function Rr(e){var t=e[3];return Qe(t)?t[3]:t}function Pr(e){Nr(dt(),ht(),Rt()+e,mt())}function Nr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Lt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Ut(t,o,0,n)}Pt(n)}function Mr(e,t){return e<<17|t<<2}function Lr(e){return e>>17&32767}function Ur(e){return 2|e}function jr(e){return(131068&e)>>2}function Qr(e,t){return-131069&e|t<<2}function Hr(e){return 1|e}function Vr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];xt(i),a.contentQueries(2,t[o],o)}}}function zr(e,t,n){return Je(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function qr(e,t,n,r,i,o,a,s,c,u){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,ct(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=c||e&&e[12]||null,l[9]=u||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Kr(e,t,n,r,i,o){var a=n+19,s=e.data[a]||function(e,t,n,r,i,o){var a=At(),s=gt(),c=s?a:a&&a.parent,u=e.data[n]=ni(0,c&&c!==t?c:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=u),a&&(!s||null!=a.child||null===u.parent&&2!==a.type?s||(a.next=u):a.child=u),u}(e,t,a,r,i,o);return pt(s,!0),s}function Gr(e,t,n){It(t,t[6]);try{var r=e.viewQuery;null!==r&&Si(1,r,n);var i=e.template;null!==i&&Jr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Vr(e,t),e.staticViewQueries&&Si(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)yi(e,t[n])}(t,o)}finally{t[2]&=-5,Ft()}}function Wr(e,t,n,r){var i=t[2];if(256!=(256&i)){It(t,t[6]);var o=mt();try{ct(t),ut.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Jr(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Lt(t,s,null)}else{var c=e.preOrderHooks;null!==c&&Ut(t,c,0,null),jt(t,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if(Qe(t)&&(n=t[2])>>1==-1){for(var r=9;r<t.length;r++){var i=t[r],o=i[1];at(i)&&Wr(o,i,o.template,i[8])}0!=(1&n)&&mi(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&Vr(e,t),!o)if(a){var u=e.contentCheckHooks;null!==u&&Lt(t,u)}else{var l=e.contentHooks;null!==l&&Ut(t,l,1),jt(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Pt(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(Ct(r,i),a(2,t[i])),i++)}}finally{Pt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)bi(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&Si(2,d,r),!o)if(a){var f=e.viewCheckHooks;null!==f&&Lt(t,f)}else{var A=e.viewHooks;null!==A&&Ut(t,A,2),jt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{Ft()}}}function Yr(e,t,n,r){var i=t[10],o=!mt(),a=ot(t);try{o&&!a&&i.begin&&i.begin(),a&&Gr(e,t,r),Wr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Jr(e,t,n,r,i){var o=Rt();try{Pt(-1),2&r&&t.length>19&&Nr(e,t,0,mt()),n(r,i)}finally{Pt(o)}}function Xr(e,t,n){if(He(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Zr(e,t,n){lt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||sn(n,t),wr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var c=e.data[s],u=qe(c);u&&Ai(t,n,c);var l=gn(t,e,s,n);wr(l,t),null!==a&&pi(0,s-i,l,c,0,a),u&&(rt(n.index,t)[8]=l)}}(e,t,n,et(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-19;try{Pt(s);for(var c=r;c<i;c++){var u=e.data[c],l=t[c];null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?ci(u,l):a&&o.push(null)}}finally{Pt(-1)}}(e,t,n))}function $r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function ei(e){return e.tView||(e.tView=ti(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function ti(e,t,n,r,i,o,a,s,c,u){var l=19+r,h=l+i,d=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Fr);return n}(l,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:s,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:u}}function ni(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ri(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ii(e,t,n,r,i,o,a,s){var c,u,l=et(t,n),h=t.inputs;!s&&null!=h&&(c=h[r])?(Di(e,n,c,r,i),Ve(t)&&function(e,t){var n=rt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(u=r)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,i=null!=a?a(i,t.tagName||"",r):i,Je(o)?o.setProperty(l,r,i):Kt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function oi(e,t,n,r){var i=!1;if(lt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Dr(n,a.selectors,!1)&&(i||(i=[]),hn(sn(n,t),e,a.type),qe(a)?(2&n.flags&&_r(n),li(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,di(n,e.data.length,o.length);for(var c=0;c<o.length;c++){var u=o[c];u.providersResolver&&u.providersResolver(u)}ui(e,n,o.length);for(var l=!1,h=!1,d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=Gt(n.mergedAttrs,f.hostAttrs),fi(e,t,f),hi(e.data.length-1,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128),!l&&(f.onChanges||f.onInit||f.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),l=!0),h||!f.onChanges&&!f.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),h=!0),ai(e,f),s+=f.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,c=t.directiveStart;c<n;c++){var u=r[c],l=u.inputs;o.push(null!==i?gi(l,i):null),a=ri(l,c,a),s=ri(u.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),si(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Gt(n.mergedAttrs,n.attrs),i}function ai(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function si(e,t,n){for(var r=0;r<n;r++)t.push(Fr),e.blueprint.push(Fr),e.data.push(null)}function ci(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ui(e,t,n){var r=19-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function li(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function hi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qe(t)&&(n[""]=e)}}function di(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function fi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Le(n.type)),i=new Vt(r,qe(n),null);e.blueprint.push(i),t.push(i)}function Ai(e,t,n){var r=et(t,e),i=ei(n),o=e[10],a=wi(e,qr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function pi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,c=0;c<a.length;){var u=a[c++],l=a[c++],h=a[c++];null!==s?r.setInput(n,h,u,l):n[l]=h}}function gi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(e,t,n,r){return new Array(e,!0,-2,t,null,null,r,n,null)}function mi(e,t){for(var n=e[5],r=0;r<n.length;r++){var i=n[r],o=i[3][3][16];if(o!==t&&0==(16&o[2])){var a=i[1];Wr(a,i,a.template,i[8])}}}function bi(e,t){var n=rt(t,e);if(at(n)&&80&n[2]){var r=n[1];Wr(r,n,r.template,n[8])}}function yi(e,t){var n=rt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Gr(r,n,n[8])}function wi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function _i(e){for(;e;){e[2]|=64;var t=Rr(e);if(Ke(e)&&!t)return e;e=t}return null}function ki(e,t,n){var r=t[10];r.begin&&r.begin();try{Wr(e,t,e.template,n)}catch(i){throw Bi(t,i),i}finally{r.end&&r.end()}}function Ci(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=it(n),i=r[1];Yr(i,r,i.template,n)}}(e[8])}function Si(e,t,n){xt(0),t(e,n)}var xi=Promise.resolve(null);function Ei(e){return e[7]||(e[7]=[])}function Ii(e){return e.cleanup||(e.cleanup=[])}function Bi(e,t){var n=e[9],r=n?n.get(Cn,null):null;r&&r.handleError(t)}function Di(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],c=t[a],u=e.data[a];null!==u.setInput?u.setInput(c,i,r,s):c[s]=i}}function Ti(e,t,n){var r=$e(t,e),i=e[11];Je(i)?i.setValue(r,n):r.textContent=n}function Oi(e,t){var n=t[3];return-1===e.index?Qe(n)?n:null:n}function Fi(e,t){var n=Oi(e,t);return n?zi(t[11],n[7]):null}function Ri(e,t,n,r,i){if(null!=r){var o,a=!1;Qe(r)?o=r:je(r)&&(a=!0,r=r[0]);var s=Ze(r);0===e&&null!==n?null==i?Hi(t,n,s):Qi(t,n,s,i||null):1===e&&null!==n?Qi(t,n,s,i||null):2===e?function(e,t,n){var r=zi(e,t);r&&function(e,t,n,r){Je(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Ze(n)&&Ri(t,e,r,o,i);for(var a=9;a<n.length;a++){var s=n[a];Wi(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Pi(e,t,n,r){var i=Fi(e.node,t);i&&Wi(e,t,t[11],n?1:2,i,r)}function Ni(e,t){var n=e[5],r=n.indexOf(t);n.splice(r,1)}function Mi(e,t){if(!(e.length<=9)){var n=9+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Ni(i,r),t>0&&(e[n-1][4]=r[4]);var o=be(e,9+t);Pi(r[1],r,!1,null);var a=o[5];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Li(e,t){if(!(256&t[2])){var n=t[11];Je(n)&&n.destroyNode&&Wi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return ji(e[1],e);for(;t;){var n=null;if(je(t))n=t[13];else{var r=t[9];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)je(t)&&ji(t[1],t),t=Ui(t,e);null===t&&(t=e),je(t)&&ji(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ui(e,t){var n;return je(e)&&(n=e[6])&&2===n.type?Oi(n,e):e[3]===t?null:e[3]}function ji(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];i instanceof Vt||n[r+1].call(i)}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):Ze(t[o]),s=r[n[i+2]],c=n[i+3];"boolean"==typeof c?a.removeEventListener(n[i],s,c):c>=0?r[c]():r[-c].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Je(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Qe(t[3])){r!==t[3]&&Ni(r,t);var i=t[5];null!==i&&i.detachView(e)}}}function Qi(e,t,n,r){Je(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Hi(e,t,n){Je(e)?e.appendChild(t,n):t.appendChild(n)}function Vi(e,t,n,r){null!==r?Qi(e,t,n,r):Hi(e,t,n)}function zi(e,t){return Je(e)?e.parentNode(t):t.parentNode}function qi(e,t,n,r){var i=function(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Fi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return et(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Ce.ShadowDom&&a!==Ce.Native)return null}return et(r,n)}(e,r,t);if(null!=i){var o=t[11],a=function(e,t){if(2===e.type){var n=Oi(e,t);return null===n?null:Ki(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?et(e,t):null}(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Vi(o,i,n[s],a);else Vi(o,i,n,a)}}function Ki(e,t){var n=9+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return et(n,t);if(0===r)return Ki(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Qe(o)?Ki(-1,o):Ze(o)}var a=t[16],s=a[6],c=Rr(a),u=s.projection[n.projection];return null!=u?e(c,u):e(t,n.next)}return null}(r,i)}return t[7]}function Gi(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],c=n.type;a&&0===t&&(s&&wr(Ze(s),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Gi(e,t,n.child,r,i,o,!1),Ri(t,e,i,s,o)):1===c?Yi(e,t,r,n,i,o):Ri(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Wi(e,t,n,r,i,o){Gi(n,r,e.node.child,t,i,o,!1)}function Yi(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)Ri(t,e,i,s[c],o);else Gi(e,t,s,a[3],i,o,!0)}function Ji(e,t,n){Je(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Xi(e,t,n){Je(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Zi,$i,eo,to=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Ze(a)),Qe(a))for(var s=9;s<a.length;s++){var c=a[s],u=c[1].firstChild;null!==u&&e(c[1],c,u,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],d=h[6],f=Rr(h),A=d.projection[r.projection];null!==A&&null!==f&&e(f[1],f,A,i,!0)}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Li(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Ei(n=this._lView).push(r),t.firstCreatePass&&Ii(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){_i(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ki(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){bt(!0);try{ki(e,t,n)}finally{bt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Wi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),no=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){Ci(this._view)}},{key:"checkNoChanges",value:function(){!function(e){bt(!0);try{Ci(e)}finally{bt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(to);function ro(e,t,n){return Zi||(Zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(e)),new Zi(et(t,n))}function io(e,t,n,r){return $i||($i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=qr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(t)),Gr(t,n,e);var i=new to(n);return i._tViewNode=n[6],i}}]),n}(e)),0===n.type?new $i(r,n,ro(t,n,r)):null}function oo(e,t,n,r){var i;eo||(eo=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return ro(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new bn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=ln(this._hostTNode,this._hostView),t=Zt(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Xt(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Yt(e)&&null!=n?new bn(n,t):new bn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-9}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(pe,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Qe(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new eo(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=9+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-9?(t[4]=n[i],me(n,9+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[5],r=t[3][3][16];16!=(16&r[2])&&t[16]!==r&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(a,t);var s=t[5];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Pi(r,n,!0,Ki(s,this._lContainer)),e.attachToViewContainerRef(this),me(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);(function(e,t){var n=Mi(e,t);n&&Li(n[1],n)})(this._lContainer,t),be(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Mi(this._lContainer,t);return n&&null!=be(this._lContainer[8],t)?new to(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(e));var o=r[n.index];if(Qe(o))(function(e,t){e[2]=-2})(i=o);else{var a;if(4===n.type)a=Ze(o);else if(a=r[11].createComment(""),Ke(r)){var s=r[11],c=et(n,r);Qi(s,zi(s,c),a,function(e,t){return Je(e)?e.nextSibling(t):t.nextSibling}(s,c))}else qi(r[1],r,a,n);r[n.index]=i=vi(o,r,a,n),wi(r,i)}return new eo(i,n,r)}function ao(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Ve(e)){var r=rt(e.index,t);return new to(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new to(t[16],t):null}(At(),ht(),e)}var so=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return co()},e}(),co=ao,uo=new ne("Set Injector scope."),lo={},ho={},fo=[],Ao=void 0;function po(){return void 0===Ao&&(Ao=new Ae),Ao}function go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new vo(e,n,t||po(),r)}var vo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ve(n,(function(e){return i.processProvider(e,t,n)})),ve([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(re,yo(void 0,this));var s=this.records.get(uo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:M(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;this.assertNotDestroyed();var r,i=ce(this);try{if(!(n&C.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof ne)&&B(e);o=a&&this.injectableDefInScope(a)?yo(mo(e),lo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&C.Self?po():this.parent).get(e,t=n&C.Optional&&t===ie?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(M(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=M(t);if(Array.isArray(t))i=t.map(M).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):M(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(oe,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ce(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(M(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Q(e)))return!1;var i=T(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=T(o)),null==i)return!1;if(null!=i.imports&&!s){var c;n.push(a);try{ve(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===c&&(c=[]),c.push(e))}))}finally{}if(void 0!==c)for(var u=function(e){var t=c[e],n=t.ngModule,i=t.providers;ve(i,(function(e){return r.processProvider(e,n,i||fo)}))},l=0;l<c.length;l++)u(l)}this.injectorDefTypes.add(a),this.records.set(a,yo(i.factory,lo));var h=i.providers;if(null!=h&&!s){var d=e;ve(h,(function(e){return r.processProvider(e,d,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=_o(e=Q(e))?e:Q(e&&e.provide),i=function(e,t,n){return wo(e)?yo(void 0,e.useValue):yo(bo(e,t,n),lo)}(e,t,n);if(_o(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&kr()}else{var a=this.records.get(r);a?void 0===a.multi&&kr():((a=yo(void 0,lo,!0)).factory=function(){return fe(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===ho?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(M(e)):t.value===lo&&(t.value=ho,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function mo(e){var t=B(e),n=null!==t?t.factory:Le(e);if(null!==n)return n;var r=T(e);if(null!==r)return r.factory;if(e instanceof ne)throw new Error("Token ".concat(M(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(M(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[O]||e[P]||e[R]&&e[R]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function bo(e,t,n){var r,i=void 0;if(_o(e)){var o=Q(e);return Le(o)||mo(o)}if(wo(e))i=function(){return Q(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(fe(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return he(Q(e.useExisting))};else{var a=Q(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(M(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Le(a)||mo(a);i=function(){return _construct(a,_toConsumableArray(fe(e.deps)))}}return i}function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function wo(e){return null!==e&&"object"==typeof e&&ae in e}function _o(e){return"function"==typeof e}var ko=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=go(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Co=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ko(e,t,""):ko(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ie,e.NULL=new Ae,e.\u0275prov=E({token:e,providedIn:"any",factory:function(){return he(re)}}),e.__NG_ELEMENT_ID__=-1,e}(),So=new ne("AnalyzeForEntryComponents"),xo=new Map,Eo=new Set;function Io(e){return"string"==typeof e?e:e.text()}function Bo(e,t){for(var n=e.styles,r=e.classes,i=0,o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:1==i?r=L(r,a):2==i&&(n=L(n,a+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}var Do=null;function To(){if(!Do){var e=W.Symbol;if(e&&e.iterator)Do=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Do=r)}}return Do}function Oo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Fo=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ro(e){return!!Po(e)&&(Array.isArray(e)||!(e instanceof Map)&&To()in e)}function Po(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function No(e,t,n){return e[t]=n}function Mo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Lo(e,t,n,r){var i=Mo(e,t,n);return Mo(e,t+1,r)||i}function Uo(e,t,n,r){var i=ht();return Mo(i,_t(),t)&&(dt(),function(e,t,n,r,i,o){var a=et(e,t),s=t[11];if(null==r)Je(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var c=null==i?$t(r):i(r,e.tagName||"",n);Je(s)?s.setAttribute(a,n,c,o):o?a.setAttributeNS(o,n,c):a.setAttribute(n,c)}}(Nt(),i,e,t,n,r)),Uo}function jo(e,t,n,r){return Mo(e,_t(),n)?t+$t(n)+r:Fr}function Qo(e,t,n,r,i,o,a,s){var c=ht(),u=dt(),l=e+19,h=u.firstCreatePass?function(e,t,n,r,i,o,a,s,c){var u=t.consts,l=Kr(t,n[6],e,0,a||null,st(u,s));oi(t,n,l,st(u,c)),Mt(t,l);var h=l.tViews=ti(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u),d=ni(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,u,c,t,n,r,i,o,a):u.data[l];pt(h,!1);var d=c[11].createComment("");qi(u,c,d,h),wr(d,c),wi(c,c[l]=vi(d,c,d,h)),ze(h)&&Zr(u,c,h),null!=a&&$r(c,h,s)}function Ho(e){return nt(ut.lFrame.contextLView,e)}function Vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.Default,n=ht();return null==n?he(e,t):dn(At(),n,Q(e),t)}function zo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(qt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(At(),e)}function qo(){throw new Error("invalid")}function Ko(e,t,n){var r=ht();return Mo(r,_t(),t)&&ii(dt(),Nt(),r,e,t,r[11],n,!1),Ko}function Go(e,t,n,r,i){var o=i?"class":"style";Di(e,n,t.inputs[o],o,r)}function Wo(e,t,n,r){var i=ht(),o=dt(),a=19+e,s=i[11],c=i[a]=zr(t,s,ut.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,c=st(s,o),u=Kr(t,n[6],e,3,i,c);return oi(t,n,u,st(s,a)),null!==u.mergedAttrs&&Bo(u,u.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,u),u}(e,o,i,0,t,n,r):o.data[a];pt(u,!0);var l=u.mergedAttrs;null!==l&&zt(s,c,l);var h=u.classes;null!==h&&Xi(s,c,h);var d=u.styles;null!==d&&Ji(s,c,d),qi(o,i,c,u),0===ut.lFrame.elementDepthCount&&wr(c,i),ut.lFrame.elementDepthCount++,ze(u)&&(Zr(o,i,u),Xr(o,u,i)),null!==r&&$r(i,u)}function Yo(){var e=At();gt()?vt():pt(e=e.parent,!1);var t=e;ut.lFrame.elementDepthCount--;var n=dt();n.firstCreatePass&&(Mt(n,e),He(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&Go(n,t,ht(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&Go(n,t,ht(),t.styles,!1)}function Jo(e,t,n,r){Wo(e,t,n,r),Yo()}function Xo(e,t,n){var r=ht(),i=dt(),o=e+19,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=st(o,r),s=Kr(t,n[6],e,4,"ng-container",a);return null!==a&&Bo(s,a),oi(t,n,s,st(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];pt(a,!0);var s=r[o]=r[11].createComment("");qi(i,r,s,a),wr(s,r),ze(a)&&(Zr(i,r,a),Xr(i,a,r)),null!=n&&$r(r,a)}function Zo(){var e=At(),t=dt();gt()?vt():pt(e=e.parent,!1),t.firstCreatePass&&(Mt(t,e),He(e)&&t.queries.elementEnd(e))}function $o(){return ht()}function ea(e){return!!e&&"function"==typeof e.then}function ta(e){return!!e&&"function"==typeof e.subscribe}function na(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ht(),o=dt(),a=At();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=ze(r),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Ei(t),h=!0;if(3===r.type){var d=et(r,t),f=s?s(d):Se,A=f.target||d,p=l.length,g=s?function(e){return s(Ze(e[r.index])).target}:r.index;if(Je(n)){var v=null;if(!s&&c&&(v=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],c=i[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=ia(r,t,o,!1);var m=n.listen(f.name||A,i,o);l.push(o,m),u&&u.push(i,g,p,p+1)}}else o=ia(r,t,o,!0),A.addEventListener(i,o,a),l.push(o),u&&u.push(i,g,p,a)}var b,y=r.outputs;if(h&&null!==y&&(b=y[i])){var w=b.length;if(w)for(var _=0;_<w;_+=2){var k=t[b[_]][b[_+1]].subscribe(o),C=l.length;l.push(o,k),u&&u.push(i,r.index,C,-(C+1))}}}(o,i,i[11],a,e,t,n,r),na}function ra(e,t,n){try{return!1!==t(n)}catch(r){return Bi(e,r),!1}}function ia(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?rt(e.index,t):t;0==(32&t[2])&&_i(a);for(var s=ra(t,n,o),c=i.__ngNextListenerFn__;c;)s=ra(t,c,o)&&s,c=c.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(ut.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ut.lFrame.contextLView))[8]}(e)}function aa(e,t,n){return sa(e,"",t,"",n),aa}function sa(e,t,n,r,i){var o=ht(),a=jo(o,t,n,r);return a!==Fr&&ii(dt(),Nt(),o,e,a,o[11],i,!1),sa}var ca=[];function ua(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Lr(o):jr(o),c=!1;0!==s&&(!1===c||a);){var u=e[s+1];la(e[s],t)&&(c=!0,e[s+1]=r?Hr(u):Ur(u)),s=r?Lr(u):jr(u)}c&&(e[n+1]=r?Ur(o):Hr(o))}function la(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&_e(e,t)>=0}var ha={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function da(e){return e.substring(ha.key,ha.keyEnd)}function fa(e){return e.substring(ha.value,ha.valueEnd)}function Aa(e,t){var n=ha.textEnd;return n===t?-1:(t=ha.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ha.key=t,n),va(e,t,n))}function pa(e,t){var n=ha.textEnd,r=ha.key=va(e,t,n);return n===r?-1:(r=ha.keyEnd=function(e,t,n){for(var r;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90);)t++;return t}(e,r,n),r=ma(e,r,n),r=ha.value=va(e,r,n),r=ha.valueEnd=function(e,t,n){for(var r=-1,i=-1,o=-1,a=t,s=a;a<n;){var c=e.charCodeAt(a++);if(59===c)return s;34===c||39===c?s=a=ba(e,c,a,n):t===a-4&&85===o&&82===i&&76===r&&40===c?s=a=ba(e,41,a,n):c>32&&(s=a),o=i,i=r,r=-33&c}return s}(e,r,n),ma(e,r,n))}function ga(e){ha.key=0,ha.keyEnd=0,ha.value=0,ha.valueEnd=0,ha.textEnd=e.length}function va(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ma(e,t,n,r){return(t=va(e,t,n))<n&&t++,t}function ba(e,t,n,r){for(var i=-1,o=n;o<r;){var a=e.charCodeAt(o++);if(a==t&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function ya(e,t,n){return xa(e,t,n,!1),ya}function wa(e,t){return xa(e,t,null,!0),wa}function _a(e){Ea(Oa,ka,e,!1)}function ka(e,t){for(var n=function(e){return ga(e),pa(e,va(e,0,ha.textEnd))}(t);n>=0;n=pa(t,n))Oa(e,da(t),fa(t))}function Ca(e){Ea(ye,Sa,e,!0)}function Sa(e,t){for(var n=function(e){return ga(e),Aa(e,va(e,0,ha.textEnd))}(t);n>=0;n=Aa(t,n))ye(e,da(t),!0)}function xa(e,t,n,r){var i,o,a=ht(),s=dt(),c=kt(2);(s.firstUpdatePass&&Ba(s,e,c,r),t!==Fr&&Mo(a,c,t))&&(null==n&&(i=null===(o=ut.lFrame)?null:o.currentSanitizer)&&(n=i),Fa(s,s.data[Rt()+19],a,a[11],e,a[c+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=M(Tn(e)))),e}(t,n),r,c))}function Ea(e,t,n,r){var i=dt(),o=kt(2);i.firstUpdatePass&&Ba(i,null,o,r);var a=ht();if(n!==Fr&&Mo(a,o,n)){var s=i.data[Rt()+19];if(Na(s,r)&&!Ia(i,o)){var c=r?s.classes:s.styles;null!==c&&(n=L(c,n||"")),Go(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Fr&&(i=ca);for(var c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var d=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0,A=null,p=void 0;l===h?(c+=2,u+=2,d!==f&&(A=h,p=f)):null===h||null!==l&&l<h?(c+=2,A=l):(u+=2,A=h,p=f),null!==A&&Fa(e,t,n,r,A,p,a,s),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return ca;var r=[],i=Tn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Ia(e,t){return t>=e.expandoStartIndex}function Ba(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[Rt()+19],a=Ia(e,n);Na(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=ut.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ta(n=Da(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Da(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==jr(r))return e[Lr(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Lr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ta(s=Da(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ta(r,e[o].hostAttrs,n);return Ta(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Lr(a),c=jr(a);e[r]=n;var u,l=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||_e(h,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){var d=Lr(e[s+1]);e[r+1]=Mr(d,s),0!==d&&(e[d+1]=Qr(e[d+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Mr(s,0),0!==s&&(e[s+1]=Qr(e[s+1],r)),s=r;else e[r+1]=Mr(c,0),0===s?s=r:e[c+1]=Qr(e[c+1],r),c=r;l&&(e[r+1]=Ur(e[r+1])),ua(e,u,r,!0),ua(e,u,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&_e(o,t)>=0&&(n[r+1]=Hr(n[r+1]))}(t,u,e,r,o),a=Mr(s,c),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Da(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ta(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ta(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ye(e,a,!!n||t[++o]))}return void 0===e?null:e}function Oa(e,t,n){br(t)&&(n=gr(n)),ye(e,t,n)}function Fa(e,t,n,r,i,o,a,s){if(3===t.type){var c=e.data,u=c[s+1];Pa(1==(1&u)?Ra(c,t,n,i,jr(u),a):void 0)||(Pa(o)||2==(2&u)&&(o=Ra(c,null,n,i,s,a)),function(e,t,n,r,i){var o=Je(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,$e(Rt(),n),i,o))}}function Ra(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var c=e[i],u=Array.isArray(c),l=u?c[1]:c,h=null===l,d=n[i+1];d===Fr&&(d=h?ca:void 0);var f=h?we(d,r):l===r?d:void 0;if(u&&!Pa(f)&&(f=we(c,r)),Pa(f)&&(s=f,a))return s;var A=e[i+1];i=a?Lr(A):jr(A)}if(null!==t){var p=o?t.residualClasses:t.residualStyles;null!=p&&(s=we(p,r))}return s}function Pa(e){return void 0!==e}function Na(e,t){return 0!=(e.flags&(t?16:32))}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ht(),r=dt(),i=e+19,o=r.firstCreatePass?Kr(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Je(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);qi(r,n,a,o),pt(o,!1)}function La(e){return Ua("",e,""),La}function Ua(e,t,n){var r=ht(),i=jo(r,e,t,n);return i!==Fr&&Ti(r,Rt(),i),Ua}function ja(e,t,n,r,i){var o=ht(),a=function(e,t,n,r,i,o){var a=Lo(e,wt(),n,i);return kt(2),a?t+$t(n)+r+$t(i)+o:Fr}(o,e,t,n,r,i);return a!==Fr&&Ti(o,Rt(),a),ja}function Qa(e,t,n,r,i,o,a){var s=ht(),c=function(e,t,n,r,i,o,a,s){var c=function(e,t,n,r,i){var o=Lo(e,t,n,r);return Mo(e,t+2,i)||o}(e,wt(),n,i,a);return kt(3),c?t+$t(n)+r+$t(i)+o+$t(a)+s:Fr}(s,e,t,n,r,i,o,a);return c!==Fr&&Ti(s,Rt(),c),Qa}function Ha(e,t,n){Ea(ye,Sa,jo(ht(),e,t,n),!0)}function Va(e,t,n){_a(jo(ht(),e,t,n))}function za(e,t,n){var r=ht();return Mo(r,_t(),t)&&ii(dt(),Nt(),r,e,t,r[11],n,!0),za}function qa(e,t,n){var r=ht();if(Mo(r,_t(),t)){var i=dt(),o=Nt();ii(i,o,r,e,t,function(e,t){return function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(t[e.index])[11]}(o,r),n,!0)}return qa}function Ka(e,t){var n=it(e)[1],r=n.data.length-1;Mt(n,{directiveStart:r,directiveEnd:r+1})}function Ga(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(qe(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Wa(e.inputs),o.declaredInputs=Wa(e.declaredInputs),o.outputs=Wa(e.outputs);var a=i.hostBindings;a&&Xa(e,a);var s=i.viewQuery,c=i.contentQueries;if(s&&Ya(e,s),c&&Ja(e,c),x(e.inputs,i.inputs),x(e.declaredInputs,i.declaredInputs),x(e.outputs,i.outputs),qe(i)&&i.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var d=l[h];d&&d.ngInherit&&d(e),d===Ga&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Gt(i.hostAttrs,n=Gt(n,i.hostAttrs))}}(r)}function Wa(e){return e===Se?{}:e===xe?[]:e}function Ya(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Ja(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Xa(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Za=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function $a(e){e.type.prototype.ngOnChanges&&(e.setInput=es,e.onChanges=function(){var e=ts(this),t=e&&e.current;if(t){var n=e.previous;if(n===Se)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function es(e,t,n,r){var i=ts(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Se,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],c=a[s];o[s]=new Za(c&&c.currentValue,t,a===Se),e[r]=t}function ts(e){return e.__ngSimpleChanges__||null}function ns(e,t,n,r,i){if(e=Q(e),Array.isArray(e))for(var o=0;o<e.length;o++)ns(e[o],t,n,r,i);else{var a=dt(),s=ht(),c=_o(e)?e:Q(e.provide),u=bo(e),l=At(),h=65535&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>16;if(_o(e)||!e.multi){var A=new Vt(u,i,Vo),p=os(c,t,i?h:h+f,d);-1===p?(hn(sn(l,s),a,c),rs(a,e,t.length),t.push(c),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(A),s.push(A)):(n[p]=A,s[p]=A)}else{var g=os(c,t,h+f,d),v=os(c,t,h,h+f),m=g>=0&&n[g],b=v>=0&&n[v];if(i&&!b||!i&&!m){hn(sn(l,s),a,c);var y=function(e,t,n,r,i){var o=new Vt(e,n,Vo);return o.multi=[],o.index=t,o.componentProviders=0,is(o,i,r&&!n),o}(i?ss:as,n.length,i,r,u);!i&&b&&(n[v].providerFactory=y),rs(a,e,t.length),t.push(c),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(y),s.push(y)}else rs(a,e,g>-1?g:v),is(n[i?v:g],u,!i&&r);!i&&r&&b&&n[v].componentProviders++}}}function rs(e,t,n){if(_o(t)||t.useClass){var r=(t.useClass||t).prototype.ngOnDestroy;r&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r)}}function is(e,t,n){e.multi.push(t),n&&e.componentProviders++}function os(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function as(e,t,n,r){return cs(this.multi,[])}function ss(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=gn(n,n[1],this.providerFactory.index,r);cs(o,i=s.slice(0,a));for(var c=a;c<s.length;c++)i.push(s[c])}else cs(o,i=[]);return i}function cs(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=dt();if(r.firstCreatePass){var i=qe(e);ns(n,r.data,r.blueprint,i,!0),ns(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}$a.ngInherit=!0;var ls=_createClass((function e(){_classCallCheck(this,e)})),hs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(M(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),ds=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.NULL=new hs,e}(),fs=function(){var e=_createClass((function e(t){_classCallCheck(this,e),this.nativeElement=t}));return e.__NG_ELEMENT_ID__=function(){return As(e)},e}(),As=function(e){return ro(e,At(),ht())},ps=_createClass((function e(){_classCallCheck(this,e)})),gs=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),vs=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return ms()},e}(),ms=function(){var e=ht(),t=rt(At().index,e);return function(e){var t=e[11];if(Je(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(je(t)?t:e)},bs=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return null}}),e}(),ys=_createClass((function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")})),ws=new ys("9.0.7"),_s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Ro(e)}},{key:"create",value:function(e){return new Cs(e)}}]),e}(),ks=function(e,t){return t},Cs=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ks}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Is(n,r,i)?t:n,a=Is(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var c=a-r,u=s-r;if(c!=u){for(var l=0;l<c;l++){var h=l<i.length?i[l]:i[l]=0,d=h+l;u<=d&&d<c&&(i[l]=h+1)}i[o.previousIndex]=u-c}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ro(e))throw new Error("Error trying to diff '".concat(M(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Oo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Oo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[To()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Oo(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Oo(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Oo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Oo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ss(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Es),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Es),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Ss=_createClass((function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null})),xs=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Oo(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Es=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new xs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Is(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Bs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Po(e)}},{key:"create",value:function(){return new Ds}}]),e}(),Ds=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Po(e)))throw new Error("Error trying to diff '".concat(M(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ts(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Oo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),Ts=_createClass((function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null})),Os=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new k,new w]]}}}]),e}();return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return new e([new _s])}}),e}(),Fs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new k,new w]]}}}]),e}();return e.\u0275prov=E({token:e,providedIn:"root",factory:function(){return new e([new Bs])}}),e}(),Rs=[new Bs],Ps=new Os([new _s]),Ns=new Fs(Rs),Ms=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return Ls(e,fs)},e}(),Ls=function(e,t){return io(e,t,At(),ht())},Us=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return js(e,fs)},e}(),js=function(e,t){return oo(e,t,At(),ht())},Qs={},Hs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Me(e);return new qs(t,this.ngModule)}}]),n}(ds);function Vs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var zs=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return tn}}),qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Or).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return Vs(this.componentDef.inputs)}},{key:"outputs",get:function(){return Vs(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Qs,i);return o!==Qs||r===Qs?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(ps,Xe),c=a.get(bs,null),u=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Je(e))return e.selectRootElement(t,n===Ce.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(u,n,this.componentDef.encapsulation):zr(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),d=this.componentDef.onPush?576:528,f="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),A={components:[],scheduler:tn,clean:xi,playerHandler:null,flags:0},p=ti(0,-1,null,1,0,null,null,null,null,null),g=qr(null,p,A,d,null,null,s,u,c,a);It(g,null);try{var v=function(e,t,n,r,i,o){var a=n[1];n[19]=e;var s=Kr(a,null,0,3,null,null),c=s.mergedAttrs=t.hostAttrs;null!==c&&(Bo(s,c),null!==e&&(zt(i,e,c),null!==s.classes&&Xi(i,e,s.classes),null!==s.styles&&Ji(i,e,s.styles)));var u=r.createRenderer(e,t),l=qr(n,ei(t),null,t.onPush?64:16,n[19],s,r,u,void 0);return a.firstCreatePass&&(hn(sn(s,n),a,t.type),li(a,s),di(s,n.length,1)),wi(n,l),n[19]=l}(h,this.componentDef,g,s,u);if(h)if(n)zt(u,h,["ng-version",ws.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ir(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,y=m.classes;b&&zt(u,h,b),y&&y.length>0&&Xi(u,h,y.join(" "))}o=tt(g[1],0),t&&(o.projection=t.map((function(e){return Array.from(e)}))),i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=At();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(e,r,1),fi(e,t,n));var i=gn(t,e,t.length-1,r);wr(i,t);var o=et(r,t);return o&&wr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=At();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Pt(s.index-19);var c=n[1];ai(c,t),si(c,n,t.hostVars),ci(t,a)}return a}(v,this.componentDef,g,A,[Ka]),Gr(p,g,null)}finally{Ft()}var w=new Ks(this.componentType,i,ro(fs,o,g),g,o);return n&&!f||(w.hostView._tViewNode.child=o),w}}]),n}(ls),Ks=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,c,u,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new no(o),s.hostView._tViewNode=(c=o[1],u=o,null==(l=c.node)&&(c.node=l=ni(0,null,2,-1,null,null)),u[6]=l),s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new bn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}()),Gs=void 0,Ws=["en",[["a","p"],["AM","PM"],Gs],[["AM","PM"],Gs,Gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gs,"{1} 'at' {0}",Gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Ys={};function Js(e,t,n){"string"!=typeof t&&(n=t,t=e[tc.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Ys[t]=e,n&&(Ys[t][tc.ExtraData]=n)}function Xs(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=ec(t);if(n)return n;var r=t.split("-")[0];if(n=ec(r))return n;if("en"===r)return Ws;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Zs(e){return Xs(e)[tc.CurrencyCode]||null}function $s(e){return Xs(e)[tc.PluralCase]}function ec(e){return e in Ys||(Ys[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),Ys[e]}var tc=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function nc(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var rc=new Map,ic=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Hs(_assertThisInitialized(i));var o=Ue(e),a=e[$]||null;return a&&nc(a),i._bootstrapComponents=nn(o.bootstrap),i._r3Injector=go(e,r,[{provide:pe,useValue:_assertThisInitialized(i)},{provide:ds,useValue:i.componentFactoryResolver}],M(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.Default;return e===Co||e===pe||e===re?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(pe),oc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ue(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(M(t)," vs ").concat(M(t.name)))})(n,rc.get(n),t),rc.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new ic(this.moduleType,e)}}]),n}(ge);function ac(e,t,n){var r=yt()+e,i=ht();return i[r]===Fr?No(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function sc(e,t,n,r){return uc(ht(),yt(),e,t,n,r)}function cc(e,t){var n=e[t];return n===Fr?void 0:n}function uc(e,t,n,r,i,o){var a=t+n;return Mo(e,a,i)?No(e,a+1,o?r.call(o,i):r(i)):cc(e,a+1)}function lc(e,t){var n,r=dt(),i=e+19;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Le(n.type)),a=ue(Vo),s=o();return ue(a),function(e,t,n,r){var i=n+19;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,ht(),e,s),s}function hc(e,t,n){var r=ht(),i=nt(r,e);return pc(r,Ac(r,e)?uc(r,yt(),t,i.transform,n,i):i.transform(n))}function dc(e,t,n,r){var i=ht(),o=nt(i,e);return pc(i,Ac(i,e)?function(e,t,n,r,i,o,a){var s=t+n;return Lo(e,s,i,o)?No(e,s+2,a?r.call(a,i,o):r(i,o)):cc(e,s+2)}(i,yt(),t,o.transform,n,r,o):o.transform(n,r))}function fc(e,t,n,r,i,o){var a=ht(),s=nt(a,e);return pc(a,Ac(a,e)?function(e,t,n,r,i,o,a,s,c){var u=t+n;return function(e,t,n,r,i,o){var a=Lo(e,t,n,r);return Lo(e,t+2,i,o)||a}(e,u,i,o,a,s)?No(e,u+4,c?r.call(c,i,o,a,s):r(i,o,a,s)):cc(e,u+4)}(a,yt(),t,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function Ac(e,t){return e[1].data[t+19].pure}function pc(e,t){return Fo.isWrapped(t)&&(t=Fo.unwrap(t),e[wt()]=Fr),t}var gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var c=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(c),c}}]),n}(r.a);function vc(){return this._results[To()]()}var mc=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new gc,this.length=0;var t=To(),n=e.prototype;n[t]||(n[t]=vc)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),bc=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),yc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Dc(e,t).matches&&this.queries[t].setDirty()}}]),e}(),wc=_createClass((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i})),_c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),kc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Cc(t,n[r]));else{var i=this.metadata.predicate;i===Ms?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,pn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===fs||r===Us||r===Ms&&0===t.type)this.addMatch(t.index,-2);else{var i=pn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Cc(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Sc(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?ro(fs,e,t):0===e.type?io(Ms,fs,e,t):null}(t,e):-2===n?function(e,t,n){return n===fs?ro(fs,t,e):n===Ms?io(Ms,fs,t,e):n===Us?oo(Us,fs,t,e):void 0}(e,t,r):gn(e,e[1],n,t)}function xc(e,t,n,r){var i=t[5].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var u=a[c];s.push(u<0?null:Sc(t,o[u],a[c+1],n.metadata.read))}i.matches=s}return i.matches}function Ec(e){var t=ht(),n=dt(),r=St();xt(r+1);var i=Dc(n,r);if(e.dirty&&ot(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=xc(t,n,o,r),c=0;c<a.length;c+=2){var u=a[c];if(u>0)i.push(s[c/2]);else{for(var l=a[c+1],h=n[-u],d=9;d<h.length;d++){var f=h[d];f[17]===f[3]&&e(f[1],f,l,i)}if(null!==h[5])for(var A=h[5],p=0;p<A.length;p++){var g=A[p];e(g[1],g,l,i)}}}return i}(n,t,r,[]):xc(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Ic(e,t,n,r){!function(e,t,n,r,i,o,a,s){e.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new _c),e.queries.track(new kc(t,n))}(e,new wc(n,r,!1,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),function(e,t){var n=new mc;!function(e,t,n,r){var i=Ei(t);i.push(n),e.firstCreatePass&&Ii(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new yc),t[5].queries.push(new bc(n))}(e,t)}(dt(),ht(),t,n,r,0,At(),e)}function Bc(){return e=ht(),t=St(),e[5].queries[t].queryList;var e,t}function Dc(e,t){return e.queries.getByIndex(t)}function Tc(e,t){return io(Ms,fs,e,t)}function Oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.Default,t=ao(!0);if(null!=t||e&C.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var Fc=new ne("Application Initializer"),Rc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ea(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(Fc,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Pc=new ne("AppId"),Nc={provide:Pc,useFactory:function(){return"".concat(Mc()).concat(Mc()).concat(Mc())},deps:[]};function Mc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Lc=new ne("Platform Initializer"),Uc=new ne("Platform ID"),jc=new ne("appBootstrapListener"),Qc=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Hc=new ne("LocaleId"),Vc=new ne("DefaultCurrencyCode"),zc=_createClass((function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n})),qc=function(e){return new oc(e)},Kc=qc,Gc=function(e){return Promise.resolve(qc(e))},Wc=function(e){var t=qc(e),n=nn(Ue(e).declarations).reduce((function(e,t){var n=Me(t);return n&&e.push(new qs(n)),e}),[]);return new zc(t,n)},Yc=Wc,Jc=function(e){return Promise.resolve(Wc(e))},Xc=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Kc,this.compileModuleAsync=Gc,this.compileModuleAndAllComponentsSync=Yc,this.compileModuleAndAllComponentsAsync=Jc}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),Zc=new ne("compilerOptions"),$c=Promise.resolve(0);function eu(e){"undefined"==typeof Zone?$c.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var tu=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gc(!1),this.onMicrotaskEmpty=new gc(!1),this.onStable=new gc(!1),this.onError=new gc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,(function(){e.lastRequestAnimationFrameId=-1,ou(e),iu(e)})),ou(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return au(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),su(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return au(n),e.invoke(r,i,o,a,s)}finally{su(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,ou(n),iu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,ru,nu,nu);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function nu(){}var ru={};function iu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function ou(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function au(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function su(e){e._nesting--,iu(e)}var cu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gc,this.onMicrotaskEmpty=new gc,this.onStable=new gc,this.onError=new gc}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),uu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){tu.assertNotInAngularZone(),eu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())eu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(tu))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}(),lu=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,fu.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return fu.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function hu(e){fu=e}var du,fu=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Au=function(e,t,n){var r=new oc(n);if(0===xo.size)return Promise.resolve(r);var i,o,a=(i=e.get(Zc,[]).concat(t).map((function(e){return e.providers})),o=[],i.forEach((function(e){return e&&o.push.apply(o,_toConsumableArray(e))})),o);if(0===a.length)return Promise.resolve(r);var s=function(){var e=W.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=Co.create({providers:a}).get(s.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(Io))}return t}return xo.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var c=Promise.all(i).then((function(){return function(e){Eo.delete(e)}(n)}));t.push(c)})),xo=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},pu=new ne("AllowMultipleToken"),gu=_createClass((function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n}));function vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new ne(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=mu();if(!o||o.injector.get(pu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:uo,useValue:"platform"});!function(e){if(du&&!du.destroyed&&!du.injector.get(pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");du=e.get(bu);var t=e.get(Lc,null);t&&t.forEach((function(e){return e()}))}(Co.create({providers:a,name:r}))}return function(e){var t=mu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function mu(){return du&&!du.destroyed?du:null}var bu=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new cu:("zone.js"===n?void 0:n)||new tu({enableLongStackTrace:Qn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:tu,useValue:o}];return o.run((function(){var t=Co.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Cn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return ku(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(Rc)).runInitializers(),a.donePromise.then((function(){return nc(n.injector.get(Hc,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return ea(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=yu({},n);return Au(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(_u);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(M(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(Co))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function yu(e,t){return Array.isArray(t)?t.reduce(yu,e):Object.assign(Object.assign({},e),t)}var wu,_u=((wu=function(){function e(t,n,r,i,u,h){var d=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){d._zone.run((function(){d.tick()}))}});var f=new o.a((function(e){d._stable=d._zone.isStable&&!d._zone.hasPendingMacrotasks&&!d._zone.hasPendingMicrotasks,d._zone.runOutsideAngular((function(){e.next(d._stable),e.complete()}))})),A=new o.a((function(e){var t;d._zone.runOutsideAngular((function(){t=d._zone.onStable.subscribe((function(){tu.assertNotInAngularZone(),eu((function(){d._stable||d._zone.hasPendingMacrotasks||d._zone.hasPendingMicrotasks||(d._stable=!0,e.next(!0))}))}))}));var n=d._zone.onUnstable.subscribe((function(){tu.assertInAngularZone(),d._stable&&(d._stable=!1,d._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,u=t[t.length-1];return Object(a.a)(u)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof u&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof o.a?t[0]:Object(s.a)(r)(Object(c.a)(t,i))}(f,A.pipe((function(e){return l()((t=v,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,p);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ls?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pe),o=n.create(Co.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(uu,null);return a&&o.injector.get(lu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Qn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;ku(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jc,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),ku(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||wu)(he(tu),he(Qc),he(Co),he(Cn),he(ds),he(Rc))},wu.\u0275prov=E({token:wu,factory:wu.\u0275fac}),wu);function ku(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Cu=_createClass((function e(){_classCallCheck(this,e)})),Su=_createClass((function e(){_classCallCheck(this,e)})),xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Eu=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||xu}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Iu(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Iu(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(Xc),he(Su,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e}();function Iu(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Bu=function(e){return null},Du=vu(null,"core",[{provide:Uc,useValue:"unknown"},{provide:bu,deps:[Co]},{provide:lu,deps:[]},{provide:Qc,deps:[]}]),Tu=[{provide:_u,useClass:_u,deps:[tu,Qc,Co,Cn,ds,Rc]},{provide:zs,deps:[tu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Rc,useClass:Rc,deps:[[new w,Fc]]},{provide:Xc,useClass:Xc,deps:[]},Nc,{provide:Os,useFactory:function(){return Ps},deps:[]},{provide:Fs,useFactory:function(){return Ns},deps:[]},{provide:Hc,useFactory:function(e){return nc(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new y(Hc),new w,new k]]},{provide:Vc,useValue:"USD"}],Ou=function(){var e=_createClass((function e(t){_classCallCheck(this,e)}));return e.\u0275mod=Oe({type:e}),e.\u0275inj=I({factory:function(t){return new(t||e)(he(_u))},providers:Tu}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},hPxs:function(e,t,n){"use strict";var r,i=n("kwwM"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var t=i.stringify(e);return o.lastIndex=0,o.test(t)?(r||(r=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n}(o)),t.replace(o,(function(e){return r[e]}))):t}}},ibx3:function(e,t,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("kwwM"),a=n("1eVo");function s(e,t){r.call(this);var n=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var r,s;if(200===e){if(s=+new Date-i,t)try{r=o.parse(t)}catch(c){}a.isObject(r)||(r={})}n.emit("finish",r,s),n.removeAllListeners()}))}i(s,r),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=s},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},kwwM:function(e,t,n){(function(e){var r;(function(){var i=n("PDX0"),o={function:!0,object:!0},a=o[typeof t]&&t&&!t.nodeType&&t,s=o[typeof window]&&window||this,c=a&&o[typeof e]&&e&&!e.nodeType&&"object"==typeof global&&global;function u(e,t){e||(e=s.Object()),t||(t=s.Object());var n=e.Number||s.Number,r=e.String||s.String,i=e.Object||s.Object,a=e.Date||s.Date,c=e.SyntaxError||s.SyntaxError,l=e.TypeError||s.TypeError,h=e.Math||s.Math,d=e.JSON||s.JSON;"object"==typeof d&&d&&(t.stringify=d.stringify,t.parse=d.parse);var f=i.prototype,A=f.toString,p=f.hasOwnProperty;function g(e,t){try{e()}catch(n){t&&t()}}var v=new a(-0xc782b5b800cec);function m(e){if(null!=m[e])return m[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=m("json-stringify")&&m("date-serialization")&&m("json-parse");else if("date-serialization"==e){if(i=m("json-stringify")&&v){var o=t.stringify;g((function(){i='"-271821-04-20T00:00:00.000Z"'==o(new a(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new a(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new a(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new a(-1))}))}}else{var s,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u="function"==typeof(o=t.stringify);u&&((s=function(){return 1}).toJSON=s,g((function(){u="0"===o(0)&&"0"===o(new n)&&'""'==o(new r)&&void 0===o(A)&&void 0===o(void 0)&&void 0===o()&&"1"===o(s)&&"[1]"==o([s])&&"[null]"==o([void 0])&&"null"==o(null)&&"[null,null,null]"==o([void 0,A,null])&&o({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===o(null,s)&&"[\n 1,\n 2\n]"==o([1,2],null,1)}),(function(){u=!1}))),i=u}if("json-parse"==e){var l,h=t.parse;"function"==typeof h&&g((function(){0!==h("0")||h(!1)||(s=h(c),(l=5==s.a.length&&1===s.a[0])&&(g((function(){l=!h('"\t"')})),l&&g((function(){l=1!==h("01")})),l&&g((function(){l=1!==h("1.")}))))}),(function(){l=!1})),i=l}}return m[e]=!!i}if(g((function(){v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()})),m["bug-string-char-index"]=m["date-serialization"]=m.json=m["json-stringify"]=m["json-parse"]=null,!m("json")){var b=m("bug-string-char-index"),y=function(e,t){var n,r,i,a=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)p.call(r,i)&&a++;return n=r=null,a?y=function(e,t){var n,r,i="[object Function]"==A.call(e);for(n in e)i&&"prototype"==n||!p.call(e,n)||(r="constructor"===n)||t(n);(r||p.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(e,t){var n,i,a="[object Function]"==A.call(e),s=!a&&"function"!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||p;for(n in e)a&&"prototype"==n||!s.call(e,n)||t(n);for(i=r.length;n=r[--i];)s.call(e,n)&&t(n)}),y(e,t)};if(!m("json-stringify")&&!m("date-serialization")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_=function(e,t){return("000000"+(t||0)).slice(-e)},k=function(e){var t,n,r,i,o,a,s,c,u;if(v)t=function(e){n=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate(),a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),u=e.getUTCMilliseconds()};else{var l=h.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],f=function(e,t){return d[t]+365*(e-1970)+l((e-1969+(t=+(t>1)))/4)-l((e-1901+t)/100)+l((e-1601+t)/400)};t=function(e){for(i=l(e/864e5),n=l(i/365.2425)+1970-1;f(n+1,0)<=i;n++);for(r=l((i-f(n,0))/30.42);f(n,r+1)<=i;r++);i=1+i-f(n,r),a=l((o=(e%864e5+864e5)%864e5)/36e5)%24,s=l(o/6e4)%60,c=l(o/1e3)%60,u=o%1e3}}return(k=function(e){return e>-1/0&&e<1/0?(t(e),e=(n<=0||n>=1e4?(n<0?"-":"+")+_(6,n<0?-n:n):_(4,n))+"-"+_(2,r+1)+"-"+_(2,i)+"T"+_(2,a)+":"+_(2,s)+":"+_(2,c)+"."+_(3,u)+"Z",n=r=i=a=s=c=u=null):e=null,e})(e)};if(m("json-stringify")&&!m("date-serialization")){var C=function(e){return k(this)},S=t.stringify;t.stringify=function(e,t,n){var r=a.prototype.toJSON;a.prototype.toJSON=C;var i=S(e,t,n);return a.prototype.toJSON=r,i}}else{var x=function(e){var t=e.charCodeAt(0);return w[t]||"\\u00"+_(2,t.toString(16))},E=/[\x00-\x1f\x22\x5c]/g,I=function(e){return E.lastIndex=0,'"'+(E.test(e)?e.replace(E,x):e)+'"'};t.stringify=function(e,t,n){var r,i,s,c;if(o[typeof t]&&t)if("[object Function]"==(c=A.call(t)))i=t;else if("[object Array]"==c){s={};for(var u,h=0,d=t.length;h<d;)u=t[h++],"[object String]"!=(c=A.call(u))&&"[object Number]"!=c||(s[u]=1)}if(n)if("[object Number]"==(c=A.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==c&&(r=n.length<=10?n:n.slice(0,10));return function e(t,n,r,i,o,s,c){var u,h,d,f,p,v,m,b,w;if(g((function(){u=n[t]})),"object"==typeof u&&u&&(u.getUTCFullYear&&"[object Date]"==A.call(u)&&u.toJSON===a.prototype.toJSON?u=k(u):"function"==typeof u.toJSON&&(u=u.toJSON(t))),r&&(u=r.call(n,t,u)),null==u)return void 0===u?u:"null";switch("object"==(h=typeof u)&&(d=A.call(u)),d||h){case"boolean":case"[object Boolean]":return""+u;case"number":case"[object Number]":return u>-1/0&&u<1/0?""+u:"null";case"string":case"[object String]":return I(""+u)}if("object"==typeof u){for(m=c.length;m--;)if(c[m]===u)throw l();if(c.push(u),f=[],b=s,s+=o,"[object Array]"==d){for(v=0,m=u.length;v<m;v++)p=e(v,u,r,i,o,s,c),f.push(void 0===p?"null":p);w=f.length?o?"[\n"+s+f.join(",\n"+s)+"\n"+b+"]":"["+f.join(",")+"]":"[]"}else y(i||u,(function(t){var n=e(t,u,r,i,o,s,c);void 0!==n&&f.push(I(t)+":"+(o?" ":"")+n)})),w=f.length?o?"{\n"+s+f.join(",\n"+s)+"\n"+b+"}":"{"+f.join(",")+"}":"{}";return c.pop(),w}}("",((u={})[""]=e,u),i,s,r,"",[])}}}if(!m("json-parse")){var B,D,T=r.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},F=function(){throw B=D=null,c()},R=function(){for(var e,t,n,r,i,o=D,a=o.length;B<a;)switch(i=o.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?o.charAt(B):o[B],B++,e;case 34:for(e="@",B++;B<a;)if((i=o.charCodeAt(B))<32)F();else if(92==i)switch(i=o.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=O[i],B++;break;case 117:for(t=++B,n=B+4;B<n;B++)(i=o.charCodeAt(B))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||F();e+=T("0x"+o.slice(t,B));break;default:F()}else{if(34==i)break;for(i=o.charCodeAt(B),t=B;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++B);e+=o.slice(t,B)}if(34==o.charCodeAt(B))return B++,e;F();default:if(t=B,45==i&&(r=!0,i=o.charCodeAt(++B)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(B+1))>=48&&i<=57&&F(),r=!1;B<a&&(i=o.charCodeAt(B))>=48&&i<=57;B++);if(46==o.charCodeAt(B)){for(n=++B;n<a&&!((i=o.charCodeAt(n))<48||i>57);n++);n==B&&F(),B=n}if(101==(i=o.charCodeAt(B))||69==i){for(43!=(i=o.charCodeAt(++B))&&45!=i||B++,n=B;n<a&&!((i=o.charCodeAt(n))<48||i>57);n++);n==B&&F(),B=n}return+o.slice(t,B)}r&&F();var s=o.slice(B,B+4);if("true"==s)return B+=4,!0;if("fals"==s&&101==o.charCodeAt(B+4))return B+=5,!1;if("null"==s)return B+=4,null;F()}return"$"},P=function(e,t,n){var r=N(e,t,n);void 0===r?delete e[t]:e[t]=r},N=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if("[object Array]"==A.call(i))for(r=i.length;r--;)P(A,y,i);else y(i,(function(e){P(i,e,n)}));return n.call(e,t,i)};t.parse=function(e,t){var n,r;return B=0,D=""+e,n=function e(t){var n,r;if("$"==t&&F(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(n=[];"]"!=(t=R());)r?","==t?"]"==(t=R())&&F():F():r=!0,","==t&&F(),n.push(e(t));return n}if("{"==t){for(n={};"}"!=(t=R());)r?","==t?"}"==(t=R())&&F():F():r=!0,","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==R()||F(),n[t.slice(1)]=e(R());return n}F()}return t}(R()),"$"!=R()&&F(),B=D=null,t&&"[object Function]"==A.call(t)?N(((r={})[""]=n,r),"",t):n}}}return t.runInContext=u,t}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(s=c),a&&!i)u(s,a);else{var l=s.JSON,h=s.JSON3,d=!1,f=u(s,s.JSON3={noConflict:function(){return d||(d=!0,s.JSON=l,s.JSON3=h,l=h=null),f}});s.JSON={parse:f.parse,stringify:f.stringify}}i&&(void 0===(r=(function(){return f}).call(t,n,t,e))||(e.exports=r))}).call(this)}).call(this,n("YuTi")(e))},l6Lj:function(e,t,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);-1===r||(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e])}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=r},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mAIw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},moM4:function(e,t,n){"use strict";function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},n6ct:function(e,t,n){"use strict";var r=n("Yh+D"),i=n("woL0"),o=n("kwwM"),a=n("uzES"),s=n("xSnx"),c=n("8fj+"),u=n("oOIF");e.exports=function(e,t){var n,l={};t.forEach((function(e){e.facadeTransport&&(l[e.facadeTransport.transportName]=e.facadeTransport)})),l[s.transportName]=s,e.bootstrap_iframe=function(){var t;c.currentWindowId=u.hash.slice(1),i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var s;try{s=o.parse(i.data)}catch(g){return}if(s.windowId===c.currentWindowId)switch(s.type){case"s":var h;try{h=o.parse(s.data)}catch(g){break}var d=h[0],f=h[1],A=h[2],p=h[3];if(d!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(A,u.href)||!r.isOriginEqual(p,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+A+", "+p+")");t=new a(new l[f](A,p));break;case"m":t._send(s.data);break;case"c":t&&t._close(),t=null}}})),c.postMessage("s")}}},nFlj:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function o(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,i,a=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=o(i),n=o(n),null===i||null===n)continue;a.push(i+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},nX0T:function(e,t,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("woL0"),a=n("JqAl"),s=n("Yh+D");function c(e,t,n){var i=this;r.call(this),setTimeout((function(){i._start(e,t,n)}),0)}i(c,r),c.prototype._start=function(e,t,n){var r=this,i=new global.XDomainRequest;t=s.addQuery(t,"t="+ +new Date),i.onerror=function(){r._error()},i.ontimeout=function(){r._error()},i.onprogress=function(){r.emit("chunk",200,i.responseText)},i.onload=function(){r.emit("finish",200,i.responseText),r._cleanup(!1)},this.xdr=i,this.unloadRef=o.unloadAdd((function(){r._cleanup(!0)}));try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(a){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!global.XDomainRequest||!a.hasDomain()),e.exports=c},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function A(e){this._db=e}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["deleteObjectStore","close"]),A.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(A,"_db",["name","version","objectStoreNames"]),s(A,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new f(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new A(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},nzop:function(e,t,n){"use strict";var r=n("P7XM"),i=n("kwwM"),o=n("raCH").EventEmitter,a=n("EBWB"),s=n("Yh+D"),c=n("8fj+"),u=n("woL0"),l=n("JYLm");function h(e,t,n){if(!h.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=s.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=l.string(8);var i=s.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(i,(function(e){r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()})),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}r(h,o),h.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(e){if(s.isOriginEqual(e.origin,this.origin)){var t;try{t=i.parse(e.data)}catch(r){return}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=i.parse(t.data)}catch(r){return}this.emit("close",n[0],n[1]),this.close()}}},h.prototype.postMessage=function(e,t){this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},h.prototype.send=function(e){this.postMessage("m",e)},h.enabled=function(){return c.iframeEnabled},h.transportName="iframe",h.roundTrips=2,e.exports=h},oOIF:function(e,t,n){"use strict";e.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},pxpQ:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),a=n("z6cu"),s=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(e,t))}}n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new h(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(s.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(s.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(s.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.a),h=_createClass((function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}))},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return d})),n.d(t,"setUserLogHandler",(function(){return f}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},c=a.INFO,u=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function d(e){o.forEach((function(t){t.setLogLevel(e)}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n.d(t,"CONSTANTS",(function(){return o})),n.d(t,"Deferred",(function(){return p})),n.d(t,"ErrorFactory",(function(){return F})),n.d(t,"FirebaseError",(function(){return O})),n.d(t,"MAX_VALUE_MILLIS",(function(){return le})),n.d(t,"RANDOM_FACTOR",(function(){return he})),n.d(t,"Sha1",(function(){return Z})),n.d(t,"areCookiesEnabled",(function(){return D})),n.d(t,"assert",(function(){return a})),n.d(t,"assertionError",(function(){return s})),n.d(t,"async",(function(){return te})),n.d(t,"base64",(function(){return u})),n.d(t,"base64Decode",(function(){return d})),n.d(t,"base64Encode",(function(){return l})),n.d(t,"base64urlEncodeWithoutPadding",(function(){return h})),n.d(t,"calculateBackoffMillis",(function(){return de})),n.d(t,"contains",(function(){return V})),n.d(t,"createMockUserToken",(function(){return g})),n.d(t,"createSubscribe",(function(){return $})),n.d(t,"decode",(function(){return L})),n.d(t,"deepCopy",(function(){return f})),n.d(t,"deepEqual",(function(){return G})),n.d(t,"deepExtend",(function(){return A})),n.d(t,"errorPrefix",(function(){return ie})),n.d(t,"extractQuerystring",(function(){return X})),n.d(t,"getGlobal",(function(){return T})),n.d(t,"getModularInstance",(function(){return Ae})),n.d(t,"getUA",(function(){return v})),n.d(t,"isAdmin",(function(){return H})),n.d(t,"isBrowser",(function(){return y})),n.d(t,"isBrowserExtension",(function(){return w})),n.d(t,"isElectron",(function(){return k})),n.d(t,"isEmpty",(function(){return q})),n.d(t,"isIE",(function(){return C})),n.d(t,"isIndexedDBAvailable",(function(){return I})),n.d(t,"isMobileCordova",(function(){return m})),n.d(t,"isNode",(function(){return b})),n.d(t,"isNodeSdk",(function(){return x})),n.d(t,"isReactNative",(function(){return _})),n.d(t,"isSafari",(function(){return E})),n.d(t,"isUWP",(function(){return S})),n.d(t,"isValidFormat",(function(){return Q})),n.d(t,"isValidTimestamp",(function(){return U})),n.d(t,"issuedAtTime",(function(){return j})),n.d(t,"jsonEval",(function(){return N})),n.d(t,"map",(function(){return K})),n.d(t,"ordinal",(function(){return fe})),n.d(t,"querystring",(function(){return Y})),n.d(t,"querystringDecode",(function(){return J})),n.d(t,"safeGet",(function(){return z})),n.d(t,"stringLength",(function(){return ue})),n.d(t,"stringToByteArray",(function(){return ce})),n.d(t,"stringify",(function(){return M})),n.d(t,"validateArgCount",(function(){return re})),n.d(t,"validateCallback",(function(){return ae})),n.d(t,"validateContextObject",(function(){return se})),n.d(t,"validateIndexedDBOpenable",(function(){return B})),n.d(t,"validateNamespace",(function(){return oe}));var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=(15&s)<<2|u>>6,h=63&u;c||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==c&&r.push(s<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=c(e);return u.encodeByteArray(t,!0)},h=function(e){return l(e).replace(/\./g,"")},d=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function f(e){return A(void 0,e)}function A(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=A(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(a)),""].join(".")}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function b(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function w(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function k(){return v().indexOf("Electron/")>=0}function C(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return v().indexOf("MSAppHost/")>=0}function x(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function E(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"indexedDB"in self&&null!=indexedDB}function B(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function D(){return!(!navigator||!navigator.cookieEnabled)}function T(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var O=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,F.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),F=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?R(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",c=new O(i,s,r);return c},e}();function R(e,t){return e.replace(P,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var P=/\{\$([^}]+)}/g;function N(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=N(d(o[0])||""),n=N(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},j=function(e){var t=L(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},Q=function(e){var t=L(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},H=function(e){var t=L(e).claims;return"object"==typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var a=e[l],s=t[l];if(W(a)&&W(s)){if(!G(a,s))return!1}else if(a!==s)return!1}for(var c=0,u=r;c<u.length;c++){var l;if(!n.includes(l=u[c]))return!1}return!0}function W(e){return null!==e&&"object"==typeof e}function Y(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function J(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}})),t}function X(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Z=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^s&(c^u),o=1518500249):(i=s^c^u,o=1859775393):r<60?(i=s&c|u&(s|c),o=2400959708):(i=s^c^u,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function $(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function te(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ne(){}var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ie(e,t){return e+" failed: "+t+" argument "}function oe(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(ie(e,"namespace")+"must be a valid firebase namespace.")}function ae(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(ie(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(ie(e,t)+"must be a valid context object.")}var ce=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},le=144e5,he=.5;function de(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(he*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function fe(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):""+e}function Ae(e){return e&&e._delegate?e._delegate:e}},qgXg:function(e,t,n){"use strict";var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(n("IjjT").a);n.d(t,"a",(function(){return o}));var o=new i(r)},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),a=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();n.d(t,"a",(function(){return u}));var s,c,u=((c=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(A){t=A instanceof a?l(A.errors):[A]}if(Object(r.a)(c))for(var h=-1,d=c.length;++h<d;){var f=c[h];if(Object(i.a)(f))try{f.unsubscribe()}catch(A){t=t||[],A instanceof a?t=t.concat(l(A.errors)):t.push(A)}}if(t)throw new a(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((s=new c).closed=!0,s),c);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof a?t.errors:t)}),[])}},raCH:function(e,t,n){"use strict";var r=n("P7XM"),i=n("l6Lj");function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},o.prototype.once=function(e,t){var n=this,r=!1;this.on(e,(function i(){n.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}))},o.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=o},sYUk:function(e,t,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("FUii"),a=n("nX0T");function s(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,a)}r(s,i),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&a.enabled&&e.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},spgP:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return A}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),d=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),f=_createClass((function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))}));function A(e){return function(t){return(t=t.lift(new d(e.ngZone))).pipe(Object(a.a)(e.outsideAngular),Object(s.b)(e.insideAngular))}}var p=new c.q("angularfire2.app.options"),g=new c.q("angularfire2.app.nameOrConfig"),v=new c.N("6.1.5");function m(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=u.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return u.a.initializeApp(t,i)}));try{JSON.stringify(t)!==JSON.stringify(o.options)&&b("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var b=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(c.U)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function y(t,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),s=a[0],c=a.slice(1);if(s){try{o.some((function(e,t){var n=c[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&b("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var u=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[u].concat(_toConsumableArray(o))),u}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var w={provide:_createClass((function e(){_classCallCheck(this,e)})),useFactory:m,deps:[p,c.z,[new c.A,g]]},_=function(){var e=function(){function e(t){_classCallCheck(this,e),u.a.registerVersion("angularfire",v.full,t.toString()),u.a.registerVersion("angular",c.M.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:p,useValue:t},{provide:g,useValue:n}]}}}]),e}();return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)(c.Wb(c.B))},providers:[w]}),e}()}).call(this,n("3UD+")(e))},"tf+s":function(e,t,n){"use strict";var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var c=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t},u=function(e){s(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=c(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(u(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l),d=n("DH7j"),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,i=o,(Object(d.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new p(e,t))}}n.d(t,"a",(function(){return A}));var p=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},uajq:function(e,t,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("Yh+D"),a=n("nX0T"),s=n("3wkl"),c=n("c6pU"),u=n("9wH6"),l=n("fCBv"),h=n("ibx3");function d(e,t){var n=this;r.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}i(d,r),d._getReceiver=function(e,t,n){return n.sameOrigin?new h(t,c):s.enabled?new h(t,s):a.enabled&&n.sameScheme?new h(t,a):l.enabled()?new l(e,t):new h(t,u)},d.prototype.doXhr=function(e,t){var n=this,r=o.addPath(e,"/info");this.xo=d._getReceiver(e,r,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),d.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},d.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,e.exports=d},uzES:function(e,t,n){"use strict";var r=n("kwwM"),i=n("8fj+");function o(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){i.postMessage("c",r.stringify([e,t]))},o.prototype._transportMessage=function(e){i.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=o},v0om:function(e,t,n){"use strict";var r,i,o=n("JYLm"),a=n("Yh+D");e.exports=function(e,t,n){r||((r=global.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=global.document.createElement("textarea")).name="d",r.appendChild(i),global.document.body.appendChild(r));var s="a"+o.string(8);r.target=s,r.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+s);var c=function(e){try{return global.document.createElement('<iframe name="'+e+'">')}catch(n){var t=global.document.createElement("iframe");return t.name=e,t}}(s);c.id=s,c.style.display="none",r.appendChild(c);try{i.value=t}catch(l){}r.submit();var u=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout((function(){c.parentNode.removeChild(c),c=null}),500),i.value="",n(e))};return c.onerror=function(){u()},c.onload=function(){u()},c.onreadystatechange=function(e){"complete"===c.readyState&&u()},function(){u(new Error("Aborted"))}}},vkgz:function(e,t,n){"use strict";var r=n("7o/Q");function i(){}var o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}n.d(t,"a",(function(){return a}));var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var c;return _classCallCheck(this,n),(c=t.call(this,e))._tapNext=i,c._tapError=i,c._tapComplete=i,c._tapError=a||i,c._tapComplete=s||i,Object(o.a)(r)?(c._context=_assertThisInitialized(c),c._tapNext=r):r&&(c._context=r,c._tapNext=r.next||i,c._tapError=r.error||i,c._tapComplete=r.complete||i),c}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},wOnQ:function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var a=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):r.push(55296+((a-=65536)>>10),a%1024+56320),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<l.length;d++)h[l.charCodeAt(d)]=d;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)A[f.charCodeAt(p)]=p;for(var g=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},v=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return this.data[t=((t=this.index[e>>5])<<2)+(31&e)];if(e<=65535)return this.data[t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e)];if(e<this.highStart)return t=this.index[t=2080+(e>>11)],this.data[t=((t=this.index[t+=e>>5&63])<<2)+(31&e)];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="undefined"==typeof Uint8Array?[]:new Uint8Array(256),y=0;y<m.length;y++)b[m.charCodeAt(y)]=y;var w,_,k,C,S,x,E,I=10,B=13,D=15,T=17,O=18,F=19,R=20,P=21,N=22,M=24,L=25,U=26,j=27,Q=28,H=30,V=32,z=33,q=34,K=35,G=37,W=38,Y=39,J=40,X=42,Z=[9001,65288],$=(k=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),l=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=A[e.charCodeAt(t)],r=A[e.charCodeAt(t+1)],i=A[e.charCodeAt(t+2)],o=A[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),C=Array.isArray(k)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(k):new Uint32Array(k),x=g(S=Array.isArray(k)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(k):new Uint16Array(k),12,C[4]/2),E=2===C[5]?g(S,(24+C[4])/2):(w=C,_=Math.ceil((24+C[4])/4),w.slice?w.slice(_,void 0):new Uint32Array(Array.prototype.slice.call(w,_,void 0))),new v(C[0],C[1],C[2],C[3],x,E)),ee=[H,36],te=[1,2,3,5],ne=[I,8],re=[j,U],ie=te.concat(ne),oe=[W,Y,J,q,K],ae=[D,B],se=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((c=r[++o])===t)return!0;if(c!==I)break}if(i===I)for(o=n;o>0;){var a=r[--o];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){var c;if((c=r[++s])===t)return!0;if(c!==I)break}if(a!==I)break}return!1},ce=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==I)return r;n--}return 0},ue=function(e,t,n,r,i){if(0===n[r])return"\xd7";var o=r-1;if(Array.isArray(i)&&!0===i[o])return"\xd7";var a=o-1,s=o+1,c=t[o],u=a>=0?t[a]:0,l=t[s];if(2===c&&3===l)return"\xd7";if(-1!==te.indexOf(c))return"!";if(-1!==te.indexOf(l))return"\xd7";if(-1!==ne.indexOf(l))return"\xd7";if(8===ce(o,t))return"\xf7";if(11===$.get(e[o]))return"\xd7";if((c===V||c===z)&&11===$.get(e[s]))return"\xd7";if(7===c||7===l)return"\xd7";if(9===c)return"\xd7";if(-1===[I,B,D].indexOf(c)&&9===l)return"\xd7";if(-1!==[T,O,F,M,Q].indexOf(l))return"\xd7";if(ce(o,t)===N)return"\xd7";if(se(23,N,o,t))return"\xd7";if(se([T,O],P,o,t))return"\xd7";if(se(12,12,o,t))return"\xd7";if(c===I)return"\xf7";if(23===c||23===l)return"\xd7";if(16===l||16===c)return"\xf7";if(-1!==[B,D,P].indexOf(l)||14===c)return"\xd7";if(36===u&&-1!==ae.indexOf(c))return"\xd7";if(c===Q&&36===l)return"\xd7";if(l===R)return"\xd7";if(-1!==ee.indexOf(l)&&c===L||-1!==ee.indexOf(c)&&l===L)return"\xd7";if(c===j&&-1!==[G,V,z].indexOf(l)||-1!==[G,V,z].indexOf(c)&&l===U)return"\xd7";if(-1!==ee.indexOf(c)&&-1!==re.indexOf(l)||-1!==re.indexOf(c)&&-1!==ee.indexOf(l))return"\xd7";if(-1!==[j,U].indexOf(c)&&(l===L||-1!==[N,D].indexOf(l)&&t[s+1]===L)||-1!==[N,D].indexOf(c)&&l===L||c===L&&-1!==[L,Q,M].indexOf(l))return"\xd7";if(-1!==[L,Q,M,T,O].indexOf(l))for(var h=o;h>=0;){if((d=t[h])===L)return"\xd7";if(-1===[Q,M].indexOf(d))break;h--}if(-1!==[j,U].indexOf(l))for(h=-1!==[T,O].indexOf(c)?a:o;h>=0;){var d;if((d=t[h])===L)return"\xd7";if(-1===[Q,M].indexOf(d))break;h--}if(W===c&&-1!==[W,Y,q,K].indexOf(l)||-1!==[Y,q].indexOf(c)&&-1!==[Y,J].indexOf(l)||-1!==[J,K].indexOf(c)&&l===J)return"\xd7";if(-1!==oe.indexOf(c)&&-1!==[R,U].indexOf(l)||-1!==oe.indexOf(l)&&c===j)return"\xd7";if(-1!==ee.indexOf(c)&&-1!==ee.indexOf(l))return"\xd7";if(c===M&&-1!==ee.indexOf(l))return"\xd7";if(-1!==ee.concat(L).indexOf(c)&&l===N&&-1===Z.indexOf(e[s])||-1!==ee.concat(L).indexOf(l)&&c===O)return"\xd7";if(41===c&&41===l){for(var f=n[o],A=1;f>0&&41===t[--f];)A++;if(A%2!=0)return"\xd7"}return c===V&&l===z?"\xd7":"\xf7"},le=function(){function e(e,t,n,r){this.codePoints=e,this.required="!"===t,this.start=n,this.end=r}return e.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),he=function(e){return e>=48&&e<=57},de=function(e){return he(e)||e>=65&&e<=70||e>=97&&e<=102},fe=function(e){return 10===e||9===e||32===e},Ae=function(e){return function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)}(e)||function(e){return e>=128}(e)||95===e},pe=function(e){return Ae(e)||he(e)||45===e},ge=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},ve=function(e,t){return 92===e&&10!==t},me=function(e,t,n){return 45===e?Ae(t)||ve(t,n):!!Ae(e)||!(92!==e||!ve(e,t))},be=function(e,t,n){return 43===e||45===e?!!he(t)||46===t&&he(n):he(46===e?t:e)},ye=function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var r=[];he(e[t]);)r.push(e[t++]);var i=r.length?parseInt(u.apply(void 0,r),10):0;46===e[t]&&t++;for(var o=[];he(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(u.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var c=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(c=-1),t++);for(var l=[];he(e[t]);)l.push(e[t++]);var h=l.length?parseInt(u.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,c*h)},we={type:2},_e={type:3},ke={type:4},Ce={type:13},Se={type:8},xe={type:21},Ee={type:9},Ie={type:10},Be={type:11},De={type:12},Te={type:14},Oe={type:23},Fe={type:1},Re={type:25},Pe={type:24},Ne={type:26},Me={type:27},Le={type:28},Ue={type:29},je={type:31},Qe={type:32},He=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Qe;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(pe(t)||ve(n,r)){var i=me(t,n,r)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ce;break;case 39:return this.consumeStringToken(39);case 40:return we;case 41:return _e;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Te;break;case 43:if(be(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return ke;case 45:var o=e,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(be(o,a,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(me(o,a,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===a&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Pe;break;case 46:if(be(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(42===c&&47===(c=this.consumeCodePoint()))return this.consumeToken();if(-1===c)return this.consumeToken()}break;case 58:return Ne;case 59:return Me;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Re;break;case 64:var l=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(me(l,h,d))return{type:7,value:this.consumeName()};break;case 91:return Le;case 92:if(ve(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Ue;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Se;break;case 123:return Be;case 125:return De;case 117:case 85:var f=this.peekCodePoint(0),A=this.peekCodePoint(1);return 43!==f||!de(A)&&63!==A||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),xe;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ie;break;case-1:return Qe}return fe(e)?(this.consumeWhiteSpace(),je):he(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ae(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();de(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(u.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),end:parseInt(u.apply(void 0,e.map((function(e){return 63===e?70:e}))),16)};var r=parseInt(u.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&de(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];de(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(u.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Oe)}for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:22,value:u.apply(void 0,e)};if(fe(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Oe);if(34===r||39===r||40===r||ge(r))return this.consumeBadUrlRemnants(),Oe;if(92===r){if(!ve(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Oe;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;fe(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;ve(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=u.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),Fe;if(92===r){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ve(r,i)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());he(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&he(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;he(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&he(i)||he(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;he(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ye(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return me(r,i,o)?{type:15,number:t,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(de(e)){for(var t=u(e);de(this.peekCodePoint(0))&&t.length<6;)t+=u(this.consumeCodePoint());fe(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||function(e){return e>=55296&&e<=57343}(n)||n>1114111?65533:n}return-1===e?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(pe(t))e+=u(t);else{if(!ve(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},e}(),Ve=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new He;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Ze(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Qe:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),ze=function(e){return 15===e.type},qe=function(e){return 17===e.type},Ke=function(e){return 20===e.type},Ge=function(e){return 0===e.type},We=function(e,t){return Ke(e)&&e.value===t},Ye=function(e){return 31!==e.type},Je=function(e){return 31!==e.type&&4!==e.type},Xe=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Ze=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},$e=function(e){return 17===e.type||15===e.type},et=function(e){return 16===e.type||$e(e)},tt=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},nt={type:17,number:0,flags:4},rt={type:16,number:50,flags:4},it={type:16,number:100,flags:4},ot=function(e,t,n){var r=e[0],i=e[1];return[at(r,t),at(void 0!==i?i:r,n)]},at=function(e,t){if(16===e.type)return e.number/100*t;if(ze(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},st=function(e,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},ct=function(e){return 15===e.type&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},ut=function(e){switch(e.filter(Ke).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nt,nt];case"to top":case"bottom":return lt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nt,it];case"to right":case"left":return lt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[it,it];case"to bottom":case"top":return lt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[it,nt];case"to left":case"right":return lt(270)}return 0},lt=function(e){return Math.PI*e/180},ht=function(e,t){if(18===t.type){var n=yt[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return At(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var a=t.value.substring(3,4);return At(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),At(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),a=t.value.substring(6,8),At(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}if(20===t.type){var s=_t[t.value.toUpperCase()];if(void 0!==s)return s}return _t.TRANSPARENT},dt=function(e){return 0==(255&e)},ft=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},At=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},pt=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},gt=function(e,t){var n=t.filter(Je);if(3===n.length){var r=n.map(pt);return At(r[0],r[1],r[2],1)}if(4===n.length){var i=n.map(pt);return At(i[0],i[1],i[2],i[3])}return 0};function vt(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var mt,bt=function(e,t){var n=t.filter(Je),r=n[0],i=n[1],o=n[2],a=n[3],s=(17===r.type?lt(r.number):st(0,r))/(2*Math.PI),c=et(i)?i.number/100:0,u=et(o)?o.number/100:0,l=void 0!==a&&et(a)?at(a,1):1;if(0===c)return At(255*u,255*u,255*u,1);var h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h,f=vt(d,h,s+1/3),A=vt(d,h,s),p=vt(d,h,s-1/3);return At(255*f,255*A,255*p,l)},yt={hsl:bt,hsla:bt,rgb:gt,rgba:gt},wt=function(e,t){return ht(e,Ve.create(t).parseComponentValue())},_t={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Ke(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ct={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},St=function(e,t){var n=ht(e,t[0]),r=t[1];return r&&et(r)?{color:n,stop:r}:{color:n,stop:null}},xt=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=nt),null===r.stop&&(r.stop=it);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var c=at(s,t);i.push(c>o?c:o),o=c}else i.push(null)}var u=null;for(a=0;a<i.length;a++){var l=i[a];if(null===l)null===u&&(u=a);else if(null!==u){for(var h=a-u,d=(l-i[u-1])/(h+1),f=1;f<=h;f++)i[u+f-1]=d*f;u=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},Et=function(e,t){return Math.sqrt(e*e+t*t)},It=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=Et(n-t[0],r-t[1]);return(i?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Bt=function(e,t){var n=lt(180),r=[];return Xe(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=ut(t));if(ct(o))return void(n=(st(0,o)+lt(270))%lt(360))}var a=St(e,t);r.push(a)})),{angle:n,stops:r,type:1}},Dt=function(e,t){var n=0,r=3,i=[],o=[];return Xe(t).forEach((function(t,a){var s=!0;if(0===a?s=t.reduce((function(e,t){if(Ke(t))switch(t.value){case"center":return o.push(rt),!1;case"top":case"left":return o.push(nt),!1;case"right":case"bottom":return o.push(it),!1}else if(et(t)||$e(t))return o.push(t),!1;return e}),s):1===a&&(s=t.reduce((function(e,t){if(Ke(t))switch(t.value){case"circle":return n=0,!1;case"ellipse":return n=1,!1;case"contain":case"closest-side":return r=0,!1;case"farthest-side":return r=1,!1;case"closest-corner":return r=2,!1;case"cover":case"farthest-corner":return r=3,!1}else if($e(t)||et(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)),s){var c=St(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:o,type:2}},Tt=function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Ot[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)},Ot={"linear-gradient":function(e,t){var n=lt(180),r=[];return Xe(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(n=ut(t));if(ct(o))return void(n=st(0,o))}var a=St(e,t);r.push(a)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Bt,"-ms-linear-gradient":Bt,"-o-linear-gradient":Bt,"-webkit-linear-gradient":Bt,"radial-gradient":function(e,t){var n=0,r=3,i=[],o=[];return Xe(t).forEach((function(t,a){var s=!0;if(0===a){var c=!1;s=t.reduce((function(e,t){if(c)if(Ke(t))switch(t.value){case"center":return o.push(rt),e;case"top":case"left":return o.push(nt),e;case"right":case"bottom":return o.push(it),e}else(et(t)||$e(t))&&o.push(t);else if(Ke(t))switch(t.value){case"circle":return n=0,!1;case"ellipse":return n=1,!1;case"at":return c=!0,!1;case"closest-side":return r=0,!1;case"cover":case"farthest-side":return r=1,!1;case"contain":case"closest-corner":return r=2,!1;case"farthest-corner":return r=3,!1}else if($e(t)||et(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),s)}if(s){var u=St(e,t);i.push(u)}})),{size:r,shape:n,stops:i,position:o,type:2}},"-moz-radial-gradient":Dt,"-ms-radial-gradient":Dt,"-o-radial-gradient":Dt,"-webkit-radial-gradient":Dt,"-webkit-gradient":function(e,t){var n=lt(180),r=[],i=1;return Xe(t).forEach((function(t,n){var o=t[0];if(0===n){if(Ke(o)&&"linear"===o.value)return void(i=1);if(Ke(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var a=ht(e,o.values[0]);r.push({stop:nt,color:a})}else if("to"===o.name)a=ht(e,o.values[0]),r.push({stop:it,color:a});else if("color-stop"===o.name){var s=o.values.filter(Je);if(2===s.length){a=ht(e,s[1]);var c=s[0];qe(c)&&r.push({stop:{type:16,number:100*c.number,flags:c.flags},color:a})}}})),1===i?{angle:(n+lt(180))%lt(360),stops:r,type:i}:{size:3,shape:0,stops:r,position:[],type:i}}},Ft={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Je(e)&&function(e){return!(20===e.type&&"none"===e.value||18===e.type&&!Ot[e.name])}(e)})).map((function(t){return Tt(e,t)}))}},Rt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Ke(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Pt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Xe(t).map((function(e){return e.filter(et)})).map(tt)}},Nt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Xe(t).map((function(e){return e.filter(Ke).map((function(e){return e.value})).join(" ")})).map(Mt)}},Mt=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(mt||(mt={}));var Lt,Ut={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Xe(t).map((function(e){return e.filter(jt)}))}},jt=function(e){return Ke(e)||et(e)},Qt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ht=Qt("top"),Vt=Qt("right"),zt=Qt("bottom"),qt=Qt("left"),Kt=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return tt(t.filter(et))}}},Gt=Kt("top-left"),Wt=Kt("top-right"),Yt=Kt("bottom-right"),Jt=Kt("bottom-left"),Xt=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Zt=Xt("top"),$t=Xt("right"),en=Xt("bottom"),tn=Xt("left"),nn=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ze(t)?t.number:0}}},rn=nn("top"),on=nn("right"),an=nn("bottom"),sn=nn("left"),cn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},un={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},ln={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ke).reduce((function(e,t){return e|hn(t.value)}),0)}},hn=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},dn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},fn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type?t.number:15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Lt||(Lt={}));var An,pn={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Lt.STRICT;case"normal":default:return Lt.NORMAL}}},gn={name:"line-height",initialValue:"normal",prefix:!1,type:4},vn=function(e,t){return Ke(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:et(e)?at(e,t):t},mn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Tt(e,t)}},bn={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},yn={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},wn=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},_n=wn("top"),kn=wn("right"),Cn=wn("bottom"),Sn=wn("left"),xn={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ke).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}}))}},En={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},In=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Bn=In("top"),Dn=In("right"),Tn=In("bottom"),On=In("left"),Fn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Rn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Pn={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&We(t[0],"none")?[]:Xe(t).map((function(t){for(var n={color:_t.TRANSPARENT,offsetX:nt,offsetY:nt,blur:nt},r=0,i=0;i<t.length;i++){var o=t[i];$e(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=ht(e,o)}return n}))}},Nn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Mn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Ln[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Ln={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 16===t.length?[t[0],t[1],t[4],t[5],t[12],t[13]]:null}},Un={type:16,number:50,flags:4},jn=[Un,Un],Qn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(et);return 2!==n.length?jn:[n[0],n[1]]}},Hn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(An||(An={}));for(var Vn={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return An.BREAK_ALL;case"keep-all":return An.KEEP_ALL;case"normal":default:return An.NORMAL}}},zn={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(qe(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qn=function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},Kn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return qe(t)?t.number:1}},Gn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ke).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Yn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},Jn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Xn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(qe(t))return t.number;if(Ke(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Zn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ke).map((function(e){return e.value}))}},$n={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},er=function(e,t){return 0!=(e&t)},tr={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},nr={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Ye),o=0;o<i.length;o++){var a=i[o],s=i[o+1];if(20===a.type){var c=s&&qe(s)?s.number:1;r.push({counter:a.value,increment:c})}}return r}},rr={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Ye),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(Ke(o)&&"none"!==o.value){var s=a&&qe(a)?a.number:0;n.push({counter:o.value,reset:s})}}return n}},ir={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(ze).map((function(e){return qn(0,e)}))}},or={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Ge);if(i.length%2!=0)return null;for(var o=0;o<i.length;o+=2)r.push({open:i[o].value,close:i[o+1].value});return r}},ar=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},sr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&We(t[0],"none")?[]:Xe(t).map((function(t){for(var n={color:255,offsetX:nt,offsetY:nt,blur:nt,spread:nt,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];We(o,"inset")?n.inset=!0:$e(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=ht(e,o)}return n}))}},cr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[];return t.filter(Ke).forEach((function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),[0,1,2].forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n}},ur={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ze(t)?t.number:0}},hr=function(){function e(e,t){var n,r;this.animationDuration=Ar(e,ir,t.animationDuration),this.backgroundClip=Ar(e,kt,t.backgroundClip),this.backgroundColor=Ar(e,Ct,t.backgroundColor),this.backgroundImage=Ar(e,Ft,t.backgroundImage),this.backgroundOrigin=Ar(e,Rt,t.backgroundOrigin),this.backgroundPosition=Ar(e,Pt,t.backgroundPosition),this.backgroundRepeat=Ar(e,Nt,t.backgroundRepeat),this.backgroundSize=Ar(e,Ut,t.backgroundSize),this.borderTopColor=Ar(e,Ht,t.borderTopColor),this.borderRightColor=Ar(e,Vt,t.borderRightColor),this.borderBottomColor=Ar(e,zt,t.borderBottomColor),this.borderLeftColor=Ar(e,qt,t.borderLeftColor),this.borderTopLeftRadius=Ar(e,Gt,t.borderTopLeftRadius),this.borderTopRightRadius=Ar(e,Wt,t.borderTopRightRadius),this.borderBottomRightRadius=Ar(e,Yt,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ar(e,Jt,t.borderBottomLeftRadius),this.borderTopStyle=Ar(e,Zt,t.borderTopStyle),this.borderRightStyle=Ar(e,$t,t.borderRightStyle),this.borderBottomStyle=Ar(e,en,t.borderBottomStyle),this.borderLeftStyle=Ar(e,tn,t.borderLeftStyle),this.borderTopWidth=Ar(e,rn,t.borderTopWidth),this.borderRightWidth=Ar(e,on,t.borderRightWidth),this.borderBottomWidth=Ar(e,an,t.borderBottomWidth),this.borderLeftWidth=Ar(e,sn,t.borderLeftWidth),this.boxShadow=Ar(e,sr,t.boxShadow),this.color=Ar(e,cn,t.color),this.direction=Ar(e,un,t.direction),this.display=Ar(e,ln,t.display),this.float=Ar(e,dn,t.cssFloat),this.fontFamily=Ar(e,Yn,t.fontFamily),this.fontSize=Ar(e,Jn,t.fontSize),this.fontStyle=Ar(e,$n,t.fontStyle),this.fontVariant=Ar(e,Zn,t.fontVariant),this.fontWeight=Ar(e,Xn,t.fontWeight),this.letterSpacing=Ar(e,fn,t.letterSpacing),this.lineBreak=Ar(e,pn,t.lineBreak),this.lineHeight=Ar(e,gn,t.lineHeight),this.listStyleImage=Ar(e,mn,t.listStyleImage),this.listStylePosition=Ar(e,bn,t.listStylePosition),this.listStyleType=Ar(e,yn,t.listStyleType),this.marginTop=Ar(e,_n,t.marginTop),this.marginRight=Ar(e,kn,t.marginRight),this.marginBottom=Ar(e,Cn,t.marginBottom),this.marginLeft=Ar(e,Sn,t.marginLeft),this.opacity=Ar(e,Kn,t.opacity);var i=Ar(e,xn,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ar(e,En,t.overflowWrap),this.paddingTop=Ar(e,Bn,t.paddingTop),this.paddingRight=Ar(e,Dn,t.paddingRight),this.paddingBottom=Ar(e,Tn,t.paddingBottom),this.paddingLeft=Ar(e,On,t.paddingLeft),this.paintOrder=Ar(e,cr,t.paintOrder),this.position=Ar(e,Rn,t.position),this.textAlign=Ar(e,Fn,t.textAlign),this.textDecorationColor=Ar(e,Gn,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=Ar(e,Wn,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=Ar(e,Pn,t.textShadow),this.textTransform=Ar(e,Nn,t.textTransform),this.transform=Ar(e,Mn,t.transform),this.transformOrigin=Ar(e,Qn,t.transformOrigin),this.visibility=Ar(e,Hn,t.visibility),this.webkitTextStrokeColor=Ar(e,ur,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ar(e,lr,t.webkitTextStrokeWidth),this.wordBreak=Ar(e,Vn,t.wordBreak),this.zIndex=Ar(e,zn,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return dt(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return er(this.display,4)||er(this.display,33554432)||er(this.display,268435456)||er(this.display,536870912)||er(this.display,67108864)||er(this.display,134217728)},e}(),dr=function(e,t){this.content=Ar(e,tr,t.content),this.quotes=Ar(e,or,t.quotes)},fr=function(e,t){this.counterIncrement=Ar(e,nr,t.counterIncrement),this.counterReset=Ar(e,rr,t.counterReset)},Ar=function(e,t,n){var r=new He,i=null!=n?n.toString():t.initialValue;r.write(i);var o=new Ve(r.read());switch(t.type){case 2:var a=o.parseComponentValue();return t.parse(e,Ke(a)?a.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return st(0,o.parseComponentValue());case"color":return ht(e,o.parseComponentValue());case"image":return Tt(e,o.parseComponentValue());case"length":var s=o.parseComponentValue();return $e(s)?s:nt;case"length-percentage":var c=o.parseComponentValue();return et(c)?c:nt;case"time":return qn(0,o.parseComponentValue())}}},pr=function(e,t){var n=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(e);return 1===n||t===n},gr=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,pr(t,3),this.styles=new hr(e,window.getComputedStyle(t,null)),hi(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),pr(t,4)&&(this.flags|=16)},vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),br=0;br<vr.length;br++)mr[vr.charCodeAt(br)]=br;for(var yr=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},wr=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return this.data[t=((t=this.index[e>>5])<<2)+(31&e)];if(e<=65535)return this.data[t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e)];if(e<this.highStart)return t=this.index[t=2080+(e>>11)],this.data[t=((t=this.index[t+=e>>5&63])<<2)+(31&e)];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Cr=0;Cr<_r.length;Cr++)kr[_r.charCodeAt(Cr)]=Cr;var Sr,xr=8,Er=9,Ir=11,Br=12,Dr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):r.push(55296+((a-=65536)>>10),a%1024+56320),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},Tr=function(e,t){var n,r,i=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),l=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=mr[e.charCodeAt(t)],r=mr[e.charCodeAt(t+1)],i=mr[e.charCodeAt(t+2)],o=mr[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),o=Array.isArray(i)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(i):new Uint32Array(i),a=Array.isArray(i)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(i):new Uint16Array(i),s=yr(a,12,o[4]/2),c=2===o[5]?yr(a,(24+o[4])/2):(n=o,r=Math.ceil((24+o[4])/4),n.slice?n.slice(r,void 0):new Uint32Array(Array.prototype.slice.call(n,r,void 0)));return new wr(o[0],o[1],o[2],o[3],s,c)}(),Or=function(e){return Tr.get(e)},Fr=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],a=t[n];if(2===o&&3===a)return"\xd7";if(2===o||3===o||4===o)return"\xf7";if(2===a||3===a||4===a)return"\xf7";if(o===xr&&-1!==[xr,Er,Ir,Br].indexOf(a))return"\xd7";if(!(o!==Ir&&o!==Er||a!==Er&&10!==a))return"\xd7";if((o===Br||10===o)&&10===a)return"\xd7";if(13===a||5===a)return"\xd7";if(7===a)return"\xd7";if(1===o)return"\xd7";if(13===o&&14===a){for(;5===i;)i=t[--r];if(14===i)return"\xd7"}if(15===o&&15===a){for(var s=0;15===i;)s++,i=t[--r];if(s%2==0)return"\xd7"}return"\xf7"},Rr=function(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e),n=t.length,r=0,i=0,o=t.map(Or);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e="\xd7";r<n&&"\xd7"===(e=Fr(0,o,++r)););if("\xd7"!==e||r===n){var a=Dr.apply(null,t.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},Pr=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Nr=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Mr=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Lr={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),i=Math.round(r.height);if(e.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(Lr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Lr.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map((function(e){return u(e)})),o=0,a={},s=i.every((function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var s=i.x>a.x||i.y>a.y;return a=i,0===t||s}));return e.body.removeChild(t),s}(document);return Object.defineProperty(Lr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(i){return!1}return!0}(document);return Object.defineProperty(Lr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var r=new Image,i=t.toDataURL();r.src=i;var o=Nr(100,100,0,0,r);return n.fillStyle="red",n.fillRect(0,0,100,100),Mr(o).then((function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height="100px",Pr(r)?Mr(Nr(100,100,0,0,o)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),Pr(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Lr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Lr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Lr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Lr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Lr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ur=function(e,t){this.text=e,this.bounds=t},jr=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Qr=function(e){if(Lr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return function(e){for(var t,n=Rr(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r}(e)},Hr=[32,160,4961,65792,65793,4153,4241],Vr=function(e,t,n){this.text=zr(t.data,n.textTransform),this.textBounds=function(e,t,n,r){var i=function(e,t){return 0!==t.letterSpacing?Qr(e):function(e,t){if(Lr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return function(e,t){for(var n,r=function(e,t){var n=c(e),r=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var a=$.get(e);if(a>50?(i.push(!0),a-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(H);var s=n[o-1];return-1===ie.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(H))}return r.push(o),31===a?n.push("strict"===t?P:G):a===X?n.push(H):29===a?n.push(H):43===a?n.push(e>=131072&&e<=196605||e>=196608&&e<=262141?G:H):void n.push(a)})),[r,n,i]}(e,t.lineBreak),r=n[0],i=n[1],o=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[L,H,X].indexOf(e)?G:e}))),[r,i,"keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]}(n,t),i=r[0],o=r[1],a=r[2],s=n.length,u=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var e="\xd7";l<s&&"\xd7"===(e=ue(n,o,i,++l,a)););if("\xd7"!==e||l===s){var t=new le(n,e,u,l);return u=l,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach((function(e){-1===Hr.indexOf(e)?r+=u(e):(r.length&&i.push(r),i.push(u(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i}(e,t)}(e,t)}(t,n),o=[],l=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Lr.SUPPORT_RANGE_BOUNDS){var i=jr(r,l,t.length).getClientRects();if(i.length>1){var c=Qr(t),u=0;c.forEach((function(t){o.push(new Ur(t,a.fromDOMRectList(e,jr(r,u+l,t.length).getClientRects()))),u+=t.length}))}else o.push(new Ur(t,a.fromDOMRectList(e,i)))}else{var h=r.splitText(t.length);o.push(new Ur(t,function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return a.EMPTY}(e,r))),r=h}else Lr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));l+=t.length})),o}(e,this.text,n,t)},zr=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(qr,Kr);case 2:return e.toUpperCase();default:return e}},qr=/(^|\s|:|-|\(|\))([a-z])/g,Kr=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Gr=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(gr),Wr=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(gr),Yr=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,o=s(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(gr),Jr=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(gr),Xr=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(gr),Zr=[{type:15,flags:0,unit:"px",number:3}],$r=[{type:16,flags:0,number:50}],ei=function(e){function n(t,n){var r,i,o,s=e.call(this,t,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=0===(i="password"===(r=n).type?new Array(r.value.length+1).join("\u2022"):r.value).length?r.placeholder||"":i,"checkbox"!==s.type&&"radio"!==s.type||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(o=s.bounds).width>o.height?new a(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new a(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o),s.type){case"checkbox":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Zr;break;case"radio":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=$r}return s}return t(n,e),n}(gr),ti=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(gr),ni=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(gr),ri=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=ai(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?wt(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):_t.TRANSPARENT,o=n.contentWindow.document.body?wt(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):_t.TRANSPARENT;r.backgroundColor=dt(i)?dt(o)?r.styles.backgroundColor:o:i}}catch(a){}return r}return t(n,e),n}(gr),ii=["OL","UL","MENU"],oi=function(e,t){return yi(t)?new Gr(e,t):mi(t)?new Wr(e,t):gi(t)?new Yr(e,t):fi(t)?new Jr(e,t):Ai(t)?new Xr(e,t):pi(t)?new ei(e,t):Ci(t)?new ti(e,t):ki(t)?new ni(e,t):wi(t)?new ri(e,t):new gr(e,t)},ai=function(e,t){var n=oi(e,t);return n.flags|=4,function e(t,n,r,i){for(var o=n.firstChild,a=void 0;o;o=a)if(a=o.nextSibling,ui(o)&&o.data.trim().length>0)r.textNodes.push(new Vr(t,o,r.styles));else if(li(o))if(Si(o)&&o.assignedNodes)o.assignedNodes().forEach((function(n){return e(t,n,r,i)}));else{var s=oi(t,o);s.styles.isVisible()&&(si(o,s,i)?s.flags|=4:ci(s.styles)&&(s.flags|=2),-1!==ii.indexOf(o.tagName)&&(s.flags|=8),r.elements.push(s),o.shadowRoot?e(t,o.shadowRoot,s,i):ki(o)||gi(o)||Ci(o)||e(t,o,s,i))}}(e,t,n,n),n},si=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||vi(e)&&n.styles.isTransparent()},ci=function(e){return e.isPositioned()||e.isFloating()},ui=function(e){return e.nodeType===Node.TEXT_NODE},li=function(e){return e.nodeType===Node.ELEMENT_NODE},hi=function(e){return li(e)&&void 0!==e.style&&!di(e)},di=function(e){return"object"==typeof e.className},fi=function(e){return"LI"===e.tagName},Ai=function(e){return"OL"===e.tagName},pi=function(e){return"INPUT"===e.tagName},gi=function(e){return"svg"===e.tagName},vi=function(e){return"BODY"===e.tagName},mi=function(e){return"CANVAS"===e.tagName},bi=function(e){return"VIDEO"===e.tagName},yi=function(e){return"IMG"===e.tagName},wi=function(e){return"IFRAME"===e.tagName},_i=function(e){return"STYLE"===e.tagName},ki=function(e){return"TEXTAREA"===e.tagName},Ci=function(e){return"SELECT"===e.tagName},Si=function(e){return"SLOT"===e.tagName},xi=function(e){return e.tagName.indexOf("-")>0},Ei=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){return this.counters[e]||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Ii={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Bi={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Di={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Ti={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Oi=function(e,t,n,r,i,o){return e<t||e>n?Mi(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},Fi=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Ri=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(Fi(Math.abs(e),o,r,(function(e){return u(Math.floor(e%o)+t)}))+i)},Pi=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Fi(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Ni=function(e,t,n,r,i,o){if(e<-9999||e>9999)return Mi(e,4,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var c=0;a>0&&c<=4;c++){var u=a%10;0===u&&er(o,1)&&""!==s?s=t[u]+s:u>1||1===u&&0===c||1===u&&1===c&&er(o,2)||1===u&&1===c&&er(o,4)&&e>100||1===u&&c>1&&er(o,8)?s=t[u]+(c>0?n[c-1]:"")+s:1===u&&c>0&&(s=n[c-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},Mi=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",o=n?", ":"",a=n?" ":"";switch(t){case 0:return"\u2022"+a;case 1:return"\u25e6"+a;case 2:return"\u25fe"+a;case 5:var s=Ri(e,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Pi(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Oi(e,1,3999,Ii,3,r).toLowerCase();case 7:return Oi(e,1,3999,Ii,3,r);case 8:return Ri(e,945,969,!1,r);case 9:return Ri(e,97,122,!1,r);case 10:return Ri(e,65,90,!1,r);case 11:return Ri(e,1632,1641,!0,r);case 12:case 49:return Oi(e,1,9999,Bi,3,r);case 35:return Oi(e,1,9999,Bi,3,r).toLowerCase();case 13:return Ri(e,2534,2543,!0,r);case 14:case 30:return Ri(e,6112,6121,!0,r);case 15:return Pi(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Pi(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ni(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",i,14);case 47:return Ni(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",i,15);case 42:return Ni(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",i,14);case 41:return Ni(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",i,15);case 26:return Ni(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",i,0);case 25:return Ni(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",i,7);case 31:return Ni(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc","\ub9c8\uc774\ub108\uc2a4",o,7);case 33:return Ni(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\ub9c8\uc774\ub108\uc2a4",o,0);case 32:return Ni(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343","\ub9c8\uc774\ub108\uc2a4",o,7);case 18:return Ri(e,2406,2415,!0,r);case 20:return Oi(e,1,19999,Ti,3,r);case 21:return Ri(e,2790,2799,!0,r);case 22:return Ri(e,2662,2671,!0,r);case 22:return Oi(e,1,10999,Di,3,r);case 23:return Pi(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Pi(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ri(e,3302,3311,!0,r);case 28:return Pi(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Pi(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Ri(e,3792,3801,!0,r);case 37:return Ri(e,6160,6169,!0,r);case 38:return Ri(e,4160,4169,!0,r);case 39:return Ri(e,2918,2927,!0,r);case 40:return Ri(e,1776,1785,!0,r);case 43:return Ri(e,3046,3055,!0,r);case 44:return Ri(e,3174,3183,!0,r);case 45:return Ri(e,3664,3673,!0,r);case 46:return Ri(e,3872,3881,!0,r);case 3:default:return Ri(e,48,57,!0,r)}},Li=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ei,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,o=ji(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,c=o.contentWindow,u=c.document,l=Vi(o).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(Wi),c&&(c.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||c.scrollY===t.top&&c.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-t.left,c.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Hi(u)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(u,n)})).then((function(){return o}))]:[2,o]}}))}))}));return u.open(),u.write(Ki(document.doctype)+"<html></html>"),Gi(this.referenceElement.ownerDocument,a,s),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),l},e.prototype.createElementClone=function(e){if(pr(e,2),mi(e))return this.createCanvasClone(e);if(bi(e))return this.createVideoClone(e);if(_i(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return yi(t)&&(yi(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),xi(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return qi(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),"SecurityError"!==i.name)throw i}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(c){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(a){var s=a.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return r}catch(c){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(i){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){li(t)&&("SCRIPT"===t.tagName||t.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&li(t)&&_i(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(li(i)&&Si(i)&&"function"==typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(ui(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&li(e)&&(hi(e)||di(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&hi(r)&&(this.clonedReferenceElement=r),vi(r)&&Xi(r);var s=this.counters.parse(new fr(this.context,i)),c=this.resolvePseudoContent(e,r,o,Sr.BEFORE);xi(e)&&(t=!0),bi(e)||this.cloneChildNodes(e,r,t),c&&r.insertBefore(c,r.firstChild);var u=this.resolvePseudoContent(e,r,a,Sr.AFTER);return u&&r.appendChild(u),this.counters.pop(s),(i&&(this.options.copyStyles||di(e))&&!wi(e)||t)&&qi(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(ki(e)||Ci(e))&&(ki(r)||Ci(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new fr(this.context,n));var s=new dr(this.context,n),c=a.createElement("html2canvaspseudoelement");qi(n,c),s.content.forEach((function(t){if(0===t.type)c.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",c.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Ke);r.length&&c.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Je),u=o[1];if((d=o[0])&&Ke(d)){var l=i.counters.getCounterValue(d.value),h=u&&Ke(u)?yn.parse(i.context,u.value):3;c.appendChild(a.createTextNode(Mi(l,h,!1)))}}else if("counters"===t.name){var d,f=t.values.filter(Je),A=f[1];if(u=f[2],(d=f[0])&&Ke(d)){var p=i.counters.getCounterValues(d.value),g=u&&Ke(u)?yn.parse(i.context,u.value):3,v=A&&0===A.type?A.value:"",m=p.map((function(e){return Mi(e,g,!1)})).join(v);c.appendChild(a.createTextNode(m))}}}else if(20===t.type)switch(t.value){case"open-quote":c.appendChild(a.createTextNode(ar(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(ar(s.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(t.value))}})),c.className=Yi+" "+Ji;var u=r===Sr.BEFORE?" "+Yi:" "+Ji;return di(t)?t.className.baseValue+=u:t.className+=u,c}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Sr||(Sr={}));var Ui,ji=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body.appendChild(n),n},Qi=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Hi=function(e){return Promise.all([].slice.call(e.images,0).map(Qi))},Vi=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},zi=["all","d","content"],qi=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===zi.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Ki=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Gi=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Wi=function(e){var t=e[0],n=e[2];t.scrollLeft=e[1],t.scrollTop=n},Yi="___html2canvas___pseudoelement_before",Ji="___html2canvas___pseudoelement_after",Xi=function(e){Zi(e,"."+Yi+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+Ji+':after{\n    content: "" !important;\n    display: none !important;\n}')},Zi=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},$i=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),eo=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:so(e)||io(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return t=$i.isSameOrigin(e),n=!oo(e)&&!0===this._options.useCORS&&Lr.SUPPORT_CORS_IMAGES&&!t,r=!oo(e)&&!t&&!so(e)&&"string"==typeof this._options.proxy&&Lr.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||oo(e)||so(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(ao(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return e(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var a=Lr.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o;var c=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var u=t._options.imageTimeout;s.timeout=u,s.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+r)}}s.send()}))},e}(),to=/^data:image\/svg\+xml/i,no=/^data:image\/.*;base64,/i,ro=/^data:image\/.*/i,io=function(e){return Lr.SUPPORT_SVG_DRAWING||!co(e)},oo=function(e){return ro.test(e)},ao=function(e){return no.test(e)},so=function(e){return"blob"===e.substr(0,4)},co=function(e){return"svg"===e.substr(-3).toLowerCase()||to.test(e)},uo=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),lo=function(e,t,n){return new uo(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},ho=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=lo(this.start,this.startControl,t),i=lo(this.startControl,this.endControl,t),o=lo(this.endControl,this.end,t),a=lo(r,i,t),s=lo(i,o,t),c=lo(a,s,t);return n?new e(this.start,r,a,c):new e(c,s,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),fo=function(e){return 1===e.type},Ao=function(e){var t=e.styles,n=e.bounds,r=ot(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=ot(t.borderTopRightRadius,n.width,n.height),s=a[0],c=a[1],u=ot(t.borderBottomRightRadius,n.width,n.height),l=u[0],h=u[1],d=ot(t.borderBottomLeftRadius,n.width,n.height),f=d[0],A=d[1],p=[];p.push((i+s)/n.width),p.push((f+l)/n.width),p.push((o+A)/n.height),p.push((c+h)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,o/=g,s/=g,c/=g,l/=g,h/=g,f/=g,A/=g);var v=n.width-s,m=n.height-h,b=n.width-l,y=n.height-A,w=t.borderTopWidth,_=t.borderRightWidth,k=t.borderBottomWidth,C=t.borderLeftWidth,S=at(t.paddingTop,e.bounds.width),x=at(t.paddingRight,e.bounds.width),E=at(t.paddingBottom,e.bounds.width),I=at(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?po(n.left+C/3,n.top+w/3,i-C/3,o-w/3,Ui.TOP_LEFT):new uo(n.left+C/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?po(n.left+v,n.top+w/3,s-_/3,c-w/3,Ui.TOP_RIGHT):new uo(n.left+n.width-_/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=l>0||h>0?po(n.left+b,n.top+m,l-_/3,h-k/3,Ui.BOTTOM_RIGHT):new uo(n.left+n.width-_/3,n.top+n.height-k/3),this.bottomLeftBorderDoubleOuterBox=f>0||A>0?po(n.left+C/3,n.top+y,f-C/3,A-k/3,Ui.BOTTOM_LEFT):new uo(n.left+C/3,n.top+n.height-k/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?po(n.left+2*C/3,n.top+2*w/3,i-2*C/3,o-2*w/3,Ui.TOP_LEFT):new uo(n.left+2*C/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?po(n.left+v,n.top+2*w/3,s-2*_/3,c-2*w/3,Ui.TOP_RIGHT):new uo(n.left+n.width-2*_/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=l>0||h>0?po(n.left+b,n.top+m,l-2*_/3,h-2*k/3,Ui.BOTTOM_RIGHT):new uo(n.left+n.width-2*_/3,n.top+n.height-2*k/3),this.bottomLeftBorderDoubleInnerBox=f>0||A>0?po(n.left+2*C/3,n.top+y,f-2*C/3,A-2*k/3,Ui.BOTTOM_LEFT):new uo(n.left+2*C/3,n.top+n.height-2*k/3),this.topLeftBorderStroke=i>0||o>0?po(n.left+C/2,n.top+w/2,i-C/2,o-w/2,Ui.TOP_LEFT):new uo(n.left+C/2,n.top+w/2),this.topRightBorderStroke=i>0||o>0?po(n.left+v,n.top+w/2,s-_/2,c-w/2,Ui.TOP_RIGHT):new uo(n.left+n.width-_/2,n.top+w/2),this.bottomRightBorderStroke=l>0||h>0?po(n.left+b,n.top+m,l-_/2,h-k/2,Ui.BOTTOM_RIGHT):new uo(n.left+n.width-_/2,n.top+n.height-k/2),this.bottomLeftBorderStroke=f>0||A>0?po(n.left+C/2,n.top+y,f-C/2,A-k/2,Ui.BOTTOM_LEFT):new uo(n.left+C/2,n.top+n.height-k/2),this.topLeftBorderBox=i>0||o>0?po(n.left,n.top,i,o,Ui.TOP_LEFT):new uo(n.left,n.top),this.topRightBorderBox=s>0||c>0?po(n.left+v,n.top,s,c,Ui.TOP_RIGHT):new uo(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||h>0?po(n.left+b,n.top+m,l,h,Ui.BOTTOM_RIGHT):new uo(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||A>0?po(n.left,n.top+y,f,A,Ui.BOTTOM_LEFT):new uo(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?po(n.left+C,n.top+w,Math.max(0,i-C),Math.max(0,o-w),Ui.TOP_LEFT):new uo(n.left+C,n.top+w),this.topRightPaddingBox=s>0||c>0?po(n.left+Math.min(v,n.width-_),n.top+w,v>n.width+_?0:Math.max(0,s-_),Math.max(0,c-w),Ui.TOP_RIGHT):new uo(n.left+n.width-_,n.top+w),this.bottomRightPaddingBox=l>0||h>0?po(n.left+Math.min(b,n.width-C),n.top+Math.min(m,n.height-k),Math.max(0,l-_),Math.max(0,h-k),Ui.BOTTOM_RIGHT):new uo(n.left+n.width-_,n.top+n.height-k),this.bottomLeftPaddingBox=f>0||A>0?po(n.left+C,n.top+Math.min(y,n.height-k),Math.max(0,f-C),Math.max(0,A-k),Ui.BOTTOM_LEFT):new uo(n.left+C,n.top+n.height-k),this.topLeftContentBox=i>0||o>0?po(n.left+C+I,n.top+w+S,Math.max(0,i-(C+I)),Math.max(0,o-(w+S)),Ui.TOP_LEFT):new uo(n.left+C+I,n.top+w+S),this.topRightContentBox=s>0||c>0?po(n.left+Math.min(v,n.width+C+I),n.top+w+S,v>n.width+C+I?0:s-C+I,c-(w+S),Ui.TOP_RIGHT):new uo(n.left+n.width-(_+x),n.top+w+S),this.bottomRightContentBox=l>0||h>0?po(n.left+Math.min(b,n.width-(C+I)),n.top+Math.min(m,n.height+w+S),Math.max(0,l-(_+x)),h-(k+E),Ui.BOTTOM_RIGHT):new uo(n.left+n.width-(_+x),n.top+n.height-(k+E)),this.bottomLeftContentBox=f>0||A>0?po(n.left+C+I,n.top+y,Math.max(0,f-(C+I)),A-(k+E),Ui.BOTTOM_LEFT):new uo(n.left+C+I,n.top+n.height-(k+E))};!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Ui||(Ui={}));var po=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,c=e+n,u=t+r;switch(i){case Ui.TOP_LEFT:return new ho(new uo(e,u),new uo(e,u-s),new uo(c-a,t),new uo(c,t));case Ui.TOP_RIGHT:return new ho(new uo(e,t),new uo(e+a,t),new uo(c,u-s),new uo(c,u));case Ui.BOTTOM_RIGHT:return new ho(new uo(c,t),new uo(c,t+s),new uo(e+a,u),new uo(e,u));case Ui.BOTTOM_LEFT:default:return new ho(new uo(c,u),new uo(c-a,u),new uo(e,t+s),new uo(e,t))}},go=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},vo=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},mo=function(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6},bo=function(e,t){this.path=e,this.target=t,this.type=1},yo=function(e){this.opacity=e,this.type=2,this.target=6},wo=function(e){return 1===e.type},_o=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},ko=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Co=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Ao(this.container),this.container.styles.opacity<1&&this.effects.push(new yo(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new mo(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var n=go(this.curves),r=vo(this.curves);_o(n,r)?this.effects.push(new bo(n,6)):(this.effects.push(new bo(n,2)),this.effects.push(new bo(r,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!wo(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=go(n.curves),a=vo(n.curves);_o(o,a)||r.unshift(new bo(a,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return er(t.target,e)}))},e}(),So=function(e,t){for(var n=e instanceof Xr?e.start:1,r=e instanceof Xr&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof Jr&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Mi(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},xo=function(e,t){switch(t){case 0:return Io(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Io(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Io(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Io(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Eo=function(e,t){var n=[];return fo(e)?n.push(e.subdivide(.5,!1)):n.push(e),fo(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Io=function(e,t,n,r){var i=[];return fo(e)?i.push(e.subdivide(.5,!1)):i.push(e),fo(n)?i.push(n.subdivide(.5,!0)):i.push(n),fo(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),fo(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Bo=function(e){var t=e.styles;return e.bounds.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Do=function(e){var t=e.styles,n=e.bounds,r=at(t.paddingLeft,n.width),i=at(t.paddingRight,n.width),o=at(t.paddingTop,n.width),a=at(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))},To=function(e,t,n){var r=function(e,t){return 0===e?t.bounds:2===e?Do(t):Bo(t)}(Po(e.styles.backgroundOrigin,t),e),i=function(e,t){return 0===e?t.bounds:2===e?Do(t):Bo(t)}(Po(e.styles.backgroundClip,t),e),o=Ro(Po(e.styles.backgroundSize,t),n,r),a=o[0],s=o[1],c=ot(Po(e.styles.backgroundPosition,t),r.width-a,r.height-s);return[No(Po(e.styles.backgroundRepeat,t),c,o,r,i),Math.round(r.left+c[0]),Math.round(r.top+c[1]),a,s]},Oo=function(e){return Ke(e)&&e.value===mt.AUTO},Fo=function(e){return"number"==typeof e},Ro=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1];if(!a)return[0,0];if(et(a)&&s&&et(s))return[at(a,n.width),at(s,n.height)];var c=Fo(o);if(Ke(a)&&(a.value===mt.CONTAIN||a.value===mt.COVER))return Fo(o)?n.width/n.height<o!=(a.value===mt.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var u=Fo(r),l=Fo(i),h=u||l;if(Oo(a)&&(!s||Oo(s)))return u&&l?[r,i]:c||h?h&&c?[u?r:i*o,l?i:r/o]:[u?r:n.width,l?i:n.height]:[n.width,n.height];if(c){var d=0,f=0;return et(a)?d=at(a,n.width):et(s)&&(f=at(s,n.height)),Oo(a)?d=f*o:s&&!Oo(s)||(f=d/o),[d,f]}var A=null,p=null;if(et(a)?A=at(a,n.width):s&&et(s)&&(p=at(s,n.height)),null===A||s&&!Oo(s)||(p=u&&l?A/r*i:n.height),null!==p&&Oo(a)&&(A=u&&l?p/i*r:n.width),null!==A&&null!==p)return[A,p];throw new Error("Unable to calculate background-size for element")},Po=function(e,t){var n=e[t];return void 0===n?e[0]:n},No=function(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],c=n[1];switch(e){case 2:return[new uo(Math.round(r.left),Math.round(r.top+a)),new uo(Math.round(r.left+r.width),Math.round(r.top+a)),new uo(Math.round(r.left+r.width),Math.round(c+r.top+a)),new uo(Math.round(r.left),Math.round(c+r.top+a))];case 3:return[new uo(Math.round(r.left+o),Math.round(r.top)),new uo(Math.round(r.left+o+s),Math.round(r.top)),new uo(Math.round(r.left+o+s),Math.round(r.height+r.top)),new uo(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new uo(Math.round(r.left+o),Math.round(r.top+a)),new uo(Math.round(r.left+o+s),Math.round(r.top+a)),new uo(Math.round(r.left+o+s),Math.round(r.top+a+c)),new uo(Math.round(r.left+o),Math.round(r.top+a+c))];default:return[new uo(Math.round(i.left),Math.round(i.top)),new uo(Math.round(i.left+i.width),Math.round(i.top)),new uo(Math.round(i.left+i.width),Math.round(i.height+i.top)),new uo(Math.round(i.left),Math.round(i.height+i.top))]}},Mo=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Lo=function(e,t){this.context=e,this.options=t},Uo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Mo(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 2===e.type}(e)&&(this.ctx.globalAlpha=e.opacity),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),wo(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return er(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Qr(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=zo(e.fontFamily).join(", "),r=ze(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o,a,s,c,u,l=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[1],o=n[2],this.ctx.font=n[0],this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(r,o),s=a.baseline,c=a.middle,u=t.paintOrder,e.textBounds.forEach((function(e){u.forEach((function(n){switch(n){case 0:l.ctx.fillStyle=ft(t.color),l.renderTextWithLetterSpacing(e,t.letterSpacing,s);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){l.ctx.shadowColor=ft(n.color),l.ctx.shadowOffsetX=n.offsetX.number*l.options.scale,l.ctx.shadowOffsetY=n.offsetY.number*l.options.scale,l.ctx.shadowBlur=n.blur.number,l.renderTextWithLetterSpacing(e,t.letterSpacing,s)})),l.ctx.shadowColor="",l.ctx.shadowOffsetX=0,l.ctx.shadowOffsetY=0,l.ctx.shadowBlur=0),t.textDecorationLine.length&&(l.ctx.fillStyle=ft(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:l.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+s),e.bounds.width,1);break;case 2:l.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:l.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(l.ctx.strokeStyle=ft(t.webkitTextStrokeColor),l.ctx.lineWidth=t.webkitTextStrokeWidth,l.ctx.lineJoin=window.chrome?"miter":"round",l.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+s)),l.ctx.strokeStyle="",l.ctx.lineWidth=0,l.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Do(e),i=vo(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,s,c,u,l,h,d,f,A,p,g,v,m,b;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),r=e.curves,o=(t=e.container).styles,s=0,c=t.textNodes,i.label=1;case 1:return s<c.length?[4,this.renderTextNode(c[s],o)]:[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Gr))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return g=i.sent(),this.renderReplacedElement(t,r,g),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Wr&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Yr))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return g=i.sent(),this.renderReplacedElement(t,r,g),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ri&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:u=i.sent(),t.width&&t.height&&this.ctx.drawImage(u,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof ei&&(l=Math.min(t.bounds.width,t.bounds.height),"checkbox"===t.type?t.checked&&(this.ctx.save(),this.path([new uo(t.bounds.left+.39363*l,t.bounds.top+.79*l),new uo(t.bounds.left+.16*l,t.bounds.top+.5549*l),new uo(t.bounds.left+.27347*l,t.bounds.top+.44071*l),new uo(t.bounds.left+.39694*l,t.bounds.top+.5649*l),new uo(t.bounds.left+.72983*l,t.bounds.top+.23*l),new uo(t.bounds.left+.84*l,t.bounds.top+.34085*l),new uo(t.bounds.left+.39363*l,t.bounds.top+.79*l)]),this.ctx.fillStyle=ft(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===t.type&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+l/2,t.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=ft(707406591),this.ctx.fill(),this.ctx.restore())),jo(t)&&t.value.length){switch(h=this.createFontStyle(o),d=this.fontMetrics.getMetrics(m=h[0],h[1]).baseline,this.ctx.font=m,this.ctx.fillStyle=ft(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ho(t.styles.textAlign),b=Do(t),f=0,t.styles.textAlign){case 1:f+=b.width/2;break;case 2:f+=b.width}A=b.add(f,0,0,-b.height/2+1),this.ctx.save(),this.path([new uo(b.left,b.top),new uo(b.left+b.width,b.top),new uo(b.left+b.width,b.top+b.height),new uo(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ur(t.value,A),o.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!er(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(p=t.styles.listStyleImage).type)return[3,18];g=void 0,v=p.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return g=i.sent(),this.ctx.drawImage(g,t.bounds.left-(g.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(m=this.createFontStyle(o)[0],this.ctx.font=m,this.ctx.fillStyle=ft(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new a(t.bounds.left,t.bounds.top+at(t.styles.paddingTop,t.bounds.width),t.bounds.width,vn(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ur(e.listValue,b),o.letterSpacing,vn(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,c,u,l,h,d,f,A,p;return i(this,(function(i){switch(i.label){case 0:return er(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?[4,this.renderStack(n[t])]:[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,o=e.nonInlineLevel,i.label=7;case 7:return r<o.length?[4,this.renderNode(o[r])]:[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:a=0,s=e.nonPositionedFloats,i.label=11;case 11:return a<s.length?[4,this.renderStack(s[a])]:[3,14];case 12:i.sent(),i.label=13;case 13:return a++,[3,11];case 14:c=0,u=e.nonPositionedInlineLevel,i.label=15;case 15:return c<u.length?[4,this.renderStack(u[c])]:[3,18];case 16:i.sent(),i.label=17;case 17:return c++,[3,15];case 18:l=0,h=e.inlineLevel,i.label=19;case 19:return l<h.length?[4,this.renderNode(h[l])]:[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:d=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return d<f.length?[4,this.renderStack(f[d])]:[3,26];case 24:i.sent(),i.label=25;case 25:return d++,[3,23];case 26:A=0,p=e.positiveZIndex,i.label=27;case 27:return A<p.length?[4,this.renderStack(p[A])]:[3,30];case 28:i.sent(),i.label=29;case 29:return A++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=fo(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),fo(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(s){switch(s.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,a,s,c,u,l,h,d,f,A,p,g,v,m,b,y,w,_,k,C,S,x,E,I,B,D,T,O,F,R,P;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(s=To(e,t,[o.width,o.height,o.width/o.height]),y=s[0],x=s[1],E=s[2],m=r.ctx.createPattern(r.resizeImage(o,k=s[3],C=s[4]),"repeat"),r.renderRepeat(y,m,x,E)),[3,6];case 5:1===n.type?(c=To(e,t,[null,null,null]),y=c[0],x=c[1],E=c[2],u=function(e,t,n){var r="number"==typeof e?e:function(e,t,n){var r=t/2,i=n/2,o=at(e[0],t)-r,a=i-at(e[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)}(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,c=Math.sin(r-Math.PI/2)*s,u=Math.cos(r-Math.PI/2)*s;return[i,o-u,o+u,a-c,a+c]}(n.angle,k=c[3],C=c[4]),l=u[0],h=u[1],d=u[2],f=u[3],A=u[4],(p=document.createElement("canvas")).width=k,p.height=C,g=p.getContext("2d"),v=g.createLinearGradient(h,f,d,A),xt(n.stops,l).forEach((function(e){return v.addColorStop(e.stop,ft(e.color))})),g.fillStyle=v,g.fillRect(0,0,k,C),k>0&&C>0&&(m=r.ctx.createPattern(p,"repeat"),r.renderRepeat(y,m,x,E))):2===n.type&&(b=To(e,t,[null,null,null]),y=b[0],w=b[1],_=b[2],C=b[4],x=at((S=0===n.position.length?[rt]:n.position)[0],k=b[3]),E=at(S[S.length-1],C),I=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case 0:0===e.shape?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)o=a=Math.min(Et(t,n),Et(t,n-i),Et(t-r,n),Et(t-r,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),c=It(r,i,t,n,!0);a=s*(o=Et(c[0]-t,(c[1]-n)/s))}break;case 1:0===e.shape?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)o=a=Math.max(Et(t,n),Et(t,n-i),Et(t-r,n),Et(t-r,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=It(r,i,t,n,!1);a=s*(o=Et(u[0]-t,(u[1]-n)/s))}}return Array.isArray(e.size)&&(o=at(e.size[0],r),a=2===e.size.length?at(e.size[1],i):o),[o,a]}(n,x,E,k,C),D=I[1],(B=I[0])>0&&D>0&&(T=r.ctx.createRadialGradient(w+x,_+E,0,w+x,_+E,B),xt(n.stops,2*B).forEach((function(e){return T.addColorStop(e.stop,ft(e.color))})),r.path(y),r.ctx.fillStyle=T,B!==D?(O=e.bounds.left+.5*e.bounds.width,F=e.bounds.top+.5*e.bounds.height,P=1/(R=D/B),r.ctx.save(),r.ctx.translate(O,F),r.ctx.transform(1,0,0,R,0,0),r.ctx.translate(-O,-F),r.ctx.fillRect(w,P*(_-F)+F,k,C*P),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,o=0,a=e.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return o<a.length?[5,n(a[o])]:[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(xo(n,t)),this.ctx.fillStyle=ft(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=function(e,t){switch(t){case 0:return Io(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Io(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Io(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Io(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}}(o,n),this.path(r),this.ctx.fillStyle=ft(e),this.ctx.fill(),a=function(e,t){switch(t){case 0:return Io(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Io(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Io(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Io(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}}(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s,c,u,l=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),n=!dt((t=e.container.styles).backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=Qo(Po(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),dt(t.backgroundColor)||(this.ctx.fillStyle=ft(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var n,r,i,o,a=go(e.curves),s=t.inset?0:1e4,c=(n=(t.inset?1:-1)*t.spread.number-s,r=(t.inset?1:-1)*t.spread.number,i=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),a.map((function(e,t){switch(t){case 0:return e.add(n,r);case 1:return e.add(n+i,r);case 2:return e.add(n+i,r+o);case 3:return e.add(n,r+o)}return e})));t.inset?(l.path(a),l.ctx.clip(),l.mask(c)):(l.mask(a),l.ctx.clip(),l.path(c)),l.ctx.shadowOffsetX=t.offsetX.number+s,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=ft(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?ft(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),i.label=2;case 2:a=0,s=0,c=r,i.label=3;case 3:return s<c.length?0!==(u=c[s]).style&&!dt(u.color)&&u.width>0?2!==u.style?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==u.style?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==u.style?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,e.curves)];case 10:i.sent(),i.label=11;case 11:a++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,o,a){return r(this,void 0,void 0,(function(){var r,s,c,u,l,h,d,f,A,p,g,v,m,b,y,w;return i(this,(function(i){return this.ctx.save(),r=function(e,t){switch(t){case 0:return Eo(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Eo(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Eo(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Eo(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}}(o,n),s=xo(o,n),2===a&&(this.path(s),this.ctx.clip()),fo(s[0])?(c=s[0].start.x,u=s[0].start.y):(c=s[0].x,u=s[0].y),fo(s[1])?(l=s[1].end.x,h=s[1].end.y):(l=s[1].x,h=s[1].y),d=0===n||2===n?Math.abs(c-l):Math.abs(u-h),this.ctx.beginPath(),this.formatPath(3===a?r:s.slice(0,2)),f=t<3?3*t:2*t,A=t<3?2*t:t,3===a&&(f=t,A=t),p=!0,d<=2*f?p=!1:d<=2*f+A?(f*=g=d/(2*f+A),A*=g):(v=Math.floor((d+A)/(f+A)),m=(d-v*f)/(v-1),A=(b=(d-(v+1)*f)/v)<=0||Math.abs(A-m)<Math.abs(A-b)?m:b),p&&this.ctx.setLineDash(3===a?[0,f+A]:[f,A]),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ft(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(fo(s[0])&&(y=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new uo(y.end.x,y.end.y),new uo(w.start.x,w.start.y)]),this.ctx.stroke()),fo(s[1])&&(y=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new uo(y.end.x,y.end.y),new uo(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ft(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),function e(t,n,r,i){t.container.elements.forEach((function(o){var a=er(o.flags,4),s=er(o.flags,2),c=new Co(o,t);er(o.styles.display,2048)&&i.push(c);var u=er(o.flags,8)?[]:i;if(a||s){var l=a||o.styles.isPositioned()?r:n,h=new ko(c);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var d=o.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some((function(e,t){return d>e.element.container.styles.zIndex.order?(f=t,!1):f>0})),l.negativeZIndex.splice(f,0,h)}else if(d>0){var A=0;l.positiveZIndex.some((function(e,t){return d>=e.element.container.styles.zIndex.order?(A=t+1,!1):A>0})),l.positiveZIndex.splice(A,0,h)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else o.styles.isFloating()?l.nonPositionedFloats.push(h):l.nonPositionedInlineLevel.push(h);e(c,h,a?h:r,u)}else o.styles.isInlineLevel()?n.inlineLevel.push(c):n.nonInlineLevel.push(c),e(c,n,r,u);er(o.flags,8)&&So(o,u)}))}(n=new Co(e,null),r=new ko(n),r,i=[]),So(n.container,i),[4,this.renderStack(r)];case 1:return t.sent(),this.applyEffects([]),[2,this.canvas]}var n,r,i}))}))},n}(Lo),jo=function(e){return e instanceof ni||e instanceof ti||e instanceof ei&&"radio"!==e.type&&"checkbox"!==e.type},Qo=function(e,t){switch(e){case 0:return go(t);case 2:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);case 1:default:return vo(t)}},Ho=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Vo=["-apple-system","system-ui"],zo=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===Vo.indexOf(e)})):e},qo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=Nr(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Ko(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ft(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(Lo),Ko=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Go=function(){function e(e){var t=e.enabled;this.id=e.id,this.enabled=t,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Wo=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Go({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new eo(this,t)}return e.instanceCount=1,e}();return"undefined"!=typeof window&&$i.setContext(window),function(e,t){return void 0===t&&(t={}),function(e,t){return r(void 0,void 0,void 0,(function(){var r,o,c,u,l,h,d,f,A,p,g,v,m,b,y,w,_,k,C,S,x,E,I,B,D,T,O,F,R,P,N,M,L,U,j,Q,H,V;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(E=t.allowTaint)&&void 0!==E&&E,imageTimeout:null!==(I=t.imageTimeout)&&void 0!==I?I:15e3,proxy:t.proxy,useCORS:null!==(B=t.useCORS)&&void 0!==B&&B},u=n({logging:null===(D=t.logging)||void 0===D||D,cache:t.cache},c),l={windowWidth:null!==(T=t.windowWidth)&&void 0!==T?T:o.innerWidth,windowHeight:null!==(O=t.windowHeight)&&void 0!==O?O:o.innerHeight,scrollX:null!==(F=t.scrollX)&&void 0!==F?F:o.pageXOffset,scrollY:null!==(R=t.scrollY)&&void 0!==R?R:o.pageYOffset},h=new a(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),d=new Wo(u,h),f=null!==(P=t.foreignObjectRendering)&&void 0!==P&&P,A={allowTaint:null!==(N=t.allowTaint)&&void 0!==N&&N,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),p=new Li(d,e,A),(g=p.clonedReferenceElement)?[4,p.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),m=vi(g)||"HTML"===g.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,r,i)}(g.ownerDocument):s(d,g),b=m.width,y=m.height,w=m.left,_=m.top,k=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?wt(e,getComputedStyle(r.documentElement).backgroundColor):_t.TRANSPARENT,o=r.body?wt(e,getComputedStyle(r.body).backgroundColor):_t.TRANSPARENT,a="string"==typeof n?wt(e,n):null===n?_t.TRANSPARENT:4294967295;return t===r.documentElement?dt(i)?dt(o)?a:o:i:a}(d,g,t.backgroundColor),C={canvas:t.canvas,backgroundColor:k,scale:null!==(L=null!==(M=t.scale)&&void 0!==M?M:o.devicePixelRatio)&&void 0!==L?L:1,x:(null!==(U=t.x)&&void 0!==U?U:0)+w,y:(null!==(j=t.y)&&void 0!==j?j:0)+_,width:null!==(Q=t.width)&&void 0!==Q?Q:Math.ceil(b),height:null!==(H=t.height)&&void 0!==H?H:Math.ceil(y)},f?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new qo(d,C).render(g)]):[3,3];case 2:return S=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+w+","+_+" with size "+b+"x"+y+" using computed rendering"),d.logger.debug("Starting DOM parsing"),x=ai(d,g),k===x.styles.backgroundColor&&(x.styles.backgroundColor=_t.TRANSPARENT),d.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),[4,new Uo(d,C).render(x)];case 4:S=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(Li.destroy(v)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,S]}}))}))}(e,t)}}()},woL0:function(e,t,n){"use strict";var r=n("JYLm"),i={},o=!1,a=global.chrome&&global.chrome.app&&global.chrome.app.runtime;e.exports={attachEvent:function(e,t){void 0!==global.addEventListener?global.addEventListener(e,t,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+e,t),global.attachEvent("on"+e,t))},detachEvent:function(e,t){void 0!==global.addEventListener?global.removeEventListener(e,t,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+e,t),global.detachEvent("on"+e,t))},unloadAdd:function(e){if(a)return null;var t=r.string(8);return i[t]=e,o&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}},a||e.exports.attachEvent("unload",(function(){o||(o=!0,e.exports.triggerUnloadCallbacks())}))},xDdU:function(e,t,n){var r,i,o=n("4fRq"),a=n("I2ZF"),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var f=o();null==h&&(h=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=16383&(f[6]<<8|f[7]))}var A=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:c+1,g=A-s+(p-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||A>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=A,c=p,i=d;var v=(1e4*(268435455&(A+=122192928e5))+p)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var m=A/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var b=0;b<6;++b)l[u+b]=h[b];return t||a(l)}},xSnx:function(e,t,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter,o=n("kwwM"),a=n("c6pU"),s=n("ibx3");function c(e){var t=this;i.call(this),this.ir=new s(e,a),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",o.stringify([e,n]))}))}r(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=c},xk4V:function(e,t,n){var r=n("4fRq"),i=n("I2ZF");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},xutz:function(e,t,n){"use strict";(function(e){var r=n("XqMk"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.a.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n("3UD+")(e))},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},yjSe:function(e,t){e.exports=global.EventSource},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},"z+YZ":function(e,t,n){"use strict";e.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(e){var t=new Uint8Array(e);return global.crypto.getRandomValues(t),t}:function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zH15:function(e,t,n){"use strict";var r=n("aUWK");e.exports=n("SGzc")(r),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},zIRd:function(e,t,n){"use strict";n.r(t);var r,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=n("qOnz"),a=n("/6Yf"),s=n("q/0M");n.d(t,"firebase",(function(){return b}));var c,u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.ErrorFactory("app","Firebase",u),h=((c={})["@firebase/app"]="fire-core",c["@firebase/analytics"]="fire-analytics",c["@firebase/app-check"]="fire-app-check",c["@firebase/auth"]="fire-auth",c["@firebase/database"]="fire-rtdb",c["@firebase/functions"]="fire-fn",c["@firebase/installations"]="fire-iid",c["@firebase/messaging"]="fire-fcm",c["@firebase/performance"]="fire-perf",c["@firebase/remote-config"]="fire-rc",c["@firebase/storage"]="fire-gcs",c["@firebase/firestore"]="fire-fst",c["fire-js"]="fire-js",c["firebase-wrapper"]="fire-js-all",c),d=new s.Logger("@firebase/app"),f=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(o.deepCopy)(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var A=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var a=i;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(o.contains)(t,s))throw l.create("duplicate-app",{appName:s});var c=new e(n,a,r);return t[s]=c,c},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:s.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(s.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(o.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function c(a){var s=a.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?r[s]:null;if(n.set(s,a),"PUBLIC"===a.type){var c=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==a.serviceProps&&Object(o.deepExtend)(c,a.serviceProps),r[s]=c,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,a.multipleInstances?e:[])}}for(var u=0,h=Object.keys(t);u<h.length;u++)t[h[u]]._addComponent(a);return"PUBLIC"===a.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(f);return t.INTERNAL=i(i({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(o.deepExtend)(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),p=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(o.isBrowser)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=A.initializeApp;A.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.isNode)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,e)};var m,b=A;(m=b).INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new p(e)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.30",void 0),m.registerVersion("fire-js",""),t.default=b},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("fXoL"),i="https://trungdc.synology.me:5152/auction",o={production:!1,firebaseConfig:{apiKey:"AIzaSyBFqqq1BOcFnqRPAx_Vq8ewdQiAUPkJbrE",authDomain:"eng-cogency-370914.firebaseapp.com",databaseURL:"https://eng-cogency-370914-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"eng-cogency-370914",storageBucket:"eng-cogency-370914.appspot.com",messagingSenderId:"985488924079",appId:"1:985488924079:web:28e91f3779f4563b42235a",measurementId:"G-M2T7R4CP93"},categoryUrl:i+"/api/v1/products/category",priceStepUrl:i+"/api/v1/products/priceStep",transactionUrl:i+"/api/v1/auction/transaction",productSearchUrl:i+"/api/v1/products/search",userUrl:i+"/api/v1/users",urlAddAccountUser:i+"/api/user/v1/add",api_url_products:i+"/api/v1/products",api_url_list_price_step:i+"/api/v1/pricestep",api_url_list_category:i+"/api/v1/category",api_url_list_user:i+"/api/v1/users",api_url_list_img_url:i+"/api/v1/users/{id}",API_URL_AUCTION:i+"/api/v1/auction",api_url_order_status:i+"/api/v1/payments",API_TOP_USER:i+"/api/user/v1/top",api_url_list_price_range:i+"/api/v1/product-properties/price-range",api_url_list_auction_status:i+"/api/v1/product-properties/auction-status",api_url_search_by_list_id:i+"/api/v1/products/find-by-list-id",api_url_remove_products:i+"/api/v1/products/remove",api_url_find_by_id:i+"/api/v1/products/find-by-id/",api_url_review_product:i+"/api/v1/products/review/",api_url_write_reason:i+"/api/v1/products/reason",api_url_get_reason:i+"/api/v1/products/reason/",api_url_do_not_review_product:i+"/api/v1/products/do-not-review/",api_url_get_imgs:i+"/api/v1/products/imgs/",api_url_list_user_list_id:i+"/api/v1/users/find-by-list-id",transactionDeleteUrl:i+"/api/v1/auction/delete",transactionFindByListIdUrl:i+"/api/v1/auction/find-by-list-id",api_url_userType:i+"/api/v1/users/usersType",productUrl:i+"/api/v1/products",imageUrl:i+"/api/v1/products/img",API_URL_GUIDE:i+"/api/v1/guide",SIGN_IN_API:i+"/api/v1/auth/signin",GOOGLE_SIGN_IN_API:i+"/api/v1/auth/google",uri_api_create_user_v1_user:i+"/api/v1/users/create",api_url_create_img_url:i+"/api/v1/products/img/create",uri_api_update_user_v1_user:i+"/api/v1/users/update",uri_api_find_by_id_user_v1_user:i+"/api/v1/users/getUserById",uri_api_find_all_user_v1:i+"/api/v1/users/findAll",api_url_product_history_list:i+"/api/v1/products/list/",api_url_product_auction_canceled:i+"/api/v1/products/canceled/",api_url_product_auction_history:i+"/api/v1/auction/list/",NQV_LOCK_ACCOUNT:i+"/api/v1/users/lockUser",NQV_GET_ACCOUNT_BY_ID_API:i+"/api/v1/accounts/getAccountById",api_url_payment:i+"/api/v1/payments/updates",LOGIN_API:i+"/api/auth/login",GOOGLE_LOGIN_API:i+"/api/auth/google",DIA_GIOI_VIETNAM_API:"https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json",api_url_shipping:i+"/api/v1/payments/update",api_url_order_status_1:i+"api/v1/payments/find-by-list-id"},a=null;function s(){return a}var c,u=new r.q("DocumentToken"),l=((c=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||c)},c.\u0275prov=Object(r.Jb)({factory:h,token:c,providedIn:"platform"}),c);function h(){return Object(r.Wb)(A)}var d,f=new r.q("Location Initialized"),A=((d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=s().getLocation(),this._history=s().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return s().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(l)).\u0275fac=function(e){return new(e||d)(r.Wb(u))},d.\u0275prov=Object(r.Jb)({factory:g,token:d,providedIn:"platform"}),d);function p(){return!!window.history.pushState}function g(){return new A(Object(r.Wb)(u))}function v(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function b(e){return e&&"?"!==e[0]?"?"+e:e}var y,w=((y=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||y)},y.\u0275prov=Object(r.Jb)({factory:_,token:y,providedIn:"root"}),y);function _(e){var t=Object(r.Wb)(u).location;return new E(Object(r.Wb)(l),t&&t.origin||"")}var k,C,S,x=new r.q("appBaseHref"),E=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return v(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(w)).\u0275fac=function(e){return new(e||S)(r.Wb(l),r.Wb(x,8))},S.\u0275prov=r.Jb({token:S,factory:S.\u0275fac}),S),I=((C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=v(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(w)).\u0275fac=function(e){return new(e||C)(r.Wb(l),r.Wb(x,8))},C.\u0275prov=r.Jb({token:C,factory:C.\u0275fac}),C),B=((k=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=m(T(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+b(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+b(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+b(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||k)(r.Wb(w),r.Wb(l))},k.normalizeQueryParams=b,k.joinWithSlash=v,k.stripTrailingSlash=m,k.\u0275prov=Object(r.Jb)({factory:D,token:k,providedIn:"root"}),k);function D(){return new B(Object(r.Wb)(w),Object(r.Wb)(l))}function T(e){return e.replace(/\/index.html$/,"")}var O={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},F=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),R=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),P=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),N=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),M=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),L=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function U(e,t){return K(Object(r.jb)(e)[r.Z.DateFormat],t)}function j(e,t){return K(Object(r.jb)(e)[r.Z.TimeFormat],t)}function Q(e,t){return K(Object(r.jb)(e)[r.Z.DateTimeFormat],t)}function H(e,t){var n=Object(r.jb)(e),i=n[r.Z.NumberSymbols][t];if(void 0===i){if(t===L.CurrencyDecimal)return n[r.Z.NumberSymbols][L.Decimal];if(t===L.CurrencyGroup)return n[r.Z.NumberSymbols][L.Group]}return i}function V(e,t){return Object(r.jb)(e)[r.Z.NumberFormats][t]}var z=r.mb;function q(e){if(!e[r.Z.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r.Z.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function K(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function G(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var W=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Y={},J=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,X=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Z=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),ee=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function te(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,c=function(e,t){switch(e){case Z.FullYear:return t.getFullYear();case Z.Month:return t.getMonth();case Z.Date:return t.getDate();case Z.Hours:return t.getHours();case Z.Minutes:return t.getMinutes();case Z.Seconds:return t.getSeconds();case Z.FractionalSeconds:return t.getMilliseconds();case Z.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||c>-n)&&(c+=n),e===Z.Hours)0===c&&-12===n&&(c=12);else if(e===Z.FractionalSeconds)return s=t,ne(c,3).substr(0,s);var u=H(a,L.MinusSign);return ne(c,t,u,r,i)}}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,t,n,i,o,a){switch(n){case ee.Months:return function(e,t,n){var i=Object(r.jb)(e),o=K([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],t);return K(o,n)}(t,o,i)[e.getMonth()];case ee.Days:return function(e,t,n){var i=Object(r.jb)(e),o=K([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],t);return K(o,n)}(t,o,i)[e.getDay()];case ee.DayPeriods:var s=e.getHours(),c=e.getMinutes();if(a){var u,l=function(e){var t=Object(r.jb)(e);return q(t),(t[r.Z.ExtraData][2]||[]).map((function(e){return"string"==typeof e?G(e):[G(e[0]),G(e[1])]}))}(t),h=function(e,t,n){var i=Object(r.jb)(e);q(i);var o=K([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],t)||[];return K(o,n)||[]}(t,o,i);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],a=o.hours,l=o.minutes;s>=r&&c>=i&&(s<a||s===a&&c<l)&&(u=h[t])}else{var d=e.hours,f=e.minutes;d===s&&f===c&&(u=h[t])}})),u)return u}return function(e,t,n){var i=Object(r.jb)(e),o=K([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],t);return K(o,n)}(t,o,i)[s<12?0:1];case ee.Eras:return function(e,t){return K(Object(r.jb)(e)[r.Z.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(o,a,e,t,n,i)}}function oe(e){return function(t,n,r){var i=-1*r,o=H(n,L.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case X.Short:return(i>=0?"+":"")+ne(a,2,o)+ne(Math.abs(i%60),2,o);case X.ShortGMT:return"GMT"+(i>=0?"+":"")+ne(a,1,o);case X.Long:return"GMT"+(i>=0?"+":"")+ne(a,2,o)+":"+ne(Math.abs(i%60),2,o);case X.Extended:return 0===r?"Z":(i>=0?"+":"")+ne(a,2,o)+":"+ne(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var c=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+c)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return ne(i,e,H(r,L.MinusSign))}}var se={};function ce(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ue(e){return e instanceof Date&&!isNaN(e.valueOf())}var le=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function he(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",c=!1;if(isFinite(e)){var u=function(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(u=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));var l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){var f=o.match(le);if(null===f)throw new Error("".concat(o," is not a valid digit info"));var A=f[1],p=f[3],g=f[5];null!=A&&(l=fe(A)),null!=p&&(h=fe(p)),null!=g?d=fe(g):null!=p&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var c=a;c<r.length;c++)r[c]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,d=t+e.integerLen,f=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=d?r.pop():h=!1),t>=10?1:0}),0);f&&(r.unshift(f),e.integerLen++)}(u,h,d);var v=u.digits,m=u.integerLen,b=u.exponent,y=[];for(c=v.every((function(e){return!e}));m<l;m++)v.unshift(0);for(;m<0;m++)v.unshift(0);m>0?y=v.splice(m,v.length):(y=v,v=[0]);var w=[];for(v.length>=t.lgSize&&w.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)w.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&w.unshift(v.join("")),s=w.join(H(n,r)),y.length&&(s+=H(n,i)+y.join("")),b&&(s+=H(n,L.Exponential)+"+"+b)}else s=H(n,L.Infinity);return s=e<0&&!c?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var u=0;u<c.length;u++){var l=c.charAt(u);"0"===l?n.minFrac=n.maxFrac=u+1:"#"===l?n.maxFrac=u+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var d=i.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function fe(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Ae,pe=_createClass((function e(){_classCallCheck(this,e)})),ge=((Ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(z(t||this.locale)(e)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}]),n}(pe)).\u0275fac=function(e){return new(e||Ae)(r.Wb(r.u))},Ae.\u0275prov=r.Jb({token:Ae,factory:Ae.\u0275fac}),Ae);function ve(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],c=a[1];if(s.trim()===t)return decodeURIComponent(c)}}catch(u){r.e(u)}finally{r.f()}return null}var me,be,ye,we=((me=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(r.vb)(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}()).\u0275fac=function(e){return new(e||me)(r.Nb(r.s),r.Nb(r.t),r.Nb(r.l),r.Nb(r.D))},me.\u0275dir=r.Ib({type:me,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),me),_e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),ke=((be=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.U)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new _e(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Ce(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var c=new Ce(e,s);n.push(c)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||be)(r.Nb(r.O),r.Nb(r.K),r.Nb(r.s))},be.\u0275dir=r.Ib({type:be,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),be),Ce=_createClass((function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n})),Se=((ye=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Ee("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Ee("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||ye)(r.Nb(r.O),r.Nb(r.K))},ye.\u0275dir=r.Ib({type:ye,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ye),xe=_createClass((function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null}));function Ee(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.vb)(t),"'."))}function Ie(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r.vb)(e),"'"))}var Be,De,Te,Oe,Fe=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Re=((Oe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Ie(e,t);return t.replace(Fe,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}()).\u0275fac=function(e){return new(e||Oe)},Oe.\u0275pipe=r.Mb({name:"titlecase",type:Oe,pure:!0}),Oe),Pe=((Te=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,i){var o=function(e){if(ue(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(W))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,c,u),t}(t)}var s=new Date(e);if(!ue(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var i=function(e){return Object(r.jb)(e)[r.Z.LocaleId]}(t);if(Y[i]=Y[i]||{},Y[i][n])return Y[i][n];var o="";switch(n){case"shortDate":o=U(t,M.Short);break;case"mediumDate":o=U(t,M.Medium);break;case"longDate":o=U(t,M.Long);break;case"fullDate":o=U(t,M.Full);break;case"shortTime":o=j(t,M.Short);break;case"mediumTime":o=j(t,M.Medium);break;case"longTime":o=j(t,M.Long);break;case"fullTime":o=j(t,M.Full);break;case"short":var a=e(t,"shortTime"),s=e(t,"shortDate");o=te(Q(t,M.Short),[a,s]);break;case"medium":var c=e(t,"mediumTime"),u=e(t,"mediumDate");o=te(Q(t,M.Medium),[c,u]);break;case"long":var l=e(t,"longTime"),h=e(t,"longDate");o=te(Q(t,M.Long),[l,h]);break;case"full":var d=e(t,"fullTime"),f=e(t,"fullDate");o=te(Q(t,M.Full),[d,f])}return o&&(Y[i][n]=o),o}(n,t)||t;for(var a,s=[];t;){if(!(a=J.exec(t))){s.push(t);break}var c=(s=s.concat(a.slice(1))).pop();if(!c)break;t=c}var u=o.getTimezoneOffset();i&&(u=ce(i,u),o=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ce(t,r)-r))}(o,i));var l="";return s.forEach((function(e){var t=function(e){if(se[e])return se[e];var t;switch(e){case"G":case"GG":case"GGG":t=ie(ee.Eras,N.Abbreviated);break;case"GGGG":t=ie(ee.Eras,N.Wide);break;case"GGGGG":t=ie(ee.Eras,N.Narrow);break;case"y":t=re(Z.FullYear,1,0,!1,!0);break;case"yy":t=re(Z.FullYear,2,0,!0,!0);break;case"yyy":t=re(Z.FullYear,3,0,!1,!0);break;case"yyyy":t=re(Z.FullYear,4,0,!1,!0);break;case"M":case"L":t=re(Z.Month,1,1);break;case"MM":case"LL":t=re(Z.Month,2,1);break;case"MMM":t=ie(ee.Months,N.Abbreviated);break;case"MMMM":t=ie(ee.Months,N.Wide);break;case"MMMMM":t=ie(ee.Months,N.Narrow);break;case"LLL":t=ie(ee.Months,N.Abbreviated,P.Standalone);break;case"LLLL":t=ie(ee.Months,N.Wide,P.Standalone);break;case"LLLLL":t=ie(ee.Months,N.Narrow,P.Standalone);break;case"w":t=ae(1);break;case"ww":t=ae(2);break;case"W":t=ae(1,!0);break;case"d":t=re(Z.Date,1);break;case"dd":t=re(Z.Date,2);break;case"E":case"EE":case"EEE":t=ie(ee.Days,N.Abbreviated);break;case"EEEE":t=ie(ee.Days,N.Wide);break;case"EEEEE":t=ie(ee.Days,N.Narrow);break;case"EEEEEE":t=ie(ee.Days,N.Short);break;case"a":case"aa":case"aaa":t=ie(ee.DayPeriods,N.Abbreviated);break;case"aaaa":t=ie(ee.DayPeriods,N.Wide);break;case"aaaaa":t=ie(ee.DayPeriods,N.Narrow);break;case"b":case"bb":case"bbb":t=ie(ee.DayPeriods,N.Abbreviated,P.Standalone,!0);break;case"bbbb":t=ie(ee.DayPeriods,N.Wide,P.Standalone,!0);break;case"bbbbb":t=ie(ee.DayPeriods,N.Narrow,P.Standalone,!0);break;case"B":case"BB":case"BBB":t=ie(ee.DayPeriods,N.Abbreviated,P.Format,!0);break;case"BBBB":t=ie(ee.DayPeriods,N.Wide,P.Format,!0);break;case"BBBBB":t=ie(ee.DayPeriods,N.Narrow,P.Format,!0);break;case"h":t=re(Z.Hours,1,-12);break;case"hh":t=re(Z.Hours,2,-12);break;case"H":t=re(Z.Hours,1);break;case"HH":t=re(Z.Hours,2);break;case"m":t=re(Z.Minutes,1);break;case"mm":t=re(Z.Minutes,2);break;case"s":t=re(Z.Seconds,1);break;case"ss":t=re(Z.Seconds,2);break;case"S":t=re(Z.FractionalSeconds,1);break;case"SS":t=re(Z.FractionalSeconds,2);break;case"SSS":t=re(Z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=oe(X.Short);break;case"ZZZZZ":t=oe(X.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=oe(X.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=oe(X.Long);break;default:return null}return se[e]=t,t}(e);l+=t?t(o,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,o||this.locale,i)}catch(a){throw Ie(e,a.message)}}}]),e}()).\u0275fac=function(e){return new(e||Te)(r.Nb(r.u))},Te.\u0275pipe=r.Mb({name:"date",type:Te,pure:!0}),Te),Ne=((De=function(){function e(t){_classCallCheck(this,e),this._locale=t}return _createClass(e,[{key:"transform",value:function(t,n,r){if(Le(t))return null;r=r||this._locale;try{return function(e,t,n){return he(e,de(V(t,F.Decimal),H(t,L.MinusSign)),t,L.Group,L.Decimal,n)}(Ue(t),r,n)}catch(i){throw Ie(e,i.message)}}}]),e}()).\u0275fac=function(e){return new(e||De)(r.Nb(r.u))},De.\u0275pipe=r.Mb({name:"number",type:De,pure:!0}),De),Me=((Be=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Le(t))return null;a=a||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return Object(r.jb)(e)[r.Z.Currencies]}(n)[e]||O[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}(s,"symbol"===i?"wide":"narrow",a):i);try{return function(e,t,n,r,i){var o=de(V(t,F.Currency),H(t,L.MinusSign));return o.minFrac=function(e){var t,n=O[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),o.maxFrac=o.minFrac,he(e,o,t,L.CurrencyGroup,L.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(Ue(t),a,s,n,o)}catch(c){throw Ie(e,c.message)}}}]),e}()).\u0275fac=function(e){return new(e||Be)(r.Nb(r.u),r.Nb(r.k))},Be.\u0275pipe=r.Mb({name:"currency",type:Be,pure:!0}),Be);function Le(e){return null==e||""===e||e!=e}function Ue(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}var je,Qe,He,Ve,ze,qe,Ke=((Qe=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:Qe}),Qe.\u0275inj=r.Kb({factory:function(e){return new(e||Qe)},providers:[{provide:pe,useClass:ge}]}),Qe),Ge=((je=_createClass((function e(){_classCallCheck(this,e)}))).\u0275prov=Object(r.Jb)({token:je,providedIn:"root",factory:function(){return new We(Object(r.Wb)(u),window,Object(r.Wb)(r.m))}}),je),We=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(jR){this.errorHandler.handleError(jR)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Je||(Je=document.querySelector("base"))?Je.getAttribute("href"):null;return null==n?null:(t=n,He||(He=document.createElement("a")),He.setAttribute("href",t),"/"===He.pathname.charAt(0)?He.pathname:"/"+He.pathname)}},{key:"resetBaseElement",value:function(){Je=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return ve(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,a||(a=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}())),Je=null,Xe=new r.q("TRANSITION_ID"),Ze=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then((function(){var n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Xe,u,r.r],multi:!0}],$e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.ob.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.ob.getAllAngularRootElements=function(){return e.getAllRootElements()},r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push((function(e){var t=r.ob.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new e)}}]),e}(),et=new r.q("EventManagerPlugins"),tt=((Ve=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Ve)(r.Wb(et),r.Wb(r.z))},Ve.\u0275prov=r.Jb({token:Ve,factory:Ve.\u0275fac}),Ve),nt=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),rt=((qe=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||qe)},qe.\u0275prov=r.Jb({token:qe,factory:qe.\u0275fac}),qe),it=((ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return s().remove(e)}))}}]),n}(rt)).\u0275fac=function(e){return new(e||ze)(r.Wb(u))},ze.\u0275prov=r.Jb({token:ze,factory:ze.\u0275fac}),ze),ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function st(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?st(e,i,n):(i=i.replace(at,e),n.push(i))}return n}function ct(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ut,lt,ht,dt,ft,At,pt=((ut=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new gt(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new vt(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.P.Native:case r.P.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=st(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ut)(r.Wb(tt),r.Wb(it),r.Wb(r.c))},ut.\u0275prov=r.Jb({token:ut,factory:ut.\u0275fac}),ut),gt=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ot[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=ot[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=ot[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&r.F.DashCase?e.style.setProperty(t,n,i&r.F.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.F.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ct(n)):this.eventManager.addEventListener(e,t,ct(n))}}]),e}(),vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,c=st(o+"-"+i.id,i.styles,[]);return r.addStyles(c),a.contentAttr="_ngcontent-%COMP%".replace(at,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(at,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(gt),mt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var c=st(a.id,a.styles,[]),u=0;u<c.length;u++){var l=document.createElement("style");l.textContent=c[u],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(gt),bt=((lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(nt)).\u0275fac=function(e){return new(e||lt)(r.Wb(u))},lt.\u0275prov=r.Jb({token:lt,factory:lt.\u0275fac}),lt),yt=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kt={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Ct=((ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return s().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(yt.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&_t.hasOwnProperty(t)&&(t=_t[t]))}return wt[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),yt.forEach((function(r){r!=n&&(0,kt[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(nt)).\u0275fac=function(e){return new(e||ft)(r.Wb(u))},ft.\u0275prov=r.Jb({token:ft,factory:ft.\u0275fac}),ft),St=((dt=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||dt)},dt.\u0275prov=Object(r.Jb)({factory:function(){return Object(r.Wb)(xt)},token:dt,providedIn:"root"}),dt),xt=((ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.H.NONE:return t;case r.H.HTML:return Object(r.db)(t,"HTML")?Object(r.wb)(t):Object(r.ab)(this._doc,String(t));case r.H.STYLE:return Object(r.db)(t,"Style")?Object(r.wb)(t):Object(r.bb)(t);case r.H.SCRIPT:if(Object(r.db)(t,"Script"))return Object(r.wb)(t);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.nb)(t),Object(r.db)(t,"URL")?Object(r.wb)(t):Object(r.cb)(String(t));case r.H.RESOURCE_URL:if(Object(r.db)(t,"ResourceURL"))return Object(r.wb)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(r.eb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(r.hb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(r.gb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(r.ib)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(r.fb)(e)}}]),n}(St)).\u0275fac=function(e){return new(e||ht)(r.Wb(u))},ht.\u0275prov=Object(r.Jb)({factory:function(){return e=Object(r.Wb)(r.o),new xt(e.get(u));var e},token:ht,providedIn:"root"}),ht),Et=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Ye.makeCurrent(),$e.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],It=Object(r.R)(r.V,"browser",Et),Bt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:et,useClass:bt,multi:!0,deps:[u,r.z,r.B]},{provide:et,useClass:Ct,multi:!0,deps:[u]},[],{provide:pt,useClass:pt,deps:[tt,it,r.c]},{provide:r.E,useExisting:pt},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:tt,useClass:tt,deps:[et,r.z]},[]],Dt=((At=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:Xe,useExisting:r.c},Ze]}}}]),e}()).\u0275mod=r.Lb({type:At}),At.\u0275inj=r.Kb({factory:function(e){return new(e||At)(r.Wb(At,12))},providers:Bt,imports:[Ke,r.f]}),At);function Tt(){return new Ft(Object(r.Wb)(u))}var Ot,Ft=((Ot=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}()).\u0275fac=function(e){return new(e||Ot)(r.Wb(u))},Ot.\u0275prov=Object(r.Jb)({factory:Tt,token:Ot,providedIn:"root"}),Ot);"undefined"!=typeof window&&window;var Rt=n("LRne"),Pt=n("Cfvw"),Nt=n("XNiG"),Mt=n("9ppp"),Lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Mt.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(Nt.a),Ut=n("HDdC"),jt=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Qt=n("z+Ro"),Ht=n("DH7j"),Vt=n("l7GE"),zt=n("ZUHj"),qt=n("yCtX"),Kt={},Gt=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wt(e,this.resultSelector))}}]),e}(),Wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(Kt),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(zt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===Kt?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Vt.a),Yt=n("EY2u");function Jt(e){return new Ut.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(Pt.a)(n):Object(Yt.b)()).subscribe(t)}))}var Xt=n("lJxs"),Zt=n("bHdf");function $t(){return Object(Zt.a)(1)}var en=n("7o/Q");function tn(e,t){return function(n){return n.lift(new nn(e,t))}}var nn=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new rn(e,this.predicate,this.thisArg))}}]),e}(),rn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(en.a),on=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function an(e){return function(t){return 0===e?Object(Yt.b)():t.lift(new sn(e))}}var sn=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new on}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new cn(e,this.total))}}]),e}(),cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(en.a);function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return function(t){return t.lift(new ln(e))}}var ln=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new hn(e,this.errorFactory))}}]),e}(),hn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(jR){e=jR}this.destination.error(e)}}]),n}(en.a);function dn(){return new jt}function fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new An(e))}}var An=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pn(e,this.defaultValue))}}]),e}(),pn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(en.a),gn=n("SpAZ");function vn(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?tn((function(t,n){return e(t,n,r)})):gn.a,an(1),n?fn(t):un((function(){return new jt})))}}var mn=n("51Dv");function bn(e){return function(t){var n=new yn(e),r=t.lift(n);return n.caught=r}}var yn=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wn(e,this.selector,this.caught))}}]),e}(),wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new mn.a(this,void 0,void 0);this.add(r);var i=Object(zt.a)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Vt.a);function _n(e){return function(t){return 0===e?Object(Yt.b)():t.lift(new kn(e))}}var kn=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new on}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cn(e,this.total))}}]),e}(),Cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(en.a);function Sn(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?tn((function(t,n){return e(t,n,r)})):gn.a,_n(1),n?fn(t):un((function(){return new jt})))}}var xn=n("5+tZ"),En=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new In(e,this.predicate,this.thisArg,this.source))}}]),e}(),In=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(en.a);function Bn(e,t){return"function"==typeof t?function(n){return n.pipe(Bn((function(n,r){return Object(Pt.a)(e(n,r)).pipe(Object(Xt.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Dn(e))}}var Dn=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Tn(e,this.project))}}]),e}(),Tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new mn.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(zt.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(Vt.a);function On(){return $t()(Object(Rt.a).apply(void 0,arguments))}function Fn(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Rn(e,t,n))}}var Rn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Pn(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Pn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(en.a);function Nn(e,t){return Object(xn.a)(e,t,1)}var Mn=n("mCNh"),Ln=n("vkgz"),Un=n("quSY");function jn(e){return function(t){return t.lift(new Hn(e))}}var Qn,Hn=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vn(e,this.callback))}}]),e}(),Vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new Un.a(r)),i}return _createClass(n)}(en.a),zn=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n})),qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(zn),Kn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(zn),Gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(zn),Wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(zn),Yn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(zn),Jn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(zn),Xn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(zn),Zn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(zn),$n=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(zn),er=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),tr=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),nr=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),rr=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ir=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),or=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ar=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),sr=((Qn=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||Qn)},Qn.\u0275cmp=r.Hb({type:Qn,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Ob(0,"router-outlet")},directives:function(){return[vo]},encapsulation:2}),Qn),cr=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ur(e){return new cr(e)}function lr(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function hr(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var dr=_createClass((function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n}));function fr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Ar(r,pr(t,r))}}function Ar(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&fr(e.children,t)}function pr(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function gr(e){var t=e.children&&e.children.map(gr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=sr),n}function vr(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!mr(e[n=r[o]],t[n]))return!1;return!0}function mr(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function br(e){return Array.prototype.concat.apply([],e)}function yr(e){return e.length>0?e[e.length-1]:null}function wr(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function _r(e){return Object(r.qb)(e)?e:Object(r.rb)(e)?Object(Pt.a)(Promise.resolve(e)):Object(Rt.a)(e)}function kr(e,t,n){return n?function(e,t){return vr(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Er(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return mr(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Er(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Er(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Er(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Cr=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Tr.serialize(this)}}]),e}(),Sr=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,wr(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Or(this)}}]),e}(),xr=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ur(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Lr(this)}}]),e}();function Er(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Ir(e,t){var n=[];return wr(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),wr(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Br=_createClass((function e(){_classCallCheck(this,e)})),Dr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Vr(e);return new Cr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Or(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return wr(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Ir(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Or(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Rr(e),"=").concat(Rr(t))})).join("&"):"".concat(Rr(e),"=").concat(Rr(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Tr=new Dr;function Or(e){return e.segments.map((function(e){return Lr(e)})).join("/")}function Fr(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rr(e){return Fr(e).replace(/%3B/gi,";")}function Pr(e){return Fr(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nr(e){return decodeURIComponent(e)}function Mr(e){return Nr(e.replace(/\+/g,"%20"))}function Lr(e){return"".concat(Pr(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Pr(e),"=").concat(Pr(t[e]))})).join("")));var t}var Ur=/^[^\/()?;=#]+/;function jr(e){var t=e.match(Ur);return t?t[0]:""}var Qr=/^[^=?&#]+/,Hr=/^[^?&#]+/,Vr=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sr([],{}):new Sr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Sr(e,t)),n}},{key:"parseSegment",value:function(){var e=jr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new xr(Nr(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=jr(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=jr(this.remaining);r&&(n=r,this.capture(n))}e[Nr(t)]=Nr(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Qr);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Hr);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Mr(t),o=Mr(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=jr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Sr([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),zr=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=qr(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=qr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Kr(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Kr(e,this._root).map((function(e){return e.value}))}}]),e}();function qr(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=qr(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Kr(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Kr(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Gr=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Wr(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Yr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,ti(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(zr);function Jr(e,t){var n=function(e,t){var n=new $r([],{},{},"",{},"primary",t,null,e.root,-1,{});return new ei("",new Gr(n,[]))}(e,t),r=new Lt([new xr("",{})]),i=new Lt({}),o=new Lt({}),a=new Lt({}),s=new Lt(""),c=new Xr(r,i,a,s,o,"primary",t,n.root);return c.snapshot=n.root,new Yr(new Gr(c,[]),n)}var Xr=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Xt.a)((function(e){return ur(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Xt.a)((function(e){return ur(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var $r=function(){function e(t,n,r,i,o,a,s,c,u,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ur(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ur(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,ti(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return ni(this._root)}}]),n}(zr);function ti(e,t){t.value._routerState=e,t.children.forEach((function(t){return ti(e,t)}))}function ni(e){var t=e.children.length>0?" { ".concat(e.children.map(ni).join(", ")," } "):"";return"".concat(e.value).concat(t)}function ri(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),vr(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!vr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),vr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ii(e,t){return vr(e.params,t.params)&&function(e,t){return Er(e,t)&&e.every((function(e,n){return vr(e.parameters,t[n].parameters)}))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||ii(e.parent,t.parent))}function oi(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ai(e,t,n,r,i){var o={};return r&&wr(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Cr(n.root===e?t:function e(t,n,r){var i={};return wr(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Sr(t.segments,i)}(n.root,e,t),o,i)}var si=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&oi(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==yr(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),ci=_createClass((function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r}));function ui(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function li(e,t,n){if(e||(e=new Sr([],{})),0===e.segments.length&&e.hasChildren())return hi(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=ui(n[r]),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!pi(s,c,a))return o;r+=2}else{if(!pi(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Sr(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Sr(e.segments.slice(r.pathIndex),e.children),hi(o,0,i)}return r.match&&0===i.length?new Sr(e.segments,{}):r.match&&!e.hasChildren()?di(e,t,n):r.match?hi(e,0,i):di(e,t,n)}function hi(e,t,n){if(0===n.length)return new Sr(e.segments,{});var r=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return wr(r,(function(n,r){null!==n&&(i[r]=li(e.children[r],t,n))})),wr(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Sr(e.segments,i)}function di(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=fi(n[i].outlets);return new Sr(r,o)}if(0===i&&oi(n[0]))r.push(new xr(e.segments[t].path,n[0])),i++;else{var a=ui(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&oi(s)?(r.push(new xr(a,Ai(s))),i+=2):(r.push(new xr(a,{})),i++)}}return new Sr(r,{})}function fi(e){var t={};return wr(e,(function(e,n){null!==e&&(t[n]=di(new Sr([],{}),0,e))})),t}function Ai(e){var t={};return wr(e,(function(e,n){return t[n]="".concat(e)})),t}function pi(e,t,n){return e==n.path&&vr(t,n.parameters)}var gi=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ri(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Wr(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),wr(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Wr(e),o=e.value.component?r.children:t;wr(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Wr(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new or(e.value.snapshot))})),e.children.length&&this.forwardEvent(new rr(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(ri(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),vi(s.route)}else{var c=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=u,a.outlet&&a.outlet.activateWith(r,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function vi(e){ri(e.value),e.children.forEach(vi)}function mi(e){return"function"==typeof e}function bi(e){return e instanceof Cr}var yi=_createClass((function e(t){_classCallCheck(this,e),this.segmentGroup=t||null})),wi=_createClass((function e(t){_classCallCheck(this,e),this.urlTree=t}));function _i(e){return new Ut.a((function(t){return t.error(new yi(e))}))}function ki(e){return new Ut.a((function(t){return t.error(new wi(e))}))}function Ci(e){return new Ut.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Si=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.x)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Xt.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(bn((function(t){if(t instanceof wi)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof yi)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(Xt.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(bn((function(e){if(e instanceof yi)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Sr([],{primary:e}):e;return new Cr(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(Xt.a)((function(e){return new Sr([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Rt.a)({});var o=[],a=[],s={};return wr(n,(function(n,i){var c,u,l=(c=i,u=n,r.expandSegmentGroup(e,t,u,c)).pipe(Object(Xt.a)((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),Rt.a.apply(null,o.concat(a)).pipe($t(),vn(),Object(Xt.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Object(Rt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Xt.a)((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(bn((function(e){if(e instanceof yi)return Object(Rt.a)(null);throw e})))})),$t(),Sn((function(e){return!!e})),bn((function(e,n){if(e instanceof jt||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Object(Rt.a)(new Sr([],{}));throw new yi(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Bi(r)!==o?_i(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):_i(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ki(o):this.lineralizeSegments(n,o).pipe(Object(xn.a)((function(n){var o=new Sr(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=xi(t,r,i),c=s.matched,u=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!c)return _i(t);var d=this.applyRedirectCommands(u,r.redirectTo,h);return r.redirectTo.startsWith("/")?ki(d):this.lineralizeSegments(r,d).pipe(Object(xn.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(Xt.a)((function(e){return n._loadedConfig=e,new Sr(r,{})}))):Object(Rt.a)(new Sr(r,{}));var o=xi(t,n,r),a=o.matched,s=o.consumedSegments,c=o.lastChild;if(!a)return _i(t);var u=r.slice(c);return this.getChildConfig(e,n,r).pipe(Object(xn.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Ii(e,t,n)&&"primary"!==Bi(n)}))}(e,n,r)?{segmentGroup:Ei(new Sr(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Bi(o)&&(n[Bi(o)]=new Sr([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Sr(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Ii(e,t,n)}))}(e,n,r)?{segmentGroup:Ei(new Sr(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Ii(e,t,s)&&!r[Bi(s)]&&(o[Bi(s)]=new Sr([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,u,r),a=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Xt.a)((function(e){return new Sr(s,e)}))):0===r.length&&0===c.length?Object(Rt.a)(new Sr(s,{})):i.expandSegment(n,a,r,c,"primary",!0).pipe(Object(Xt.a)((function(e){return new Sr(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(Rt.a)(new dr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(Rt.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(Pt.a)(i).pipe(Object(Xt.a)((function(r){var i,o=e.get(r);if(function(e){return e&&mi(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!mi(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return _r(i)}))).pipe($t(),(r=function(e){return!0===e},function(e){return e.lift(new En(r,void 0,e))})):Object(Rt.a)(!0)}(e.injector,t,n).pipe(Object(xn.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(Xt.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new Ut.a((function(t){return t.error(lr("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(Rt.a)(new dr([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Rt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ci(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Cr(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return wr(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return wr(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Sr(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function xi(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||hr)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ei(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Sr(e.segments.concat(t.segments),t.children)}return e}function Ii(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Bi(e){return e.outlet||"primary"}var Di=_createClass((function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]})),Ti=_createClass((function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n}));function Oi(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Fi(e,t,n){var r=Wr(e),i=e.value;wr(r,(function(e,r){Fi(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Ti(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Ri=Symbol("INITIAL_VALUE");function Pi(){return Bn((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(Qt.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(Ht.a)(t[0])&&(t=t[0]),Object(qt.a)(t,i).lift(new Gt(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(_n(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(Qt.a)(r)?(t.pop(),function(e){return On(t,e,r)}):function(e){return On(t,e)}}(Ri))})))).pipe(Fn((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Ri)return e;if(r===Ri&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||bi(r))return r}return e}),e)}),Ri),tn((function(e){return e!==Ri})),Object(Xt.a)((function(e){return bi(e)?e:!0===e})),_n(1))}))}function Ni(e,t){return null!==e&&t&&t(new ir(e)),Object(Rt.a)(!0)}function Mi(e,t){return null!==e&&t&&t(new nr(e)),Object(Rt.a)(!0)}function Li(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Rt.a)(!0);var i=r.map((function(r){return Jt((function(){var i,o=Oi(r,t,n);if(function(e){return e&&mi(e.canActivate)}(o))i=_r(o.canActivate(t,e));else{if(!mi(o))throw new Error("Invalid CanActivate guard");i=_r(o(t,e))}return i.pipe(Sn())}))}));return Object(Rt.a)(i).pipe(Pi())}function Ui(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Jt((function(){var i=t.guards.map((function(i){var o,a=Oi(i,t.node,n);if(function(e){return e&&mi(e.canActivateChild)}(a))o=_r(a.canActivateChild(r,e));else{if(!mi(a))throw new Error("Invalid CanActivateChild guard");o=_r(a(r,e))}return o.pipe(Sn())}));return Object(Rt.a)(i).pipe(Pi())}))}));return Object(Rt.a)(i).pipe(Pi())}var ji=_createClass((function e(){_classCallCheck(this,e)})),Qi=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=zi(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new $r([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gr(n,t),i=new ei(this.url,r);return this.inheritParamsAndData(i._root),Object(Rt.a)(i)}catch(jR){return new Ut.a((function(t){return t.error(jR)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Zr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Ir(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(jR){if(!(jR instanceof ji))throw jR}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new ji}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new ji;if((e.outlet||"primary")!==r)throw new ji;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?yr(n).parameters:{};i=new $r(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gi(e),r,e.component,e,Hi(t),Vi(t)+n.length,Wi(e))}else{var c=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new ji;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||hr)(n,e,t);if(!r)throw new ji;var i={};wr(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=c.consumedSegments,a=n.slice(c.lastChild),i=new $r(o,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gi(e),r,e.component,e,Hi(t),Vi(t)+o.length,Wi(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=zi(t,o,a,u,this.relativeLinkResolution),h=l.segmentGroup,d=l.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(u,h);return[new Gr(i,f)]}if(0===u.length&&0===d.length)return[new Gr(i,[])];var A=this.processSegment(u,h,d,"primary");return[new Gr(i,A)]}}]),e}();function Hi(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Vi(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function zi(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return qi(e,t,n)&&"primary"!==Ki(n)}))}(e,n,r)){var o=new Sr(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Ki(s)){var c=new Sr([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[Ki(s)]=c}}}catch(u){a.e(u)}finally{a.f()}return i}(e,t,r,new Sr(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return qi(e,t,n)}))}(e,n,r)){var a=new Sr(e.segments,function(e,t,n,r,i,o){var a,s={},c=_createForOfIteratorHelper(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(qi(e,n,u)&&!i[Ki(u)]){var l=new Sr([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Ki(u)]=l}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Sr(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function qi(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ki(e){return e.outlet||"primary"}function Gi(e){return e.data||{}}function Wi(e){return e.resolve||{}}function Yi(e,t,n,r){var i=Oi(e,t,r);return _r(i.resolve?i.resolve(t,n):i(t,n))}function Ji(e){return function(t){return t.pipe(Bn((function(t){var n=e(t);return n?Object(Pt.a)(n).pipe(Object(Xt.a)((function(){return t}))):Object(Pt.a)([t])})))}}var Xi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Zi=new r.q("ROUTES"),$i=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(Xt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new dr(br(i.injector.get(Zi)).map(gr),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(Pt.a)(this.loader.load(e)):_r(e()).pipe(Object(xn.a)((function(e){return e instanceof r.v?Object(Rt.a)(e):Object(Pt.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),eo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function to(e){throw e}function no(e,t,n){return t.parse("/")}function ro(e,t){return Object(Rt.a)(null)}var io,oo,ao,so=((ao=function(){function e(t,n,i,o,a,s,c,u){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Nt.a,this.errorHandler=to,this.malformedUriErrorHandler=no,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ro,afterPreactivation:ro},this.urlHandlingStrategy=new eo,this.routeReuseStrategy=new Xi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.X);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Cr(new Sr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $i(s,c,(function(e){return l.triggerEvent(new er(e))}),(function(e){return l.triggerEvent(new tr(e))})),this.routerState=Jr(this.currentUrlTree,this.rootComponentType),this.transitions=new Lt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(tn((function(e){return 0!==e.id})),Object(Xt.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Bn((function(e){var r,i,o,a=!1,s=!1;return Object(Rt.a)(e).pipe(Object(Ln.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Bn((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(Rt.a)(e).pipe(Bn((function(e){var r=t.transitions.getValue();return n.next(new qn(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Yt.a:[e]})),Bn((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Bn((function(e){return function(e,t,n,r,i){return new Si(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(Xt.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(Ln.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(xn.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Qi(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(Xt.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(Ln.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(Ln.a)((function(e){var r=new Yn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var c=e.id,u=e.extractedUrl,l=e.source,h=e.restoredState,d=e.extras,f=new qn(c,t.serializeUrl(u),l,h);n.next(f);var A=Jr(u,t.rootComponentType).snapshot;return Object(Rt.a)(Object.assign(Object.assign({},e),{targetSnapshot:A,urlAfterRedirects:u,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Yt.a})),Ji((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(Ln.a)((function(e){var n=new Jn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(Xt.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Wr(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,c=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Er(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Er(e.url,t.url)||!vr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ii(e,t)||!vr(e.queryParams,t.queryParams);case"paramsChange":default:return!ii(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Di(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?c?c.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Ti(c&&c.outlet&&c.outlet.component||null,s))}else s&&Fi(n,c,o),o.canActivateChecks.push(new Di(i)),e(t,null,a.component?c?c.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),wr(a,(function(e,t){return Fi(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(xn.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Rt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(Pt.a)(e).pipe(Object(xn.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Rt.a)(!0);var a=o.map((function(o){var a,s=Oi(o,t,i);if(function(e){return e&&mi(e.canDeactivate)}(s))a=_r(s.canDeactivate(e,t,n,r));else{if(!mi(s))throw new Error("Invalid CanDeactivate guard");a=_r(s(e,t,n,r))}return a.pipe(Sn())}));return Object(Rt.a)(a).pipe(Pi())}(e.component,e.route,n,t,r)})),Sn((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(xn.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(Pt.a)(t).pipe(Nn((function(t){return Object(Pt.a)([Mi(t.route.parent,r),Ni(t.route,r),Ui(e,t.path,n),Li(e,t.route,n)]).pipe($t(),Sn((function(e){return!0!==e}),!0))})),Sn((function(e){return!0!==e}),!0))}(r,a,e,t):Object(Rt.a)(n)})),Object(Xt.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(Ln.a)((function(e){if(bi(e.guardsResult)){var n=lr('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(Ln.a)((function(e){var n=new Xn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),tn((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Gn(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),Ji((function(e){if(e.guards.canActivateChecks.length)return Object(Rt.a)(e).pipe(Object(Ln.a)((function(e){var n=new Zn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(xn.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(Pt.a)(i).pipe(Nn((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(Rt.a)({});if(1===i.length){var o=i[0];return Yi(e[o],t,n,r).pipe(Object(Xt.a)((function(e){return _defineProperty2({},o,e)})))}var a={};return Object(Pt.a)(i).pipe(Object(xn.a)((function(i){return Yi(e[i],t,n,r).pipe(Object(Xt.a)((function(e){return a[i]=e,e})))}))).pipe(vn(),Object(Xt.a)((function(){return a})))}(e._resolve,e,t,r).pipe(Object(Xt.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Zr(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(Mn.a)(Fn(e,t),an(1),fn(t))(n)}:function(t){return Object(Mn.a)(Fn((function(t,n,r){return e(t,n,r+1)})),an(1))(t)}}((function(e,t){return e})),Object(Xt.a)((function(t){return e}))):Object(Rt.a)(e)})))}),Object(Ln.a)((function(e){var n=new $n(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),Ji((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,c=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})})),Object(Xt.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new Gr(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var c,u=new Xr(new Lt((c=n.value).url),new Lt(c.params),new Lt(c.queryParams),new Lt(c.fragment),new Lt(c.data),c.outlet,c.component,c),l=n.children.map((function(n){return e(t,n)}));return new Gr(u,l)}(e,t._root,n?n._root:void 0);return new Yr(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(Ln.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},Object(Xt.a)((function(e){return new gi(i,e.targetRouterState,e.currentRouterState,o).activate(r),e}))),Object(Ln.a)({next:function(){a=!0},complete:function(){a=!0}}),jn((function(){if(!a&&!s){t.resetUrlToCurrentUrlTree();var r=new Gn(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),bn((function(r){if(s=!0,(c=r)&&c.ngNavigationCancelingError){var i=bi(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Gn(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new Wn(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(u){e.reject(u)}}var c;return Yt.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){fr(e),this.config=e.map(gr),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,c=t.preserveFragment;Object(r.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return ai(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new si(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return wr(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new si(n,t,r)}(n);if(o.toRoot())return ai(t.root,new Sr([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new ci(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ci(n.snapshot._urlSegment,!0,0);var r=oi(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ci(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?hi(a.segmentGroup,a.index,o.commands):li(a.segmentGroup,a.index,o.commands);return ai(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=bi(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(jR){t=this.malformedUriErrorHandler(jR,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(bi(e))return kr(this.currentUrlTree,e,t);var n=this.parseUrl(e);return kr(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Kn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,c=this.getTransition();if(c&&"imperative"!==t&&"imperative"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"hashchange"==t&&"popstate"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(c&&"popstate"==t&&"hashchange"===c.source&&c.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){r.Zb()},ao.\u0275dir=r.Ib({type:ao}),ao),co=((oo=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:lo(this.skipLocationChange),replaceUrl:lo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:lo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:lo(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||oo)(r.Nb(so),r.Nb(Xr),r.Xb("tabindex"),r.Nb(r.D),r.Nb(r.l))},oo.\u0275dir=r.Ib({type:oo,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.ac("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),oo),uo=((io=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Kn&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:lo(this.skipLocationChange),replaceUrl:lo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:lo(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:lo(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||io)(r.Nb(so),r.Nb(Xr),r.Nb(w))},io.\u0275dir=r.Ib({type:io,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.ac("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(r.Vb("href",t.href,r.qc),r.Bb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),io);function lo(e){return""===e||!!e}var ho,fo,Ao,po=_createClass((function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new go,this.attachRef=null})),go=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new po,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),vo=((ho=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mo(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||ho)(r.Nb(go),r.Nb(r.O),r.Nb(r.j),r.Xb("name"),r.Nb(r.h))},ho.\u0275dir=r.Ib({type:ho,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ho),mo=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Xr?this.route:e===go?this.childContexts:this.parent.get(e,t)}}]),e}(),bo=_createClass((function e(){_classCallCheck(this,e)})),yo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(Rt.a)(null)}}]),e}(),wo=((Ao=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new $i(n,r,(function(e){return t.triggerEvent(new er(e))}),(function(e){return t.triggerEvent(new tr(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(tn((function(e){return e instanceof Kn})),Nn((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Pt.a)(r).pipe(Object(Zt.a)(),Object(Xt.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(xn.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Ao)(r.Wb(so),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(bo))},Ao.\u0275prov=r.Jb({token:Ao,factory:Ao.\u0275fac}),Ao),_o=((fo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof qn?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kn&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof ar&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ar(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){r.Zb()},fo.\u0275dir=r.Ib({type:fo}),fo),ko=new r.q("ROUTER_CONFIGURATION"),Co=new r.q("ROUTER_FORROOT_GUARD"),So=[B,{provide:Br,useClass:Dr},{provide:so,useFactory:function(e,t,n,r,i,o,a){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new so(null,e,t,n,r,i,o,br(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){var d=s();h.events.subscribe((function(e){d.logGroup("Router Event: ".concat(e.constructor.name)),d.log(e.toString()),d.log(e),d.logGroupEnd()}))}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Br,go,B,r.r,r.w,r.i,Zi,ko,[function(){return _createClass((function e(){_classCallCheck(this,e)}))}(),new r.A],[function(){return _createClass((function e(){_classCallCheck(this,e)}))}(),new r.A]]},go,{provide:Xr,useFactory:function(e){return e.routerState.root},deps:[so]},{provide:r.w,useClass:r.J},wo,yo,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(bn((function(){return Object(Rt.a)(null)})))}}]),e}(),{provide:ko,useValue:{enableTracing:!1}}];function xo(){return new r.y("Router",so)}var Eo,Io=((Eo=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[So,Oo(t),{provide:Co,useFactory:To,deps:[[so,new r.A,new r.I]]},{provide:ko,useValue:n||{}},{provide:w,useFactory:Do,deps:[l,[new r.p(x),new r.A],ko]},{provide:_o,useFactory:Bo,deps:[so,Ge,ko]},{provide:bo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yo},{provide:r.y,multi:!0,useFactory:xo},[Ro,{provide:r.d,multi:!0,useFactory:Po,deps:[Ro]},{provide:Mo,useFactory:No,deps:[Ro]},{provide:r.b,multi:!0,useExisting:Mo}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Oo(t)]}}}]),e}()).\u0275mod=r.Lb({type:Eo}),Eo.\u0275inj=r.Kb({factory:function(e){return new(e||Eo)(r.Wb(Co,8),r.Wb(so,8))}}),Eo);function Bo(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new _o(e,t,n)}function Do(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new I(e,t):new E(e,t)}function To(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Oo(e){return[{provide:r.a,multi:!0,useValue:e},{provide:Zi,multi:!0,useValue:e}]}var Fo,Ro=((Fo=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Nt.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(so),i=e.injector.get(ko);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(Rt.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(ko),n=this.injector.get(wo),i=this.injector.get(_o),o=this.injector.get(so),a=this.injector.get(r.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Fo)(r.Wb(r.r))},Fo.\u0275prov=r.Jb({token:Fo,factory:Fo.\u0275fac}),Fo);function Po(e){return e.appInitializer.bind(e)}function No(e){return e.bootstrapListener.bind(e)}var Mo=new r.q("Router Initializer"),Lo=_createClass((function e(){_classCallCheck(this,e)})),Uo=_createClass((function e(){_classCallCheck(this,e)})),jo=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),Qo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return Ho(e)}},{key:"encodeValue",value:function(e){return Ho(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Ho(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Vo=function(){function e(){var t,n,r,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new Qo,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=o.fromString,n=this.encoder,r=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),i=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),o=i[0],a=i[1],s=r.get(o)||[];s.push(a),r.set(o,s)})),r)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach((function(e){var t=o.fromObject[e];i.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function zo(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function qo(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ko(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Go=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new jo),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Vo,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:zo(this.body)||qo(this.body)||Ko(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:Ko(this.body)?null:qo(this.body)?this.body.type||null:zo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,c=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,r,o,{params:u,headers:c,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),Wo=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),Yo=_createClass((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new jo,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300})),Jo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Wo.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Yo),Xo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Wo.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Yo),Zo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return _createClass(n)}(Yo);function $o(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var ea,ta,na,ra,ia,oa,aa,sa,ca,ua,la=((ea=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Go)n=e;else{var o=void 0;o=i.headers instanceof jo?i.headers:new jo(i.headers);var a=void 0;i.params&&(a=i.params instanceof Vo?i.params:new Vo({fromObject:i.params})),n=new Go(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(Rt.a)(n).pipe(Nn((function(e){return r.handler.handle(e)})));if(e instanceof Go||"events"===i.observe)return s;var c=s.pipe(tn((function(e){return e instanceof Xo})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(Object(Xt.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return c.pipe(Object(Xt.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return c.pipe(Object(Xt.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return c.pipe(Object(Xt.a)((function(e){return e.body})))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Vo).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,$o(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,$o(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,$o(n,t))}}]),e}()).\u0275fac=function(e){return new(e||ea)(r.Wb(Lo))},ea.\u0275prov=r.Jb({token:ea,factory:ea.\u0275fac}),ea),ha=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),da=new r.q("HTTP_INTERCEPTORS"),fa=((ta=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ta)},ta.\u0275prov=r.Jb({token:ta,factory:ta.\u0275fac}),ta),Aa=/^\)\]\}',?\n/,pa=_createClass((function e(){_classCallCheck(this,e)})),ga=((ra=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||ra)},ra.\u0275prov=r.Jb({token:ra,factory:ra.\u0275fac}),ra),va=((na=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Ut.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,c=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new jo(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Jo({headers:i,status:t,statusText:n,url:o})},u=function(){var t=c(),i=t.headers,o=t.status,a=t.statusText,s=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(Aa,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,l&&(l=!1,u={error:d,text:u})}}l?(n.next(new Xo({body:u,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Zo({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=c().url,i=new Zo({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(c()),h=!0);var i={type:Wo.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(e){var t={type:Wo.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",d),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:Wo.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",u),e.reportProgress&&(r.removeEventListener("progress",d),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||na)(r.Wb(pa))},na.\u0275prov=r.Jb({token:na,factory:na.\u0275fac}),na),ma=new r.q("XSRF_COOKIE_NAME"),ba=new r.q("XSRF_HEADER_NAME"),ya=_createClass((function e(){_classCallCheck(this,e)})),wa=((ua=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ve(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||ua)(r.Wb(u),r.Wb(r.B),r.Wb(ma))},ua.\u0275prov=r.Jb({token:ua,factory:ua.\u0275fac}),ua),_a=((ca=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ca)(r.Wb(ya),r.Wb(ba))},ca.\u0275prov=r.Jb({token:ca,factory:ca.\u0275fac}),ca),ka=((sa=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(da,[]);this.chain=t.reduceRight((function(e,t){return new ha(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||sa)(r.Wb(Uo),r.Wb(r.r))},sa.\u0275prov=r.Jb({token:sa,factory:sa.\u0275fac}),sa),Ca=((aa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:_a,useClass:fa}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:ma,useValue:t.cookieName}:[],t.headerName?{provide:ba,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=r.Lb({type:aa}),aa.\u0275inj=r.Kb({factory:function(e){return new(e||aa)},providers:[_a,{provide:da,useExisting:_a,multi:!0},{provide:ya,useClass:wa},{provide:ma,useValue:"XSRF-TOKEN"},{provide:ba,useValue:"X-XSRF-TOKEN"}]}),aa),Sa=((oa=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:oa}),oa.\u0275inj=r.Kb({factory:function(e){return new(e||oa)},providers:[la,{provide:Lo,useClass:ka},va,{provide:Uo,useExisting:va},ga,{provide:pa,useExisting:ga}],imports:[[Ca.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),oa),xa=((ia=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"create",value:function(e){return this._httpClient.post(o.API_URL_GUIDE,e)}},{key:"update",value:function(e){return this._httpClient.put(o.API_URL_GUIDE,e)}},{key:"getGuideById",value:function(e){return this._httpClient.get(o.API_URL_GUIDE+"/find/"+e)}},{key:"searchByContent",value:function(e){return this._httpClient.get(o.API_URL_GUIDE+"?title="+e)}},{key:"findImageGuide",value:function(e){return this._httpClient.get("http://localhost:8080/api/v1/guide/image/find/"+e)}}]),e}()).\u0275fac=function(e){return new(e||ia)(r.Wb(la))},ia.\u0275prov=r.Jb({token:ia,factory:ia.\u0275fac,providedIn:"root"}),ia),Ea=n("XoHu");function Ia(e,t){return new Ut.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var c=Object(Pt.a)(e[s]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()}))}var Ba,Da,Ta,Oa,Fa=new r.q("NgValueAccessor"),Ra={provide:Fa,useExisting:Object(r.T)((function(){return Pa})),multi:!0},Pa=((Ba=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Ba)(r.Nb(r.D),r.Nb(r.l))},Ba.\u0275dir=r.Ib({type:Ba,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r.ac("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([Ra])]}),Ba),Na={provide:Fa,useExisting:Object(r.T)((function(){return La})),multi:!0},Ma=new r.q("CompositionEventMode"),La=((Oa=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=s()?s().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Oa)(r.Nb(r.D),r.Nb(r.l),r.Nb(Ma,8))},Oa.\u0275dir=r.Ib({type:Oa,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.ac("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[r.zb([Na])]}),Oa),Ua=((Ta=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||Ta)},Ta.\u0275dir=r.Ib({type:Ta}),Ta),ja=((Da=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ua)).\u0275fac=function(e){return Qa(e||Da)},Da.\u0275dir=r.Ib({type:Da,features:[r.xb]}),Da),Qa=r.Ub(ja);function Ha(){throw new Error("unimplemented")}var Va,za,qa=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Ha()}},{key:"asyncValidator",get:function(){return Ha()}}]),n}(Ua),Ka=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Ga=((za=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(Ka)).\u0275fac=function(e){return new(e||za)(r.Nb(qa,2))},za.\u0275dir=r.Ib({type:za,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Eb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.xb]}),za),Wa=((Va=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(Ka)).\u0275fac=function(e){return new(e||Va)(r.Nb(ja,2))},Va.\u0275dir=r.Ib({type:Va,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Eb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.xb]}),Va);function Ya(e){return null==e||0===e.length}var Ja=new r.q("NgValidators"),Xa=new r.q("NgAsyncValidators"),Za=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Ya(t.value)||Ya(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Ya(t.value)||Ya(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Ya(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Ya(e.value)?null:Za.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Ya(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Ya(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(es);return 0==t.length?null:function(e){return ns(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(es);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(Ht.a)(r))return Ia(r,null);if(Object(Ea.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Ia(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Ia(t=1===t.length&&Object(Ht.a)(t[0])?t[0]:t,null).pipe(Object(Xt.a)((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Ia(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(ts)).pipe(Object(Xt.a)(ns))}}}]),e}();function es(e){return null!=e}function ts(e){var t=Object(r.rb)(e)?Object(Pt.a)(e):e;if(!Object(r.qb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function ns(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function rs(e){return e.validate?function(t){return e.validate(t)}:e}function is(e){return e.validate?function(t){return e.validate(t)}:e}var os,as,ss,cs,us={provide:Fa,useExisting:Object(r.T)((function(){return ls})),multi:!0},ls=((os=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||os)(r.Nb(r.D),r.Nb(r.l))},os.\u0275dir=r.Ib({type:os,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.ac("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([us])]}),os),hs={provide:Fa,useExisting:Object(r.T)((function(){return fs})),multi:!0},ds=((ss=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||ss)},ss.\u0275prov=r.Jb({token:ss,factory:ss.\u0275fac}),ss),fs=((as=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(qa),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||as)(r.Nb(r.D),r.Nb(r.l),r.Nb(ds),r.Nb(r.r))},as.\u0275dir=r.Ib({type:as,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&r.ac("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([hs])]}),as),As={provide:Fa,useExisting:Object(r.T)((function(){return ps})),multi:!0},ps=((cs=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||cs)(r.Nb(r.D),r.Nb(r.l))},cs.\u0275dir=r.Ib({type:cs,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&r.ac("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([As])]}),cs),gs='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',vs='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ms='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',bs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(gs))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(vs,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(ms))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(gs))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(vs))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),ys={provide:Fa,useExisting:Object(r.T)((function(){return Cs})),multi:!0};function ws(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var _s,ks,Cs=((ks=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=ws(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}()).\u0275fac=function(e){return new(e||ks)(r.Nb(r.D),r.Nb(r.l))},ks.\u0275dir=r.Ib({type:ks,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.ac("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([ys])]}),ks),Ss=((_s=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ws(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||_s)(r.Nb(r.l),r.Nb(r.D),r.Nb(Cs,9))},_s.\u0275dir=r.Ib({type:_s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),_s),xs={provide:Fa,useExisting:Object(r.T)((function(){return Ds})),multi:!0};function Es(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Is,Bs,Ds=((Bs=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var c=n.options,u=0;u<c.length;u++){var l=c.item(u);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}()).\u0275fac=function(e){return new(e||Bs)(r.Nb(r.D),r.Nb(r.l))},Bs.\u0275dir=r.Ib({type:Bs,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.ac("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([xs])]}),Bs),Ts=((Is=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Es(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Es(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Is)(r.Nb(r.l),r.Nb(r.D),r.Nb(Ds,9))},Is.\u0275dir=r.Ib({type:Is,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Is);function Os(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Fs(e,t){e||Ms(t,"Cannot find control with"),t.valueAccessor||Ms(t,"No value accessor for form control with"),e.validator=$a.compose([e.validator,t.validator]),e.asyncValidator=$a.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Rs(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Rs(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Rs(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ps(e,t){null==e&&Ms(t,"Cannot find control with"),e.validator=$a.compose([e.validator,t.validator]),e.asyncValidator=$a.composeAsync([e.asyncValidator,t.asyncValidator])}function Ns(e){return Ms(e,"There is no FormControl instance attached to form control element with")}function Ms(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Ls(e){return null!=e?$a.compose(e.map(rs)):null}function Us(e){return null!=e?$a.composeAsync(e.map(is)):null}function js(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.sb)(t,n.currentValue)}var Qs=[Pa,ps,ls,Cs,Ds,fs];function Hs(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function Vs(e,t){if(!t)return null;Array.isArray(t)||Ms(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===La?n=t:(o=t,Qs.some((function(e){return o.constructor===e}))?(r&&Ms(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Ms(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Ms(e,"No valid value accessor for form control with"),null)}function zs(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function qs(e){var t=Gs(e)?e.validators:e;return Array.isArray(t)?Ls(t):t||null}function Ks(e,t){var n=Gs(t)?t.asyncValidators:e;return Array.isArray(n)?Us(n):n||null}function Gs(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Ws,Ys,Js,Xs,Zs,$s,ec,tc,nc=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=qs(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Ks(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=ts(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof ic?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof oc&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Gs(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),rc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,qs(i),Ks(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(nc),ic=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,qs(r),Ks(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof rc?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(nc),oc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,qs(r),Ks(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof rc?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(nc),ac={provide:ja,useExisting:Object(r.T)((function(){return cc}))},sc=Promise.resolve(null),cc=((Ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new ic({},Ls(e),Us(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;sc.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Fs(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;sc.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),zs(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;sc.then((function(){var n=t._findContainer(e.path),r=new ic({});Ps(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;sc.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;sc.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Hs(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(ja)).\u0275fac=function(e){return new(e||Ys)(r.Nb(Ja,10),r.Nb(Xa,10))},Ys.\u0275dir=r.Ib({type:Ys,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.ac("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([ac]),r.xb]}),Ys),uc=((Ws=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Os(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ls(this._validators)}},{key:"asyncValidator",get:function(){return Us(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(ja)).\u0275fac=function(e){return lc(e||Ws)},Ws.\u0275dir=r.Ib({type:Ws,features:[r.xb]}),Ws),lc=r.Ub(uc),hc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(gs,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(vs,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(ms))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(vs,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(ms))}}]),e}(),dc={provide:ja,useExisting:Object(r.T)((function(){return fc}))},fc=((Js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof cc||hc.modelGroupParentException()}}]),n}(uc)).\u0275fac=function(e){return new(e||Js)(r.Nb(ja,5),r.Nb(Ja,10),r.Nb(Xa,10))},Js.\u0275dir=r.Ib({type:Js,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([dc]),r.xb]}),Js),Ac={provide:qa,useExisting:Object(r.T)((function(){return gc}))},pc=Promise.resolve(null),gc=((Zs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new rc,s._registered=!1,s.update=new r.n,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=Vs(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),js(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Os(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ls(this._rawValidators)}},{key:"asyncValidator",get:function(){return Us(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Fs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof fc)&&this._parent instanceof uc?hc.formGroupNameException():this._parent instanceof fc||this._parent instanceof cc||hc.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||hc.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;pc.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;pc.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}}]),n}(qa)).\u0275fac=function(e){return new(e||Zs)(r.Nb(ja,9),r.Nb(Ja,10),r.Nb(Xa,10),r.Nb(Fa,10))},Zs.\u0275dir=r.Ib({type:Zs,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([Ac]),r.xb,r.yb]}),Zs),vc=((Xs=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||Xs)},Xs.\u0275dir=r.Ib({type:Xs,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Xs),mc=new r.q("NgModelWithFormControlWarning"),bc={provide:ja,useExisting:Object(r.T)((function(){return yc}))},yc=(($s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Fs(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){zs(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Ps(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Ps(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Hs(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Ns(t)})),t.valueAccessor.registerOnTouched((function(){return Ns(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Fs(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Ls(this._validators);this.form.validator=$a.compose([this.form.validator,e]);var t=Us(this._asyncValidators);this.form.asyncValidator=$a.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||bs.missingFormException()}}]),n}(ja)).\u0275fac=function(e){return new(e||$s)(r.Nb(Ja,10),r.Nb(Xa,10))},$s.\u0275dir=r.Ib({type:$s,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.ac("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([bc]),r.xb,r.yb]}),$s),wc={provide:ja,useExisting:Object(r.T)((function(){return _c}))},_c=((ec=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Sc(this._parent)&&bs.groupParentException()}}]),n}(uc)).\u0275fac=function(e){return new(e||ec)(r.Nb(ja,13),r.Nb(Ja,10),r.Nb(Xa,10))},ec.\u0275dir=r.Ib({type:ec,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([wc]),r.xb]}),ec),kc={provide:ja,useExisting:Object(r.T)((function(){return Cc}))},Cc=((tc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Os(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Ls(this._validators)}},{key:"asyncValidator",get:function(){return Us(this._asyncValidators)}},{key:"_checkParentType",value:function(){Sc(this._parent)&&bs.arrayParentException()}}]),n}(ja)).\u0275fac=function(e){return new(e||tc)(r.Nb(ja,13),r.Nb(Ja,10),r.Nb(Xa,10))},tc.\u0275dir=r.Ib({type:tc,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([kc]),r.xb]}),tc);function Sc(e){return!(e instanceof _c||e instanceof yc||e instanceof Cc)}var xc,Ec,Ic,Bc,Dc,Tc,Oc={provide:qa,useExisting:Object(r.T)((function(){return Fc}))},Fc=((xc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var c;return _classCallCheck(this,n),(c=t.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new r.n,c._ngModelWarningSent=!1,c._parent=e,c._rawValidators=i||[],c._rawAsyncValidators=o||[],c.valueAccessor=Vs(_assertThisInitialized(c),a),c}return _createClass(n,[{key:"isDisabled",set:function(e){bs.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),js(e,this.viewModel)&&(function(e,t,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(bs.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Os(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ls(this._rawValidators)}},{key:"asyncValidator",get:function(){return Us(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof _c)&&this._parent instanceof uc?bs.ngModelGroupException():this._parent instanceof _c||this._parent instanceof yc||this._parent instanceof Cc||bs.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(qa)).\u0275fac=function(e){return new(e||xc)(r.Nb(ja,13),r.Nb(Ja,10),r.Nb(Xa,10),r.Nb(Fa,10),r.Nb(mc,8))},xc.\u0275dir=r.Ib({type:xc,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Oc]),r.xb,r.yb]}),xc._ngModelWarningSentOnce=!1,xc),Rc={provide:Ja,useExisting:Object(r.T)((function(){return Pc})),multi:!0},Pc=((Tc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?$a.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}()).\u0275fac=function(e){return new(e||Tc)},Tc.\u0275dir=r.Ib({type:Tc,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.Bb("required",t.required?"":null)},inputs:{required:"required"},features:[r.zb([Rc])]}),Tc),Nc=((Dc=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:Dc}),Dc.\u0275inj=r.Kb({factory:function(e){return new(e||Dc)}}),Dc),Mc=((Bc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ic(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new rc(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new oc(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof rc||e instanceof ic||e instanceof oc?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||Bc)},Bc.\u0275prov=r.Jb({token:Bc,factory:Bc.\u0275fac}),Bc),Lc=((Ic=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:Ic}),Ic.\u0275inj=r.Kb({factory:function(e){return new(e||Ic)},providers:[ds],imports:[Nc]}),Ic),Uc=((Ec=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:mc,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=r.Lb({type:Ec}),Ec.\u0275inj=r.Kb({factory:function(e){return new(e||Ec)},providers:[Mc,ds],imports:[Nc]}),Ec),jc=_createClass((function e(){_classCallCheck(this,e)}));function Qc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Hc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Vc(e){return{type:6,styles:e,offset:null}}function zc(e,t,n){return{type:0,name:e,styles:t,options:n}}function qc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Kc(e){Promise.resolve(null).then(e)}var Gc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Kc((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Wc=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Kc((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Yc=["toast-component",""];function Jc(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",5),r.ac("click",(function(){return r.oc(n),r.cc().remove()})),r.Sb(1,"span",6),r.xc(2,"\xd7"),r.Rb(),r.Rb()}}function Xc(e,t){if(1&e&&(r.Qb(0),r.xc(1),r.Pb()),2&e){var n=r.cc(2);r.Ab(1),r.zc("[",n.duplicatesCount+1,"]")}}function Zc(e,t){if(1&e&&(r.Sb(0,"div"),r.xc(1),r.vc(2,Xc,2,1,"ng-container",4),r.Rb()),2&e){var n=r.cc();r.Cb(n.options.titleClass),r.Bb("aria-label",n.title),r.Ab(1),r.zc(" ",n.title," "),r.Ab(1),r.hc("ngIf",n.duplicatesCount)}}function $c(e,t){if(1&e&&r.Ob(0,"div",7),2&e){var n=r.cc();r.Cb(n.options.messageClass),r.hc("innerHTML",n.message,r.pc)}}function eu(e,t){if(1&e&&(r.Sb(0,"div",8),r.xc(1),r.Rb()),2&e){var n=r.cc();r.Cb(n.options.messageClass),r.Bb("aria-label",n.message),r.Ab(1),r.zc(" ",n.message," ")}}function tu(e,t){if(1&e&&(r.Sb(0,"div"),r.Ob(1,"div",9),r.Rb()),2&e){var n=r.cc();r.Ab(1),r.uc("width",n.width+"%")}}var nu,ru,iu,ou,au,su,cu,uu,lu,hu=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new Nt.a,this._onAction=new Nt.a,this.toastRef.afterClosed().subscribe((function(){s._onAction.complete(),s._onTap.complete()}))}return _createClass(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),du=new r.q("ToastConfig"),fu=function(){function e(t,n){_classCallCheck(this,e),this.component=t,this.injector=n}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),Au=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._hostDomElement=e,o._componentFactoryResolver=r,o._appRef=i,o}return _createClass(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn((function(){r._appRef.detachView(n.hostView),n.destroy()})),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),pu=((nu=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}()).\u0275fac=function(e){return new(e||nu)(r.Wb(u))},nu.\u0275prov=Object(r.Jb)({factory:function(){return new nu(Object(r.Wb)(u))},token:nu,providedIn:"root"}),nu),gu=function(){function e(t){_classCallCheck(this,e),this._portalHost=t}return _createClass(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),vu=((ru=function(){function e(t,n,r,i){_classCallCheck(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new Au(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new gu(this._createPortalHost(e))}}]),e}()).\u0275fac=function(e){return new(e||ru)(r.Wb(pu),r.Wb(r.j),r.Wb(r.g),r.Wb(u))},ru.\u0275prov=Object(r.Jb)({factory:function(){return new ru(Object(r.Wb)(pu),Object(r.Wb)(r.j),Object(r.Wb)(r.g),Object(r.Wb)(u))},token:ru,providedIn:"root"}),ru),mu=function(){function e(t){_classCallCheck(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Nt.a,this._activate=new Nt.a,this._manualClose=new Nt.a,this._resetTimeout=new Nt.a,this._countDuplicate=new Nt.a}return _createClass(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),bu=function(){function e(t,n){_classCallCheck(this,e),this._toastPackage=t,this._parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t,n){return e===hu?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),yu=((su=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return _createClass(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(e,t,n){var r,i=_createForOfIteratorHelper(this.toasts);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.message===e)return o.toastRef.onDuplicate(t,n),o}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run((function(){return i._buildNotification(e,t,n,r)})):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");var o=this.findDuplicate(t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if(t&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=t;var a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var s=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;var c=t;t&&i.enableHtml&&(c=this.sanitizer.sanitize(r.H.HTML,t));var u=new mu(s),l=new hu(this.index,i,c,n,e,u),h=new bu(l,this._injector),d=new fu(i.toastComponent,h),f=s.attach(d,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;var A={toastId:this.index,message:t||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:f};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout((function(){A.toastRef.activate()}))),this.toasts.push(A),A}}]),e}()).\u0275fac=function(e){return new(e||su)(r.Wb(du),r.Wb(vu),r.Wb(r.r),r.Wb(St),r.Wb(r.z))},su.\u0275prov=Object(r.Jb)({factory:function(){return new su(Object(r.Wb)(du),Object(r.Wb)(vu),Object(r.Wb)(r.o),Object(r.Wb)(St),Object(r.Wb)(r.z))},token:su,providedIn:"root"}),su),wu=((au=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(e){i.duplicatesCount=e}))}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout((function(){return e.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout((function(){return e.remove()}),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout((function(){return e.toastrService.remove(e.toastPackage.toastId)}),+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout((function(){return e.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.timeout=setTimeout((function(){return n.runInsideAngular(e)}),t)})):this.timeout=setTimeout((function(){return e()}),t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.intervalId=setInterval((function(){return n.runInsideAngular(e)}),t)})):this.intervalId=setInterval((function(){return e()}),t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run((function(){return e()})):e()}}]),e}()).\u0275fac=function(e){return new(e||au)(r.Nb(yu),r.Nb(hu),r.Nb(r.z))},au.\u0275cmp=r.Hb({type:au,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.ac("click",(function(){return t.tapToast()}))("mouseenter",(function(){return t.stickAround()}))("mouseleave",(function(){return t.delayedHideToast()})),2&e&&(r.Cc("@flyInOut",t.state),r.Cb(t.toastClasses),r.uc("display",t.displayStyle))},attrs:Yc,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.vc(0,Jc,3,0,"button",0),r.vc(1,Zc,3,5,"div",1),r.vc(2,$c,1,3,"div",2),r.vc(3,eu,2,4,"div",3),r.vc(4,tu,2,2,"div",4)),2&e&&(r.hc("ngIf",t.options.closeButton),r.Ab(1),r.hc("ngIf",t.title),r.Ab(1),r.hc("ngIf",t.message&&t.options.enableHtml),r.Ab(1),r.hc("ngIf",t.message&&!t.options.enableHtml),r.Ab(1),r.hc("ngIf",t.options.progressBar))},directives:[Se],encapsulation:2,data:{animation:[(iu="flyInOut",ou=[zc("inactive",Vc({opacity:0})),zc("active",Vc({opacity:1})),zc("removed",Vc({opacity:0})),qc("inactive => active",Qc("{{ easeTime }}ms {{ easing }}")),qc("active => removed",Qc("{{ easeTime }}ms {{ easing }}"))],{type:7,name:iu,definitions:ou,options:{}})]}}),au),_u=Object.assign(Object.assign({},{maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"}),{toastComponent:wu}),ku=((lu=cu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:cu,providers:[{provide:du,useValue:{default:_u,config:e}}]}}}]),e}()).\u0275mod=r.Lb({type:lu}),lu.\u0275inj=r.Kb({factory:function(e){return new(e||lu)},imports:[[Ke]]}),lu),Cu=((uu=function(){function e(){_classCallCheck(this,e),this.roles=[]}return _createClass(e,[{key:"setTokenLocal",value:function(e){localStorage.removeItem("Token_key"),localStorage.setItem("Token_key",e)}},{key:"setTokenSession",value:function(e){sessionStorage.removeItem("Token_key"),sessionStorage.setItem("Token_key",e)}},{key:"getToken",value:function(){return null!==localStorage.getItem("Token_key")?localStorage.getItem("Token_key"):sessionStorage.getItem("Token_key")}},{key:"setUserLocal",value:function(e){localStorage.removeItem("User_key"),localStorage.setItem("User_key",JSON.stringify(e))}},{key:"setUserSession",value:function(e){sessionStorage.removeItem("User_key"),sessionStorage.setItem("User_key",JSON.stringify(e))}},{key:"getUser",value:function(){return null!==localStorage.getItem("User_key")?localStorage.getItem("User_key"):sessionStorage.getItem("User_key")}},{key:"setAccountLocal",value:function(e){localStorage.removeItem("Account_key"),localStorage.setItem("Account_key",JSON.stringify(e))}},{key:"setAccountSession",value:function(e){sessionStorage.removeItem("Account_key"),sessionStorage.setItem("Account_key",JSON.stringify(e))}},{key:"getAccount",value:function(){return null!==localStorage.getItem("Account_key")?localStorage.getItem("Account_key"):sessionStorage.getItem("Account_key")}},{key:"setRoleLocal",value:function(e){localStorage.removeItem("Role_key"),localStorage.setItem("Role_key",JSON.stringify(e))}},{key:"setRoleSession",value:function(e){sessionStorage.removeItem("Role_key"),sessionStorage.setItem("Role_key",JSON.stringify(e))}},{key:"getRole",value:function(){var e=this;return null!==localStorage.getItem("Role_key")?JSON.parse(localStorage.getItem("Role_key")).forEach((function(t){e.roles.push(t.authority)})):JSON.parse(sessionStorage.getItem("Role_key")).forEach((function(t){e.roles.push(t.authority)})),this.roles}},{key:"logOut",value:function(){window.localStorage.clear(),window.sessionStorage.clear()}},{key:"rememberMe",value:function(e,t,n,r){this.logOut(),this.setAccountLocal(t),this.setRoleLocal(n),this.setUserLocal(r),this.setTokenLocal(e)}},{key:"isLogged",value:function(){return!(null==window.sessionStorage.getItem("Token_key")&&null==window.localStorage.getItem("Token_key"))}}]),e}()).\u0275fac=function(e){return new(e||uu)},uu.\u0275prov=r.Jb({token:uu,factory:uu.\u0275fac,providedIn:"root"}),uu),Su=function(e){return[e]};function xu(e,t){if(1&e&&(r.Sb(0,"div",53),r.Ob(1,"object",54),r.Sb(2,"p",55),r.xc(3,"Ch\u1ec9nh s\u1eeda"),r.Rb(),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(2),r.hc("routerLink",r.lc(1,Su,"/guide/edit/"+n.id))}}function Eu(e,t){if(1&e&&(r.Sb(0,"div"),r.Ob(1,"img",57),r.Rb()),2&e){var n=t.$implicit;r.Ab(1),r.ic("src",n.url,r.qc)}}function Iu(e,t){if(1&e&&(r.Sb(0,"div",49),r.vc(1,Eu,2,1,"div",56),r.Rb()),2&e){var n=r.cc(3);r.Ab(1),r.hc("ngForOf",n.imageGuide)}}function Bu(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",43),r.Sb(1,"h4",44),r.Sb(2,"button",45),r.Sb(3,"p"),r.xc(4),r.Rb(),r.vc(5,xu,4,3,"div",46),r.Rb(),r.Rb(),r.Sb(6,"div",47),r.Ob(7,"div",48),r.Sb(8,"div",49),r.Sb(9,"p",50),r.xc(10," Chi ti\u1ebft h\xecnh \u1ea3nh h\u01b0\u1edbng d\u1eabn xem "),r.Sb(11,"span",51),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc(2).showImage(e.id)})),r.xc(12,"T\u1ea1i \u0111\xe2y"),r.Rb(),r.Rb(),r.Rb(),r.vc(13,Iu,2,1,"div",52),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index,a=r.cc(2);r.Ab(1),r.jc("id","heading",o,""),r.Ab(1),r.Bb("data-bs-target","#collapse"+o)("aria-controls","collapse"+o),r.Ab(2),r.Ac("",o+1,". ",i.title,""),r.Ab(1),r.hc("ngIf",a.checkLogged&&"ROLE_ADMIN"==a.accountRole),r.Ab(1),r.Bb("id","collapse"+o)("aria-labelledby","heading"+o),r.Ab(1),r.hc("innerHTML",i.content,r.pc),r.Ab(6),r.hc("ngIf",i.id==a.checkNumber)}}function Du(e,t){if(1&e&&(r.Sb(0,"div",39),r.Sb(1,"div",40),r.Sb(2,"div",41),r.vc(3,Bu,14,10,"div",42),r.Rb(),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(3),r.hc("ngForOf",n.guide)}}function Tu(e,t){1&e&&(r.Sb(0,"button",58),r.Ob(1,"object",59),r.Sb(2,"span",60),r.xc(3,"Th\xeam h\u01b0\u1edbng d\u1eabn"),r.Rb(),r.Rb())}function Ou(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"h1",61),r.xc(2," Kh\xf4ng t\xecm th\u1ea5y h\u01b0\u1edbng d\u1eabn n\xe0o ph\xf9 h\u1ee3p. "),r.Rb(),r.Rb())}var Fu,Ru,Pu,Nu,Mu,Lu,Uu,ju,Qu=((Ru=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._guideService=t,this._formBuilde=n,this._toast=r,this._titleService=i,this._tokenService=o,this.title="",this.checkLogged=!1,this._titleService.setTitle("H\u01b0\u1edbng d\u1eabn")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this._tokenService.isLogged()){this.checkLogged=!0;for(var t=this._tokenService.getRole(),n=0;n<t.length;n++)"ROLE_ADMIN"===t[n]&&(this.accountRole="ROLE_ADMIN")}this._guideService.searchByContent(this.title).subscribe((function(t){e.guide=t})),this._guideService.findImageGuide(this.id).subscribe((function(t){e.imageGuide=t}))}},{key:"generateIdForAccordion",value:function(e){return"heading".concat(e)}},{key:"searchAll",value:function(){var e=this;this._guideService.searchByContent(this.title).subscribe((function(t){e.guide=t}),(function(t){e._toast.error("Kh\xf4ng t\xecm th\u1ea5y h\u01b0\u1edbng d\u1eabn n\xe0o ph\xf9 h\u1ee3p")}))}},{key:"showImage",value:function(e){var t=this;this.checkNumber=e,this._guideService.findImageGuide(e).subscribe((function(e){t.imageGuide=e,console.log(t.imageGuide[0].url)}))}}]),e}()).\u0275fac=function(e){return new(e||Ru)(r.Nb(xa),r.Nb(Mc),r.Nb(yu),r.Nb(Ft),r.Nb(Cu))},Ru.\u0275cmp=r.Hb({type:Ru,selectors:[["app-guide-list"]],decls:221,vars:4,consts:[["ng-controller","ctrlSupport",1,"detail-container"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"detail-cate-tit"],[1,"support-content"],[1,"faq-search"],[1,"col-sm-3","col-sm-offset-2","mt-1"],[1,"col-sm-4"],[1,"faq-search-input"],["data","assets/icons/search.svg","width","20","height","20",1,"material-icons","md-24"],["type","text","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1 h\u01b0\u1edbng d\u1eabn","aria-label","Search",1,"ng-pristine","ng-untouched","ng-valid","ng-empty",2,"margin-right","10px",3,"ngModel","ngModelChange"],[1,"mt-2","row","container",2,"padding-left","2%"],["class","faq-list",4,"ngIf"],["type","submit","class","btn btn-primary d-flex justify-content-center","style","margin-top: 24px",4,"ngIf"],[4,"ngIf"],[1,"detail-cate-tit","mt-5","mb-0"],["id","accordionFlushExample",1,"accordion","accordion-flush","mt-2"],[1,"accordion-item"],["id","flush-headingOne",1,"accordion-header",2,"background-color","#8CA2C2"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],[2,"color","rgb(6, 64, 119)"],["id","flush-collapseOne","aria-labelledby","flush-headingOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"mt-2"],["id","flush-headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseTwo","aria-expanded","false","aria-controls","flush-collapseTwo",1,"accordion-button","collapsed"],["id","flush-collapseTwo","aria-labelledby","flush-headingTwo","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["id","flush-headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseThree","aria-expanded","false","aria-controls","flush-collapseThree",1,"accordion-button","collapsed"],["id","flush-collapseThree","aria-labelledby","flush-headingThree","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"table","table-striped","table-bordered","table-primary"],[1,"text-center"],["id","flush-headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseFour","aria-expanded","false","aria-controls","flush-collapseFour",1,"accordion-button","collapsed"],["id","flush-collapseFour","aria-labelledby","flush-headingFour","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["id","flush-heading1",1,"accordion-header",2,"background-color","#8CA2C2"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapse1","aria-expanded","false","aria-controls","flush-collapse1",1,"accordion-button","collapsed"],["id","flush-collapse1","aria-labelledby","flush-heading1","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"faq-list"],[1,"row","toggle","toggle-primary","toggle-qa"],["id","accordionExample",1,"accordion","mt-3"],["class","accordion-item mt-3",4,"ngFor","ngForOf"],[1,"accordion-item","mt-3"],[1,"accordion-header",3,"id"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],["class","ms-auto edit-button d-flex",4,"ngIf"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show","ms-2"],[1,"accordion-body","panel-body","d-flex",2,"width","100%","height","100%",3,"innerHTML"],[1,"d-flex"],[2,"margin-left","20px","margin-right","20px"],[1,"text",2,"color","#0C63E4",3,"click"],["class","d-flex",4,"ngIf"],[1,"ms-auto","edit-button","d-flex"],["data","assets/icons/edit.svg","width","18px","height","18px",1,"material-icons","md-32"],[2,"margin-right","100px","margin-left","8px",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"ms-2",2,"width","275px","height","183px",3,"src"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-top","24px"],["data","assets/icons/create.svg","width","20","height","20",1,"me-2","slide"],["routerLink","/guide/add"],[2,"color","#FE6432","text-align","center"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"h1"),r.xc(6,"Trung T\xe2m H\u01b0\u1edbng D\u1eabn V\xe0 H\u1ed7 Tr\u1ee3 Kh\xe1ch H\xe0ng"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(7,"div",5),r.Sb(8,"div",6),r.Sb(9,"div",2),r.Sb(10,"div",7),r.Sb(11,"span"),r.xc(12,"H\xe3y cho ch\xfang t\xf4i bi\u1ebft v\u1ea5n \u0111\u1ec1 c\u1ee7a b\u1ea1n"),r.Rb(),r.Rb(),r.Sb(13,"div",8),r.Sb(14,"div",9),r.Ob(15,"object",10),r.Sb(16,"input",11),r.ac("ngModelChange",(function(e){return t.title=e}))("ngModelChange",(function(){return t.searchAll()})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"div",12),r.vc(18,Du,4,1,"div",13),r.vc(19,Tu,4,0,"button",14),r.vc(20,Ou,3,0,"div",15),r.Sb(21,"div",16),r.Sb(22,"h1"),r.xc(23,"Nh\u1eefng c\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p"),r.Rb(),r.Rb(),r.Sb(24,"div",17),r.Sb(25,"div",18),r.Sb(26,"h2",19),r.Sb(27,"button",20),r.Sb(28,"span",21),r.xc(29,"T\xf4i l\xe0m th\u1ebf n\xe0o \u0111\u1ec3 c\xf3 th\u1ec3 \u0111\u0103ng s\u1ea3n ph\u1ea9m \u0111\u1ea5u gi\xe1 v\xe0 c\xf3 gi\u1edbi h\u1ea1n s\u1ed1 ti\u1ec1n \u0111\u1ea5u gi\xe1 kh\xf4ng ?"),r.Rb(),r.Rb(),r.Rb(),r.Sb(30,"div",22),r.Sb(31,"div",23),r.Sb(32,"div"),r.Sb(33,"strong"),r.xc(34,"B\u01b0\u1edbc 1: "),r.Rb(),r.xc(35," B\u1ea1n c\u1ea7n l\u1eadp t\xe0i kho\u1ea3n x\xe1c nh\u1eadn nh\u1eefng y\xeau c\u1ea7u c\u1ee7a s\xe0n \u0111\u1ea5u gi\xe1 ch\xfang t\xf4i. Ch\xfa \xfd c\u1ea7n th\u1eadn t\xe0i kho\u1ea3n thanh to\xe1n v\xe0 \u0111\u1ecba ch\u1ec9 c\u1ee7a b\u1ea1n \u0111ang sinh s\u1ed1ng "),r.Rb(),r.Sb(36,"div"),r.Sb(37,"strong"),r.xc(38,"B\u01b0\u1edbc 2: "),r.Rb(),r.xc(39," B\u1ea1n v\xe0o m\u1ee5c \u0111\u1ea5u gi\xe1, v\xe0 \u0111\u0103ng nh\u1eefng th\xf4ng tin c\u1ea7n thi\u1ebft c\u1ee7a s\u1ea3n ph\u1ea9m b\u1ea1n mu\u1ed1n \u0111\u1ea5u gi\xe1 c\u0169ng nh\u01b0 l\xe0 s\u1ed1 ti\u1ec1n \u0111\u1ea5u gi\xe1, b\u01b0\u1edbc gi\xe1, h\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m. Sau khi ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 th\xf4ng tin \u0111\u1ec3 \u0111\u1ea5u gi\xe1, b\u1ea5m \u0111\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m v\xe0 \u0111\u1ee3i ch\xfang t\xf4i ph\xea duy\u1ec7t s\u1ea3n ph\u1ea9m \u0111\xf3 l\xe0 h\u1ee3p l\u1ec7 hay kh\xf4ng trong th\u1eddi gian s\u1edbm nh\u1ea5t. "),r.Rb(),r.Sb(40,"div",24),r.xc(41," S\u1ea3n ph\u1ea9m \u0111\u1ea5u gi\xe1 s\u1ebd "),r.Sb(42,"strong"),r.xc(43,"c\xf3 gi\u1edbi h\u1ea1n ti\u1ec1n \u0111\u1ea5u gi\xe1 d\u1ef1a v\xe0o ch\u1ea5t l\u01b0\u1ee3ng s\u1ea3n ph\u1ea9m"),r.Rb(),r.xc(44,", v\xe0 \u0111i\u1ec1u c\u1ea7n l\u01b0u \xfd l\xe0 ti\u1ec1n m\u1ed7i phi\xean \u0111\u1ea5u gi\xe1 b\u1eaft bu\u1ed9c ph\u1ea3i l\u1edbn h\u01a1n b\u01b0\u1edbc gi\xe1 \u0111\xe3 \u0111\u1ec1 ra "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(45,"div",18),r.Sb(46,"h2",25),r.Sb(47,"button",26),r.Sb(48,"span",21),r.xc(49,"Nh\u1eefng h\xecnh th\u1ee9c thanh to\xe1n c\u1ee7a trang web g\u1ed3m nh\u1eefng h\xecnh th\u1ee9c n\xe0o ?"),r.Rb(),r.Rb(),r.Rb(),r.Sb(50,"div",27),r.Sb(51,"div",23),r.xc(52," H\xecnh th\u1ee9c thanh to\xe1n c\u1ee7a s\xe0n \u0111\u1ea5u gi\xe1 ch\xfang t\xf4i bao g\u1ed3m nh\u1eefng h\xecnh th\u1ee9c nh\u01b0 "),r.Sb(53,"strong"),r.xc(54,"paypal"),r.Rb(),r.xc(55," v\xe0 "),r.Sb(56,"strong"),r.xc(57,"Ship Code ( t\u1ee9c giao h\xe0ng t\u1eadn n\u01a1i r\u1ed3i m\u1edbi thanh to\xe1n )."),r.Rb(),r.xc(58," Khi \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng qu\xfd kh\xe1ch ph\u1ea3i thanh to\xe1n cho ch\xfang t\xf4i trong v\xf2ng 1 ng\xe0y k\u1ec3 t\u1eeb ng\xe0y \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng "),r.Rb(),r.Rb(),r.Rb(),r.Sb(59,"div",18),r.Sb(60,"h2",28),r.Sb(61,"button",29),r.xc(62," Cho t\xf4i h\u1ecfi nh\u1eefng \u01b0u \u0111\xe3i c\u1ee7a t\u1eebng b\u1eadc x\u1ebfp h\u1ea1ng th\xe0nh vi\xean ? "),r.Rb(),r.Rb(),r.Sb(63,"div",30),r.Sb(64,"div",23),r.Sb(65,"table",31),r.Sb(66,"thead"),r.Sb(67,"tr",32),r.Sb(68,"th"),r.xc(69,"\u0110i\u1ec3m c\u1ed1ng hi\u1ebfn"),r.Rb(),r.Sb(70,"th"),r.xc(71,"X\u1ebfp h\u1ea1ng"),r.Rb(),r.Sb(72,"th"),r.xc(73,"\u01afu \u0111\xe3i"),r.Rb(),r.Sb(74,"th"),r.xc(75,"Ch\u1ebf t\xe0i"),r.Rb(),r.Rb(),r.Rb(),r.Sb(76,"tbody"),r.Sb(77,"tr",32),r.Sb(78,"td"),r.xc(79,"> 2000"),r.Rb(),r.Sb(80,"td"),r.xc(81,"Kim c\u01b0\u01a1ng"),r.Rb(),r.Sb(82,"td"),r.xc(83," \u0110\u01b0\u1ee3c gi\u1ea3m 5% t\u1ed5ng gi\xe1 tr\u1ecb s\u1ea3n ph\u1ea9m v\xe0 h\xe0ng th\xe1ng \u0111\u01b0\u1ee3c nh\u1eadn m\u1ed9t s\u1ea3n ph\u1ea9m b\u1ea5t k\u1ef3 mi\u1ec5n ph\xed "),r.Rb(),r.Ob(84,"td"),r.Rb(),r.Sb(85,"tr",32),r.Sb(86,"td"),r.xc(87,"1000 -> 2000"),r.Rb(),r.Sb(88,"td"),r.xc(89,"B\u1ea1ch kim"),r.Rb(),r.Sb(90,"td"),r.xc(91,"\u0110\u01b0\u1ee3c gi\u1ea3m 5% t\u1ed5ng gi\xe1 tr\u1ecb s\u1ea3n ph\u1ea9m"),r.Rb(),r.Ob(92,"td"),r.Rb(),r.Sb(93,"tr",32),r.Sb(94,"td"),r.xc(95,"500 -> 1000"),r.Rb(),r.Sb(96,"td"),r.xc(97,"V\xe0ng"),r.Rb(),r.Sb(98,"td"),r.xc(99,"\u0110\u01b0\u1ee3c gi\u1ea3m 2% t\u1ed5ng gi\xe1 tr\u1ecb s\u1ea3n ph\u1ea9m"),r.Rb(),r.Ob(100,"td"),r.Rb(),r.Sb(101,"tr",32),r.Sb(102,"td"),r.xc(103,"200 -> 500"),r.Rb(),r.Sb(104,"td"),r.xc(105,"B\u1ea1c"),r.Rb(),r.Sb(106,"td"),r.xc(107," \u0110\u01b0\u1ee3c gi\u1ea3m 2% t\u1ed5ng gi\xe1 tr\u1ecb s\u1ea3n ph\u1ea9m cho 10 s\u1ea3n ph\u1ea9m \u0111\u1ea5u gi\xe1 s\u1eafp t\u1edbi "),r.Rb(),r.Ob(108,"td"),r.Rb(),r.Sb(109,"tr",32),r.Sb(110,"td"),r.xc(111,"0 -> 200"),r.Rb(),r.Sb(112,"td"),r.xc(113,"\u0110\u1ed3ng"),r.Rb(),r.Ob(114,"td"),r.Ob(115,"td"),r.Rb(),r.Sb(116,"tr",32),r.Sb(117,"td"),r.xc(118,"Nh\u1ecf h\u01a1n 0"),r.Rb(),r.Sb(119,"td"),r.xc(120,"B\u1ecb nh\u1eafc nh\u1edf"),r.Rb(),r.Ob(121,"td"),r.Ob(122,"td"),r.Rb(),r.Sb(123,"tr",32),r.Sb(124,"td"),r.xc(125,"-30 -> 0"),r.Rb(),r.Ob(126,"td"),r.Ob(127,"td"),r.Sb(128,"td"),r.xc(129,"Kh\xf3a t\xe0i kho\u1ea3n 1 tu\u1ea7n"),r.Rb(),r.Rb(),r.Sb(130,"tr",32),r.Sb(131,"td"),r.xc(132,"-50 -> -30"),r.Rb(),r.Ob(133,"td"),r.Ob(134,"td"),r.Sb(135,"td"),r.xc(136,"Kh\xf3a t\xe0i kho\u1ea3n 1 th\xe1ng"),r.Rb(),r.Rb(),r.Sb(137,"tr",32),r.Sb(138,"td"),r.xc(139,"< -50"),r.Rb(),r.Ob(140,"td"),r.Ob(141,"td"),r.Sb(142,"td"),r.xc(143,"X\xf3a t\xe0i kho\u1ea3n"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(144,"div",18),r.Sb(145,"h2",33),r.Sb(146,"button",34),r.xc(147," Cho t\xf4i h\u1ecfi c\xe1ch t\xednh \u0111i\u1ec3m c\u1ed1ng hi\u1ebfn ? "),r.Rb(),r.Rb(),r.Sb(148,"div",35),r.Sb(149,"div",23),r.Sb(150,"table",31),r.Sb(151,"thead"),r.Sb(152,"tr"),r.Sb(153,"th"),r.xc(154,"H\xe0nh vi c\u1ee7a th\xe0nh vi\xean"),r.Rb(),r.Sb(155,"th"),r.xc(156,"\u0110i\u1ec3m c\u1ed9ng"),r.Rb(),r.Sb(157,"th"),r.xc(158,"\u0110i\u1ec3m tr\u1eeb"),r.Rb(),r.Rb(),r.Rb(),r.Sb(159,"tbody"),r.Sb(160,"tr"),r.Sb(161,"td"),r.xc(162,"Tham gia 5 phi\xean \u0111\u1ea5u gi\xe1"),r.Rb(),r.Sb(163,"td"),r.xc(164,"2"),r.Rb(),r.Ob(165,"td"),r.Rb(),r.Sb(166,"tr"),r.Sb(167,"td"),r.xc(168,"\u0110\u1ea5u gi\xe1 th\xe0nh c\xf4ng m\u1ed9t s\u1ea3n ph\u1ea9m v\xe0 mua n\xf3"),r.Rb(),r.Sb(169,"td"),r.xc(170,"10"),r.Rb(),r.Ob(171,"td"),r.Rb(),r.Sb(172,"tr"),r.Sb(173,"td"),r.xc(174," Y\xeau c\u1ea7u \u0111\u0103ng \u0111\u1ea5u gi\xe1 1 s\u1ea3n ph\u1ea9m v\xe0 \u0111\u01b0\u1ee3c ban qu\u1ea3n tr\u1ecb ch\u1ea5p nh\u1eadn "),r.Rb(),r.Sb(175,"td"),r.xc(176,"5"),r.Rb(),r.Ob(177,"td"),r.Rb(),r.Sb(178,"tr"),r.Sb(179,"td"),r.xc(180," Kh\xf4ng tham gia \u0111\u1ea5u gi\xe1 hay y\xeau c\u1ea7u \u0111\u0103ng s\u1ea3n ph\u1ea9m \u0111\u1ea5u gi\xe1 trong v\xf2ng 6 th\xe1ng "),r.Rb(),r.Ob(181,"td"),r.Sb(182,"td"),r.xc(183,"50"),r.Rb(),r.Rb(),r.Sb(184,"tr"),r.Sb(185,"td"),r.xc(186,"Kh\xf4ng \u0111\u0103ng nh\u1eadp trong v\xf2ng 6 th\xe1ng"),r.Rb(),r.Ob(187,"td"),r.Sb(188,"td"),r.xc(189,"50"),r.Rb(),r.Rb(),r.Sb(190,"tr"),r.Sb(191,"td"),r.xc(192," C\xf3 s\u1ea3n ph\u1ea9m \u0111\u01b0\u1ee3c \u0111\u0103ng \u0111\u1ea5u gi\xe1, nh\u01b0ng kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m \u0111\xfang nh\u01b0 m\xf4 t\u1ea3 ho\u1eb7c c\xf3 s\u1ea3n ph\u1ea9m, nh\u01b0ng \u0111\xe3 b\u1ecb h\u01b0 h\u1ecfng ho\u1eb7c ch\u1ea5t l\u01b0\u1ee3ng k\xe9m. "),r.Rb(),r.Ob(193,"td"),r.Sb(194,"td"),r.xc(195,"10"),r.Rb(),r.Rb(),r.Sb(196,"tr"),r.Sb(197,"td"),r.xc(198,"Y\xeau c\u1ea7u \u0111\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m kh\xf4ng l\xe0nh m\u1ea1nh"),r.Rb(),r.Ob(199,"td"),r.Sb(200,"td"),r.xc(201,"10"),r.Rb(),r.Rb(),r.Sb(202,"tr"),r.Sb(203,"td"),r.xc(204," Th\u1eafng \u0111\u1ea5u gi\xe1 nh\u01b0ng kh\xf4ng li\xean h\u1ec7 v\u1edbi ng\u01b0\u1eddi \u0111\u0103ng \u0111\u1ec3 mua s\u1ea3n ph\u1ea9m "),r.Rb(),r.Ob(205,"td"),r.Sb(206,"td"),r.xc(207,"10"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(208,"div",16),r.Sb(209,"h1"),r.xc(210,"Ch\xednh s\xe1ch v\xe0 quy t\u1eafc c\u1ee7a s\xe0n \u0111\u1ea5u gi\xe1 C0622G1"),r.Rb(),r.Rb(),r.Sb(211,"div",17),r.Sb(212,"div",18),r.Sb(213,"h2",36),r.Sb(214,"button",37),r.Sb(215,"span",21),r.xc(216,"\u0110i\u1ec1u kho\u1ea3n d\u1ecbch v\u1ee5."),r.Rb(),r.Rb(),r.Rb(),r.Sb(217,"div",38),r.Sb(218,"div",23),r.Sb(219,"div"),r.xc(220," D\u1ecbch v\u1ee5 bao g\u1ed3m d\u1ecbch v\u1ee5 s\xe0n giao d\u1ecbch tr\u1ef1c tuy\u1ebfn k\u1ebft n\u1ed1i ng\u01b0\u1eddi ti\xeau d\xf9ng v\u1edbi nhau nh\u1eb1m mang \u0111\u1ebfn c\u01a1 h\u1ed9i kinh doanh gi\u1eefa ng\u01b0\u1eddi mua (\u201cNg\u01b0\u1eddi \u0111\u0103ng s\u1ea3n ph\u1ea9m\u201d) v\xe0 ng\u01b0\u1eddi b\xe1n (\u201cNg\u01b0\u1eddi \u0111\u1ea5u gi\xe1\u201d) (g\u1ecdi chung l\xe0 \u201cb\u1ea1n\u201d, \u201cNg\u01b0\u1eddi s\u1eed d\u1ee5ng\u201d ho\u1eb7c \u201cc\xe1c b\xean\u201d). H\u1ee3p \u0111\u1ed3ng mua b\xe1n th\u1eadt s\u1ef1 l\xe0 tr\u1ef1c ti\u1ebfp gi\u1eefa ng\u01b0\u1eddi mua v\xe0 ng\u01b0\u1eddi b\xe1n. C\xe1c b\xean li\xean quan \u0111\u1ebfn giao d\u1ecbch \u0111\xf3 s\u1ebd ch\u1ecbu tr\xe1ch nhi\u1ec7m \u0111\u1ed1i v\u1edbi h\u1ee3p \u0111\u1ed3ng mua b\xe1n gi\u1eefa h\u1ecd, vi\u1ec7c \u0111\u0103ng b\xe1n h\xe0ng h\xf3a, b\u1ea3o h\xe0nh s\u1ea3n ph\u1ea9m v\xe0 t\u01b0\u01a1ng t\u1ef1. S\xe0n \u0111\u1ea5u gi\xe1 kh\xf4ng can thi\u1ec7p v\xe0o giao d\u1ecbch gi\u1eefa c\xe1c ng\u01b0\u1eddi s\u1eed d\u1ee5ng. S\xe0n \u0111\u1ea5u gi\xe1 c\xf3 th\u1ec3 ho\u1eb7c kh\xf4ng s\xe0ng l\u1ecdc tr\u01b0\u1edbc ng\u01b0\u1eddi s\u1eed d\u1ee5ng ho\u1eb7c n\u1ed9i dung ho\u1eb7c th\xf4ng tin cung c\u1ea5p b\u1edfi ng\u01b0\u1eddi s\u1eed d\u1ee5ng. S\xe0n \u0111\u1ea5u gi\xe1 b\u1ea3o l\u01b0u quy\u1ec1n lo\u1ea1i b\u1ecf b\u1ea5t c\u1ee9 n\u1ed9i dung ho\u1eb7c th\xf4ng tin n\xe0o tr\xean trang s\xe0n \u0111\u1ea5u gi\xe1 theo m\u1ee5c 6.4 b\xean d\u01b0\u1edbi. S\xe0n \u0111\u1ea5u gi\xe1 kh\xf4ng b\u1ea3o \u0111\u1ea3m cho vi\u1ec7c c\xe1c ng\u01b0\u1eddi s\u1eed d\u1ee5ng s\u1ebd th\u1ef1c t\u1ebf ho\xe0n th\xe0nh giao d\u1ecbch. L\u01b0u \xfd, s\xe0n \u0111\u1ea5u gi\xe1 s\u1ebd l\xe0 b\xean trung gian qu\u1ea3n l\xfd t\xecnh tr\u1ea1ng h\xe0ng h\xf3a v\xe0 mua b\xe1n gi\u1eefa ng\u01b0\u1eddi mua v\xe0 ng\u01b0\u1eddi b\xe1n v\xe0 qu\u1ea3n l\xfd v\u1ea5n \u0111\u1ec1 chuy\u1ec3n ph\xe1t, tr\u1eeb khi ng\u01b0\u1eddi mua v\xe0 ng\u01b0\u1eddi b\xe1n th\u1ec3 hi\u1ec7n mong mu\u1ed1n t\u1ef1 giao d\u1ecbch v\u1edbi nhau m\u1ed9t c\xe1ch r\xf5 r\xe0ng. "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(16),r.hc("ngModel",t.title),r.Ab(2),r.hc("ngIf",null!=t.guide),r.Ab(1),r.hc("ngIf",t.checkLogged&&"ROLE_ADMIN"==t.accountRole),r.Ab(1),r.hc("ngIf",null==t.guide))},directives:[La,Ga,gc,Se,ke,co],styles:['*[_ngcontent-%COMP%]{text-decoration:none}.detail-container[_ngcontent-%COMP%]{display:block;width:100%;background:#fff;padding:60px 0}.detail-cate-tit[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:block;width:100%;font-family:Roboto Condensed,sans-serif;font-size:30px;font-weight:700;color:#141ed2;margin:0 0 30px;padding:0}h1[_ngcontent-%COMP%]{line-height:1.1;-webkit-margin-before:.67em;margin-block-start:.67em;-webkit-margin-after:.67em;margin-block-end:.67em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;background:#fff}.faq-search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;border-radius:2px;border:1px solid #d4d4d4}input[_ngcontent-%COMP%]{font-family:inherit;font-size:inherit;line-height:inherit;margin:0;font:inherit;color:inherit;text-rendering:auto;word-spacing:normal;text-indent:0;text-shadow:none;text-align:start;-webkit-appearance:auto;-moz-appearance:auto;appearance:auto;cursor:text;background-color:field}.material-icons.md-24[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{letter-spacing:normal;text-transform:none}.material-icons.md-24[_ngcontent-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;display:inline-block;line-height:1;word-wrap:normal;white-space:nowrap;direction:ltr;text-rendering:optimizeLegibility;font-feature-settings:"liga";font-size:24px;margin-right:0}.faq-search-input[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;opacity:.54}.faq-search-input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;position:relative}.toggle-qa[_ngcontent-%COMP%]{padding-top:30px!important}.row[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}.panel-default[_ngcontent-%COMP%]{border-color:#ddd}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.05)}.pd-card-info-heading[_ngcontent-%COMP%]{border-radius:2px;overflow:hidden;color:#545454}.pd-card-info-tit[_ngcontent-%COMP%]{display:block;width:100%;border-radius:2px;padding-right:15px;padding-left:5px;background:#ebebeb;margin:0}h4[_ngcontent-%COMP%]{font-size:18px;font-family:Roboto Condensed,sans-serif;font-weight:700;padding:0;color:inherit}.pd-card-info-tit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;padding:12px 0;width:100%;min-height:24px;line-height:24px;transition:all .15s ease;border-radius:2px;font-size:16px;font-weight:700;color:#545454;text-transform:uppercase;text-decoration:none!important}a[_ngcontent-%COMP%]{background-color:transparent}.collapse.in[_ngcontent-%COMP%]{display:block}p[_ngcontent-%COMP%]{width:760px!important;margin-bottom:0!important}.edit-button[_ngcontent-%COMP%]{width:18px;height:18px;display:block;justify-content:center;align-items:center;cursor:pointer;position:absolute;top:50%;right:36px;transform:translate(-50%,-50%)}.accordion-button[_ngcontent-%COMP%]{position:relative}.edit-button[_ngcontent-%COMP%]:hover{background-color:#d1e7f8;border-radius:50%}.text[_ngcontent-%COMP%]{cursor:pointer}.panel-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:275px;height:183px}']}),Ru),Hu=((Fu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getAuctionByProductId",value:function(e){return this._httpClient.get(o.API_URL_AUCTION+"/auction-detail/"+e)}},{key:"getAuctionPageByProductId",value:function(e,t){return this._httpClient.get(o.API_URL_AUCTION+"/auction-product/"+e+"?page="+t)}},{key:"getAuctionDetailByProductId",value:function(e){return this._httpClient.get(o.API_URL_AUCTION+"/auction/"+e)}},{key:"addNewAuction",value:function(e){return this._httpClient.post(o.API_URL_AUCTION,e)}},{key:"findAll",value:function(e,t){return this._httpClient.get(o.api_url_product_auction_history+e+"?page="+t)}}]),e}()).\u0275fac=function(e){return new(e||Fu)(r.Wb(la))},Fu.\u0275prov=r.Jb({token:Fu,factory:Fu.\u0275fac,providedIn:"root"}),Fu),Vu=function(){var e=function(){function e(t){_classCallCheck(this,e),this.versions=t}return _createClass(e,[{key:"supportedVersions",value:function(){return this.versions.join(",")}},{key:"protocolVersions",value:function(){return this.versions.map((function(e){return"v".concat(e.replace(".",""),".stomp")}))}}]),e}();return e.V1_0="1.0",e.V1_1="1.1",e.V1_2="1.2",e.default=new e([e.V1_0,e.V1_1,e.V1_2]),e}(),zu=function(){function e(t){_classCallCheck(this,e);var n=t.command,r=t.headers,i=t.body,o=t.binaryBody,a=t.escapeHeaderValues,s=t.skipContentLengthHeader;this.command=n,this.headers=Object.assign({},r||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}return _createClass(e,[{key:"body",get:function(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body}},{key:"binaryBody",get:function(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}},{key:"toString",value:function(){return this.serializeCmdAndHeaders()}},{key:"serialize",value:function(){var t=this.serializeCmdAndHeaders();return this.isBinaryBody?e.toUnit8Array(t,this._binaryBody).buffer:t+this._body+"\0"}},{key:"serializeCmdAndHeaders",value:function(){var t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(var n=0,r=Object.keys(this.headers||{});n<r.length;n++){var i=r[n],o=this.headers[i];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?"".concat(i,":").concat(e.hdrValueEscape("".concat(o))):"".concat(i,":").concat(o))}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push("content-length:".concat(this.bodyLength())),t.join("\n")+"\n\n"}},{key:"isBodyEmpty",value:function(){return 0===this.bodyLength()}},{key:"bodyLength",value:function(){var e=this.binaryBody;return e?e.length:0}}],[{key:"fromRawFrame",value:function(t,n){var r,i={},o=function(e){return e.replace(/^\s+|\s+$/g,"")},a=_createForOfIteratorHelper(t.headers.reverse());try{for(a.s();!(r=a.n()).done;){var s=r.value;s.indexOf(":");var c=o(s[0]),u=o(s[1]);n&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(u=e.hdrValueUnEscape(u)),i[c]=u}}catch(l){a.e(l)}finally{a.f()}return new e({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:n})}},{key:"sizeOfUTF8",value:function(e){return e?(new TextEncoder).encode(e).length:0}},{key:"toUnit8Array",value:function(e,t){var n=(new TextEncoder).encode(e),r=new Uint8Array([0]),i=new Uint8Array(n.length+t.length+r.length);return i.set(n),i.set(t,n.length),i.set(r,n.length+t.length),i}},{key:"marshall",value:function(t){return new e(t).serialize()}},{key:"hdrValueEscape",value:function(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}},{key:"hdrValueUnEscape",value:function(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}]),e}(),qu=function(){function e(t,n){_classCallCheck(this,e),this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}return _createClass(e,[{key:"parseChunk",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=e instanceof ArrayBuffer?new Uint8Array(e):this._encoder.encode(e),n&&0!==t[t.length-1]){var r=new Uint8Array(t.length+1);r.set(t,0),r[t.length]=0,t=r}for(var i=0;i<t.length;i++)this._onByte(t[i])}},{key:"_collectFrame",value:function(e){0!==e&&13!==e&&(10!==e?(this._onByte=this._collectCommand,this._reinjectByte(e)):this.onIncomingPing())}},{key:"_collectCommand",value:function(e){if(13!==e)return 10===e?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}},{key:"_collectHeaders",value:function(e){13!==e&&(10!==e?(this._onByte=this._collectHeaderKey,this._reinjectByte(e)):this._setupCollectBody())}},{key:"_reinjectByte",value:function(e){this._onByte(e)}},{key:"_collectHeaderKey",value:function(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}},{key:"_collectHeaderValue",value:function(e){if(13!==e)return 10===e?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}},{key:"_setupCollectBody",value:function(){var e=this._results.headers.filter((function(e){return"content-length"===e[0]}))[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}},{key:"_collectBodyNullTerminated",value:function(e){0!==e?this._consumeByte(e):this._retrievedBody()}},{key:"_collectBodyFixedSize",value:function(e){0!=this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}},{key:"_retrievedBody",value:function(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}},{key:"_consumeByte",value:function(e){this._token.push(e)}},{key:"_consumeTokenAsUTF8",value:function(){return this._decoder.decode(this._consumeTokenAsRaw())}},{key:"_consumeTokenAsRaw",value:function(){var e=new Uint8Array(this._token);return this._token=[],e}},{key:"_initState",value:function(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}]),e}(),Ku=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e}({}),Gu=function(e){return e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE",e}({}),Wu=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this._client=t,this._webSocket=n,this._serverFrameHandlers={CONNECTED:function(e){r.debug("connected to server ".concat(e.headers.server)),r._connected=!0,r._connectedVersion=e.headers.version,r._connectedVersion===Vu.V1_2&&(r._escapeHeaderValues=!0),r._setupHeartbeat(e.headers),r.onConnect(e)},MESSAGE:function(e){var t=e.headers.subscription,n=r._subscriptions[t]||r.onUnhandledMessage,i=e,o=r,a=r._connectedVersion===Vu.V1_2?i.headers.ack:i.headers["message-id"];i.ack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.ack(a,t,e)},i.nack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.nack(a,t,e)},n(i)},RECEIPT:function(e){var t=r._receiptWatchers[e.headers["receipt-id"]];t?(t(e),delete r._receiptWatchers[e.headers["receipt-id"]]):r.onUnhandledReceipt(e)},ERROR:function(e){r.onStompError(e)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(i)}return _createClass(e,[{key:"connectedVersion",get:function(){return this._connectedVersion}},{key:"connected",get:function(){return this._connected}},{key:"configure",value:function(e){Object.assign(this,e)}},{key:"start",value:function(){var e=this,t=new qu((function(t){var n=zu.fromRawFrame(t,e._escapeHeaderValues);e.logRawCommunication||e.debug("<<< ".concat(n)),(e._serverFrameHandlers[n.command]||e.onUnhandledFrame)(n)}),(function(){e.debug("<<< PONG")}));this._webSocket.onmessage=function(n){if(e.debug("Received data"),e._lastServerActivityTS=Date.now(),e.logRawCommunication){var r=n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;e.debug("<<< ".concat(r))}t.parseChunk(n.data,e.appendMissingNULLonIncoming)},this._onclose=function(t){e.debug("Connection closed to ".concat(e._client.brokerURL)),e._cleanUp(),e.onWebSocketClose(t)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=function(t){e.onWebSocketError(t)},this._webSocket.onopen=function(){var t=Object.assign({},e.connectHeaders);e.debug("Web Socket Opened..."),t["accept-version"]=e.stompVersions.supportedVersions(),t["heart-beat"]=[e.heartbeatOutgoing,e.heartbeatIncoming].join(","),e._transmit({command:"CONNECT",headers:t})}}},{key:"_setupHeartbeat",value:function(e){var t=this;if((e.version===Vu.V1_1||e.version===Vu.V1_2)&&e["heart-beat"]){var n=_slicedToArray(e["heart-beat"].split(",").map((function(e){return parseInt(e,10)})),2),r=n[0],i=n[1];if(0!==this.heartbeatOutgoing&&0!==i){var o=Math.max(this.heartbeatOutgoing,i);this.debug("send PING every ".concat(o,"ms")),this._pinger=setInterval((function(){t._webSocket.readyState===Ku.OPEN&&(t._webSocket.send("\n"),t.debug(">>> PING"))}),o)}if(0!==this.heartbeatIncoming&&0!==r){var a=Math.max(this.heartbeatIncoming,r);this.debug("check PONG every ".concat(a,"ms")),this._ponger=setInterval((function(){var e=Date.now()-t._lastServerActivityTS;e>2*a&&(t.debug("did not receive server activity for the last ".concat(e,"ms")),t._closeOrDiscardWebsocket())}),a)}}}},{key:"_closeOrDiscardWebsocket",value:function(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}},{key:"forceDisconnect",value:function(){this._webSocket&&(this._webSocket.readyState!==Ku.CONNECTING&&this._webSocket.readyState!==Ku.OPEN||this._closeOrDiscardWebsocket())}},{key:"_closeWebsocket",value:function(){this._webSocket.onmessage=function(){},this._webSocket.close()}},{key:"_discardWebsocket",value:function(){var e,t=this;this._webSocket.terminate||(e=function(e){return t.debug(e)},this._webSocket.terminate=function(){var t=function(){};this.onerror=t,this.onmessage=t,this.onopen=t;var n=new Date,r=this.onclose;this.onclose=function(t){var r=(new Date).getTime()-n.getTime();e("Discarded socket closed after ".concat(r,"ms, with code/reason: ").concat(t.code,"/").concat(t.reason))},this.close(),r.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}),this._webSocket.terminate()}},{key:"_transmit",value:function(e){var t=e.command,n=e.headers,r=e.body,i=e.binaryBody,o=e.skipContentLengthHeader,a=new zu({command:t,headers:n,body:r,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o}),s=a.serialize();if(this.debug(this.logRawCommunication?">>> ".concat(s):">>> ".concat(a)),this.forceBinaryWSFrames&&"string"==typeof s&&(s=(new TextEncoder).encode(s)),"string"==typeof s&&this.splitLargeFrames)for(var c=s;c.length>0;){var u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug("chunk sent = ".concat(u.length,", remaining = ").concat(c.length))}else this._webSocket.send(s)}},{key:"dispose",value:function(){var e=this;if(this.connected)try{var t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-".concat(this._counter++)),this.watchForReceipt(t.receipt,(function(t){e._closeWebsocket(),e._cleanUp(),e.onDisconnect(t)})),this._transmit({command:"DISCONNECT",headers:t})}catch(n){this.debug("Ignoring error during disconnect ".concat(n))}else this._webSocket.readyState!==Ku.CONNECTING&&this._webSocket.readyState!==Ku.OPEN||this._closeWebsocket()}},{key:"_cleanUp",value:function(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}},{key:"publish",value:function(e){var t=e.destination,n=e.headers,r=e.body,i=e.binaryBody,o=e.skipContentLengthHeader,a=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:a,body:r,binaryBody:i,skipContentLengthHeader:o})}},{key:"watchForReceipt",value:function(e,t){this._receiptWatchers[e]=t}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(n=Object.assign({},n)).id||(n.id="sub-".concat(this._counter++)),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});var r=this;return{id:n.id,unsubscribe:function(e){return r.unsubscribe(n.id,e)}}}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}},{key:"begin",value:function(e){var t=e||"tx-".concat(this._counter++);this._transmit({command:"BEGIN",headers:{transaction:t}});var n=this;return{id:t,commit:function(){n.commit(t)},abort:function(){n.abort(t)}}}},{key:"commit",value:function(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}},{key:"abort",value:function(e){this._transmit({command:"ABORT",headers:{transaction:e}})}},{key:"ack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign({},n),this._connectedVersion===Vu.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}},{key:"nack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=Object.assign({},n),this._connectedVersion===Vu.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}]),e}(),Yu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Ju=function(){function e(t){_classCallCheck(this,e),this.client=t}return _createClass(e,[{key:"outgoing",get:function(){return this.client.heartbeatOutgoing},set:function(e){this.client.heartbeatOutgoing=e}},{key:"incoming",get:function(){return this.client.heartbeatIncoming},set:function(e){this.client.heartbeatIncoming=e}}]),e}(),Xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).maxWebSocketFrameSize=16384,r._heartbeatInfo=new Ju(_assertThisInitialized(r)),r.reconnect_delay=0,r.webSocketFactory=e,r.debug=function(){var e;(e=console).log.apply(e,arguments)},r}return _createClass(n,[{key:"_parseConnect",value:function(){for(var e,t,n,r={},i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(o.length<2)throw new Error("Connect requires at least 2 arguments");if("function"==typeof o[1])r=o[0],t=o[1],n=o[2],e=o[3];else switch(o.length){case 6:r.login=o[0],r.passcode=o[1],t=o[2],n=o[3],e=o[4],r.host=o[5];break;default:r.login=o[0],r.passcode=o[1],t=o[2],n=o[3],e=o[4]}return[r,t,n,e]}},{key:"connect",value:function(){var e=this._parseConnect.apply(this,arguments);e[0]&&(this.connectHeaders=e[0]),e[1]&&(this.onConnect=e[1]),e[2]&&(this.onStompError=e[2]),e[3]&&(this.onWebSocketClose=e[3]),_get(_getPrototypeOf(n.prototype),"activate",this).call(this)}},{key:"disconnect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(this.onDisconnect=e),this.disconnectHeaders=t,_get(_getPrototypeOf(n.prototype),"deactivate",this).call(this)}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!1===(t=Object.assign({},t))["content-length"];r&&delete t["content-length"],this.publish({destination:e,headers:t,body:n,skipContentLengthHeader:r})}},{key:"reconnect_delay",set:function(e){this.reconnectDelay=e}},{key:"ws",get:function(){return this.webSocket}},{key:"version",get:function(){return this.connectedVersion}},{key:"onreceive",get:function(){return this.onUnhandledMessage},set:function(e){this.onUnhandledMessage=e}},{key:"onreceipt",get:function(){return this.onUnhandledReceipt},set:function(e){this.onUnhandledReceipt=e}},{key:"heartbeat",get:function(){return this._heartbeatInfo},set:function(e){this.heartbeatIncoming=e.incoming,this.heartbeatOutgoing=e.outgoing}}]),n}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.stompVersions=Vu.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=Gu.INACTIVE;var n=function(){};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}return _createClass(e,[{key:"webSocket",get:function(){return this._stompHandler?this._stompHandler._webSocket:void 0}},{key:"disconnectHeaders",get:function(){return this._disconnectHeaders},set:function(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}},{key:"connected",get:function(){return!!this._stompHandler&&this._stompHandler.connected}},{key:"connectedVersion",get:function(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}},{key:"active",get:function(){return this.state===Gu.ACTIVE}},{key:"_changeState",value:function(e){this.state=e,this.onChangeState(e)}},{key:"configure",value:function(e){Object.assign(this,e)}},{key:"activate",value:function(){if(this.state===Gu.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(Gu.ACTIVE),this._connect())}},{key:"_connect",value:function(){return Yu(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connected){e.next=2;break}return e.abrupt("return",void this.debug("STOMP: already connected, nothing to do"));case 2:return e.next=4,this.beforeConnect();case 4:if(this.active){e.next=6;break}return e.abrupt("return",void this.debug("Client has been marked inactive, will not attempt to connect"));case 6:this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout((function(){n.connected||(n.debug("Connection not established in ".concat(n.connectionTimeout,"ms, closing socket")),n.forceDisconnect())}),this.connectionTimeout)),this.debug("Opening Web Socket..."),t=this._createWebSocket(),this._stompHandler=new Wu(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:function(e){if(n._connectionWatcher&&(clearTimeout(n._connectionWatcher),n._connectionWatcher=void 0),!n.active)return n.debug("STOMP got connected while deactivate was issued, will disconnect now"),void n._disposeStompHandler();n.onConnect(e)},onDisconnect:function(e){n.onDisconnect(e)},onStompError:function(e){n.onStompError(e)},onWebSocketClose:function(e){n._stompHandler=void 0,n.state===Gu.DEACTIVATING&&(n._resolveSocketClose(),n._resolveSocketClose=void 0,n._changeState(Gu.INACTIVE)),n.onWebSocketClose(e),n.active&&n._schedule_reconnect()},onWebSocketError:function(e){n.onWebSocketError(e)},onUnhandledMessage:function(e){n.onUnhandledMessage(e)},onUnhandledReceipt:function(e){n.onUnhandledReceipt(e)},onUnhandledFrame:function(e){n.onUnhandledFrame(e)}}),this._stompHandler.start();case 9:case"end":return e.stop()}}),e,this)})))}},{key:"_createWebSocket",value:function(){var e;return(e=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())).binaryType="arraybuffer",e}},{key:"_schedule_reconnect",value:function(){var e=this;this.reconnectDelay>0&&(this.debug("STOMP: scheduling reconnection in ".concat(this.reconnectDelay,"ms")),this._reconnector=setTimeout((function(){e._connect()}),this.reconnectDelay))}},{key:"deactivate",value:function(){return Yu(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,n=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.state!==Gu.ACTIVE?(this.debug("Already ".concat(Gu[this.state],", ignoring call to deactivate")),Promise.resolve()):(this._changeState(Gu.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==Ku.CLOSED?(t=new Promise((function(e,t){n._resolveSocketClose=e})),this._disposeStompHandler(),t):(this._changeState(Gu.INACTIVE),Promise.resolve())));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"forceDisconnect",value:function(){this._stompHandler&&this._stompHandler.forceDisconnect()}},{key:"_disposeStompHandler",value:function(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}},{key:"publish",value:function(e){this._stompHandler.publish(e)}},{key:"watchForReceipt",value:function(e,t){this._stompHandler.watchForReceipt(e,t)}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._stompHandler.subscribe(e,t,n)}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._stompHandler.unsubscribe(e,t)}},{key:"begin",value:function(e){return this._stompHandler.begin(e)}},{key:"commit",value:function(e){this._stompHandler.commit(e)}},{key:"abort",value:function(e){this._stompHandler.abort(e)}},{key:"ack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._stompHandler.ack(e,t,n)}},{key:"nack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._stompHandler.nack(e,t,n)}}]),e}()),Zu=((Pu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"client",value:function(t,n){return null==n&&(n=Vu.default.protocolVersions()),new Xu((function(){return new(e.WebSocketClass||WebSocket)(t,n)}))}},{key:"over",value:function(e){var t;return"function"==typeof e?t=e:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),t=function(){return e}),new Xu(t)}}]),e}()).WebSocketClass=null,Pu),$u=n("zH15"),el=n("z6cu"),tl=((Lu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new jo({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},this.API_URL="http://localhost:8080/"}return _createClass(e,[{key:"errorHandler",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),Object(el.a)(t)}},{key:"save",value:function(e){return this._httpClient.post(o.productUrl+"/create",JSON.stringify(e),this.httpOptions).pipe(bn(this.errorHandler))}},{key:"findAll",value:function(e,t){return this._httpClient.get(this.API_URL+"list?page="+(e-1)+"&size="+t)}},{key:"addProduct",value:function(e){return this._httpClient.post("http://localhost:8080/api/v1/products/create",e)}},{key:"getAllAndSearch",value:function(e){return this._httpClient.post(o.productSearchUrl,e)}},{key:"getPageProductRoleAdmin",value:function(e,t){return this._httpClient.post(o.api_url_products+"?page="+t+"&sort=reviewStatusId,startTime",e)}},{key:"getAllAndSearchToPage",value:function(e,t){return this._httpClient.post(o.productSearchUrl+"?page="+t,e)}},{key:"findByListId",value:function(e){return this._httpClient.post(o.api_url_search_by_list_id,e)}},{key:"delete",value:function(e){return this._httpClient.post(o.api_url_remove_products,e)}},{key:"findByDtoId",value:function(e){return this._httpClient.get(o.api_url_find_by_id+e)}},{key:"review",value:function(e){return this._httpClient.get(o.api_url_review_product+e)}},{key:"doNotReview",value:function(e){return this._httpClient.get(o.api_url_do_not_review_product+e)}},{key:"writeReason",value:function(e){return this._httpClient.post(o.api_url_write_reason,e)}},{key:"getReason",value:function(e){return this._httpClient.get(o.api_url_get_reason+e)}},{key:"findById",value:function(e){return this._httpClient.get(o.productUrl+"/"+e)}},{key:"update",value:function(e,t){return this._httpClient.put(o.productUrl+"/update/"+t,e)}},{key:"getProductDetailId",value:function(){return console.log("Lay ra id",this.productDetailId),this.productDetailId}},{key:"setProductDetailId",value:function(e){console.log("tao gia tri cho id",e),this.productDetailId=e}},{key:"getImgsByProductId",value:function(e){return this._httpClient.get(o.api_url_get_imgs+e)}},{key:"findAllProduct",value:function(e,t){return this._httpClient.get(o.api_url_product_history_list+e+"?page="+t)}},{key:"cancelProduct",value:function(e){return console.log("okokoko"),this._httpClient.get(o.api_url_product_auction_history+e)}}]),e}()).\u0275fac=function(e){return new(e||Lu)(r.Wb(la))},Lu.\u0275prov=r.Jb({token:Lu,factory:Lu.\u0275fac,providedIn:"root"}),Lu),nl=((Mu=function(){function e(t,n){_classCallCheck(this,e),this._auctionService=t,this._productService=n,this.auctionSubject=new Nt.a,this.listAuctionSubject=new Nt.a,this.auctionDetailSubject=new Nt.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"connect",value:function(){var e=this,t=new $u("http://localhost:8080/ws");this.stompClient=Zu.over(t),this.stompClient.connect({},(function(){e.stompClient.subscribe("/topic/auction",(function(t){var n=JSON.parse(t.body);e.auctionSubject.next(n),e.getAllAuction(e.productIdDetail)}))}))}},{key:"getAllAuction",value:function(e){var t=this;this._auctionService.getAuctionPageByProductId(null!=e?e:this.productIdDetail,0).subscribe((function(e){t.listAuctionSubject.next(e),t.auctionPageByProductId=e,t.getAuctionDetail(t.productIdDetail)}))}},{key:"getAuctionDetail",value:function(e){var t=this;this._auctionService.getAuctionDetailByProductId(null!=e?e:this.productIdDetail).subscribe((function(e){t.auctionDetailSubject.next(e),t.auctionDetail=e,t.currentHighestAuctionId=e.userId}))}},{key:"disconnect",value:function(){null!=this.stompClient&&this.stompClient.disconnect()}},{key:"createAuctionUsingWebsocket",value:function(e){this.stompClient.send("/app/auctions",{},JSON.stringify(e))}},{key:"setProductIdDetail",value:function(e){this.productIdDetail=e}}]),e}()).\u0275fac=function(e){return new(e||Mu)(r.Wb(Hu),r.Wb(tl))},Mu.\u0275prov=r.Jb({token:Mu,factory:Mu.\u0275fac,providedIn:"root"}),Mu),rl=((Nu=function(){function e(t){_classCallCheck(this,e),this._toastrService=t}return _createClass(e,[{key:"showSuccessNotification",value:function(e){this._toastrService.success(e,"Th\xf4ng B\xe1o",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"showErrorNotification",value:function(e){this._toastrService.error(e,"L\u1ed7i",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"showWarningNotification",value:function(e){this._toastrService.warning(e,"C\u1ea3nh b\xe1o",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}}]),e}()).\u0275fac=function(e){return new(e||Nu)(r.Wb(yu))},Nu.\u0275prov=r.Jb({token:Nu,factory:Nu.\u0275fac,providedIn:"root"}),Nu),il=function(e){return e[e.FINANCIAL=0]="FINANCIAL",e[e.NATURAL=1]="NATURAL",e}({}),ol=new r.q("currency.mask.config"),al=function(){function e(t){_classCallCheck(this,e),this.htmlInputElement=t}return _createClass(e,[{key:"setCursorAt",value:function(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){var t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}},{key:"updateValueAndCursor",value:function(e,t,n){this.rawValue=e,this.setCursorAt(n-=t-e.length)}},{key:"canInputMoreNumbers",get:function(){var e=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd,r=!(t==n||!this.htmlInputElement.value.substring(t,n).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),i="0"==this.htmlInputElement.value.substring(0,1);return e||r||i}},{key:"inputSelection",get:function(){var e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()==this.htmlInputElement){var r=this.htmlInputElement.value.length,i=this.htmlInputElement.value.replace(/\r\n/g,"\n"),o=this.htmlInputElement.createTextRange();o.moveToBookmark(n.getBookmark());var a=this.htmlInputElement.createTextRange();a.collapse(!1),o.compareEndPoints("StartToEnd",a)>-1?e=t=r:(e=-o.moveStart("character",-r),e+=i.slice(0,e).split("\n").length-1,o.compareEndPoints("EndToEnd",a)>-1?t=r:(t=-o.moveEnd("character",-r),t+=i.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}},{key:"rawValue",get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}},{key:"storedRawValue",get:function(){return this._storedRawValue||""}}]),e}(),sl=function(){function e(t,n){_classCallCheck(this,e),this.htmlInputElement=t,this.options=n,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new al(t),this.initialize()}return _createClass(e,[{key:"initialize",value:function(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}},{key:"addNumber",value:function(e){var t=this.options,n=t.decimal,r=t.precision,i=t.inputMode,o=String.fromCharCode(e),a=o===this.options.decimal;if(this.rawValue){var s=this.inputSelection.selectionStart,c=this.inputSelection.selectionEnd,u=this.rawValue.substring(0,s),l=this.rawValue.substring(c,this.rawValue.length),h=-1!==u.indexOf(n);i===il.NATURAL&&h&&s===c&&(l=l.substring(1));var d=u+o+l,f=s+1;if(!a&&o!==this.options.thousands||o!==l[0]){if(!this.SINGLE_DIGIT_REGEX.test(o))return}else f++;this.rawValue=d,this.updateFieldValue(f)}else{this.rawValue=this.applyMask(!1,o);var A=void 0;i===il.NATURAL&&r>0&&(A=this.rawValue.indexOf(n),a&&A++),this.updateFieldValue(A)}}},{key:"applyMask",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.options,i=r.allowNegative,o=r.decimal,a=r.precision,s=r.prefix,c=r.suffix,u=r.thousands,l=r.min,h=r.max,d=r.inputMode,f=(t=e?new Number(t).toFixed(a):t).replace(this.ONLY_NUMBERS_REGEX,"");if(!f&&t!==o)return"";d!==il.NATURAL||e||n||(f=(t=this.padOrTrimPrecision(t)).replace(this.ONLY_NUMBERS_REGEX,""));var A=f.slice(0,f.length-a).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==A&&(A="0");var p=parseInt(A);A=A.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,u),u&&A.startsWith(u)&&(A=A.substring(1));var g=A,v=f.slice(f.length-a),m=parseInt(v)||0,b=t.indexOf("-")>-1;h=this.isNullOrUndefined(h)||this.isNullOrUndefined(l)?h:Math.max(h,l);var y=p+m/Number("1".padEnd(a+1,"0"));return y=b?-y:y,!this.isNullOrUndefined(h)&&y>h?this.applyMask(!0,h+""):!this.isNullOrUndefined(l)&&y<l?this.applyMask(!0,l+""):(a>0&&(g+="0"==g&&v.length<a?o+"0".repeat(a-1)+v:o+v),(b&&i?"-":"")+s+g+c)}},{key:"padOrTrimPrecision",value:function(e){var t=this.options,n=t.decimal,r=t.precision,i=e.lastIndexOf(n);-1===i&&(i=e.length,e+=n);var o=e.substring(i).replace(this.ONLY_NUMBERS_REGEX,""),a=o.length;if(a<r)for(var s=a;s<r;s++)o+="0";else a>r&&(o=o.substring(0,o.length+r-a));return e.substring(0,i)+n+o}},{key:"clearMask",value:function(e){if(this.isNullable()&&""===e)return null;var t=(e||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((function(e,n){var r=new RegExp(n,"g");t=t.replace(r,e)})),parseFloat(t)}},{key:"changeToNegative",value:function(){this.options.allowNegative&&"-"!=this.rawValue.charAt(0)&&(this.rawValue=this.applyMask(!1,"-"+(this.rawValue?this.rawValue:"0")))}},{key:"changeToPositive",value:function(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}},{key:"removeNumber",value:function(e){var t=this.options,n=t.decimal,r=t.thousands,i=t.prefix,o=t.suffix,a=t.inputMode;if(this.isNullable()&&0==this.value)this.rawValue=null;else{var s=this.inputSelection.selectionEnd,c=this.inputSelection.selectionStart,u=this.rawValue.length-o.length;if(s=Math.min(u,Math.max(s,i.length)),(c=Math.min(u,Math.max(c,i.length)))!==s||this.inputSelection.selectionStart===this.inputSelection.selectionEnd){var l=this.rawValue.indexOf(n);-1===l&&(l=this.rawValue.length);var h=0,d="",f=l<s,A=l+1===s;if(s===c)if(8==e){if(c<=i.length)return;c--,this.rawValue.substr(c,1).match(/\d/)||c--,a===il.NATURAL&&f&&(h=-1,A&&this.value<10&&this.value>-10&&(d+="0"))}else if(46==e||63272==e){if(c===u)return;s++,this.rawValue.substr(c,1).match(/\d/)||(c++,s++)}if(a===il.NATURAL&&c>l)for(var p=s-c,g=0;g<p;g++)d+="0";var v=this.rawValue.length-s;this.rawValue=this.rawValue.substring(0,c)+d+this.rawValue.substring(s),this.rawValue.substr(i.length,1)===r&&(this.rawValue=this.rawValue.substring(0,i.length)+this.rawValue.substring(i.length+1),v=Math.min(v,this.rawValue.length-i.length)),this.updateFieldValue(this.rawValue.length-v+h,!0)}else this.updateFieldValue(c)}}},{key:"updateFieldValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.applyMask(!1,this.rawValue||"",t);e=null==e?this.rawValue.length:e,e=Math.max(this.options.prefix.length,Math.min(e,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(n,this.rawValue.length,e)}},{key:"updateOptions",value:function(e){var t=this.value;this.options=e,this.value=t}},{key:"prefixLength",value:function(){return this.options.prefix.length}},{key:"suffixLength",value:function(){return this.options.suffix.length}},{key:"isNullable",value:function(){return this.options.nullable}},{key:"canInputMoreNumbers",get:function(){return this.inputManager.canInputMoreNumbers}},{key:"inputSelection",get:function(){return this.inputManager.inputSelection}},{key:"rawValue",get:function(){return this.inputManager.rawValue},set:function(e){this.inputManager.rawValue=e}},{key:"storedRawValue",get:function(){return this.inputManager.storedRawValue}},{key:"value",get:function(){return this.clearMask(this.rawValue)},set:function(e){this.rawValue=this.applyMask(!0,""+e)}},{key:"isNullOrUndefined",value:function(e){return null==e}}]),e}(),cl=function(){function e(t,n){_classCallCheck(this,e),this.inputService=new sl(t,n)}return _createClass(e,[{key:"handleCut",value:function(e){var t=this;setTimeout((function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)}),0)}},{key:"handleInput",value:function(e){var t=this,n=this.inputService.inputSelection.selectionStart,r=this.inputService.rawValue.charCodeAt(n-1),i=this.inputService.rawValue.length,o=this.inputService.storedRawValue.length;if(1!=Math.abs(i-o))return this.inputService.updateFieldValue(n),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,i<o&&this.timer((function(){t.inputService.updateFieldValue(n+1),t.inputService.removeNumber(8),t.onModelChange(t.inputService.value)}),0),i>o&&(this.inputService.updateFieldValue(n-1),this.handleKeypressImpl(r))}},{key:"handleKeydown",value:function(e){var t=e.which||e.charCode||e.keyCode;8!=t&&46!=t&&63272!=t||(e.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)))}},{key:"clearValue",value:function(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}},{key:"handleKeypress",value:function(e){var t=e.which||e.charCode||e.keyCode;e.preventDefault(),97===t&&e.ctrlKey||this.handleKeypressImpl(t)}},{key:"handleKeypressImpl",value:function(e){switch(e){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(e))}this.onModelChange(this.inputService.value)}},{key:"handlePaste",value:function(e){var t=this;setTimeout((function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)}),1)}},{key:"updateOptions",value:function(e){this.inputService.updateOptions(e)}},{key:"getOnModelChange",value:function(){return this.onModelChange}},{key:"setOnModelChange",value:function(e){this.onModelChange=e}},{key:"getOnModelTouched",value:function(){return this.onModelTouched}},{key:"setOnModelTouched",value:function(e){this.onModelTouched=e}},{key:"setValue",value:function(e){this.inputService.value=e}},{key:"timer",value:function(e,t){setTimeout(e,t)}}]),e}(),ul={provide:Fa,useExisting:Object(r.T)((function(){return ll})),multi:!0},ll=((ju=function(){function e(t,n,r){_classCallCheck(this,e),this.currencyMaskConfig=t,this.elementRef=n,this.keyValueDiffers=r,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:il.FINANCIAL},t&&(this.optionsTemplate=t),this.keyValueDiffer=r.find({}).create()}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}},{key:"ngDoCheck",value:function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}},{key:"ngOnInit",value:function(){this.inputHandler=new cl(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}},{key:"handleBlur",value:function(e){this.inputHandler.getOnModelTouched().apply(e)}},{key:"handleCut",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(e)}},{key:"handleInput",value:function(e){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(e)}},{key:"handleKeydown",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(e)}},{key:"handleKeypress",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(e)}},{key:"handlePaste",value:function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(e)}},{key:"handleDrop",value:function(e){this.isChromeAndroid()||e.preventDefault()}},{key:"isChromeAndroid",value:function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}},{key:"isReadOnly",value:function(){return this.elementRef.nativeElement.hasAttribute("readonly")}},{key:"registerOnChange",value:function(e){this.inputHandler.setOnModelChange(e)}},{key:"registerOnTouched",value:function(e){this.inputHandler.setOnModelTouched(e)}},{key:"setDisabledState",value:function(e){this.elementRef.nativeElement.disabled=e}},{key:"writeValue",value:function(e){this.inputHandler.setValue(e)}}]),e}()).\u0275fac=function(e){return new(e||ju)(r.Nb(ol,8),r.Nb(r.l),r.Nb(r.t))},ju.\u0275dir=r.Ib({type:ju,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&r.ac("blur",(function(e){return t.handleBlur(e)}))("cut",(function(e){return t.handleCut(e)}))("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)}))("keypress",(function(e){return t.handleKeypress(e)}))("paste",(function(e){return t.handlePaste(e)}))("drop",(function(e){return t.handleDrop(e)}))},inputs:{options:"options"},features:[r.zb([ul])]}),ju),hl=((Uu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:ol,useValue:t}]}}}]),e}()).\u0275mod=r.Lb({type:Uu}),Uu.\u0275inj=r.Kb({factory:function(e){return new(e||Uu)},imports:[[Ke,Lc]]}),Uu);function dl(e,t){1&e&&(r.Sb(0,"p",6),r.xc(1,"Ch\u01b0a c\xf3 \u0111\u1ea5u gi\xe1 n\xe0o"),r.Rb())}function fl(e,t){if(1&e&&(r.Sb(0,"tr",12),r.Sb(1,"td"),r.xc(2),r.Rb(),r.Sb(3,"td",13),r.xc(4),r.dc(5,"currency"),r.Rb(),r.Sb(6,"td",10),r.xc(7),r.Rb(),r.Sb(8,"td"),r.xc(9),r.dc(10,"titlecase"),r.Rb(),r.Rb()),2&e){var n=t.$implicit,i=t.index,o=r.cc(2);r.hc("ngClass",0==i&&0==o.auctionPageByProductId.pageable.pageNumber?"my__active":""),r.Ab(2),r.yc(i+1),r.Ab(2),r.yc(r.ec(5,5,n.currentPrice)),r.Ab(3),r.yc(n.auctionTime),r.Ab(2),r.yc(r.ec(10,7,n.fullName))}}function Al(e,t){if(1&e&&(r.Sb(0,"table",7),r.Sb(1,"thead",8),r.Sb(2,"tr",9),r.Sb(3,"th"),r.xc(4,"STT"),r.Rb(),r.Sb(5,"th"),r.xc(6,"S\u1ed1 Ti\u1ec1n"),r.Rb(),r.Sb(7,"th",10),r.xc(8,"Th\u1eddi Gian"),r.Rb(),r.Sb(9,"th"),r.xc(10,"Th\xe0nh Vi\xean"),r.Rb(),r.Rb(),r.Rb(),r.Sb(11,"tbody"),r.vc(12,fl,11,9,"tr",11),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(12),r.hc("ngForOf",n.auctionPageByProductId.content)}}function pl(e,t){if(1&e){var n=r.Tb();r.Sb(0,"ul",14),r.Sb(1,"li",15),r.Sb(2,"span",16),r.ac("click",(function(){return r.oc(n),r.cc().goToPage(0)})),r.xc(3," Trang \u0110\u1ea7u "),r.Rb(),r.Rb(),r.Sb(4,"li",15),r.Sb(5,"span",16),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.goToPage(e.auctionPageByProductId.number-1)})),r.xc(6," Tr\u01b0\u1edbc "),r.Rb(),r.Rb(),r.Sb(7,"li",17),r.Sb(8,"span"),r.xc(9),r.Rb(),r.Rb(),r.Sb(10,"li",15),r.Sb(11,"span",16),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.goToPage(e.auctionPageByProductId.number+1)})),r.xc(12," Sau "),r.Rb(),r.Rb(),r.Sb(13,"li",15),r.Sb(14,"span",16),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.goToPage(e.auctionPageByProductId.totalPages-1)})),r.xc(15," Trang Cu\u1ed1i "),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(1),r.hc("ngClass",0==i.auctionPageByProductId.number?"disabled":""),r.Ab(3),r.hc("ngClass",0==i.auctionPageByProductId.number?"disabled":""),r.Ab(5),r.Ac("",i.auctionPageByProductId.pageable.pageNumber+1,"/",i.auctionPageByProductId.totalPages,""),r.Ab(1),r.hc("ngClass",i.auctionPageByProductId.number+1==i.auctionPageByProductId.totalPages?"disabled":""),r.Ab(3),r.hc("ngClass",i.auctionPageByProductId.number+1==i.auctionPageByProductId.totalPages?"disabled":"")}}var gl,vl,ml=((vl=function(){function e(t,n,r){_classCallCheck(this,e),this._auctionService=t,this._acRoute=n,this._socketService=r,this.idProductDetail=this._acRoute.snapshot.params.productId,this._socketService.setProductIdDetail(this.idProductDetail),this._socketService.getAllAuction(this.idProductDetail)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._socketService.connect(),this._socketService.listAuctionSubject.subscribe((function(t){e.auctionPageByProductId=t}))}},{key:"goToPage",value:function(e){var t=this;this._auctionService.getAuctionPageByProductId(this.idProductDetail,e).subscribe((function(e){t.auctionPageByProductId=e}))}}]),e}()).\u0275fac=function(e){return new(e||vl)(r.Nb(Hu),r.Nb(Xr),r.Nb(nl))},vl.\u0275cmp=r.Hb({type:vl,selectors:[["app-infomation-auction-buyer"]],decls:11,vars:3,consts:[["hidden","","id","auto-reload",3,"click"],["pageAuctionIsEmpty",""],["class","table","style","font-size: 14px",4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-center"],["aria-label","Page navigation example",1,"d-flex","justify-content-end"],["class","my__pagination",4,"ngIf"],[1,"nothing-auction"],[1,"table",2,"font-size","14px"],[1,"table-light"],[1,"border-top"],[1,"text-center"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,""],[1,"my__pagination"],[1,"my__page-item","pointer",3,"ngClass"],[1,"page-link",3,"click"],[1,"my__page-item","pointer"]],template:function(e,t){if(1&e&&(r.Sb(0,"button",0),r.ac("click",(function(){return t.ngOnInit()})),r.xc(1,"Auto Reload"),r.Rb(),r.Sb(2,"div"),r.Sb(3,"div"),r.Sb(4,"div"),r.vc(5,dl,2,0,"ng-template",null,1,r.wc),r.vc(7,Al,13,1,"table",2),r.Sb(8,"div",3),r.Sb(9,"nav",4),r.vc(10,pl,16,6,"ul",5),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){var n=r.nc(6);r.Ab(7),r.hc("ngIf",(null==t.auctionPageByProductId?null:t.auctionPageByProductId.content.length)>0)("ngIfElse",n),r.Ab(3),r.hc("ngIf",t.auctionPageByProductId)}},directives:[Se,ke,we],pipes:[Me,Re],styles:[".my__pagination[_ngcontent-%COMP%]{display:flex;margin:0!important;padding:0!important}.my__page-item[_ngcontent-%COMP%]{margin:0 4px;border-radius:4px;display:block;padding:2px 16px;list-style:none;border:1px solid #e74c3c}.my__page-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgba(231,76,60,.96);cursor:pointer;transition:background-color,.5s}.my__active[_ngcontent-%COMP%]{background-color:rgba(231,76,60,.81);color:#f5f5f5}.my__page-link[_ngcontent-%COMP%]{font-weight:700}.page-link[_ngcontent-%COMP%]{font-size:16px}.my__page-item.actived[_ngcontent-%COMP%]{color:#fff;background-color:#e74c3c}.product__price[_ngcontent-%COMP%]:first-letter{right:200px;margin-right:8px}.currency__title[_ngcontent-%COMP%]:first-letter{color:transparent}.nothing-auction[_ngcontent-%COMP%]{text-align:center;font-family:roboto,sans-serif;font-weight:500;color:#e74c3c;font-size:28px;margin-top:16px;width:100%;text-transform:capitalize}"]}),vl),bl=((gl=function(){function e(t,n){_classCallCheck(this,e),this._auctionService=t,this._acRoute=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.idProductDetail=this._acRoute.snapshot.params.productId,this._auctionService.getAuctionByProductId(this.idProductDetail).subscribe((function(t){e.productAuction=t,console.log("product",e.productAuction)}))}}]),e}()).\u0275fac=function(e){return new(e||gl)(r.Nb(Hu),r.Nb(Xr))},gl.\u0275cmp=r.Hb({type:gl,selectors:[["app-infomation-auction-seller"]],decls:19,vars:4,consts:[[1,"table",2,"font-size","14px"],["scope","col"],[1,"table-group-divider"]],template:function(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"div"),r.Sb(2,"table",0),r.Sb(3,"thead"),r.Sb(4,"tr"),r.Sb(5,"th",1),r.xc(6,"T\xean T\xe0i Kho\u1ea3n"),r.Rb(),r.Sb(7,"th",1),r.xc(8,"\u0110i\u1ec3m C\u1ed1ng Hi\u1ebfn"),r.Rb(),r.Sb(9,"th",1),r.xc(10,"X\u1ebfp H\u1ea1ng"),r.Rb(),r.Rb(),r.Rb(),r.Sb(11,"tbody",2),r.Sb(12,"tr"),r.Sb(13,"td"),r.xc(14),r.Rb(),r.Sb(15,"td"),r.xc(16),r.Rb(),r.Sb(17,"td"),r.xc(18),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(14),r.Ac("",null==t.productAuction?null:t.productAuction.user.firstName," ",null==t.productAuction?null:t.productAuction.user.lastName,""),r.Ab(2),r.yc(t.productAuction.user.pointDedication),r.Ab(2),r.yc(t.productAuction.user.userType.name))},styles:[""]}),gl);function yl(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",55),r.Sb(1,"img",56),r.ac("click",(function(e){r.oc(n);var i=t.index;return r.cc(2).changeImage(e,1,i)})),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index;r.Db("image__item img-selected",1,""),r.ic("value",o),r.Ab(1),r.ic("src",i.url,r.qc)}}function wl(e,t){if(1&e&&(r.Sb(0,"div",57),r.Sb(1,"p",58),r.xc(2,"Gi\xe1 \u0110\u1ea5u"),r.Rb(),r.Sb(3,"h5",59),r.xc(4),r.dc(5,"currency"),r.Rb(),r.Rb()),2&e){var n=r.cc(2);r.Ab(4),r.yc(r.ec(5,1,n.productDetail.maxCurrentPrice))}}function _l(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"p",72),r.xc(2,"Gi\xe1 \u0110\u1ea5u Ph\u1ea3i L\u1edbn H\u01a1n Gi\xe1 Hi\u1ec7n T\u1ea1i M\u1ed9t B\u01b0\u1edbc Gi\xe1"),r.Rb(),r.Rb())}function kl(e,t){1&e&&(r.Sb(0,"div",73),r.Sb(1,"p",72),r.xc(2,"Gi\xe1 B\u1ea1n \u0110\u01b0a Ra Hi\u1ec7n T\u1ea1i L\xe0 Cao Nh\u1ea5t"),r.Rb(),r.Rb())}var Cl=function(){return{prefix:"",suffix:" \u0111",precision:2,thousands:".",decimal:",",max:"999999999999",min:"0",allowNegative:!1}};function Sl(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",62),r.Ob(1,"input",63),r.Ob(2,"input",64),r.Ob(3,"input",65),r.dc(4,"currency"),r.Sb(5,"div",66),r.vc(6,_l,3,0,"div",51),r.Rb(),r.vc(7,kl,3,0,"div",67),r.Sb(8,"div",68),r.Sb(9,"button",69),r.ac("click",(function(){return r.oc(n),r.cc(3).reduceAuctionPriceByPriceStep()})),r.xc(10,"- "),r.Rb(),r.Sb(11,"button",70),r.Ob(12,"i",71),r.Rb(),r.Sb(13,"button",69),r.ac("click",(function(){return r.oc(n),r.cc(3).increaseAuctionPriceByPriceStep()})),r.xc(14,"+ "),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc(3);r.hc("formGroup",i.rfAuction),r.Ab(3),r.hc("readOnly",1===i.auctionable)("options",r.kc(12,Cl))("value",r.ec(4,10,i.rfAuction.value.currentPrice))("ngClass",null!=i.rfAuction.errors&&i.rfAuction.errors.checkAuctionPrice&&i.rfAuction.controls.currentPrice.touched?"is-invalid":""),r.Ab(3),r.hc("ngIf",(null==i.rfAuction.errors?null:i.rfAuction.errors.checkAuctionPrice)&&1!==i.auctionable&&i.rfAuction.controls.currentPrice.touched),r.Ab(1),r.hc("ngIf",1===i.auctionable),r.Ab(2),r.hc("disabled",i.rfAuction.invalid||1===i.auctionable),r.Ab(2),r.hc("disabled",i.rfAuction.invalid||1===i.auctionable),r.Ab(2),r.hc("disabled",1===i.auctionable)}}function xl(e,t){if(1&e&&(r.Sb(0,"div",60),r.vc(1,Sl,15,13,"form",61),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.hc("ngIf",n.rfAuction)}}function El(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"p",74),r.xc(2,"B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfn h\xe0nh \u0111\u1ea5u gi\xe1"),r.Rb(),r.Rb())}function Il(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"p",75),r.xc(2,"S\u1ea3n ph\u1ea9m n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng"),r.Rb(),r.Rb())}function Bl(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"p",76),r.xc(2,"S\u1ea3n ph\u1ea9m n\xe0y chu\u1ea9n b\u1ecb \u0111\u01b0\u1ee3c l\xean s\xe0n \u0111\u1ea5u gi\xe1"),r.Rb(),r.Rb())}function Dl(e,t){1&e&&(r.Sb(0,"div"),r.Ob(1,"app-infomation-auction-buyer"),r.Rb())}function Tl(e,t){1&e&&(r.Sb(0,"div"),r.Ob(1,"app-infomation-auction-seller"),r.Rb())}function Ol(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",12),r.Sb(1,"div",13),r.Sb(2,"div",14),r.Sb(3,"div",15),r.Sb(4,"h3",16),r.xc(5),r.dc(6,"titlecase"),r.Rb(),r.Sb(7,"div",17),r.Ob(8,"img",18),r.Rb(),r.Sb(9,"ul",19),r.vc(10,yl,2,5,"li",20),r.Rb(),r.Rb(),r.Sb(11,"div",21),r.Sb(12,"div",22),r.Sb(13,"div",23),r.Sb(14,"div",24),r.Sb(15,"div",25),r.Sb(16,"ul",26),r.Sb(17,"li",27),r.Sb(18,"button",28),r.xc(19," Th\xf4ng Tin S\u1ea3n Ph\u1ea9m "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"div",29),r.Sb(21,"div",30),r.Sb(22,"div",8),r.Sb(23,"div",31),r.Sb(24,"span",32),r.xc(25,"Ng\xe0y B\u1eaft \u0110\u1ea7u"),r.Rb(),r.Sb(26,"span",33),r.xc(27),r.dc(28,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ob(29,"hr"),r.Sb(30,"div",30),r.Sb(31,"div",8),r.Sb(32,"div",34),r.Sb(33,"span",32),r.xc(34,"Ng\xe0y K\u1ebft Th\xfac"),r.Rb(),r.Sb(35,"span",33),r.xc(36),r.dc(37,"date"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ob(38,"hr"),r.Sb(39,"div",35),r.Sb(40,"div",22),r.Sb(41,"div",30),r.Sb(42,"div",36),r.Sb(43,"span",32),r.xc(44,"M\xf4 T\u1ea3 S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Rb(),r.Sb(45,"div",37),r.Sb(46,"span",38),r.xc(47),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(48,"div",39),r.Sb(49,"div",15),r.Sb(50,"div",40),r.Sb(51,"span",41),r.xc(52,"09"),r.Rb(),r.Sb(53,"span",42),r.xc(54,":"),r.Rb(),r.Sb(55,"span",41),r.xc(56,"09"),r.Rb(),r.Sb(57,"span",42),r.xc(58,":"),r.Rb(),r.Sb(59,"span",41),r.xc(60,"09"),r.Rb(),r.Rb(),r.Sb(61,"div"),r.Sb(62,"div",43),r.Sb(63,"div",44),r.Sb(64,"p",45),r.xc(65,"Gi\xe1 G\u1ed1c"),r.Rb(),r.Sb(66,"h5",46),r.xc(67),r.dc(68,"currency"),r.Rb(),r.Rb(),r.Sb(69,"div",47),r.Sb(70,"p",45),r.xc(71,"B\u01b0\u1edbc Gi\xe1"),r.Rb(),r.Sb(72,"h5",48),r.xc(73),r.dc(74,"currency"),r.Rb(),r.Rb(),r.Rb(),r.vc(75,wl,6,3,"div",49),r.vc(76,xl,2,1,"div",50),r.vc(77,El,3,0,"div",51),r.vc(78,Il,3,0,"div",51),r.vc(79,Bl,3,0,"div",51),r.Sb(80,"div",30),r.Sb(81,"div",22),r.Sb(82,"div",52),r.Sb(83,"div",24),r.Sb(84,"div",25),r.Sb(85,"ul",26),r.Sb(86,"li",27),r.Sb(87,"button",53),r.ac("click",(function(){return r.oc(n),r.cc().onChangeInfoSeller()})),r.xc(88," L\u01b0\u1ee3t \u0110\u1ea5u Gi\xe1 "),r.Rb(),r.Rb(),r.Sb(89,"li",27),r.Sb(90,"button",54),r.ac("click",(function(){return r.oc(n),r.cc().onChangeInfoAuction()})),r.xc(91," Ch\u1ee7 S\u1ea3n Ph\u1ea9m "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.vc(92,Dl,2,0,"div",51),r.vc(93,Tl,2,0,"div",51),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(5),r.yc(r.ec(6,16,i.productDetail.name)),r.Ab(3),r.jc("id","image__main",1,""),r.ic("src",null==i.productDetail?null:null==i.productDetail.imgUrlProducts[0]?null:i.productDetail.imgUrlProducts[0].url,r.qc),r.Ab(2),r.hc("ngForOf",null==i.productDetail?null:i.productDetail.imgUrlProducts),r.Ab(17),r.yc(r.fc(28,18,i.productDetail.startTime,"dd/MM/yyyy HH:mm:ss")),r.Ab(9),r.yc(r.fc(37,21,i.productDetail.endTime,"dd/MM/yyyy HH:mm:ss")),r.Ab(11),r.yc(i.productDetail.description),r.Ab(20),r.yc(r.ec(68,24,i.productDetail.initialPrice)),r.Ab(6),r.yc(r.ec(74,26,i.productDetail.priceStep.step)),r.Ab(2),r.hc("ngIf",1!=(null==i.productDetail?null:i.productDetail.auctionStatus.id)),r.Ab(1),r.hc("ngIf",3!=(null==i.productDetail?null:i.productDetail.auctionStatus.id)&&1!=(null==i.productDetail?null:i.productDetail.auctionStatus.id)&&i.checkLogin&&"ROLE_ADMIN"!=i.accountRole),r.Ab(1),r.hc("ngIf",!i.checkLogin&&2==(null==i.productDetail?null:i.productDetail.auctionStatus.id)),r.Ab(1),r.hc("ngIf",3==(null==i.productDetail?null:i.productDetail.auctionStatus.id)),r.Ab(1),r.hc("ngIf",1==(null==i.productDetail?null:i.productDetail.auctionStatus.id)),r.Ab(13),r.hc("ngIf",i.changeBuyer),r.Ab(1),r.hc("ngIf",i.changeSeller)}}var Fl,Rl,Pl,Nl,Ml=((Fl=function(){function e(t,n,r,i,o,a,s){var c=this;_classCallCheck(this,e),this._auctionService=t,this._formBuilder=n,this._acRoute=r,this._socketService=i,this._tokenService=o,this._titleService=a,this._notification=s,this.intervalList=[],this.styleForTime="display: inline-block; text-align: center; min-width: 66px; font-size: 50px;font-weight: 500;color: #E74C3C;border-radius: 4px;background: #f5f5f5;padding: 4px;box-shadow: 1px 1px 2px rgba(213, 31, 31, 0.35);",this.styleForTimeDot="display: block; font-size: 50px;font-weight: 500;color: #E74C3C; margin: 0 8px",this.changeBuyer=!0,this.changeSeller=!1,this.checkLogin=!1,this.userId=0,this.checkAuctionPrice=function(e){return e.get("currentPrice").value<Number(c.productDetail.maxCurrentPrice)+Number(c.productDetail.priceStep.step)?{checkAuctionPrice:!0}:null},this._titleService.setTitle("\u0110\u1ea5u gi\xe1"),this.idProductDetail=this._acRoute.snapshot.params.productId,this._socketService.setProductIdDetail(this.idProductDetail)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this._tokenService.isLogged()){this.checkLogin=!0,this.currentAccount=JSON.parse(this._tokenService.getAccount());for(var t=this._tokenService.getRole(),n=0;n<t.length;n++)"ROLE_ADMIN"===t[n]&&(this.accountRole="ROLE_ADMIN");this.currentUser=JSON.parse(this._tokenService.getUser()),this.userId=this.currentUser.id}this._auctionService.getAuctionByProductId(this.idProductDetail).subscribe((function(t){e.productDetail=t,e.rfAuction=e._formBuilder.group({currentPrice:e.productDetail.maxCurrentPrice,userId:e.userId,productId:+e.idProductDetail},{validators:[e.checkAuctionPrice]}),e.selectedChangImage(),e.runCountDowDate(new Date(e.productDetail.endTime).getTime())})),this._socketService.auctionSubject.subscribe((function(t){e.productDetail=Object.assign(Object.assign({},e.productDetail),{maxCurrentPrice:t.currentPrice}),e.rfAuction.get("currentPrice").setValue(t.currentPrice)})),this.checkAuction()}},{key:"onChangeInfoSeller",value:function(){this.changeBuyer=!0,this.changeSeller=!1;var e=document.getElementById("title-seller"),t=document.getElementById("title-buyer");t.style.backgroundColor="#ffffff",e.style.backgroundColor="transparent",e.style.color="white",t.style.color="black"}},{key:"onChangeInfoAuction",value:function(){this.changeBuyer=!1,this.changeSeller=!0;var e=document.getElementById("title-seller"),t=document.getElementById("title-buyer");t.style.backgroundColor="transparent",e.style.backgroundColor="#ffffff",e.style.color="black",t.style.color="white"}},{key:"increaseAuctionPriceByPriceStep",value:function(){this.rfAuction.valid?(this.rfAuction.value.currentPrice=Number(this.rfAuction.value.currentPrice)+Number(this.productDetail.priceStep.step),this.auctionPrice=this.rfAuction.value.currentPrice):(this.rfAuction.value.currentPrice=Number(this.productDetail.maxCurrentPrice)+Number(this.productDetail.priceStep.step),this.auctionPrice=this.rfAuction.value.currentPrice,this.rfAuction.setValue({currentPrice:this.auctionPrice,userId:this.userId,productId:this.idProductDetail}),this.checkAuctionPrice(this.rfAuction))}},{key:"reduceAuctionPriceByPriceStep",value:function(){this.rfAuction.valid&&(this.rfAuction.value.currentPrice=Number(this.rfAuction.value.currentPrice)-Number(this.productDetail.priceStep.step),this.auctionPrice=this.rfAuction.value.currentPrice,this.rfAuction.setValue({currentPrice:this.auctionPrice,userId:this.userId,productId:+this.idProductDetail}),this.checkAuctionPrice(this.rfAuction))}},{key:"onAuction",value:function(){this.checkAuction(),this._socketService.createAuctionUsingWebsocket(this.rfAuction.value),document.getElementById("auto-reload").click(),this.ngOnInit()}},{key:"checkAuction",value:function(){var e=this;this._socketService.auctionDetailSubject.subscribe((function(t){e.currentHighestAuction=t,e.auctionable=e.currentHighestAuction.userId===e.currentUser.id?1:0}))}},{key:"changeImage",value:function(e,t,n){var r=e.target.src,i=document.querySelectorAll(".img-selected"+t);document.getElementById("image__main"+t).setAttribute("src",r),i.forEach((function(e){e.getAttribute("value")==n+""?e.classList.add("actived"):e.classList.remove("actived")}))}},{key:"selectedChangImage",value:function(){setTimeout((function(){document.querySelectorAll(".carousel__images").forEach((function(e){e.children[0].classList.add("actived")}))}),500)}},{key:"runCountDowDate",value:function(e){console.log("lisst :",this.intervalList);var t=this;if(e){var n=setInterval((function(){var r=(new Date).getTime(),i=e-r,o=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),s=Math.floor(i%36e5/6e4),c=Math.floor(i%6e4/1e3);document.querySelectorAll(".time-").forEach((function(e){i>0?e.innerHTML='<span style="'.concat(t.styleForTime,'"\n                  class="time__dd">\n                  ').concat(o," Ng\xe0y\n              </span>")+'<span style="'.concat(t.styleForTimeDot,'" class="mx-1">:</span>')+'<span style="'.concat(t.styleForTime,'" class="time__hh red__color">\n                             ').concat(a,"\n              </span>")+'<span style="'.concat(t.styleForTimeDot,'" class="mx-1">:</span>')+'<span style="'.concat(t.styleForTime,'" class="time__mm">').concat(s,"</span>")+'<span style="'.concat(t.styleForTimeDot,'" class="mx-1">:</span>')+'<span style="'.concat(t.styleForTime,'" class="time__ss">').concat(c,"</span>"):(clearInterval(n),e.innerHTML="<span style=\" font-size: 42px; font-weight: 500;   font-family: 'Roboto', sans-serif; text-transform: capitalize; color: #1c1d1d\">H\u1ebft th\u1eddi gian</span>")}))}));this.intervalList.push(n),console.log("list push",this.intervalList)}else console.log("Gio co van de, yeu cau sua database")}},{key:"ngOnDestroy",value:function(){if(this.intervalList.length>0)for(var e=0;e<this.intervalList.length;e++)clearInterval(this.intervalList[e])}}]),e}()).\u0275fac=function(e){return new(e||Fl)(r.Nb(Hu),r.Nb(Mc),r.Nb(Xr),r.Nb(nl),r.Nb(Cu),r.Nb(Ft),r.Nb(rl))},Fl.\u0275cmp=r.Hb({type:Fl,selectors:[["app-auction-product-detail"]],decls:24,vars:8,consts:[["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","d-flex","justify-content-center","flex-wrap"],["height","300px","alt","",1,"d-block","w-auto","mb-3",3,"src"],[1,"mt-2","w-100",2,"text-align","center","font-size","20px","margin-bottom","-10px"],[2,"color","red","font-weight","bold","font-size","20px"],[1,"row","mb-3",2,"text-align","center"],[1,"col-lg-6"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"padding","10px","font-size","20px","width","85%"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",2,"padding","10px","font-size","20px","width","85%",3,"click"],["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row","bg","bg-light"],[1,"col-lg-7","mt-5"],[1,"card","card-body"],[1,"alert","text-center",2,"background","#E74C3C","color","white"],[1,"d-flex","justify-content-center"],["alt","",1,"d-block","w-75","card-img","text-center",3,"id","src"],[1,"carousel__images","d-flex","justify-content-center"],[3,"value","class",4,"ngFor","ngForOf"],[1,"row","mb-5"],[1,"col-lg-12"],[1,"mt-4"],[1,"card","text-center"],[1,"card-header",2,"background","#E74C3C"],[1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["id","title-hammer","aria-current","true",1,"nav-link","active"],["id","show-hammer"],[1,"row"],[1,"card-body","card-detail","text-lg-start","mt-3"],[1,"card-text","title-detail"],[1,"card-text"],[1,"card-body","card-detail","text-lg-start"],[1,"row","mt-4","mb-4"],[1,"col-lg-3"],[1,"col-lg-9",2,"text-align","justify"],[2,"padding-right","40px","display","block"],[1,"col-lg-5","mt-5","mb-5"],[1,"time-","mt-0"],[1,"time__hh","mx-2"],[1,"mx-2"],[1,"d-flex","justify-content-between"],[1,"card","mt-3",2,"width","49%"],[1,"title-currency-1",2,"color","white","background-color","#2c3b59"],[1,"currency-1","card-title",2,"color","#2c3b59"],[1,"card","mt-3",2,"width","48%"],[1,"currency-1","card-title",2,"color","#00434c"],["class","card mt-3",4,"ngIf"],["class","input-group mt-3 mb-3 d-flex align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],[1,""],["id","title-buyer","aria-current","true","type","button",1,"nav-link","active",2,"border","none",3,"click"],["id","title-seller","aria-current","true","type","button",1,"nav-link","active",2,"background-color","#E74C3C","border","none",3,"click"],[3,"value"],["height","50","width","","alt","",1,"d-block","w-100",3,"src","click"],[1,"card","mt-3"],[1,"title-currency",2,"color","white","background-color","#dc3545"],[1,"currency","card-title"],[1,"input-group","mt-3","mb-3","d-flex","align-items-center","justify-content-center"],["class","d-flex flex-wrap",3,"formGroup",4,"ngIf"],[1,"d-flex","flex-wrap",3,"formGroup"],["hidden","","formControlName","userId"],["hidden","","formControlName","productId"],["currencyMask","","formControlName","currentPrice","type","text",1,"form-control","w-100",2,"font-size","24px","font-weight","bold","text-align","right",3,"readOnly","options","value","ngClass"],[1,"invalid-feedback"],["class","top-auction",4,"ngIf"],[1,"w-100","d-flex","mt-3"],["type","button",1,"btn","btn-danger","w-25",2,"font-size","25px",3,"disabled","click"],["type","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"hammer","btn","btn-danger","w-50","mx-2",2,"font-size","25px","font-weight","bold",3,"disabled"],[1,"fa-solid","fa-gavel","mx-3",2,"font-size","30px"],[1,"text-center"],[1,"top-auction"],[1,"auction"],[1,"auctioned"],[1,"auctioning"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Ob(4,"img",4),r.Sb(5,"div",5),r.xc(6," \u0110\u1ea5u gi\xe1 ngay s\u1ea3n ph\u1ea9m "),r.Sb(7,"span",6),r.xc(8),r.dc(9,"titlecase"),r.Rb(),r.xc(10," v\u1edbi m\u1ee9c gi\xe1 "),r.Sb(11,"span",6),r.xc(12),r.dc(13,"currency"),r.Rb(),r.xc(14," ? "),r.Rb(),r.Rb(),r.Ob(15,"hr"),r.Sb(16,"div",7),r.Sb(17,"div",8),r.Sb(18,"button",9),r.xc(19,"\u0110\xf3ng "),r.Rb(),r.Rb(),r.Sb(20,"div",8),r.Sb(21,"button",10),r.ac("click",(function(){return t.onAuction()})),r.xc(22,"X\xe1c Nh\u1eadn "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.vc(23,Ol,94,28,"div",11)),2&e&&(r.Ab(4),r.ic("src",null==t.productDetail.imgUrlProducts[0]?null:t.productDetail.imgUrlProducts[0].url,r.qc),r.Ab(4),r.yc(r.ec(9,4,t.productDetail.name)),r.Ab(4),r.yc(r.ec(13,6,t.rfAuction.value.currentPrice)),r.Ab(11),r.hc("ngIf",t.productDetail))},directives:[Se,ke,vc,Wa,yc,La,Ga,Fc,ll,we,ml,bl],pipes:[Re,Me,Pe],styles:[".carousel-indicators[_ngcontent-%COMP%]   button.thumbnail[_ngcontent-%COMP%]{width:60px}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:20px}.carousel-indicators[_ngcontent-%COMP%]   button.thumbnail[_ngcontent-%COMP%]:not(.active){opacity:.7}.carousel-indicators[_ngcontent-%COMP%]{position:static}@media screen and (min-width:990px){.carousel[_ngcontent-%COMP%]{max-width:80%;margin:0 auto}}.title[_ngcontent-%COMP%]{margin-bottom:10px}.hammer[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-weight:700}.hammer[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]{list-style:none}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:12px;cursor:pointer;border:3px solid rgba(245,76,59,0)}.image__item.actived[_ngcontent-%COMP%]{border:3px solid rgba(245,76,59,.67);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.currency[_ngcontent-%COMP%]{color:#dc3545;border-radius:4px}.currency[_ngcontent-%COMP%], .title-currency[_ngcontent-%COMP%]{font-weight:700;font-size:24px;text-align:center;padding:4px 0!important}.title-currency[_ngcontent-%COMP%]{border-radius:3px;color:red}.currency__title[_ngcontent-%COMP%]:first-letter{color:transparent}#title-seller[_ngcontent-%COMP%]{color:#fff}.currency-1[_ngcontent-%COMP%]{color:#dc3545}.currency-1[_ngcontent-%COMP%], .title-currency-1[_ngcontent-%COMP%]{font-weight:700;font-size:24px;text-align:center}.title-currency-1[_ngcontent-%COMP%]{padding:4px 0!important;border-radius:4px}.time-[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.time__hh[_ngcontent-%COMP%]{min-width:66px;border-radius:4px;background:#f5f5f5;padding:4px;box-shadow:1px 1px 2px rgba(213,31,31,.35)}.auction[_ngcontent-%COMP%], .auctioned[_ngcontent-%COMP%], .auctioning[_ngcontent-%COMP%]{padding:8px 12px;width:100%;border-radius:8px 25px 0 0;color:#fff;text-align:center;font-size:24px;font-family:Roboto,sans-serif;margin-top:16px;text-transform:capitalize;font-weight:500}.auction[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500)}.people-hammer[_ngcontent-%COMP%]{margin-bottom:-2px;border-radius:4px;background:#d1e7dd;padding:4px;box-shadow:1px 1px 2px rgba(213,31,31,.35);width:80%}.title-detail[_ngcontent-%COMP%]{font-weight:700}.title-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.card-detail[_ngcontent-%COMP%]{font-size:16px;display:flex;justify-content:space-between}.product__price[_ngcontent-%COMP%]:first-letter{right:200px;margin-right:8px}.top-auction[_ngcontent-%COMP%]{width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}"]}),Fl),Ll=n("+z1p"),Ul=((Nl=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListCategory",value:function(){return this._httpClient.get(o.categoryUrl)}}]),e}()).\u0275fac=function(e){return new(e||Nl)(r.Wb(la))},Nl.\u0275prov=r.Jb({token:Nl,factory:Nl.\u0275fac,providedIn:"root"}),Nl),jl=((Pl=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListPriceStep",value:function(){return this._httpClient.get(o.priceStepUrl)}}]),e}()).\u0275fac=function(e){return new(e||Pl)(r.Wb(la))},Pl.\u0275prov=r.Jb({token:Pl,factory:Pl.\u0275fac,providedIn:"root"}),Pl),Ql=((Rl=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new jo({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}return _createClass(e,[{key:"findAllUserType",value:function(){return this._httpClient.get(o.api_url_userType)}},{key:"searchBy",value:function(e,t){return this._httpClient.get(o.api_url_list_user+"/list?page="+t+"&id="+e.idSearch+"&name="+e.nameSearch+"&email="+e.emailSearch+"&address="+e.addressSearch+"&userType="+e.userTypeSearch)}},{key:"findUserEditById",value:function(e){return this._httpClient.get(o.api_url_list_user+"/"+e,this.httpOptions)}},{key:"findUserByAccount",value:function(e){return this._httpClient.get(o.userUrl+"/find/"+e)}},{key:"saveaddAcountUser",value:function(e){return console.log(e),this._httpClient.post("http://localhost:8080/api/user/v1/add",e)}},{key:"updateByAdim",value:function(e,t){return this._httpClient.put(o.api_url_list_user+"/"+e,t)}},{key:"unlock",value:function(e){return this._httpClient.post(o.api_url_list_user+"/unlockUser",e)}},{key:"findByListId",value:function(e){return this._httpClient.post(o.api_url_list_user_list_id,e)}},{key:"getAllUserChat",value:function(){return this._httpClient.get("http://localhost:8080/api/v1/users/getAll")}},{key:"findAllUser",value:function(){return this._httpClient.get(o.uri_api_find_all_user_v1)}},{key:"createUser",value:function(e){return console.log(e),this._httpClient.post(o.uri_api_create_user_v1_user,e)}},{key:"findUserByIdServer",value:function(e){return this._httpClient.get(o.uri_api_find_by_id_user_v1_user+"/"+e)}},{key:"updateUser",value:function(e,t){return this._httpClient.put(o.uri_api_update_user_v1_user+"/"+t.id,t)}}]),e}()).\u0275fac=function(e){return new(e||Rl)(r.Wb(la))},Rl.\u0275prov=r.Jb({token:Rl,factory:Rl.\u0275fac,providedIn:"root"}),Rl),Hl=n("D0XW"),Vl=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zl(e,this.dueTime,this.scheduler))}}]),e}(),zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ql,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(en.a);function ql(e){e.debouncedNext()}var Kl=n("pxpQ"),Gl=n("spgP"),Wl=n("zIRd"),Yl=function(e,t){return(Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},Jl=function(){return(Jl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Xl(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Zl(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function $l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var eh=n("qOnz"),th=n("/6Yf"),nh=function(e){function t(n,r){var i=e.call(this,rh(n),"Firebase Storage: "+r+" ("+rh(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Yl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return rh(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(eh.FirebaseError);function rh(e){return"storage/"+e}function ih(){return new nh("unknown","An unknown error occurred, please check the error payload for server response.")}function oh(){return new nh("canceled","User canceled the upload/download.")}function ah(){return new nh("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sh(e){return new nh("invalid-argument",e)}function ch(){return new nh("app-deleted","The Firebase app was deleted.")}function uh(e){return new nh("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lh(e,t){return new nh("invalid-format","String does not match format '"+e+"': "+t)}function hh(e){throw new nh("internal-error","Internal error: "+e)}var dh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fh=function(e,t){this.data=e,this.contentType=t||null};function Ah(e,t){switch(e){case dh.RAW:return new fh(ph(t));case dh.BASE64:case dh.BASE64URL:return new fh(gh(e,t));case dh.DATA_URL:return new fh((n=new vh(t)).base64?gh(dh.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(jR){throw lh(dh.DATA_URL,"Malformed data URL.")}return ph(t)}(n.rest),new vh(t).contentType)}var n;throw ih()}function ph(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function gh(e,t){switch(e){case dh.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw lh(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case dh.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw lh(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(jR){throw lh(e,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var vh=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw lh(dh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},mh={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bh(e){switch(e){case"running":case"pausing":case"canceling":return mh.RUNNING;case"paused":return mh.PAUSED;case"success":return mh.SUCCESS;case"canceled":return mh.CANCELED;case"error":default:return mh.ERROR}}var yh=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),wh=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=yh.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=yh.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=yh.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw hh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw hh("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw hh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(jR){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw hh("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),_h=function(){function e(){}return e.prototype.createConnection=function(){return new wh},e}(),kh=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(jR){return new e(t,"")}if(""===r.path)return r;throw new nh("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var u=s[c],l=u.regex.exec(t);if(l){var h=l[u.indices.path];h||(h=""),r=new e(l[u.indices.bucket],h),u.postModify(r);break}}if(null==r)throw function(e){return new nh("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Ch=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Sh(e){return"string"==typeof e||e instanceof String}function xh(e){return Eh()&&e instanceof Blob}function Eh(){return"undefined"!=typeof Blob}function Ih(e,t,n,r){if(r<t)throw sh("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw sh("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Bh(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Dh(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var Th=function(){function e(e,t,n,r,i,o,a,s,c,u,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(jR){o(jR)}else null!==a?((r=ih()).serverResponse=a.getResponseText(),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?ch():oh():new nh("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Oh(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function c(){return 2===s}var u=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u||(u=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new Oh(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yh.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Oh(a,r))}else{var s=r.getErrorCode()===yh.ABORT;t(!1,new Oh(!1,null,s))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(d,c())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,$l([null,e],t));else{var r,o=c()||a;o?l.call.apply(l,$l([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function A(e){f||(f=!0,u||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,A(!0)}),r),A}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Oh=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Fh(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Rh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Fh();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Eh())return new Blob(e);throw new nh("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ph=function(){function e(e,t){var n=0,r="";xh(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(xh(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Eh()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Rh.apply(null,r))}var i=t.map((function(e){return Sh(e)?Ah(dh.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Nh(e){var t,n;try{t=JSON.parse(e)}catch(jR){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function Mh(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Lh(e,t){return t}var Uh=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Lh},jh=null;function Qh(){if(jh)return jh;var e=[];e.push(new Uh("bucket")),e.push(new Uh("generation")),e.push(new Uh("metageneration")),e.push(new Uh("name","fullPath",!0));var t=new Uh("name");t.xform=function(e,t){return function(e){return!Sh(e)||e.length<2?e:Mh(e)}(t)},e.push(t);var n=new Uh("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Uh("timeCreated")),e.push(new Uh("updated")),e.push(new Uh("md5Hash",null,!0)),e.push(new Uh("cacheControl",null,!0)),e.push(new Uh("contentDisposition",null,!0)),e.push(new Uh("contentEncoding",null,!0)),e.push(new Uh("contentLanguage",null,!0)),e.push(new Uh("contentType",null,!0)),e.push(new Uh("metadata","customMetadata",!0)),jh=e}function Hh(e,t,n){var r=Nh(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new kh(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function Vh(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var zh=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function qh(e){if(!e)throw ih()}function Kh(e,t){return function(n,r){var i=Hh(e,r,t);return qh(null!==i),i}}function Gh(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new nh("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new nh("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new nh("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new nh("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function Wh(e){var t=Gh(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new nh("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Yh(e,t,n){var r=Bh(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new zh(r,"GET",Kh(e,n),i);return o.errorHandler=Wh(t),o}function Jh(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var Xh=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Zh(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(jR){qh(!1)}return qh(!!n&&-1!==(t||["active"]).indexOf(n)),n}var $h=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function ed(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var td=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Qh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Jh(t,r,i),s={name:a.fullPath},c=Bh(o,e.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Vh(a,n),h=new zh(c,"POST",(function(e){var t;Zh(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(jR){qh(!1)}return qh(Sh(t)),t}),e.maxUploadRetryTime);return h.urlParams=s,h.headers=u,h.body=l,h.errorHandler=Gh(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=new zh(n,"POST",(function(e){var t=Zh(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(jR){qh(!1)}n||qh(!1);var i=Number(n);return qh(!isNaN(i)),new Xh(i,r.size(),"final"===t)}),e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Gh(t),i}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new Xh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var c=new Xh(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new nh("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},f=r.slice(h,h+l);if(null===f)throw ah();var A=new zh(n,"POST",(function(e,n){var i,a=Zh(e,["active","final"]),s=c.current+l,u=r.size();return i="final"===a?Kh(t,o)(e,n):null,new Xh(s,u,"final"===a,i)}),t.maxUploadRetryTime);return A.headers=d,A.body=f.uploadData(),A.progressCallback=s||null,A.errorHandler=Gh(e),A}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(jR){return e._error=jR,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Yh(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var c=Jh(t,r,i),u=Vh(c,n),l=Ph.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw ah();var h={name:c.fullPath},d=Bh(o,e.host),f=e.maxUploadRetryTime,A=new zh(d,"POST",Kh(e,n),f);return A.urlParams=h,A.headers=a,A.body=l.uploadData(),A.errorHandler=Gh(t),A}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=oh(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=bh(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new $h(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(bh(this._state)){case mh.SUCCESS:ed(this._resolve.bind(null,this.snapshot))();break;case mh.CANCELED:case mh.ERROR:ed(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(bh(this._state)){case mh.RUNNING:case mh.PAUSED:e.next&&ed(e.next.bind(e,this.snapshot))();break;case mh.SUCCESS:e.complete&&ed(e.complete.bind(e))();break;case mh.CANCELED:case mh.ERROR:e.error&&ed(e.error.bind(e,this._error))();break;default:e.error&&ed(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),nd=function(){function e(e,t){this._service=e,this._location=t instanceof kh?t:kh.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new kh(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Mh(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new kh(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw uh(e)},e}();function rd(e,t){return Xl(this,void 0,void 0,(function(){var n,r;return Zl(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Ih("options.maxResults",1,1e3,t.maxResults),r=function(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Bh(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,c=new zh(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=Nh(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new kh(t,a));r.prefixes.push(s)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)s=e._makeStorageReference(new kh(t,u[c].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return qh(null!==i),i}}(e,t.bucket),s);return c.urlParams=o,c.errorHandler=Gh(t),c}(e.storage,e._location,0,(n=t||{}).pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function id(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new kh(e._location.bucket,n);return new nd(e.storage,r)}function od(e){return/^[A-Za-z]+:\/\//.test(e)}function ad(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:kh.makeFromBucketSpec(n,e)}var sd=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?kh.makeFromBucketSpec(i,this._host):ad(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?kh.makeFromBucketSpec(this._url,e):ad(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Ih("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Ih("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Xl(this,void 0,void 0,(function(){var e,t;return Zl(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Xl(this,void 0,void 0,(function(){var e;return Zl(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new nd(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Ch(ch());var i=function(e,t,n,r,i,o){var a=Dh(e.urlParams),s=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Th(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Xl(this,void 0,void 0,(function(){var t;return Zl(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=n.sent(),[2,this._makeRequest(e,t[0],t[1])]}}))}))},e}();function cd(e,t){return function(e,t){if(t&&od(t)){if(e instanceof sd)return new nd(e,t);throw sh("To use ref(service, url), the first argument must be a Storage instance.")}return function e(t,n){if(t instanceof sd){var r=t;if(null==r._bucket)throw new nh("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new nd(r,r._bucket);return null!=n?e(i,n):i}return void 0!==n?id(t,n):t}(e,t)}(e=Object(eh.getModularInstance)(e),t)}var ud,ld,hd=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),dd=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new hd(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new hd(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new hd(e,i,i._ref))}:{next:t.next?function(e){return t.next(new hd(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),fd=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Ad(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Ad(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Ad=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return id(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new dd(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new td(e,new Ph(t),n)}(e=Object(eh.getModularInstance)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=dh.RAW),this._throwIfRoot("putString");var r=Ah(t,e),i=Jl({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new dd(new td(this._delegate,new Ph(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,function(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Xl(this,void 0,void 0,(function(){var i,o,a;return Zl(this,(function(s){switch(s.label){case 0:return[4,rd(t,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}(e=Object(eh.getModularInstance)(e))).then((function(e){return new fd(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return rd(e=Object(eh.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new fd(e,t.storage)}))},e.prototype.getMetadata=function(){return e=this._delegate,function(e){return Xl(this,void 0,void 0,(function(){var t;return Zl(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Yh(e.storage,e._location,Qh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(eh.getModularInstance)(e));var e},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return Xl(this,void 0,void 0,(function(){var n;return Zl(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Bh(t.fullServerUrl(),e.host),o=Vh(n,r),a=e.maxOperationRetryTime,s=new zh(i,"PATCH",Kh(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Wh(t),s}(e.storage,e._location,t,Qh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(e=Object(eh.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,function(e){return Xl(this,void 0,void 0,(function(){var t;return Zl(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Bh(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new zh(r,"GET",function(e,t){return function(n,r){var i=Hh(e,r,t);return qh(null!==i),function(e,t,n){var r=Nh(t);if(null===r)return null;if(!Sh(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.fullPath;return Bh("/b/"+o(e.bucket)+"/o/"+o(r),n)+Dh({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=Wh(t),o}(e.storage,e._location,Qh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new nh("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}(e=Object(eh.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,function(e){return Xl(this,void 0,void 0,(function(){var t;return Zl(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Bh(t.fullServerUrl(),e.host),r=new zh(n,"DELETE",(function(e,t){}),e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Wh(t),r}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(eh.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw uh(e)},e}(),pd=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(od(e))throw sh("ref() expected a child path but got a URL, use refFromURL instead.");return new Ad(cd(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!od(e))throw sh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kh.makeFromUrl(e,this._delegate.host)}catch(jR){throw sh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ad(cd(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"==typeof i?i:Object(eh.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)},e}();function gd(e){var t=function(e){return new Ut.a((function(t){var n=function(e){return t.next(e)};n(e.snapshot);var r=e.on("state_changed",n);return e.then((function(e){n(e),t.complete()}),(function(r){n(e.snapshot),function(e){t.error(e)}(r)})),function(){r()}})).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hl.a;return function(n){return n.lift(new Vl(e,t))}}(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(Object(Xt.a)((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function vd(e,t,n){return{getDownloadURL:function(){return Object(Rt.a)(void 0).pipe(Object(Kl.b)(t.outsideAngular),Bn((function(){return e.getDownloadURL()})),n)},getMetadata:function(){return Object(Rt.a)(void 0).pipe(Object(Kl.b)(t.outsideAngular),Bn((function(){return e.getMetadata()})),n)},delete:function(){return Object(Pt.a)(e.delete())},child:function(r){return vd(e.child(r),t,n)},updateMetadata:function(t){return Object(Pt.a)(e.updateMetadata(t))},put:function(t,n){return gd(e.put(t,n))},putString:function(t,n,r){return gd(e.putString(t,n,r))},listAll:function(){return Object(Pt.a)(e.listAll())}}}ld={TaskState:mh,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:dh,Storage:sd,Reference:Ad},(ud=Wl.default).INTERNAL.registerComponent(new th.Component("storage",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new pd(r,new sd(r,i,o,new _h,n,Wl.default.SDK_VERSION))}),"PUBLIC").setServiceProps(ld).setMultipleInstances(!0)),ud.registerVersion("@firebase/storage","0.7.1");var md,bd,yd,wd,_d=new r.q("angularfire2.storageBucket"),kd=new r.q("angularfire2.storage.maxUploadRetryTime"),Cd=new r.q("angularfire2.storage.maxOperationRetryTime"),Sd=((wd=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this.schedulers=new Gl.d(o),this.keepUnstableUntilFirst=Object(Gl.g)(this.schedulers);var c=Object(Gl.f)(t,o,n);this.storage=Object(Gl.e)("".concat(c.name,".storage.").concat(r),"AngularFireStorage",c,(function(){var e=o.runOutsideAngular((function(){return c.storage(r||void 0)}));return a&&e.setMaxUploadRetryTime(a),s&&e.setMaxOperationRetryTime(s),e}),[a,s])}return _createClass(e,[{key:"ref",value:function(e){return vd(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(e){return vd(this.storage.refFromURL(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return vd(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}()).\u0275fac=function(e){return new(e||wd)(r.Wb(Gl.c),r.Wb(Gl.b,8),r.Wb(_d,8),r.Wb(r.B),r.Wb(r.z),r.Wb(kd,8),r.Wb(Cd,8))},wd.\u0275prov=r.Jb({factory:function(){return new wd(r.Wb(Gl.c),r.Wb(Gl.b,8),r.Wb(_d,8),r.Wb(r.B),r.Wb(r.z),r.Wb(kd,8),r.Wb(Cd,8))},token:wd,providedIn:"any"}),wd),xd=((yd=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:yd}),yd.\u0275inj=r.Kb({factory:function(e){return new(e||yd)}}),yd),Ed=((bd=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:bd}),bd.\u0275inj=r.Kb({factory:function(e){return new(e||bd)},providers:[Sd],imports:[xd]}),bd),Id=((md=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new jo({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}return _createClass(e,[{key:"create",value:function(e){return this._httpClient.post(o.imageUrl+"/create",e,this.httpOptions)}},{key:"getListImgProductId",value:function(e){return this._httpClient.get(o.imageUrl+"/"+e,this.httpOptions)}},{key:"update",value:function(e,t){return this._httpClient.put(o.imageUrl+"/update/"+t,e)}},{key:"delete",value:function(e){return this._httpClient.delete(o.imageUrl+"/delete/"+e)}}]),e}()).\u0275fac=function(e){return new(e||md)(r.Wb(la))},md.\u0275prov=r.Jb({token:md,factory:md.\u0275fac,providedIn:"root"}),md);function Bd(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}var Dd=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Td=n("Ju5/"),Od=function(){return Td.a.Date.now()},Fd=/\s/,Rd=/^\s+/,Pd=Td.a.Symbol,Nd=Object.prototype,Md=Nd.hasOwnProperty,Ld=Nd.toString,Ud=Pd?Pd.toStringTag:void 0,jd=Object.prototype.toString,Qd=Pd?Pd.toStringTag:void 0,Hd=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Qd&&Qd in Object(e)?function(e){var t=Md.call(e,Ud),n=e[Ud];try{e[Ud]=void 0;var r=!0}catch(jR){}var i=Ld.call(e);return r&&(t?e[Ud]=n:delete e[Ud]),i}(e):function(e){return jd.call(e)}(e)},Vd=function(e){return null!=e&&"object"==typeof e},zd=/^[-+]0x[0-9a-f]+$/i,qd=/^0b[01]+$/i,Kd=/^0o[0-7]+$/i,Gd=parseInt,Wd=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||Vd(e)&&"[object Symbol]"==Hd(e)}(e))return NaN;if(Dd(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Dd(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;var n;e=(n=e)?n.slice(0,function(e){for(var t=e.length;t--&&Fd.test(e.charAt(t)););return t}(n)+1).replace(Rd,""):n;var r=qd.test(e);return r||Kd.test(e)?Gd(e.slice(2),r?2:8):zd.test(e)?NaN:+e},Yd=Math.max,Jd=Math.min,Xd=function(e,t){return e===t||e!=e&&t!=t},Zd=function(e,t){for(var n=e.length;n--;)if(Xd(e[n][0],t))return n;return-1},$d=Array.prototype.splice;function ef(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ef.prototype.clear=function(){this.__data__=[],this.size=0},ef.prototype.delete=function(e){var t=this.__data__,n=Zd(t,e);return!(n<0||(n==t.length-1?t.pop():$d.call(t,n,1),--this.size,0))},ef.prototype.get=function(e){var t=this.__data__,n=Zd(t,e);return n<0?void 0:t[n][1]},ef.prototype.has=function(e){return Zd(this.__data__,e)>-1},ef.prototype.set=function(e,t){var n=this.__data__,r=Zd(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var tf,nf=ef,rf=function(e){if(!Dd(e))return!1;var t=Hd(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},of=Td.a["__core-js_shared__"],af=(tf=/[^.]+$/.exec(of&&of.keys&&of.keys.IE_PROTO||""))?"Symbol(src)_1."+tf:"",sf=Function.prototype.toString,cf=function(e){if(null!=e){try{return sf.call(e)}catch(jR){}try{return e+""}catch(jR){}}return""},uf=/^\[object .+?Constructor\]$/,lf=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hf=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Dd(e)||(t=e,af&&af in t))&&(rf(e)?lf:uf).test(cf(e));var t}(n)?n:void 0},df=hf(Td.a,"Map"),ff=hf(Object,"create"),Af=Object.prototype.hasOwnProperty,pf=Object.prototype.hasOwnProperty;function gf(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gf.prototype.clear=function(){this.__data__=ff?ff(null):{},this.size=0},gf.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gf.prototype.get=function(e){var t=this.__data__;if(ff){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Af.call(t,e)?t[e]:void 0},gf.prototype.has=function(e){var t=this.__data__;return ff?void 0!==t[e]:pf.call(t,e)},gf.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ff&&void 0===t?"__lodash_hash_undefined__":t,this};var vf=gf,mf=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function bf(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bf.prototype.clear=function(){this.size=0,this.__data__={hash:new vf,map:new(df||nf),string:new vf}},bf.prototype.delete=function(e){var t=mf(this,e).delete(e);return this.size-=t?1:0,t},bf.prototype.get=function(e){return mf(this,e).get(e)},bf.prototype.has=function(e){return mf(this,e).has(e)},bf.prototype.set=function(e,t){var n=mf(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var yf=bf;function wf(e){var t=this.__data__=new nf(e);this.size=t.size}wf.prototype.clear=function(){this.__data__=new nf,this.size=0},wf.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wf.prototype.get=function(e){return this.__data__.get(e)},wf.prototype.has=function(e){return this.__data__.has(e)},wf.prototype.set=function(e,t){var n=this.__data__;if(n instanceof nf){var r=n.__data__;if(!df||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yf(r)}return n.set(e,t),this.size=n.size,this};var _f=wf,kf=function(){try{var e=hf(Object,"defineProperty");return e({},"",{}),e}catch(jR){}}(),Cf=function(e,t,n){"__proto__"==t&&kf?kf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Sf=Object.prototype.hasOwnProperty,xf=function(e,t,n){var r=e[t];Sf.call(e,t)&&Xd(r,n)&&(void 0!==n||t in e)||Cf(e,t,n)},Ef=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Cf(n,s,c):xf(n,s,c)}return n},If=function(e){return Vd(e)&&"[object Arguments]"==Hd(e)},Bf=Object.prototype,Df=Bf.hasOwnProperty,Tf=Bf.propertyIsEnumerable,Of=If(function(){return arguments}())?If:function(e){return Vd(e)&&Df.call(e,"callee")&&!Tf.call(e,"callee")},Ff=Array.isArray,Rf=n("WOAq"),Pf=/^(?:0|[1-9]\d*)$/,Nf=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Pf.test(e))&&e>-1&&e%1==0&&e<t},Mf=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Lf={};Lf["[object Float32Array]"]=Lf["[object Float64Array]"]=Lf["[object Int8Array]"]=Lf["[object Int16Array]"]=Lf["[object Int32Array]"]=Lf["[object Uint8Array]"]=Lf["[object Uint8ClampedArray]"]=Lf["[object Uint16Array]"]=Lf["[object Uint32Array]"]=!0,Lf["[object Arguments]"]=Lf["[object Array]"]=Lf["[object ArrayBuffer]"]=Lf["[object Boolean]"]=Lf["[object DataView]"]=Lf["[object Date]"]=Lf["[object Error]"]=Lf["[object Function]"]=Lf["[object Map]"]=Lf["[object Number]"]=Lf["[object Object]"]=Lf["[object RegExp]"]=Lf["[object Set]"]=Lf["[object String]"]=Lf["[object WeakMap]"]=!1;var Uf=function(e){return function(t){return e(t)}},jf=n("xutz"),Qf=jf.a&&jf.a.isTypedArray,Hf=Qf?Uf(Qf):function(e){return Vd(e)&&Mf(e.length)&&!!Lf[Hd(e)]},Vf=Object.prototype.hasOwnProperty,zf=function(e,t){var n=Ff(e),r=!n&&Of(e),i=!n&&!r&&Object(Rf.a)(e),o=!n&&!r&&!i&&Hf(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!Vf.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Nf(u,c))||s.push(u);return s},qf=Object.prototype,Kf=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qf)},Gf=function(e,t){return function(n){return e(t(n))}},Wf=Gf(Object.keys,Object),Yf=Object.prototype.hasOwnProperty,Jf=function(e){return null!=e&&Mf(e.length)&&!rf(e)},Xf=function(e){return Jf(e)?zf(e):function(e){if(!Kf(e))return Wf(e);var t=[];for(var n in Object(e))Yf.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Zf=Object.prototype.hasOwnProperty,$f=function(e){return Jf(e)?zf(e,!0):function(e){if(!Dd(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Kf(e),n=[];for(var r in e)("constructor"!=r||!t&&Zf.call(e,r))&&n.push(r);return n}(e)},eA=n("3/ER"),tA=function(){return[]},nA=Object.prototype.propertyIsEnumerable,rA=Object.getOwnPropertySymbols,iA=rA?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var r=-1,i=null==t?0:t.length,o=0,a=[];++r<i;){var s=t[r];nA.call(e,s)&&(a[o++]=s)}return a}(rA(e)))}:tA,oA=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},aA=Gf(Object.getPrototypeOf,Object),sA=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)oA(t,iA(e)),e=aA(e);return t}:tA,cA=function(e,t,n){var r=t(e);return Ff(e)?r:oA(r,n(e))},uA=function(e){return cA(e,Xf,iA)},lA=function(e){return cA(e,$f,sA)},hA=hf(Td.a,"DataView"),dA=hf(Td.a,"Promise"),fA=hf(Td.a,"Set"),AA=hf(Td.a,"WeakMap"),pA=cf(hA),gA=cf(df),vA=cf(dA),mA=cf(fA),bA=cf(AA),yA=Hd;(hA&&"[object DataView]"!=yA(new hA(new ArrayBuffer(1)))||df&&"[object Map]"!=yA(new df)||dA&&"[object Promise]"!=yA(dA.resolve())||fA&&"[object Set]"!=yA(new fA)||AA&&"[object WeakMap]"!=yA(new AA))&&(yA=function(e){var t=Hd(e),n="[object Object]"==t?e.constructor:void 0,r=n?cf(n):"";if(r)switch(r){case pA:return"[object DataView]";case gA:return"[object Map]";case vA:return"[object Promise]";case mA:return"[object Set]";case bA:return"[object WeakMap]"}return t});var wA=yA,_A=Object.prototype.hasOwnProperty,kA=Td.a.Uint8Array,CA=function(e){var t=new e.constructor(e.byteLength);return new kA(t).set(new kA(e)),t},SA=/\w*$/,xA=Pd?Pd.prototype:void 0,EA=xA?xA.valueOf:void 0,IA=Object.create,BA=function(){function e(){}return function(t){if(!Dd(t))return{};if(IA)return IA(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),DA=jf.a&&jf.a.isMap,TA=DA?Uf(DA):function(e){return Vd(e)&&"[object Map]"==wA(e)},OA=jf.a&&jf.a.isSet,FA=OA?Uf(OA):function(e){return Vd(e)&&"[object Set]"==wA(e)},RA={};RA["[object Arguments]"]=RA["[object Array]"]=RA["[object ArrayBuffer]"]=RA["[object DataView]"]=RA["[object Boolean]"]=RA["[object Date]"]=RA["[object Float32Array]"]=RA["[object Float64Array]"]=RA["[object Int8Array]"]=RA["[object Int16Array]"]=RA["[object Int32Array]"]=RA["[object Map]"]=RA["[object Number]"]=RA["[object Object]"]=RA["[object RegExp]"]=RA["[object Set]"]=RA["[object String]"]=RA["[object Symbol]"]=RA["[object Uint8Array]"]=RA["[object Uint8ClampedArray]"]=RA["[object Uint16Array]"]=RA["[object Uint32Array]"]=!0,RA["[object Error]"]=RA["[object Function]"]=RA["[object WeakMap]"]=!1;var PA=function e(t,n,r,i,o,a){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!Dd(t))return t;var h=Ff(t);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&_A.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!c)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,s)}else{var d=wA(t),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(Rf.a)(t))return Object(eA.a)(t,c);if("[object Object]"==d||"[object Arguments]"==d||f&&!o){if(s=u||f?{}:function(e){return"function"!=typeof e.constructor||Kf(e)?{}:BA(aA(e))}(t),!c)return u?function(e,t){return Ef(e,sA(e),t)}(t,function(e,t){return e&&Ef(t,$f(t),e)}(s,t)):function(e,t){return Ef(e,iA(e),t)}(t,function(e,t){return e&&Ef(t,Xf(t),e)}(s,t))}else{if(!RA[d])return o?t:{};s=function(e,t,n){var r,i,o=e.constructor;switch(t){case"[object ArrayBuffer]":return CA(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?CA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?CA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(i=new(r=e).constructor(r.source,SA.exec(r))).lastIndex=r.lastIndex,i;case"[object Set]":return new o;case"[object Symbol]":return EA?Object(EA.call(e)):{}}}(t,d,c)}}a||(a=new _f);var A=a.get(t);if(A)return A;a.set(t,s),FA(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):TA(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var p=h?void 0:(l?u?lA:uA:u?$f:Xf)(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n););}(p||t,(function(i,o){p&&(i=t[o=i]),xf(s,o,e(i,n,r,o,t,a))})),s},NA=Function.prototype.toString,MA=Object.prototype.hasOwnProperty,LA=NA.call(Object);function UA(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=[e],r=new Set,i=0;n.length>i;){var o=n[i++];if(!(r.has(o)||jA(o)||t.has(o)))if(r.add(o),o[Symbol.iterator])try{var a,s=_createForOfIteratorHelper(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;n.push(c)}}catch(l){s.e(l)}finally{s.f()}}catch(l){}else for(var u in o)"defaultValue"!==u&&n.push(o[u])}return r}function jA(e){var t=Object.prototype.toString.call(e),n=typeof e;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==e||e instanceof EventTarget||e instanceof Event}var QA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(r=t.call(this,i))._editor=null,r._throttledSave=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Dd(void 0)&&(r="leading"in void 0?!!(void 0).leading:r,i="trailing"in void 0?!!(void 0).trailing:i),function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function A(e){return u=e,s=setTimeout(g,t),l?f(e):a}function p(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=o}function g(){var e=Od();if(p(e))return v(e);s=setTimeout(g,function(e){var n=t-(e-c);return h?Jd(n,o-(e-u)):n}(e))}function v(e){return s=void 0,d&&r?f(e):(r=i=void 0,a)}function m(){var e=Od(),n=p(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return A(c);if(h)return clearTimeout(s),s=setTimeout(g,t),f(c)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Wd(t)||0,Dd(n)&&(l=!!n.leading,o=(h="maxWait"in n)?Yd(Wd(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},m.flush=function(){return void 0===s?a:v(Od())},m}(e,t,{leading:r,maxWait:t,trailing:i})}(r._save.bind(_assertThisInitialized(r)),"number"==typeof i.saveInterval?i.saveInterval:5e3),r._creator=function(t,n){return e.create(t,n)},r._destructor=function(e){return e.destroy()},r}return _createClass(n,[{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}},{key:"_restart",value:function(){var e=this;return Promise.resolve().then((function(){return e.state="initializing",e._fire("stateChange"),e._destroy()})).catch((function(e){console.error("An error happened during the editor destroying.",e)})).then((function(){if("string"==typeof e._elementOrData)return e.create(e._data,e._config,e._config.context);var t=Object.assign({},e._config,{initialData:e._data});return e.create(e._elementOrData,t,t.context)})).then((function(){e._fire("restart")}))}},{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._elementOrData,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._config,i=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then((function(){return _get(_getPrototypeOf(n.prototype),"_startErrorHandling",e).call(e),e._elementOrData=t,e._config=e._cloneEditorConfiguration(r)||{},e._config.context=i,e._creator(t,e._config)})).then((function(t){e._editor=t,t.model.document.on("change:data",e._throttledSave),e._lastDocumentVersion=t.model.document.version,e._data=e._getData(),e.state="ready",e._fire("stateChange")}))}},{key:"destroy",value:function(){var e=this;return Promise.resolve().then((function(){return e.state="destroyed",e._fire("stateChange"),_get(_getPrototypeOf(n.prototype),"destroy",e).call(e),e._destroy()}))}},{key:"_destroy",value:function(){var e=this;return Promise.resolve().then((function(){e._stopErrorHandling(),e._throttledSave.flush();var t=e._editor;return e._editor=null,t.model.document.off("change:data",e._throttledSave),e._destructor(t)}))}},{key:"_save",value:function(){var e=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(e){this._excludedProps=e}},{key:"_getData",value:function(){var e,t={},n=_createForOfIteratorHelper(this._editor.model.document.getRootNames());try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=this._editor.data.get({rootName:r})}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"_isErrorComingFromThisItem",value:function(e){return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t&&"object"==typeof(n=e)&&null!==n)return!0;var i,o=UA(e,r),a=UA(t,r),s=_createForOfIteratorHelper(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(a.has(c))return!0}}catch(u){s.e(u)}finally{s.f()}return!1}(this._editor,e.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(e){return function(e,t){return PA(e,5,t="function"==typeof t?t:void 0)}(e,(function(e,t){return function(e){return Vd(e)&&1===e.nodeType&&!function(e){if(!Vd(e)||"[object Object]"!=Hd(e))return!1;var t=aA(e);if(null===t)return!0;var n=MA.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&NA.call(n)==LA}(e)}(e)?e:"context"===t?e:void 0}))}}]),n}(function(){function e(t){var n=this;if(_classCallCheck(this,e),this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(e){var t=e.error||e.reason;t instanceof Error&&n._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return _createClass(e,[{key:"setCreator",value:function(e){this._creator=e}},{key:"setDestructor",value:function(e){this._destructor=e}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"off",value:function(e,t){this._listeners[e]=this._listeners[e].filter((function(e){return e!==t}))}},{key:"_fire",value:function(e){for(var t=this._listeners[e]||[],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.apply(this,[null].concat(r))}}catch(c){a.e(c)}finally{a.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t.filename,lineno:t.lineno,colno:t.colno,date:this._now()});var n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(e){return e.is&&e.is("CKEditorError")&&null!=e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),e}());function HA(e,t){}var VA,zA,qA=new Array(256).fill(0).map((function(e,t){return("0"+t.toString(16)).slice(-2)})),KA=((zA=function(){function e(t,n){var i,o,a,s;_classCallCheck(this,e),this.config={},this.data="",this.tagName="div",this.ready=new r.n,this.change=new r.n,this.blur=new r.n,this.focus=new r.n,this.error=new r.n,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=(i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,"e"+qA[i>>0&255]+qA[i>>8&255]+qA[i>>16&255]+qA[i>>24&255]+qA[o>>0&255]+qA[o>>8&255]+qA[o>>16&255]+qA[o>>24&255]+qA[a>>0&255]+qA[a>>8&255]+qA[a>>16&255]+qA[a>>24&255]+qA[s>>0&255]+qA[s>>8&255]+qA[s>>16&255]+qA[s>>24&255]),this.ngZone=n,this.elementRef=t;var c=window.CKEDITOR_VERSION;c?_slicedToArray(c.split(".").map(Number),1)[0]<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher."):console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}return _createClass(e,[{key:"disabled",get:function(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled},set:function(e){this.setDisabledState(e)}},{key:"editorInstance",get:function(){var e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}},{key:"ngAfterViewInit",value:function(){this.attachToWatchdog()}},{key:"ngOnDestroy",value:function(){return Bd(this,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.watchdog){e.next=5;break}return e.next=3,this.watchdog.remove(this.id);case 3:e.next=10;break;case 5:if(e.t0=this.editorWatchdog&&this.editorWatchdog.editor,!e.t0){e.next=10;break}return e.next=9,this.editorWatchdog.destroy();case 9:this.editorWatchdog=void 0;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"writeValue",value:function(e){var t=this;null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(e),this.isEditorSettingData=!1):(this.data=e,this.ready.pipe(Sn()).subscribe((function(e){e.setData(t.data)})))}},{key:"registerOnChange",value:function(e){this.cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this.cvaOnTouched=e}},{key:"setDisabledState",value:function(e){this.editorInstance&&(e?this.editorInstance.enableReadOnlyMode("Lock from Angular integration (@ckeditor/ckeditor5-angular)"):this.editorInstance.disableReadOnlyMode("Lock from Angular integration (@ckeditor/ckeditor5-angular)")),this.initiallyDisabled=e}},{key:"attachToWatchdog",value:function(){var e=this,t=function(t,n){return Bd(e,void 0,void 0,_regeneratorRuntime().mark((function e(){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.ngZone.runOutsideAngular((function(){return Bd(r,void 0,void 0,_regeneratorRuntime().mark((function e(){var r,i=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.elementRef.nativeElement.appendChild(t),e.next=3,this.editor.create(t,n);case 3:return r=e.sent,e.abrupt("return",(this.initiallyDisabled&&r.enableReadOnlyMode("Lock from Angular integration (@ckeditor/ckeditor5-angular)"),this.ngZone.run((function(){i.ready.emit(r)})),this.setUpEditorEvents(r),r));case 5:case"end":return e.stop()}}),e,this)})))})));case 1:case"end":return e.stop()}}),e,this)})))},n=function(t){return Bd(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.destroy();case 2:this.elementRef.nativeElement.removeChild(this.editorElement);case 3:case"end":return e.stop()}}),e,this)})))},r=function(){e.ngZone.run((function(){e.error.emit()}))},i=document.createElement(this.tagName),o=this.getConfig();if(this.editorElement=i,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:n,sourceElementOrData:i,config:o}),this.watchdog.on("itemError",(function(t,n){n.itemId===e.id&&r()}));else{var a=new QA(this.editor);a.setCreator(t),a.setDestructor(n),a.on("error",r),this.editorWatchdog=a,this.editorWatchdog.create(i,o)}}},{key:"getConfig",value:function(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");var e=Object.assign({},this.config),t=this.config.initialData||this.data;return t&&(e.initialData=t),e}},{key:"setUpEditorEvents",value:function(e){var t=this,n=e.editing.view.document;e.model.document.on("change:data",(function(n){t.ngZone.run((function(){if(t.cvaOnChange&&!t.isEditorSettingData){var r=e.getData();t.cvaOnChange(r)}t.change.emit({event:n,editor:e})}))})),n.on("focus",(function(n){t.ngZone.run((function(){t.focus.emit({event:n,editor:e})}))})),n.on("blur",(function(n){t.ngZone.run((function(){t.cvaOnTouched&&t.cvaOnTouched(),t.blur.emit({event:n,editor:e})}))}))}}]),e}()).\u0275fac=function(e){return new(e||zA)(r.Nb(r.l),r.Nb(r.z))},zA.\u0275cmp=r.Hb({type:zA,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[r.zb([{provide:Fa,useExisting:Object(r.T)((function(){return zA})),multi:!0}])],decls:1,vars:0,template:function(e,t){1&e&&r.vc(0,HA,0,0,"ng-template")},encapsulation:2}),zA),GA=((VA=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:VA}),VA.\u0275inj=r.Kb({factory:function(e){return new(e||VA)},imports:[[Lc,Ke]]}),VA);function WA(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function YA(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1. "),r.Rb())}function JA(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function XA(e,t){if(1&e&&(r.Sb(0,"textarea",59),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.zc("              ",n.checkUser,"\n            ")}}function ZA(e,t){if(1&e&&(r.Sb(0,"textarea",59),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.zc("                  ",n.checkUser,"\n            ")}}function $A(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function ep(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Gi\xe1 ban \u0111\u1ea7u ph\u1ea3i l\xe0 s\u1ed1 nguy\xean d\u01b0\u01a1ng. "),r.Rb())}function tp(e,t){if(1&e&&(r.Sb(0,"option",60),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.step)}}function np(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Vui l\xf2ng ch\u1ecdn b\u01b0\u1edbc gi\xe1 \u0111\u1ec3 \u0111\u1ea5u gi\xe1. "),r.Rb())}function rp(e,t){if(1&e&&(r.Sb(0,"option",60),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function ip(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Vui l\xf2ng ch\u1ecdn ch\u1ee7ng lo\u1ea1i s\u1ea3n ph\u1ea9m. "),r.Rb())}function op(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Vui l\xf2ng ch\u1ecdn \u1ea3nh \u0111\u1ec3 \u0111\u1ea5u gi\xe1. "),r.Rb())}function ap(e,t){if(1&e&&(r.Sb(0,"div"),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.yc(n.messageCreate)}}function sp(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",61),r.Sb(1,"div",62),r.Ob(2,"img",63),r.Sb(3,"span",64),r.ac("click",(function(){r.oc(n);var e=t.index;return r.cc(2).deleteImageNew(e)})),r.Ob(4,"i",65),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i,r.qc)}}function cp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function up(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i v\xe0 ph\u1ea3i c\xe1ch sau 3 ng\xe0y. "),r.Rb())}function lp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function hp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 v\xe0 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ea5u gi\xe1 qu\xe1 30 ng\xe0y. "),r.Rb())}function dp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function fp(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",6),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().addNewProduct()})),r.Sb(1,"fieldset"),r.Sb(2,"legend"),r.Sb(3,"div",7),r.Sb(4,"h1"),r.xc(5,"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",3),r.Sb(7,"div",8),r.Ob(8,"object",9),r.Sb(9,"label",10),r.xc(10,"T\xean s\u1ea3n ph\u1ea9m"),r.Sb(11,"span",5),r.xc(12,"(*)"),r.Rb(),r.xc(13,":"),r.Rb(),r.Rb(),r.Ob(14,"input",11),r.Sb(15,"div",12),r.vc(16,WA,2,0,"div",13),r.vc(17,YA,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(18,"div",3),r.Sb(19,"div",14),r.Ob(20,"object",15),r.Sb(21,"label",16),r.xc(22,"T\xean t\xe0i kho\u1ea3n"),r.Sb(23,"span",5),r.xc(24,"(*)"),r.Rb(),r.xc(25,":"),r.Rb(),r.Rb(),r.Sb(26,"div",8),r.Ob(27,"input",17,18),r.Sb(29,"button",19),r.ac("click",(function(){r.oc(n);var e=r.nc(28);return r.cc().findUserByAccount(e)})),r.Ob(30,"object",20),r.xc(31," Ki\u1ec3m tra "),r.Rb(),r.Sb(32,"button",21),r.ac("click",(function(){r.oc(n);var e=r.nc(28);return r.cc().resetFindUserById(e)})),r.Ob(33,"object",22),r.Rb(),r.Rb(),r.Rb(),r.Sb(34,"div",23),r.vc(35,JA,2,0,"div",13),r.Rb(),r.Sb(36,"div",3),r.Sb(37,"div",8),r.Ob(38,"object",24),r.Sb(39,"label",25),r.xc(40,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng:"),r.Rb(),r.Rb(),r.vc(41,XA,2,1,"textarea",26),r.vc(42,ZA,2,1,"textarea",26),r.Rb(),r.Sb(43,"div",3),r.Sb(44,"div",8),r.Ob(45,"object",27),r.Sb(46,"label",28),r.xc(47,"Gi\xe1 ban \u0111\u1ea7u"),r.Sb(48,"span",5),r.xc(49,"(*)"),r.Rb(),r.xc(50,":"),r.Rb(),r.Rb(),r.Ob(51,"input",29),r.Sb(52,"div",12),r.vc(53,$A,2,0,"div",13),r.vc(54,ep,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(55,"div",3),r.Sb(56,"div",8),r.Ob(57,"object",30),r.Sb(58,"label",31),r.xc(59,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Sb(60,"span",5),r.xc(61,"(*)"),r.Rb(),r.xc(62,":"),r.Rb(),r.Rb(),r.Sb(63,"select",32),r.Sb(64,"option",33),r.xc(65,"B\u01b0\u1edbc gi\xe1"),r.Rb(),r.vc(66,tp,2,2,"option",34),r.Rb(),r.Sb(67,"div",12),r.vc(68,np,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(69,"div",3),r.Sb(70,"div",8),r.Ob(71,"object",35),r.Sb(72,"label",36),r.xc(73,"Ch\u1ee7ng lo\u1ea1i"),r.Sb(74,"span",5),r.xc(75,"(*)"),r.Rb(),r.xc(76,":"),r.Rb(),r.Rb(),r.Sb(77,"select",37),r.Sb(78,"option",33),r.xc(79,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(),r.vc(80,rp,2,2,"option",34),r.Rb(),r.Sb(81,"div",12),r.vc(82,ip,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(83,"div",3),r.Sb(84,"div",8),r.Ob(85,"object",38),r.Sb(86,"label",39),r.xc(87,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Sb(88,"span",5),r.xc(89,"(*)"),r.Rb(),r.xc(90,":"),r.Rb(),r.Rb(),r.Sb(91,"input",40,41),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.Sb(93,"div",23),r.vc(94,op,2,0,"div",13),r.Rb(),r.Rb(),r.vc(95,ap,2,1,"div",13),r.Sb(96,"div",42),r.vc(97,sp,5,1,"div",43),r.Rb(),r.Sb(98,"div",3),r.Sb(99,"div",8),r.Ob(100,"object",24),r.Sb(101,"label",44),r.xc(102,"Th\xf4ng tin chi ti\u1ebft "),r.Sb(103,"span",5),r.xc(104,"(*)"),r.Rb(),r.xc(105,":"),r.Rb(),r.Rb(),r.Sb(106,"ckeditor",45),r.ac("ready",(function(e){return r.oc(n),r.cc().onReady(e)})),r.Rb(),r.Sb(107,"div",12),r.vc(108,cp,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(109,"div",3),r.Sb(110,"div",8),r.Ob(111,"object",46),r.Sb(112,"label",47),r.xc(113,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Sb(114,"span",5),r.xc(115,"(*)"),r.Rb(),r.xc(116,":"),r.Rb(),r.Rb(),r.Ob(117,"input",48),r.Sb(118,"div",12),r.vc(119,up,2,0,"div",13),r.vc(120,lp,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(121,"div",3),r.Sb(122,"div",8),r.Ob(123,"object",49),r.Sb(124,"label",50),r.xc(125,"Th\u1eddi gian k\u1ebft th\xfac"),r.Sb(126,"span",5),r.xc(127,"(*)"),r.Rb(),r.xc(128,":"),r.Rb(),r.Rb(),r.Ob(129,"input",51),r.Sb(130,"div",12),r.vc(131,hp,2,0,"div",13),r.vc(132,dp,2,0,"div",13),r.Rb(),r.Rb(),r.Sb(133,"div",52),r.Sb(134,"button",53),r.Ob(135,"object",54),r.Sb(136,"p"),r.xc(137," Th\xeam "),r.Rb(),r.Rb(),r.Sb(138,"button",55),r.ac("click",(function(){r.oc(n);var e=r.nc(92);return r.cc().resetForm(e)})),r.Ob(139,"object",56),r.Sb(140,"p"),r.xc(141,"Nh\u1eadp l\u1ea1i"),r.Rb(),r.Rb(),r.Sb(142,"button",57),r.Ob(143,"object",58),r.Sb(144,"p"),r.xc(145,"H\u1ee7y"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.formCreateProduct),r.Ab(14),r.hc("ngClass",i.formCreateProduct.controls.name.touched&&i.formCreateProduct.controls.name.invalid?"is-invalid":i.formCreateProduct.controls.name.touched&&i.formCreateProduct.controls.name.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.required)&&i.formCreateProduct.controls.name.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.maxlength)&&i.formCreateProduct.controls.name.touched),r.Ab(10),r.hc("ngClass",i.formCreateProduct.controls.user.touched&&i.formCreateProduct.controls.user.invalid?"is-invalid":i.formCreateProduct.controls.user.touched&&i.formCreateProduct.controls.user.valid?"is-valid":""),r.Ab(8),r.hc("ngIf",(null==i.formCreateProduct.controls.user.errors?null:i.formCreateProduct.controls.user.errors.required)&&i.formCreateProduct.controls.user.touched),r.Ab(6),r.hc("ngIf",i.userFind),r.Ab(1),r.hc("ngIf",!i.userFind),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.initialPrice.touched&&i.formCreateProduct.controls.initialPrice.invalid?"is-invalid":i.formCreateProduct.controls.initialPrice.touched&&i.formCreateProduct.controls.initialPrice.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.required)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.pattern)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.priceStep.touched&&i.formCreateProduct.controls.priceStep.invalid?"is-invalid":i.formCreateProduct.controls.priceStep.touched&&i.formCreateProduct.controls.priceStep.valid?"is-valid":""),r.Ab(3),r.hc("ngForOf",i.priceStepList),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.priceStep.errors?null:i.formCreateProduct.controls.priceStep.errors.required)&&i.formCreateProduct.controls.priceStep.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.category.touched&&i.formCreateProduct.controls.category.invalid?"is-invalid":i.formCreateProduct.controls.category.touched&&i.formCreateProduct.controls.category.valid?"is-valid":""),r.Ab(3),r.hc("ngForOf",i.categoryList),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.category.errors?null:i.formCreateProduct.controls.category.errors.required)&&i.formCreateProduct.controls.category.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.imageProduct.touched&&i.formCreateProduct.controls.imageProduct.invalid?"is-invalid":i.formCreateProduct.controls.imageProduct.touched&&i.formCreateProduct.controls.imageProduct.valid?"is-valid":""),r.Ab(3),r.hc("ngIf",(null==i.formCreateProduct.controls.imageProduct.errors?null:i.formCreateProduct.controls.imageProduct.errors.required)&&i.formCreateProduct.controls.imageProduct.touched),r.Ab(1),r.hc("ngIf",""!=i.messageCreate),r.Ab(2),r.hc("ngForOf",i.selectedFile),r.Ab(9),r.hc("editor",i.editor)("ngClass",i.formCreateProduct.controls.description.touched&&i.formCreateProduct.controls.description.invalid?"is-invalid":i.formCreateProduct.controls.description.touched&&i.formCreateProduct.controls.description.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.description.errors?null:i.formCreateProduct.controls.description.errors.required)&&i.formCreateProduct.controls.description.touched),r.Ab(9),r.hc("ngClass",null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkStartTime||i.formCreateProduct.controls.startTime.touched&&i.formCreateProduct.controls.startTime.invalid?"is-invalid":i.formCreateProduct.controls.startTime.touched&&i.formCreateProduct.controls.startTime.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkStartTime)&&i.formCreateProduct.controls.startTime.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.startTime.errors?null:i.formCreateProduct.controls.startTime.errors.required)&&i.formCreateProduct.controls.startTime.touched),r.Ab(9),r.hc("ngClass",null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkEndTime||i.formCreateProduct.controls.endTime.touched&&i.formCreateProduct.controls.endTime.invalid?"is-invalid":i.formCreateProduct.controls.endTime.touched&&i.formCreateProduct.controls.endTime.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkEndTime)&&i.formCreateProduct.controls.endTime.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.endTime.errors?null:i.formCreateProduct.controls.endTime.errors.required)&&i.formCreateProduct.controls.endTime.touched),r.Ab(2),r.hc("disabled",!i.formCreateProduct.valid)}}var Ap,pp=function(e){return new Date(e.get("startTime").value).getTime()-(new Date).getTime()<2592e5?{checkStartTime:!0}:null},gp=function(e){var t=new Date(e.get("startTime").value).getTime();console.log(t);var n=new Date(e.get("endTime").value).getTime();return console.log(n),n-t>2592e6&&n&&t||n-t<0?{checkEndTime:!0}:null},vp=((Ap=function(){function e(t,n,r,i,o,a,s,c,u,l){_classCallCheck(this,e),this._formBuilder=t,this._productService=n,this._categoryService=r,this._priceStepService=i,this._userService=o,this._storage=a,this._imageProductService=s,this._toast=c,this.titleService=u,this._route=l,this.editor=Ll,this.messageCreate="",this.categoryList=[],this.priceStepList=[],this.selectedFile=[],this.imgs=[],this.img=[],this.listCheckImage=[],this.readFile=[],this.titleService.setTitle("Th\xeam s\u1ea3n ph\u1ea9m")}return _createClass(e,[{key:"onReady",value:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}},{key:"ngOnInit",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){e.categoryList=t})),this._priceStepService.getListPriceStep().subscribe((function(t){e.priceStepList=t})),this.getFormCreate()}},{key:"addNewProduct",value:function(){var e=this;if(this.formCreateProduct.valid&&null!=this.userFind){this.formCreateProduct.patchValue({user:this.userFind.id}),this.productDto=this.formCreateProduct.value,console.log(this.formCreateProduct.value);for(var t=function(t){var n=e.readFile[t],r="RoomsImages/".concat(Date.now()),i=e._storage.ref(r);e._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(t){e.messageCreate="",e.imgs.push(t)}))}))).subscribe((function(){}))},n=0;n<this.readFile.length;n++)t(n);setTimeout((function(){e._productService.save(e.productDto).subscribe((function(t){if(0!==e.imgs.length)for(var n=0;n<e.imgs.length;n++)e._imageProductService.create({url:e.imgs[n],product:t.id}).subscribe((function(){}));e._toast.success("Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!"),e._route.navigateByUrl("/products")}))}),2e3)}else this._toast.error("Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}},{key:"findUserByAccount",value:function(e){var t=this;e.setAttribute("disabled",!0),this._userService.findUserByAccount(e.value).subscribe((function(e){t.userFind=e,t.formCreateProduct.patchValue({user:t.userFind.account.username}),t.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.firstName+" "+t.userFind.lastName}),(function(e){t.userFind=null,t.checkUser="Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng!"}))}},{key:"showPreview",value:function(e){var t=this;this.messageCreate="";var n=e.target.files;if(this.readFile=e.target.files,n.length+this.selectedFile.length<6){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.size>1048576){this.messageCreate="Dung l\u01b0\u1ee3ng \u1ea3nh v\u01b0\u1ee3t qu\xe1 1Mb",this.formCreateProduct.patchValue({imageProduct:[]}),this.selectedFile=[];break}var a=new FileReader;a.onload=function(e){t.selectedFile.push(e.target.result),console.log(t.selectedFile)},a.readAsDataURL(o)}}catch(s){i.e(s)}finally{i.f()}}else this.messageCreate="Vui l\xf2ng kh\xf4ng ch\u1ecdn qu\xe1 5 \u1ea3nh.",this.formCreateProduct.patchValue({imageProduct:[]}),this.selectedFile=[]}},{key:"deleteImageNew",value:function(e){1==this.selectedFile.length?(this.selectedFile.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!"),this.formCreateProduct.controls.imageProduct.setValue([])):(this.selectedFile.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!"))}},{key:"resetFindUserById",value:function(e){e.removeAttribute("disabled")}},{key:"getFormCreate",value:function(){this.formCreateProduct=this._formBuilder.group({id:[],name:["",[$a.required,$a.maxLength(255)]],description:["",[$a.required]],initialPrice:["",[$a.required,$a.pattern("\\d+")]],startTime:["",[$a.required]],endTime:["",[$a.required]],imageProduct:["",[$a.required]],registerDay:[],priceStep:["",[$a.required]],category:["",[$a.required]],user:["",[$a.required]]},{validators:[pp,gp]})}},{key:"resetForm",value:function(e){this.ngOnInit(),this.selectedFile=[],e.value="",this.checkUser="",this.messageCreate=""}}]),e}()).\u0275fac=function(e){return new(e||Ap)(r.Nb(Mc),r.Nb(tl),r.Nb(Ul),r.Nb(jl),r.Nb(Ql),r.Nb(Sd),r.Nb(Id),r.Nb(yu),r.Nb(Ft),r.Nb(so))},Ap.\u0275cmp=r.Hb({type:Ap,selectors:[["app-product-add"]],decls:9,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","mt-2","mb-2"],[1,"boxed","shadow","h-100"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],["for","name",1,"form-label","ms-2"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mb-2","mt-3","w-100"],["data","assets/icons/icon-people.svg","width","20","height","20"],["for","user",1,"form-label","ms-2"],["id","user","type","text","formControlName","user",1,"form-control",2,"width","50%",3,"ngClass"],["testNum",""],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","mx-3",3,"click"],["data","assets/icons/check-people.svg","width","20","height","20",1,"me-2","slide"],["type","button",2,"width","20%",3,"click"],["data","assets/icons/back.svg","width","20","height","20"],[1,"invalid-feedback","d-block"],["data","assets/icons/information.svg","width","20","height","20"],[1,"form-label","ms-2"],["class","form-control","disabled","",4,"ngIf"],["data","assets/icons/dollar.svg","width","20","height","20"],["for","initialPrice",1,"form-label","ms-2"],["id","initialPrice","type","text","formControlName","initialPrice",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["for","priceStep",1,"form-label","ms-2"],["id","priceStep","aria-label","Default select example","formControlName","priceStep",1,"form-select",3,"ngClass"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["for","category",1,"form-label","ms-2"],["id","category","aria-label","Default select example","formControlName","category",1,"form-select",3,"ngClass"],["data","assets/icons/image.svg","width","20","height","20"],["for","image",1,"form-label","ms-2"],["id","image","type","file","multiple","","autocomplete","off","formControlName","imageProduct","accept","image/png, image/gif, image/jpeg",1,"form-control",3,"ngClass","change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["for","description",1,"form-label","ms-2"],["id","description","formControlName","description",3,"editor","ngClass","ready"],["data","assets/icons/hour-end.svg","width","20","height","20"],["for","startTime",1,"form-label","ms-2"],["id","startTime","type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["for","endTime",1,"form-label","ms-2"],["id","endTime","type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","5px",3,"disabled"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],["type","button",1,"btn","btn-outline","btn-outline-primary","ms-auto","d-flex","justify-content-center",2,"margin-right","5px",3,"click"],["data","assets/icons/button-back.svg","width","20","height","20",1,"me-2","slide"],["routerLink","/products",1,"btn","btn-outline","btn-warning","ms-auto","d-flex","justify-content-center"],["data","assets/icons/cancel.svg","width","20","height","20",1,"me-2","slide"],["disabled","",1,"form-control"],[3,"ngValue"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.vc(2,fp,146,31,"form",2),r.Sb(3,"div",3),r.Sb(4,"span",4),r.xc(5," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Sb(6,"span",5),r.xc(7," (*)"),r.Rb(),r.xc(8," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(2),r.hc("ngIf",t.formCreateProduct))},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts,ke,KA,co],styles:["[_ngcontent-%COMP%]:not(i){font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}#product-model[_ngcontent-%COMP%]{display:flex;justify-content:center}.boxed[_ngcontent-%COMP%]{width:700px;height:auto;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important}.boxed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}.invalid-feedback[_ngcontent-%COMP%], [_nghost-%COMP%]     .ck .ck-toolbar{font-size:13px}"]}),Ap);function mp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function bp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1. "),r.Rb())}function yp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function wp(e,t){if(1&e&&(r.Sb(0,"textarea",56),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.zc("            ",n.checkUser,"\n            ")}}function _p(e,t){if(1&e&&(r.Sb(0,"textarea",56),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.zc("                  ",n.checkUser,"\n            ")}}function kp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function Cp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Gi\xe1 ban \u0111\u1ea7u ph\u1ea3i l\xe0 s\u1ed1 nguy\xean d\u01b0\u01a1ng. "),r.Rb())}function Sp(e,t){if(1&e&&(r.Sb(0,"option",57),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.step)}}function xp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Vui l\xf2ng ch\u1ecdn b\u01b0\u1edbc gi\xe1 \u0111\u1ec3 \u0111\u1ea5u gi\xe1. "),r.Rb())}function Ep(e,t){if(1&e&&(r.Sb(0,"option",57),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function Ip(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Vui l\xf2ng ch\u1ecdn ch\u1ee7ng lo\u1ea1i s\u1ea3n ph\u1ea9m. "),r.Rb())}function Bp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Vui l\xf2ng ch\u1ecdn \u1ea3nh \u0111\u1ec3 \u0111\u1ea5u gi\xe1. "),r.Rb())}function Dp(e,t){if(1&e&&(r.Sb(0,"div"),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.yc(n.messageEdit)}}function Tp(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",58),r.Sb(1,"div",59),r.Ob(2,"img",60),r.Sb(3,"span",61),r.ac("click",(function(){r.oc(n);var e=t.index,i=t.$implicit;return r.cc(2).deleteImage(e,i)})),r.Ob(4,"i",62),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i.url,r.qc)}}function Op(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",58),r.Sb(1,"div",59),r.Ob(2,"img",60),r.Sb(3,"span",61),r.ac("click",(function(){r.oc(n);var e=t.index;return r.cc(2).deleteImageNew(e)})),r.Ob(4,"i",62),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i,r.qc)}}function Fp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function Rp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i v\xe0 ph\u1ea3i c\xe1ch sau 3 ng\xe0y. "),r.Rb())}function Pp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function Np(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 v\xe0 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ea5u gi\xe1 qu\xe1 30 ng\xe0y. "),r.Rb())}function Mp(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function Lp(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",3),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.updateProduct(e.id)})),r.Sb(1,"fieldset"),r.Sb(2,"legend"),r.Sb(3,"div",4),r.Sb(4,"h1"),r.xc(5,"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ob(6,"input",5),r.Ob(7,"input",6),r.Ob(8,"input",7),r.Sb(9,"div",8),r.Sb(10,"div",9),r.Ob(11,"object",10),r.Sb(12,"label",11),r.xc(13,"T\xean s\u1ea3n ph\u1ea9m"),r.Sb(14,"span",12),r.xc(15,"(*)"),r.Rb(),r.xc(16,":"),r.Rb(),r.Rb(),r.Ob(17,"input",13),r.Sb(18,"div",14),r.vc(19,mp,2,0,"div",15),r.vc(20,bp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(21,"div",8),r.Sb(22,"div",9),r.Ob(23,"object",16),r.Sb(24,"label",17),r.xc(25,"T\xean t\xe0i kho\u1ea3n"),r.Sb(26,"span",12),r.xc(27,"(*)"),r.Rb(),r.xc(28,":"),r.Rb(),r.Rb(),r.Sb(29,"div",9),r.Ob(30,"input",18,19),r.Sb(32,"button",20),r.ac("click",(function(){r.oc(n);var e=r.nc(31);return r.cc().findUserByAccount(e)})),r.Ob(33,"object",21),r.xc(34," Ki\u1ec3m tra "),r.Rb(),r.Sb(35,"button",22),r.ac("click",(function(){r.oc(n);var e=r.nc(31);return r.cc().resetFindUserById(e)})),r.Ob(36,"object",23),r.Rb(),r.Rb(),r.Sb(37,"div",24),r.vc(38,yp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(39,"div",8),r.Sb(40,"div",9),r.Ob(41,"object",25),r.Sb(42,"label",26),r.xc(43,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng:"),r.Rb(),r.Rb(),r.vc(44,wp,2,1,"textarea",27),r.vc(45,_p,2,1,"textarea",27),r.Rb(),r.Sb(46,"div",8),r.Sb(47,"div",9),r.Ob(48,"object",28),r.Sb(49,"label",29),r.xc(50,"Gi\xe1 ban \u0111\u1ea7u"),r.Sb(51,"span",12),r.xc(52,"(*)"),r.Rb(),r.xc(53,":"),r.Rb(),r.Rb(),r.Ob(54,"input",30),r.Sb(55,"div",14),r.vc(56,kp,2,0,"div",15),r.vc(57,Cp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(58,"div",8),r.Sb(59,"div",9),r.Ob(60,"object",31),r.Sb(61,"label",26),r.xc(62,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Sb(63,"span",12),r.xc(64,"(*)"),r.Rb(),r.xc(65,":"),r.Rb(),r.Rb(),r.Sb(66,"select",32),r.vc(67,Sp,2,2,"option",33),r.Rb(),r.Sb(68,"div",14),r.vc(69,xp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(70,"div",8),r.Sb(71,"div",9),r.Ob(72,"object",34),r.Sb(73,"label",26),r.xc(74,"Ch\u1ee7ng lo\u1ea1i"),r.Sb(75,"span",12),r.xc(76,"(*)"),r.Rb(),r.xc(77,":"),r.Rb(),r.Rb(),r.Sb(78,"select",35),r.vc(79,Ep,2,2,"option",33),r.Rb(),r.Sb(80,"div",14),r.vc(81,Ip,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(82,"div",8),r.Sb(83,"div",9),r.Ob(84,"object",36),r.Sb(85,"label",37),r.xc(86,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Sb(87,"span",12),r.xc(88,"(*)"),r.Rb(),r.xc(89,":"),r.Rb(),r.Rb(),r.Sb(90,"input",38,39),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.Sb(92,"div",24),r.vc(93,Bp,2,0,"div",15),r.Rb(),r.Rb(),r.vc(94,Dp,2,1,"div",15),r.Sb(95,"div",40),r.vc(96,Tp,5,1,"div",41),r.vc(97,Op,5,1,"div",41),r.Rb(),r.Sb(98,"div",8),r.Sb(99,"div",9),r.Ob(100,"object",25),r.Sb(101,"label",42),r.xc(102,"Th\xf4ng tin chi ti\u1ebft"),r.Sb(103,"span",12),r.xc(104,"(*)"),r.Rb(),r.xc(105,":"),r.Rb(),r.Rb(),r.Sb(106,"ckeditor",43),r.ac("ready",(function(e){return r.oc(n),r.cc().onReady(e)})),r.Rb(),r.Sb(107,"div",14),r.vc(108,Fp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(109,"div",8),r.Sb(110,"div",9),r.Ob(111,"object",44),r.Sb(112,"label",26),r.xc(113,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Sb(114,"span",12),r.xc(115,"(*)"),r.Rb(),r.xc(116,":"),r.Rb(),r.Rb(),r.Ob(117,"input",45),r.Sb(118,"div",14),r.vc(119,Rp,2,0,"div",15),r.vc(120,Pp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(121,"div",8),r.Sb(122,"div",9),r.Ob(123,"object",46),r.Sb(124,"label",26),r.xc(125,"Th\u1eddi gian k\u1ebft th\xfac"),r.Sb(126,"span",12),r.xc(127,"(*)"),r.Rb(),r.xc(128,":"),r.Rb(),r.Rb(),r.Ob(129,"input",47),r.Sb(130,"div",14),r.vc(131,Np,2,0,"div",15),r.vc(132,Mp,2,0,"div",15),r.Rb(),r.Rb(),r.Sb(133,"div",48),r.Sb(134,"button",49),r.Ob(135,"object",50),r.Sb(136,"p"),r.xc(137," C\u1eadp nh\u1eadt "),r.Rb(),r.Rb(),r.Sb(138,"button",51),r.ac("click",(function(){r.oc(n);var e=r.nc(91);return r.cc().resetForm(e)})),r.Ob(139,"object",52),r.Sb(140,"p"),r.xc(141,"Nh\u1eadp l\u1ea1i"),r.Rb(),r.Rb(),r.Sb(142,"button",53),r.Ob(143,"object",54),r.Sb(144,"p"),r.xc(145,"H\u1ee7y"),r.Rb(),r.Rb(),r.Rb(),r.Sb(146,"div",8),r.Sb(147,"span",55),r.xc(148," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Sb(149,"span",12),r.xc(150," (*)"),r.Rb(),r.xc(151," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.formEditProduct),r.Ab(17),r.hc("ngClass",i.formEditProduct.controls.name.touched&&i.formEditProduct.controls.name.invalid?"is-invalid":i.formEditProduct.controls.name.touched&&i.formEditProduct.controls.name.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.controls.name.errors?null:i.formEditProduct.controls.name.errors.required)&&i.formEditProduct.controls.name.touched),r.Ab(1),r.hc("ngIf",(null==i.formEditProduct.controls.name.errors?null:i.formEditProduct.controls.name.errors.maxlength)&&i.formEditProduct.controls.name.touched),r.Ab(10),r.hc("ngClass",i.formEditProduct.controls.user.touched&&i.formEditProduct.controls.user.invalid?"is-invalid":i.formEditProduct.controls.user.touched&&i.formEditProduct.controls.user.valid?"is-valid":""),r.Ab(8),r.hc("ngIf",(null==i.formEditProduct.controls.user.errors?null:i.formEditProduct.controls.user.errors.required)&&i.formEditProduct.controls.user.touched),r.Ab(6),r.hc("ngIf",i.userFind),r.Ab(1),r.hc("ngIf",!i.userFind),r.Ab(9),r.hc("ngClass",i.formEditProduct.controls.initialPrice.touched&&i.formEditProduct.controls.initialPrice.invalid?"is-invalid":i.formEditProduct.controls.initialPrice.touched&&i.formEditProduct.controls.initialPrice.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.controls.initialPrice.errors?null:i.formEditProduct.controls.initialPrice.errors.required)&&i.formEditProduct.controls.initialPrice.touched),r.Ab(1),r.hc("ngIf",(null==i.formEditProduct.controls.initialPrice.errors?null:i.formEditProduct.controls.initialPrice.errors.pattern)&&i.formEditProduct.controls.initialPrice.touched),r.Ab(9),r.hc("ngClass",i.formEditProduct.controls.priceStep.touched&&i.formEditProduct.controls.priceStep.invalid?"is-invalid":i.formEditProduct.controls.priceStep.touched&&i.formEditProduct.controls.priceStep.valid?"is-valid":""),r.Ab(1),r.hc("ngForOf",i.priceStepList),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.controls.priceStep.errors?null:i.formEditProduct.controls.priceStep.errors.required)&&i.formEditProduct.controls.priceStep.touched),r.Ab(9),r.hc("ngClass",i.formEditProduct.controls.category.touched&&i.formEditProduct.controls.category.invalid?"is-invalid":i.formEditProduct.controls.category.touched&&i.formEditProduct.controls.category.valid?"is-valid":""),r.Ab(1),r.hc("ngForOf",i.categoryList),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.controls.category.errors?null:i.formEditProduct.controls.category.errors.required)&&i.formEditProduct.controls.category.touched),r.Ab(9),r.hc("ngClass",i.formEditProduct.controls.imageProduct.touched&&i.formEditProduct.controls.imageProduct.invalid?"is-invalid":i.formEditProduct.controls.imageProduct.touched&&i.formEditProduct.controls.imageProduct.valid?"is-valid":""),r.Ab(3),r.hc("ngIf",(null==i.formEditProduct.controls.imageProduct.errors?null:i.formEditProduct.controls.imageProduct.errors.required)&&i.formEditProduct.controls.imageProduct.touched),r.Ab(1),r.hc("ngIf",""!=i.messageEdit),r.Ab(2),r.hc("ngForOf",i.imgs),r.Ab(1),r.hc("ngForOf",i.selectedFile),r.Ab(9),r.hc("editor",i.editor)("ngClass",i.formEditProduct.controls.description.touched&&i.formEditProduct.controls.description.invalid?"is-invalid":i.formEditProduct.controls.description.touched&&i.formEditProduct.controls.description.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.controls.description.errors?null:i.formEditProduct.controls.description.errors.required)&&i.formEditProduct.controls.description.touched),r.Ab(9),r.hc("ngClass",null!=i.formEditProduct.errors&&i.formEditProduct.errors.checkStartTime||i.formEditProduct.controls.startTime.touched&&i.formEditProduct.controls.startTime.invalid?"is-invalid":i.formEditProduct.controls.startTime.touched&&i.formEditProduct.controls.startTime.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.errors?null:i.formEditProduct.errors.checkStartTime)&&i.formEditProduct.controls.startTime.touched),r.Ab(1),r.hc("ngIf",(null==i.formEditProduct.controls.startTime.errors?null:i.formEditProduct.controls.startTime.errors.required)&&i.formEditProduct.controls.startTime.touched),r.Ab(9),r.hc("ngClass",null!=i.formEditProduct.errors&&i.formEditProduct.errors.checkEndTime||i.formEditProduct.controls.endTime.touched&&i.formEditProduct.controls.endTime.invalid?"is-invalid":i.formEditProduct.controls.endTime.touched&&i.formEditProduct.controls.endTime.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formEditProduct.errors?null:i.formEditProduct.errors.checkEndTime)&&i.formEditProduct.controls.endTime.touched),r.Ab(1),r.hc("ngIf",(null==i.formEditProduct.controls.endTime.errors?null:i.formEditProduct.controls.endTime.errors.required)&&i.formEditProduct.controls.endTime.touched)}}var Up,jp,Qp=((jp=function(){function e(t,n,r,i,o,a,s,c,u,l,h){_classCallCheck(this,e),this._formBuilder=t,this._productService=n,this._categoryService=r,this._priceStepService=i,this._userService=o,this._storage=a,this._imageProductService=s,this._activatedRoute=c,this._toast=u,this.titleService=l,this._router=h,this.editor=Ll,this.categoryList=[],this.priceStepList=[],this.selectedFile=[],this.imgs=[],this.idImageList=[],this.imgCreate=[],this.checkUser="",this.messageEdit="",this.readFile=[],this.titleService.setTitle("Ch\u1ec9nh s\u1eeda s\u1ea3n ph\u1ea9m")}return _createClass(e,[{key:"ngOnInit",value:function(){this.getListCategory(),this.getListPriceStep(),this.getFormEdit()}},{key:"getFormEdit",value:function(){var e=this;this._activatedRoute.paramMap.subscribe((function(t){e.id=+t.get("id"),e._productService.findById(e.id).subscribe((function(t){e.productFind=t,console.log(t),e._userService.findUserByAccount(t.user.account.username).subscribe((function(t){e.userFind=t,console.log(t),e.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+e.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+e.userFind.firstName+" "+e.userFind.lastName,e.formEditProduct.patchValue({user:e.userFind.account.username})})),e._imageProductService.getListImgProductId(e.productFind.id).subscribe((function(t){e.imgs=t})),e.formEditProduct=e._formBuilder.group({id:[t.id,[$a.required]],name:[t.name,[$a.required,$a.maxLength(255)]],description:[t.description,[$a.required]],initialPrice:[t.initialPrice,[$a.required,$a.pattern("\\d+")]],startTime:[t.startTime,[$a.required]],endTime:[t.endTime,[$a.required]],registerDay:[t.registerDay],priceStep:[t.priceStep.id],category:[t.category.id],reviewStatus:[t.reviewStatus.id],auctionStatus:[t.auctionStatus.id],user:[t.user.id,[$a.required]],imageProduct:[1,[$a.required]]},{validators:[pp,gp]})}),(function(t){e._toast.error("L\u1ed7i trang !")}))}))}},{key:"getListCategory",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){e.categoryList=t}))}},{key:"getListPriceStep",value:function(){var e=this;this._priceStepService.getListPriceStep().subscribe((function(t){e.priceStepList=t}))}},{key:"findUserByAccount",value:function(e){var t=this;e.setAttribute("disabled",!0),this._userService.findUserByAccount(e.value).subscribe((function(e){t.userFind=e,t.formEditProduct.patchValue({user:t.userFind.account.username}),t.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.firstName+" "+t.userFind.lastName}),(function(e){t.userFind=null,t.checkUser="Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng!"}))}},{key:"showPreview",value:function(e){var t=this;this.messageEdit="";var n=e.target.files;if(this.readFile=e.target.files,n.length+this.imgs.length<6){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.size>1048576){this.messageEdit="Dung l\u01b0\u1ee3ng \u1ea3nh v\u01b0\u1ee3t qu\xe1 1Mb",this.selectedFile=[];break}var a=new FileReader;a.onload=function(e){t.selectedFile.push(e.target.result),console.log(t.selectedFile)},a.readAsDataURL(o)}}catch(s){i.e(s)}finally{i.f()}}else this.messageEdit="Vui l\xf2ng kh\xf4ng ch\u1ecdn qu\xe1 5 \u1ea3nh.",this.selectedFile=[]}},{key:"updateProduct",value:function(e){var t=this;if(this.formEditProduct.valid&&null!=this.userFind){if(0!=this.readFile.length)for(var n=function(e){var n=t.readFile[e],r="RoomsImages/".concat(Date.now()),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(e){t.messageEdit="",t.imgCreate.push(e)}))}))).subscribe((function(){}))},r=0;r<this.readFile.length;r++)n(r);setTimeout((function(){t.formEditProduct.patchValue({user:t.userFind.id}),t.productDto=t.formEditProduct.value,t._productService.update(t.productDto,e).subscribe((function(e){if(0!==t.imgCreate.length)for(var n=0;n<t.imgCreate.length;n++)t._imageProductService.create({url:t.imgCreate[n],product:e.id}).subscribe((function(){}));if(0!==t.idImageList.length)for(var r=0;r<t.idImageList.length;r++)t.deleteImageById(t.idImageList[r]);t._toast.success("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!"),t._router.navigateByUrl("/products")}))}),2e3)}else this._toast.error("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}},{key:"deleteImage",value:function(e,t){this.idImageList.push(t.id),this.imgs.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}},{key:"deleteImageNew",value:function(e){this.selectedFile.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}},{key:"deleteImageById",value:function(e){this._imageProductService.delete(e).subscribe((function(e){}))}},{key:"resetFindUserById",value:function(e){e.removeAttribute("disabled")}},{key:"resetForm",value:function(e){this.ngOnInit(),this.selectedFile=[],e.value="",this.messageEdit=""}},{key:"onReady",value:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}}]),e}()).\u0275fac=function(e){return new(e||jp)(r.Nb(Mc),r.Nb(tl),r.Nb(Ul),r.Nb(jl),r.Nb(Ql),r.Nb(Sd),r.Nb(Id),r.Nb(Xr),r.Nb(yu),r.Nb(Ft),r.Nb(so))},jp.\u0275cmp=r.Hb({type:jp,selectors:[["app-product-edit"]],decls:3,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","mt-2","mb-2"],[1,"boxed","shadow","h-100"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],["type","text","formControlName","id","hidden","",1,"form-control"],["formControlName","reviewStatus","hidden",""],["formControlName","auctionStatus","hidden",""],[1,"mb-2"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],["for","name",1,"form-label","ms-2"],[2,"color","red"],["id","name","type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["data","assets/icons/icon-people.svg","width","20","height","20"],["for","user",1,"form-label","ms-2"],["id","user","formControlName","user","type","text",1,"form-control",2,"width","50%",3,"ngClass"],["testNum",""],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","mx-3",3,"click"],["data","assets/icons/check-people.svg","width","20","height","20",1,"me-2","slide"],["type","button",2,"width","20%",3,"click"],["data","assets/icons/back.svg","width","20","height","20"],[1,"invalid-feedback","d-block"],["data","assets/icons/information.svg","width","20","height","20"],[1,"form-label","ms-2"],["class","form-control","disabled","",4,"ngIf"],["data","assets/icons/dollar.svg","width","20","height","20"],["for","initialPrice",1,"form-label","ms-2"],["id","initialPrice","type","number","formControlName","initialPrice",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["aria-label","Default select example","formControlName","priceStep",1,"form-select",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["formControlName","category","aria-label","Default select example",1,"form-select",3,"ngClass"],["data","assets/icons/image.svg","width","20","height","20"],["for","imageProduct",1,"form-label","ms-2"],["id","imageProduct","accept","image/png, image/gif, image/jpeg","type","file","multiple","","autocomplete","off","formControlName","imageProduct",1,"custom-file-input","form-control",3,"ngClass","change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["for","description",1,"form-label","ms-2"],["id","description","formControlName","description",3,"editor","ngClass","ready"],["data","assets/icons/hour-end.svg","width","20","height","20"],["type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],["type","button",1,"btn","btn-outline","btn-outline-primary","ms-auto","d-flex","justify-content-center",2,"margin-right","5px",3,"click"],["data","assets/icons/button-back.svg","width","20","height","20",1,"me-2","slide"],["routerLink","/products",1,"btn","btn-outline","btn-warning","ms-auto","d-flex","justify-content-center"],["data","assets/icons/cancel.svg","width","20","height","20",1,"me-2","slide"],[1,"fst-italic",2,"font-size","15px"],["disabled","",1,"form-control"],[3,"ngValue"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.vc(2,Lp,152,31,"form",2),r.Rb(),r.Rb()),2&e&&(r.Ab(2),r.hc("ngIf",t.formEditProduct))},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,ls,Cs,ke,KA,co,Ss,Ts],styles:["[_ngcontent-%COMP%]:not(i){font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}#product-model[_ngcontent-%COMP%]{display:flex;justify-content:center}.boxed[_ngcontent-%COMP%]{width:700px;height:100%;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto}.boxed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}.invalid-feedback[_ngcontent-%COMP%], [_nghost-%COMP%]     .ck .ck-toolbar{font-size:13px}"]}),jp),Hp=((Up=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"findAll",value:function(e,t){return this._httpClient.post(o.transactionUrl+"?page="+t,e)}},{key:"findByListId",value:function(e){return this._httpClient.post(o.transactionFindByListIdUrl,e)}},{key:"deleteByListId",value:function(e){return this._httpClient.post(o.transactionDeleteUrl,e)}}]),e}()).\u0275fac=function(e){return new(e||Up)(r.Wb(la))},Up.\u0275prov=r.Jb({token:Up,factory:Up.\u0275fac,providedIn:"root"}),Up);function Vp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng t\u1ed1i \u0111a 50 k\xfd t\u1ef1. "),r.Rb())}function zp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a s\u1ed1 hay k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t. "),r.Rb())}function qp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," T\xean ng\u01b0\u1eddi mua t\u1ed1i \u0111a 50 k\xfd t\u1ef1. "),r.Rb())}function Kp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," T\xean ng\u01b0\u1eddi mua kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a s\u1ed1 hay k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t. "),r.Rb())}function Gp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," T\xean s\u1ea3n ph\u1ea9m t\u1ed1i \u0111a 50 k\xfd t\u1ef1. "),r.Rb())}function Wp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a s\u1ed1 hay k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t. "),r.Rb())}function Yp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," \u0110\u1ed9 d\xe0i c\u1ee7a ti\u1ec1n <20. "),r.Rb())}function Jp(e,t){1&e&&(r.Sb(0,"div",58),r.xc(1," Gi\xe1 ti\u1ec1n ph\u1ea3i l\xe0 s\u1ed1 nguy\xean d\u01b0\u01a1ng (>0). "),r.Rb())}function Xp(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",37),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().findAll(0)})),r.Sb(1,"div",1),r.Sb(2,"div",38),r.Sb(3,"div",39),r.Ob(4,"input",40),r.Sb(5,"label",41),r.xc(6,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(),r.vc(7,Vp,2,0,"div",42),r.vc(8,zp,2,0,"div",42),r.Rb(),r.Rb(),r.Sb(9,"div",38),r.Sb(10,"div",39),r.Ob(11,"input",43),r.Sb(12,"label",41),r.xc(13,"Ng\u01b0\u1eddi mua"),r.Rb(),r.vc(14,qp,2,0,"div",42),r.vc(15,Kp,2,0,"div",42),r.Rb(),r.Rb(),r.Sb(16,"div",38),r.Sb(17,"div",39),r.Ob(18,"input",44),r.Sb(19,"label",45),r.xc(20,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(),r.vc(21,Gp,2,0,"div",42),r.vc(22,Wp,2,0,"div",42),r.Rb(),r.Rb(),r.Rb(),r.Sb(23,"div",1),r.Sb(24,"div",38),r.Sb(25,"div",39),r.Ob(26,"input",46),r.Sb(27,"label",47),r.xc(28,"Th\xe0nh ti\u1ec1n"),r.Rb(),r.vc(29,Yp,2,0,"div",42),r.vc(30,Jp,2,0,"div",42),r.Rb(),r.Rb(),r.Sb(31,"div",38),r.Sb(32,"div",39),r.Sb(33,"select",48),r.Sb(34,"option",49),r.xc(35,"- T\xecnh tr\u1ea1ng thanh to\xe1n -"),r.Rb(),r.Sb(36,"option",50),r.xc(37,"Thanh to\xe1n th\xe0nh c\xf4ng"),r.Rb(),r.Sb(38,"option",51),r.xc(39,"\u0110ang ch\u1edd thanh to\xe1n"),r.Rb(),r.Sb(40,"option",52),r.xc(41,"Thanh to\xe1n th\u1ea5t b\u1ea1i"),r.Rb(),r.Rb(),r.Sb(42,"label",53),r.xc(43,"T\xecnh tr\u1ea1ng"),r.Rb(),r.Rb(),r.Rb(),r.Sb(44,"div",54),r.Sb(45,"button",55),r.Ob(46,"i",56),r.xc(47," L\u1ecdc k\u1ebft qu\u1ea3 "),r.Rb(),r.Sb(48,"button",57),r.ac("click",(function(){return r.oc(n),r.cc().resetFormAndData()})),r.xc(49," L\xe0m m\u1edbi "),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.rfSearch),r.Ab(4),r.hc("ngClass",i.rfSearch.controls.userPost.touched?i.rfSearch.controls.userPost.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",i.rfSearch.controls.userPost.hasError("maxlength")&&i.rfSearch.controls.userPost.touched),r.Ab(1),r.hc("ngIf",i.rfSearch.controls.userPost.hasError("pattern")&&i.rfSearch.controls.userPost.touched&&!i.rfSearch.controls.userPost.hasError("maxlength")),r.Ab(3),r.hc("ngClass",i.rfSearch.controls.userBuying.touched?i.rfSearch.controls.userBuying.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",i.rfSearch.controls.userBuying.hasError("maxlength")&&i.rfSearch.controls.userBuying.touched),r.Ab(1),r.hc("ngIf",i.rfSearch.controls.userBuying.hasError("pattern")&&i.rfSearch.controls.userBuying.touched&&!i.rfSearch.controls.userBuying.hasError("maxlength")),r.Ab(3),r.hc("ngClass",i.rfSearch.controls.nameProduct.touched?i.rfSearch.controls.nameProduct.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",i.rfSearch.controls.nameProduct.hasError("maxlength")&&i.rfSearch.controls.nameProduct.touched),r.Ab(1),r.hc("ngIf",i.rfSearch.controls.nameProduct.hasError("pattern")&&i.rfSearch.controls.nameProduct.touched&&!i.rfSearch.controls.nameProduct.hasError("maxlength")),r.Ab(4),r.hc("ngClass",i.rfSearch.controls.currentPrice.touched?i.rfSearch.controls.currentPrice.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",i.rfSearch.controls.currentPrice.hasError("maxlength")&&i.rfSearch.controls.currentPrice.touched),r.Ab(1),r.hc("ngIf",i.rfSearch.controls.currentPrice.hasError("pattern")&&i.rfSearch.controls.currentPrice.touched&&!i.rfSearch.controls.currentPrice.hasError("maxlength"))}}function Zp(e,t){1&e&&(r.Sb(0,"p"),r.xc(1,"Th\xe0nh c\xf4ng"),r.Rb())}function $p(e,t){1&e&&(r.Sb(0,"p",58),r.xc(1,"Th\u1ea5t b\u1ea1i"),r.Rb())}function eg(e,t){1&e&&(r.Sb(0,"p"),r.xc(1,"\u0110ang ch\u1edd"),r.Rb())}function tg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"tr"),r.Sb(1,"td",63),r.xc(2),r.Rb(),r.Sb(3,"td",63),r.xc(4),r.Rb(),r.Sb(5,"td",63),r.xc(6),r.dc(7,"date"),r.Rb(),r.Sb(8,"td"),r.xc(9),r.Rb(),r.Sb(10,"td"),r.xc(11),r.Rb(),r.Sb(12,"td"),r.xc(13),r.Rb(),r.Sb(14,"td",63),r.xc(15),r.dc(16,"number"),r.Rb(),r.Sb(17,"td"),r.vc(18,Zp,2,0,"p",23),r.vc(19,$p,2,0,"p",42),r.vc(20,eg,2,0,"p",23),r.Rb(),r.Sb(21,"td",64),r.Sb(22,"input",65),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc(2).addToDelete(e.paymentId)})),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index,a=r.cc(2);r.Ab(2),r.yc(o+1),r.Ab(2),r.yc(i.paymentId),r.Ab(2),r.yc(r.fc(7,12,i.auctionDay,"dd/MM/y H:mm:ss")),r.Ab(3),r.yc(i.userPost),r.Ab(2),r.yc(i.userBuying),r.Ab(2),r.yc(i.productName),r.Ab(2),r.yc(r.ec(16,15,i.currentPrice)),r.Ab(3),r.hc("ngIf",1==i.paymentStatus&&!0===i.deleteStatus),r.Ab(1),r.hc("ngIf",1==i.paymentStatus&&!1===i.deleteStatus),r.Ab(1),r.hc("ngIf",0==i.paymentStatus&&!1===i.deleteStatus),r.Ab(2),r.hc("checked",a.deleteIds.includes(i.paymentId))("disabled",1==i.paymentStatus&&!0===i.deleteStatus||1==i.paymentStatus&&!1===i.deleteStatus)}}function ng(e,t){if(1&e){var n=r.Tb();r.Sb(0,"table",59),r.Sb(1,"thead"),r.Sb(2,"tr"),r.Sb(3,"th"),r.xc(4,"STT"),r.Rb(),r.Sb(5,"th"),r.xc(6,"M\xe3 giao d\u1ecbch"),r.Rb(),r.Sb(7,"th"),r.xc(8,"Th\u1eddi gian \u0111\u1ea5u gi\xe1"),r.Rb(),r.Sb(9,"th"),r.xc(10,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(),r.Sb(11,"th"),r.xc(12,"Ng\u01b0\u1eddi mua"),r.Rb(),r.Sb(13,"th"),r.xc(14,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(),r.Sb(15,"th"),r.xc(16,"Th\xe0nh ti\u1ec1n(VN\u0110)"),r.Rb(),r.Sb(17,"th"),r.xc(18,"T\xecnh tr\u1ea1ng giao d\u1ecbch"),r.Rb(),r.Sb(19,"th",60),r.Sb(20,"button",61),r.ac("click",(function(){return r.oc(n),r.cc().addAllToDelete()})),r.Ob(21,"i",62),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(22,"tbody"),r.vc(23,tg,23,17,"tr",33),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(23),r.hc("ngForOf",i.pageTransaction.content)}}function rg(e,t){1&e&&(r.Sb(0,"h3",66),r.xc(1,"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"),r.Rb())}function ig(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageTransaction.number-3)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageTransaction.number-2)}}function og(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageTransaction.number-2)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageTransaction.number-1)}}function ag(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageTransaction.number-1)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageTransaction.number)}}function sg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageTransaction.number+1)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageTransaction.number+2)}}function cg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageTransaction.number+2)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageTransaction.number+3)}}function ug(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageTransaction.number+3)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageTransaction.number+4)}}function lg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"nav",67),r.Sb(2,"ul",68),r.Sb(3,"li",69),r.Sb(4,"a",70),r.ac("click",(function(){return r.oc(n),r.cc().gotoPage(0)})),r.xc(5," << "),r.Rb(),r.Rb(),r.vc(6,ig,3,1,"li",71),r.vc(7,og,3,1,"li",71),r.vc(8,ag,3,1,"li",71),r.Sb(9,"li",72),r.Sb(10,"a",73),r.xc(11),r.Rb(),r.Rb(),r.vc(12,sg,3,1,"li",71),r.vc(13,cg,3,1,"li",71),r.vc(14,ug,3,1,"li",71),r.Sb(15,"li",69),r.Sb(16,"a",70),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.pageTransaction.totalPages-1)})),r.xc(17," >> "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(4),r.hc("ngClass",i.pageTransaction.first?"disabled":""),r.Ab(2),r.hc("ngIf",i.pageTransaction.number-2>0),r.Ab(1),r.hc("ngIf",i.pageTransaction.number-1>0),r.Ab(1),r.hc("ngIf",i.pageTransaction.number>0),r.Ab(3),r.yc(i.pageTransaction.number+1),r.Ab(1),r.hc("ngIf",i.pageTransaction.number+2<=i.pageTransaction.totalPages),r.Ab(1),r.hc("ngIf",i.pageTransaction.number+3<=i.pageTransaction.totalPages),r.Ab(1),r.hc("ngIf",i.pageTransaction.number+4<=i.pageTransaction.totalPages),r.Ab(2),r.hc("ngClass",i.pageTransaction.last?"disabled":"")}}function hg(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"strong",58),r.xc(2),r.Rb(),r.xc(3,"? "),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.Ac("",n.paymentId," v\xe0 ",n.productName,"")}}var dg,fg=((dg=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._transactionService=t,this._router=n,this._formBuilder=r,this._notificationService=i,this._titleService=o,this._titleService.setTitle("Qu\u1ea3n l\xfd giao d\u1ecbch")}return _createClass(e,[{key:"ngOnInit",value:function(){this.createSearchForm(),this.findAll(0),this.deleteIds=[],this.checkedAll=!1}},{key:"findAll",value:function(e){var t=this;this._transactionService.findAll(this.rfSearch.value,e).subscribe((function(e){t.pageTransaction=e,console.log(e)}))}},{key:"createSearchForm",value:function(){this.rfSearch=this._formBuilder.group({userPost:["",[$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{1,50}$"),$a.maxLength(50)]],userBuying:["",[$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{1,50}$"),$a.maxLength(50)]],nameProduct:[""],currentPrice:["",[$a.pattern("^[0-9]{0,20}"),$a.maxLength(20)]],paymentStatus:[""]})}},{key:"resetFormAndData",value:function(){this.ngOnInit()}},{key:"gotoPage",value:function(e){this.findAll(e)}},{key:"addToDelete",value:function(e){var t=this.deleteIds.indexOf(e,0);t>-1?this.deleteIds.splice(t,1):this.deleteIds.push(e)}},{key:"addAllToDelete",value:function(){this.checkedAll=!0;var e,t=_createForOfIteratorHelper(this.pageTransaction.content);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.deleteIds.includes(n.paymentId)){this.checkedAll=!1;break}}}catch(l){t.e(l)}finally{t.f()}if(this.checkedAll){var r,i=_createForOfIteratorHelper(this.pageTransaction.content);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.deleteIds.indexOf(o.paymentId,0);this.deleteIds.splice(a,1)}}catch(l){i.e(l)}finally{i.f()}}else{var s,c=_createForOfIteratorHelper(this.pageTransaction.content);try{for(c.s();!(s=c.n()).done;){var u=s.value;-1==this.deleteIds.indexOf(u.paymentId,0)&&this.deleteIds.push(u.paymentId)}}catch(l){c.e(l)}finally{c.f()}}}},{key:"sendToDeleteGroupModal",value:function(){var e=this;this.deleteTransaction=[],this._transactionService.findByListId(this.deleteIds).subscribe((function(t){e.deleteTransaction=t}),(function(t){e._notificationService.showErrorNotification("Kh\xf4ng t\xecm th\u1ea5y m\xe3 giao d\u1ecbch")}))}},{key:"delete",value:function(){var e=this;this._transactionService.deleteByListId(this.deleteIds).subscribe((function(t){e._notificationService.showSuccessNotification("Xo\xe1 th\xe0nh c\xf4ng!")}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi xo\xe1")}),(function(){e.ngOnInit()}))}}]),e}()).\u0275fac=function(e){return new(e||dg)(r.Nb(Hp),r.Nb(so),r.Nb(Mc),r.Nb(rl),r.Nb(Ft))},dg.\u0275cmp=r.Hb({type:dg,selectors:[["app-transaction"]],decls:59,vars:6,consts:[[1,"container-fluid"],[1,"row"],["id","side-bar",1,"col-lg-2","sidebar__left"],[1,"menu"],[1,"menu__item"],["routerLink","/home",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],["routerLink","/products",1,"menu__link"],[1,"menu__icon","fa-solid","fa-book"],["routerLink","/user/list",1,"menu__link"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__item","active"],["routerLink","/transaction",1,"menu__link"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"col-lg-10"],[1,"mt-3","mb-3",2,"text-align","center"],["id","search-row",1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],["id","list-row",1,"row"],["id","customer_table","class","table table-striped table-bordered",4,"ngIf"],["id","null-result-noti",4,"ngIf"],["id","last-row",1,"d-flex","justify-content-between"],[4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-danger",3,"disabled","click"],[1,"fa-regular","fa-trash-can","delete-icon"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-4"],[1,"form-floating","mb-4","form-inp"],["type","text","placeholder","Ng\u01b0\u1eddi \u0111\u0103ng","id","floatingPost","formControlName","userPost",1,"form-control","form-control-underlined","form-select-underlined",3,"ngClass"],["for","floatingBuying"],["style","color: red",4,"ngIf"],["type","text","placeholder","Ng\u01b0\u1eddi mua","id","floatingBuying","formControlName","userBuying",1,"form-control","form-control-underlined","form-select-underlined",3,"ngClass"],["type","text","placeholder","T\xean s\u1ea3n ph\u1ea9m","id","floatingName","formControlName","nameProduct",1,"form-control","form-control-underlined","form-select-underlined",3,"ngClass"],["for","floatingName"],["type","text","placeholder","Th\xe0nh ti\u1ec1n","id","floatingMoney","formControlName","currentPrice",1,"form-control","form-control-underlined","form-select-underlined",3,"ngClass"],["for","floatingMoney"],["id","floatingPaymentStatus","formControlName","paymentStatus",1,"form-select","form-select-underlined","form-select-underlined"],["value",""],["value","1"],["value","2"],["value","0"],["for","floatingPaymentStatus"],["id","form-btn",1,"col-4"],["type","submit",1,"btn","btn-primary"],[1,"fa-solid","fa-magnifying-glass"],[1,"btn","btn-success",3,"click"],[2,"color","red"],["id","customer_table",1,"table","table-striped","table-bordered"],["width","10",1,"text-center"],[1,"btn",3,"click"],[1,"fa-regular","fa-trash-can","delete-group-icon",2,"color","red"],[1,"text-end"],[1,"text-center"],["type","checkbox",1,"delete-checkbox",3,"checked","disabled","click"],["id","null-result-noti"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div"),r.Sb(4,"nav"),r.Sb(5,"ul",3),r.Sb(6,"li",4),r.Sb(7,"a",5),r.Ob(8,"i",6),r.xc(9," Trang ch\u1ee7 "),r.Sb(10,"span",7),r.xc(11,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(12,"li",4),r.Sb(13,"a",8),r.Ob(14,"i",9),r.xc(15," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Sb(16,"span",7),r.xc(17,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(18,"li",4),r.Sb(19,"a",10),r.Ob(20,"i",11),r.xc(21," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Sb(22,"span",7),r.xc(23,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"li",12),r.Sb(25,"a",13),r.Ob(26,"i",14),r.xc(27," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Sb(28,"span",7),r.xc(29,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(30,"div",15),r.Sb(31,"h3",16),r.xc(32,"Qu\u1ea3n L\xfd Giao D\u1ecbch"),r.Rb(),r.Sb(33,"div",17),r.vc(34,Xp,50,13,"form",18),r.Rb(),r.Sb(35,"div",19),r.vc(36,ng,24,1,"table",20),r.vc(37,rg,2,0,"h3",21),r.Rb(),r.Sb(38,"div",22),r.vc(39,lg,18,9,"div",23),r.Sb(40,"div"),r.Sb(41,"button",24),r.ac("click",(function(){return t.sendToDeleteGroupModal()})),r.Ob(42,"i",25),r.xc(43," Xo\xe1 "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(44,"div",26),r.Sb(45,"div",27),r.Sb(46,"div",28),r.Sb(47,"div",29),r.Sb(48,"h5",30),r.xc(49,"X\xf3a giao d\u1ecbch"),r.Rb(),r.Ob(50,"button",31),r.Rb(),r.Sb(51,"div",32),r.xc(52," Xo\xe1 giao d\u1ecbch c\xf3 m\xe3 giao d\u1ecbch v\xe0 t\xean s\u1ea3n ph\u1ea9m l\xe0: "),r.vc(53,hg,4,2,"div",33),r.Sb(54,"div",34),r.Sb(55,"button",35),r.xc(56,"Hu\u1ef7 b\u1ecf"),r.Rb(),r.Sb(57,"button",36),r.ac("click",(function(){return t.delete()})),r.xc(58,"X\xe1c nh\u1eadn "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(34),r.hc("ngIf",t.rfSearch),r.Ab(2),r.hc("ngIf",null!=t.pageTransaction),r.Ab(1),r.hc("ngIf",null==t.pageTransaction),r.Ab(2),r.hc("ngIf",t.pageTransaction),r.Ab(2),r.hc("disabled",0==t.deleteIds.length),r.Ab(12),r.hc("ngForOf",t.deleteTransaction))},directives:[uo,Se,ke,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts],pipes:[Pe,Ne],styles:[".sidebar__left[_ngcontent-%COMP%]{background-color:#fe6432;padding-top:12px;z-index:5;min-height:90vh}.sidebar__left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.box[_ngcontent-%COMP%]{margin-top:64px;position:fixed;height:85vh}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding:0;margin:0}#search-row[_ngcontent-%COMP%]{display:flex}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:14px}app-header[_ngcontent-%COMP%]{left:0;right:0;z-index:10;position:fixed}.menu[_ngcontent-%COMP%]{padding:24px 0 0;background-color:#fe6432;margin:0}.box[_ngcontent-%COMP%], .menu__item[_ngcontent-%COMP%]{display:flex}.menu__item[_ngcontent-%COMP%]{padding:4px 12px;list-style-type:none;cursor:pointer;margin-bottom:12px;align-items:center;justify-content:center}.menu__link[_ngcontent-%COMP%]{text-decoration:none}.menu__link[_ngcontent-%COMP%], .menu__link[_ngcontent-%COMP%]:hover{color:#fff8dc}.menu__item[_ngcontent-%COMP%]:hover{background-color:#fff8dc;opacity:.7}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#0a0a0a}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.form-select-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:0;padding-left:13px}#null-result-noti[_ngcontent-%COMP%]{text-align:center;color:red}.active[_ngcontent-%COMP%]{background-color:#534c4c}#form-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:10%;margin-top:5%}th[_ngcontent-%COMP%]{text-align:center;vertical-align:top}#list-row[_ngcontent-%COMP%]{width:100%;padding:2% 2% 1% 5%}"]}),dg);function Ag(e,t){if(1&e&&(r.Sb(0,"div",31),r.Sb(1,"p",32),r.Sb(2,"span",33),r.xc(3),r.Ob(4,"i",34),r.Rb(),r.Sb(5,"span",35),r.xc(6),r.dc(7,"currency"),r.Sb(8,"sup"),r.xc(9,"\u0111"),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"p",36),r.Sb(11,"span",37),r.xc(12),r.Rb(),r.Rb(),r.Ob(13,"img",38),r.Rb()),2&e){var n=t.$implicit,i=t.index;r.Ab(3),r.yc(i+1),r.Ab(3),r.zc("",r.fc(7,6,n.initialPrice,"VND")," "),r.Ab(4),r.jc("routerLink","/auction-detail/",n.id,""),r.Ab(1),r.ic("title",null==n?null:n.name),r.Ab(1),r.yc(null==n?null:n.name),r.Ab(1),r.ic("src",null==n.imgUrlProducts[0]?null:n.imgUrlProducts[0].url,r.qc)}}function pg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",44),r.Sb(1,"span",45),r.ac("click",(function(){r.oc(n);var e=t.$implicit,i=r.cc(2);return i.setValueCategorySearch(e.id,i.rfSearch.value.rangePrice,i.rfSearch.value.productAuctionStatus,i.rfSearch.value.name)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index,a=r.cc(2);r.hc("ngClass",a.rfSearch.value.categoryID==o+1?"active":""),r.Ab(2),r.zc(" ",i.name," ")}}function gg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",39),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.rfSearch.value)})),r.Sb(1,"div",2),r.Sb(2,"div",40),r.Sb(3,"div",41),r.Sb(4,"div",42),r.Sb(5,"ul",43),r.Sb(6,"li",44),r.Sb(7,"span",45),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.setValueCategorySearch("",e.rfSearch.value.rangePrice,e.rfSearch.value.productAuctionStatus,e.rfSearch.value.name)})),r.xc(8," T\u1ea5t c\u1ea3 "),r.Rb(),r.Rb(),r.vc(9,pg,3,2,"li",46),r.Sb(10,"li",44),r.Sb(11,"span",45),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.setValueAuctionProductStatusSearch(e.categoryIDSearch,e.rfSearch.value.rangePrice,"2",e.rfSearch.value.name)})),r.xc(12," \u0110ang \u0111\u1ea5u gi\xe1 "),r.Rb(),r.Rb(),r.Sb(13,"li",44),r.Sb(14,"span",45),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.setValueAuctionProductStatusSearch(e.categoryIDSearch,e.rfSearch.value.rangePrice,"3",e.rfSearch.value.name)})),r.xc(15," \u0110\xe3 k\u1ebft th\xfac "),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"form",47),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.rfSearch.value)})),r.Sb(17,"select",48),r.ac("change",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.rfSearch.value)})),r.Sb(18,"option",49),r.Sb(19,"span"),r.xc(20,"M\u1ee9c gi\xe1"),r.Rb(),r.Rb(),r.Sb(21,"option",50),r.xc(22,"Nh\u1ecf h\u01a1n 5 tri\u1ec7u"),r.Rb(),r.Sb(23,"option",51),r.xc(24,"Nh\u1ecf h\u01a1n 30 tri\u1ec7u"),r.Rb(),r.Sb(25,"option",52),r.xc(26,"T\u1ea5t c\u1ea3"),r.Rb(),r.Rb(),r.Sb(27,"div",53),r.Ob(28,"input",54),r.Sb(29,"button",55),r.xc(30,"T\xecm ki\u1ebfm"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.rfSearch),r.Ab(6),r.hc("ngClass",""==(null==i.rfSearch?null:i.rfSearch.value.categoryID)?"active":""),r.Ab(3),r.hc("ngForOf",i.categorys),r.Ab(1),r.hc("ngClass","2"==i.auctionStatusId?"active":""),r.Ab(3),r.hc("ngClass","3"==i.auctionStatusId?"active":""),r.Ab(3),r.hc("formGroup",i.rfSearch)}}function vg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",71),r.Sb(1,"img",72),r.ac("click",(function(e){r.oc(n);var i=t.index,o=r.cc().index;return r.cc(2).changeImage(e,o,i)})),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index,a=r.cc().index;r.Db("image__item img-selected",a,""),r.ic("value",o),r.Ab(1),r.ic("src",i.url,r.qc)}}function mg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",73),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc(2).setValueProductId(e.id)})),r.Sb(1,"span",74),r.xc(2,"\u0110\u1ea5u gi\xe1"),r.Rb(),r.Rb()}}var bg=function(e){return["/auction-detail/",e]};function yg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",75),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc(2).setValueProductId(e.id)})),r.Sb(1,"span",76),r.xc(2,"Tham gia"),r.Rb(),r.Rb()}if(2&e){var i=r.cc().$implicit;r.hc("routerLink",r.lc(1,bg,i.id))}}function wg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",77),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc(2).setValueProductId(e.id)})),r.Sb(1,"span",78),r.xc(2,"Xem th\xeam"),r.Rb(),r.Rb()}if(2&e){var i=r.cc().$implicit;r.hc("routerLink",r.lc(1,bg,i.id))}}function _g(e,t){if(1&e&&(r.Sb(0,"div",58),r.Sb(1,"div",59),r.Ob(2,"img",60),r.Sb(3,"ul",61),r.vc(4,vg,2,5,"li",62),r.Rb(),r.Sb(5,"div",63),r.Sb(6,"p",64),r.xc(7),r.dc(8,"titlecase"),r.Rb(),r.Sb(9,"span",65),r.xc(10),r.Rb(),r.Sb(11,"p",66),r.xc(12),r.dc(13,"currency"),r.Sb(14,"sup"),r.xc(15,"\u0111"),r.Rb(),r.Rb(),r.Ob(16,"p"),r.Sb(17,"div",67),r.vc(18,mg,3,0,"button",68),r.vc(19,yg,3,3,"button",69),r.vc(20,wg,3,3,"button",70),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){var n=t.$implicit,i=t.index;r.Ab(2),r.jc("id","image__main",i,""),r.ic("src",null==n.imgUrlProducts[0]?null:n.imgUrlProducts[0].url,r.qc),r.Ab(2),r.hc("ngForOf",n.imgUrlProducts),r.Ab(2),r.ic("title",n.name),r.Ab(1),r.yc(r.ec(8,14,n.name)),r.Ab(2),r.hc("ngClass",1==(null==n.auctionStatus?null:n.auctionStatus.id)?"auction":2==(null==n.auctionStatus?null:n.auctionStatus.id)?"auctioning":3==(null==n.auctionStatus?null:n.auctionStatus.id)?"auctioned":""),r.Ab(1),r.zc(" ",n.auctionStatus.name," "),r.Ab(2),r.zc("",r.fc(13,16,n.initialPrice,"VND")," "),r.Ab(4),r.Db("mt-2 time time-",i,""),r.Ab(2),r.hc("ngIf",1==(null==n.auctionStatus?null:n.auctionStatus.id)),r.Ab(1),r.hc("ngIf",2==(null==n.auctionStatus?null:n.auctionStatus.id)),r.Ab(1),r.hc("ngIf",3==(null==n.auctionStatus?null:n.auctionStatus.id))}}function kg(e,t){if(1&e&&(r.Sb(0,"div",56),r.vc(1,_g,21,19,"div",57),r.Rb()),2&e){var n=r.cc();r.Ab(1),r.hc("ngForOf",n.pageProducts.content)}}function Cg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",79),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.gotoPageNumber(null==e.rfSearch?null:e.rfSearch.value,e.pageHasNext+1)})),r.xc(1,"Xem th\xeam "),r.Rb()}}var Sg,xg=((Sg=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._productService=t,this._formBuilder=n,this._categoryService=r,this._userService=i,this._socketService=o,this._titleService=a,this._route=s,this.pageHasNext=0,this.categoryIDSearch="",this.auctionStatusId="",this.isSelectedAuction="",this.intervalList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._titleService.setTitle("Trang Ch\u1ee7"),this.rfSearch=this._formBuilder.group({name:[""],categoryID:[""],rangePrice:["999999999999999999"],productAuctionStatus:[""]}),this._categoryService.getListCategory().subscribe((function(t){e.categorys=t})),this.gotoPage(this.rfSearch.value),this.selectedChangImage(),this.getTop()}},{key:"gotoPage",value:function(e){var t=this;this._productService.getAllAndSearch(this.rfSearch.value).subscribe((function(e){t.pageProducts=e,t.natedProduct||(t.natedProduct=e.content.slice(0,4)),t.runCountDowTime(e)})),this.pageHasNext=0}},{key:"gotoPageNumber",value:function(e,t){var n=this;this.pageHasNext+=1,this._productService.getAllAndSearchToPage(this.rfSearch.value,t).subscribe((function(e){e.content.forEach((function(e){n.pageProducts.content.push(e)})),n.runCountDowTime(n.pageProducts)}))}},{key:"setValueCategorySearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;this.categoryIDSearch=e,this.rfSearch.setValue({name:r.trim(),categoryID:e+"".trim(),rangePrice:t+"".trim(),productAuctionStatus:n}),this.gotoPage(this.rfSearch.value)}},{key:"setValueAuctionProductStatusSearch",value:function(e,t,n,r){this.clearInterValList(),this.isSelectedAuction==n&&(n=""),this.auctionStatusId=n,this.rfSearch.setValue({name:r.trim(),categoryID:e+"".trim(),rangePrice:t+"".trim(),productAuctionStatus:n}),this.isSelectedAuction=n,this.gotoPage(this.rfSearch.value)}},{key:"changeImage",value:function(e,t,n){var r=e.target.src,i=document.querySelectorAll(".img-selected"+t);document.getElementById("image__main"+t).setAttribute("src",r),i.forEach((function(e){e.getAttribute("value")==n+""?e.classList.add("actived"):e.classList.remove("actived")}))}},{key:"selectedChangImage",value:function(){setTimeout((function(){var e=document.querySelectorAll(".carousel__images");console.log(e),e.forEach((function(e){var t;null===(t=e.children[0])||void 0===t||t.classList.add("actived")}))}),500)}},{key:"getTop",value:function(){}},{key:"setValueProductId",value:function(e){this._productService.setProductDetailId(e),this._route.navigate(["auction-detail",e])}},{key:"runCountDowTime",value:function(e){for(var t,n,r=0;r<e.totalElements;r++)n=null===(t=e.content[r])||void 0===t?void 0:t.endTime,console.log("end time: ",r,n),console.log("endteime get time",r,new Date(n).getTime()-(new Date).getTime()),this.runCountDowDate(new Date(n).getTime(),r)}},{key:"runCountDowDate",value:function(e,t){var n=".time-"+t;if(e){var r=setInterval((function(){var t=(new Date).getTime(),i=e-t,o=Math.floor(i/864e5),a=Math.floor(i%864e5/36e5),s=Math.floor(i%36e5/6e4),c=Math.floor(i%6e4/1e3);document.querySelectorAll(n).forEach((function(e){i>0?e.innerHTML='<span style="\n                    min-width:30px;\n                    text-align: center;\n                    border: 1px solid red;\n                    padding: 2px;\n                    border-radius: 3px;"\n                    class="time__dd">\n                    '.concat(o," Ng\xe0y\n                </span>")+'<span class="mx-1">:</span>'+'<span style="min-width:30px; text-align: center; border: 1px solid red; padding: 2px; border-radius: 3px" class="time__hh red__color">'.concat(a,"</span>")+'<span class="mx-1">:</span>'+'<span style="min-width:30px; text-align: center; border: 1px solid red; padding: 2px; border-radius: 3px" class="time__mm">'.concat(s,"</span>")+'<span class="mx-1">:</span>'+'<span style="min-width:30px; text-align: center; border: 1px solid red; padding: 2px; border-radius: 3px" class="time__ss">'.concat(c,"</span>"):(clearInterval(r),e.innerHTML='<span class="time__hh mx-2" style="color: #95abb9">H\u1ebft th\u1eddi gian</span>')}))}));this.intervalList.push(r)}else console.log("Gio co van de, yeu cau sua database")}},{key:"clearInterValList",value:function(){this.intervalList.length>0&&(this.intervalList.forEach((function(e){console.log("xoa gio"),clearInterval(e)})),this.intervalList=[])}}]),e}()).\u0275fac=function(e){return new(e||Sg)(r.Nb(tl),r.Nb(Mc),r.Nb(Ul),r.Nb(Ql),r.Nb(nl),r.Nb(Ft),r.Nb(so))},Sg.\u0275cmp=r.Hb({type:Sg,selectors:[["app-home"]],decls:39,vars:4,consts:[[1,"app","container"],[1,"my__slide"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-lg-10","p-0",2,"margin-left","-12px","margin-right","-12px"],["id","carouselExampleCaptions","data-bs-ride","false",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://salt.tikicdn.com/cache/w1080/ts/tikimsp/c9/9b/c2/2d30734356a0f9577a966c7c673ac5c4.png.webp","alt","...","height","400",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://salt.tikicdn.com/cache/w1080/ts/tikimsp/e5/0f/43/31d7c26ed78fab94754e29ad66c67980.png.webp","alt","...","height","400",1,"d-block","w-100"],["src","https://media-cdn-v2.laodong.vn/storage/newsportal/2018/12/1/644302/IMG_1554.jpg","alt","...","height","400",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-lg-2","sidebar__right"],[1,"my__card","w-100",2,"border","none"],[1,"my__card__heading"],["class","my__card__body mb-2",4,"ngFor","ngForOf"],["class","filter",3,"formGroup","ngSubmit",4,"ngIf"],[1,"content"],["class","row","style","margin: 0 -24px;",4,"ngIf"],[1,"more","mt-2","mb-2","d-flex","justify-content-center"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"my__card__body","mb-2"],[1,"d-flex","justify-content-between","mb-2"],[1,""],[1,"mx-2","fa-solid","fa-crown","text-warning"],[1,"product__price--one","text-danger"],[1,"d-flex","flex-wrap","justify-content-between","my__link",3,"routerLink"],[1,"card__title--one",3,"title"],["alt","",1,"d-block","w-100",3,"src"],[1,"filter",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12","p-0"],[1,"filter"],[1,"category","d-flex","flex-wrap"],[1,"category__item","mb-2",3,"ngClass"],[1,"category_text",3,"click"],["class","category__item mb-2",3,"ngClass",4,"ngFor","ngForOf"],["action","",1,"w-100","form__filter","d-flex",3,"formGroup","ngSubmit"],["formControlName","rangePrice",1,"select__price",3,"change"],["value","999999999999999999",1,"text-center"],["value","5000000",1,"text-center"],["value","30000000",1,"text-center"],["value","50000000",1,"text-center"],[1,"form_search"],["type","text","formControlName","name","placeholder","B\u1ea1n c\u1ea7n t\xecm g\xec?...",1,"input__search"],[1,"btn__search"],[1,"row",2,"margin","0 -24px"],["class","col-lg-3 col-sm-6 col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-sm-6","col-12","col-md-4","mb-4"],[1,"card","product"],["height","226","alt","",1,"d-block","w-100","card-img",3,"id","src"],[1,"carousel__images","d-flex","justify-content-left"],[3,"value","class",4,"ngFor","ngForOf"],[1,"card-body"],[1,"mb-2","card__title",3,"title"],[1,"product-status",3,"ngClass"],[1,"product__price"],[1,"modal__product"],["class"," btn__auction",3,"click",4,"ngIf"],["class"," btn__auctioning",3,"routerLink","click",4,"ngIf"],["class"," btn btn__auctioned",3,"routerLink","click",4,"ngIf"],[3,"value"],["height","30","width","","alt","",1,"d-block","w-100",3,"src","click"],[1,"btn__auction",3,"click"],[1,"btn__auction--title"],[1,"btn__auctioning",3,"routerLink","click"],[1,"btn__auctioning--title"],[1,"btn","btn__auctioned",3,"routerLink","click"],[1,"btn__auctioned--title"],[1,"btn","btn-outline-danger",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"div",5),r.Sb(6,"div",6),r.Ob(7,"button",7),r.Ob(8,"button",8),r.Ob(9,"button",9),r.Rb(),r.Sb(10,"div",10),r.Sb(11,"div",11),r.Ob(12,"img",12),r.Ob(13,"div",13),r.Rb(),r.Sb(14,"div",14),r.Ob(15,"img",15),r.Ob(16,"div",13),r.Rb(),r.Sb(17,"div",14),r.Ob(18,"img",16),r.Ob(19,"div",13),r.Rb(),r.Rb(),r.Sb(20,"button",17),r.Ob(21,"span",18),r.Sb(22,"span",19),r.xc(23,"Previous"),r.Rb(),r.Rb(),r.Sb(24,"button",20),r.Ob(25,"span",21),r.Sb(26,"span",19),r.xc(27,"Next"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(28,"div",22),r.Sb(29,"div",23),r.Sb(30,"p",24),r.xc(31,"S\u1ea3n ph\u1ea9m m\u1edbi"),r.Rb(),r.vc(32,Ag,14,9,"div",25),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.vc(33,gg,31,6,"form",26),r.Sb(34,"div",27),r.Sb(35,"div",2),r.vc(36,kg,2,1,"div",28),r.Rb(),r.Rb(),r.Sb(37,"div",29),r.vc(38,Cg,2,0,"button",30),r.Rb(),r.Rb()),2&e&&(r.Ab(32),r.hc("ngForOf",t.natedProduct),r.Ab(1),r.hc("ngIf",t.rfSearch),r.Ab(3),r.hc("ngIf",t.pageProducts),r.Ab(2),r.hc("ngIf",t.pageHasNext+1<(null==t.pageProducts?null:t.pageProducts.totalPages)))},directives:[ke,Se,co,vc,Wa,yc,we,Cs,Ga,Fc,Ss,Ts,La],pipes:[Me,Re],styles:['[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}html[_ngcontent-%COMP%]{background-color:#ecf0f1}body[_ngcontent-%COMP%]{min-height:1000px}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}.header__mobile[_ngcontent-%COMP%]{display:none}.product__price[_ngcontent-%COMP%]{padding-left:12px;font-size:24px;text-align:right;color:#f51902;margin:0;padding-right:8px;background:rgba(255,189,190,.27)}.product__price[_ngcontent-%COMP%]:first-letter{margin-right:8px;color:transparent}.product__price--one[_ngcontent-%COMP%]:first-letter{color:transparent}.select__price[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;text-indent:1px;text-overflow:""}.form__filter[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.login__btn[_ngcontent-%COMP%]{padding:4px;border:none;border-radius:2px;color:#e74c3c;box-shadow:2px 2px 8px hsla(0,0%,100%,.35);display:flex;align-items:center}.login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.cl-white[_ngcontent-%COMP%]{color:#ecf0f1}.sidebar__right[_ngcontent-%COMP%]{background:transparent;margin-right:-12px}.sidebar__right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.sidebar__right[_ngcontent-%COMP%]   .my__card[_ngcontent-%COMP%]{margin-bottom:8px}.sidebar__right[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column;overflow-y:scroll;height:400px;margin-left:24px}.sidebar__right[_ngcontent-%COMP%]::-webkit-scrollbar{display:none;font-size:20px}.my__card__heading[_ngcontent-%COMP%]{color:#fff;padding:4px 8px;border-radius:0 25px 0 0;text-transform:capitalize;background-color:#f3734c}.filter[_ngcontent-%COMP%]{padding-top:12px;width:100%;display:flex;align-items:start}select[_ngcontent-%COMP%]::-ms-expand{display:none}.form_search[_ngcontent-%COMP%]{width:80%;padding-left:8px;position:relative;display:flex;align-items:center}.btn__search[_ngcontent-%COMP%]{position:absolute;right:3px;border-radius:25px;border:none;background:#e74c3c;color:#fff;padding:4px 8px}.input__search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #e74c3c;border-radius:25px;outline:none;width:50%;position:relative}.input__search[_ngcontent-%COMP%]{width:100%}.my__card[_ngcontent-%COMP%]{border-radius:2px;box-shadow:1px 1px 8px rgba(122,119,119,.35)}.my__card__body[_ngcontent-%COMP%]{padding:4px 8px;background-color:#ecf0f1}.my__card__img[_ngcontent-%COMP%]{display:block;width:100%;border-radius:2px 2px 0 0}.category[_ngcontent-%COMP%]{display:flex}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;color:#e74c3c;border:1px solid #e74c3c;cursor:pointer}.category__item[_ngcontent-%COMP%], .category__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}#top[_ngcontent-%COMP%]{position:relative}.category__item[_ngcontent-%COMP%]:hover{background-color:#e74c3c;color:#ecf0f1}#select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";display:block;background-color:red;width:10px;height:10px;position:absolute}.category__item.active[_ngcontent-%COMP%]{background-color:#e74c3c;color:#ecf0f1}.content[_ngcontent-%COMP%]{margin-top:32px}.card[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:1px 1px 8px rgba(0,0,0,.35);position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 17px rgba(0,0,0,.35)}.card[_ngcontent-%COMP%]:hover   .modal__product[_ngcontent-%COMP%]{display:flex}.modal__product[_ngcontent-%COMP%]{display:none;position:absolute;bottom:0;left:0;width:100%;height:15%;background-color:hsla(0,0%,54.5%,.17);animation:top-down .3s ease-in-out;border-radius:0 0 4px 4px;align-items:center;justify-content:center}@keyframes top-down{0%{bottom:-30%}to{bottom:0}0%{opacity:0}to{opacity:1%}}.card-img[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0}.btn__auction--title[_ngcontent-%COMP%], .btn__auctioned--title[_ngcontent-%COMP%], .btn__auctioning--title[_ngcontent-%COMP%]{font-size:20px;color:#fff}.btn__auction[_ngcontent-%COMP%], .btn__auctioned[_ngcontent-%COMP%], .btn__auctioning[_ngcontent-%COMP%]{border-radius:2px;position:absolute;border:none;padding:4px;min-height:36px;display:flex;align-items:center;justify-content:center;width:75%}.btn__auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.btn__auction[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500)}.btn__auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.card__title[_ngcontent-%COMP%]{font-size:16px!important;-webkit-line-clamp:2;min-height:46px;border-bottom:1px solid rgba(122,123,124,.24)}.card__title[_ngcontent-%COMP%], .card__title--one[_ngcontent-%COMP%]{padding-bottom:4px;color:#4d5154;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;text-overflow:ellipsis}.card__title--one[_ngcontent-%COMP%]{font-size:14px!important;-webkit-line-clamp:1}.time[_ngcontent-%COMP%], .timed[_ngcontent-%COMP%]{font-size:16px;color:#e74c3c;display:flex;font-weight:700;justify-content:center;align-items:center}.product[_ngcontent-%COMP%]{position:relative}.my__link[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.card-body[_ngcontent-%COMP%]{padding:0 8px 8px}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll;width:100%;display:flex}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#f5f5f5;height:8px;width:16px}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,98,50,.9);border-radius:10px}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:4px;cursor:pointer}.image__item.actived[_ngcontent-%COMP%]{border:2px solid rgba(231,76,60,.41);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.product-status[_ngcontent-%COMP%]{top:0;left:0;position:absolute;display:block;padding:2px 8px;background:linear-gradient(90deg,#c21500,#ffc500);font-size:12px;color:#ecf0f1;border-radius:8px 0 8px 0;min-width:60%}.product-status.auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.product-status.auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.auctioned[_ngcontent-%COMP%]{background-color:#3498db!important}.logo[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}.copyright[_ngcontent-%COMP%]{padding:12px 0}@media (max-width:992px){.header[_ngcontent-%COMP%]{padding:4px 0}.login__btn[_ngcontent-%COMP%]{padding:4px}.label_guide[_ngcontent-%COMP%], .login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .my__slide[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{margin-top:4px;flex-wrap:wrap}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:3px;color:red;border:1px solid #e74c3c;cursor:pointer}.category[_ngcontent-%COMP%], .form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form__filter[_ngcontent-%COMP%]{margin-top:8px}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.input__search[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}@media (max-width:768px){.form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:8px}.category__item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.category[_ngcontent-%COMP%], .input__search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:none}.header__mobile[_ngcontent-%COMP%]{display:block}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}}']}),Sg);function Eg(e,t){1&e&&(r.Sb(0,"div",66),r.xc(1," M\xe3 b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Rb())}function Ig(e,t){1&e&&(r.Sb(0,"div",66),r.xc(1," T\xean b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Rb())}function Bg(e,t){if(1&e&&(r.Sb(0,"option",67),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.ic("value",n.id),r.Ab(1),r.yc(n.name)}}function Dg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",46),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().goToPage(0)})),r.Sb(1,"div",47),r.Sb(2,"div",19),r.Sb(3,"div",48),r.Ob(4,"input",49),r.Sb(5,"label",50),r.xc(6,"M\xe3 th\xe0nh vi\xean:"),r.Rb(),r.Rb(),r.vc(7,Eg,2,0,"div",51),r.Rb(),r.Sb(8,"div",19),r.Sb(9,"div",52),r.Ob(10,"input",53),r.Sb(11,"label",54),r.xc(12,"H\u1ecd v\xe0 t\xean:"),r.Rb(),r.Rb(),r.vc(13,Ig,2,0,"div",51),r.Rb(),r.Sb(14,"div",19),r.Sb(15,"div",48),r.Ob(16,"input",55),r.Sb(17,"label",56),r.xc(18,"\u0110\u1ecba ch\u1ec9:"),r.Rb(),r.Rb(),r.Rb(),r.Sb(19,"div",19),r.Sb(20,"div",48),r.Ob(21,"input",57),r.Sb(22,"label",58),r.xc(23,"Email:"),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"div",19),r.Sb(25,"div",48),r.Sb(26,"select",59),r.Sb(27,"option",60),r.xc(28,"--Ch\u1ecdn--"),r.Rb(),r.vc(29,Bg,2,2,"option",61),r.Rb(),r.Sb(30,"label",62),r.xc(31,"X\u1ebfp h\u1ea1ng:"),r.Rb(),r.Rb(),r.Rb(),r.Sb(32,"div",63),r.Ob(33,"input",64),r.Sb(34,"input",65),r.ac("click",(function(){return r.oc(n),r.cc().resetFormAndData()})),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.rfSearch),r.Ab(4),r.hc("ngClass",i.rfSearch.controls.idSearch.touched&&i.rfSearch.controls.idSearch.errors?"is-invalid":""),r.Ab(3),r.hc("ngIf",i.rfSearch.controls.idSearch.hasError("pattern")&&i.rfSearch.controls.idSearch.touched),r.Ab(3),r.hc("ngClass",i.rfSearch.controls.nameSearch.touched&&i.rfSearch.controls.nameSearch.errors?"is-invalid":""),r.Ab(3),r.hc("ngIf",i.rfSearch.controls.nameSearch.hasError("pattern")&&i.rfSearch.controls.nameSearch.touched),r.Ab(3),r.hc("ngClass",i.rfSearch.controls.addressSearch.touched&&i.rfSearch.controls.addressSearch.errors?"is-invalid":""),r.Ab(5),r.hc("ngClass",i.rfSearch.controls.emailSearch.touched&&i.rfSearch.controls.emailSearch.errors?"is-invalid":""),r.Ab(8),r.hc("ngForOf",i.userTypeList),r.Ab(4),r.hc("disabled",!i.rfSearch.valid)}}function Tg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",74),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc(2).modalById(e.id)})),r.Ob(1,"i",75),r.Rb()}}function Og(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",76),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc(2).modalById(e.id)})),r.Ob(1,"i",77),r.Rb()}}var Fg=function(e){return["/user/edit",e]};function Rg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"tr"),r.Sb(1,"td"),r.xc(2),r.Rb(),r.Sb(3,"td"),r.xc(4),r.Rb(),r.Sb(5,"td"),r.xc(6),r.Rb(),r.Sb(7,"td"),r.xc(8),r.Rb(),r.Sb(9,"td"),r.xc(10),r.Rb(),r.Sb(11,"td"),r.xc(12),r.Rb(),r.Sb(13,"td"),r.Sb(14,"button",69),r.Ob(15,"i",70),r.Rb(),r.xc(16," | "),r.vc(17,Tg,2,0,"button",71),r.vc(18,Og,2,0,"ng-template",null,72,r.wc),r.Rb(),r.Sb(20,"td",29),r.Sb(21,"input",73),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc(2).addToUnlock(e.id)})),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index,a=r.nc(19),s=r.cc(2);r.Ab(2),r.yc(5*s.pageUsers.number+o+1),r.Ab(2),r.Ac("",i.lastName," ",i.firstName," "),r.Ab(2),r.Bc("",i.address.town,", ",i.address.district,", ",i.address.city," "),r.Ab(2),r.yc(i.userType.name),r.Ab(2),r.yc(i.email),r.Ab(2),r.yc(i.phone),r.Ab(2),r.hc("routerLink",r.lc(13,Fg,i.id)),r.Ab(3),r.hc("ngIf",i.account.statusLock)("ngIfElse",a),r.Ab(4),r.hc("checked",s.unlockIds.includes(i.id))}}function Pg(e,t){if(1&e&&(r.Sb(0,"tbody"),r.vc(1,Rg,22,15,"tr",68),r.Rb()),2&e){var n=r.cc();r.Ab(1),r.hc("ngForOf",n.pageUsers.content)}}function Ng(e,t){1&e&&(r.Sb(0,"h1",78),r.xc(1,"Kh\xf4ng t\xecm th\u1ea5y "),r.Rb())}function Mg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",81),r.Sb(1,"span",82),r.ac("click",(function(){r.oc(n);var e=t.index;return r.cc(2).goToPage(e)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=t.index,o=r.cc(2);r.hc("ngClass",i==o.pageUsers.number?"active":""),r.Ab(2),r.yc(i+1)}}var Lg=function(){return[]};function Ug(e,t){if(1&e){var n=r.Tb();r.Sb(0,"nav",79),r.Sb(1,"ul",80),r.Sb(2,"li",81),r.Sb(3,"span",82),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.goToPage(e.pageUsers.number-1)})),r.xc(4," Trang tr\u01b0\u1edbc "),r.Rb(),r.Rb(),r.vc(5,Mg,3,2,"li",83),r.Sb(6,"li",81),r.Sb(7,"a",82),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.goToPage(e.pageUsers.number+1)})),r.xc(8,"Trang sau"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(2),r.hc("ngClass",0==i.pageUsers.number?"disabled":""),r.Ab(3),r.hc("ngForOf",r.kc(3,Lg).constructor(i.pageUsers.totalPages)),r.Ab(1),r.hc("ngClass",i.pageUsers.totalPages==i.pageUsers.number+1?"disabled":"")}}function jg(e,t){if(1&e&&(r.Sb(0,"strong",66),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.Ab(1),r.yc(n.id)}}function Qg(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",84),r.Sb(1,"div",36),r.Sb(2,"div",37),r.Sb(3,"div",38),r.Sb(4,"h5",85),r.xc(5,"X\xe1c nh\u1eadn"),r.Rb(),r.Ob(6,"button",40),r.Rb(),r.Sb(7,"div",41),r.Sb(8,"div"),r.xc(9," M\u1edf kho\xe1 th\xe0nh vi\xean c\xf3 "),r.Sb(10,"strong"),r.xc(11,"M\xe3 th\xe0nh vi\xean l\xe0: "),r.Rb(),r.vc(12,jg,2,1,"strong",42),r.xc(13,"? "),r.Rb(),r.Sb(14,"div",43),r.Sb(15,"button",86),r.xc(16,"Hu\u1ef7"),r.Rb(),r.Sb(17,"button",87),r.ac("click",(function(){return r.oc(n),r.cc().unlock()})),r.xc(18,"X\xe1c nh\u1eadn "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(12),r.hc("ngForOf",i.unlockUsers)}}function Hg(e,t){1&e&&(r.Sb(0,"span"),r.xc(1,","),r.Rb())}function Vg(e,t){if(1&e&&(r.Sb(0,"strong",66),r.xc(1),r.vc(2,Hg,2,0,"span",31),r.Rb()),2&e){var n=t.$implicit,i=t.index,o=r.cc();r.Ab(1),r.zc(" ",n.id,""),r.Ab(1),r.hc("ngIf",i!=o.unlockUsers.length-1)}}var zg,qg,Kg=((zg=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._userService=t,this._formBuilder=n,this._toast=r,this._notificationService=i,this._titleService=o,this._router=a,this.userTypeList=[],this._titleService.setTitle("Qu\u1ea3n l\xfd th\xe0nh vi\xean")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._userService.findAllUserType().subscribe((function(t){e.userTypeList=t,e.rfSearch=e._formBuilder.group({idSearch:["",[$a.pattern("^([0-9]{0,10})")]],nameSearch:["",[$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{1,30}$")]],addressSearch:["",[$a.pattern("^[a-zA-Z0-9,_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{1,30}$")]],emailSearch:["",[$a.pattern("^[a-zA-Z0-9,_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{1,30}$")]],userTypeSearch:[""]}),e.unlockIds=[],console.log("sonTN"+e.rfSearch.value),e.onSearchAndPage(),console.log(e.onSearchAndPage())}))}},{key:"onSearchAndPage",value:function(){var e=this;this._userService.searchBy(this.rfSearch.value,0).subscribe((function(t){e.pageUsers=t,console.log("list"+e.pageUsers.content);for(var n=0;n<e.pageUsers.content.length;n++)console.log("list:"+e.pageUsers.content[n].account.username)}))}},{key:"goToPage",value:function(e){var t=this;this._userService.searchBy(this.rfSearch.value,e).subscribe((function(e){console.log(e),t.pageUsers=e,console.log(t.pageUsers)}),(function(e){t._toast.error("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn Server")}))}},{key:"addToUnlock",value:function(e){var t=this.unlockIds.indexOf(e,0);t>-1?this.unlockIds.splice(t,1):this.unlockIds.push(e)}},{key:"addAllToUnlock",value:function(){this.checkedAll=!0;var e,t=_createForOfIteratorHelper(this.pageUsers.content);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.unlockIds.includes(n.id)){this.checkedAll=!1;break}}}catch(l){t.e(l)}finally{t.f()}if(this.checkedAll){var r,i=_createForOfIteratorHelper(this.pageUsers.content);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.unlockIds.indexOf(o.id,0);this.unlockIds.splice(a,1)}}catch(l){i.e(l)}finally{i.f()}}else{var s,c=_createForOfIteratorHelper(this.pageUsers.content);try{for(c.s();!(s=c.n()).done;){var u=s.value;-1==this.unlockIds.indexOf(u.id,0)&&this.unlockIds.push(u.id)}}catch(l){c.e(l)}finally{c.f()}}}},{key:"sendToUnlockGroupModal",value:function(){var e=this;this.unlockUsers=[],this._userService.findByListId(this.unlockIds).subscribe((function(t){e.unlockUsers=t}))}},{key:"modalById",value:function(e){var t=this;this._userService.findUserEditById(e).subscribe((function(e){t.user=e})),this.user.account.statusLock?this._notificationService.showWarningNotification("T\xe0i kho\u1ea3n hi\u1ec7n \u0111\xe3 b\u1ecb kho\xe1"):(this.unlockIds=[e],this.sendToUnlockGroupModal())}},{key:"unlock",value:function(){for(var e=this,t=0;t<this.unlockIds.length;t++)this.unlockIds[t]?this._userService.unlock(this.unlockIds).subscribe((function(t){e._notificationService.showSuccessNotification("M\u1edf kho\xe1 th\xe0nh c\xf4ng!")})):this._notificationService.showWarningNotification("T\xe0i kho\u1ea3n hi\u1ec7n kh\xf4ng b\u1ecb kho\xe1");this.ngOnInit()}},{key:"resetFormAndData",value:function(){this.ngOnInit()}},{key:"lockUser",value:function(){var e=this.unlockIds.join(",");console.log(e),this._router.navigate(["/user/lock",e])}}]),e}()).\u0275fac=function(e){return new(e||zg)(r.Nb(Ql),r.Nb(Mc),r.Nb(yu),r.Nb(rl),r.Nb(Ft),r.Nb(so))},zg.\u0275cmp=r.Hb({type:zg,selectors:[["app-user-list"]],decls:94,vars:7,consts:[[1,"container-fluid",2,"height","100%"],[1,"row"],[1,"col-lg-2","sidebar__left"],[1,"menu"],[1,"menu__item"],["routerLink","/home",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],["routerLink","/products",1,"menu__link"],[1,"menu__icon","fa-solid","fa-book"],["routerLink","/user/list",1,"menu__link"],[1,"menu__icon","fa-solid","fa-user-pen"],["routerLink","/transaction",1,"menu__link"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"col-lg-10"],[1,"mt-5",2,"text-align","center"],[1,"mb-5"],[1,"mt-2","row"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-2"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-primary",3,"disabled","click"],[1,"fa-solid","fa-unlock"],["data-bs-toggle","modal",1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-lock"],["data-bs-toggle","modal","routerLink","/user/add",1,"btn","btn-primary"],[1,"fa-solid","fa-user-plus"],[1,"mt-4","row","container",2,"padding-left","2%"],[1,"mt-2","table","table-striped","table-bordered"],["width","111px"],[1,"text-center"],["type","checkbox",3,"click"],[4,"ngIf"],["style","color: red; text-align: center",4,"ngIf"],["aria-label","Page navigation example","class","p-0 d-flex justify-content-end",4,"ngIf"],["class","modal fade","id","modalUnlock","tabindex","-1","aria-labelledby","exampleModalLabel-Unlock","aria-hidden","true",4,"ngIf"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["style","color: red",4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept1","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"row",2,"height","70px"],[1,"form-floating","mb-4"],["formControlName","idSearch","type","text","placeholder","M\xe3 th\xe0nh vi\xean:","id","floatingId",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingId"],["style","color: red",4,"ngIf"],[1,"form-floating"],["formControlName","nameSearch","id","floatingName","type","text","placeholder","H\u1ecd v\xe0 t\xean:",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingName"],["formControlName","addressSearch","id","floatingAddress","type","text","placeholder","\u0110\u1ecba ch\u1ec9:",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingAddress"],["formControlName","emailSearch","id","floatingEmail","type","email","placeholder","Email:",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingEmail"],["formControlName","userTypeSearch","name","classroomSearch",1,"form-select","form-control-underlined",2,"padding-left","3px"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingEmail",1,"d-flex","justify-content-start",2,"padding-left","0"],[1,"col-1"],["type","submit","value","L\u1ecdc k\u1ebft qu\u1ea3",1,"btn","btn-info","myMT",3,"disabled"],["type","button","value","Ho\xe0n t\xe1c l\u1ecdc",1,"btn","btn-success","myMT",3,"click"],[2,"color","red"],[3,"value"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#modalDelete",1,"btn",3,"routerLink"],[1,"fa-solid","fa-pen-to-square",2,"color","darkgoldenrod"],["type","button","class","btn ","data-bs-toggle","modal","data-bs-target","#modalLock",3,"click",4,"ngIf","ngIfElse"],["no",""],["type","checkbox",1,"delete-checkbox",3,"checked","click"],["type","button","data-bs-toggle","modal","data-bs-target","#modalLock",1,"btn",3,"click"],[1,"fa-solid","fa-lock",2,"color","red"],["type","button","data-bs-toggle","modal","data-bs-target","#modalUnlock",1,"btn",3,"click"],[1,"fa-solid","fa-unlock",2,"color","#0088ff"],[2,"color","red","text-align","center"],["aria-label","Page navigation example",1,"p-0","d-flex","justify-content-end"],[1,"pagination"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["id","modalUnlock","tabindex","-1","aria-labelledby","exampleModalLabel-Unlock","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel-Unlock",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div"),r.Sb(4,"nav"),r.Sb(5,"ul",3),r.Sb(6,"li",4),r.Sb(7,"a",5),r.Ob(8,"i",6),r.xc(9," Trang ch\u1ee7 "),r.Sb(10,"span",7),r.xc(11,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(12,"li",4),r.Sb(13,"a",8),r.Ob(14,"i",9),r.xc(15," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Sb(16,"span",7),r.xc(17,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(18,"li",4),r.Sb(19,"a",10),r.Ob(20,"i",11),r.xc(21," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Sb(22,"span",7),r.xc(23,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"li",4),r.Sb(25,"a",12),r.Ob(26,"i",13),r.xc(27," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Sb(28,"span",7),r.xc(29,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(30,"div",14),r.Sb(31,"h1",15),r.xc(32,"Qu\u1ea3n l\xfd th\xe0nh vi\xean"),r.Rb(),r.Ob(33,"hr",16),r.Sb(34,"div",17),r.vc(35,Dg,35,9,"form",18),r.Sb(36,"div",1),r.Sb(37,"div",19),r.Sb(38,"button",20),r.ac("click",(function(){return t.sendToUnlockGroupModal()})),r.Ob(39,"i",21),r.xc(40," M\u1edf kho\xe1 "),r.Rb(),r.Rb(),r.Sb(41,"div",19),r.Sb(42,"button",22),r.ac("click",(function(){return t.lockUser()})),r.Ob(43,"i",23),r.xc(44," Kho\xe1 "),r.Rb(),r.Rb(),r.Sb(45,"div",19),r.Sb(46,"button",24),r.Ob(47,"i",25),r.xc(48," Th\xeam m\u1edbi "),r.Rb(),r.Rb(),r.Rb(),r.Sb(49,"div",26),r.Sb(50,"table",27),r.Sb(51,"thead"),r.Sb(52,"tr"),r.Sb(53,"th"),r.xc(54,"STT"),r.Rb(),r.Sb(55,"th"),r.xc(56,"T\xean th\xe0nh vi\xean"),r.Rb(),r.Sb(57,"th"),r.xc(58," \u0110\u1ecba ch\u1ec9"),r.Rb(),r.Sb(59,"th"),r.xc(60,"X\u1ebfp h\u1ea1ng"),r.Rb(),r.Sb(61,"th"),r.xc(62,"Email"),r.Rb(),r.Sb(63,"th"),r.xc(64,"S\u0110T"),r.Rb(),r.Sb(65,"th",28),r.xc(66,"T\xednh n\u0103ng"),r.Rb(),r.Sb(67,"th",29),r.Sb(68,"input",30),r.ac("click",(function(){return t.addAllToUnlock()})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.vc(69,Pg,2,1,"tbody",31),r.Rb(),r.vc(70,Ng,2,0,"h1",32),r.vc(71,Ug,9,4,"nav",33),r.Rb(),r.Ob(72,"div"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.vc(73,Qg,19,1,"div",34),r.Sb(74,"div",35),r.Sb(75,"div",36),r.Sb(76,"div",37),r.Sb(77,"div",38),r.Sb(78,"h5",39),r.xc(79,"X\xe1c nh\u1eadn"),r.Rb(),r.Ob(80,"button",40),r.Rb(),r.Sb(81,"div",41),r.xc(82," M\u1edf kho\xe1 th\xe0nh vi\xean c\xf3 "),r.Sb(83,"strong"),r.xc(84,"M\xe3 th\xe0nh vi\xean l\xe0: "),r.Rb(),r.Sb(85,"div"),r.Sb(86,"p"),r.vc(87,Vg,3,2,"strong",42),r.xc(88," ? "),r.Rb(),r.Rb(),r.Sb(89,"div",43),r.Sb(90,"button",44),r.xc(91,"Hu\u1ef7 b\u1ecf"),r.Rb(),r.Sb(92,"button",45),r.ac("click",(function(){return t.unlock()})),r.xc(93,"X\xe1c nh\u1eadn "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(35),r.hc("ngIf",t.rfSearch),r.Ab(3),r.hc("disabled",0==t.unlockIds.length),r.Ab(31),r.hc("ngIf",null!=t.pageUsers),r.Ab(1),r.hc("ngIf",null==t.pageUsers),r.Ab(1),r.hc("ngIf",null!=t.pageUsers),r.Ab(2),r.hc("ngIf",t.user),r.Ab(14),r.hc("ngForOf",t.unlockUsers))},directives:[uo,Se,co,ke,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts],styles:["th[_ngcontent-%COMP%]{text-align:center;vertical-align:top}"]}),zg),Gg=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.name=n})),Wg=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.name=n})),Yg=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.name=n})),Jg=((qg=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.cities=[]}return _createClass(e,[{key:"getAllAddress",value:function(){return this._httpClient.get(o.DIA_GIOI_VIETNAM_API)}},{key:"getAllCities",value:function(){var e=this;this.getAllAddress().subscribe((function(t){for(var n=0;n<t.length;n++)e.cities.push(new Yg(n,t[n].Name))}))}}]),e}()).\u0275fac=function(e){return new(e||qg)(r.Wb(la))},qg.\u0275prov=r.Jb({token:qg,factory:qg.\u0275fac,providedIn:"root"}),qg);function Xg(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function Zg(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function $g(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function ev(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function tv(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," CMND kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function nv(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," SDT kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function rv(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function iv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"input",79),r.ac("click",(function(){return r.oc(n),r.cc(2).changStatusCity1()})),r.Rb()}if(2&e){var i=r.cc(2);r.hc("ngClass",i.rfUser.controls.email.touched?i.rfUser.controls.email.errors?"is-invalid":"is-valid":"")}}function ov(e,t){if(1&e&&(r.Sb(0,"option",84),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function av(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," T\u1ec9nh/Th\xe0nh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function sv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"select",80),r.ac("change",(function(){return r.oc(n),r.cc(2).selectCity()})),r.Sb(1,"option",81),r.xc(2,"Ch\u1ecdn T\u1ec9nh/Th\xe0nh"),r.Rb(),r.vc(3,ov,2,2,"option",82),r.Rb(),r.Sb(4,"label",83),r.xc(5,"T\u1ec9nh/Th\xe0nh :"),r.Rb(),r.vc(6,av,2,0,"div",30)}if(2&e){var i=r.cc(2);r.Ab(3),r.hc("ngForOf",i.cities),r.Ab(3),r.hc("ngIf",i.rfUser.controls.city.hasError("required")&&i.rfUser.controls.city.touched)}}function cv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"input",85),r.ac("click",(function(){return r.oc(n),r.cc(2).changStatusDistrict1()})),r.Rb()}if(2&e){var i=r.cc(2);r.ic("value",i.rfUser.value.district),r.hc("ngClass",i.rfUser.controls.district.touched?i.rfUser.controls.district.errors?"is-invalid":"is-valid":"")}}function uv(e,t){if(1&e&&(r.Sb(0,"option",84),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function lv(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," Huy\u1ec7n/Qu\u1eadn th\xe0nh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function hv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"select",86),r.ac("change",(function(){return r.oc(n),r.cc(2).selectDistrict()})),r.Sb(1,"option",81),r.xc(2,"Ch\u1ecdn Huy\u1ec7n/Qu\u1eadn"),r.Rb(),r.vc(3,uv,2,2,"option",82),r.Rb(),r.Sb(4,"label",87),r.xc(5,"Huy\u1ec7n/Qu\u1eadn :"),r.Rb(),r.vc(6,lv,2,0,"div",30)}if(2&e){var i=r.cc(2);r.Ab(3),r.hc("ngForOf",i.districts),r.Ab(3),r.hc("ngIf",i.rfUser.controls.district.hasError("required")&&i.rfUser.controls.district.touched)}}function dv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"input",88),r.ac("click",(function(){return r.oc(n),r.cc(2).changStatusTown1()})),r.Rb()}if(2&e){var i=r.cc(2);r.hc("ngClass",i.rfUser.controls.email.touched?i.rfUser.controls.email.errors?"is-invalid":"is-valid":"")}}function fv(e,t){if(1&e&&(r.Sb(0,"option",84),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function Av(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," X\xe3/Ph\u01b0\u1eddng th\xe0nh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function pv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"select",89),r.ac("change",(function(){return r.oc(n),r.cc(2).selectWard()})),r.Sb(1,"option",81),r.xc(2,"Ch\u1ecdn X\xe3/Ph\u01b0\u1eddng"),r.Rb(),r.vc(3,fv,2,2,"option",82),r.Rb(),r.Sb(4,"label",90),r.xc(5,"X\xe3/Ph\u01b0\u1eddng :"),r.Rb(),r.vc(6,Av,2,0,"div",30)}if(2&e){var i=r.cc(2);r.Ab(3),r.hc("ngForOf",i.wards),r.Ab(3),r.hc("ngIf",i.rfUser.controls.town.hasError("required")&&i.rfUser.controls.town.touched)}}function gv(e,t){1&e&&(r.Sb(0,"div",78),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function vv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",19),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.saveUser(e.id)})),r.Sb(1,"div",1),r.Sb(2,"div",20),r.Sb(3,"div",21),r.Sb(4,"h3"),r.xc(5,"S\u1eeda h\u1ed3 s\u01a1 c\xe1 nh\xe2n"),r.Rb(),r.Rb(),r.Rb(),r.Ob(6,"div",22),r.Rb(),r.Sb(7,"div",1),r.Sb(8,"div",23),r.Sb(9,"div",24),r.Sb(10,"div",25),r.Ob(11,"input",26),r.Sb(12,"label",27),r.xc(13,"H\u1ecd"),r.Rb(),r.Rb(),r.Sb(14,"span",28),r.Ob(15,"i",29),r.Rb(),r.Rb(),r.vc(16,Xg,2,0,"div",30),r.Rb(),r.Sb(17,"div",23),r.Sb(18,"div",24),r.Sb(19,"div",25),r.Ob(20,"input",31),r.Sb(21,"label",32),r.xc(22,"T\xean"),r.Rb(),r.Rb(),r.Sb(23,"span",33),r.Ob(24,"i",29),r.Rb(),r.Rb(),r.vc(25,Zg,2,0,"div",30),r.Rb(),r.Rb(),r.Sb(26,"div",1),r.Sb(27,"div",23),r.Sb(28,"div",34),r.Sb(29,"div",25),r.Ob(30,"input",35),r.Sb(31,"label",36),r.xc(32,"T\xean \u0111\u0103ng nh\u1eadp"),r.Rb(),r.Rb(),r.Sb(33,"span",37),r.Ob(34,"i",29),r.Rb(),r.Rb(),r.vc(35,$g,2,0,"div",30),r.Rb(),r.Sb(36,"div",23),r.Sb(37,"div",34),r.Sb(38,"div",25),r.Ob(39,"input",38),r.Sb(40,"label",39),r.xc(41,"M\xe3 th\xe0nh vi\xean"),r.Rb(),r.Rb(),r.Sb(42,"span",40),r.Ob(43,"i",41),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(44,"div",1),r.Sb(45,"div",23),r.Sb(46,"div",34),r.Sb(47,"div",42),r.Ob(48,"input",43),r.Sb(49,"label",44),r.xc(50,"Ng\xe0y sinh"),r.Rb(),r.Rb(),r.Rb(),r.vc(51,ev,2,0,"div",30),r.Rb(),r.Sb(52,"div",23),r.Sb(53,"div",34),r.Sb(54,"div",25),r.Ob(55,"input",45),r.Sb(56,"label",46),r.xc(57,"CMND (C\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n) "),r.Rb(),r.Rb(),r.Sb(58,"span",47),r.Ob(59,"i",48),r.Rb(),r.Rb(),r.vc(60,tv,2,0,"div",30),r.Rb(),r.Rb(),r.Sb(61,"div",1),r.Sb(62,"div",23),r.Sb(63,"div",34),r.Sb(64,"div",25),r.Ob(65,"input",49),r.Sb(66,"label",50),r.xc(67,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Rb(),r.Rb(),r.Sb(68,"span",51),r.Ob(69,"i",52),r.Rb(),r.Rb(),r.vc(70,nv,2,0,"div",30),r.Rb(),r.Sb(71,"div",23),r.Sb(72,"div",34),r.Sb(73,"div",25),r.Ob(74,"input",53),r.Sb(75,"label",54),r.xc(76,"Email"),r.Rb(),r.Rb(),r.Sb(77,"span",55),r.Ob(78,"i",56),r.Rb(),r.Rb(),r.vc(79,rv,2,0,"div",30),r.Rb(),r.Rb(),r.Sb(80,"div",1),r.Sb(81,"div",23),r.Sb(82,"div",57),r.vc(83,iv,1,1,"input",58),r.Sb(84,"label",59),r.xc(85,"T\u1ec9nh/Th\xe0nh :"),r.Rb(),r.vc(86,sv,7,2,"ng-template",null,60,r.wc),r.Rb(),r.Rb(),r.Sb(88,"div",23),r.Sb(89,"div",57),r.vc(90,cv,1,2,"input",61),r.Sb(91,"label",62),r.xc(92,"Huy\u1ec7n/Qu\u1eadn :"),r.Rb(),r.vc(93,hv,7,2,"ng-template",null,63,r.wc),r.Rb(),r.Rb(),r.Rb(),r.Sb(95,"div",1),r.Sb(96,"div",64),r.Sb(97,"div",65),r.Sb(98,"div",57),r.vc(99,dv,1,1,"input",66),r.Sb(100,"label",67),r.xc(101,"X\xe3/Ph\u01b0\u1eddng :"),r.Rb(),r.vc(102,pv,7,2,"ng-template",null,68,r.wc),r.Rb(),r.Rb(),r.Rb(),r.Sb(104,"div",69),r.Sb(105,"div",34),r.Sb(106,"div",25),r.Ob(107,"input",70),r.Sb(108,"label",71),r.xc(109,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Rb(),r.vc(110,gv,2,0,"div",30),r.Rb(),r.Sb(111,"span",72),r.Ob(112,"i",73),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(113,"div",74),r.Sb(114,"div",75),r.Sb(115,"button",76),r.xc(116,"C\u1eadp nh\u1eadt"),r.Rb(),r.Sb(117,"button",77),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.reset(e.id)})),r.xc(118,"\u0110\u1eb7t l\u1ea1i"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.nc(87),o=r.nc(94),a=r.nc(103),s=r.cc();r.hc("formGroup",s.rfUser),r.Ab(11),r.hc("ngClass",s.rfUser.controls.firstName.touched?s.rfUser.controls.firstName.errors?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.rfUser.controls.firstName.hasError("required")&&s.rfUser.controls.firstName.touched),r.Ab(4),r.hc("ngClass",s.rfUser.controls.lastName.touched?s.rfUser.controls.lastName.errors?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.rfUser.controls.lastName.hasError("required")&&s.rfUser.controls.lastName.touched),r.Ab(5),r.hc("ngClass",s.rfUser.controls.username.touched?s.rfUser.controls.username.errors?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.rfUser.controls.username.hasError("required")&&s.rfUser.controls.username.touched),r.Ab(13),r.hc("ngClass",s.rfUser.controls.birthDay.touched?s.rfUser.controls.birthDay.errors?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",s.rfUser.controls.birthDay.hasError("required")&&s.rfUser.controls.birthDay.touched),r.Ab(4),r.hc("ngClass",s.rfUser.controls.idCard.touched?s.rfUser.controls.idCard.errors?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.rfUser.controls.idCard.hasError("required")&&s.rfUser.controls.idCard.touched),r.Ab(5),r.hc("ngClass",s.rfUser.controls.phone.touched?s.rfUser.controls.phone.errors?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.rfUser.controls.phone.hasError("required")&&s.rfUser.controls.phone.touched),r.Ab(4),r.hc("ngClass",s.rfUser.controls.email.touched?s.rfUser.controls.email.errors?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.rfUser.controls.email.hasError("required")&&s.rfUser.controls.email.touched),r.Ab(4),r.hc("ngIf",0==s.status)("ngIfElse",i),r.Ab(7),r.hc("ngIf",0==s.status)("ngIfElse",o),r.Ab(9),r.hc("ngIf",0==s.status)("ngIfElse",a),r.Ab(8),r.hc("ngClass",s.rfUser.controls.detailAddress.touched?s.rfUser.controls.detailAddress.errors?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",s.rfUser.controls.detailAddress.hasError("required")&&s.rfUser.controls.detailAddress.touched)}}var mv,bv=((mv=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._userService=t,this._activatedRoute=n,this._formBuilder=r,this._toast=i,this._router=o,this._addressService=a,this._titleService=s,this.cities=[],this._titleService.setTitle("Ch\u1ec9nh s\u1eeda th\xe0nh vi\xean")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.status=0,this._activatedRoute.paramMap.subscribe((function(t){e.id=+t.get("id"),console.log("Id:"+e.id),e.getById(e.id)})),this._addressService.getAllCities(),this.cities=this._addressService.cities}},{key:"getById",value:function(e){var t=this;return this._userService.findUserEditById(e).subscribe((function(e){var n,r,i,o,a,s;console.log("get user by id : ",e),t.rfUser=t._formBuilder.group({id:[e.id],firstName:[e.firstName,[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],lastName:[e.lastName,[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],email:[e.email,[$a.required,$a.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$")]],phone:[e.phone,[$a.required,$a.pattern("[0][9][0]\\d{7}")]],detailAddress:[null===(n=e.address)||void 0===n?void 0:n.detailAddress,[$a.required,$a.pattern("^[a-zA-Z0-9,_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],town:[null===(r=e.address)||void 0===r?void 0:r.town,[$a.required]],district:[null===(i=e.address)||void 0===i?void 0:i.district,[$a.required]],city:[null===(o=e.address)||void 0===o?void 0:o.city,[$a.required]],country:[null===(a=e.address)||void 0===a?void 0:a.country,[$a.required]],username:[null===(s=e.account)||void 0===s?void 0:s.username,[$a.required]],birthDay:[e.birthDay,[$a.required]],idCard:[e.idCard,[$a.required,$a.pattern("\\d{9}")]]})}))}},{key:"saveUser",value:function(e){var t=this;this.rfUser.controls.city.setValue(this.currentCity),this.rfUser.controls.district.setValue(this.currentDistrcit),this.rfUser.controls.town.setValue(this.currentWard),this.user=this.rfUser.value,this._userService.updateByAdim(e,this.user).subscribe((function(e){t._router.navigate(["/user/list"]),t._toast.success("Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng")}))}},{key:"reset",value:function(e){this.ngOnInit(),this.getById(e)}},{key:"selectCity",value:function(){var e=this;this.cityIdSelected=this.rfUser.value.city,this._addressService.getAllAddress().subscribe((function(t){e.districts=[];for(var n=0;n<t[e.cityIdSelected].Districts.length;n++)e.districts.push(new Gg(n,t[e.cityIdSelected].Districts[n].Name));e.currentCity=t[e.cityIdSelected].Name,console.log(e.currentCity)}))}},{key:"selectDistrict",value:function(){var e=this;this.districtIdSelected=this.rfUser.value.district,this._addressService.getAllAddress().subscribe((function(t){e.wards=[];for(var n=0;n<t[e.cityIdSelected].Districts[e.districtIdSelected].Wards.length;n++)e.wards.push(new Wg(n,t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[n].Name));console.log(e.wards),e.currentDistrcit=t[e.cityIdSelected].Districts[e.districtIdSelected].Name}))}},{key:"selectWard",value:function(){var e=this;this.wardIdSelected=this.rfUser.value.town,this._addressService.getAllAddress().subscribe((function(t){e.currentWard=t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[e.wardIdSelected].Name}))}},{key:"changStatusCity1",value:function(){this.status=1,this.selectCity()}},{key:"changStatusDistrict1",value:function(){this.status=1}},{key:"changStatusTown1",value:function(){this.status=1}}]),e}()).\u0275fac=function(e){return new(e||mv)(r.Nb(Ql),r.Nb(Xr),r.Nb(Mc),r.Nb(yu),r.Nb(so),r.Nb(Jg),r.Nb(Ft))},mv.\u0275cmp=r.Hb({type:mv,selectors:[["app-user-edit"]],decls:37,vars:1,consts:[[1,"container-fluid",2,"background-color","#eee","height","100vh"],[1,"row"],[1,"col-lg-2","sidebar__left",2,"height","100vh"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"container","col-10",2,"width","75%"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"profile","row",2,"background-color","white","border-radius","20px"],[1,"col-5","bgd","d-flex","align-items-center","pl-0",2,"padding-left","0"],[1,"h-100","w-100",2,"background","url('https://images.pexels.com/photos/210661/pexels-photo-210661.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')","background-size","cover","background-repeat","no-repeat","border-top-left-radius","20px","border-bottom-left-radius","20px"],[1,"col-7","p-3"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"row","mb-3",2,"font-size","20px"],[1,"col-lg-3"],[1,"col-lg-6"],[1,"input-group"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","formControlName","firstName",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","required","","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],[1,"input-group","mt-3"],["type","text","id","floatingLogin","required","","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon3",1,"input-group-text"],["type","text","id","floatingId","required","","formControlName","id","disabled","",1,"form-control"],["for","floatingId"],["id","basic-addon4",1,"input-group-text"],[1,"fa-solid","fa-id-badge"],[1,"form-floating","flex-grow-1",2,"z-index","1"],["type","date","id","floatingDateOfBirth","required","","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["type","text","id","floatingIdCard","required","","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","text","id","floatingPhone","required","","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingEmail","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-envelope"],[1,"form-floating","mt-3"],["type","text","class","form-control","id","city1","required","","formControlName","city",3,"ngClass","click",4,"ngIf","ngIfElse"],["for","city1"],["city1",""],["type","text","class","form-control","id","district1","required","","formControlName","district",3,"value","ngClass","click",4,"ngIf","ngIfElse"],["for","district1"],["district1",""],[1,"col-lg-5"],[1,"form-floating"],["type","text","class","form-control","id","town1","required","","formControlName","town",3,"ngClass","click",4,"ngIf","ngIfElse"],["for","town1"],["town1",""],[1,"col-lg-7"],["type","text","id","floatingAddress","required","","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],[1,"row","mt-3"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","mx-2"],["type","button",1,"btn","btn-warning",3,"click"],[2,"color","red"],["type","text","id","city1","required","","formControlName","city",1,"form-control",3,"ngClass","click"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","city",1,"d-flex","justify-content-start"],[3,"ngValue"],["type","text","id","district1","required","","formControlName","district",1,"form-control",3,"value","ngClass","click"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"change"],["for","district",1,"d-flex","justify-content-start"],["type","text","id","town1","required","","formControlName","town",1,"form-control",3,"ngClass","click"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"change"],["for","ward",1,"d-flex","justify-content-start"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"nav"),r.Sb(4,"ul",3),r.Sb(5,"li",4),r.Sb(6,"a",5),r.Ob(7,"i",6),r.xc(8," Trang ch\u1ee7 "),r.Sb(9,"span",7),r.xc(10,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(11,"li",4),r.Sb(12,"a",5),r.Ob(13,"i",8),r.xc(14," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Sb(15,"span",7),r.xc(16,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"li",4),r.Sb(18,"a",5),r.Ob(19,"i",9),r.xc(20," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Sb(21,"span",7),r.xc(22,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(23,"li",4),r.Sb(24,"a",5),r.Ob(25,"i",10),r.xc(26," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Sb(27,"span",7),r.xc(28,"(current)"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(29,"div",11),r.Sb(30,"div",12),r.Sb(31,"div",13),r.Sb(32,"div",14),r.Sb(33,"div",15),r.Ob(34,"div",16),r.Rb(),r.Sb(35,"div",17),r.vc(36,vv,119,23,"form",18),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(36),r.hc("ngIf",t.rfUser))},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Pc,Cs,Ss,Ts,ke],styles:[""]}),mv);function yv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function wv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function _v(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function kv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Cv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Sv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function xv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Ev(e,t){if(1&e&&(r.Sb(0,"option",42),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function Iv(e,t){if(1&e&&(r.Sb(0,"option",42),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function Bv(e,t){if(1&e&&(r.Sb(0,"option",42),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function Dv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",8),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().addAccountUser()})),r.Sb(1,"div",9),r.Sb(2,"h1"),r.xc(3,"Th\xeam th\xe0nh vi\xean"),r.Rb(),r.Rb(),r.Sb(4,"table"),r.Sb(5,"tr"),r.Sb(6,"td"),r.Sb(7,"label",10),r.xc(8,"Firt name"),r.Sb(9,"span",7),r.xc(10,"*"),r.Rb(),r.xc(11,":"),r.Rb(),r.Rb(),r.Sb(12,"td",11),r.Ob(13,"input",12),r.Sb(14,"div",13),r.vc(15,yv,2,0,"div",14),r.Rb(),r.Rb(),r.Sb(16,"td"),r.Sb(17,"label",15),r.xc(18,"Last name"),r.Sb(19,"span",7),r.xc(20,"*"),r.Rb(),r.xc(21,":"),r.Rb(),r.Rb(),r.Sb(22,"td",11),r.Ob(23,"input",16),r.Sb(24,"div",13),r.vc(25,wv,2,0,"div",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(26,"tr"),r.Sb(27,"td"),r.Sb(28,"label",17),r.xc(29,"T\xean \u0111\u0103ng nh\u1eadp"),r.Sb(30,"span",7),r.xc(31,"*"),r.Rb(),r.xc(32,":"),r.Rb(),r.Rb(),r.Sb(33,"td",11),r.Ob(34,"input",18),r.Sb(35,"div",13),r.vc(36,_v,2,0,"div",14),r.Rb(),r.Rb(),r.Sb(37,"td"),r.Sb(38,"label",19),r.xc(39,"Email"),r.Sb(40,"span",7),r.xc(41,"*"),r.Rb(),r.xc(42,":"),r.Rb(),r.Rb(),r.Sb(43,"td",11),r.Ob(44,"input",20),r.Sb(45,"div",13),r.vc(46,kv,2,0,"div",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(47,"tr"),r.Sb(48,"td"),r.Sb(49,"label",21),r.xc(50,"Ng\xe0y sinh"),r.Sb(51,"span",7),r.xc(52,"*"),r.Rb(),r.xc(53,":"),r.Rb(),r.Rb(),r.Sb(54,"td",11),r.Ob(55,"input",22),r.Sb(56,"div",13),r.vc(57,Cv,2,0,"div",14),r.Rb(),r.Rb(),r.Sb(58,"td"),r.Sb(59,"label",23),r.xc(60,"CMND"),r.Sb(61,"span",7),r.xc(62,"*"),r.Rb(),r.xc(63,":"),r.Rb(),r.Rb(),r.Sb(64,"td",11),r.Ob(65,"input",24),r.Sb(66,"div",13),r.vc(67,Sv,2,0,"div",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(68,"tr"),r.Sb(69,"td"),r.Sb(70,"label",25),r.xc(71,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Sb(72,"span",7),r.xc(73,"*"),r.Rb(),r.xc(74,":"),r.Rb(),r.Rb(),r.Sb(75,"td",11),r.Ob(76,"input",26),r.Sb(77,"div",13),r.vc(78,xv,2,0,"div",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(79,"tr"),r.Sb(80,"td"),r.Sb(81,"label",27),r.xc(82,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Sb(83,"span",7),r.xc(84,"*"),r.Rb(),r.xc(85,":"),r.Rb(),r.Rb(),r.Sb(86,"td",11),r.Sb(87,"select",28),r.ac("change",(function(){return r.oc(n),r.cc().selectCity()})),r.Sb(88,"option",29),r.xc(89,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Rb(),r.vc(90,Ev,2,2,"option",30),r.Rb(),r.Rb(),r.Sb(91,"td"),r.Sb(92,"label",31),r.xc(93,"Ch\u1ecdn Qu\u1eadn/huy\u1ec7n"),r.Sb(94,"span",7),r.xc(95,"*"),r.Rb(),r.xc(96,":"),r.Rb(),r.Rb(),r.Sb(97,"td",11),r.Sb(98,"select",32),r.ac("change",(function(){return r.oc(n),r.cc().selectDistrict()})),r.Sb(99,"option",29),r.xc(100,"Qu\u1eadn /huy\u1ec7n:"),r.Rb(),r.vc(101,Iv,2,2,"option",30),r.Rb(),r.Rb(),r.Rb(),r.Sb(102,"tr"),r.Sb(103,"td"),r.Sb(104,"label",33),r.xc(105,"Ch\u1ecdn ph\u01b0\u1eddng/X\xe3"),r.Sb(106,"span",7),r.xc(107,"*"),r.Rb(),r.xc(108,":"),r.Rb(),r.Rb(),r.Sb(109,"td",11),r.Sb(110,"select",34),r.ac("change",(function(){return r.oc(n),r.cc().selectWard()})),r.Sb(111,"option",29),r.xc(112,"Ch\u1ecdn ph\u01b0\u1eddng/X\xe3"),r.Rb(),r.vc(113,Bv,2,2,"option",30),r.Rb(),r.Rb(),r.Sb(114,"td"),r.Sb(115,"label",35),r.xc(116,"S\u1ed1 Nh\xe0/\u0110\u01b0\u1eddng"),r.Sb(117,"span",7),r.xc(118,"*"),r.Rb(),r.xc(119,":"),r.Rb(),r.Rb(),r.Sb(120,"td",11),r.Ob(121,"textarea",36),r.Rb(),r.Rb(),r.Rb(),r.Sb(122,"div",37),r.Sb(123,"button",38),r.xc(124,"Th\xeam m\u1edbi"),r.Rb(),r.Sb(125,"a",39),r.Sb(126,"button",40),r.xc(127,"H\u1ee7y"),r.Rb(),r.Rb(),r.Sb(128,"button",41),r.xc(129,"Nh\u1eadp l\u1ea1i"),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.rfAddUser),r.Ab(13),r.hc("ngClass",i.rfAddUser.controls.firstName.touched?i.rfAddUser.controls.firstName.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.firstName.errors?null:i.rfAddUser.controls.firstName.errors.required)&&i.rfAddUser.controls.firstName.touched),r.Ab(8),r.hc("ngClass",i.rfAddUser.controls.lastName.touched?i.rfAddUser.controls.lastName.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.lastName.errors?null:i.rfAddUser.controls.lastName.errors.required)&&i.rfAddUser.controls.lastName.touched),r.Ab(9),r.hc("ngClass",i.rfAddUser.controls.username.touched?i.rfAddUser.controls.username.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.username.errors?null:i.rfAddUser.controls.username.errors.required)&&i.rfAddUser.controls.username.touched),r.Ab(8),r.hc("ngClass",i.rfAddUser.controls.email.touched?i.rfAddUser.controls.email.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.email.errors?null:i.rfAddUser.controls.email.errors.required)&&i.rfAddUser.controls.email.touched),r.Ab(9),r.hc("ngClass",i.rfAddUser.controls.birthDay.touched?i.rfAddUser.controls.birthDay.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.birthDay.errors?null:i.rfAddUser.controls.birthDay.errors.required)&&i.rfAddUser.controls.birthDay.touched),r.Ab(8),r.hc("ngClass",i.rfAddUser.controls.idCard.touched?i.rfAddUser.controls.idCard.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.idCard.errors?null:i.rfAddUser.controls.idCard.errors.required)&&i.rfAddUser.controls.idCard.touched),r.Ab(9),r.hc("ngClass",i.rfAddUser.controls.phone.touched?i.rfAddUser.controls.phone.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfAddUser.controls.phone.errors?null:i.rfAddUser.controls.phone.errors.required)&&i.rfAddUser.controls.phone.touched),r.Ab(12),r.hc("ngForOf",i.cities),r.Ab(11),r.hc("ngForOf",i.districts),r.Ab(12),r.hc("ngForOf",i.wards),r.Ab(10),r.hc("disabled",!i.rfAddUser.valid)}}var Tv,Ov,Fv=((Tv=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._userSevice=t,this.router=n,this.builder=r,this.titleService=i,this._notificationSevice=o,this.addressService=a,this.cities=[],this.districts=[],this.wards=[],this.titleService.setTitle("Th\xeam m\u1edbi th\xe0nh vi\xean")}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAddUserform(),this.addressService.getAllCities(),this.cities=this.addressService.cities}},{key:"getAddUserform",value:function(){this.rfAddUser=this.builder.group({firstName:["",$a.required],lastName:["",$a.required],birthDay:["",$a.required],phone:["",$a.required],email:["",$a.required],idCard:["",$a.required],avatar:["UPDATE SAU "],pointDedication:[10],username:[""],password:["12345678"],detailAddress:["",$a.required],town:["",$a.required],district:["",$a.required],city:["",$a.required],country:["Viet Nam"],statusLock:[!1],deleteStatus:[!1]})}},{key:"addAccountUser",value:function(){var e=this;this.rfAddUser.valid&&(this._userSevice.saveaddAcountUser(this.rfAddUser.value).subscribe((function(){return e.router.navigateByUrl("/user/list")}),(function(t){e._notificationSevice.showErrorNotification("Kh\xf4ng th\xeam \u0111\u01b0\u1ee3c")})),this._notificationSevice.showSuccessNotification("Th\xeam th\xe0nh c\xf4ng."))}},{key:"selectCity",value:function(){var e=this;this.cityIdSeleted=this.rfAddUser.value.city,this.addressService.getAllAddress().subscribe((function(t){e.districts=[];for(var n=0;n<t[e.cityIdSeleted].Districts.length;n++)e.districts.push(new Gg(n,t[e.cityIdSeleted].Districts[n].Name));e.currentCity=t[e.cityIdSeleted].Name}))}},{key:"selectDistrict",value:function(){var e=this;this.districtIdSeleted=this.rfAddUser.value.district,this.addressService.getAllAddress().subscribe((function(t){e.wards=[];for(var n=0;n<t[e.cityIdSeleted].Districts[e.districtIdSeleted].Wards.length;n++)e.wards.push(new Wg(n,t[e.cityIdSeleted].Districts[e.districtIdSeleted].Wards[n].Name));e.currentDistrict=t[e.cityIdSeleted].Districts[e.districtIdSeleted].Name}))}},{key:"selectWard",value:function(){var e=this;this.wardIdSeleted=this.rfAddUser.value.town,this.addressService.getAllAddress().subscribe((function(t){e.currentWard=t[e.cityIdSeleted].Districts[e.districtIdSeleted].Wards[e.wardIdSeleted].Name}))}}]),e}()).\u0275fac=function(e){return new(e||Tv)(r.Nb(Ql),r.Nb(so),r.Nb(Mc),r.Nb(Ft),r.Nb(rl),r.Nb(Jg))},Tv.\u0275cmp=r.Hb({type:Tv,selectors:[["UserAddComponent"]],decls:12,vars:1,consts:[[1,"container","mb-5","mt-5"],[1,"row"],[1,"col-lg-2"],[1,"boxed","col-lg-8","shadow-lg",2,"background-color","#fdf7ed"],["class","mt-4 text-center",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"mt-4","text-center",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],["for","firstName",1,"form-label"],["colspan","3"],["type","text","formControlName","firstName","id","firstName",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName","id","lastName",1,"form-control",3,"ngClass"],["for","username",1,"form-label"],["type","text","formControlName","username","id","username",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","text","formControlName","email","id","email",1,"form-control",3,"ngClass"],["for","birthDay",1,"form-label"],["type","date","formControlName","birthDay","id","birthDay",1,"form-control",3,"ngClass"],["for","idCard",1,"form-label"],["type","text","formControlName","idCard","id","idCard",1,"form-control",3,"ngClass"],["for","phone",1,"form-label"],["type","text","formControlName","phone","id","phone",1,"form-control",3,"ngClass"],["for","city",1,"form-label"],["formControlName","city","id","city",1,"form-control",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","district",1,"form-label"],["formControlName","district","id","district",1,"form-control",3,"change"],["for","town",1,"form-label"],["formControlName","town","id","town",1,"form-control",3,"change"],["for","detailAddress",1,"form-label"],["type","text","formControlName","detailAddress","id","detailAddress",1,"form-control"],[1,"text-center","mb-4",2,"margin-top","20px"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px",3,"disabled"],["routerLink","/user/list"],[1,"btn","btn-primary",2,"margin-right","10px"],["type","reset",1,"btn","btn-primary"],[3,"ngValue"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Ob(2,"div",2),r.Sb(3,"div",3),r.vc(4,Dv,130,19,"form",4),r.Sb(5,"div",5),r.Sb(6,"span",6),r.xc(7,"Tr\u01b0\u1eddng c\xf3 d\u1ea5u( "),r.Sb(8,"span",7),r.xc(9,"*"),r.Rb(),r.xc(10," )l\xe0 b\u1eaft bu\u1ed9c, kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Rb(),r.Rb(),r.Rb(),r.Ob(11,"div",2),r.Rb(),r.Rb()),2&e&&(r.Ab(4),r.hc("ngIf",t.rfAddUser))},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts,ke,uo],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.boxed[_ngcontent-%COMP%]{border-image-slice:1;border:5px solid #f0f8ff;padding:5px;border-radius:20px;box-shadow:1px 1px #f0f8ff}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:70px}"]}),Tv),Rv="http://localhost:8080/api/v1/accounts/",Pv=((Ov=function(){function e(t,n){_classCallCheck(this,e),this._httpClient=t,this._toastrService=n}return _createClass(e,[{key:"verify",value:function(e,t){return this._httpClient.get(Rv+"verify_account?email="+e+"&username="+t,{responseType:"text"})}},{key:"checkToken",value:function(e,t){return this._httpClient.get(Rv+"token_check?token="+e+"&account="+t,{responseType:"text"})}},{key:"updatePass",value:function(e,t,n){return this._httpClient.get(Rv+"update_pass?id="+e+"&token="+t+"&password="+n,{responseType:"text"})}},{key:"showSuccessNotification",value:function(e){this._toastrService.success(e,"Th\xf4ng B\xe1o",{timeOut:4e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"showErrorNotification",value:function(e){this._toastrService.error(e,"L\u1ed7i",{timeOut:3e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"showWarningNotification",value:function(e){this._toastrService.warning(e,"C\u1ea3nh b\xe1o",{timeOut:5e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"saveLockAcountUser",value:function(e){return console.log(e),this._httpClient.put(o.NQV_LOCK_ACCOUNT,e)}},{key:"getAccountById",value:function(e){return this._httpClient.get(o.NQV_GET_ACCOUNT_BY_ID_API+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||Ov)(r.Wb(la),r.Wb(yu))},Ov.\u0275prov=r.Jb({token:Ov,factory:Ov.\u0275fac,providedIn:"root"}),Ov);function Nv(e,t){if(1&e&&(r.Sb(0,"option",29),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("value",n),r.Ab(1),r.yc(n)}}function Mv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Lv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Uv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function jv(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),r.Rb())}function Qv(e,t){if(1&e&&(r.Sb(0,"div",18),r.xc(1," B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n kh\xf3a t\xe0i kho\u1ea3n: "),r.Sb(2,"span",30),r.xc(3),r.Rb(),r.Rb()),2&e){var n=r.cc(2);r.Ab(3),r.yc(null==n.account?null:n.account.name)}}function Hv(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",1),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().lock()})),r.Sb(1,"div",2),r.Sb(2,"h2",3),r.xc(3,"Kh\xf3a Th\xe0nh Vi\xean"),r.Rb(),r.Rb(),r.Sb(4,"div",4),r.Sb(5,"label",5),r.xc(6," Vui L\xf2ng ch\u1ecdn ID"),r.Sb(7,"span",6),r.xc(8,"(*)"),r.Rb(),r.xc(9,":"),r.Rb(),r.Sb(10,"select",7),r.ac("change",(function(e){return r.oc(n),r.cc().hanDlerLock(e)})),r.Sb(11,"option",8),r.xc(12,"----Ch\u1ecdn ID----"),r.Rb(),r.vc(13,Nv,2,2,"option",9),r.Sb(14,"div",10),r.vc(15,Mv,2,0,"div",11),r.Rb(),r.Rb(),r.Rb(),r.Sb(16,"div",12),r.Sb(17,"label",13),r.xc(18," Ng\xe0y b\u1eaft \u0111\u1ea7u kh\xf3a:"),r.Sb(19,"span",6),r.xc(20,"(*)"),r.Rb(),r.Rb(),r.Ob(21,"input",14),r.Sb(22,"div",10),r.vc(23,Lv,2,0,"div",11),r.Rb(),r.Rb(),r.Sb(24,"div",15),r.Sb(25,"label",16),r.xc(26,"Ng\xe0y k\u1ebft th\xfac kh\xf3a:"),r.Sb(27,"span",6),r.xc(28,"(*)"),r.Rb(),r.Rb(),r.Ob(29,"input",17),r.Sb(30,"div",10),r.vc(31,Uv,2,0,"div",11),r.Rb(),r.Rb(),r.Sb(32,"div",18),r.Sb(33,"label",19),r.xc(34," L\xed do b\u1ecb kh\xf3a:"),r.Sb(35,"span",6),r.xc(36,"(*)"),r.Rb(),r.Rb(),r.Sb(37,"textarea",20),r.xc(38,"    "),r.Rb(),r.Sb(39,"div",10),r.vc(40,jv,2,0,"div",11),r.Rb(),r.Rb(),r.vc(41,Qv,4,1,"div",21),r.Sb(42,"div",22),r.Ob(43,"input",23),r.Rb(),r.Sb(44,"div",24),r.Sb(45,"button",25),r.xc(46,"Kh\xf3a "),r.Rb(),r.Sb(47,"a",26),r.Sb(48,"button",27),r.xc(49,"H\u1ee7y"),r.Rb(),r.Rb(),r.Rb(),r.Sb(50,"span",28),r.xc(51,"Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Sb(52,"span",6),r.xc(53,"*"),r.Rb(),r.xc(54," l\xe0 b\u1eaft bu\u1ed9c, kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.rfLockAccount),r.Ab(10),r.hc("ngClass",i.rfLockAccount.controls.startDay.touched?i.rfLockAccount.controls.startDay.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.idListR),r.Ab(2),r.hc("ngIf",(null==i.rfLockAccount.controls.startDay.errors?null:i.rfLockAccount.controls.startDay.errors.required)&&i.rfLockAccount.controls.startDay.touched),r.Ab(6),r.hc("ngClass",i.rfLockAccount.controls.startDay.touched?i.rfLockAccount.controls.startDay.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfLockAccount.controls.startDay.errors?null:i.rfLockAccount.controls.startDay.errors.required)&&i.rfLockAccount.controls.startDay.touched),r.Ab(6),r.hc("ngClass",i.rfLockAccount.controls.endDay.touched?i.rfLockAccount.controls.endDay.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.rfLockAccount.controls.endDay.errors?null:i.rfLockAccount.controls.endDay.errors.required)&&i.rfLockAccount.controls.endDay.touched),r.Ab(6),r.hc("ngClass",i.rfLockAccount.controls.reason.touched?i.rfLockAccount.controls.reason.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngIf",(null==i.rfLockAccount.controls.reason.errors?null:i.rfLockAccount.controls.reason.errors.required)&&i.rfLockAccount.controls.reason.touched),r.Ab(1),r.hc("ngIf",i.account),r.Ab(4),r.hc("disabled",!i.rfLockAccount.valid)}}var Vv,zv,qv,Kv=((qv=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._activatedRouter=t,this._accountService=n,this.builder=r,this.router=i,this.tileSevice=o,this._notificationSevice=a,this.tileSevice.setTitle("Kh\xf3a th\xe0nh vi\xean")}return _createClass(e,[{key:"ngOnInit",value:function(){this.idList=this._activatedRouter.snapshot.params.id,this.idListR=this.idList.split(","),this.getAddLockAccount()}},{key:"getAddLockAccount",value:function(){this.rfLockAccount=this.builder.group({startDay:["",$a.required],endDay:["",$a.required],accountId:[this.lockAccountId],reason:["",$a.required]})}},{key:"lockccountUser",value:function(){var e=this;this.rfLockAccount.valid&&(this._accountService.saveLockAcountUser(this.rfLockAccount.value).subscribe((function(t){0==e.idListR.length&&e.router.navigateByUrl("/user/list")})),this._notificationSevice.showSuccessNotification("Kh\xf3a th\xe0nh c\xf4ng"))}},{key:"hanDlerLock",value:function(e){var t=this;this.lockAccountId=e.target.value,this._accountService.getAccountById(this.lockAccountId).subscribe((function(e){t.account=e,t.getAddLockAccount()}),(function(e){t._notificationSevice.showErrorNotification("T\xe0i kho\u1ea3n n\xe0y \u0111\xe3 kh\xf3a"),t.lock()}))}},{key:"lock",value:function(){this.lockccountUser(),this.idListR.splice(this.idListR.indexOf(this.lockAccountId),1)}}]),e}()).\u0275fac=function(e){return new(e||qv)(r.Nb(Xr),r.Nb(Pv),r.Nb(Mc),r.Nb(so),r.Nb(Ft),r.Nb(rl))},qv.\u0275cmp=r.Hb({type:qv,selectors:[["app-lockaccount-user"]],decls:1,vars:1,consts:[["style","margin-top: 30px; max-width: 450px; padding-bottom: 5px; background-color: #fdf7ed","class"," container-fluid shadow",3,"formGroup","ngSubmit",4,"ngIf"],[1,"container-fluid","shadow",2,"margin-top","30px","max-width","450px","padding-bottom","5px","background-color","#fdf7ed",3,"formGroup","ngSubmit"],[1,"row","text-center","mt-5"],[2,"margin-top","10px"],[1,"mb-2",2,"margin-top","20px"],["for","select_id"],[2,"color","red"],["id","select_id","formArrayName","accountId",1,"form-control",2,"width","150px",3,"ngClass","change"],["selected","","value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"mb-3",2,"margin-top","20px"],["for","startday"],["type","date","id","startday","formControlName","startDay",1,"form-control",2,"margin-right","10px",3,"ngClass"],[1,"mb-3"],["for","endday"],["type","date","id","endday","formControlName","endDay",1,"form-control",2,"margin-right","10px",3,"ngClass"],[1,"mb-2"],["for","reason"],["formControlName","reason","id","reason",1,"form-control",3,"ngClass"],["class","mb-2",4,"ngIf"],["hidden",""],["formControlName","accountId"],[1,"text-center","mb-4",2,"margin-top","20px"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px",3,"disabled"],["routerLink","user/list'"],[1,"btn","btn-primary"],[1,"fst-italic",2,"font-size","15px"],[3,"value"],[2,"color","red","font-size","20px"]],template:function(e,t){1&e&&r.vc(0,Hv,55,12,"form",0),2&e&&r.hc("ngIf",t.rfLockAccount)},directives:[Se,vc,Wa,yc,Cc,we,Ss,Ts,ke,La,Ga,Fc,uo],styles:[""]}),qv),Gv=((zv=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListAuctionStatus",value:function(){return this._httpClient.get(o.api_url_list_auction_status)}}]),e}()).\u0275fac=function(e){return new(e||zv)(r.Wb(la))},zv.\u0275prov=r.Jb({token:zv,factory:zv.\u0275fac,providedIn:"root"}),zv),Wv=((Vv=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListPriceRange",value:function(){return this._httpClient.get(o.api_url_list_price_range)}}]),e}()).\u0275fac=function(e){return new(e||Vv)(r.Wb(la))},Vv.\u0275prov=r.Jb({token:Vv,factory:Vv.\u0275fac,providedIn:"root"}),Vv);function Yv(e,t){1&e&&(r.Sb(0,"div",47),r.xc(1," T\xean s\u1ea3n ph\u1ea9m t\u1ed1i \u0111a 50 k\xfd t\u1ef1. "),r.Rb())}function Jv(e,t){1&e&&(r.Sb(0,"div",47),r.xc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng t\u1ed1i \u0111a 25 k\xfd t\u1ef1. "),r.Rb())}function Xv(e,t){1&e&&(r.Sb(0,"div",47),r.xc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng sai \u0111\u1ecbnh d\u1ea1ng. "),r.Rb())}function Zv(e,t){if(1&e&&(r.Sb(0,"option",48),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("value",n.name),r.Ab(1),r.yc(n.name)}}function $v(e,t){if(1&e&&(r.Sb(0,"option",48),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("value",n.name),r.Ab(1),r.yc(n.name)}}function em(e,t){if(1&e&&(r.Sb(0,"option",48),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("value",n.id),r.Ab(1),r.yc(n.name)}}function tm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",25),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().searchByRoleAdmin(0)})),r.Sb(1,"div",26),r.Sb(2,"div",27),r.Sb(3,"div",28),r.Ob(4,"input",29),r.Sb(5,"label",30),r.xc(6,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(),r.vc(7,Yv,2,0,"div",31),r.Rb(),r.Rb(),r.Sb(8,"div",27),r.Sb(9,"div",28),r.Ob(10,"input",32),r.Sb(11,"label",33),r.xc(12,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(),r.vc(13,Jv,2,0,"div",31),r.vc(14,Xv,2,0,"div",31),r.Rb(),r.Rb(),r.Sb(15,"div",34),r.Sb(16,"button",35),r.Ob(17,"i",36),r.xc(18," L\u1ecdc k\u1ebft qu\u1ea3 "),r.Rb(),r.Sb(19,"button",37),r.ac("click",(function(){return r.oc(n),r.cc().resetFormAndData()})),r.xc(20," L\xe0m m\u1edbi b\u1ed9 l\u1ecdc "),r.Rb(),r.Rb(),r.Rb(),r.Sb(21,"div",26),r.Sb(22,"div",27),r.Sb(23,"div",28),r.Sb(24,"select",38),r.Sb(25,"option",39),r.xc(26,"---- T\u1ea5t c\u1ea3 ----"),r.Rb(),r.vc(27,Zv,2,2,"option",40),r.Rb(),r.Sb(28,"label",41),r.xc(29,"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb(),r.Rb(),r.Sb(30,"div",27),r.Sb(31,"div",28),r.Sb(32,"select",42),r.Sb(33,"option",39),r.xc(34,"----- T\u1ea5t c\u1ea3 -----"),r.Rb(),r.vc(35,$v,2,2,"option",40),r.Rb(),r.Sb(36,"label",43),r.xc(37,"T\xecnh tr\u1ea1ng \u0111\u1ea5u gi\xe1"),r.Rb(),r.Rb(),r.Rb(),r.Sb(38,"div",27),r.Sb(39,"div",44),r.Sb(40,"select",45),r.vc(41,em,2,2,"option",40),r.Rb(),r.Sb(42,"label",46),r.xc(43,"Gi\xe1 s\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.rfSearch),r.Ab(7),r.hc("ngIf",i.rfSearch.controls.productName.hasError("maxlength")&&i.rfSearch.controls.productName.touched),r.Ab(6),r.hc("ngIf",i.rfSearch.controls.sellerName.hasError("maxlength")&&i.rfSearch.controls.sellerName.touched),r.Ab(1),r.hc("ngIf",i.rfSearch.controls.sellerName.hasError("pattern")&&i.rfSearch.controls.sellerName.touched&&!i.rfSearch.controls.sellerName.hasError("maxlength")),r.Ab(2),r.hc("disabled",i.rfSearch.invalid),r.Ab(11),r.hc("ngForOf",i.categories),r.Ab(8),r.hc("ngForOf",i.auctionStatus),r.Ab(6),r.hc("ngForOf",i.priceRanges)}}var nm=function(e){return["/auction-detail/",e]},rm=function(e){return["/products/review/",e]},im=function(e){return["/product/edit/",e]};function om(e,t){if(1&e){var n=r.Tb();r.Sb(0,"tr"),r.Sb(1,"td"),r.Sb(2,"a",59),r.Sb(3,"span",60),r.xc(4),r.Rb(),r.Rb(),r.Rb(),r.Sb(5,"td"),r.xc(6),r.Rb(),r.Sb(7,"td"),r.xc(8),r.Rb(),r.Sb(9,"td",61),r.xc(10),r.dc(11,"number"),r.Rb(),r.Sb(12,"td"),r.xc(13),r.Rb(),r.Sb(14,"td"),r.xc(15),r.dc(16,"date"),r.Rb(),r.Sb(17,"td"),r.xc(18),r.Rb(),r.Sb(19,"td",62),r.Sb(20,"button",63),r.Ob(21,"i",64),r.Rb(),r.Rb(),r.Sb(22,"td",62),r.Sb(23,"input",65),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc(2).addToDelete(e.id)})),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=r.cc(2);r.Ab(2),r.hc("routerLink",2==i.reviewStatusId&&"\u0110\xe3 \u0111\u1ea5u gi\xe1 th\u1ea5t b\u1ea1i"!=i.auctionStatus?r.lc(19,nm,i.id):r.lc(21,rm,i.id)),r.Ab(2),r.yc(i.name),r.Ab(2),r.yc(i.category),r.Ab(2),r.yc(i.userName),r.Ab(2),r.yc(r.ec(11,14,i.initialPrice)),r.Ab(3),r.yc(i.reviewStatus),r.Ab(2),r.yc(r.fc(16,16,i.startTime,"dd/MM/yyyy H:mm:ss")),r.Ab(3),r.yc(i.auctionStatus),r.Ab(2),r.hc("routerLink",r.lc(23,im,i.id))("disabled","Ch\u01b0a \u0111\u1ea5u gi\xe1"!=i.auctionStatus),r.Ab(1),r.sc("Ch\u01b0a \u0111\u1ea5u gi\xe1"==i.auctionStatus?"color: green":"color:#6E6766"),r.Ab(2),r.hc("checked",o.deleteIds.includes(i.id))("disabled","\u0110\xe3 \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng"==i.auctionStatus||"\u0110ang \u0111\u1ea5u gi\xe1"==i.auctionStatus)}}function am(e,t){if(1&e){var n=r.Tb();r.Sb(0,"table",49),r.Sb(1,"thead"),r.Sb(2,"tr"),r.Sb(3,"th",50),r.xc(4,"T\xean S\u1ea3n ph\u1ea9m"),r.Rb(),r.Sb(5,"th",51),r.xc(6,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(),r.Sb(7,"th",52),r.xc(8,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(),r.Sb(9,"th",51),r.xc(10,"Gi\xe1 ban \u0111\u1ea7u (VN\u0110)"),r.Rb(),r.Sb(11,"th",53),r.xc(12,"Tr\u1ea1ng th\xe1i duy\u1ec7t"),r.Rb(),r.Sb(13,"th",54),r.xc(14,"Ng\xe0y \u0111\u1ea5u gi\xe1"),r.Rb(),r.Sb(15,"th",52),r.xc(16,"T\xecnh tr\u1ea1ng"),r.Rb(),r.Sb(17,"th",55),r.xc(18,"S\u1eeda"),r.Rb(),r.Sb(19,"th",56),r.Sb(20,"button",57),r.ac("click",(function(){return r.oc(n),r.cc().addAllToDelete()})),r.Ob(21,"i",58),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(22,"tbody"),r.vc(23,om,24,25,"tr",21),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(23),r.hc("ngForOf",i.pageProducts.content)}}function sm(e,t){1&e&&(r.Sb(0,"h3",66),r.xc(1,"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p."),r.Rb())}function cm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageProducts.number-3)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageProducts.number-2)}}function um(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageProducts.number-2)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageProducts.number-1)}}function lm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageProducts.number-1)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageProducts.number)}}function hm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageProducts.number+1)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageProducts.number+2)}}function dm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageProducts.number+2)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageProducts.number+3)}}function fm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",69),r.Sb(1,"a",74),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageProducts.number+3)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageProducts.number+4)}}function Am(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"nav",67),r.Sb(2,"ul",68),r.Sb(3,"li",69),r.Sb(4,"a",70),r.ac("click",(function(){return r.oc(n),r.cc().gotoPage(0)})),r.xc(5," << "),r.Rb(),r.Rb(),r.vc(6,cm,3,1,"li",71),r.vc(7,um,3,1,"li",71),r.vc(8,lm,3,1,"li",71),r.Sb(9,"li",72),r.Sb(10,"a",73),r.xc(11),r.Rb(),r.Rb(),r.vc(12,hm,3,1,"li",71),r.vc(13,dm,3,1,"li",71),r.vc(14,fm,3,1,"li",71),r.Sb(15,"li",69),r.Sb(16,"a",70),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.pageProducts.totalPages-1)})),r.xc(17," >> "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(4),r.hc("ngClass",i.pageProducts.first?"disabled":""),r.Ab(2),r.hc("ngIf",i.pageProducts.number-2>0),r.Ab(1),r.hc("ngIf",i.pageProducts.number-1>0),r.Ab(1),r.hc("ngIf",i.pageProducts.number>0),r.Ab(3),r.yc(i.pageProducts.number+1),r.Ab(1),r.hc("ngIf",i.pageProducts.number+2<=i.pageProducts.totalPages),r.Ab(1),r.hc("ngIf",i.pageProducts.number+3<=i.pageProducts.totalPages),r.Ab(1),r.hc("ngIf",i.pageProducts.number+4<=i.pageProducts.totalPages),r.Ab(2),r.hc("ngClass",i.pageProducts.last?"disabled":"")}}function pm(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"strong",47),r.xc(2),r.Rb(),r.xc(3,"? "),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.yc(n.name)}}var gm,vm=((gm=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck(this,e),this._productService=t,this._notificationService=n,this._formBuilder=r,this._categoryService=i,this._auctionStatusService=o,this._priceRangeService=a,this._activatedRoute=s,this._titleService=c,this._titleService.setTitle("Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m")}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCategories(),this.getAuctionStatus(),this.getPriceRanges(),this.createSearchForm(),this.searchByRoleAdmin(0),this.deleteIds=[],this.checkedAll=!1}},{key:"searchByRoleAdmin",value:function(e){var t=this;this._productService.getPageProductRoleAdmin(this.rfSearch.value,e).subscribe((function(e){t.pageProducts=e}),(function(e){t._notificationService.showErrorNotification("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn Server.")}))}},{key:"createSearchForm",value:function(){this.rfSearch=this._formBuilder.group({productName:["",[$a.maxLength(50)]],categoryName:[""],sellerName:["",[$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]+$"),$a.maxLength(50)]],priceRange:[1],auctionStatusName:[""]})}},{key:"resetFormAndData",value:function(){this.ngOnInit()}},{key:"gotoPage",value:function(e){this.searchByRoleAdmin(e)}},{key:"addToDelete",value:function(e){var t=this.deleteIds.indexOf(e,0);t>-1?this.deleteIds.splice(t,1):this.deleteIds.push(e)}},{key:"addAllToDelete",value:function(){this.checkedAll=!0;var e,t=_createForOfIteratorHelper(this.pageProducts.content);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(("Ch\u01b0a \u0111\u1ea5u gi\xe1"==n.auctionStatus||"\u0110\xe3 \u0111\u1ea5u gi\xe1 th\u1ea5t b\u1ea1i"==n.auctionStatus)&&!this.deleteIds.includes(n.id)){this.checkedAll=!1;break}}}catch(l){t.e(l)}finally{t.f()}if(this.checkedAll){var r,i=_createForOfIteratorHelper(this.pageProducts.content);try{for(i.s();!(r=i.n()).done;){var o=r.value;if("Ch\u01b0a \u0111\u1ea5u gi\xe1"==o.auctionStatus||"\u0110\xe3 \u0111\u1ea5u gi\xe1 th\u1ea5t b\u1ea1i"==o.auctionStatus){var a=this.deleteIds.indexOf(o.id,0);this.deleteIds.splice(a,1)}}}catch(l){i.e(l)}finally{i.f()}}else{var s,c=_createForOfIteratorHelper(this.pageProducts.content);try{for(c.s();!(s=c.n()).done;){var u=s.value;"Ch\u01b0a \u0111\u1ea5u gi\xe1"!=u.auctionStatus&&"\u0110\xe3 \u0111\u1ea5u gi\xe1 th\u1ea5t b\u1ea1i"!=u.auctionStatus||-1==this.deleteIds.indexOf(u.id,0)&&this.deleteIds.push(u.id)}}catch(l){c.e(l)}finally{c.f()}}}},{key:"sendToDeleteGroupModal",value:function(){var e=this;this.deleteProducts=[],this._productService.findByListId(this.deleteIds).subscribe((function(t){e.deleteProducts=t}),(function(t){e._notificationService.showErrorNotification("Kh\xf4ng th\u1ec3 t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m.")}))}},{key:"delete",value:function(){var e=this;this._productService.delete(this.deleteIds).subscribe((function(t){e._notificationService.showSuccessNotification("Xo\xe1 th\xe0nh c\xf4ng.")}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi xo\xe1.")}),(function(){e.ngOnInit()}))}},{key:"getCategories",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){e.categories=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7.")}))}},{key:"getPriceRanges",value:function(){var e=this;this._priceRangeService.getListPriceRange().subscribe((function(t){e.priceRanges=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7.")}))}},{key:"getAuctionStatus",value:function(){var e=this;this._auctionStatusService.getListAuctionStatus().subscribe((function(t){e.auctionStatus=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7.")}))}}]),e}()).\u0275fac=function(e){return new(e||gm)(r.Nb(tl),r.Nb(rl),r.Nb(Mc),r.Nb(Ul),r.Nb(Gv),r.Nb(Wv),r.Nb(Xr),r.Nb(Ft))},gm.\u0275cmp=r.Hb({type:gm,selectors:[["app-list-products"]],decls:35,vars:6,consts:[[1,"container-fluid"],["id","content",1,"row"],[1,"mt-5"],["id","search-row",1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],["id","list-row",1,"row"],["id","customer_table","class","table table-striped table-bordered",4,"ngIf"],["id","null-result-noti",4,"ngIf"],["id","last-row",1,"d-flex","justify-content-between"],["routerLink","/product/create","role","button",1,"btn","btn-primary"],[1,"fa-solid","fa-square-plus"],[4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-danger",3,"disabled","click"],[1,"fa-regular","fa-trash-can","delete-icon"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-4"],[1,"form-floating","mb-4","form-inp"],["type","text","placeholder","T\xean s\u1ea3n ph\u1ea9m","id","floatingName","formControlName","productName",1,"form-control","form-control-underlined"],["for","floatingName"],["style","color: red",4,"ngIf"],["type","text","placeholder","Ng\u01b0\u1eddi \u0111\u0103ng","id","floatingSeller","formControlName","sellerName",1,"form-control","form-control-underlined"],["for","floatingSeller"],["id","form-btn",1,"col-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-magnifying-glass"],[1,"btn","btn-success",3,"click"],["id","floatingCategory","formControlName","categoryName",1,"form-select","form-select-underlined"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingCategory"],["id","floatingAuctionStatus","formControlName","auctionStatusName",1,"form-select","form-select-underlined"],["for","floatingAuctionStatus"],["id","form-floating-price",1,"form-floating","mb-4"],["id","floatingPrice","formControlName","priceRange",1,"form-select","form-select-underlined"],["for","floatingPrice"],[2,"color","red"],[3,"value"],["id","customer_table",1,"table","table-striped","table-bordered"],["width","30%"],["width","8%"],["width","15%"],["width","11%"],["width","10%"],["width","7%"],["width","10",1,"text-center"],[1,"btn",3,"click"],[1,"fa-regular","fa-trash-can","delete-group-icon"],["type","button",1,"view",3,"routerLink"],[1,"text-decoration-underline"],[1,"text-end"],[1,"text-center"],[2,"border","none",3,"routerLink","disabled"],[1,"fa-regular","fa-pen-to-square","edit-icon"],["type","checkbox",1,"delete-checkbox",3,"checked","disabled","click"],["id","null-result-noti"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h1",2),r.xc(3,"Danh S\xe1ch S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Ob(4,"hr"),r.Sb(5,"div",3),r.vc(6,tm,44,8,"form",4),r.Rb(),r.Sb(7,"div",5),r.vc(8,am,24,1,"table",6),r.vc(9,sm,2,0,"h3",7),r.Sb(10,"div",8),r.Sb(11,"div"),r.Sb(12,"a",9),r.Ob(13,"i",10),r.xc(14," Th\xeam s\u1ea3n ph\u1ea9m "),r.Rb(),r.Rb(),r.vc(15,Am,18,9,"div",11),r.Sb(16,"div"),r.Sb(17,"button",12),r.ac("click",(function(){return t.sendToDeleteGroupModal()})),r.Ob(18,"i",13),r.xc(19," Xo\xe1 "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"div",14),r.Sb(21,"div",15),r.Sb(22,"div",16),r.Sb(23,"div",17),r.Sb(24,"h5",18),r.xc(25,"X\xf3a s\u1ea3n ph\u1ea9m"),r.Rb(),r.Ob(26,"button",19),r.Rb(),r.Sb(27,"div",20),r.xc(28," Xo\xe1 s\u1ea3n ph\u1ea9m: "),r.vc(29,pm,4,1,"div",21),r.Sb(30,"div",22),r.Sb(31,"button",23),r.xc(32,"Hu\u1ef7 b\u1ecf"),r.Rb(),r.Sb(33,"button",24),r.ac("click",(function(){return t.delete()})),r.xc(34,"X\xe1c nh\u1eadn "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(6),r.hc("ngIf",t.rfSearch),r.Ab(2),r.hc("ngIf",null!=t.pageProducts),r.Ab(1),r.hc("ngIf",null==t.pageProducts),r.Ab(6),r.hc("ngIf",t.pageProducts),r.Ab(2),r.hc("disabled",0==t.deleteIds.length),r.Ab(12),r.hc("ngForOf",t.deleteProducts))},directives:[Se,uo,ke,vc,Wa,yc,La,Ga,Fc,Cs,Ss,Ts,co,we],pipes:[Ne,Pe],styles:["#side-bar[_ngcontent-%COMP%]{position:fixed;height:100vh}.sidebar__left[_ngcontent-%COMP%]{background-color:#fe6432;padding-top:12px;z-index:5}.sidebar__left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.box[_ngcontent-%COMP%]{margin-top:64px;position:fixed;height:85vh}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding:0;margin:0}#search-row[_ngcontent-%COMP%]{display:flex}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:14px}app-header[_ngcontent-%COMP%]{left:0;right:0;z-index:10;position:fixed}.menu[_ngcontent-%COMP%]{padding:24px 0 0;background-color:#fe6432;margin:0}.box[_ngcontent-%COMP%], .menu__item[_ngcontent-%COMP%]{display:flex}.menu__item[_ngcontent-%COMP%]{padding:4px 12px;list-style-type:none;cursor:pointer;margin-bottom:12px;align-items:center;justify-content:center}.menu__link[_ngcontent-%COMP%]{text-decoration:none}.menu__link[_ngcontent-%COMP%], .menu__link[_ngcontent-%COMP%]:hover{color:#fff8dc}.menu__item[_ngcontent-%COMP%]:hover{background-color:#fff8dc;opacity:.7}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#0a0a0a}.active[_ngcontent-%COMP%]{background-color:#534c4c}h1[_ngcontent-%COMP%]{text-align:center}#content[_ngcontent-%COMP%]{padding-bottom:3%}#search-row[_ngcontent-%COMP%]{width:100%;padding:0 3% 0 5%}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:none}.form-select-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:5px;padding-left:13px}#form-floating-price[_ngcontent-%COMP%], .form-inp[_ngcontent-%COMP%]{width:80%;margin-left:10%}#form-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:10%;margin-top:3%}#null-result-noti[_ngcontent-%COMP%]{text-align:center;color:red}#list-row[_ngcontent-%COMP%]{width:100%;padding:2% 2% 1% 5%}#last-row[_ngcontent-%COMP%]{padding-top:2%}.delete-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}.edit-icon[_ngcontent-%COMP%]{font-size:20px;color:green}.delete-group-icon[_ngcontent-%COMP%]{font-size:23px;color:red}th[_ngcontent-%COMP%]{text-align:center;vertical-align:top}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;background:transparent;outline:none}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),gm);function mm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",26),r.Sb(1,"img",27),r.ac("click",(function(e){r.oc(n);var i=t.index;return r.cc(2).changeImage(e,1,i)})),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=t.index,a=r.cc(2);r.Db("image__item img-selected",1,""),r.ic("value",o),r.Ab(1),r.ic("src",i.url,r.qc),r.ic("alt",a.product.name)}}function bm(e,t){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td"),r.xc(2,"L\xfd do kho\xe1"),r.Rb(),r.Sb(3,"td"),r.xc(4),r.Rb(),r.Rb()),2&e){var n=r.cc(2);r.Ab(4),r.zc("",n.reason.reason," ")}}function ym(e,t){1&e&&(r.Sb(0,"div",33),r.xc(1," Vui l\xf2ng nh\u1eadp l\xfd do kh\xf4ng duy\u1ec7t s\u1ea3n ph\u1ea9m. "),r.Rb())}function wm(e,t){1&e&&(r.Sb(0,"div",33),r.xc(1," L\xfd do kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 250 k\xfd t\u1ef1. "),r.Rb())}function _m(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",30),r.Sb(1,"input",31),r.ac("ngModelChange",(function(e){return r.oc(n),r.cc(3).reason.reason=e})),r.Rb(),r.vc(2,ym,2,0,"div",32),r.vc(3,wm,2,0,"div",32),r.Rb()}if(2&e){var i=r.cc(3);r.hc("formGroup",i.rfReason),r.Ab(1),r.hc("ngModel",i.reason.reason),r.Ab(1),r.hc("ngIf",i.rfReason.controls.reason.hasError("required")&&i.rfReason.controls.reason.touched),r.Ab(1),r.hc("ngIf",i.rfReason.controls.reason.hasError("maxlength")&&i.rfReason.controls.reason.touched)}}function km(e,t){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td"),r.Sb(2,"label",28),r.xc(3,"L\xfd do kho\xe1"),r.Rb(),r.Rb(),r.Sb(4,"td"),r.vc(5,_m,4,4,"form",29),r.Rb(),r.Rb()),2&e){var n=r.cc(2);r.Ab(5),r.hc("ngIf",n.rfReason)}}function Cm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"a",34),r.ac("click",(function(){return r.oc(n),r.cc(2).review()})),r.Ob(1,"i",35),r.xc(2," Duy\u1ec7t "),r.Rb()}}function Sm(e,t){if(1&e){var n=r.Tb();r.Sb(0,"button",36),r.ac("click",(function(){return r.oc(n),r.cc(2).doNotReview()})),r.Ob(1,"i",37),r.xc(2," Kh\xf4ng duy\u1ec7t "),r.Rb()}if(2&e){var i=r.cc(2);r.hc("disabled",i.invalidProduct&&i.rfReason.invalid)}}function xm(e,t){if(1&e&&(r.Sb(0,"div",2),r.Sb(1,"div",6),r.Sb(2,"div",7),r.Sb(3,"div",8),r.Sb(4,"div",9),r.Ob(5,"img",10),r.Sb(6,"ul",11),r.vc(7,mm,2,6,"li",12),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(8,"div",6),r.Sb(9,"div",13),r.Sb(10,"div",14),r.Sb(11,"table",15),r.Sb(12,"tr"),r.Sb(13,"td",16),r.xc(14,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(),r.Sb(15,"td",17),r.Sb(16,"strong"),r.xc(17),r.Rb(),r.Rb(),r.Rb(),r.Sb(18,"tr"),r.Sb(19,"td"),r.xc(20,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(),r.Sb(21,"td"),r.xc(22),r.Ob(23,"br"),r.xc(24),r.Ob(25,"br"),r.xc(26),r.Rb(),r.Rb(),r.Sb(27,"tr"),r.Sb(28,"td"),r.xc(29,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(),r.Sb(30,"td"),r.xc(31),r.Rb(),r.Rb(),r.Sb(32,"tr"),r.Sb(33,"td"),r.xc(34,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(),r.Sb(35,"td"),r.xc(36),r.dc(37,"number"),r.Sb(38,"sup"),r.xc(39,"\u0111"),r.Rb(),r.Rb(),r.Rb(),r.Sb(40,"tr"),r.Sb(41,"td"),r.xc(42,"B\u01b0\u1edbc gi\xe1"),r.Rb(),r.Sb(43,"td"),r.xc(44),r.dc(45,"number"),r.Sb(46,"sup"),r.xc(47,"\u0111"),r.Rb(),r.Rb(),r.Rb(),r.Sb(48,"tr"),r.Sb(49,"td"),r.xc(50,"B\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1"),r.Rb(),r.Sb(51,"td"),r.xc(52),r.dc(53,"date"),r.Rb(),r.Rb(),r.Sb(54,"tr"),r.Sb(55,"td"),r.xc(56,"K\u1ebft th\xfac \u0111\u1ea5u gi\xe1"),r.Rb(),r.Sb(57,"td"),r.xc(58),r.dc(59,"date"),r.Rb(),r.Rb(),r.Sb(60,"tr"),r.Sb(61,"td"),r.xc(62,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(),r.Ob(63,"td",18),r.Rb(),r.vc(64,bm,5,1,"tr",19),r.vc(65,km,6,1,"tr",19),r.Rb(),r.Rb(),r.Rb(),r.Sb(66,"div",20),r.Sb(67,"div",21),r.vc(68,Cm,3,0,"a",22),r.Rb(),r.Sb(69,"div",21),r.vc(70,Sm,3,1,"button",23),r.Rb(),r.Sb(71,"div",21),r.Sb(72,"a",24),r.Ob(73,"i",25),r.xc(74," Quay l\u1ea1i "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(5),r.jc("id","image__main",1,""),r.ic("src",null==n.imgs[0]?null:n.imgs[0].url,r.qc),r.ic("alt",n.product.name),r.Ab(2),r.hc("ngForOf",n.imgs),r.Ab(10),r.yc(n.product.name),r.Ab(5),r.zc(" Id: ",n.product.userId,""),r.Ab(2),r.zc(" T\xean \u0111\u1ea7y \u0111\u1ee7: ",n.product.userName,""),r.Ab(2),r.zc(" Email: ",n.product.userName," "),r.Ab(5),r.yc(n.product.category),r.Ab(5),r.yc(r.ec(37,18,n.product.initialPrice)),r.Ab(8),r.yc(r.ec(45,20,n.product.priceStep)),r.Ab(8),r.yc(r.fc(53,22,n.product.startTime,"dd/MM/y H:mm:ss")),r.Ab(6),r.yc(r.fc(59,25,n.product.endTime,"dd/MM/y H:mm:ss")),r.Ab(5),r.hc("innerHTML",n.product.description,r.pc),r.Ab(1),r.hc("ngIf",3==n.product.reviewStatusId),r.Ab(1),r.hc("ngIf",n.invalidProduct&&3!=n.product.reviewStatusId),r.Ab(3),r.hc("ngIf",1==n.product.reviewStatusId),r.Ab(2),r.hc("ngIf",1==n.product.reviewStatusId)}}var Em,Im,Bm=((Im=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._productService=t,this._notificationService=n,this._activatedRoute=r,this.router=i,this._formBuilder=o,this._titleService=a,this._titleService.setTitle("Duy\u1ec7t s\u1ea3n ph\u1ea9m")}return _createClass(e,[{key:"ngOnInit",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=this,t=+this._activatedRoute.snapshot.params.id;this._productService.getImgsByProductId(t).subscribe((function(t){e.imgs=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i h\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m!"),e.imgs=[{url:""}]})),this._productService.getReason(t).subscribe((function(n){e.reason=n,e.reason.productId=t})),this._productService.findByDtoId(t).subscribe((function(t){e.product=t,e.invalidProduct=3==e.product.reviewStatusId}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i th\xf4ng tin s\u1ea3n ph\u1ea9m!"),e.router.navigateByUrl("/products")}))}},{key:"doNotReview",value:function(){var e=this;this.invalidProduct?(this._productService.writeReason(this.reason).subscribe((function(t){e._notificationService.showSuccessNotification("\u0110\xe3 l\u01b0u l\xfd do kho\xe1!")})),this._productService.doNotReview(this.product.id).subscribe((function(t){e.router.navigateByUrl("/products"),e._notificationService.showSuccessNotification("S\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c duy\u1ec7t!")}),(function(t){e._notificationService.showErrorNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}))):(this.invalidProduct=!0,this.rfReason=this._formBuilder.group({reason:["",[$a.required,$a.maxLength(250)]]}))}},{key:"review",value:function(){var e=this;this._productService.review(this.product.id).subscribe((function(t){e.router.navigateByUrl("/products"),e._notificationService.showSuccessNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!")}),(function(t){e._notificationService.showErrorNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}))}},{key:"changeImage",value:function(e,t,n){var r=e.target.src,i=document.querySelectorAll(".img-selected"+t);document.getElementById("image__main"+t).setAttribute("src",r),i.forEach((function(e){e.getAttribute("value")==n+""?e.classList.add("actived"):e.classList.remove("actived")}))}},{key:"selectedChangImage",value:function(){setTimeout((function(){document.querySelectorAll(".carousel__images").forEach((function(e){e.children[0].classList.add("actived")}))}),500)}}]),e}()).\u0275fac=function(e){return new(e||Im)(r.Nb(tl),r.Nb(rl),r.Nb(Xr),r.Nb(so),r.Nb(Mc),r.Nb(Ft))},Im.\u0275cmp=r.Hb({type:Im,selectors:[["app-product-detail"]],decls:9,vars:1,consts:[[1,"container"],[1,"borderFull"],[1,"row"],[1,"register"],[1,"row","text-center"],["class","row",4,"ngIf"],[1,"col-6"],["id","img-col",1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"mt-2","card","card-body","w-50",2,"border","solid","color","green"],["height","500",1,"d-block","w-100","card-img",3,"id","src","alt"],[1,"carousel__images","d-flex","justify-content-center"],[3,"value","class",4,"ngFor","ngForOf"],[1,"container-fluid"],[1,"row","mt-4"],["id","customer_table",1,"table","table-striped","table-bordered"],["width","28%"],["width","72%"],[3,"innerHTML"],[4,"ngIf"],["id","review-btns",1,"row"],[1,"col-4"],["class","btn btn-success","role","button","style","width: 140px",3,"click",4,"ngIf"],["class","btn btn-warning","role","button","style","width: 140px",3,"disabled","click",4,"ngIf"],["routerLink","/products","role","button",1,"btn","btn-secondary",2,"width","140px"],[1,"fa-solid","fa-arrow-rotate-left"],[3,"value"],["height","50","width","",1,"d-block","w-100",3,"src","alt","click"],["for","reason-input"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","text","id","reason-input","formControlName","reason",1,"form-control",3,"ngModel","ngModelChange"],["style","color: red",4,"ngIf"],[2,"color","red"],["role","button",1,"btn","btn-success",2,"width","140px",3,"click"],[1,"fa-solid","fa-check"],["role","button",1,"btn","btn-warning",2,"width","140px",3,"disabled","click"],[1,"fa-solid","fa-xmark"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"div",0),r.Sb(5,"div",4),r.Sb(6,"h1"),r.xc(7,"Duy\u1ec7t S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Rb(),r.vc(8,xm,75,28,"div",5),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(8),r.hc("ngIf",t.product&&t.imgs))},directives:[Se,ke,uo,vc,Wa,yc,La,Ga,Fc],pipes:[Ne,Pe],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#right-col[_ngcontent-%COMP%]{padding:2% 8%}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #868585;padding:5px 0 5px 10px}table[_ngcontent-%COMP%]{border-collapse:collapse}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#eee}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}h1[_ngcontent-%COMP%]{text-align:center;color:#00f}#review-btns[_ngcontent-%COMP%]{padding-top:4%}.container[_ngcontent-%COMP%]{padding-bottom:5%}#img-col[_ngcontent-%COMP%]{padding-top:3%}#review-btns[_ngcontent-%COMP%]{padding-top:5%}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:4px;cursor:pointer}.image__item.actived[_ngcontent-%COMP%]{border:1px solid rgba(231,76,60,.41);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}"]}),Im),Dm=((Em=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"setEmailGoogle",value:function(e){this.emailGoogle=e}},{key:"login",value:function(e){return this._httpClient.post(o.LOGIN_API,e)}},{key:"googleLogin",value:function(e){return this._httpClient.post(o.GOOGLE_LOGIN_API,e)}}]),e}()).\u0275fac=function(e){return new(e||Em)(r.Wb(la))},Em.\u0275prov=r.Jb({token:Em,factory:Em.\u0275fac,providedIn:"root"}),Em);function Tm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Om(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function Fm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function Rm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function Pm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Nm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function Mm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function Lm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function Um(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 t\u1ed3n t\u1ea1i "),r.Rb())}function jm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Qm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function Hm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function Vm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function zm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Email \u0111\xe3 t\u1ed3n t\u1ea1i "),r.Rb())}function qm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Km(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Email ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function Gm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Wm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function Ym(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Nga\u0300y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Jm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," B\u1ea1n ch\u01b0a \u0111\u1ee7 18 tu\u1ed5i "),r.Rb())}function Xm(e,t){if(1&e&&(r.Sb(0,"option",92),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function Zm(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Ti\u0309nh kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function $m(e,t){if(1&e&&(r.Sb(0,"option",92),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function eb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Qu\xe2\u0323n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function tb(e,t){if(1&e&&(r.Sb(0,"option",92),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function nb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," X\xe3 kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function rb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function ib(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function ob(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function ab(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function sb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," CMND kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function cb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," CMND kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function ub(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function lb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function hb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function db(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function fb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function Ab(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp "),r.Rb())}function pb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function gb(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function vb(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",1),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().submitCreateUser()})),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Sb(4,"div",5),r.Sb(5,"div",6),r.Sb(6,"div",7),r.Ob(7,"div",8),r.Rb(),r.Sb(8,"div",9),r.Sb(9,"div",10),r.Sb(10,"div",11),r.Sb(11,"div",12),r.Sb(12,"h3"),r.xc(13,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Rb(),r.Rb(),r.Rb(),r.Ob(14,"div",13),r.Rb(),r.Ob(15,"div",14),r.Sb(16,"div",10),r.Sb(17,"div",15),r.Sb(18,"input",16,17),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.Rb(),r.Sb(20,"div",18),r.ac("click",(function(e){return r.oc(n),r.cc().render(e)})),r.Rb(),r.Rb(),r.Ob(21,"div",19),r.Sb(22,"div",10),r.Sb(23,"div",20),r.Sb(24,"div",21),r.Sb(25,"div",22),r.Ob(26,"input",23),r.Sb(27,"label",24),r.xc(28,"H\u1ecd"),r.Rb(),r.Rb(),r.Sb(29,"span",25),r.Ob(30,"i",26),r.Rb(),r.Rb(),r.vc(31,Tm,2,0,"div",27),r.vc(32,Om,2,0,"div",27),r.vc(33,Fm,2,0,"div",27),r.vc(34,Rm,2,0,"div",27),r.Rb(),r.Sb(35,"div",20),r.Sb(36,"div",21),r.Sb(37,"div",22),r.Ob(38,"input",28),r.Sb(39,"label",29),r.xc(40,"T\xean"),r.Rb(),r.Rb(),r.Sb(41,"span",30),r.Ob(42,"i",26),r.Rb(),r.Rb(),r.vc(43,Pm,2,0,"div",27),r.vc(44,Nm,2,0,"div",27),r.vc(45,Mm,2,0,"div",27),r.vc(46,Lm,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(47,"div",10),r.Sb(48,"div",20),r.Sb(49,"div",21),r.Sb(50,"div",22),r.Ob(51,"input",31),r.Sb(52,"label",32),r.xc(53,"T\xean \u0111\u0103ng nh\u1eadp"),r.Rb(),r.Rb(),r.Sb(54,"span",33),r.Ob(55,"i",26),r.Rb(),r.Rb(),r.vc(56,Um,2,0,"div",27),r.vc(57,jm,2,0,"div",27),r.vc(58,Qm,2,0,"div",27),r.vc(59,Hm,2,0,"div",27),r.vc(60,Vm,2,0,"div",27),r.Rb(),r.Sb(61,"div",20),r.Sb(62,"div",21),r.Sb(63,"div",22),r.Ob(64,"input",34),r.Sb(65,"label",35),r.xc(66,"Email"),r.Rb(),r.Rb(),r.Sb(67,"span",36),r.Ob(68,"i",37),r.Rb(),r.Rb(),r.vc(69,zm,2,0,"div",27),r.vc(70,qm,2,0,"div",27),r.vc(71,Km,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(72,"div",10),r.Sb(73,"div",20),r.Sb(74,"div",21),r.Sb(75,"div",22),r.Ob(76,"input",38),r.Sb(77,"label",39),r.xc(78,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Rb(),r.Rb(),r.Sb(79,"span",40),r.Ob(80,"i",41),r.Rb(),r.Rb(),r.vc(81,Gm,2,0,"div",27),r.vc(82,Wm,2,0,"div",27),r.Rb(),r.xc(83," \u200b "),r.Sb(84,"div",20),r.Sb(85,"div",21),r.Sb(86,"div",22),r.Ob(87,"input",42),r.Sb(88,"label",43),r.xc(89,"Ng\xe0y sinh"),r.Rb(),r.Rb(),r.Sb(90,"span",44),r.Ob(91,"i",45),r.Rb(),r.Rb(),r.vc(92,Ym,2,0,"div",27),r.vc(93,Jm,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(94,"div",10),r.Sb(95,"div",46),r.Sb(96,"div"),r.Sb(97,"select",47),r.ac("change",(function(){return r.oc(n),r.cc().selectCity()})),r.Sb(98,"option",48),r.xc(99,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Rb(),r.vc(100,Xm,2,2,"option",49),r.Rb(),r.vc(101,Zm,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(102,"div",46),r.Sb(103,"div"),r.Sb(104,"select",50),r.ac("change",(function(){return r.oc(n),r.cc().selectDistrict()})),r.Sb(105,"option",48),r.xc(106,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Rb(),r.vc(107,$m,2,2,"option",49),r.Rb(),r.vc(108,eb,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(109,"div",46),r.Sb(110,"div"),r.Sb(111,"select",51),r.ac("change",(function(){return r.oc(n),r.cc().selectWard()})),r.Sb(112,"option",48),r.xc(113,"Ch\u1ecdn ph\u01b0\u01a1\u0300ng xa\u0303"),r.Rb(),r.vc(114,tb,2,2,"option",49),r.Rb(),r.vc(115,nb,2,0,"div",27),r.Rb(),r.Rb(),r.Rb(),r.Sb(116,"div",52),r.Sb(117,"div",20),r.Sb(118,"div",21),r.Sb(119,"div",22),r.Ob(120,"input",53),r.Sb(121,"label",54),r.xc(122,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Rb(),r.Rb(),r.Sb(123,"span",55),r.Ob(124,"i",56),r.Rb(),r.Rb(),r.vc(125,rb,2,0,"div",27),r.vc(126,ib,2,0,"div",27),r.vc(127,ob,2,0,"div",27),r.vc(128,ab,2,0,"div",27),r.Rb(),r.Sb(129,"div",20),r.Sb(130,"div",21),r.Sb(131,"div",22),r.Ob(132,"input",57),r.Sb(133,"label",58),r.xc(134,"CMND"),r.Rb(),r.Rb(),r.Sb(135,"span",59),r.Ob(136,"i",60),r.Rb(),r.Rb(),r.vc(137,sb,2,0,"div",27),r.vc(138,cb,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(139,"div",10),r.Sb(140,"div",20),r.Sb(141,"div",21),r.Sb(142,"div",22),r.Ob(143,"input",61),r.Sb(144,"label",62),r.xc(145,"M\u1eadt kh\u1ea9u"),r.Rb(),r.Rb(),r.Sb(146,"span",63),r.Ob(147,"i",64),r.Rb(),r.Rb(),r.vc(148,ub,2,0,"div",27),r.vc(149,lb,2,0,"div",27),r.vc(150,hb,2,0,"div",27),r.vc(151,db,2,0,"div",27),r.Rb(),r.Sb(152,"div",20),r.Sb(153,"div",21),r.Sb(154,"div",22),r.Ob(155,"input",65),r.Sb(156,"label",66),r.xc(157,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Rb(),r.Rb(),r.Sb(158,"span",67),r.Ob(159,"i",68),r.Rb(),r.Rb(),r.vc(160,fb,2,0,"div",27),r.vc(161,Ab,2,0,"div",27),r.vc(162,pb,2,0,"div",27),r.vc(163,gb,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(164,"div",10),r.Sb(165,"div",69),r.Sb(166,"div"),r.Sb(167,"div",70),r.Sb(168,"div",10),r.Sb(169,"div",71),r.Ob(170,"input",72),r.Rb(),r.Sb(171,"div",46),r.Sb(172,"button",73),r.ac("click",(function(){return r.oc(n),r.cc().printd()})),r.xc(173,"G\u1eedi"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(174,"div",74),r.Sb(175,"div",10),r.Sb(176,"div",46),r.Ob(177,"div",75),r.Rb(),r.Sb(178,"div",76),r.Sb(179,"div",77),r.ac("click",(function(){return r.oc(n),r.cc().generate()})),r.Ob(180,"i",78),r.Rb(),r.Rb(),r.Sb(181,"div",74),r.Sb(182,"div",79),r.Ob(183,"p",80),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(184,"div",52),r.Sb(185,"div",81),r.Sb(186,"div",82),r.Sb(187,"input",83),r.ac("click",(function(){return r.oc(n),r.cc().onchangeStautus()})),r.Rb(),r.Sb(188,"label",84),r.xc(189," \u0110\u1ed3ng \xfd "),r.Sb(190,"a",85),r.xc(191,"\u0111i\u1ec1u kho\u1ea3n"),r.Rb(),r.xc(192," c\u1ee7a website "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ob(193,"div",14),r.Sb(194,"div",10),r.Sb(195,"div",86),r.Sb(196,"button",87),r.xc(197,"\u0110\u0103ng k\xfd "),r.Rb(),r.Rb(),r.Sb(198,"div",88),r.Sb(199,"button",89),r.xc(200,"Quay l\u1ea1i "),r.Rb(),r.Rb(),r.Rb(),r.Ob(201,"div",90),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.userCreateForm),r.Ab(26),r.hc("ngClass",i.userCreateForm.controls.firstName.touched?i.userCreateForm.controls.firstName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("required")&&i.userCreateForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("pattern")&&i.userCreateForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("minlength")&&i.userCreateForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("maxlength")&&i.userCreateForm.controls.firstName.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.lastName.touched?i.userCreateForm.controls.lastName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("required")&&i.userCreateForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("pattern")&&i.userCreateForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("minlength")&&i.userCreateForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("maxlength")&&i.userCreateForm.controls.lastName.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.username.touched?i.userCreateForm.controls.username.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.areEqual?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",(null==i.userCreateForm.errors?null:i.userCreateForm.errors.areEqual)&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("required")&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("pattern")&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("minlength")&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("maxlength")&&i.userCreateForm.controls.username.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.email.touched?i.userCreateForm.controls.email.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.isExist?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",(null==i.userCreateForm.errors?null:i.userCreateForm.errors.isExist)&&i.userCreateForm.controls.email.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.email.hasError("required")&&i.userCreateForm.controls.email.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.email.hasError("pattern")&&i.userCreateForm.controls.email.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.phone.touched?i.userCreateForm.controls.phone.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.phone.hasError("required")&&i.userCreateForm.controls.phone.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.phone.hasError("pattern")&&i.userCreateForm.controls.phone.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.birthDay.touched?i.userCreateForm.controls.birthDay.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.checkBirthDay?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.birthDay.hasError("required")&&i.userCreateForm.controls.birthDay.touched),r.Ab(1),r.hc("ngIf",null==i.userCreateForm.errors?null:i.userCreateForm.errors.checkBirthDay),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.city.touched?i.userCreateForm.controls.city.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.cities),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.city.hasError("required")&&i.userCreateForm.controls.city.touched),r.Ab(3),r.hc("ngClass",i.userCreateForm.controls.district.touched?i.userCreateForm.controls.district.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.districts),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.district.hasError("required")&&i.userCreateForm.controls.district.touched),r.Ab(3),r.hc("ngClass",i.userCreateForm.controls.town.touched?i.userCreateForm.controls.town.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.wards),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.town.hasError("required")&&i.userCreateForm.controls.town.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.detailAddress.touched?i.userCreateForm.controls.detailAddress.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("required")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("pattern")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("minlength")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("maxlength")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.idCard.touched?i.userCreateForm.controls.idCard.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.idCard.hasError("required")&&i.userCreateForm.controls.idCard.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.idCard.hasError("pattern")&&i.userCreateForm.controls.idCard.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.password.touched?i.userCreateForm.controls.password.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.password.hasError("required")&&i.userCreateForm.controls.password.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.password.hasError("pattern")&&i.userCreateForm.controls.password.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.password.hasError("minlength")&&i.userCreateForm.controls.password.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.password.hasError("maxlength")&&i.userCreateForm.controls.password.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.confirmPassword.touched?i.userCreateForm.controls.password.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.reConfirmPass?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.confirmPassword.hasError("required")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.hasError("reConfirmPass")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.confirmPassword.hasError("minlength")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.confirmPassword.hasError("maxlength")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(33),r.hc("disabled",!i.userCreateForm.valid&&!i.result&&!i.status)}}var mb,bb,yb=function(e){var t=new Date(e.get("birthDay").value).getTime();console.log(t);var n=(new Date).getTime();return console.log(n),n-t<567648e6?{checkBirthDay:!0}:null},wb=function(e){var t=e.get("password"),n=e.get("confirmPassword");return t&&n&&t.touched&&t.value!=n.value?{reConfirmPass:!0}:null},_b=((bb=function(){function e(t,n,r,i,o,a,s){var c=this;_classCallCheck(this,e),this.userService=t,this.router=n,this.formBuilder=r,this._storage=i,this.addressService=o,this._toast=a,this.authService=s,this.selectedImages=[],this.cities=[],this.result=!1,this.btn=!1,this.status=!1,this.areEqual=function(e){var t=e.get("username").value;console.log(t);var n=null;return c.userList.forEach((function(e){t===e.account.username&&(n={areEqual:!0})})),n},this.isExist=function(e){var t=e.get("email").value;console.log(t);var n=null;return c.userList.forEach((function(e){t===e.email&&(n={isExist:!0})})),n}}return _createClass(e,[{key:"ngOnInit",value:function(){this.googleEmail=this.authService.emailGoogle,this.status=!1,this.getCreateForm(),this.addressService.getAllCities(),this.cities=this.addressService.cities}},{key:"getCreateForm",value:function(){var e=this;this.userService.findAllUser().subscribe((function(t){e.userList=t,e.userCreateForm=e.formBuilder.group({firstName:["",[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$"),$a.minLength(2),$a.maxLength(50)]],lastName:["",[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$"),$a.minLength(2),$a.maxLength(50)]],username:["",[$a.required,$a.minLength(2),$a.maxLength(50)]],avatar:["",[$a.required]],email:[e.googleEmail,[$a.required,$a.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$")]],phone:["",[$a.required,$a.pattern("[0][9][0]\\d{7}")]],birthDay:["",[$a.required]],city:["",[$a.required]],district:["",[$a.required]],town:["",[$a.required]],country:["viet nam"],idCard:["",[$a.required,$a.pattern("\\d{9}")]],password:["",[$a.required,$a.minLength(4),$a.maxLength(20)]],confirmPassword:["",[$a.required,$a.minLength(4),$a.maxLength(20)]],pointDedication:[10],statusLock:[!0],deleteStatus:[!1],detailAddress:["",[$a.required,$a.minLength(3),$a.maxLength(100)]]},{validators:[e.areEqual,e.isExist,wb,yb]})}))}},{key:"submitCreateUser",value:function(){var e=this;this.userCreateForm.controls.city.setValue(this.currentCity),this.userCreateForm.controls.district.setValue(this.currentDistrcit),this.userCreateForm.controls.town.setValue(this.currentWard),this.userService.createUser(this.userCreateForm.value).subscribe((function(t){e._toast.success("\u0110\u0103ng K\xfd Th\xe0nh C\xf4ng"),e.router.navigateByUrl("/home")}))}},{key:"selectCity",value:function(){var e=this;this.cityIdSelected=this.userCreateForm.value.city,this.addressService.getAllAddress().subscribe((function(t){e.districts=[];for(var n=0;n<t[e.cityIdSelected].Districts.length;n++)e.districts.push(new Gg(n,t[e.cityIdSelected].Districts[n].Name));e.currentCity=t[e.cityIdSelected].Name}))}},{key:"selectDistrict",value:function(){var e=this;this.districtIdSelected=this.userCreateForm.value.district,this.addressService.getAllAddress().subscribe((function(t){e.wards=[];for(var n=0;n<t[e.cityIdSelected].Districts[e.districtIdSelected].Wards.length;n++)e.wards.push(new Wg(n,t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[n].Name));e.currentDistrcit=t[e.cityIdSelected].Districts[e.districtIdSelected].Name}))}},{key:"selectWard",value:function(){var e=this;this.wardIdSelected=this.userCreateForm.value.town,this.addressService.getAllAddress().subscribe((function(t){e.currentWard=t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[e.wardIdSelected].Name}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(var n=function(e){var n=t.selectedImages[e],r="RoomsImages/".concat(Date.now()),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(e){t.userCreateForm.patchValue({avatar:e}),t.imgs=e,document.getElementById("avartar__my").classList.add("alo"),document.getElementById("avartar__my").setAttribute("style",'background-image: url("'+e+'")')}))}))).subscribe((function(){}))},r=0;r<this.selectedImages.length;r++)n(r)}},{key:"generate",value:function(){var e;document.getElementById("submit").setAttribute("value",""),e=document.getElementById("image"),this.captchaString="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=1;n<6;n++)this.captchaString+=t.charAt(Math.random()*t.length);e.innerHTML=this.captchaString}},{key:"printd",value:function(){var e=$("#submit").val();this.usr_input=e,e==this.captchaString?(this.result=!0,document.getElementById("key").innerHTML="M\xe3 ch\xednh x\xe1c",this.generate()):(this.result=!1,document.getElementById("key").innerHTML="M\xe3 kh\xf4ng ch\xednh x\xe1c",this.generate())}},{key:"render",value:function(e){document.getElementById("inputGroupFile01").click()}},{key:"onchangeStautus",value:function(){this.status=!0}}]),e}()).\u0275fac=function(e){return new(e||bb)(r.Nb(Ql),r.Nb(so),r.Nb(Mc),r.Nb(Sd),r.Nb(Jg),r.Nb(yu),r.Nb(Dm))},bb.\u0275cmp=r.Hb({type:bb,selectors:[["app-register-with-google"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px","padding","0px 0px"],[1,"bgd","d-flex","align-items-center","w-50"],[1,"h-100","w-100",2,"background-size","cover","background","url('https://images.pexels.com/photos/4439416/pexels-photo-4439416.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')  no-repeat","border-top-left-radius","20px","border-bottom-left-radius","20px","background-size","117%"],[1,"p-3",2,"width","60vw"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","38%"],["hidden","","type","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",3,"change"],["userPhoto",""],["id","avartar__my",2,"width","150px","height","150px","border-radius","50%","display","block","background-image","url('https://cdn.iconscout.com/icon/free/png-512/avatar-367-456319.png')","background-repeat","no-repeat","background-size","cover",3,"click"],[1,"row",2,"height","25px"],[1,"col-lg-6","mb-3"],[1,"input-group"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["disabled","","type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","date","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"ngClass","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"ngClass","change"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"ngClass","change"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingPassword","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control",3,"ngClass"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-key"],[1,"col-lg-5"],["id","user-input",1,"floating"],[1,"col-lg-8"],["type","text","id","submit","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["type","button","id","btn",1,"btn","btn-gray",3,"click"],[1,"col-lg-7"],["id","image","selectable","False",2,"margin-top","0"],[1,"col-lg-1",2,"margin-top","10px"],[2,"cursor","pointer",3,"click"],[1,"fas","fa-sync"],[2,"font-size","17px","color","blue","margin-top","6px"],["id","key"],[1,"col-lg-12"],[1,"form-check"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"click"],["for","flexCheckDefault",1,"form-check-label"],["href",""],[1,"col-lg-3",2,"width","112px"],["type","submit","id","btt",1,"btn",2,"background-color","#e74c3c",3,"disabled"],[1,"col-lg-5",2,"padding-left","10px"],["type","button","routerLink","/home",1,"btn","btn-warning"],[1,"row",2,"height","15px"],[2,"color","red"],[3,"ngValue"]],template:function(e,t){1&e&&r.vc(0,vb,202,55,"form",0),2&e&&r.hc("ngIf",t.userCreateForm)},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts,ke,co],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),bb),kb=((mb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||mb)},mb.\u0275cmp=r.Hb({type:mb,selectors:[["app-method-payment"]],decls:63,vars:0,consts:[[1,"row"],[1,"col-lg-4"],[1,"col-lg-2"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link",2,"padding-left","20px"],["id","pills-contact-tab","data-bs-toggle","pill","data-bs-target","#pills-contact","type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link"],[1,"col-lg-6"],[1,"col-lg-12"],["src","https://toplist.vn/images/800px/3-shipantoan-117725.jpg","width","500px"],["type","radio","checked",""],[2,"color","red"],["src","https://quangan.vn/wp-content/uploads/1644509255_275_Ngan-Hang-Vietcombank-La-Ngan-Hang-Gi-VCB-Co-Tot.png",2,"width","200px","height","120px"],["src","https://newsroom.uk.paypal-corp.com/images/fillers/Wordmark%20on%20gold.png",2,"width","200px","height","110px"],["src","https://i.imgur.com/07b8DkY.png",2,"width","200px","height","110px"],[1,"card","border-primary","mb-3",2,"max-width","18rem","padding","0"],[1,"card-body","text-light",2,"background-color","blue"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-primary","bg-light","border-primary"],[1,"card-title","text-light",2,"background-color","blue"],[1,"card-body","text-primary"],[1,"card-footer","bg-light","border-success",2,"color","red"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"div",1),r.Sb(2,"div",1),r.Sb(3,"h2"),r.xc(4,"Thanh To\xe1n"),r.Rb(),r.Rb(),r.Ob(5,"div",1),r.Rb(),r.Sb(6,"div",0),r.Ob(7,"div",2),r.Sb(8,"div",2),r.Sb(9,"button",3),r.xc(10,"\u0110\u1ecba ch\u1ec9 thanh to\xe1n "),r.Rb(),r.Rb(),r.Sb(11,"div",2),r.Sb(12,"button",4),r.xc(13,"H\xecnh th\u1ee9c giao h\xe0ng "),r.Rb(),r.Rb(),r.Sb(14,"div",2),r.Sb(15,"button",5),r.xc(16,"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng "),r.Rb(),r.Rb(),r.Rb(),r.Sb(17,"div",0),r.Ob(18,"div",2),r.Sb(19,"div",6),r.Sb(20,"div",0),r.Sb(21,"div",7),r.Ob(22,"img",8),r.Sb(23,"h6"),r.Ob(24,"input",9),r.xc(25," H\xecnh th\u1ee9c giao h\xe0ng t\u1eadn nh\xe0"),r.Rb(),r.Ob(26,"hr"),r.Rb(),r.Rb(),r.Sb(27,"div",0),r.Sb(28,"div",7),r.Sb(29,"h6"),r.Sb(30,"span",10),r.xc(31,"*"),r.Rb(),r.xc(32," M\u1eddi b\u1ea1n ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n"),r.Rb(),r.Rb(),r.Rb(),r.Sb(33,"div",0),r.Sb(34,"div",1),r.Ob(35,"img",11),r.Rb(),r.Sb(36,"div",1),r.Ob(37,"img",12),r.Rb(),r.Sb(38,"div",1),r.Ob(39,"img",13),r.Rb(),r.Rb(),r.Rb(),r.Sb(40,"div",1),r.Sb(41,"div",0),r.Sb(42,"div",7),r.Sb(43,"div",14),r.Sb(44,"div",15),r.Sb(45,"h4",16),r.xc(46,"C\xf3 c\xe2u h\u1ecfi?"),r.Rb(),r.Sb(47,"p",17),r.xc(48,"Vui l\xf2ng li\xean h\u1ec7 b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 24 gi\u1edd c\u1ee7a ch\xfang t\xf4i."),r.Rb(),r.Rb(),r.Sb(49,"div",18),r.Sb(50,"h6"),r.xc(51,"S\u0110T.(028)-090123090"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(52,"div",0),r.Sb(53,"div",7),r.Sb(54,"div",14),r.Sb(55,"h4",19),r.xc(56,"T\u1ed5ng K\u1ebft \u0110\u01a1n H\xe0ng"),r.Rb(),r.Sb(57,"div",20),r.Sb(58,"h6"),r.xc(59,"Giao h\xe0ng ti\xeau chu\u1ea9n : 49.000"),r.Rb(),r.Rb(),r.Sb(60,"div",21),r.Sb(61,"h6"),r.xc(62,"T\u1ed5ng s\u1ed1 ti\u1ec1n c\u1ea7n thanh to\xe1n : 138.000"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())},styles:[""]}),mb);function Cb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Sb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1. "),r.Rb())}function xb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t. "),r.Rb())}function Eb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Ib(e,t){1&e&&(r.Sb(0,"div",52),r.xc(1," Gi\xe1 ban \u0111\u1ea7u ph\u1ea3i l\xe0 s\u1ed1 nguy\xean d\u01b0\u01a1ng l\u1edbn h\u01a1n 0. "),r.Rb())}function Bb(e,t){1&e&&(r.Sb(0,"div",15),r.xc(1," c "),r.Rb())}function Db(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Gi\xe1 s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t v\xe0 ch\u1eef c\xe1i. "),r.Rb())}function Tb(e,t){if(1&e&&(r.Sb(0,"option",53),r.xc(1),r.dc(2,"currency"),r.Rb()),2&e){var n=t.$implicit;r.hc("value",n.id),r.Ab(1),r.zc(" ",r.fc(2,2,n.step,"VND")," ")}}function Ob(e,t){1&e&&(r.Sb(0,"div",15),r.Sb(1,"span",8),r.xc(2,"Vui l\xf2ng ch\u1ecdn b\u01b0\u1edbc gi\xe1 \u0111\u1ec3 \u0111\u1ea5u gi\xe1. "),r.Rb(),r.Rb())}function Fb(e,t){if(1&e&&(r.Sb(0,"option",53),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("value",n.id),r.Ab(1),r.zc(" ",n.name," ")}}function Rb(e,t){1&e&&(r.Sb(0,"div",15),r.Sb(1,"span",8),r.xc(2,"Vui l\xf2ng ch\u1ecdn ch\u1ee7ng lo\u1ea1i s\u1ea3n ph\u1ea9m."),r.Rb(),r.Rb())}function Pb(e,t){1&e&&(r.Sb(0,"span",8),r.xc(1,"Vui l\xf2ng ch\u1ecdn \u1ea3nh \u0111\u1ec3 \u0111\u1ea5u gi\xe1. "),r.Rb())}function Nb(e,t){if(1&e&&(r.Sb(0,"div"),r.vc(1,Pb,2,0,"span",54),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.hc("ngIf",!n.formCreateProduct.controls.imageProduct.value)}}function Mb(e,t){if(1&e&&(r.Sb(0,"div"),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.yc(n.messageImage)}}function Lb(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",55),r.Sb(1,"div",56),r.Ob(2,"img",57),r.Sb(3,"span",58),r.ac("click",(function(){r.oc(n);var e=t.index;return r.cc(2).deleteImageNew(e)})),r.Ob(4,"object",59),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i,r.qc)}}function Ub(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function jb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i v\xe0 ph\u1ea3i c\xe1ch sau 3 ng\xe0y. "),r.Rb())}function Qb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Rb())}function Hb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 v\xe0 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ea5u gi\xe1 qu\xe1 30 ng\xe0y. "),r.Rb())}function Vb(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb())}function zb(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",9),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().addNewProduct()})),r.Sb(1,"fieldset"),r.Sb(2,"legend"),r.Sb(3,"div",10),r.Sb(4,"h1"),r.xc(5,"Y\xeau C\u1ea7u \u0110\u1ea5u Gi\xe1"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(6,"div",6),r.Sb(7,"div",11),r.Ob(8,"object",12),r.Sb(9,"label",13),r.xc(10,"T\xean s\u1ea3n ph\u1ea9m"),r.Sb(11,"span",8),r.xc(12," (*)"),r.Rb(),r.xc(13,":"),r.Rb(),r.Rb(),r.Ob(14,"input",14),r.Sb(15,"div",15),r.vc(16,Cb,2,0,"div",16),r.vc(17,Sb,2,0,"div",16),r.vc(18,xb,2,0,"div",16),r.Rb(),r.Rb(),r.Sb(19,"div",6),r.Sb(20,"div",17),r.Ob(21,"object",18),r.Sb(22,"label",19),r.xc(23,"Gi\xe1 ban \u0111\u1ea7u (VND)"),r.Sb(24,"span",8),r.xc(25," (*)"),r.Rb(),r.xc(26,":"),r.Rb(),r.Rb(),r.Ob(27,"input",20),r.Sb(28,"div",15),r.vc(29,Eb,2,0,"div",16),r.vc(30,Ib,2,0,"div",21),r.vc(31,Bb,2,0,"div",22),r.vc(32,Db,2,0,"div",16),r.Rb(),r.Rb(),r.Sb(33,"div",6),r.Sb(34,"div",17),r.Ob(35,"object",23),r.Sb(36,"label",24),r.xc(37,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Sb(38,"span",8),r.xc(39," (*)"),r.Rb(),r.xc(40,":"),r.Rb(),r.Rb(),r.Sb(41,"div",25),r.Sb(42,"select",26),r.Sb(43,"option",27),r.xc(44,"Chon b\u01b0\u1edbc gi\xe1"),r.Rb(),r.vc(45,Tb,3,5,"option",28),r.Rb(),r.Rb(),r.vc(46,Ob,3,0,"div",22),r.Rb(),r.Sb(47,"div",6),r.Sb(48,"div",17),r.Ob(49,"object",29),r.Sb(50,"label",30),r.xc(51,"Ch\u1ee7ng lo\u1ea1i"),r.Sb(52,"span",8),r.xc(53,"(*)"),r.Rb(),r.xc(54,":"),r.Rb(),r.Rb(),r.Sb(55,"div",25),r.Sb(56,"select",31),r.Sb(57,"option",27),r.xc(58,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(),r.vc(59,Fb,2,2,"option",28),r.Rb(),r.Rb(),r.vc(60,Rb,3,0,"div",22),r.Rb(),r.Sb(61,"div",6),r.Sb(62,"div",17),r.Ob(63,"object",32),r.Sb(64,"label",33),r.xc(65,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Sb(66,"span",8),r.xc(67,"(*)"),r.Rb(),r.xc(68,":"),r.Rb(),r.Rb(),r.Sb(69,"input",34,35),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.vc(71,Nb,2,1,"div",16),r.vc(72,Mb,2,1,"div",16),r.Sb(73,"div",36),r.vc(74,Lb,5,1,"div",37),r.Rb(),r.Rb(),r.Sb(75,"div",6),r.Sb(76,"div",17),r.Ob(77,"object",38),r.Sb(78,"label",39),r.xc(79,"Th\xf4ng tin chi ti\u1ebft"),r.Sb(80,"span",8),r.xc(81,"(*)"),r.Rb(),r.xc(82,":"),r.Rb(),r.Rb(),r.Sb(83,"ckeditor",40),r.ac("ready",(function(e){return r.oc(n),r.cc().onReady(e)})),r.Rb(),r.Sb(84,"div",15),r.vc(85,Ub,2,0,"div",16),r.Rb(),r.Rb(),r.Sb(86,"div",6),r.Sb(87,"div",17),r.Ob(88,"object",41),r.Sb(89,"label",42),r.xc(90,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Sb(91,"span",8),r.xc(92," (*)"),r.Rb(),r.xc(93,":"),r.Rb(),r.Rb(),r.Ob(94,"input",43),r.Sb(95,"div",15),r.vc(96,jb,2,0,"div",16),r.vc(97,Qb,2,0,"div",16),r.Rb(),r.Rb(),r.Sb(98,"div",6),r.Sb(99,"div",17),r.Ob(100,"object",44),r.Sb(101,"label",45),r.xc(102,"Th\u1eddi gian k\u1ebft th\xfac"),r.Sb(103,"span",8),r.xc(104," (*)"),r.Rb(),r.xc(105,":"),r.Rb(),r.Rb(),r.Ob(106,"input",46),r.Sb(107,"div",15),r.vc(108,Hb,2,0,"div",16),r.vc(109,Vb,2,0,"div",16),r.Rb(),r.Rb(),r.Sb(110,"div",47),r.Sb(111,"button",48),r.Ob(112,"object",49),r.Sb(113,"p"),r.xc(114,"\u0110\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb(),r.Sb(115,"button",50),r.ac("click",(function(){r.oc(n);var e=r.nc(70);return r.cc().resetForm(e)})),r.Ob(116,"object",51),r.Sb(117,"p"),r.xc(118,"Nh\u1eadp l\u1ea1i"),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.formCreateProduct),r.Ab(14),r.hc("ngClass",i.formCreateProduct.controls.name.touched?i.formCreateProduct.controls.name.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.required)&&i.formCreateProduct.controls.name.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.maxlength)&&i.formCreateProduct.controls.name.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.pattern)&&i.formCreateProduct.controls.name.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.initialPrice.touched?i.formCreateProduct.controls.initialPrice.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.required)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.hc("ngIf",i.formCreateProduct.controls.initialPrice.hasError("pattern")),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.max)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.pattern)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(13),r.hc("ngForOf",i.priceStepList),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.priceStep.errors?null:i.formCreateProduct.controls.priceStep.errors.required)&&i.formCreateProduct.controls.priceStep.touched),r.Ab(13),r.hc("ngForOf",i.categoryList),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.category.errors?null:i.formCreateProduct.controls.category.errors.required)&&i.formCreateProduct.controls.category.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.imageProduct.touched?i.formCreateProduct.controls.imageProduct.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.imageProduct.errors?null:i.formCreateProduct.controls.imageProduct.errors.required)&&i.formCreateProduct.controls.imageProduct.touched),r.Ab(1),r.hc("ngIf",""!=i.messageImage),r.Ab(2),r.hc("ngForOf",i.img),r.Ab(9),r.hc("editor",i.Editor)("ngClass",i.formCreateProduct.controls.description.touched?i.formCreateProduct.controls.description.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.controls.description.errors?null:i.formCreateProduct.controls.description.errors.required)&&i.formCreateProduct.controls.description.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.startTime.touched?i.formCreateProduct.controls.startTime.invalid||null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkStartTime?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkStartTime)&&i.formCreateProduct.controls.startTime.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.startTime.errors?null:i.formCreateProduct.controls.startTime.errors.required)&&i.formCreateProduct.controls.startTime.touched),r.Ab(9),r.hc("ngClass",i.formCreateProduct.controls.endTime.touched?i.formCreateProduct.controls.endTime.invalid||null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkEndTime?"is-invalid":"is-valid":""),r.Ab(2),r.hc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkEndTime)&&i.formCreateProduct.controls.endTime.touched),r.Ab(1),r.hc("ngIf",(null==i.formCreateProduct.controls.endTime.errors?null:i.formCreateProduct.controls.endTime.errors.required)&&i.formCreateProduct.controls.endTime.touched)}}var qb,Kb,Gb=function(e){return new Date(e.get("startTime").value).getTime()-(new Date).getTime()<2592e5?{checkStartTime:!0}:null},Wb=function(e){var t=new Date(e.get("startTime").value).getTime();console.log(t);var n=new Date(e.get("endTime").value).getTime();return console.log(n),n-t>2592e6&&t&&n||n-t<0?{checkEndTime:!0}:null},Yb=((Kb=function(){function e(t,n,r,i,o,a,s,c,u,l){_classCallCheck(this,e),this._formBuilder=t,this._productService=n,this._categoryService=r,this._priceStepService=i,this._userService=o,this._storage=a,this._imageProductService=s,this._toast=c,this._tokenService=u,this._router=l,this.Editor=Ll,this.categoryList=[],this.priceStepList=[],this.selectedImages=[],this.img=[],this.selectedFile=[],this.messageCreate="",this.messageImage=""}return _createClass(e,[{key:"onReady",value:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())}},{key:"ngOnInit",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){console.log("category",t),e.categoryList=t})),this._priceStepService.getListPriceStep().subscribe((function(t){e.priceStepList=t})),this._tokenService.isLogged()&&(this.currentUser=JSON.parse(this._tokenService.getUser())),this.formCreateProduct=this._formBuilder.group({id:["",[$a.required]],name:["",[$a.required,$a.pattern("\\w[\\w+\\s*]+\\w"),$a.maxLength(255)]],description:["",[$a.required]],initialPrice:["",[$a.required,$a.min(0),$a.pattern("\\d+"),$a.max(1e11)]],startTime:["",[$a.required]],endTime:["",[$a.required]],imageProduct:["",[$a.required]],registerDay:["",[$a.required]],priceStep:["",[$a.required]],category:["",[$a.required]],user:[this.currentUser.id,[$a.required]]},{validators:[Gb,Wb]})}},{key:"addNewProduct",value:function(){var e=this;this.productDto=this.formCreateProduct.value,console.log(this.productDto),this._productService.addProduct(this.productDto).subscribe((function(t){if(0!==e.img.length)for(var n=0;n<e.img.length;n++)e._imageProductService.create({url:e.img[n],product:t.id}).subscribe((function(){}));e._router.navigateByUrl("/home"),e._toast.success("Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng, \u0111\u1ee3i b\u1ed9 ph\u1eadn ki\u1ec3m duy\u1ec7t x\xe1c nh\u1eadn v\xe0 th\xf4ng b\xe1o b\u1ea1n sau nh\xe9 !","",{timeOut:3e3,progressBar:!0})}),(function(t){e._toast.error("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c duy\u1ec7t, vui l\xf2ng nh\u1eadp ch\xednh x\xe1c \u0111i\u1ec1u ki\u1ec7n \u0111\u1ea5u gi\xe1")}))}},{key:"showPreview",value:function(e){var t=this;if(this.messageImage="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i m\u1ed9t l\xe1t",e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedFile=e.target.files):this.selectedFile=[],0!==this.selectedFile.length)if(this.selectedFile.length>5)this.messageImage="Vui l\xf2ng kh\xf4ng ch\u1ecdn qu\xe1 5 \u1ea3nh",this.img=[],this.selectedFile=[],this.formCreateProduct.controls.imageProduct.setValue([]);else{for(var n=0;n<this.selectedFile.length;n++)if(this.selectedFile[n].size>1e6)return console.log(this.selectedFile[n]),this.messageImage="Dung l\u01b0\u1ee3ng \u1ea3nh "+this.selectedFile[n].name+" \u0111\xe3 v\u01b0\u1ee3t qu\xe1 10KB",this.img=[],this.selectedFile=[],void this.formCreateProduct.controls.imageProduct.setValue([]);for(var r=function(e){var n=t.selectedFile[e],r="RoomsImages/".concat(Date.now()),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(e){t.messageImage="",t.img.push(e),console.log(e)}))}))).subscribe((function(){}))},i=0;i<this.selectedFile.length;i++)r(i)}}},{key:"deleteImageNew",value:function(e){this.img.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}},{key:"resetFindUserById",value:function(e){e.removeAttribute("disabled")}},{key:"resetForm",value:function(e){this.img=[],e.value=""}}]),e}()).\u0275fac=function(e){return new(e||Kb)(r.Nb(Mc),r.Nb(tl),r.Nb(Ul),r.Nb(jl),r.Nb(Ql),r.Nb(Sd),r.Nb(Id),r.Nb(yu),r.Nb(Cu),r.Nb(so))},Kb.\u0275cmp=r.Hb({type:Kb,selectors:[["app-auction-product-add"]],decls:13,vars:1,consts:[[1,"container-fluid","h-100","d-flex","flex-column"],[1,"row"],[1,"col-lg-3","h-100","mt-2",2,"margin-right","240px"],["width","680","height","875","src","https://www.youtube.com/embed/Ru4Jbmh7bcQ?rel=0&autoplay=1","title","Avatar 2 - Trailer m\u1edbi nh\u1ea5t - Vietsub","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""],[1,"boxed","col-lg-9","shadow-md","h-100"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px","margin-left","380px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-2","text-center"],[1,"form-field","d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],["for","name",1,"ms-2"],["formControlName","name","id","name","type","text","placeholder","Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/dollar.svg","width","20","height","20"],["for","initialPrice",1,"ms-2"],["formControlName","initialPrice","id","initialPrice","type","text","placeholder","Nh\u1eadp gi\xe1 ban \u0111\u1ea7u",1,"form-control",3,"ngClass"],["class","invalid-feedback","style","color: red",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["data","assets/icons/money-increase.svg","width","20","height","20"],["for","priceStep",1,"ms-2"],[1,"input-group"],["id","priceStep","formControlName","priceStep",1,"form-select","w-50"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["for","category",1,"ms-2"],["id","category","formControlName","category",1,"form-select","w-50"],["data","assets/icons/image.svg","width","20","height","20"],["for","image",1,"ms-2"],["id","image","type","file","multiple","","formControlName","imageProduct",1,"form-control",2,"width","60%",3,"ngClass","change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","8px"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["data","assets/icons/information.svg","width","20","height","20"],["for","description",1,"ms-2"],["id","description","formControlName","description",1,"form-control",3,"editor","ngClass","ready"],["data","assets/icons/hour-end.svg","width","20","height","20"],["for","startTime",1,"form-label","ms-2"],["id","startTime","type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["for","endTime",1,"form-label","ms-2"],["id","endTime","type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","4px"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],["type","reset",1,"btn","btn-outline","btn-outline-primary","d-flex","justify-content-center",2,"margin-left","684px",3,"click"],["data","assets/icons/back.svg","width","20","height","20",1,"me-2","slide"],[1,"invalid-feedback",2,"color","red"],[3,"value"],["style","color: red",4,"ngIf"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",2,"width","28px",3,"click"],["data","assets/icons/garbage.svg","width","20","height","20",2,"justify-items","center"]],template:function(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"div",0),r.Sb(2,"div",1),r.Sb(3,"div",2),r.Ob(4,"iframe",3),r.Rb(),r.Sb(5,"div",4),r.vc(6,zb,119,27,"form",5),r.Sb(7,"div",6),r.Sb(8,"span",7),r.xc(9," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Sb(10,"span",8),r.xc(11," (*)"),r.Rb(),r.xc(12," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(6),r.hc("ngIf",t.formCreateProduct))},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts,ke,KA],pipes:[Me],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box!important;border:0;font-size:16px;font:inherit;vertical-align:baseline}h1[_ngcontent-%COMP%]{font-size:40px}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{width:100vw;height:100vh}.boxed[_ngcontent-%COMP%]{width:1100px;max-height:950px;border-image-slice:1;border:3px solid #bdd6ec;padding:0 12px;border-radius:8px;background-color:transparent;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto;margin-top:4px;margin-bottom:4px}button[_ngcontent-%COMP%]{width:200px}.auction[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:20px}.auction[_ngcontent-%COMP%]{width:110%;height:960px;margin:auto 0;display:flex;box-shadow:1px 1px 17px rgba(0,0,0,.35);background-size:cover;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0);background-color:#fff}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2ms}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}input[type=file][_ngcontent-%COMP%]::file-selector-button{background-color:#0d6efd;color:#fff}input[type=file][_ngcontent-%COMP%]:hover::file-selector-button{background-color:#0d6efd!important;color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.btn-close[_ngcontent-%COMP%]{position:absolute;left:28px;top:28px;width:50px}.remove_img[_ngcontent-%COMP%]{padding:4px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px 1px 4px rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}"]}),Kb),Jb=((qb=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"create",value:function(e){return this._httpClient.post(o.API_URL_GUIDE+"/image",e)}},{key:"getListImage",value:function(e){return this._httpClient.get(o.API_URL_GUIDE+"/image/find/"+e)}},{key:"delete",value:function(e){return this._httpClient.delete(o.API_URL_GUIDE+"/image/delete/"+e)}}]),e}()).\u0275fac=function(e){return new(e||qb)(r.Wb(la))},qb.\u0275prov=r.Jb({token:qb,factory:qb.\u0275fac,providedIn:"root"}),qb);function Xb(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"Ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Rb(),r.Rb())}function Zb(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"T\xean ch\u1ee7 \u0111\u1ec1 qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn t\u1eeb 10 \u0111\u1ebfn 100 k\xfd t\u1ef1."),r.Rb(),r.Rb())}function $b(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"T\xean ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t."),r.Rb(),r.Rb())}function ey(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"N\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Rb(),r.Rb())}function ty(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"N\u1ed9i dung qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn t\u1eeb 30 \u0111\u1ebfn 2000 k\xfd t\u1ef1."),r.Rb(),r.Rb())}function ny(e,t){if(1&e&&(r.Sb(0,"p",20),r.xc(1),r.Rb()),2&e){var n=r.cc();r.Ab(1),r.yc(n.messageCreate)}}function ry(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",23),r.Ob(2,"img",24),r.Sb(3,"span",25),r.ac("click",(function(){r.oc(n);var e=t.index,i=r.cc(2),o=r.nc(30);return i.deleteImageNew(e),o.value=""})),r.Ob(4,"i",26),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i,r.qc)}}function iy(e,t){if(1&e&&(r.Sb(0,"div",21),r.vc(1,ry,5,1,"div",22),r.Rb()),2&e){var n=r.cc();r.Ab(1),r.hc("ngForOf",n.selectedImages)}}var oy,ay=((oy=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._guideService=t,this._formBuilder=n,this._storage=r,this._imgUrlGuideService=i,this._activatedRouter=o,this._toastService=a,this._route=s,this.selectedImages=[],this.imgCreate=[],this.messageCreate="",this.readImage=[],this.Editor=Ll}return _createClass(e,[{key:"ngOnInit",value:function(){this.guideForm=this._formBuilder.group({title:["",[$a.required,$a.minLength(10),$a.maxLength(100),$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef90-9,.?! ]*$")]],content:["",[$a.required,$a.minLength(30),$a.maxLength(2e3)]]})}},{key:"createGuide",value:function(){var e=this;if(0!==this.selectedImages.length){for(var t=function(t){var n=e.readImage[t],r="RoomsImages/".concat(Date.now()),i=e._storage.ref(r);e._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(t){e.imgCreate.push(t)}))}))).subscribe((function(){}))},n=0;n<this.readImage.length;n++)t(n);console.log(this.imgCreate)}setTimeout((function(){e._guideService.create(e.guideForm.value).subscribe((function(t){if(0!==e.imgCreate.length)for(var n=0;n<e.imgCreate.length;n++){var r={url:e.imgCreate[n],guideId:t.id};console.log(r),e._imgUrlGuideService.create(r).subscribe((function(){console.log("SUCCESS CREATE IMAGE")}))}console.log(e.imgCreate),e._toastService.success("Th\xeam m\u1edbi h\u01b0\u1edbng d\u1eabn th\xe0nh c\xf4ng","Create Guide!",{positionClass:"toast-bottom-right",timeOut:2e3}),e._route.navigateByUrl("/guide")}))}),1e3)}},{key:"showPreview",value:function(e){var t=this;this.messageCreate="";var n=e.target.files;if(this.readImage=n,n.length+this.selectedImages.length<6){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.size>1048576){this.messageCreate="Dung l\u01b0\u1ee3ng \u1ea3nh v\u01b0\u1ee3t qu\xe1 1Mb.",this.selectedImages=[];break}var a=new FileReader;a.onload=function(e){t.selectedImages.push(e.target.result),console.log(t.selectedImages)},a.readAsDataURL(o)}}catch(s){i.e(s)}finally{i.f()}}else this.messageCreate="Vui l\xf2ng kh\xf4ng ch\u1ecdn qu\xe1 5 \u1ea3nh.",this.selectedImages=[]}},{key:"deleteImageNew",value:function(e){this.selectedImages.splice(e,1),console.log(e)}},{key:"resetForm",value:function(){this.ngOnInit(),this.messageCreate="",this.selectedImages=[]}}]),e}()).\u0275fac=function(e){return new(e||oy)(r.Nb(xa),r.Nb(Mc),r.Nb(Sd),r.Nb(Jb),r.Nb(Xr),r.Nb(yu),r.Nb(so))},oy.\u0275cmp=r.Hb({type:oy,selectors:[["app-guide-add"]],decls:38,vars:12,consts:[[1,"container","w-50"],[1,"guide",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],["id","guideform",3,"formGroup","ngSubmit"],[1,"center",2,"text-align","center"],[1,"row"],["for","title",1,"form-label"],[2,"color","red"],["formControlName","title","id","title","type","text",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","floatingTextarea"],["formControlName","content","rows","6","placeholder","Ghi n\u1ed9i dung \u1edf \u0111\xe2y","id","floatingTextarea",1,"form-control",2,"resize","none",3,"editor","ngClass"],["for","file",1,"form-label"],["type","file","id","file","accept","image/png, image/gif, image/jpeg","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",3,"change"],["file",""],["style","color: #dc3545; font-size: 14px",4,"ngIf"],["class","d-flex justify-content-left","style","overflow-x: scroll; margin-top: 20px ",4,"ngIf"],[1,"center"],[1,"btn","btn-primary",2,"width","48%",3,"click"],["type","submit",1,"btn","btn-primary",2,"width","48%",3,"disabled"],[2,"color","#dc3545","font-size","14px"],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"form",2),r.ac("ngSubmit",(function(){return t.createGuide()})),r.Sb(3,"h3",3),r.xc(4,"T\u1ea1o M\u1edbi H\u01b0\u1edbng D\u1eabn"),r.Rb(),r.Sb(5,"div",4),r.Sb(6,"label",5),r.xc(7,"Ch\u1ee7 \u0111\u1ec1 ("),r.Sb(8,"span",6),r.xc(9,"*"),r.Rb(),r.xc(10,")"),r.Rb(),r.Ob(11,"input",7),r.Sb(12,"div",8),r.vc(13,Xb,3,0,"div",9),r.vc(14,Zb,3,0,"div",9),r.vc(15,$b,3,0,"div",9),r.Rb(),r.Rb(),r.Sb(16,"div",4),r.Sb(17,"label",10),r.xc(18,"N\u1ed9i dung ("),r.Sb(19,"span",6),r.xc(20,"*"),r.Rb(),r.xc(21,")"),r.Rb(),r.Ob(22,"ckeditor",11),r.Sb(23,"div",8),r.vc(24,ey,3,0,"div",9),r.vc(25,ty,3,0,"div",9),r.Rb(),r.Rb(),r.Sb(26,"div",4),r.Sb(27,"label",12),r.xc(28,"Ch\u1ecdn h\xecnh \u1ea3nh"),r.Rb(),r.Sb(29,"input",13,14),r.ac("change",(function(e){return t.showPreview(e)})),r.Rb(),r.Rb(),r.vc(31,ny,2,1,"p",15),r.vc(32,iy,2,1,"div",16),r.Sb(33,"div",17),r.Sb(34,"button",18),r.ac("click",(function(){r.oc(n);var e=r.nc(30);return t.resetForm(),e.value=""})),r.xc(35," \u0110\u1eb7t L\u1ea1i "),r.Rb(),r.Sb(36,"button",19),r.xc(37," Th\xeam H\u01b0\u1edbng d\u1eabn "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}2&e&&(r.Ab(2),r.hc("formGroup",t.guideForm),r.Ab(9),r.hc("ngClass",t.guideForm.controls.title.touched&&t.guideForm.controls.title.invalid?"is-invalid":t.guideForm.controls.title.touched&&t.guideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.required),r.Ab(1),r.hc("ngIf",(null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.minlength)||(null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.maxlength)),r.Ab(1),r.hc("ngIf",null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.pattern),r.Ab(7),r.hc("editor",t.Editor)("ngClass",t.guideForm.controls.content.touched&&t.guideForm.controls.content.invalid?"is-invalid":t.guideForm.controls.content.touched&&t.guideForm.controls.content.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",null==t.guideForm.controls.content.errors?null:t.guideForm.controls.content.errors.required),r.Ab(1),r.hc("ngIf",(null==t.guideForm.controls.content.errors?null:t.guideForm.controls.content.errors.minlength)||(null==t.guideForm.controls.content.errors?null:t.guideForm.controls.content.errors.maxlength)),r.Ab(6),r.hc("ngIf",""!=t.messageCreate),r.Ab(1),r.hc("ngIf",0!=t.selectedImages.length),r.Ab(4),r.hc("disabled",!t.guideForm.valid||""!=t.messageCreate))},directives:[vc,Wa,yc,La,Ga,Fc,we,Se,KA,ke],styles:["form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#464646}.center[_ngcontent-%COMP%]{padding-top:30px;display:flex;justify-content:space-evenly}.guide[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:24px}#guideform[_ngcontent-%COMP%]{padding:32px}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}[_nghost-%COMP%]     .ck .ck-toolbar{font-size:17px}"]}),oy);function sy(e,t){1&e&&(r.Sb(0,"p",5),r.xc(1,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),r.Rb())}function cy(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"Ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Rb(),r.Rb())}function uy(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"T\xean ch\u1ee7 \u0111\u1ec1 qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn 10 \u0111\u1ebfn 100 k\xfd t\u1ef1."),r.Rb(),r.Rb())}function ly(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"T\xean ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t."),r.Rb(),r.Rb())}function hy(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"N\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Rb(),r.Rb())}function dy(e,t){1&e&&(r.Sb(0,"div"),r.Sb(1,"span"),r.xc(2,"N\u1ed9i dung qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn t\u1eeb 30 \u0111\u1ebfn 2000 k\xfd t\u1ef1."),r.Rb(),r.Rb())}function fy(e,t){if(1&e&&(r.Sb(0,"span",25),r.xc(1),r.Rb()),2&e){var n=r.cc(2);r.Ab(1),r.yc(n.messageCreate)}}function Ay(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",26),r.Sb(1,"div",27),r.Ob(2,"img",28),r.Sb(3,"span",29),r.ac("click",(function(){r.oc(n);var e=t.index,i=t.$implicit;return r.cc(2).deleteImage(e,i)})),r.Ob(4,"i",30),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i.url,r.qc)}}function py(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",26),r.Sb(1,"div",27),r.Ob(2,"img",28),r.Sb(3,"span",29),r.ac("click",(function(){r.oc(n);var e=t.index;r.cc();var i=r.nc(27);return r.cc().deleteImageNew(e),i.value=""})),r.Ob(4,"i",30),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.ic("src",i,r.qc)}}function gy(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",6),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().updateGuide()})),r.Ob(1,"input",7),r.Sb(2,"div",8),r.Sb(3,"label",9),r.xc(4,"Ch\u1ee7 \u0111\u1ec1 ("),r.Sb(5,"span",10),r.xc(6,"*"),r.Rb(),r.xc(7,")"),r.Rb(),r.Ob(8,"input",11),r.Sb(9,"div",12),r.vc(10,cy,3,0,"div",13),r.vc(11,uy,3,0,"div",13),r.vc(12,ly,3,0,"div",13),r.Rb(),r.Rb(),r.Sb(13,"div",8),r.Sb(14,"label",14),r.xc(15,"N\u1ed9i dung ("),r.Sb(16,"span",10),r.xc(17,"*"),r.Rb(),r.xc(18,")"),r.Rb(),r.Ob(19,"ckeditor",15),r.Sb(20,"div",12),r.vc(21,hy,3,0,"div",13),r.vc(22,dy,3,0,"div",13),r.Rb(),r.Rb(),r.Sb(23,"div",8),r.Sb(24,"label",16),r.xc(25,"S\u1eeda h\xecnh \u1ea3nh(Th\xeam ho\u1eb7c x\xf3a)"),r.Rb(),r.Sb(26,"input",17,18),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.Sb(28,"div",19),r.vc(29,fy,2,1,"span",20),r.vc(30,Ay,5,1,"div",21),r.vc(31,py,5,1,"div",21),r.Rb(),r.Rb(),r.Sb(32,"div",22),r.Sb(33,"button",23),r.ac("click",(function(){return r.oc(n),r.cc().resetEditForm()})),r.xc(34," \u0110\u1eb7t L\u1ea1i "),r.Rb(),r.Sb(35,"button",24),r.xc(36," S\u1eeda H\u01b0\u1edbng d\u1eabn "),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.editGuideForm),r.Ab(8),r.hc("ngClass",i.editGuideForm.controls.title.touched&&i.editGuideForm.controls.title.invalid?"is-invalid":i.editGuideForm.controls.title.touched&&i.editGuideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.required),r.Ab(1),r.hc("ngIf",(null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.minlength)||(null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.maxlength)),r.Ab(1),r.hc("ngIf",null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.pattern),r.Ab(7),r.hc("editor",i.Editor)("ngClass",i.editGuideForm.controls.content.touched&&i.editGuideForm.controls.content.invalid?"is-invalid":i.editGuideForm.controls.content.touched&&i.editGuideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.hc("ngIf",null==i.editGuideForm.controls.content.errors?null:i.editGuideForm.controls.content.errors.required),r.Ab(1),r.hc("ngIf",(null==i.editGuideForm.controls.content.errors?null:i.editGuideForm.controls.content.errors.minlength)||(null==i.editGuideForm.controls.content.errors?null:i.editGuideForm.controls.content.errors.maxlength)),r.Ab(7),r.hc("ngIf",""!=i.messageCreate),r.Ab(1),r.hc("ngForOf",i.imgs),r.Ab(1),r.hc("ngForOf",i.selectedImages),r.Ab(4),r.hc("disabled",!i.editGuideForm.valid||""!=i.messageCreate)}}var vy,my=((vy=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._guideService=t,this._formBuilder=n,this._storage=r,this._imgUrlGuideService=i,this._activatedRouter=o,this._toastService=a,this._route=s,this.Editor=Ll,this.selectedImages=[],this.imgs=[],this.imgCreate=[],this.idImageList=[],this.messageCreate=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._activatedRouter.paramMap.subscribe((function(t){e.id=+t.get("id"),e._imgUrlGuideService.getListImage(e.id).subscribe((function(t){console.log(t),e.imgs=t}),(function(t){e._toastService.success("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u","Update image Guide!",{positionClass:"toast-top-right",timeOut:3e3}),e._route.navigateByUrl("/guide")}))})),this._guideService.getGuideById(this.id).subscribe((function(t){console.log(t),e.editGuideForm=e._formBuilder.group({id:[t.id],title:[t.title,[$a.required,$a.minLength(10),$a.maxLength(100),$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef90-9,.?! ]*$")]],content:[t.content,[$a.required,$a.minLength(30),$a.maxLength(2e3)]]})}),(function(t){e._toastService.success("Kh\xf4ng t\xecm th\u1ea5y d\u1eef li\u1ec7u","Update Guide!",{positionClass:"toast-bottom-right",timeOut:3e3}),e._route.navigateByUrl("/guide")}))}},{key:"updateGuide",value:function(){var e=this;if(0!==this.selectedImages.length)for(var t=function(t){var n=e.readImage[t],r="RoomsImages/".concat(Date.now()),i=e._storage.ref(r);e._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(t){e.imgCreate.push(t),e.messageCreate=""}))}))).subscribe((function(){}))},n=0;n<this.readImage.length;n++)t(n);setTimeout((function(){if(e.editGuideForm.valid&&(e.guide=e.editGuideForm.value,console.log(e.editGuideForm.value),e._guideService.update(e.guide).subscribe((function(t){if(0!==e.imgCreate.length)for(var n=0;n<e.imgCreate.length;n++){var r={url:e.imgCreate[n],guideId:e.guide.id};console.log(r),e._imgUrlGuideService.create(r).subscribe((function(){console.log("SUCCESSFULLY CREATE")}))}e._toastService.success("C\u1eadp nh\u1eadt h\u01b0\u1edbng d\u1eabn th\xe0nh c\xf4ng","Update Guide!",{positionClass:"toast-bottom-right",timeOut:3e3}),e._route.navigateByUrl("/guide")})),0!==e.idImageList.length))for(var t=0;t<e.idImageList.length;t++)console.log(e.idImageList[t]),e.deleteImageById(e.idImageList[t])}),1e3)}},{key:"showPreview",value:function(e){var t=this;this.messageCreate="";var n=e.target.files;if(this.readImage=n,n.length+this.selectedImages.length+this.imgs.length<6){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.size>1048576){this.messageCreate="Dung l\u01b0\u1ee3ng \u1ea3nh v\u01b0\u1ee3t qu\xe1 1Mb.",this.selectedImages=[];break}var a=new FileReader;a.onload=function(e){t.selectedImages.push(e.target.result),console.log(t.selectedImages)},a.readAsDataURL(o)}}catch(s){i.e(s)}finally{i.f()}}else this.messageCreate="Vui l\xf2ng kh\xf4ng ch\u1ecdn qu\xe1 5 \u1ea3nh.",this.selectedImages=[]}},{key:"deleteImage",value:function(e,t){this.idImageList.push(t.id),this.imgs.splice(e,1),console.log(t)}},{key:"deleteImageNew",value:function(e){this.selectedImages.splice(e,1),console.log(e)}},{key:"deleteImageById",value:function(e){this._imgUrlGuideService.delete(e).subscribe((function(e){}))}},{key:"resetEditForm",value:function(){this.ngOnInit(),this.selectedImages=[],this.messageCreate=""}}]),e}()).\u0275fac=function(e){return new(e||vy)(r.Nb(xa),r.Nb(Mc),r.Nb(Sd),r.Nb(Jb),r.Nb(Xr),r.Nb(yu),r.Nb(so))},vy.\u0275cmp=r.Hb({type:vy,selectors:[["app-guide-edit"]],decls:6,vars:2,consts:[[1,"container","w-50"],[1,"guide","w-100",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],[1,"center",2,"text-align","center"],["class","text-center text-danger mt-3 mb-3",4,"ngIf"],["id","guideform","name","guide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","text-danger","mt-3","mb-3"],["id","guideform","name","guide",3,"formGroup","ngSubmit"],["formControlName","id","hidden",""],[1,"row"],["for","title",1,"form-label"],[2,"color","red"],["formControlName","title","id","title","type","text",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","floatingTextarea"],["formControlName","content","rows","7","placeholder","Leave a content here","id","floatingTextarea",1,"form-control",3,"editor","ngClass"],[1,"form-label"],["type","file","accept","image/png, image/gif, image/jpeg","multiple","",1,"form-control",3,"change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","20px"],["style","color: #dc3545; font-size: 14px",4,"ngIf"],["style","margin-right: 10px",4,"ngFor","ngForOf"],[1,"center","d-flex","justify-content-evenly"],["type","button",1,"btn","btn-primary",2,"width","48%",3,"click"],["type","submit",1,"btn","btn-primary",2,"width","48%",3,"disabled"],[2,"color","#dc3545","font-size","14px"],[2,"margin-right","10px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h3",2),r.xc(3," Ch\u1ec9nh S\u1eeda H\u01b0\u1edbng D\u1eabn"),r.Rb(),r.vc(4,sy,2,0,"p",3),r.vc(5,gy,37,13,"form",4),r.Rb(),r.Rb()),2&e&&(r.Ab(4),r.hc("ngIf",!t.editGuideForm),r.Ab(1),r.hc("ngIf",t.editGuideForm))},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,KA,ke],styles:["form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#464646}.center[_ngcontent-%COMP%]{padding-top:30px}.guide[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:24px;min-height:60vh}#guideform[_ngcontent-%COMP%]{padding:32px;min-height:50vh}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}"]}),vy);n("6Uf2"),(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Gk){o(Gk)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,c=null;function u(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){return"function"==h(e)}function A(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function p(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++v)}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:b).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now;function k(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function S(e,t,n){this.code=I+e,this.message=t||B[e]||"",this.a=n||null}function x(e){var t=e&&e.code;return t?new S(t.substring(I.length),e.message,e.serverResponse):null}k(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var E,I="auth/",B={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function T(e){for(var t in D)if(D[t].id===e)return{firebaseEndpoint:(e=D[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function F(e){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");F.call(this,n+e[r])}function P(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function M(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function L(){this.b=this.a=null}E=T("__EID__")?"__EID__":void 0,k(F,Error),F.prototype.name="CustomError",k(R,F),R.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var U=new N((function(){return new Q}),(function(e){e.reset()}));function j(){var e=vt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Q(){this.next=this.b=this.a=null}L.prototype.add=function(e,t){var n=U.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},z=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},q=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function G(e,t){return 0<=H(e,t)}function W(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function J(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,$=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ee=/&/g,te=/</g,ne=/>/g,re=/"/g,ie=/'/g,oe=/\x00/g,ae=/[\x00&<>"']/;function se(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var ue=a.navigator;if(ue){var le=ue.userAgent;if(le){Z=le;break e}}Z=""}function he(e){return se(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function fe(e){for(var t in e)return!1;return!0}function Ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<pe.length;o++)n=pe[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ve(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(A(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function me(e,t){this.a=e===_e&&t||"",this.b=we}function be(e){return e instanceof me&&e.constructor===me&&e.b===we?e.a:(P("expected object of type Const, got '"+e+"'"),"type_error:Const")}me.prototype.ta=!0,me.prototype.sa=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};var ye,we={},_e={};function ke(){if(void 0===ye){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){a.console&&a.console.error(n.message)}ye=e}else ye=e}return ye}function Ce(e,t){this.a=t===Be?e:""}function Se(e){return e instanceof Ce&&e.constructor===Ce?e.a:(P("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function xe(e,t){var n=be(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return new Ce(e=t?t.createScriptURL(e):e,Be)}(e=n.replace(Ee,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof me?be(e):encodeURIComponent(String(e))})))}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ee=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Be={};function De(e,t){this.a=t===Me?e:""}function Te(e){return e instanceof De&&e.constructor===De?e.a:(P("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}De.prototype.ta=!0,De.prototype.sa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Fe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Re=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pe(e){if(e instanceof De)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e))e=new De(e,Me);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Fe);e=t&&Oe.test(t[1])?new De(e,Me):null}return e}function Ne(e){return e instanceof De?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Re.test(e)||(e="about:invalid#zClosurez"),new De(e,Me))}var Me={},Le=new De("about:invalid#zClosurez",Me);function Ue(e,t,n){this.a=n===je?e:""}Ue.prototype.ta=!0,Ue.prototype.sa=function(){return this.a.toString()},Ue.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var je={};function Qe(e,t,n,r){return e=e instanceof De?e:Ne(e),t=t||a,n=n instanceof me?be(n):n||"",t.open(Te(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ve(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ee,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(te,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ne,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(re,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ie,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(oe,"&#0;"))),e}function ze(e){return ze[" "](e),e}ze[" "]=l;var qe,Ke,Ge=he("Opera"),We=he("Trident")||he("MSIE"),Ye=he("Edge"),Je=Ye||We,Xe=he("Gecko")&&!(se(Z.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Ze=se(Z.toLowerCase(),"webkit")&&!he("Edge");function $e(){var e=a.document;return e?e.documentMode:void 0}e:{var et="",tt=(Ke=Z,Xe?/rv:([^\);]+)(\)|;)/.exec(Ke):Ye?/Edge\/([\d\.]+)/.exec(Ke):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ke):Ze?/WebKit\/(\S+)/.exec(Ke):Ge?/(?:Version)[ \/]?(\S+)/.exec(Ke):void 0);if(tt&&(et=tt?tt[1]:""),We){var nt=$e();if(null!=nt&&nt>parseFloat(et)){qe=String(nt);break e}}qe=et}var rt={};function it(e){return function(e,t){var n=rt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=$(String(qe)).split("."),r=$(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var ot=a.document&&We&&($e()||parseInt(qe,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ke){}var at=!We||9<=Number(ot);function st(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ct(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ht.hasOwnProperty(n)?e.setAttribute(ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ut,lt,ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function dt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||A(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(A(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(f(o)){a="function"==typeof o.item;break e}}a=!1}V(a?X(o):o,r)}}}function ft(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function At(e){a.setTimeout((function(){throw e}),0)}function pt(e,t){lt||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);lt=function(){e.then(mt)}}else lt=function(){var e=mt;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!he("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ut||(ut=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=ft(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=y((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),ut(e)):a.setImmediate(e)}}(),gt||(lt(),gt=!0),vt.add(e,t)}var gt=!1,vt=new L;function mt(){for(var e;e=j();){try{e.a.call(e.b)}catch(t){At(t)}M(U,e)}gt=!1}function bt(e,t){if(this.a=yt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Ot(n,wt,e)}),(function(e){if(!(e instanceof Ut))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(jR){}Ot(n,_t,e)}))}catch(r){Ot(this,_t,r)}}var yt=0,wt=2,_t=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new N((function(){return new kt}),(function(e){e.reset()}));function St(e,t,n){var r=Ct.get();return r.g=e,r.b=t,r.f=n,r}function xt(e){if(e instanceof bt)return e;var t=new bt(l);return Ot(t,wt,e),t}function Et(e){return new bt((function(t,n){n(e)}))}function It(e,t,n){Ft(e,t,n,null)||pt(w(t,e))}function Bt(e){return new bt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)It(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function Dt(e,t){e.b||e.a!=wt&&e.a!=_t||Rt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Tt(e,t,n,r){var i=St(null,null,null);return i.a=new bt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Ut?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Dt(e,i),i.a}function Ot(e,t,n){e.a==yt&&(e===n&&(t=_t,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Rt(e),t!=_t||n instanceof Ut||function(e,t){e.g=!0,pt((function(){e.g&&Lt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof bt)return Dt(e,St(t||l,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(A(e))try{var i=e.then;if(f(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Rt(e){e.h||(e.h=!0,pt(e.gc,e))}function Pt(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function Nt(e,t,n,r){if(n==_t&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Mt(t,n,r);else try{t.c?t.g.call(t.f):Mt(t,n,r)}catch(jR){Lt.call(null,jR)}M(Ct,t)}function Mt(e,t,n){t==wt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}bt.prototype.then=function(e,t,n){return Tt(this,f(e)?e:null,f(t)?t:null,n)},bt.prototype.$goog_Thenable=!0,(e=bt.prototype).oa=function(e,t){return(e=St(e,e,t)).c=!0,Dt(this,e),this},e.o=function(e,t){return Tt(this,null,e,t)},e.cancel=function(e){if(this.a==yt){var t=new Ut(e);pt((function(){!function e(t,n){if(t.a==yt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==yt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Pt(r),Nt(r,o,_t,n)))}t.c=null}else Ot(t,_t,n)}(this,t)}),this)}},e.$c=function(e){this.a=yt,Ot(this,wt,e)},e.ad=function(e){this.a=yt,Ot(this,_t,e)},e.gc=function(){for(var e;e=Pt(this);)Nt(this,e,this.a,this.i);this.h=!1};var Lt=At;function Ut(e){F.call(this,e)}function jt(){0!=Qt&&(Ht[p(this)]=this),this.ya=this.ya,this.pa=this.pa}k(Ut,F),Ut.prototype.name="cancel";var Qt=0,Ht={};function Vt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Qt)){var t=p(e);if(0!=Qt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}jt.prototype.ya=!1,jt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var zt=Object.freeze||function(e){return e},qt=!We||9<=Number(ot),Kt=We&&!it("9"),Gt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function Wt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Yt(e,t){if(Wt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{ze(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Jt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Wt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Yt,Wt);var Jt=zt({2:"touch",3:"pen",4:"mouse"});Yt.prototype.preventDefault=function(){Yt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Yt.prototype.g=function(){return this.a};var Xt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function $t(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Zt,this.wa=this.Qa=!1}function en(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new $t(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)un(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=mn(n),e&&e[Xt]?yn(e,t,n,A(r)?!!r.capture:!!r,i):cn(e,t,n,!1,r,i)}function cn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=A(i)?!!i.capture:!!i,s=gn(e);if(s||(e[on]=s=new tn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=pn,t=qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function un(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)un(e,t[o],n,r,i);else n=mn(n),e&&e[Xt]?wn(e,t,n,A(r)?!!r.capture:!!r,i):cn(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=A(r)?!!r.capture:!!r,n=mn(n),e&&e[Xt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[Xt])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function dn(e){return e in an?an[e]:an[e]="on"+e}function fn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=An(o,r),i=i&&!1!==o)}return i}function An(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&hn(e),n.call(r,t)}function pn(e,t){if(e.wa)return!0;if(!qt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Yt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=fn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=fn(r[i],e,!1,t),n=n&&o}return n}return An(e,new Yt(t,this))}function gn(e){return(e=e[on])instanceof tn?e:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(e){return f(e)?e:(e[vn]||(e[vn]=function(t){return e.handleEvent(t)}),e[vn])}function bn(){jt.call(this),this.v=new tn(this),this.bc=this,this.hb=null}function yn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function wn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function _n(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,c=a.Wa||a.src;a.Qa&&nn(e.v,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(f(e))n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Cn(e){var t=null;return new bt((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function Sn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function xn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function En(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof En)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function In(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Bn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Bn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(bn,jt),bn.prototype[Xt]=!0,bn.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},bn.prototype.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},bn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Wt(e,n);else if(e instanceof Wt)e.target=e.target||n;else{var i=e;ge(e=new Wt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=_n(a,r,!0,e)&&i}if(i=_n(a=e.b=n,r,!0,e)&&i,i=_n(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=_n(a=e.b=t[o],r,!1,e)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=En.prototype).X=function(){In(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return In(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Bn(this.b,e)?this.b[e]:t},e.set=function(e,t){Bn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Tn?(this.i=void 0!==t?t:e.i,On(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Rn(this,$n(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,On(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Fn(this,n[4]),this.f=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!t,this.b=new Gn(null,this.i))}function On(e,t,n){e.c=n?Un(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Rn(e,t,n){t instanceof Gn?(e.b=t,function(e,t){t&&!e.f&&(Wn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jn(this,t),Zn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=jn(t,qn)),e.b=new Gn(t,e.i))}function Pn(e,t,n){e.b.set(t,n)}function Nn(e,t){return e.b.get(t)}function Mn(e){return e instanceof Tn?new Tn(e):new Tn(e,void 0)}function Ln(e,t,n,r){var i=new Tn(null,void 0);return e&&On(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function Un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Qn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(jn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(jn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(jn(n,"/"==n.charAt(0)?zn:Vn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",jn(n,Kn)),e.join("")},Tn.prototype.resolve=function(e){var t=new Tn(this),n=!!e.c;n?On(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(se(i,"./")||se(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Rn(t,$n(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,Vn=/[#\?:]/g,zn=/[#\?]/g,qn=/[#\?@]/g,Kn=/#/g;function Gn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Wn(e){e.a||(e.a=new En,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e){var t=xn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Gn(null,void 0);e=Sn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(e,t){Wn(e),t=er(e,t),Bn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Bn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&In(e)))}function Xn(e,t){return Wn(e),t=er(e,t),Bn(e.a.b,t)}function Zn(e,t,n){Jn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),X(n)),e.b+=n.length)}function $n(e){var t=new Gn;return t.c=e.c,e.a&&(t.a=new En(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),or(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,e,t),t.join("")}function nr(){}(e=Gn.prototype).add=function(e,t){Wn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Wn(this),this.a.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Wn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Wn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=J(t,this.a.get(er(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},e.set=function(e,t){return Wn(this),this.c=null,Xn(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(e,t){t.push('"',e.replace(ir,(function(e){var t=rr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),rr[e]=t),t})),'"')}function ar(){var e=Cr();return We&&!!ot&&11==ot||/Edge\/\d+/.test(e)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(e,t){t=t||a.window;var n="about:blank";e&&(n=Te(Pe(e)||Le)),t.location.href=n}function ur(e){return!!((e=(e||Cr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function lr(e){e=e||a.window;try{e.close()}catch(t){}}function hr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(t.target=r,se(n,"crios/")&&(t.target="_blank")),wr(Cr())==yr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof De?n:Pe(void 0!==n.href?n.href:String(n))||Le,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ve(a=ft(document,"A"),"HTMLAnchorElement"),t=t instanceof De?t:Ne(t),a.href=Te(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Qe("",r,n,a),e=Te(t),a&&(Je&&se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">',e=new Ue(e=(r=ke())?r.createHTML(e):e,null,je),r=a.document)&&(r.write(function(e){return e instanceof Ue&&e.constructor===Ue?e.a:(P("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Qe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function Ar(){var e=null;return new bt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},un(window,"load",e))})).o((function(t){throw ln(window,"load",e),t}))}function pr(e){return e=e||Cr(),!("file:"!==Br()&&"ionic:"!==Br()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function vr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function mr(){return Wl.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Wl.default.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function br(){var e=mr();return"ReactNative"===e||"Node"===e}var yr="Firefox";function wr(e){var t=e.toLowerCase();return se(t,"opera/")||se(t,"opr/")||se(t,"opios/")?"Opera":se(t,"iemobile")?"IEMobile":se(t,"msie")||se(t,"trident/")?"IE":se(t,"edge/")?"Edge":se(t,"firefox/")?yr:se(t,"silk/")?"Silk":se(t,"blackberry")?"Blackberry":se(t,"webos")?"Webos":!se(t,"safari/")||se(t,"chrome/")||se(t,"crios/")||se(t,"android")?!se(t,"chrome/")&&!se(t,"crios/")||se(t,"edge/")?se(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var _r={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=mr())?r=wr(i=Cr()):"Worker"===r&&(r=wr(i=Cr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Cr(){return a.navigator&&a.navigator.userAgent||""}function Sr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function xr(){try{var e=a.localStorage,t=Rr();if(e)return e.setItem(t,"1"),e.removeItem(t),!ar()||!!a.indexedDB}catch(n){return vr()&&!!a.indexedDB}return!1}function Er(){return(Ir()||"chrome-extension:"===Br()||pr())&&!br()&&xr()&&!vr()}function Ir(){return"http:"===Br()||"https:"===Br()}function Br(){return a.location&&a.location.protocol||null}function Dr(e){return!ur(e=e||Cr())&&wr(e)!=yr}function Tr(e){return void 0===e?null:tr(e)}function Or(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Fr(e){if(null!==e)return JSON.parse(e)}function Rr(e){return e||Math.floor(1e9*Math.random()).toString()}function Pr(e){return"Safari"!=wr(e=e||Cr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Mr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Cr(),t=mr(),this.b=ur(e)||"ReactNative"===t}function Lr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Ur(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function jr(){return!(!Sr("fireauth.oauthhelper",a)&&!Sr("fireauth.iframe",a))}Mr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Ir()&&"chrome-extension:"!==Br()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Hr={};function Vr(e){Hr[e]||(Hr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==zr.abcd}catch(Ke){Qr=!1}function qr(e,t,n){Qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Kr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&qr(e,n,t[n])}function Gr(e){var t={};return Kr(t,e),t}function Wr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)qr(t,n,Wr(e[n]));return t}function Yr(e){var t=e&&(e[ei]?"phone":null);if(!(t&&e&&e[$r]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");qr(this,"uid",e[$r]),qr(this,"displayName",e[Xr]||null);var n=null;e[Zr]&&(n=new Date(e[Zr]).toUTCString()),qr(this,"enrollmentTime",n),qr(this,"factorId",t)}function Jr(e){try{var t=new ti(e)}catch(n){t=null}return t}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Zr="enrolledAt",$r="mfaEnrollmentId",ei="phoneInfo";function ti(e){Yr.call(this,e),qr(this,"phoneNumber",e[ei])}function ni(e){var t={},n=e[ai],r=e[ci],i=e[ui];if(e=Jr(e[si]),!i||i!=ii&&i!=oi&&!n||i==oi&&!r||i==ri&&!e)throw Error("Invalid checkActionCode response!");i==oi?(t[hi]=n||null,t[fi]=n||null,t[li]=r):(t[hi]=r||null,t[fi]=r||null,t[li]=n||null),t[di]=e||null,qr(this,pi,i),qr(this,Ai,Wr(t))}k(ti,Yr),ti.prototype.w=function(){var e=ti.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ri="REVERT_SECOND_FACTOR_ADDITION",ii="EMAIL_SIGNIN",oi="VERIFY_AND_CHANGE_EMAIL",ai="email",si="mfaInfo",ci="newEmail",ui="requestType",li="email",hi="fromEmail",di="multiFactorInfo",fi="previousEmail",Ai="data",pi="operation";function gi(e){var t=Nn(e=Mn(e),vi)||null,n=Nn(e,mi)||null,r=Nn(e,wi)||null;if(r=r&&ki[r]||null,!t||!n||!r)throw new S("argument-error",vi+", "+mi+"and "+wi+" are required in a valid action code URL.");Kr(this,{apiKey:t,operation:r,code:n,continueUrl:Nn(e,bi)||null,languageCode:Nn(e,yi)||null,tenantId:Nn(e,_i)||null})}var vi="apiKey",mi="oobCode",bi="continueUrl",yi="languageCode",wi="mode",_i="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ri,signIn:ii,verifyAndChangeEmail:oi,verifyEmail:"VERIFY_EMAIL"};function Ci(e){try{return new gi(e)}catch(t){return null}}function Si(e){var t=e[Di];if(void 0===t)throw new S("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new S("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[xi];if(n&&"object"==typeof n){t=n[Fi];var r=n[Ti];if(n=n[Oi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Ti+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Oi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new S("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(t=e[Bi])&&"object"==typeof t){if("string"==typeof(t=t[Ri])&&t.length)this.f=t;else if(void 0!==t)throw new S("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==t)throw new S("argument-error",Bi+" property must be a non null object when specified.");if(void 0!==(t=e[Ii])&&"boolean"!=typeof t)throw new S("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ei])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new S("argument-error",Ei+" property must be a non empty string when specified.");this.i=e||null}var xi="android",Ei="dynamicLinkDomain",Ii="handleCodeInApp",Bi="iOS",Di="url",Ti="installApp",Oi="minimumVersion",Fi="packageName",Ri="bundleId";function Pi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ni=null;function Mi(e){var t=Ui(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Li(e){try{return new Mi(e)}catch(t){return null}}function Ui(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ni[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ni){Ni={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ni[o]&&(Ni[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(c){}return null}Mi.prototype.T=function(){return this.f},Mi.prototype.l=function(){return this.c},Mi.prototype.toString=function(){return this.h};var ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:ji},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Vi(e){for(var t in Hi)if(Hi[t].fa==e)return Hi[t];return null}function zi(e){var t={};t["facebook.com"]=Yi,t["google.com"]=Xi,t["github.com"]=Ji,t["twitter.com"]=Zi;var n=e&&e[Ki];try{if(n)return t[n]?new t[n](e):new Wi(e);if(void 0!==e[qi])return new Gi(e)}catch(r){}return null}var qi="idToken",Ki="providerId";function Gi(e){var t=e[Ki];if(!t&&e[qi]){var n=Li(e[qi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),qr(this,"providerId",t),qr(this,"isNewUser",n)}function Wi(e){Gi.call(this,e),qr(this,"profile",Wr((e=Fr(e.rawUserInfo||"{}"))||{}))}function Yi(e){if(Wi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(e){if(Wi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function Xi(e){if(Wi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(e){if(Wi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",e.screenName||null)}function $i(e){var t=Mn(e),n=Nn(t,"link"),r=Nn(Mn(n),"link");return t=Nn(t,"deep_link_id"),Nn(Mn(t),"link")||t||r||n||e}function eo(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?to:no}k(Wi,Gi),k(Yi,Wi),k(Ji,Wi),k(Xi,Wi),k(Zi,Wi);var to="enroll",no="signin";function ro(){}function io(e,t){return e.then((function(e){if(e[za]){var n=Li(e[za]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new S("user-mismatch"):e}))}function oo(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,qr(this,"providerId",e),qr(this,"signInMethod",e)}function ao(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function so(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new oo(e.providerId,e.pendingToken)}catch(t){}return null}function co(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&qr(this,"idToken",t.idToken),t.accessToken&&qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");qr(this,"accessToken",t.oauthToken),qr(this,"secret",t.oauthTokenSecret)}qr(this,"providerId",e),qr(this,"signInMethod",n)}function uo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Yn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function lo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new co(e.providerId,t,e.signInMethod)}catch(n){}}return null}function ho(e,t){this.Qc=t||[],Kr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Vi(e)||{}).Ja||null,this.pb=null}function fo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,e,[])}function Ao(e){ho.call(this,e,Qi),this.a=[]}function po(){Ao.call(this,"facebook.com")}function go(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return A(e)&&(t=e.accessToken),(new po).credential({accessToken:t})}function vo(){Ao.call(this,"github.com")}function mo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return A(e)&&(t=e.accessToken),(new vo).credential({accessToken:t})}function bo(){Ao.call(this,"google.com"),this.Ca("profile")}function yo(e,t){var n=e;return A(e)&&(n=e.idToken,t=e.accessToken),(new bo).credential({idToken:n,accessToken:t})}function wo(){ho.call(this,"twitter.com",ji)}function _o(e,t){var n=e;if(A(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function ko(e,t,n){this.a=e,this.f=t,qr(this,"providerId","password"),qr(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(e){return e&&e.email&&e.password?new ko(e.email,e.password,e.signInMethod):null}function So(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function xo(e,t){if(!(t=Eo(t)))throw new S("argument-error","Invalid email link!");return new ko(e,t.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(e){return(e=Ci(e=$i(e)))&&e.operation===ii?e:null}function Io(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new S("internal-error");this.a=e,qr(this,"providerId","phone"),this.fa="phone",qr(this,"signInMethod","phone")}function Bo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Io(t)}return null}function Do(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function To(e){try{this.a=e||Wl.default.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function Oo(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new Io({fb:e,eb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Io({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return yo(o,n);case"facebook.com":return go(n);case"github.com":return mo(n);case"twitter.com":return _o(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new oo(t,a):new co(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Ao(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Ro(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function Po(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function No(e){return(e=e||{}).type?new Po(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&x(e.error),e.postBody,e.tenantId):null}function Mo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return xt(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ro.prototype.ka=function(){},ro.prototype.b=function(){},ro.prototype.c=function(){},ro.prototype.w=function(){},oo.prototype.ka=function(e){return hs(e,ao(this))},oo.prototype.b=function(e,t){var n=ao(this);return n.idToken=t,ds(e,n)},oo.prototype.c=function(e,t){return io(fs(e,ao(this)),t)},oo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ka=function(e){return hs(e,uo(this))},co.prototype.b=function(e,t){var n=uo(this);return n.idToken=t,ds(e,n)},co.prototype.c=function(e,t){return io(fs(e,uo(this)),t)},co.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ho.prototype.Ka=function(e){return this.Jb=Ae(e),this},k(fo,ho),k(Ao,ho),Ao.prototype.Ca=function(e){return G(this.a,e)||this.a.push(e),this},Ao.prototype.Rb=function(){return X(this.a)},Ao.prototype.credential=function(e,t){var n;if(!(n=A(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},k(po,Ao),qr(po,"PROVIDER_ID","facebook.com"),qr(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(vo,Ao),qr(vo,"PROVIDER_ID","github.com"),qr(vo,"GITHUB_SIGN_IN_METHOD","github.com"),k(bo,Ao),qr(bo,"PROVIDER_ID","google.com"),qr(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),k(wo,ho),qr(wo,"PROVIDER_ID","twitter.com"),qr(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ws(e,ws,{email:this.a,oobCode:this.f}):Ws(e,Vs,{email:this.a,password:this.f})},ko.prototype.b=function(e,t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Ws(e,_s,{idToken:t,email:this.a,oobCode:this.f}):Ws(e,Ps,{idToken:t,email:this.a,password:this.f})},ko.prototype.c=function(e,t){return io(this.ka(e),t)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(So,{PROVIDER_ID:"password"}),Kr(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(e){return e.gb(Do(this))},Io.prototype.b=function(e,t){var n=Do(this);return n.idToken=t,Ws(e,qs,n)},Io.prototype.c=function(e,t){var n=Do(this);return n.operation="REAUTH",io(e=Ws(e,Ks,n),t)},Io.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},To.prototype.gb=function(e,t){var n=this.a.a;return xt(t.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=A(e)?e.session:null,o=A(e)?e.phoneNumber:e;return(i&&i.type==to?i.Ha().then((function(e){return function(e,t){return Ws(e,Ms,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==no?i.Ha().then((function(t){return function(e,t){return Ws(e,Ls,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return Ws(e,Fs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(To,{PROVIDER_ID:"phone"}),Kr(To,{PHONE_SIGN_IN_METHOD:"phone"}),Po.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Po.prototype.T=function(){return this.h},Po.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Lo,Uo=null;function jo(e){var t="unauthorized-domain",n=void 0,r=Mn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function Qo(e,t,n){S.call(this,e,n),(e=t||{}).Kb&&qr(this,"email",e.Kb),e.ea&&qr(this,"phoneNumber",e.ea),e.credential&&qr(this,"credential",e.credential),e.$b&&qr(this,"tenantId",e.$b)}function Ho(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Fo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function Vo(){}function zo(){}function qo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(jR){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ko(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=y(this.qc,this),this.a.onerror=y(this.Tb,this),this.a.onprogress=y(this.rc,this),this.a.ontimeout=y(this.vc,this)}function Wo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Yo(e,t,n){this.reset(e,t,n,void 0,void 0)}function Jo(e){this.f=e,this.b=this.c=this.a=null}function Xo(e,t){this.name=e,this.value=t}k(jo,S),k(Qo,S),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Qo.prototype.toJSON=function(){return this.w()},Vo.prototype.c=null,k(zo,Vo),zo.prototype.a=function(){var e=qo(this);return e?new ActiveXObject(e):new XMLHttpRequest},zo.prototype.b=function(){var e={};return qo(this)&&(e[0]=!0,e[1]=!0),e},Lo=new zo,k(Ko,Vo),Ko.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(e=Go.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Wo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(e,t,n,r,i){r||_(),delete this.a},Xo.prototype.toString=function(){return this.name};var Zo=new Xo("SEVERE",1e3),$o=new Xo("WARNING",900),ea=new Xo("CONFIG",700),ta=new Xo("FINE",500);Jo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(P("Root logger has no level set."),null)}(this).value)for(f(t)&&(t=t()),e=new Yo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var na={},ra=null;function ia(e){var t;if(ra||(ra=new Jo(""),na[""]=ra,ra.c=ea),!(t=na[e])){t=new Jo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ia(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,na[e]=t}return t}function oa(e,t){e&&e.log(ta,t,void 0)}function aa(e){this.f=e}function sa(e){bn.call(this),this.u=e,this.h=void 0,this.readyState=ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ia("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(aa,Vo),aa.prototype.a=function(){return new sa(this.f)},aa.prototype.b=function(e){return function(){return e}}({}),k(sa,bn);var ca=0;function ua(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function la(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ha(e)}function ha(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function da(e){bn.call(this),this.headers=new En,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=fa,this.u=this.S=!1}(e=sa.prototype).open=function(e,t){if(this.readyState!=ca)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ha(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,la(this)),this.readyState=ca},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ha(this)),this.a&&(this.readyState=3,ha(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ua(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?la(this):ha(this),3==this.readyState&&ua(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,la(this))},e.sc=function(e){this.a&&(this.response=e,la(this))},e.Va=function(e){var t=this.i;t&&t.log($o,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&la(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log($o,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log($o,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),k(da,bn);var fa="";da.prototype.b=ia("goog.net.XhrIo");var Aa=/^https?$/i,pa=["POST","PUT"];function ga(e){return"content-type"==e.toLowerCase()}function va(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ma(e),ya(e)}function ma(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ba(e){if(e.c&&void 0!==o)if(e.C[1]&&4==_a(e)&&2==ka(e))oa(e.b,Ca(e,"Local request error detected and ignored"));else if(e.i&&4==_a(e))kn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==_a(e)){oa(e.b,Ca(e,"Request complete")),e.c=!1;try{var t,n=ka(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.l).match(Dn)[1]||null;if(!s&&a.self&&a.self.location){var c=a.self.location.protocol;s=c.substr(0,c.length-1)}i=!Aa.test(s?s.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<_a(e)?e.a.statusText:""}catch(l){oa(e.b,"Can not get status: "+l.message),u=""}e.h=u+" ["+ka(e)+"]",ma(e)}}finally{ya(e)}}}function ya(e,t){if(e.a){wa(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(jR){(e=e.b)&&e.log(Zo,"Problem encountered resetting onreadystatechange: "+jR.message,void 0)}}}function wa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function _a(e){return e.a?e.a.readyState:0}function ka(e){try{return 2<_a(e)?e.a.status:-1}catch(t){return-1}}function Ca(e,t){return t+" ["+e.P+" "+e.l+" "+ka(e)+"]"}function Sa(e){var t=Na;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function xa(e,t,n){e.a=!0,e.c=n,e.f=!t,Da(e)}function Ea(e){if(e.a){if(!e.v)throw new Ta(e);e.v=!1}}function Ia(e,t,n,r){e.g.push([t,n,r]),e.a&&Da(e)}function Ba(e){return K(e.g,(function(e){return f(e[1])}))}function Da(e){if(e.h&&e.a&&Ba(e)){var t=e.h,n=Ra[t];n&&(a.clearTimeout(n.a),delete Ra[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var c=o.call(i||e.s,t);void 0!==c&&(e.f=e.f&&(c==t||c instanceof Error),e.c=t=c),(O(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,Ba(e)||(n=!0)}}e.c=t,r&&(c=y(e.m,e,!0),r=y(e.m,e,!1),t instanceof Sa?(Ia(t,c,r),t.C=!0):t.then(c,r)),n&&(t=new Fa(t),Ra[t.a]=t,e.h=t.a)}function Ta(){F.call(this)}function Oa(){F.call(this)}function Fa(e){this.a=a.setTimeout(y(this.c,this),0),this.b=e}(e=da.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",oa(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(oa(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ya(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ya(this,!0)),da.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ba(this):this.Jc())},e.Jc=function(){ba(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return oa(this.b,"Can not get response: "+t.message),null}},Sa.prototype.cancel=function(e){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Oa(this),Ea(this),xa(this,!1,e))}},Sa.prototype.m=function(e,t){this.i=!1,xa(this,e,t)},Sa.prototype.then=function(e,t,n){var r,i,o=new bt((function(e,t){r=e,i=t}));return Ia(this,r,(function(e){e instanceof Oa?o.cancel():i(e)})),o.then(e,t,n)},Sa.prototype.$goog_Thenable=!0,k(Ta,F),Ta.prototype.message="Deferred has already fired",Ta.prototype.name="AlreadyCalledError",k(Oa,F),Oa.prototype.message="Deferred was canceled",Oa.prototype.name="CanceledError",Fa.prototype.c=function(){throw delete Ra[this.a],this.b};var Ra={};function Pa(e){var t={},n=t.document||document,r=Se(e).toString(),i=ft(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Sa(o),l=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Ma(i,!0);var e=new ja(Ua,"Timeout reached for loading script "+r);Ea(s),xa(s,!1,e)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ma(i,t.xd||!1,l),Ea(s),xa(s,!0,null))},i.onerror=function(){Ma(i,!0,l);var e=new ja(La,"Error while loading script "+r);Ea(s),xa(s,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ct(i,o),function(e,t){ve(e,"HTMLScriptElement"),e.src=Se(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=u(t.document):(null===c&&(c=u(a.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function Na(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ma(e,!0,this.Ma)}}function Ma(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var La=0,Ua=1;function ja(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),F.call(this,n),this.code=e}function Qa(e){this.f=e}function Ha(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||qa,this.g=Ae(e.secureTokenHeaders||Ka),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Ga,this.a=Ae(e.firebaseHeaders||Wa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==mr(),!(n=a.XMLHttpRequest||n&&Wl.default.INTERNAL.node&&Wl.default.INTERNAL.node.XMLHttpRequest)&&!vr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=vr()?new aa(self):br()?new Qa(n):new Ko,this.b=null}k(ja,F),k(Qa,Vo),Qa.prototype.a=function(){return new this.f},Qa.prototype.b=function(){return{}};var Va,za="idToken",qa=new Mr(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Ga=new Mr(3e4,6e4),Wa={"Content-Type":"application/json"};function Ya(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ja(e,t){t&&(e.l=Xa("https://securetoken.googleapis.com/v1/token",t),e.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Xa("https://identitytoolkit.googleapis.com/v2/",t))}function Xa(e,t){return e=Mn(e),t=Mn(t.url),e.f=e.a+e.f,On(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function Za(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function $a(e,t,n,r,i,o,s){(function(){var e=Cr();return!((e="Chrome"!=wr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||We&&ot&&!(9<ot))})()||vr()?e=y(e.u,e):(Va||(Va=new bt((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(a[ts]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ia(e,null,t,void 0)}(Pa(xe(es,{onload:ts})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=y(e.s,e)),e(t,n,r,i,o,s)}Ha.prototype.T=function(){return this.b},Ha.prototype.u=function(e,t,n,r,i,o){if(vr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new da(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout((function(){s.dispatchEvent("timeout")}),o)}yn(s,"complete",(function(){c&&clearTimeout(c);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return oa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),wn(s,"ready",(function(){c&&clearTimeout(c),Vt(this)})),wn(s,"timeout",(function(){c&&clearTimeout(c),Vt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Lo.a(),e.C=function(e){return e.c||(e.c=e.b())}(e.D?e.D:Lo),e.a.onreadystatechange=y(e.Wb,e);try{oa(e.b,Ca(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return oa(e.b,Ca(e,"Error opening Xhr: "+s.message)),void va(e,s)}t=r||"";var o=new En(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)V(e,t,void 0);else for(var n=xn(e),r=Sn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ga,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!G(pa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{wa(e),0<e.g&&(e.u=function(e){return We&&it(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),oa(e.b,Ca(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=y(e.Ma,e)):e.s=kn(e.Ma,e.g,e)),oa(e.b,Ca(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){oa(e.b,Ca(e,"Send error: "+s.message)),va(e,s)}}(s,e,n,r,i)};var es=new me(_e,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function ns(e){if("string"!=typeof(e=e.email)||!fr.test(e))throw new S("invalid-email")}function rs(e){"email"in e&&ns(e)}function is(e){if(!e[za]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,Ae(e));throw new S("internal-error")}}function os(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}Ha.prototype.s=function(e,t,n,r,i){var o=this;Va.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ha.prototype.Ab=function(){return Ws(this,Ns,{})},Ha.prototype.Cb=function(e,t){return Ws(this,Rs,{idToken:e,email:t})},Ha.prototype.Db=function(e,t){return Ws(this,Ps,{idToken:e,password:t})};var as={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ss(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function cs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function us(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Xn(e=new Gn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ls(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ho(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ho(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ho(e)):e.errorMessage&&(t=Ys(e.errorMessage)),t)throw t;is(e)}function hs(e,t){return t.returnIdpCredential=!0,Ws(e,Us,t)}function ds(e,t){return t.returnIdpCredential=!0,Ws(e,Qs,t)}function fs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ws(e,js,t)}function As(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=Ha.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(as,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ws(this,Rs,n)},e.wb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),Ws(this,Bs,e)},e.xb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),Ws(this,xs,e)},e.vb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ws(this,Es,e)},e.Fb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ws(this,Is,e)},e.gb=function(e){return Ws(this,zs,e)},e.ob=function(e,t){return Ws(this,Os,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ws(this,gs,{oobCode:e})},e.kb=function(e){return Ws(this,ps,{oobCode:e})};var ps={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},gs={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},vs={endpoint:"signupNewUser",A:function(e){if(ns(e),!e.password)throw new S("weak-password")},G:is,V:!0,B:!0},ms={endpoint:"createAuthUri",B:!0},bs={endpoint:"deleteAccount",O:["idToken"]},ys={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},ws={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ns,G:is,V:!0,B:!0},_s={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ns,G:is,V:!0},ks={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ss,G:is,B:!0,Na:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ss,G:is,B:!0,Na:!0},Ss={endpoint:"getAccountInfo"},xs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");ns(e)},Z:"email",B:!0},Es={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Is={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");ns(e)},Z:"email",B:!0},Ds={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ts={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},Os={endpoint:"resetPassword",A:As,Z:"email",B:!0},Fs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Rs={endpoint:"setAccountInfo",O:["idToken"],A:rs,V:!0},Ps={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(rs(e),!e.password)throw new S("weak-password")},G:is,V:!0},Ns={endpoint:"signupNewUser",G:is,V:!0,B:!0},Ms={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ls={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Us={endpoint:"verifyAssertion",A:cs,Za:us,G:ls,V:!0,B:!0},js={endpoint:"verifyAssertion",A:cs,Za:us,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw Ys(e.errorMessage);is(e)},V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:function(e){if(cs(e),!e.idToken)throw new S("internal-error")},Za:us,G:ls,V:!0},Hs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:is,V:!0,B:!0},Vs={endpoint:"verifyPassword",A:function(e){if(ns(e),!e.password)throw new S("wrong-password")},G:is,V:!0,B:!0},zs={endpoint:"verifyPhoneNumber",A:os,G:is,B:!0},qs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");os(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ho(e);is(e)}},Ks={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:os,G:is,B:!0},Gs={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[za]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ws(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return Et(new S("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return xt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Mn(t+n);Pn(s,"key",e.c),a&&Pn(s,"cb",Date.now().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Pn(s,u,i[u]);return new bt((function(t,n){$a(e,s.toString(),(function(e){e?e.error?n(Js(e,o||{})):t(e):n(new S("network-request-failed"))}),r,c?void 0:tr(Or(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function Ys(e){return Js({error:{errors:[{message:e}],code:400,message:e}})}function Js(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],t);return!t&&e&&(t=Tr(e)),new S("internal-error",t)}function Xs(e){this.b=e,this.a=null,this.sb=function(e){return(tc||(tc=new bt((function(e,t){function n(){Nr(),Sr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:$s.get()})}if(Sr("gapi.iframes.Iframe"))e();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Sr("gapi.load")?n():t(Error("Network Error"))},xt(Pa(r=xe(Zs,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw tc=null,e})))).then((function(){return new bt((function(t,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ec.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Zs=new me(_e,"https://apis.google.com/js/api.js?onload=%{onload}"),$s=new Mr(3e4,6e4),ec=new Mr(5e3,15e3),tc=null;function nc(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Ln((e=Mn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Ln("https",this.l,null,"/__/auth/iframe"),this.a=e,Pn(this.a,"apiKey",this.h),Pn(this.a,"appName",this.i),this.b=null,this.c=[]}function rc(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ic(e){try{return Wl.default.app(e).auth().Ga()}catch(t){return[]}}function oc(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ac(e){var t=sr();return function(e){return Ws(e,Ds,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Mn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Mn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:dr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new jo(sr())}))}function sc(e){return e.m?e.m:(e.m=Ar().then((function(){if(!e.u){var t=e.c,n=e.i,r=ic(e.b),i=new nc(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new Xs(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=No(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)}))}(e)})),e.m)}function cc(e){return e.l||(e.C=e.c?kr(e.c,ic(e.b)):null,e.l=new Ha(e.g,T(e.i),e.C),e.f&&Ja(e.l,e.f)),e.l}function uc(e,t,n,r,i,o,a,s,c,u,l,h){return(e=new rc(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=Ae(c||null),e.f=u,e.zb(l).toString()}function lc(e){if(this.a=e||Wl.default.INTERNAL.reactNative&&Wl.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hc(e){this.b=e,this.a={},this.f=y(this.c,this)}nc.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Pn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},rc.prototype.zb=function(e){return this.h=e,this},rc.prototype.toString=function(){if(this.v){var e=Mn(this.v.url);e=Ln(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Ln("https",this.u,null,"/__/auth/handler");if(Pn(e,"apiKey",this.s),Pn(e,"appName",this.c),Pn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Wl.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Pn(e,"providerId",this.a.providerId),t=Or((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=Ae(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),fe(t)||Pn(e,"customParameters",Tr(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Pn(e,"scopes",n.join(",")),this.l?Pn(e,"redirectUrl",this.l):Jn(e.b,"redirectUrl"),this.g?Pn(e,"eventId",this.g):Jn(e.b,"eventId"),this.i?Pn(e,"v",this.i):Jn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Nn(e,a)&&Pn(e,a,this.b[a]);return this.h?Pn(e,"tid",this.h):Jn(e.b,"tid"),this.f?Pn(e,"eid",this.f):Jn(e.b,"eid"),(a=ic(this.c)).length&&Pn(e,"fw",a.join(",")),e.toString()},(e=oc.prototype).Pb=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return sc(e).then((function(){return function(e,t){return e.sb.then((function(){return new bt((function(n){e.a.send(t.type,t,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&lr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new bt((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Cr();return!Dr(e)&&!Pr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Et(new S("popup-blocked"));if(a&&!Dr())return this.ma().o((function(t){lr(e),i(t)})),r(),xt();this.a||(this.a=ac(cc(this)));var c=this;return this.a.then((function(){var t=c.ma().o((function(t){throw lr(e),i(t),t}));return r(),t})).then((function(){Ro(n),a||cr(uc(c.s,c.g,c.b,t,n,null,o,c.c,void 0,c.i,s,c.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(c.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=ac(cc(this)));var i=this;return this.a.then((function(){Ro(t),cr(uc(i.s,i.g,i.b,e,t,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return sc(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=lc.prototype).get=function(e){return xt(this.a.getItem(e)).then((function(e){return e&&Fr(e)}))},e.set=function(e,t){return xt(this.a.setItem(e,Tr(t)))},e.U=function(e){return xt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var dc,fc=[];function Ac(e,t,n){fe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function pc(e){this.a=e}function gc(e){this.c=e,this.b=!1,this.a=[]}function vc(e,t,n,r){var i,o,a,s,c=n||{},u=null;if(e.b)return Et(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),e.a.push(u={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return mc(e,u),t})).o((function(t){throw mc(e,u),t}))}function mc(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function bc(){if(!_c())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;vr()&&self?(this.v=function(){var e=vr()?self:null;if(V(fc,(function(n){n.b==e&&(t=n)})),!t){var t=new hc(e);fc.push(t)}return t}(),Ac(this.v,"keyChanged",(function(t,n){return Ec(e).then((function(t){return 0<t.length&&V(e.a,(function(e){e(t)})),{keyProcessed:G(t,n.key)}}))})),Ac(this.v,"ping",(function(){return xt(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?xt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):xt(null)}().then((function(t){(e.h=t)&&(e.g=new gc(new pc(t)),vc(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&G(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function yc(e){return e.i||(e.i=function e(t){return new bt((function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new bt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).o((function(e){r(e)}))}}))}(e)),e.i}function wc(e,t){var n=0;return new bt((function r(i,o){yc(e).then(t).then(i).o((function(t){if(!(3<++n))return yc(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function _c(){try{return!!a.indexedDB}catch(Ke){return!1}}function kc(e){return e.objectStore("firebaseLocalStorage")}function Cc(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Sc(e){return new bt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function xc(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?vc(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):xt()}function Ec(e){return yc(e).then((function(e){var t=kc(Cc(e,!1));return t.getAll?Sc(t.getAll()):new bt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Ic(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bc(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xt().then((function(){if(_c()){var e=Rr(),r="__sak"+e;return dc||(dc=new bc),(n=dc).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){V(t.a,(function(t){t(e)}))})),e}))}function Dc(){this.a={},this.type="inMemory"}function Tc(){if(!function(){var e="Node"==mr();if(!(e=Oc()||e&&Wl.default.INTERNAL.node&&Wl.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==mr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Oc()||Wl.default.INTERNAL.node.localStorage,this.type="localStorage"}function Oc(){try{var e=a.localStorage,t=Rr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Fc(){this.type="nullStorage"}function Rc(){if(!function(){var e="Node"==mr();if(!(e=Pc()||e&&Wl.default.INTERNAL.node&&Wl.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==mr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Pc()||Wl.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pc(){try{var e=a.sessionStorage,t=Rr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Nc(){var e={};e.Browser=Uc,e.Node=jc,e.ReactNative=Qc,e.Worker=Hc,this.a=e[mr()]}hc.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,(function(t){i.push(xt().then((function(){return t(e.origin,e.data.data)})))})),Bt(i).then((function(r){var i=[];V(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),V(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},pc.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},gc.prototype.close=function(){for(;0<this.a.length;)mc(this,this.a[0]);this.b=!0},(e=bc.prototype).set=function(e,t){var n=this,r=!1;return wc(this,(function(t){return Sc((t=kc(Cc(t,!0))).get(e))})).then((function(i){return wc(n,(function(o){if(o=kc(Cc(o,!0)),i)return i.value=t,Sc(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Sc(o.add(a))}))})).then((function(){return n.c[e]=t,xc(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return wc(this,(function(t){return Sc(kc(Cc(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return wc(this,(function(r){return n=!0,t.b++,Sc(kc(Cc(r,!0)).delete(e))})).then((function(){return delete t.c[e],xc(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Ic(e),function t(){e.f=setTimeout((function(){e.l=Ec(e).then((function(t){0<t.length&&V(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Ic(this)},(e=Bc.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Dc.prototype).get=function(e){return xt(this.a[e])},e.set=function(e,t){return this.a[e]=t,xt()},e.U=function(e){return delete this.a[e],xt()},e.ca=function(){},e.ia=function(){},(e=Tc.prototype).get=function(e){var t=this;return xt().then((function(){return Fr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Tr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&sn(a.window,"storage",e)},e.ia=function(e){a.window&&ln(a.window,"storage",e)},(e=Fc.prototype).get=function(){return xt(null)},e.set=function(){return xt()},e.U=function(){return xt()},e.ca=function(){},e.ia=function(){},(e=Rc.prototype).get=function(e){var t=this;return xt().then((function(){return Fr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return xt().then((function(){var r=Tr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return xt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Mc,Lc,Uc={F:Tc,cb:Rc},jc={F:Tc,cb:Rc},Qc={F:lc,cb:Fc},Hc={F:Tc,cb:Fc},Vc={rd:"local",NONE:"none",td:"session"};function zc(){var e=!(Pr(Cr())||!gr()),t=Dr(),n=xr();this.m=e,this.h=t,this.l=n,this.a={},Mc||(Mc=new Nc),e=Mc;try{this.g=!ar()&&jr()||!a.indexedDB?new e.a.F:new Bc(vr()?new Dc:new e.a.F)}catch(r){this.g=new Dc,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Dc}this.v=new Dc,this.f=y(this.Zb,this),this.b={}}function qc(){return Lc||(Lc=new zc),Lc}function Kc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Gc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Wc(e,t,n){return n=Gc(t,n),"local"==t.F&&(e.b[n]=null),Kc(e,t.F).U(n)}function Yc(e){e.c&&(clearInterval(e.c),e.c=null)}function Jc(e){this.a=e,this.b=qc()}(e=zc.prototype).get=function(e,t){return Kc(this,e.F).get(Gc(e,t))},e.set=function(e,t,n){var r=Gc(e,n),i=this,o=Kc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Gc(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),fe(this.a)&&(Kc(this,"local").ca(this.f),this.h||(ar()||!jr())&&a.indexedDB||!this.l||function(e){Yc(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Yt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Gc(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),fe(this.a)&&(Kc(this,"local").ia(this.f),Yc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Kc(this,"local").ia(this.f):Yc(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},We&&ot&&10==ot&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,y(this.nb,this))},e.nb=function(e){this.a[e]&&V(this.a[e],(function(e){e()}))};var Xc,Zc={name:"authEvent",F:"local"};function $c(){this.a=qc()}function eu(e,t){this.b=tu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Xc&&(Xc=a.Int32Array?new Int32Array(cu):cu),this.reset()}k(eu,(function(){this.b=-1}));for(var tu=64,nu=tu-1,ru=[],iu=0;iu<nu;iu++)ru[iu]=0;var ou=J(128,ru);function au(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],c=0|e.a[3],u=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&l^~u&h)+(0|Xc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=u,u=c+a|0,c=s,s=i,i=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+c|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function su(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(au(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(au(e),i=0)}}e.c=i,e.g+=n}eu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var cu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function uu(){eu.call(this,8,lu)}k(uu,eu);var lu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hu(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new $c,this.g=new Jc(this.h),this.f=null,this.b=[],this.a=this.c=null}function du(e){return new S("invalid-cordova-configuration",e)}function fu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Au(e){return e.f||(e.f=e.ma().then((function(){return new bt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),pu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=$i(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Nn(o=Mn(i),"firebaseError")||null))?x(o):null)?new Po(r.c,r.b,null,null,o,null,r.T()):new Po(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}fu(e,i)}))}var n=new Po("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Cn(500).then((function(){return pu(e).then((function(){r||fu(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Sr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Uo||(Uo=new Mo),function(e){var t=Uo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Sr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function pu(e){var t=null;return function(e){return e.b.get(Zc,e.a).then((function(e){return No(e)}))}(e.g).then((function(n){return t=n,Wc((n=e.g).b,Zc,n.a)})).then((function(){return t}))}function gu(e){this.a=e,this.b=qc()}(e=hu.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(pr(void 0)?Ar().then((function(){return new bt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",a))throw du("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",a))throw du("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",a))throw du("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",a))throw du("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},e.Pb=function(e,t){return t(new S("operation-not-supported-in-this-environment")),xt()},e.Nb=function(){return Et(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Et(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=xt().then((function(){return Ro(t),Au(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Po(t,r,null,o,new S("no-auth-event"),null,i),c=Sr("BuildInfo.packageName",a);if("string"!=typeof c)throw new S("invalid-cordova-configuration");var u=Sr("BuildInfo.displayName",a),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Cr().toLowerCase().match(/android/))return Et(new S("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(e){var t=new uu;su(t,e),e=[];var n=8*t.g;su(t,ou,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(au(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return q(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=uc(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(Zc,s.w(),t)})).then((function(){var t=Sr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");t=Cr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new bt((function(e,t){c=function(){var t=Sr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),l=function(){Lr()&&u()},o.addEventListener("resume",u=function(){s||(s=Cn(2e3).then((function(){t(new S("redirect-cancelled-by-user"))})))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return pu(i).then((function(){throw e}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Ta(c),i.c=null}))},e.Ea=function(e){this.b.push(e),Au(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Po("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var vu={name:"pendingRedirect",F:"session"};function mu(e){return Wc(e.b,vu,e.a)}function bu(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=y(this.s,this),this.b=new Ru,this.C=new Uu,this.g=new gu(Ou(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=yu(this.D,this.v,this.m,E,this.J)}function yu(e,t,n,r,i){var o=Wl.default.SDK_VERSION||null;return pr()?new hu(e,t,n,o,r,i):new oc(e,t,n,o,r,i)}function wu(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function _u(e){e.a.Yb()&&wu(e).o((function(t){var n=new Po("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Iu(t)&&e.s(n)})),e.a.Ub()||Pu(e.b)}function ku(e,t){G(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(vu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?mu(e.g).then((function(){wu(e).o((function(t){var n=new Po("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Iu(t)&&e.s(n)}))})):_u(e)})).o((function(){_u(e)}))}function Cu(e,t){Y(e.h,(function(e){return e==t}))}bu.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=yu(this.D,this.v,this.m,null,this.J),this.i={}},bu.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Pu(this.b),t};var Su=new Mr(2e3,1e4),xu=new Mr(3e4,6e4);function Eu(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Iu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Bu(e,t,n,r,i){var o;return function(e){return e.b.set(vu,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Iu(t))throw new S("operation-not-supported-in-this-environment");return o=t,mu(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new bt((function(){})):mu(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Du(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Su.get())}bu.prototype.ra=function(){return this.b.ra()};var Tu={};function Ou(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Fu(e,t,n,r){var i=Ou(t,n,r);return Tu[i]||(Tu[i]=new bu(e,t,n,r)),Tu[i]}function Ru(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Pu(e){e.g||(e.g=!0,Lu(e,!1,null,null))}function Nu(e){e.g&&!e.i&&Lu(e,!1,null,null)}function Mu(e,t){if(e.b=function(){return xt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Lu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Mu(e,n):Mu(e,{user:null}),e.f=[],e.c=[]}function Uu(){}function ju(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Qu(e,t){this.a=t,qr(this,"verificationId",e)}function Hu(e,t,n,r){return new To(e).gb(t,n).then((function(e){return new Qu(e,r)}))}function Vu(e){var t=Ui(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:e,expirationTime:Ur(1e3*t.exp),authTime:Ur(1e3*t.auth_time),issuedAtTime:Ur(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function zu(e,t,n){var r=t&&t[Ku];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=Ae(t),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;V(t[qu]||[],(function(e){(e=Jr(e))&&i.b.push(e)})),qr(this,"auth",this.a),qr(this,"session",this.c),qr(this,"hints",this.b)}Ru.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ru.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Lu(this,!0,null,e.a),xt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Lu(e,s,t,null)})).o((function(t){Lu(e,s,null,t)}))}(this,e,t):Et(new S("invalid-auth-event")):(Lu(this,!1,null,null),xt())}else Et(new S("invalid-auth-event"))},Ru.prototype.ra=function(){var e=this;return new bt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new S("timeout");e.a&&e.a.cancel(),e.a=Cn(xu.get()).then((function(){e.b||(e.g=!0,Lu(e,!0,null,t))}))}(e))}))},Uu.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),xt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Et(new S("invalid-auth-event"))}else Et(new S("invalid-auth-event"))},Qu.prototype.confirm=function(e){return e=Oo(this.verificationId,e),this.a(e)};var qu="mfaInfo",Ku="mfaPendingCredential";function Gu(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new zu(e,t,n),qr(this,"resolver",this.b)}function Wu(e,t,n){if(e&&A(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Gu(t,e.serverResponse,n,e.message)}catch(r){}return null}function Yu(){}function Ju(e){qr(this,"factorId",e.fa),this.a=e}function Xu(e){if(Ju.call(this,e),this.a.fa!=To.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zu(e,t){for(var n in Wt.call(this,e),t)this[n]=t[n]}function $u(e,t){this.a=e,this.b=[],this.c=y(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&V(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[$r]=e.uid),e.displayName&&(r[Xr]=e.displayName),e.enrollmentTime&&(r[Zr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ei]=e.phoneNumber);try{t=new ti(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),el(this,n)}function el(e,t){e.b=t,qr(e,"enrolledFactors",t)}function tl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function rl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function il(e,t){e.b=Li(t[za]||""),e.a=t.refreshToken,rl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ol(e,t){this.a=e||null,this.b=t||null,Kr(this,{lastSignInTime:Ur(t||null),creationTime:Ur(e||null)})}function al(e,t,n,r,i,o){Kr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function sl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Wl.default.SDK_VERSION?kr(Wl.default.SDK_VERSION):null;this.a=new Ha(this.l,T(E),r),(this.u=e.emulatorConfig||null)&&Ja(this.a,this.u),this.h=new nl(this.a),gl(this,t[za]),il(this.h,t),qr(this,"refreshToken",this.h.a),bl(this,n||{}),bn.call(this),this.P=!1,this.s&&Er()&&(this.b=Fu(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new tl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=y(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){cl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){hl(i,e.f)},this.ja=null,this.S=new $u(this,n),qr(this,"multiFactor",this.S)}function cl(e,t){e.u=t,Ja(e.a,t),e.b&&(t=e.b,e.b=Fu(e.s,e.l,e.m,e.u),e.P&&(Cu(t,e),ku(e.b,e)))}function ul(e,t){e.qa&&ln(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&sn(t,"languageCodeChanged",e.Pa)}function ll(e,t){e.$&&ln(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&sn(t,"emulatorConfigChanged",e.Ba)}function hl(e,t){e.aa=t,Za(e.a,Wl.default.SDK_VERSION?kr(Wl.default.SDK_VERSION,e.aa):null)}function dl(e,t){e.ja&&ln(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&sn(t,"frameworkChanged",e.Oa)}function fl(e){try{return Wl.default.app(e.m).auth()}catch(t){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Al(e){e.J||e.D.b||(e.D.start(),ln(e,"tokenChanged",e.ba),sn(e,"tokenChanged",e.ba))}function pl(e){ln(e,"tokenChanged",e.ba),e.D.stop()}function gl(e,t){e.Aa=t,qr(e,"_lat",t)}function vl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Bt(t).then((function(){return e}))}function ml(e){e.b&&!e.P&&(e.P=!0,ku(e.b,e))}function bl(e,t){Kr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ol(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function yl(){}function wl(e){return xt().then((function(){if(e.J)throw new S("app-deleted")}))}function _l(e){return q(e.providerData,(function(e){return e.providerId}))}function kl(e,t){t&&(Cl(e,t.providerId),e.providerData.push(t))}function Cl(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Sl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&qr(e,t,n)}function xl(e,t){e!=t&&(Kr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),qr(e,"metadata",t.metadata?function(e){return new ol(e.a,e.b)}(t.metadata):new ol),V(t.providerData,(function(t){kl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),qr(e,"refreshToken",e.h.a),el(e.S,t.S.b))}function El(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return Ws(e.a,Ss,{idToken:t}).then(y(e.Kc,e))}(e,t).then((function(){return n||Sl(e,"isAnonymous",!1),t}))}))}function Il(e,t){t[za]&&e.Aa!=t[za]&&(il(e.h,t),e.dispatchEvent(new Zu("tokenChanged")),gl(e,t[za]),Sl(e,"refreshToken",e.h.a))}function Bl(e,t){return El(e).then((function(){if(G(_l(e),t))return vl(e).then((function(){throw new S("provider-already-linked")}))}))}function Dl(e,t,n){return Gr({user:e,credential:Fo(t),additionalUserInfo:t=zi(t),operationType:n})}function Tl(e,t){return Il(e,t),e.reload().then((function(){return e}))}function Ol(e,t,n,r,i){if(!Er())return Et(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return Et(e.i);var o=Vi(n.providerId),a=Rr(e.uid+":::"),s=null;(!Dr()||gr())&&e.s&&n.isOAuthProvider&&(s=uc(e.s,e.l,e.m,t,n,null,a,Wl.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=hr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Rl(e),!i)return e.I().then((function(){}))})).then((function(){return Eu(e.b,c,t,n,a,!!s,e.tenantId)})).then((function(){return new bt((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Du(e.b,e,t,c,a)}))})).then((function(e){return c&&lr(c),e?Gr(e):null})).o((function(e){throw c&&lr(c),e})),Pl(e,r,i)}function Fl(e,t,n,r,i){if(!Er())return Et(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return Et(e.i);var o=null,a=Rr(e.uid+":::");return r=r().then((function(){if(Rl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,vl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Ll,e.w(),t.a)),t})).then((function(){return Bu(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Ul(e.ha);throw o})).then((function(){if(o)throw o})),Pl(e,r,i)}function Rl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Pl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Et(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new Zu("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){W(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Wu(t.w(),fl(e),y(e.jc,e))),n||t}))}function Nl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new sl(t,n,e);return e.providerData&&V(e.providerData,(function(e){e&&kl(i,Gr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Ml(e){this.a=e,this.b=qc()}zu.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=Ae(t.f);return delete n[qu],delete n[Ku],ge(n,e),t.g(n)}))},k(Gu,S),Yu.prototype.tb=function(e,t,n){return t.type==to?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Do(e.a)}),Ws(t,ks,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(e.a)}),Ws(t,Cs,n)}))}(this,e,t)},k(Ju,Yu),k(Xu,Ju),k(Zu,Wt),(e=$u.prototype).yc=function(e){el(this,function(e){var t=[];return V(e.mfaInfo||[],(function(e){(e=Jr(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new eo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Il(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ws(r,Gs,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=z(t.b,(function(e){return e.uid!=n}));return el(t,r),Il(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(e){return e.w()}))}}},tl.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=a.document,t=null;return Lr()||!e?xt():new bt((function(n){t=function(){Lr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},tl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},nl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Et(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new bt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?$a(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Js(e)):e.access_token&&e.refresh_token?n(e):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Yn(t).toString(),e.g,e.m.get()):r(new S("internal-error"))}))}(e.f,t).then((function(t){return e.b=Li(t.access_token),e.a=t.refresh_token,rl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b.toString(),refreshToken:this.a})},ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(sl,bn),sl.prototype.xa=function(e){this.za=e,Ya(this.a,e)},sl.prototype.la=function(){return this.za},sl.prototype.Ga=function(){return X(this.aa)},sl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},qr(sl.prototype,"providerId","firebase"),(e=sl.prototype).reload=function(){var e=this;return Pl(this,wl(this).then((function(){return El(e).then((function(){return vl(e)})).then(yl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Vu(e)}))},e.I=function(e){var t=this;return Pl(this,wl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.Aa&&(gl(t,e.accessToken),t.dispatchEvent(new Zu("tokenChanged"))),Sl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");bl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?q(e,(function(e){return new al(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)kl(this,t[n]);Sl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zu("userReloaded",{hd:e}))},e.Lc=function(e){return Vr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Pl(this,e.c(this.a,this.uid).then((function(e){return Il(t,e),n=Dl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Vr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Pl(this,Bl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Dl(t,e,"link"),Tl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Pl(this,Bl(this,"phone").then((function(){return Hu(fl(n),e,t,y(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Pl(this,xt().then((function(){return Hu(fl(n),e,t,y(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Pl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Il(t,e),t.reload()})))},e.ed=function(e){var t=this;return Pl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Il(t,e),t.reload()})))},e.Db=function(e){var t=this;return Pl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Il(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return wl(this);var t=this;return Pl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Il(t,e),Sl(t,"displayName",e.displayName||null),Sl(t,"photoURL",e.photoUrl||null),V(t.providerData,(function(e){"password"===e.providerId&&(qr(e,"displayName",t.displayName),qr(e,"photoURL",t.photoURL))})),vl(t)})).then(yl))},e.cd=function(e){var t=this;return Pl(this,El(this).then((function(n){return G(_l(t),e)?function(e,t,n){return Ws(e,ys,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return V(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),V(_l(t),(function(e){n[e]||Cl(t,e)})),n[To.PROVIDER_ID]||qr(t,"phoneNumber",null),vl(t)})):vl(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return Pl(this,this.I().then((function(t){return Ws(e.a,bs,{idToken:t})})).then((function(){e.dispatchEvent(new Zu("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");ul(e,null),ll(e,null),dl(e,null),e.N=[],e.J=!0,pl(e),qr(e,"refreshToken",null),e.b&&Cu(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?y(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?y(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?y(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?y(this.Mb,this):null},e.Ec=function(e){var t=this;return Ol(this,"linkViaPopup",e,(function(){return Bl(t,e.providerId).then((function(){return vl(t)}))}),!1)},e.Nc=function(e){return Ol(this,"reauthViaPopup",e,(function(){return xt()}),!0)},e.Fc=function(e){var t=this;return Fl(this,"linkViaRedirect",e,(function(){return Bl(t,e.providerId)}),!1)},e.Oc=function(e){return Fl(this,"reauthViaRedirect",e,(function(){return xt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,this.I().then((function(n){return ds(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Dl(i,e,"link"),Tl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,xt().then((function(){return io(fs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Dl(i,e,"reauthenticate"),Il(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Pl(this,this.I().then((function(t){return n=t,void 0===e||fe(e)?{}:Pi(new Si(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Pl(this,this.I().then((function(e){return r=e,void 0===t||fe(t)?{}:Pi(new Si(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Pl(this,e=io(xt(e),n.uid).then((function(e){return t=Dl(n,e,"reauthenticate"),Il(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),V(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.S.w()),e};var Ll={name:"redirectUser",F:"session"};function Ul(e){return Wc(e.b,Ll,e.a)}function jl(e){this.a=e,this.b=qc(),this.c=null,this.f=function(e){var t=Vl("local"),n=Vl("session"),r=Vl("none");return function(e,t,n){var r=Gc(t,n),i=Kc(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Hl,e.a).then((function(e){return e?Vl(e):t}))}))}))})).then((function(t){return e.c=t,Ql(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Vl("local"),this.a,y(this.g,this))}function Ql(e,t){var n,r=[];for(n in Vc)Vc[n]!==t&&r.push(Wc(e.b,Vl(Vc[n]),e.a));return r.push(Wc(e.b,Hl,e.a)),function(e){return new bt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)It(e[s],w(o,s),a);else t(i)}))}(r)}jl.prototype.g=function(){var e=this,t=Vl("local");Gl(this,(function(){return xt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Ql(e,"local").then((function(){e.c=t}))}))}))};var Hl={name:"persistence",F:"session"};function Vl(e){return{name:"authUser",F:e}}function zl(e,t){return Gl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ql(e){return Gl(e,(function(){return Wc(e.b,e.c,e.a)}))}function Kl(e,t,n){return Gl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Nl(e||{})}))}))}function Gl(e,t){return e.f=e.f.then(t,t),e.f}function Yl(e){if(this.l=!1,qr(this,"settings",new ju),qr(this,"app",e),!rh(this).options||!rh(this).options.apiKey)throw new S("invalid-api-key");e=Wl.default.SDK_VERSION?kr(Wl.default.SDK_VERSION):null,this.a=new Ha(rh(this).options&&rh(this).options.apiKey,T(E),e),this.P=[],this.s=[],this.N=[],this.Pa=Wl.default.INTERNAL.createSubscribe(y(this.zc,this)),this.W=void 0,this.ib=Wl.default.INTERNAL.createSubscribe(y(this.Ac,this)),th(this,null),this.i=new jl(rh(this).options.apiKey+":"+rh(this).name),this.D=new Ml(rh(this).options.apiKey+":"+rh(this).name),this.$=sh(this,function(e){var t=rh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Ll,e.a).then((function(e){return e&&t&&(e.authDomain=t),Nl(e||{})}))}(e.D,rh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Ul(e.D)}));return sh(e,t)}(e).then((function(){return Kl(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return zl(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ql(e.i)}))):null})).then((function(t){th(e,t||null)}));return sh(e,n)}(this)),this.h=sh(this,function(e){return e.$.then((function(){return eh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Vl("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=y(this.Zc,this),this.Ba=y(this.da,this),this.qa=y(this.mc,this),this.za=y(this.wc,this),this.Aa=y(this.xc,this),this.b=null,function(e){var t=rh(e).options.authDomain,n=rh(e).options.apiKey;t&&Er()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Fu(t,n,rh(e).name,e.R),ku(e.b,e),ih(e)&&ml(ih(e)),e.m){ml(e.m);var r=e.m;r.xa(e.la()),ul(r,e),hl(r=e.m,e.J),dl(r,e),cl(r=e.m,e.R),ll(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.Gc,this),this.u=0,bn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Mn(this.R.url);e=Gr({protocol:e.c,host:e.a,port:e.g,options:Gr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function Jl(e){Wt.call(this,"languageCodeChanged"),this.h=e}function Xl(e){Wt.call(this,"emulatorConfigChanged"),this.c=e}function Zl(e){Wt.call(this,"frameworkChanged"),this.f=e}function $l(e){return e.Oa||Et(new S("auth-domain-config-required"))}function eh(e){if(!Er())return Et(new S("operation-not-supported-in-this-environment"));var t=$l(e).then((function(){return e.b.ra()})).then((function(e){return e?Gr(e):null}));return sh(e,t)}function th(e,t){ih(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(ih(e),e.Ba),ln(ih(e),"tokenChanged",e.qa),ln(ih(e),"userDeleted",e.za),ln(ih(e),"userInvalidated",e.Aa),pl(ih(e))),t&&(t.W.push(e.Ba),sn(t,"tokenChanged",e.qa),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.u&&Al(t)),qr(e,"currentUser",t),t&&(t.xa(e.la()),ul(t,e),hl(t,e.J),dl(t,e),cl(t,e.R),ll(t,e))}function nh(e,t){var n=null,r=null;return sh(e,t.then((function(t){return n=Fo(t),r=zi(t),function(e,t){var n={};return n.apiKey=rh(e).options.apiKey,n.authDomain=rh(e).options.authDomain,n.appName=rh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new sl(e,t);return n&&(i.ha=n),r&&hl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return ih(e)&&t.uid==ih(e).uid?(xl(ih(e),t),e.da(t)):(th(e,t),ml(t),e.da(t))})).then((function(){ah(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Wu(t.w(),e,y(e.kc,e))),n||t})).then((function(){return Gr({user:ih(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(e){return e.app}function ih(e){return e.currentUser}function oh(e){return ih(e)&&ih(e)._lat||null}function ah(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](oh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](oh(e))}}function sh(e,t){return e.P.push(t),t.oa((function(){W(e.P,t)})),t}function ch(){}function uh(){this.a={},this.b=1e12}jl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in Vc)if(Vc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(mr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!_c()&&"none"!==e)throw n;break;default:if(!xr()&&"none"!==e)throw n}}(e),Gl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Ql(n,e)})).then((function(){if(n.c=Vl(e),t)return n.b.set(n.c,t,n.a)})):xt()}))},k(Yl,bn),k(Jl,Wt),k(Xl,Wt),k(Zl,Wt),(e=Yl.prototype).yb=function(e){return sh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Ya(this.a,this.aa),this.dispatchEvent(new Jl(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&Ar().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,Ja(this.a,this.R),this.dispatchEvent(new Xl(this.R))}},e.Gc=function(e){this.J.push(e),Za(this.a,Wl.default.SDK_VERSION?kr(Wl.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Zl(this.J))},e.Ga=function(){return X(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?y(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,hs(i.a,o))}))},e.Xc=function(e){if(!Er())return Et(new S("operation-not-supported-in-this-environment"));var t=this,n=Vi(e.providerId),r=Rr(),i=null;(!Dr()||gr())&&rh(this).options.authDomain&&e.isOAuthProvider&&(i=uc(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",e,null,r,Wl.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=hr(i,n&&n.va,n&&n.ua);return sh(this,n=$l(this).then((function(n){return Eu(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new bt((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Du(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&lr(o),e?Gr(e):null})).o((function(e){throw o&&lr(o),e})))},e.Yc=function(e){if(!Er())return Et(new S("operation-not-supported-in-this-environment"));var t=this;return sh(this,$l(this).then((function(){return function(e){return Gl(e,(function(){return e.b.set(Hl,e.c.F,e.a)}))}(t.i)})).then((function(){return Bu(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return eh(this).then((function(t){return e.b&&Nu(e.b.b),t})).o((function(t){throw e.b&&Nu(e.b.b),t}))},e.dd=function(e){if(!e)return Et(new S("null-user"));if(this.S!=e.tenantId)return Et(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[za]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new sl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&hl(t,r),xl(t,e),t}(e,n,t.D,t.Ga());return sh(this,this.h.then((function(){if(rh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return ih(t)&&e.uid==ih(t).uid?(xl(ih(t),e),t.da(e)):(th(t,r),ml(r),t.da(r))})).then((function(){ah(t)})))},e.Bb=function(){var e=this;return sh(this,this.h.then((function(){return e.b&&Nu(e.b.b),ih(e)?(th(e,null),ql(e.i).then((function(){ah(e)}))):xt()})))},e.Zc=function(){var e=this;return Kl(this.i,rh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=ih(e)&&t){n=ih(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return xl(ih(e),t),ih(e).I();(ih(e)||t)&&(th(e,t),t&&(ml(t),t.ha=e.D),e.b&&ku(e.b,e),ah(e))}}))},e.da=function(e){return zl(this.i,e)},e.mc=function(){ah(this),this.da(ih(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return nh(t,xt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(ih(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),sh(e,e.h.then((function(){!e.l&&G(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(oh(e)))})))}(this,(function(){e.next(ih(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(ih(r)):"function"==typeof e.next&&e.next(ih(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(ih(r)):"function"==typeof e.next&&e.next(ih(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return sh(this,this.h.then((function(){return ih(t)?ih(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return nh(t,Ws(t.a,Hs,{token:e}))})).then((function(e){var n=e.user;return Sl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ws(n.a,Vs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ws(n.a,vs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return nh(t,e.ka(t.a))}))},e.Sc=function(e){return Vr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=ih(e);if(t&&t.isAnonymous){var n=Gr({providerId:null,isNewUser:!1});return Gr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(e,e.a.Ab()).then((function(t){var n=t.user;return Sl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return ih(this)&&ih(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ih(this)&&Al(ih(this))},e.Pc=function(e){var t=this;V(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&pl(ih(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),sh(this,this.h.then((function(){t.l||G(t.s,e)&&e(oh(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(Vl("local"),e.a,this.ja),this.b&&(Cu(this.b,this),Nu(this.b.b)),Promise.resolve()},e.hc=function(e){return sh(this,function(e,t){return Ws(e,ms,{identifier:t,continueUri:Ir()?sr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Eo(e)},e.xb=function(e,t){var n=this;return sh(this,xt().then((function(){var e=new Si(t);if(!e.c)throw new S("argument-error",Ii+" must be true when sending sign in link to email");return Pi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return sh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return sh(this,this.a.Sa(e).then((function(e){return new ni(e)})))},e.kb=function(e){return sh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return sh(this,xt().then((function(){return void 0===t||fe(t)?{}:Pi(new Si(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return sh(this,Hu(this,e,t,y(this.ab,this)))},e.Vc=function(e,t){var n=this;return sh(this,xt().then((function(){var r=t||sr(),i=xo(e,r);if(!(r=Eo(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)})))},ch.prototype.render=function(){},ch.prototype.reset=function(){},ch.prototype.getResponse=function(){},ch.prototype.execute=function(){};var lh=null;function hh(e,t){return(t=dh(t))&&e.a[t]||null}function dh(e){return(e=void 0===e?1e12:e)?e.toString():null}function fh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=st(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function Ah(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function ph(){}function gh(){}uh.prototype.render=function(e,t){return this.a[this.b.toString()]=new fh(e,t),this.b++},uh.prototype.reset=function(e){var t=hh(this,e);e=dh(e),t&&e&&(t.delete(),delete this.a[e])},uh.prototype.getResponse=function(e){return(e=hh(this,e))?e.getResponse():null},uh.prototype.execute=function(e){(e=hh(this,e))&&e.execute()},fh.prototype.getResponse=function(){return Ah(this),this.b},fh.prototype.execute=function(){Ah(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},fh.prototype.delete=function(){Ah(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},qr(ph,"FACTOR_ID","phone"),gh.prototype.g=function(){return lh||(lh=new uh),xt(lh)},gh.prototype.c=function(){};var vh=null;function mh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bh=new me(_e,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Mr(3e4,6e4);mh.prototype.g=function(e){var t=this;return new bt((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),yh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete a[t.a]},xt(Pa(xe(bh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},mh.prototype.c=function(){this.b--};var wh=null;function _h(e,t,n,r,i,o,s){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(vh||(vh=new gh),s=vh):(wh||(wh=new mh),s=wh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!st(t)||!this.i&&st(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ha(e,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var u=this.a[kh];this.a[kh]=function(e){if(Eh(c,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=Sr(u,a);"function"==typeof t&&t(e)}};var l=this.a[Ch];this.a[Ch]=function(){if(Eh(c,null),"function"==typeof l)l();else if("string"==typeof l){var e=Sr(l,a);"function"==typeof e&&e()}}}var kh="callback",Ch="expired-callback",Sh="sitekey",xh="size";function Eh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Ih(e,t){return e.h.push(t),t.oa((function(){W(e.h,t)})),t}function Bh(e){if(e.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Dh(e,t,n){var r=!1;try{this.b=n||Wl.default.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Wl.default.SDK_VERSION?kr(Wl.default.SDK_VERSION,o):null,_h.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,T(E),r)}function Th(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Oh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Oh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=_h.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Ih(this,xt().then((function(){if(Ir()&&!vr())return Ar();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ws(e.s,Ts,{})})).then((function(t){e.a[Sh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Bh(this);var e=this;return Ih(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=st(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!at&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ft(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ct(o,a)),2<r.length&&dt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Bh(this);var e=this;return Ih(this,this.render().then((function(t){return new bt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Bh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Bh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=st(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},k(Dh,_h);var Oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Fh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Rh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Ph(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:A}}function Nh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Mh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Lh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){return!!t&&!(!t.ka||e&&t.providerId!==e)}}}function Uh(e,t){return A(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function jh(e){return A(e)&&"string"==typeof e.uid}function Qh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Hh(e,t){for(var n in t){var r=t[n].name;e[r]=qh(r,e[n],t[n].j)}}function Vh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){Th(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function zh(e,t,n,r){e[t]=qh(t,n,r)}function qh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Th(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Hh(Yl.prototype,{kb:{name:"applyActionCode",j:[Fh("code")]},Sa:{name:"checkActionCode",j:[Fh("code")]},ob:{name:"confirmPasswordReset",j:[Fh("code"),Fh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Fh("email"),Fh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Fh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Fh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Qh(Ph(),Nh(),"nextOrObserver"),Nh("opt_error",!0),Nh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Qh(Ph(),Nh(),"nextOrObserver"),Nh("opt_error",!0),Nh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Fh("email"),Qh(Ph("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Fh("email"),Ph("actionCodeSettings")]},yb:{name:"setPersistence",j:[Fh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Lh()]},Tc:{name:"signInWithCustomToken",j:[Fh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Fh("email"),Fh("password")]},Vc:{name:"signInWithEmailLink",j:[Fh("email"),Fh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Fh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Qh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof sl)}},Mh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Fh("url"),Ph("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Fh("code")]}}),Vh(Yl.prototype,{lc:{name:"languageCode",lb:Qh(Fh(),Mh(),"languageCode")},ti:{name:"tenantId",lb:Qh(Fh(),Mh(),"tenantId")}}),(Yl.Persistence=Vc).LOCAL="local",Yl.Persistence.SESSION="session",Yl.Persistence.NONE="none",Hh(sl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},rb:{name:"linkWithCredential",j:[Lh()]},Dc:{name:"linkWithPhoneNumber",j:[Fh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},ub:{name:"reauthenticateWithCredential",j:[Lh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Fh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Qh(Ph("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},cd:{name:"unlink",j:[Fh("provider")]},Cb:{name:"updateEmail",j:[Fh("email")]},Db:{name:"updatePassword",j:[Fh("password")]},ed:{name:"updatePhoneNumber",j:[Lh("phone")]},Eb:{name:"updateProfile",j:[Ph("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Fh("email"),Qh(Ph("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),Hh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Hh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Hh(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vh(ju.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Rh("appVerificationDisabledForTesting")}}),Hh(Qu.prototype,{confirm:{name:"confirm",j:[Fh("verificationCode")]}}),zh(ro,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[lo,Co,Bo,so],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Qh(Fh(),Ph(),"json")]),zh(So,"credential",(function(e,t){return new ko(e,t)}),[Fh("email"),Fh("password")]),Hh(ko.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(po.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),zh(po,"credential",go,[Qh(Fh(),Ph(),"token")]),zh(So,"credentialWithLink",xo,[Fh("email"),Fh("emailLink")]),Hh(vo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),zh(vo,"credential",mo,[Qh(Fh(),Ph(),"token")]),Hh(bo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),zh(bo,"credential",yo,[Qh(Fh(),Qh(Ph(),Mh()),"idToken"),Qh(Fh(),Mh(),"accessToken",!0)]),Hh(wo.prototype,{Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),zh(wo,"credential",_o,[Qh(Fh(),Ph(),"token"),Fh("secret",!0)]),Hh(Ao.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},credential:{name:"credential",j:[Qh(Fh(),Qh(Ph(),Mh()),"optionsOrIdToken"),Qh(Fh(),Mh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Hh(co.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(oo.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),zh(To,"credential",Oo,[Fh("verificationId"),Fh("verificationCode")]),Hh(To.prototype,{gb:{name:"verifyPhoneNumber",j:[Qh(Fh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Uh(e.session,to)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Uh(e.session,no)&&jh(e.multiFactorHint):e.session&&e.multiFactorUid?Uh(e.session,no)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Hh(Io.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(S.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(Qo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(jo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(Gu.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Hh(zu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),Hh($u.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Fh("displayName",!0)]},bd:{name:"unenroll",j:[Qh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:jh},Fh(),"multiFactorInfoIdentifier")]}}),Hh(Dh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),zh(gi,"parseLink",Ci,[Fh("link")]),zh(ph,"assertion",(function(e){return new Xu(e)}),[Lh("phone")]),function(){if(void 0===Wl.default||!Wl.default.INTERNAL||!Wl.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ii,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ri,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yl,AuthCredential:ro,Error:S};zh(e,"EmailAuthProvider",So,[]),zh(e,"FacebookAuthProvider",po,[]),zh(e,"GithubAuthProvider",vo,[]),zh(e,"GoogleAuthProvider",bo,[]),zh(e,"TwitterAuthProvider",wo,[]),zh(e,"OAuthProvider",Ao,[Fh("providerId")]),zh(e,"SAMLAuthProvider",fo,[Fh("providerId")]),zh(e,"PhoneAuthProvider",To,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Yl)}}]),zh(e,"RecaptchaVerifier",Dh,[Qh(Fh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Ph("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Wl.default.app.App)}}]),zh(e,"ActionCodeURL",gi,[]),zh(e,"PhoneMultiFactorGenerator",ph,[]),Wl.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Yl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Wl.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:y((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:y(e.nc,e),addAuthTokenListener:y(e.cc,e),removeAuthTokenListener:y(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Wl.default.registerVersion("@firebase/auth","0.16.8"),Wl.default.INTERNAL.extendNamespace({User:sl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var by=function(e,t){return(by=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function yy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}by(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function wy(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function _y(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function ky(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Cy=n("q/0M"),Sy=function(e,t){return(Sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function xy(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ey,Iy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},By=By||{},Dy=Iy||self;function Ty(){}function Oy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ry="closure_uid_"+(1e9*Math.random()>>>0),Py=0;function Ny(e,t,n){return e.call.apply(e.bind,arguments)}function My(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ly(e,t,n){return(Ly=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ny:My).apply(null,arguments)}function Uy(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jy(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Qy(){this.s=this.s,this.o=this.o}var Hy={};Qy.prototype.s=!1,Qy.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ry)&&e[Ry]||(e[Ry]=++Py)}(this);delete Hy[e]}},Qy.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},zy=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function qy(e){return Array.prototype.concat.apply([],arguments)}function Ky(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gy(e){return/^[\s\xa0]*$/.test(e)}var Wy,Yy=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Jy(e,t){return-1!=e.indexOf(t)}function Xy(e,t){return e<t?-1:e>t?1:0}e:{var Zy=Dy.navigator;if(Zy){var $y=Zy.userAgent;if($y){Wy=$y;break e}}Wy=""}function ew(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function tw(e){var t={};for(var n in e)t[n]=e[n];return t}var nw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rw(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<nw.length;o++)n=nw[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function iw(e){return iw[" "](e),e}iw[" "]=Ty;var ow,aw,sw=Jy(Wy,"Opera"),cw=Jy(Wy,"Trident")||Jy(Wy,"MSIE"),uw=Jy(Wy,"Edge"),lw=uw||cw,hw=Jy(Wy,"Gecko")&&!(Jy(Wy.toLowerCase(),"webkit")&&!Jy(Wy,"Edge"))&&!(Jy(Wy,"Trident")||Jy(Wy,"MSIE"))&&!Jy(Wy,"Edge"),dw=Jy(Wy.toLowerCase(),"webkit")&&!Jy(Wy,"Edge");function fw(){var e=Dy.document;return e?e.documentMode:void 0}e:{var Aw="",pw=(aw=Wy,hw?/rv:([^\);]+)(\)|;)/.exec(aw):uw?/Edge\/([\d\.]+)/.exec(aw):cw?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(aw):dw?/WebKit\/(\S+)/.exec(aw):sw?/(?:Version)[ \/]?(\S+)/.exec(aw):void 0);if(pw&&(Aw=pw?pw[1]:""),cw){var gw=fw();if(null!=gw&&gw>parseFloat(Aw)){ow=String(gw);break e}}ow=Aw}var vw={},mw=Dy.document&&cw&&(fw()||parseInt(ow,10))||void 0,bw=function(){if(!Dy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dy.addEventListener("test",Ty,t),Dy.removeEventListener("test",Ty,t)}catch(n){}return e}();function yw(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ww(e,t){if(yw.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hw){e:{try{iw(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:_w[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ww.Z.h.call(this)}}yw.prototype.h=function(){this.defaultPrevented=!0},jy(ww,yw);var _w={2:"touch",3:"pen",4:"mouse"};ww.prototype.h=function(){ww.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var kw="closure_listenable_"+(1e6*Math.random()|0),Cw=0;function Sw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cw,this.ca=this.fa=!1}function xw(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ew(e){this.src=e,this.g={},this.h=0}function Iw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Vy(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Bw(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Ew.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Bw(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Sw(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Dw="closure_lm_"+(1e6*Math.random()|0),Tw={};function Ow(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Uw(r),t&&t[kw]?t.O(n,r,Fy(i)?!!i.capture:!!i,o):Fw(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ow(e,t[o],n,r,i);return null}return n=Uw(n),e&&e[kw]?e.N(t,n,Fy(r)?!!r.capture:!!r,i):Fw(e,t,n,!1,r,i)}function Fw(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Fy(i)?!!i.capture:!!i,s=Mw(e);if(s||(e[Dw]=s=new Ew(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Nw;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bw||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pw(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rw(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[kw])Iw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mw(t))?(Iw(n,e),0==n.h&&(n.src=null,t[Dw]=null)):xw(e)}}}function Pw(e){return e in Tw?Tw[e]:Tw[e]="on"+e}function Nw(e,t){if(e.ca)e=!0;else{t=new ww(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Rw(e),e=n.call(r,t)}return e}function Mw(e){return(e=e[Dw])instanceof Ew?e:null}var Lw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uw(e){return"function"==typeof e?e:(e[Lw]||(e[Lw]=function(t){return e.handleEvent(t)}),e[Lw])}function jw(){Qy.call(this),this.i=new Ew(this),this.P=this,this.I=null}function Qw(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new yw(t,e);else if(t instanceof yw)t.target=t.target||e;else{var i=t;rw(t=new yw(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Hw(a,r,!0,t)&&i}if(i=Hw(a=t.g=e,r,!0,t)&&i,i=Hw(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Hw(a=t.g=n[o],r,!1,t)&&i}function Hw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,c=a.ia||a.src;a.fa&&Iw(e.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}jy(jw,Qy),jw.prototype[kw]=!0,jw.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=Fy(i)?!!i.capture:!!i,r=Uw(r),t&&t[kw]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Bw(a=t.g[n],r,i,o))&&(xw(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=Mw(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Bw(n,r,i,o)),(r=-1<t?n[t]:null)&&Rw(r))}(this,e,t,n,r)},jw.prototype.M=function(){if(jw.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xw(n[r]);delete t.g[e],t.h--}}this.I=null},jw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vw=Dy.JSON.stringify;function zw(){var e=Zw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qw,Kw=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Gw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Gw=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())((function(){return new Ww}),(function(e){return e.reset()})),Ww=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Yw(e){Dy.setTimeout((function(){throw e}),0)}function Jw(e,t){qw||function(){var e=Dy.Promise.resolve(void 0);qw=function(){e.then($w)}}(),Xw||(qw(),Xw=!0),Zw.add(e,t)}var Xw=!1,Zw=new Kw;function $w(){for(var e;e=zw();){try{e.h.call(e.g)}catch(n){Yw(n)}var t=Gw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xw=!1}function e_(e,t){jw.call(this),this.h=e||1,this.g=t||Dy,this.j=Ly(this.kb,this),this.l=Date.now()}function t_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function n_(e,t,n){if("function"==typeof e)n&&(e=Ly(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ly(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dy.setTimeout(e,t||0)}function r_(e){e.g=n_((function(){e.g=null,e.i&&(e.i=!1,r_(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jy(e_,jw),(Ey=e_.prototype).da=!1,Ey.S=null,Ey.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qw(this,"tick"),this.da&&(t_(this),this.start()))}},Ey.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ey.M=function(){e_.Z.M.call(this),t_(this),delete this.g};var i_=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Sy(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:r_(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Dy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Qy);function o_(e){Qy.call(this),this.h=e,this.g={}}jy(o_,Qy);var a_=[];function s_(e,t,n,r){Array.isArray(n)||(n&&(a_[0]=n.toString()),n=a_);for(var i=0;i<n.length;i++){var o=Ow(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function c_(e){ew(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rw(e)}),e),e.g={}}function u_(){this.g=!0}function l_(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Vw(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}o_.prototype.M=function(){o_.Z.M.call(this),c_(this)},o_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},u_.prototype.Aa=function(){this.g=!1},u_.prototype.info=function(){};var h_={},d_=null;function f_(){return d_=d_||new jw}function A_(e){yw.call(this,h_.Ma,e)}function p_(e){var t=f_();Qw(t,new A_(t,e))}function g_(e,t){yw.call(this,h_.STAT_EVENT,e),this.stat=t}function v_(e){var t=f_();Qw(t,new g_(t,e))}function m_(e,t){yw.call(this,h_.Na,e),this.size=t}function b_(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Dy.setTimeout((function(){e()}),t)}h_.Ma="serverreachability",jy(A_,yw),h_.STAT_EVENT="statevent",jy(g_,yw),h_.Na="timingevent",jy(m_,yw);var y_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},w_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function __(){}function k_(){}__.prototype.h=null;var C_,S_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function x_(){yw.call(this,"d")}function E_(){yw.call(this,"c")}function I_(){}function B_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new o_(this),this.P=T_,this.W=new e_(e=lw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new D_}function D_(){this.i=null,this.g="",this.h=!1}jy(x_,yw),jy(E_,yw),jy(I_,__),I_.prototype.g=function(){return new XMLHttpRequest},I_.prototype.i=function(){return{}},C_=new I_;var T_=45e3,O_={},F_={};function R_(e,t,n){e.K=1,e.v=rk(X_(t)),e.s=n,e.U=!0,P_(e,null)}function P_(e,t){e.F=Date.now(),U_(e),e.A=X_(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),gk(n.h,"t",r),e.C=0,n=e.l.H,e.h=new D_,e.g=vC(e.l,n?t:null,!e.s),0<e.O&&(e.L=new i_(Ly(e.Ia,e,e.g),e.O)),s_(e.V,e.g,"readystatechange",e.gb),t=e.H?tw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),p_(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var u=s[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function N_(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function M_(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=L_(e,n))==F_){4==t&&(e.o=4,v_(14),i=!1),l_(e.j,e.m,null,"[Incomplete Response]");break}if(r==O_){e.o=4,v_(15),l_(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}l_(e.j,e.m,r,null),z_(e,r)}N_(e)&&r!=F_&&r!=O_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,v_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uC(t),t.L=!0,v_(11))):(l_(e.j,e.m,n,"[Invalid Chunked Response]"),V_(e),H_(e))}function L_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?F_:(n=Number(t.substring(n,r)),isNaN(n)?O_:(r+=1)+n>t.length?F_:(t=t.substr(r,n),e.C=r+n,t))}function U_(e){e.Y=Date.now()+e.P,j_(e,e.P)}function j_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=b_(Ly(e.eb,e),t)}function Q_(e){e.B&&(Dy.clearTimeout(e.B),e.B=null)}function H_(e){0==e.l.G||e.I||dC(e.l,e)}function V_(e){Q_(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,t_(e.W),c_(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function z_(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||kk(n.i,e)))if(n.I=e.N,!e.J&&kk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hC(n),eC(n)}cC(n),v_(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=b_(Ly(n.ab,n),6e3));if(1>=_k(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else AC(n,11)}else if((e.J||n.g==e)&&hC(n),!Gy(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(n.K=r=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Jy(l,"spdy")||Jy(l,"quic")||Jy(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ck(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,nk(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=gC(r,r.H?r.la:null,r.W),f.J){Sk(r.i,f);var A=f,p=r.K;p&&A.setTimeout(p),A.B&&(Q_(A),U_(A)),r.g=f}else sC(r);0<n.l.length&&rC(n)}else"stop"!=o[0]&&"close"!=o[0]||AC(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?AC(n,7):$k(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}p_(4)}catch(o){}}function q_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Oy(e)||"string"==typeof e)zy(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Oy(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Oy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function K_(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof K_)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function G_(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];W_(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)W_(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function W_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ey=B_.prototype).setTimeout=function(e){this.P=e},Ey.gb=function(e){e=e.target;var t=this.L;t&&3==Wk(e)?t.l():this.Ia(e)},Ey.Ia=function(e){try{if(e==this.g)e:{var t=Wk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||lw||this.g&&(this.h.h||this.g.ga()||Yk(this.g)))){this.I||4!=t||7==n||p_(8==n||0>=r?3:2),Q_(this);var i=this.g.ba();this.N=i;t:if(N_(this)){var o=Yk(this.g);e="";var a=o.length,s=4==Wk(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){V_(this),H_(this);var c="";break t}this.h.i=new Dy.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gy(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,v_(12),V_(this),H_(this);break e}l_(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,z_(this,i)}this.U?(M_(this,t,c),lw&&this.i&&3==t&&(s_(this.V,this.W,"tick",this.fb),this.W.start())):(l_(this.j,this.m,c,null),z_(this,c)),4==t&&V_(this),this.i&&!this.I&&(4==t?dC(this.l,this):(this.i=!1,U_(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,v_(12)):(this.o=0,v_(13)),V_(this),H_(this)}}}catch(t){}},Ey.fb=function(){if(this.g){var e=Wk(this.g),t=this.g.ga();this.C<t.length&&(Q_(this),M_(this,e,t),this.i&&4!=e&&U_(this))}},Ey.cancel=function(){this.I=!0,V_(this)},Ey.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(p_(3),v_(17)),V_(this),this.o=2,H_(this)):j_(this,this.Y-e)},(Ey=K_.prototype).R=function(){G_(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ey.T=function(){return G_(this),this.g.concat()},Ey.get=function(e,t){return W_(this.h,e)?this.h[e]:t},Ey.set=function(e,t){W_(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ey.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Y_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function J_(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof J_){this.g=void 0!==t?t:e.g,Z_(this,e.j),this.s=e.s,$_(this,e.i),ek(this,e.m),this.l=e.l,t=e.h;var n=new dk;n.i=t.i,t.g&&(n.g=new K_(t.g),n.h=t.h),tk(this,n),this.o=e.o}else e&&(n=String(e).match(Y_))?(this.g=!!t,Z_(this,n[1]||"",!0),this.s=ik(n[2]||""),$_(this,n[3]||"",!0),ek(this,n[4]),this.l=ik(n[5]||"",!0),tk(this,n[6]||"",!0),this.o=ik(n[7]||"")):(this.g=!!t,this.h=new dk(null,this.g))}function X_(e){return new J_(e)}function Z_(e,t,n){e.j=n?ik(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $_(e,t,n){e.i=n?ik(t,!0):t}function ek(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tk(e,t,n){t instanceof dk?(e.h=t,function(e,t){t&&!e.j&&(fk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ak(this,t),gk(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ok(t,lk)),e.h=new dk(t,e.g))}function nk(e,t,n){e.h.set(t,n)}function rk(e){return nk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ik(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ok(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ak),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ak(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}J_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ok(t,sk,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ok(t,sk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ok(n,"/"==n.charAt(0)?uk:ck,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ok(n,hk)),e.join("")};var sk=/[#\/\?@]/g,ck=/[#\?:]/g,uk=/[#\?]/g,lk=/[#\?@]/g,hk=/#/g;function dk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fk(e){e.g||(e.g=new K_,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ak(e,t){fk(e),t=vk(e,t),W_(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,W_((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&G_(e)))}function pk(e,t){return fk(e),t=vk(e,t),W_(e.g.h,t)}function gk(e,t,n){Ak(e,t),0<n.length&&(e.i=null,e.g.set(vk(e,t),Ky(n)),e.h+=n.length)}function vk(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ey=dk.prototype).add=function(e,t){fk(this),this.i=null,e=vk(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ey.forEach=function(e,t){fk(this),this.g.forEach((function(n,r){zy(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ey.T=function(){fk(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ey.R=function(e){fk(this);var t=[];if("string"==typeof e)pk(this,e)&&(t=qy(t,this.g.get(vk(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=qy(t,e[n])}return t},Ey.set=function(e,t){return fk(this),this.i=null,pk(this,e=vk(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ey.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ey.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var mk=function(e,t){this.h=e,this.g=t};function bk(e){this.l=e||yk,e=Dy.PerformanceNavigationTiming?0<(e=Dy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Dy.g&&Dy.g.Ea&&Dy.g.Ea()&&Dy.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yk=10;function wk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _k(e){return e.h?1:e.g?e.g.size:0}function kk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ck(e,t){e.g?e.g.add(t):e.h=t}function Sk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xk(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=xy(e.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ky(e.i)}function Ek(){}function Ik(){this.g=new Ek}function Bk(e,t,n){var r=n||"";try{q_(e,(function(e,n){var i=e;Fy(e)&&(i=Vw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(jR){throw t.push(r+"type="+encodeURIComponent("_badmap")),jR}}function Dk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Tk(e){this.l=e.$b||null,this.j=e.ib||!1}function Ok(e,t){jw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bk.prototype.cancel=function(){var e,t;if(this.i=xk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=xy(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Ek.prototype.stringify=function(e){return Dy.JSON.stringify(e,void 0)},Ek.prototype.parse=function(e){return Dy.JSON.parse(e,void 0)},jy(Tk,__),Tk.prototype.g=function(){return new Ok(this.l,this.j)},Tk.prototype.i=function(e){return function(){return e}}({}),jy(Ok,jw);var Fk=0;function Rk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Pk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nk(e)}function Nk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ey=Ok.prototype).open=function(e,t){if(this.readyState!=Fk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nk(this)},Ey.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dy).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ey.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pk(this)),this.readyState=Fk},Ey.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nk(this)),this.g&&(this.readyState=3,Nk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ey.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pk(this):Nk(this),3==this.readyState&&Rk(this)}},Ey.Ua=function(e){this.g&&(this.response=this.responseText=e,Pk(this))},Ey.Ta=function(e){this.g&&(this.response=e,Pk(this))},Ey.ha=function(){this.g&&Pk(this)},Ey.setRequestHeader=function(e,t){this.v.append(e,t)},Ey.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ey.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ok.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mk=Dy.JSON.parse;function Lk(e){jw.call(this),this.headers=new K_,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Uk,this.K=this.L=!1}jy(Lk,jw);var Uk="",jk=/^https?$/i,Qk=["POST","PUT"];function Hk(e){return"content-type"==e.toLowerCase()}function Vk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zk(e),Kk(e)}function zk(e){e.D||(e.D=!0,Qw(e,"complete"),Qw(e,"error"))}function qk(e){if(e.h&&void 0!==By&&(!e.C[1]||4!=Wk(e)||2!=e.ba()))if(e.v&&4==Wk(e))n_(e.Fa,0,e);else if(Qw(e,"readystatechange"),4==Wk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Y_)[1]||null;if(!o&&Dy.self&&Dy.self.location){var a=Dy.self.location.protocol;o=a.substr(0,a.length-1)}i=!jk.test(o?o.toLowerCase():"")}t=i}if(t)Qw(e,"complete"),Qw(e,"success");else{e.m=6;try{var s=2<Wk(e)?e.g.statusText:""}catch(c){s=""}e.j=s+" ["+e.ba()+"]",zk(e)}}finally{Kk(e)}}}function Kk(e,t){if(e.g){Gk(e);var n=e.g,r=e.C[0]?Ty:null;e.g=null,e.C=null,t||Qw(e,"ready");try{n.onreadystatechange=r}catch(jR){}}}function Gk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dy.clearTimeout(e.A),e.A=null)}function Wk(e){return e.g?e.g.readyState:0}function Yk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Uk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ew(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):nk(e,t,n))}function Xk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zk(e){this.za=0,this.l=[],this.h=new u_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xk("baseRetryDelayMs",5e3,e),this.$a=Xk("retryDelaySeedMs",1e4,e),this.Ya=Xk("forwardChannelMaxRetries",2,e),this.ra=Xk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bk(e&&e.concurrentRequestLimit),this.Ca=new Ik,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function $k(e){if(tC(e),3==e.G){var t=e.V++,n=X_(e.F);nk(n,"SID",e.J),nk(n,"RID",t),nk(n,"TYPE","terminate"),oC(e,n),(t=new B_(e,e.h,t,void 0)).K=2,t.v=rk(X_(n)),n=!1,Dy.navigator&&Dy.navigator.sendBeacon&&(n=Dy.navigator.sendBeacon(t.v.toString(),"")),!n&&Dy.Image&&((new Image).src=t.v,n=!0),n||(t.g=vC(t.l,null),t.g.ea(t.v)),t.F=Date.now(),U_(t)}pC(e)}function eC(e){e.g&&(uC(e),e.g.cancel(),e.g=null)}function tC(e){eC(e),e.u&&(Dy.clearTimeout(e.u),e.u=null),hC(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Dy.clearTimeout(e.m),e.m=null)}function nC(e,t){e.l.push(new mk(e.Za++,t)),3==e.G&&rC(e)}function rC(e){wk(e.i)||e.m||(e.m=!0,Jw(e.Ha,e),e.C=0)}function iC(e,t){var n;n=t?t.m:e.V++;var r=X_(e.F);nk(r,"SID",e.J),nk(r,"RID",n),nk(r,"AID",e.U),oC(e,r),e.o&&e.s&&Jk(r,e.o,e.s),n=new B_(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=aC(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ck(e.i,n),R_(n,r,t)}function oC(e,t){e.j&&q_({},(function(e,n){nk(t,n,e)}))}function aC(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ly(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var u=i[c].h,l=i[c].g;if(0>(u-=o))o=Math.max(0,i[c].h-100),s=!1;else try{Bk(l,a,"req"+u+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function sC(e){e.g||e.u||(e.Y=1,Jw(e.Ga,e),e.A=0)}function cC(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=b_(Ly(e.Ga,e),fC(e,e.A)),e.A++,0))}function uC(e){null!=e.B&&(Dy.clearTimeout(e.B),e.B=null)}function lC(e){e.g=new B_(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=X_(e.oa);nk(t,"RID","rpc"),nk(t,"SID",e.J),nk(t,"CI",e.N?"0":"1"),nk(t,"AID",e.U),oC(e,t),nk(t,"TYPE","xmlhttp"),e.o&&e.s&&Jk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rk(X_(t)),n.s=null,n.U=!0,P_(n,e)}function hC(e){null!=e.v&&(Dy.clearTimeout(e.v),e.v=null)}function dC(e,t){var n=null;if(e.g==t){hC(e),uC(e),e.g=null;var r=2}else{if(!kk(e.i,t))return;n=t.D,Sk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qw(r=f_(),new m_(r,n,t,i)),rC(e)}else sC(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(_k(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=b_(Ly(e.Ha,e,t),fC(e,e.C)),e.C++,0)))}(e,t)||2==r&&cC(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:AC(e,5);break;case 4:AC(e,10);break;case 3:AC(e,6);break;default:AC(e,2)}}function fC(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function AC(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ly(e.jb,e);n||(n=new J_("//www.google.com/images/cleardot.gif"),Dy.location&&"http"==Dy.location.protocol||Z_(n,"https"),rk(n)),function(e,t){var n=new u_;if(Dy.Image){var r=new Image;r.onload=Uy(Dk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Uy(Dk,n,r,"TestLoadImage: error",!1,t),r.onabort=Uy(Dk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Uy(Dk,n,r,"TestLoadImage: timeout",!1,t),Dy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else v_(2);e.G=0,e.j&&e.j.va(t),pC(e),tC(e)}function pC(e){e.G=0,e.I=-1,e.j&&(0==xk(e.i).length&&0==e.l.length||(e.i.i.length=0,Ky(e.l),e.l.length=0),e.j.ua())}function gC(e,t,n){var r=function(e){return e instanceof J_?X_(e):new J_(e,void 0)}(n);if(""!=r.i)t&&$_(r,t+"."+r.i),ek(r,r.m);else{var i=Dy.location;r=function(e,t,n,r){var i=new J_(null,void 0);return e&&Z_(i,e),t&&$_(i,t),n&&ek(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ew(e.aa,(function(e,t){nk(r,t,e)})),n=e.sa,(t=e.D)&&n&&nk(r,t,n),nk(r,"VER",e.ma),oC(e,r),r}function vC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Lk(n&&e.Ba&&!e.qa?new Tk({ib:!0}):e.qa)).L=e.H,t}function mC(){}function bC(){if(cw&&!(10<=Number(mw)))throw Error("Environmental error: no available transport.")}function yC(e,t){jw.call(this),this.g=new Zk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Gy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gy(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new kC(this)}function wC(e){x_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _C(){E_.call(this),this.status=1}function kC(e){this.g=e}(Ey=Lk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():C_.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:C_),this.g.onreadystatechange=Ly(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Vk(this,o)}e=n||"";var i=new K_(this.headers);r&&q_(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Hk,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Dy.FormData&&e instanceof Dy.FormData,!(0<=Vy(Qk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gk(this),0<this.B&&((this.K=function(e){return cw&&function(){return e=vw,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Yy(String(ow)).split("."),n=Yy("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Xy(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Xy(0==o[2].length,0==a[2].length)||Xy(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ly(this.pa,this)):this.A=n_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Vk(this,o)}},Ey.pa=function(){void 0!==By&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qw(this,"timeout"),this.abort(8))},Ey.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qw(this,"complete"),Qw(this,"abort"),Kk(this))},Ey.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kk(this,!0)),Lk.Z.M.call(this)},Ey.Fa=function(){this.s||(this.F||this.v||this.l?qk(this):this.cb())},Ey.cb=function(){qk(this)},Ey.ba=function(){try{return 2<Wk(this)?this.g.status:-1}catch(aw){return-1}},Ey.ga=function(){try{return this.g?this.g.responseText:""}catch(aw){return""}},Ey.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mk(t)}},Ey.Da=function(){return this.m},Ey.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ey=Zk.prototype).ma=8,Ey.G=1,Ey.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ey.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new B_(this,this.h,e,void 0),n=this.s;if(this.P&&(n?rw(n=tw(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=aC(this,t,r),nk(i=X_(this.F),"RID",e),nk(i,"CVER",22),this.D&&nk(i,"X-HTTP-Session-Id",this.D),oC(this,i),this.o&&n&&Jk(i,this.o,n),Ck(this.i,t),this.Ra&&nk(i,"TYPE","init"),this.ja?(nk(i,"$req",r),nk(i,"SID","null"),t.$=!0,R_(t,i,null)):R_(t,i,r),this.G=2}}else 3==this.G&&(e?iC(this,e):0==this.l.length||wk(this.i)||iC(this))},Ey.Ga=function(){if(this.u=null,lC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=b_(Ly(this.bb,this),e)}},Ey.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,v_(10),eC(this),lC(this))},Ey.ab=function(){null!=this.v&&(this.v=null,eC(this),cC(this),v_(19))},Ey.jb=function(e){e?(this.h.info("Successfully pinged google.com"),v_(2)):(this.h.info("Failed to ping google.com"),v_(1))},(Ey=mC.prototype).xa=function(){},Ey.wa=function(){},Ey.va=function(){},Ey.ua=function(){},Ey.Oa=function(){},bC.prototype.g=function(e,t){return new yC(e,t)},jy(yC,jw),yC.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Jw(Ly(e.hb,e,t))),v_(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gC(e,null,e.W),rC(e)},yC.prototype.close=function(){$k(this.g)},yC.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,nC(this.g,t)}else this.v?((t={}).__data__=Vw(e),nC(this.g,t)):nC(this.g,e)},yC.prototype.M=function(){this.g.j=null,delete this.j,$k(this.g),delete this.g,yC.Z.M.call(this)},jy(wC,x_),jy(_C,E_),jy(kC,mC),kC.prototype.xa=function(){Qw(this.g,"a")},kC.prototype.wa=function(e){Qw(this.g,new wC(e))},kC.prototype.va=function(e){Qw(this.g,new _C(e))},kC.prototype.ua=function(){Qw(this.g,"b")},bC.prototype.createWebChannel=bC.prototype.g,yC.prototype.send=yC.prototype.u,yC.prototype.open=yC.prototype.m,yC.prototype.close=yC.prototype.close,y_.NO_ERROR=0,y_.TIMEOUT=8,y_.HTTP_ERROR=6,w_.COMPLETE="complete",k_.EventType=S_,S_.OPEN="a",S_.CLOSE="b",S_.ERROR="c",S_.MESSAGE="d",jw.prototype.listen=jw.prototype.N,Lk.prototype.listenOnce=Lk.prototype.O,Lk.prototype.getLastError=Lk.prototype.La,Lk.prototype.getLastErrorCode=Lk.prototype.Da,Lk.prototype.getStatus=Lk.prototype.ba,Lk.prototype.getResponseJson=Lk.prototype.Qa,Lk.prototype.getResponseText=Lk.prototype.ga,Lk.prototype.send=Lk.prototype.ea;var CC=y_,SC=w_,xC=h_,EC=Tk,IC=k_,BC=Lk,DC=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();DC.o=-1;var TC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},OC=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return yy(t,e),t}(Error),FC=new Cy.Logger("@firebase/firestore");function RC(){return FC.logLevel}function PC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(FC.logLevel<=Cy.LogLevel.DEBUG){var r=t.map(LC);FC.debug.apply(FC,ky(["Firestore (8.10.1): "+e],r))}}function NC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(FC.logLevel<=Cy.LogLevel.ERROR){var r=t.map(LC);FC.error.apply(FC,ky(["Firestore (8.10.1): "+e],r))}}function MC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(FC.logLevel<=Cy.LogLevel.WARN){var r=t.map(LC);FC.warn.apply(FC,ky(["Firestore (8.10.1): "+e],r))}}function LC(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(jR){return e}}function UC(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw NC(t),new Error(t)}function jC(e,t){e||UC()}function QC(e,t){return e}function HC(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var VC=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=HC(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function zC(e,t){return e<t?-1:e>t?1:0}function qC(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function KC(e){return e+"\0"}var GC=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new OC(TC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new OC(TC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new OC(TC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new OC(TC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?zC(this.nanoseconds,e.nanoseconds):zC(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),WC=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new GC(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function YC(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function JC(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function XC(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ZC=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&UC(),void 0===n?n=e.length-t:n>e.length-t&&UC(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),$C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new OC(TC.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(ZC),eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return eS.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new OC(TC.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new OC(TC.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new OC(TC.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new OC(TC.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(ZC),nS=function(){function e(e){this.fields=e,e.sort(tS.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return qC(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),rS=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return zC(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();rS.EMPTY_BYTE_STRING=new rS("");var iS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oS(e){if(jC(!!e),"string"==typeof e){var t=0,n=iS.exec(e);if(jC(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:aS(e.seconds),nanos:aS(e.nanos)}}function aS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sS(e){return"string"==typeof e?rS.fromBase64String(e):rS.fromUint8Array(e)}function cS(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uS(e){var t=oS(e.mapValue.fields.__local_write_time__.timestampValue);return new GC(t.seconds,t.nanos)}function lS(e){return null==e}function hS(e){return 0===e&&1/e==-1/0}function dS(e){return"number"==typeof e&&Number.isInteger(e)&&!hS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var fS=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e($C.fromString(t))},e.fromName=function(t){return new e($C.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===$C.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return $C.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new $C(t.slice()))},e}();function AS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cS(e)?4:10:UC()}function pS(e,t){var n=AS(e);if(n!==AS(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uS(e).isEqual(uS(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oS(e.timestampValue),r=oS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sS(e.bytesValue).isEqual(sS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return aS(e.geoPointValue.latitude)===aS(t.geoPointValue.latitude)&&aS(e.geoPointValue.longitude)===aS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return aS(e.integerValue)===aS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=aS(e.doubleValue),r=aS(t.doubleValue);return n===r?hS(n)===hS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qC(e.arrayValue.values||[],t.arrayValue.values||[],pS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(YC(n)!==YC(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pS(n[i],r[i])))return!1;return!0}(e,t);default:return UC()}}function gS(e,t){return void 0!==(e.values||[]).find((function(e){return pS(e,t)}))}function vS(e,t){var n=AS(e),r=AS(t);if(n!==r)return zC(n,r);switch(n){case 0:return 0;case 1:return zC(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=aS(e.integerValue||e.doubleValue),r=aS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return mS(e.timestampValue,t.timestampValue);case 4:return mS(uS(e),uS(t));case 5:return zC(e.stringValue,t.stringValue);case 6:return function(e,t){var n=sS(e),r=sS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zC(n[i],r[i]);if(0!==o)return o}return zC(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zC(aS(e.latitude),aS(t.latitude));return 0!==n?n:zC(aS(e.longitude),aS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=vS(n[i],r[i]);if(o)return o}return zC(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=zC(r[a],o[a]);if(0!==s)return s;var c=vS(n[r[a]],i[o[a]]);if(0!==c)return c}return zC(r.length,o.length)}(e.mapValue,t.mapValue);default:throw UC()}}function mS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zC(e,t);var n=oS(e),r=oS(t),i=zC(n.seconds,r.seconds);return 0!==i?i:zC(n.nanos,r.nanos)}function bS(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=oS(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sS(t.bytesValue).toBase64():"referenceValue"in t?fS.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):UC();var n}(e)}function yS(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function wS(e){return!!e&&"integerValue"in e}function _S(e){return!!e&&"arrayValue"in e}function kS(e){return!!e&&"nullValue"in e}function CS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function SS(e){return!!e&&"mapValue"in e}function xS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return JC(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xS(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ES=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!SS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xS(t)},e.prototype.setAll=function(e){var t=this,n=tS.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=xS(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());SS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return pS(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];SS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){JC(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(xS(this.value))},e}();function IS(e){var t=[];return JC(e.fields,(function(e,n){var r=new tS([e]);if(SS(n)){var i=IS(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new nS(t)}var BS=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,WC.min(),ES.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ES.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ES.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ES.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ES.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),DS=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function TS(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new DS(e,t,n,r,i,o,a)}function OS(e){var t=QC(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+bS(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),lS(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=qS(t.startAt)),t.endAt&&(n+="|ub:",n+=qS(t.endAt)),t.h=n}return t.h}function FS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!GS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!pS(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!YS(e.startAt,t.startAt)&&YS(e.endAt,t.endAt)}function RS(e){return fS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var PS=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return yy(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new NS(e,n,r):"array-contains"===n?new jS(e,r):"in"===n?new QS(e,r):"not-in"===n?new HS(e,r):"array-contains-any"===n?new VS(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new MS(e,n):new LS(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(vS(t,this.value)):null!==t&&AS(this.value)===AS(t)&&this.m(vS(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return UC()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),NS=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=fS.fromName(r.referenceValue),i}return yy(t,e),t.prototype.matches=function(e){var t=fS.comparator(e.key,this.key);return this.m(t)},t}(PS),MS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=US(0,n),r}return yy(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(PS),LS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=US(0,n),r}return yy(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(PS);function US(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return fS.fromName(e.referenceValue)}))}var jS=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return yy(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return _S(t)&&gS(t.arrayValue,this.value)},t}(PS),QS=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return yy(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&gS(this.value.arrayValue,t)},t}(PS),HS=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return yy(t,e),t.prototype.matches=function(e){if(gS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gS(this.value.arrayValue,t)},t}(PS),VS=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return yy(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!_S(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gS(t.value.arrayValue,e)}))},t}(PS),zS=function(e,t){this.position=e,this.before=t};function qS(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return bS(e)})).join(",")}var KS=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function GS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function WS(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?fS.comparator(fS.fromName(a.referenceValue),n.key):vS(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function YS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pS(e.position[n],t.position[n]))return!1;return!0}var JS=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function XS(e,t,n,r,i,o,a,s){return new JS(e,t,n,r,i,o,a,s)}function ZS(e){return new JS(e)}function $S(e){return!lS(e.limit)&&"F"===e.limitType}function ex(e){return!lS(e.limit)&&"L"===e.limitType}function tx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function nx(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function rx(e){return null!==e.collectionGroup}function ix(e){var t=QC(e);if(null===t.p){t.p=[];var n=nx(t),r=tx(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new KS(n)),t.p.push(new KS(tS.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new KS(tS.keyField(),c))}}}return t.p}function ox(e){var t=QC(e);if(!t.T)if("F"===t.limitType)t.T=TS(t.path,t.collectionGroup,ix(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ix(t);r<i.length;r++){var o=i[r];n.push(new KS(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new zS(t.endAt.position,!t.endAt.before):null,s=t.startAt?new zS(t.startAt.position,!t.startAt.before):null;t.T=TS(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.T}function ax(e,t,n){return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sx(e,t){return FS(ox(e),ox(t))&&e.limitType===t.limitType}function cx(e){return OS(ox(e))+"|lt:"+e.limitType}function ux(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+bS(t.value);var t})).join(", ")+"]"),lS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+qS(e.startAt)),e.endAt&&(t+=", endAt: "+qS(e.endAt)),"Target("+t+")"}(ox(e))+"; limitType="+e.limitType+")"}function lx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!WS(e.startAt,ix(e),t)||e.endAt&&WS(e.endAt,ix(e),t))}(e,t)}function hx(e){return function(t,n){for(var r=!1,i=0,o=ix(e);i<o.length;i++){var a=o[i],s=dx(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function dx(e,t,n){var r=e.field.isKeyField()?fS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vS(r,i):UC()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return UC()}}function fx(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hS(t)?"-0":t}}function Ax(e){return{integerValue:""+e}}function px(e,t){return dS(t)?Ax(t):fx(e,t)}var gx=function(){this._=void 0};function vx(e,t,n){return e instanceof yx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wx?_x(e,t):e instanceof kx?Cx(e,t):function(e,t){var n=bx(e,t),r=xx(n)+xx(e.A);return wS(n)&&wS(e.A)?Ax(r):fx(e.R,r)}(e,t)}function mx(e,t,n){return e instanceof wx?_x(e,t):e instanceof kx?Cx(e,t):n}function bx(e,t){return e instanceof Sx?wS(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t}(gx),wx=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return yy(t,e),t}(gx);function _x(e,t){for(var n=Ex(t),r=function(e){n.some((function(t){return pS(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var kx=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return yy(t,e),t}(gx);function Cx(e,t){for(var n=Ex(t),r=function(e){n=n.filter((function(t){return!pS(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sx=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return yy(t,e),t}(gx);function xx(e){return aS(e.integerValue||e.doubleValue)}function Ex(e){return _S(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ix=function(e,t){this.field=e,this.transform=t},Bx=function(e,t){this.version=e,this.transformResults=t},Dx=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Tx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ox=function(){};function Fx(e,t,n){e instanceof Lx?function(e,t,n){var r=e.value.clone(),i=Qx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ux?function(e,t,n){if(Tx(e.precondition,t)){var r=Qx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rx(e,t,n){e instanceof Lx?function(e,t,n){if(Tx(e.precondition,t)){var r=e.value.clone(),i=Hx(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Mx(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ux?function(e,t,n){if(Tx(e.precondition,t)){var r=Hx(e.fieldTransforms,n,t),i=t.data;i.setAll(jx(e)),i.setAll(r),t.convertToFoundDocument(Mx(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Tx(e.precondition,t)&&t.convertToNoDocument(WC.min())}(e,t)}function Px(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=bx(o.transform,a||null);null!=s&&(null==n&&(n=ES.empty()),n.set(o.field,s))}return n||null}function Nx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qC(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wx&&t instanceof wx||e instanceof kx&&t instanceof kx?qC(e.elements,t.elements,pS):e instanceof Sx&&t instanceof Sx?pS(e.A,t.A):e instanceof yx&&t instanceof yx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Mx(e){return e.isFoundDocument()?e.version:WC.min()}var Lx=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return yy(t,e),t}(Ox),Ux=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return yy(t,e),t}(Ox);function jx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qx(e,t,n){var r=new Map;jC(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,mx(a,s,n[i]))}return r}function Hx(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,c=n.data.field(a.field);r.set(a.field,vx(s,c,t))}return r}var Vx,zx,qx=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return yy(t,e),t}(Ox),Kx=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return yy(t,e),t}(Ox),Gx=function(e){this.count=e};function Wx(e){switch(e){case TC.OK:return UC();case TC.CANCELLED:case TC.UNKNOWN:case TC.DEADLINE_EXCEEDED:case TC.RESOURCE_EXHAUSTED:case TC.INTERNAL:case TC.UNAVAILABLE:case TC.UNAUTHENTICATED:return!1;case TC.INVALID_ARGUMENT:case TC.NOT_FOUND:case TC.ALREADY_EXISTS:case TC.PERMISSION_DENIED:case TC.FAILED_PRECONDITION:case TC.ABORTED:case TC.OUT_OF_RANGE:case TC.UNIMPLEMENTED:case TC.DATA_LOSS:return!0;default:return UC()}}function Yx(e){if(void 0===e)return NC("GRPC error has no .code"),TC.UNKNOWN;switch(e){case Vx.OK:return TC.OK;case Vx.CANCELLED:return TC.CANCELLED;case Vx.UNKNOWN:return TC.UNKNOWN;case Vx.DEADLINE_EXCEEDED:return TC.DEADLINE_EXCEEDED;case Vx.RESOURCE_EXHAUSTED:return TC.RESOURCE_EXHAUSTED;case Vx.INTERNAL:return TC.INTERNAL;case Vx.UNAVAILABLE:return TC.UNAVAILABLE;case Vx.UNAUTHENTICATED:return TC.UNAUTHENTICATED;case Vx.INVALID_ARGUMENT:return TC.INVALID_ARGUMENT;case Vx.NOT_FOUND:return TC.NOT_FOUND;case Vx.ALREADY_EXISTS:return TC.ALREADY_EXISTS;case Vx.PERMISSION_DENIED:return TC.PERMISSION_DENIED;case Vx.FAILED_PRECONDITION:return TC.FAILED_PRECONDITION;case Vx.ABORTED:return TC.ABORTED;case Vx.OUT_OF_RANGE:return TC.OUT_OF_RANGE;case Vx.UNIMPLEMENTED:return TC.UNIMPLEMENTED;case Vx.DATA_LOSS:return TC.DATA_LOSS;default:return UC()}}(zx=Vx||(Vx={}))[zx.OK=0]="OK",zx[zx.CANCELLED=1]="CANCELLED",zx[zx.UNKNOWN=2]="UNKNOWN",zx[zx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zx[zx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zx[zx.NOT_FOUND=5]="NOT_FOUND",zx[zx.ALREADY_EXISTS=6]="ALREADY_EXISTS",zx[zx.PERMISSION_DENIED=7]="PERMISSION_DENIED",zx[zx.UNAUTHENTICATED=16]="UNAUTHENTICATED",zx[zx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zx[zx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zx[zx.ABORTED=10]="ABORTED",zx[zx.OUT_OF_RANGE=11]="OUT_OF_RANGE",zx[zx.UNIMPLEMENTED=12]="UNIMPLEMENTED",zx[zx.INTERNAL=13]="INTERNAL",zx[zx.UNAVAILABLE=14]="UNAVAILABLE",zx[zx.DATA_LOSS=15]="DATA_LOSS";var Jx=function(){function e(e,t){this.comparator=e,this.root=t||Zx.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zx.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zx.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Xx(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Xx(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Xx(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Xx(this.root,e,this.comparator,!0)},e}(),Xx=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Zx=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw UC();if(this.right.isRed())throw UC();var e=this.left.check();if(e!==this.right.check())throw UC();return e+(this.isRed()?0:1)},e}();Zx.EMPTY=null,Zx.RED=!0,Zx.BLACK=!1,Zx.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw UC()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw UC()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw UC()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw UC()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw UC()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Zx(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var $x=function(){function e(e){this.comparator=e,this.data=new Jx(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new eE(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new eE(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),eE=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),tE=new Jx(fS.comparator);function nE(){return tE}var rE=new Jx(fS.comparator);function iE(){return rE}var oE=new Jx(fS.comparator);function aE(){return oE}var sE=new $x(fS.comparator);function cE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=sE,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var uE=new $x(zC);function lE(){return uE}var hE=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,dE.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(WC.min(),r,lE(),nE(),cE())},e}(),dE=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(rS.EMPTY_BYTE_STRING,n,cE(),cE(),cE())},e}(),fE=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},AE=function(e,t){this.targetId=e,this.V=t},pE=function(e,t,n,r){void 0===n&&(n=rS.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},gE=function(){function e(){this.S=0,this.D=bE(),this.C=rS.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=cE(),t=cE(),n=cE();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:UC()}})),new dE(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=bE()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),vE=function(){function e(e){this.W=e,this.G=new Map,this.H=nE(),this.J=mE(),this.Y=new $x(zC)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:UC()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(RS(i))if(0===n){var o=new fS(i.path);this.tt(t,o,BS.newNoDocument(o,WC.min()))}else jC(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&RS(o.target)){var a=new fS(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,BS.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=cE();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new hE(e,n,this.Y,this.H,r);return this.H=nE(),this.J=mE(),this.Y=new $x(zC),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new gE,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new $x(zC),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||PC("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new gE),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function mE(){return new Jx(fS.comparator)}function bE(){return new Jx(fS.comparator)}var yE={asc:"ASCENDING",desc:"DESCENDING"},wE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_E=function(e,t){this.databaseId=e,this.I=t};function kE(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function CE(e,t){return e.I?t.toBase64():t.toUint8Array()}function SE(e,t){return kE(e,t.toTimestamp())}function xE(e){return jC(!!e),WC.fromTimestamp(function(e){var t=oS(e);return new GC(t.seconds,t.nanos)}(e))}function EE(e,t){return function(e){return new $C(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function IE(e){var t=$C.fromString(e);return jC(XE(t)),t}function BE(e,t){return EE(e.databaseId,t.path)}function DE(e,t){var n=IE(t);if(n.get(1)!==e.databaseId.projectId)throw new OC(TC.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new OC(TC.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fS(RE(n))}function TE(e,t){return EE(e.databaseId,t)}function OE(e){var t=IE(e);return 4===t.length?$C.emptyPath():RE(t)}function FE(e){return new $C(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RE(e){return jC(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function PE(e,t,n){return{name:BE(e,t),fields:n.value.mapValue.fields}}function NE(e,t,n){var r=DE(e,t.name),i=xE(t.updateTime),o=new ES({mapValue:{fields:t.fields}}),a=BS.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ME(e,t){var n;if(t instanceof Lx)n={update:PE(e,t.key,t.value)};else if(t instanceof qx)n={delete:BE(e,t.key)};else if(t instanceof Ux)n={update:PE(e,t.key,t.data),updateMask:JE(t.fieldMask)};else{if(!(t instanceof Kx))return UC();n={verify:BE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sx)return{fieldPath:t.field.canonicalString(),increment:n.A};throw UC()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:SE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:UC()}(e,t.precondition)),n}function LE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Dx.updateTime(xE(e.updateTime)):void 0!==e.exists?Dx.exists(e.exists):Dx.none()}(t.currentDocument):Dx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(jC("REQUEST_TIME"===t.setToServerValue),n=new yx):"appendMissingElements"in t?n=new wx(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new kx(t.removeAllFromArray.values||[]):"increment"in t?n=new Sx(e,t.increment):UC();var r=tS.fromServerFormat(t.fieldPath);return new Ix(r,n)}(e,t)})):[];if(t.update){var i=DE(e,t.update.name),o=new ES({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new nS((e.fieldPaths||[]).map((function(e){return tS.fromServerFormat(e)})))}(t.updateMask);return new Ux(i,o,a,n,r)}return new Lx(i,o,n,r)}if(t.delete){var s=DE(e,t.delete);return new qx(s,n)}if(t.verify){var c=DE(e,t.verify);return new Kx(c,n)}return UC()}function UE(e,t){return{documents:[TE(e,t.path)]}}function jE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=TE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=TE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(CS(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NAN"}};if(kS(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(CS(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NOT_NAN"}};if(kS(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:KE(e.field),op:qE(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:KE(e.field),direction:zE(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||lS(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=HE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=HE(t.endAt)),n}function QE(e){var t=OE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jC(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[YE(t)]:void 0!==t.fieldFilter?[WE(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):UC():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new KS(GE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return lS(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=VE(n.startAt));var l=null;return n.endAt&&(l=VE(n.endAt)),XS(t,i,s,a,c,"F",u,l)}function HE(e){return{before:e.before,values:e.position}}function VE(e){return new zS(e.values||[],!!e.before)}function zE(e){return yE[e]}function qE(e){return wE[e]}function KE(e){return{fieldPath:e.canonicalString()}}function GE(e){return tS.fromServerFormat(e.fieldPath)}function WE(e){return PS.create(GE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return UC()}}(e.fieldFilter.op),e.fieldFilter.value)}function YE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=GE(e.unaryFilter.field);return PS.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=GE(e.unaryFilter.field);return PS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=GE(e.unaryFilter.field);return PS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=GE(e.unaryFilter.field);return PS.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return UC()}}function JE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function XE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ZE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eI(t)),t=$E(e.get(n),t);return eI(t)}function $E(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function eI(e){return e+"\x01\x01"}function tI(e){var t=e.length;if(jC(t>=2),2===t)return jC("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),$C.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&UC(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:UC()}o=a+2}return new $C(r)}var nI=function(e,t){this.seconds=e,this.nanoseconds=t},rI=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};rI.store="owner",rI.key="owner";var iI=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};iI.store="mutationQueues",iI.keyPath="userId";var oI=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};oI.store="mutations",oI.keyPath="batchId",oI.userMutationsIndex="userMutationsIndex",oI.userMutationsKeyPath=["userId","batchId"];var aI=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ZE(t)]},e.key=function(e,t,n){return[e,ZE(t),n]},e}();aI.store="documentMutations",aI.PLACEHOLDER=new aI;var sI=function(e,t){this.path=e,this.readTime=t},cI=function(e,t){this.path=e,this.version=t},uI=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};uI.store="remoteDocuments",uI.readTimeIndex="readTimeIndex",uI.readTimeIndexPath="readTime",uI.collectionReadTimeIndex="collectionReadTimeIndex",uI.collectionReadTimeIndexPath=["parentPath","readTime"];var lI=function(e){this.byteSize=e};lI.store="remoteDocumentGlobal",lI.key="remoteDocumentGlobalKey";var hI=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};hI.store="targets",hI.keyPath="targetId",hI.queryTargetsIndexName="queryTargetsIndex",hI.queryTargetsKeyPath=["canonicalId","targetId"];var dI=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};dI.store="targetDocuments",dI.keyPath=["targetId","path"],dI.documentTargetsIndex="documentTargetsIndex",dI.documentTargetsKeyPath=["path","targetId"];var fI=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};fI.key="targetGlobalKey",fI.store="targetGlobal";var AI=function(e,t){this.collectionId=e,this.parent=t};AI.store="collectionParents",AI.keyPath=["collectionId","parent"];var pI=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};pI.store="clientMetadata",pI.keyPath="clientId";var gI=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};gI.store="bundles",gI.keyPath="bundleId";var vI=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};vI.store="namedQueries",vI.keyPath="name";var mI=ky(ky([],ky(ky([],ky(ky([],ky(ky([],[iI.store,oI.store,aI.store,uI.store,hI.store,rI.store,fI.store,dI.store]),[pI.store])),[lI.store])),[AI.store])),[gI.store,vI.store]),bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yI=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),wI=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},_I=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&UC(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),kI=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new wI,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new xI(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=TI(t.target.error);n.ft.reject(new xI(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xI(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(PC("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new II(t)},e}(),CI=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(eh.getUA)())&&NC("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return PC("SimpleDb","Removing database:",e),BI(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(eh.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return wy(this,void 0,void 0,(function(){var t,n=this;return _y(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(PC("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new xI(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new OC(TC.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new xI(e,n))},i.onupgradeneeded=function(e){PC("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){PC("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return wy(this,void 0,void 0,(function(){var i,o,a,s,c;return _y(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,c,u,l;return _y(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=kI.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),_I.reject(e)})).toPromise(),c={},a.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(h.sent(),a),c)];case 4:return PC("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),SI=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return BI(this.Pt.delete())},e}(),xI=function(e){function t(t,n){var r=this;return(r=e.call(this,TC.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return yy(t,e),t}(OC);function EI(e){return"IndexedDbTransactionError"===e.name}var II=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(PC("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(PC("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),BI(n)},e.prototype.add=function(e){return PC("SimpleDb","ADD",this.store.name,e,e),BI(this.store.add(e))},e.prototype.get=function(e){var t=this;return BI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),PC("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return PC("SimpleDb","DELETE",this.store.name,e),BI(this.store.delete(e))},e.prototype.count=function(){return PC("SimpleDb","COUNT",this.store.name),BI(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){PC("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new _I((function(n,r){t.onerror=function(e){var t=TI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new _I((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new SI(i),a=t(i.primaryKey,i.value,o);if(a instanceof _I){var s=a.catch((function(e){return o.done(),_I.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return _I.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function BI(e){return new _I((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=TI(e.target.error);n(t)}}))}var DI=!1;function TI(e){var t=CI._t(Object(eh.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new OC("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return DI||(DI=!0,setTimeout((function(){throw r}),0)),r}}return e}var OI=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return yy(t,e),t}(yI);function FI(e,t){var n=QC(e);return CI.It(n.Mt,t)}var RI=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Fx(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Rx(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Rx(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(WC.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),cE())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&qC(this.mutations,e.mutations,(function(e,t){return Nx(e,t)}))&&qC(this.baseMutations,e.baseMutations,(function(e,t){return Nx(e,t)}))},e}(),PI=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){jC(t.mutations.length===r.length);for(var i=aE(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),NI=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=WC.min()),void 0===o&&(o=WC.min()),void 0===a&&(a=rS.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),MI=function(e){this.Lt=e};function LI(e,t){if(t.document)return NE(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=fS.fromSegments(t.noDocument.path),r=VI(t.noDocument.readTime),i=BS.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=fS.fromSegments(t.unknownDocument.path);return r=VI(t.unknownDocument.version),BS.newUnknownDocument(o,r)}return UC()}function UI(e,t,n){var r=jI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:BE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kE(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new uI(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),c=HI(t.version);return a=t.hasCommittedMutations,new uI(null,new sI(s,c),null,a,r,i)}if(t.isUnknownDocument()){var u=t.key.path.toArray(),l=HI(t.version);return new uI(new cI(u,l),null,null,!0,r,i)}return UC()}function jI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function QI(e){var t=new GC(e[0],e[1]);return WC.fromTimestamp(t)}function HI(e){var t=e.toTimestamp();return new nI(t.seconds,t.nanoseconds)}function VI(e){var t=new GC(e.seconds,e.nanoseconds);return WC.fromTimestamp(t)}function zI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return LE(e.Lt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return LE(e.Lt,t)})),o=GC.fromMillis(t.localWriteTimeMs);return new RI(t.batchId,o,n,i)}function qI(e){var t,n,r=VI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?VI(e.lastLimboFreeSnapshotVersion):WC.min();return void 0!==e.query.documents?(jC(1===(n=e.query).documents.length),t=ox(ZS(OE(n.documents[0])))):t=function(e){return ox(QE(e))}(e.query),new NI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,rS.fromBase64String(e.resumeToken))}function KI(e,t){var n,r=HI(t.snapshotVersion),i=HI(t.lastLimboFreeSnapshotVersion);n=RS(t.target)?UE(e.Lt,t.target):jE(e.Lt,t.target);var o=t.resumeToken.toBase64();return new hI(t.targetId,OS(t.target),r,o,t.sequenceNumber,i,n)}function GI(e){var t=QE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ax(t,t.limit,"L"):t}var WI=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return YI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:VI(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return YI(e).put({bundleId:(n=t).id,createTime:HI(xE(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return JI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:GI(t.bundledQuery),readTime:VI(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return JI(e).put(function(e){return{name:e.name,readTime:HI(xE(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function YI(e){return FI(e,gI.store)}function JI(e){return FI(e,vI.store)}var XI=function(){function e(){this.Bt=new ZI}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),_I.resolve()},e.prototype.getCollectionParents=function(e,t){return _I.resolve(this.Bt.getEntries(t))},e}(),ZI=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $x($C.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new $x($C.comparator)).toArray()},e}(),$I=function(){function e(){this.qt=new ZI}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:ZE(i)};return eB(e).put(o)}return _I.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[KC(t),""],!1,!0);return eB(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(tI(o.parent))}return n}))},e}();function eB(e){return FI(e,AI.store)}var tB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nB=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function rB(e,t,n){var r=e.store(oI.store),i=e.store(aI.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(c.next((function(){jC(1===s)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=aI.key(t,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return _I.waitFor(o).next((function(){return u}))}function iB(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw UC();t=e.noDocument}return JSON.stringify(t).length}nB.DEFAULT_COLLECTION_PERCENTILE=10,nB.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nB.DEFAULT=new nB(41943040,nB.DEFAULT_COLLECTION_PERCENTILE,nB.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nB.DISABLED=new nB(-1,0,0);var oB=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return jC(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sB(e).$t({index:oI.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=cB(e),a=sB(e);return a.add({}).next((function(s){jC("number"==typeof s);for(var c=new RI(s,t,n,r),u=function(e,t,n){var r=n.baseMutations.map((function(t){return ME(e.Lt,t)})),i=n.mutations.map((function(t){return ME(e.Lt,t)}));return new oI(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new $x((function(e,t){return zC(e.canonicalString(),t.canonicalString())})),d=0,f=r;d<f.length;d++){var A=f[d],p=aI.key(i.userId,A.key.path,s);h=h.add(A.key.path.popLast()),l.push(a.put(u)),l.push(o.put(p,aI.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=c.keys()})),_I.waitFor(l).next((function(){return c}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return sB(e).get(t).next((function(e){return e?(jC(e.userId===n.userId),zI(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?_I.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sB(e).$t({index:oI.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(jC(t.batchId>=r),o=zI(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sB(e).$t({index:oI.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sB(e).Nt(oI.userMutationsIndex,n).next((function(e){return e.map((function(e){return zI(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=aI.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return cB(e).$t({range:i},(function(r,i,a){var s=r[0],c=r[2],u=tI(r[1]);if(s===n.userId&&t.path.isEqual(u))return sB(e).get(c).next((function(e){if(!e)throw UC();jC(e.userId===n.userId),o.push(zI(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new $x(zC),i=[];return t.forEach((function(t){var o=aI.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=cB(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[2],c=tI(e[1]);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(s)})),_I.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=aI.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new $x(zC);return cB(e).$t({range:a},(function(e,t,o){var a=e[0],c=e[2],u=tI(e[1]);a===n.userId&&r.isPrefixOf(u)?u.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sB(e).get(t).next((function(e){if(null===e)throw UC();jC(e.userId===n.userId),r.push(zI(n.R,e))})))})),_I.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return rB(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),_I.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _I.resolve();var r=IDBKeyRange.lowerBound(aI.prefixForUser(t.userId)),i=[];return cB(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=tI(e[1]);i.push(o)}else r.done()})).next((function(){jC(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return aB(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return uB(e).get(this.userId).next((function(e){return e||new iI(t.userId,-1,"")}))},e}();function aB(e,t,n){var r=aI.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return cB(e).$t({range:o,Ft:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function sB(e){return FI(e,oI.store)}function cB(e){return FI(e,aI.store)}function uB(e){return FI(e,iI.store)}var lB=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),hB=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new lB(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return WC.fromTimestamp(new GC(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dB(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return jC(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return dB(e).$t((function(a,s){var c=qI(s);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(e,c)))})).next((function(){return _I.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return dB(e).$t((function(e,n){var r=qI(n);t(r)}))},e.prototype.Xt=function(e){return fB(e).get(fI.key).next((function(e){return jC(null!==e),e}))},e.prototype.Zt=function(e,t){return fB(e).put(fI.key,t)},e.prototype.te=function(e,t){return dB(e).put(KI(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=OS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dB(e).$t({range:r,index:hI.queryTargetsIndexName},(function(e,n,r){var o=qI(n);FS(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=AB(e);return t.forEach((function(t){var a=ZE(t.path);i.push(o.put(new dI(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),_I.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=AB(e);return _I.forEach(t,(function(t){var o=ZE(t.path);return _I.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=AB(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=AB(e),i=cE();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=tI(e[1]),o=new fS(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=ZE(t.path),r=IDBKeyRange.bound([n],[KC(n)],!1,!0),i=0;return AB(e).$t({index:dI.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return dB(e).get(t).next((function(e){return e?qI(e):null}))},e}();function dB(e){return FI(e,hI.store)}function fB(e){return FI(e,fI.store)}function AB(e){return FI(e,dI.store)}function pB(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){if(e.code!==TC.FAILED_PRECONDITION||e.message!==bI)throw e;return PC("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function gB(e,t){var n=e[1],r=t[1],i=zC(e[0],t[0]);return 0===i?zC(n,r):i}var vB=function(){function e(e){this.ne=e,this.buffer=new $x(gB),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gB(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),mB=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;PC("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return wy(t,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return EI(t=n.sent())?(PC("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,pB(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),bB=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return _I.resolve(DC.o);var r=new vB(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(PC("LruGarbageCollector","Garbage collection skipped; disabled"),_I.resolve(tB)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(PC("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tB):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,c,u=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>u.params.maximumSequenceNumbersToCollect?(PC("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+t),r=u.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),u.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),u.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),u.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),RC()<=Cy.LogLevel.DEBUG&&PC("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(c-s)+"ms\nTotal Duration: "+(c-l)+"ms"),_I.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),yB=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new bB(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return wB(e,n)},e.prototype.removeReference=function(e,t,n){return wB(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return wB(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return uB(e).Ot((function(r){return aB(e,r,t).next((function(e){return e&&(n=!0),_I.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var c=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),AB(e).delete([0,ZE(a.path)])}))}));i.push(c)}})).next((function(){return _I.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return wB(e,t)},e.prototype.we=function(e,t){var n,r=AB(e),i=DC.o;return r.$t({index:dI.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==DC.o&&t(new fS(tI(n)),i),i=a,n=o):i=DC.o})).next((function(){i!==DC.o&&t(new fS(tI(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function wB(e,t){return AB(e).put(function(e,t){return new dI(0,ZE(e.path),t)}(t,e.currentSequenceNumber))}var _B=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){JC(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return XC(this.inner)},e}(),kB=function(){function e(){this.changes=new _B((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:WC.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:BS.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_I.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),CB=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return EB(e).put(IB(t),n)},e.prototype.removeEntry=function(e,t){var n=EB(e),r=IB(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return EB(e).get(IB(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return EB(e).get(IB(t)).next((function(e){return{document:n.ye(t,e),size:iB(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=nE();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=nE(),i=new Jx(fS.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,iB(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return _I.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return EB(e).$t({range:r},(function(e,t,r){for(var a=fS.fromSegments(e);o&&fS.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=nE(),o=t.path.length+1,a={};if(n.isEqual(WC.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var c=t.path.toArray(),u=jI(n);a.range=IDBKeyRange.lowerBound([c,u],!0),a.index=uI.collectionReadTimeIndex}return EB(e).$t(a,(function(e,n,a){if(e.length===o){var s=LI(r.R,n);t.path.isPrefixOf(s.key.path)?lx(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new SB(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return xB(e).get(lI.key).next((function(e){return jC(!!e),e}))},e.prototype.me=function(e,t){return xB(e).put(lI.key,t)},e.prototype.ye=function(e,t){if(t){var n=LI(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(WC.min()))return n}return BS.newInvalidDocument(e)},e}(),SB=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new _B((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return yy(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new $x((function(e,t){return zC(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var c=UI(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var u=iB(c);r+=u-s,n.push(t.Ie.addEntry(e,o,c))}else if(r-=s,t.trackRemovals){var l=UI(t.Ie.R,BS.newNoDocument(o,WC.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),_I.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(kB);function xB(e){return FI(e,lI.store)}function EB(e){return FI(e,uI.store)}function IB(e){return e.path.toArray()}var BB=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;jC(n<r&&n>=0&&r<=11);var o=new kI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(rI.store)}(e),function(e){e.createObjectStore(iI.store,{keyPath:iI.keyPath}),e.createObjectStore(oI.store,{keyPath:oI.keyPath,autoIncrement:!0}).createIndex(oI.userMutationsIndex,oI.userMutationsKeyPath,{unique:!0}),e.createObjectStore(aI.store)}(e),DB(e),function(e){e.createObjectStore(uI.store)}(e));var a=_I.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(dI.store),e.deleteObjectStore(hI.store),e.deleteObjectStore(fI.store)}(e),DB(e)),a=a.next((function(){return function(e){var t=e.store(fI.store),n=new fI(0,0,WC.min().toTimestamp(),0);return t.put(fI.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(oI.store).Nt().next((function(n){e.deleteObjectStore(oI.store),e.createObjectStore(oI.store,{keyPath:oI.keyPath,autoIncrement:!0}).createIndex(oI.userMutationsIndex,oI.userMutationsKeyPath,{unique:!0});var r=t.store(oI.store),i=n.map((function(e){return r.put(e)}));return _I.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(pI.store,{keyPath:pI.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(lI.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(uI.store);t.createIndex(uI.readTimeIndex,uI.readTimeIndexPath,{unique:!1}),t.createIndex(uI.collectionReadTimeIndex,uI.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(gI.store,{keyPath:gI.keyPath})}(e),function(e){e.createObjectStore(vI.store,{keyPath:vI.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(uI.store).$t((function(e,n){t+=iB(n)})).next((function(){var n=new lI(t);return e.store(lI.store).put(lI.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(iI.store),r=e.store(oI.store);return n.Nt().next((function(n){return _I.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(oI.userMutationsIndex,i).next((function(r){return _I.forEach(r,(function(r){jC(r.userId===n.userId);var i=zI(t.R,r);return rB(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(dI.store),n=e.store(uI.store);return e.store(fI.store).get(fI.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new $C(n),a=function(e){return[0,ZE(e)]}(o);r.push(t.get(a).next((function(n){return n?_I.resolve():function(n){return t.put(new dI(0,ZE(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return _I.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(AI.store,{keyPath:AI.keyPath});var n=t.store(AI.store),r=new ZI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ZE(i)})}};return t.store(uI.store).$t({Ft:!0},(function(e,t){var n=new $C(e);return i(n.popLast())})).next((function(){return t.store(aI.store).$t({Ft:!0},(function(e,t){var n=tI(e[1]);return i(n.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(hI.store);return n.$t((function(e,r){var i=qI(r),o=KI(t.R,i);return n.put(o)}))},e}();function DB(e){e.createObjectStore(dI.store,{keyPath:dI.keyPath}).createIndex(dI.documentTargetsIndex,dI.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(hI.store,{keyPath:hI.keyPath}).createIndex(hI.queryTargetsIndexName,hI.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(fI.store)}var TB="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",OB=function(){function e(t,n,r,i,o,a,s,c,u,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new OC(TC.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yB(this,i),this.Le=n+"main",this.R=new MI(c),this.Be=new CI(this.Le,11,new BB(this.R)),this.qe=new hB(this.referenceDelegate,this.R),this.Ut=new $I,this.Ue=function(e,t){return new CB(e,t)}(this.R,this.Ut),this.Ke=new WI,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&NC("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new OC(TC.FAILED_PRECONDITION,TB);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new DC(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return wy(t,void 0,void 0,(function(){return _y(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return wy(t,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return wy(t,void 0,void 0,(function(){return _y(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return RB(t).put(new pI(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(EI(t))return PC("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return PC("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return FB(e).get(rI.key).next((function(e){return _I.resolve(t.tn(e))}))},e.prototype.en=function(e){return RB(e).delete(this.clientId)},e.prototype.nn=function(){return wy(this,void 0,void 0,(function(){var e,t,n,r=this;return _y(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=FI(e,pI.store);return t.Nt().next((function(e){var n=r.rn(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return _I.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?_I.resolve(!0):FB(e).get(rI.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new OC(TC.FAILED_PRECONDITION,TB);return!1}}return!(!t.networkEnabled||!t.inForeground)||RB(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&PC("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return wy(this,void 0,void 0,(function(){var e=this;return _y(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rI.store,pI.store],(function(t){var n=new OI(t,DC.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return RB(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return oB.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return PC("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",mI,(function(o){return r=new OI(o,i.Ne?i.Ne.next():DC.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw NC("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new OC(TC.FAILED_PRECONDITION,bI);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return FB(e).get(rI.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new OC(TC.FAILED_PRECONDITION,TB)}))},e.prototype.Ze=function(e){var t=new rI(this.clientId,this.allowTabSynchronization,Date.now());return FB(e).put(rI.key,t)},e.yt=function(){return CI.yt()},e.prototype.Xe=function(e){var t=this,n=FB(e);return n.get(rI.key).next((function(e){return t.tn(e)?(PC("IndexedDbPersistence","Releasing primary lease."),n.delete(rI.key)):_I.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(NC("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(eh.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return PC("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return NC("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){NC("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function FB(e){return FI(e,rI.store)}function RB(e){return FI(e,pI.store)}function PB(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var NB=function(e,t){this.progress=e,this.wn=t},MB=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return fS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):rx(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new fS(t)).next((function(e){var t=iE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=iE();return this.Ut.getCollectionParents(e,i).next((function(a){return _I.forEach(a,(function(a){var s=function(e,t){return new JS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Rn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var c=s[a],u=c.key,l=r.get(u);null==l&&(l=BS.newInvalidDocument(u),r=r.insert(u,l)),Rx(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(e,n){lx(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=cE(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var c=s[a];c instanceof Ux&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(u=u.insert(e,t))})),u}))},e}(),LB=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=cE(),i=cE(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),UB=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(WC.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return($S(t)||ex(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(RC()<=Cy.LogLevel.DEBUG&&PC("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ux(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new $x(hx(e));return t.forEach((function(t,r){lx(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return RC()<=Cy.LogLevel.DEBUG&&PC("QueryEngine","Using full collection scan to execute query:",ux(t)),this.Sn.getDocumentsMatchingQuery(e,t,WC.min())},e}(),jB=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Jx(zC),this.Fn=new _B((function(e){return OS(e)}),FS),this.$n=WC.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new MB(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function QB(e,t,n,r){return new jB(e,t,n,r)}function HB(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o;return _y(this,(function(a){switch(a.label){case 0:return n=QC(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new MB(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=cE(),s=0,c=o;s<c.length;s++){var u=c[s];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var d=0,f=t;d<f.length;d++){var A=f[d];r.push(A.batchId);for(var p=0,g=A.mutations;p<g.length;p++)a=a.add(g[p].key)}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function VB(e,t){var n=QC(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=_I.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);jC(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function zB(e){var t=QC(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function qB(e,t){var n=QC(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var c=t.resumeToken;if(c.approximateByteSize()>0){var u=s.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,u),function(e,t,n){return jC(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,u,t)&&a.push(n.qe.updateTargetData(e,u))}}}));var s=nE();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(KB(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(WC.min())){var c=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return _I.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function KB(e,t,n,r,i){var o=cE();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=nE();return n.forEach((function(n,a){var s=e.get(n),c=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(WC.min())?(t.removeEntry(n,c),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,c),o=o.insert(n,a)):PC("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function GB(e,t){var n=QC(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function WB(e,t){var n=QC(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?_I.resolve(r=i):n.qe.allocateTargetId(e).next((function(i){return r=new NI(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function YB(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a;return _y(this,(function(s){switch(s.label){case 0:r=QC(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!EI(a=s.sent()))throw a;return PC("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function JB(e,t,n){var r=QC(e),i=WC.min(),o=cE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=QC(e),i=r.Fn.get(n);return void 0!==i?_I.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,ox(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:WC.min(),n?o:cE())})).next((function(e){return{documents:e,Bn:o}}))}))}function XB(e,t){var n=QC(e),r=QC(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function ZB(e){var t=QC(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=QC(e),i=nE(),o=jI(n),a=EB(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:uI.readTimeIndex,range:s},(function(e,t){var n=LI(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:QI(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn;return t.$n=e.readTime,n}))}function $B(e){return wy(this,void 0,void 0,(function(){var t;return _y(this,(function(n){return[2,(t=QC(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=EB(e),n=WC.min();return t.$t({index:uI.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=QI(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function eD(e,t,n,r){return wy(this,void 0,void 0,(function(){var i,o,a,s,c,u,l,h,d,f;return _y(this,(function(A){switch(A.label){case 0:for(i=QC(e),o=cE(),a=nE(),s=aE(),c=0,u=n;c<u.length;c++)h=t.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,WB(i,function(e){return ox(ZS($C.fromString("__bundle__/docs/"+e)))}(r))];case 1:return f=A.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return KB(e,d,a,WC.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next((function(){return i.qe.addMatchingKeys(e,o,f.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function tD(e,t,n){return void 0===n&&(n=cE()),wy(this,void 0,void 0,(function(){var r,i;return _y(this,(function(o){switch(o.label){case 0:return[4,WB(e,ox(GI(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=QC(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=xE(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(rS.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var nD=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return _I.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:xE(n.createTime)}),_I.resolve()},e.prototype.getNamedQuery=function(e,t){return _I.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:GI(e.bundledQuery),readTime:xE(e.readTime)}}(t)),_I.resolve()},e}(),rD=function(){function e(){this.Wn=new $x(iD.Gn),this.zn=new $x(iD.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new iD(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new iD(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new fS(new $C([])),r=new iD(n,e),i=new iD(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new fS(new $C([])),n=new iD(t,e),r=new iD(t,e+1),i=cE();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new iD(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),iD=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return fS.comparator(e.key,t.key)||zC(e.ns,t.ns)},e.Hn=function(e,t){return zC(e.ns,t.ns)||fS.comparator(e.key,t.key)},e}(),oD=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new $x(iD.Gn)}return e.prototype.checkEmpty=function(e){return _I.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new RI(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var c=s[a];this.rs=this.rs.add(new iD(c.key,i)),this.Ut.addToCollectionParentIndex(e,c.key.path.popLast())}return _I.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return _I.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return _I.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return _I.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return _I.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new iD(t,0),i=new iD(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),_I.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new $x(zC);return t.forEach((function(e){var t=new iD(e,0),i=new iD(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),_I.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;fS.isDocumentKey(i)||(i=i.child(""));var o=new iD(new fS(i),0),a=new $x(zC);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),_I.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;jC(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return _I.forEach(t.mutations,(function(i){var o=new iD(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new iD(t,0),r=this.rs.firstAfterOrEqual(n);return _I.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return _I.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),aD=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Jx(fS.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return _I.resolve(n?n.document.clone():BS.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=nE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():BS.newInvalidDocument(e))})),_I.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=nE(),i=new fS(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,c=s.document,u=s.readTime;if(!t.path.isPrefixOf(a.key.path))break;u.compareTo(n)<=0||lx(t,c)&&(r=r.insert(c.key,c.clone()))}return _I.resolve(r)},e.prototype.fs=function(e,t){return _I.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new sD(this)},e.prototype.getSize=function(e){return _I.resolve(this.size)},e}(),sD=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return yy(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),_I.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(kB),cD=function(){function e(e){this.persistence=e,this.ds=new _B((function(e){return OS(e)}),FS),this.lastRemoteSnapshotVersion=WC.min(),this.highestTargetId=0,this.ws=0,this._s=new rD,this.targetCount=0,this.ys=lB.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),_I.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return _I.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return _I.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),_I.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),_I.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new lB(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,_I.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),_I.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,_I.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_I.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return _I.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return _I.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),_I.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_I.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),_I.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return _I.resolve(n)},e.prototype.containsKey=function(e,t){return _I.resolve(this._s.containsKey(t))},e}(),uD=function(){function e(e,t){var n=this;this.gs={},this.Ne=new DC(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new cD(this),this.Ut=new XI,this.Ue=function(e,t){return new aD(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new MI(t),this.Ke=new nD(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new oD(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;PC("MemoryPersistence","Starting transaction:",e);var i=new lD(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return _I.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),lD=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return yy(t,e),t}(yI),hD=function(){function e(e){this.persistence=e,this.As=new rD,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw UC()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),_I.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),_I.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),_I.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _I.forEach(this.vs,(function(r){var i=fS.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return _I.or([function(){return _I.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),dD=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function fD(e,t){return"firestore_clients_"+e+"_"+t}function AD(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function pD(e,t){return"firestore_targets_"+e+"_"+t}dD.UNAUTHENTICATED=new dD(null),dD.GOOGLE_CREDENTIALS=new dD("google-credentials-uid"),dD.FIRST_PARTY=new dD("first-party-uid"),dD.MOCK_USER=new dD("mock-user");var gD=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new OC(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(NC("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),vD=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new OC(i.error.code,i.error.message)),o?new e(t,i.state,r):(NC("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),mD=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lE(),a=0;i&&a<r.activeTargetIds.length;++a)i=dS(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(NC("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),bD=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(NC("SharedClientState","Failed to parse online state: "+t),null)},e}(),yD=function(){function e(){this.activeTargetIds=lE()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),wD=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Jx(zC),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=fD(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new yD),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return wy(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u,l=this;return _y(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(fD(this.persistenceKey,r)))&&(o=mD.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),c=0,u=this.$s;c<u.length;c++)this.ks(u[c]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(pD(this.persistenceKey,e));if(n){var r=vD.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(pD(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return PC("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){PC("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){PC("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(PC("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void NC("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return wy(t,void 0,void 0,(function(){var e,t,r,i,o,a;return _y(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=DC.o;if(null!=e)try{var n=JSON.parse(e);jC("number"==typeof n),t=n}catch(e){NC("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==DC.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new gD(this.currentUser,e,t,n),i=AD(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=AD(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=pD(this.persistenceKey,e),i=new vD(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return mD.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return gD.Vs(new dD(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return vD.Vs(r,t)},e.prototype.js=function(e){return bD.Vs(e)},e.prototype.ii=function(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(PC("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=lE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),_D=function(){function e(){this.li=new yD,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new yD,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),kD=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),CD=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){PC("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){PC("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xD=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),ED=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return yy(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new BC;a.listenOnce(SC.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case CC.NO_ERROR:var t=a.getResponseJson();PC("Connection","XHR received:",JSON.stringify(t)),i(t);break;case CC.TIMEOUT:PC("Connection",'RPC "'+e+'" timed out'),o(new OC(TC.DEADLINE_EXCEEDED,"Request time out"));break;case CC.HTTP_ERROR:var n=a.getStatus();if(PC("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(TC).indexOf(t)>=0?t:TC.UNKNOWN}(r.status);o(new OC(s,r.message))}else o(new OC(TC.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new OC(TC.UNAVAILABLE,"Connection failed."));break;default:UC()}}finally{PC("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new bC,i=f_(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new EC({})),this.ki(o.initMessageHeaders,t),Object(eh.isMobileCordova)()||Object(eh.isReactNative)()||Object(eh.isElectron)()||Object(eh.isIE)()||Object(eh.isUWP)()||Object(eh.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");PC("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),c=!1,u=!1,l=new xD({Ei:function(e){u?PC("Connection","Not sending because WebChannel is closed:",e):(c||(PC("Connection","Opening WebChannel transport."),s.open(),c=!0),PC("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,IC.EventType.OPEN,(function(){u||PC("Connection","WebChannel transport opened.")})),h(s,IC.EventType.CLOSE,(function(){u||(u=!0,PC("Connection","WebChannel transport closed"),l.Vi())})),h(s,IC.EventType.ERROR,(function(e){u||(u=!0,MC("Connection","WebChannel transport errored:",e),l.Vi(new OC(TC.UNAVAILABLE,"The operation could not be completed")))})),h(s,IC.EventType.MESSAGE,(function(e){var t;if(!u){var n=e.data[0];jC(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){PC("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Vx[e];if(void 0!==t)return Yx(t)}(i),a=r.message;void 0===o&&(o=TC.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new OC(o,a)),s.close()}else PC("Connection","WebChannel received:",n),l.Si(n)}})),h(i,xC.STAT_EVENT,(function(e){10===e.stat?PC("Connection","Detected buffering proxy"):11===e.stat&&PC("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);PC("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return PC("RestConnection","Received: ",e),e}),(function(t){throw MC("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+SD[e]},e}());function ID(){return"undefined"!=typeof window?window:null}function BD(){return"undefined"!=typeof document?document:null}function DD(e){return new _E(e,!0)}var TD=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&PC("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),OD=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new TD(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return wy(this,void 0,void 0,(function(){return _y(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===TC.RESOURCE_EXHAUSTED?(NC(t.toString()),NC("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===TC.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new OC(TC.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return wy(e,void 0,void 0,(function(){return _y(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return PC("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(PC("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),FD=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return yy(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:UC()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(jC(void 0===t||"string"==typeof t),rS.fromBase64String(t||"")):(jC(void 0===t||t instanceof Uint8Array),rS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?TC.UNKNOWN:Yx(e.code);return new OC(t,e.message||"")}(s);n=new pE(r,i,o,a||null)}else if("documentChange"in t){i=DE(e,(r=t.documentChange).document.name),o=xE(r.document.updateTime);var s=new ES({mapValue:{fields:r.document.fields}}),c=(a=BS.newFoundDocument(i,o,s),r.targetIds||[]);n=new fE(c,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=DE(e,(r=t.documentDelete).document),o=r.readTime?xE(r.readTime):WC.min(),s=BS.newNoDocument(i,o),n=new fE([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in t)i=DE(e,(r=t.documentRemove).document),n=new fE([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return UC();var u=t.filter;i=new Gx(r=u.count||0),n=new AE(o=u.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return WC.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?WC.min():t.readTime?xE(t.readTime):WC.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=FE(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=RS(r)?{documents:UE(e,r)}:{query:jE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=CE(e,t.resumeToken):t.snapshotVersion.compareTo(WC.min())>0&&(n.readTime=kE(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return UC()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=FE(this.R),t.removeTarget=e,this.cr(t)},t}(OD),RD=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return yy(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(jC(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(jC(void 0!==t),e.map((function(e){return function(e,t){var n=xE(e.updateTime?e.updateTime:t);return n.isEqual(WC.min())&&(n=xE(t)),new Bx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xE(e.commitTime);return this.listener.Tr(n,t)}return jC(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=FE(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ME(t.R,e)}))};this.cr(n)},t}(OD),PD=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return yy(t,e),t.prototype.br=function(){if(this.Rr)throw new OC(TC.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===TC.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new OC(TC.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===TC.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new OC(TC.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),ND=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(NC(t),this.Vr=!1):PC("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),MD=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return wy(o,void 0,void 0,(function(){return _y(this,(function(e){switch(e.label){case 0:return KD(this)?(PC("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return wy(this,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return(t=QC(e)).Or.add(4),[4,UD(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,LD(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ND(n,r)};function LD(e){return wy(this,void 0,void 0,(function(){var t,n;return _y(this,(function(r){switch(r.label){case 0:if(!KD(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function UD(e){return wy(this,void 0,void 0,(function(){var t,n;return _y(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function jD(e,t){var n=QC(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),qD(n)?zD(n):sT(n).er()&&HD(n,t))}function QD(e,t){var n=QC(e),r=sT(n);n.$r.delete(t),r.er()&&VD(n,t),0===n.$r.size&&(r.er()?r.ir():KD(n)&&n.Br.set("Unknown"))}function HD(e,t){e.qr.U(t.targetId),sT(e).mr(t)}function VD(e,t){e.qr.U(t),sT(e).yr(t)}function zD(e){e.qr=new vE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),sT(e).start(),e.Br.Sr()}function qD(e){return KD(e)&&!sT(e).tr()&&e.$r.size>0}function KD(e){return 0===QC(e).Or.size}function GD(e){e.qr=void 0}function WD(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){return e.$r.forEach((function(t,n){HD(e,t)})),[2]}))}))}function YD(e,t){return wy(this,void 0,void 0,(function(){return _y(this,(function(n){return GD(e),qD(e)?(e.Br.Nr(t),zD(e)):e.Br.set("Unknown"),[2]}))}))}function JD(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o;return _y(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof pE&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o;return _y(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.$r.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),PC("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,XD(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof fE?e.qr.X(t):t instanceof AE?e.qr.rt(t):e.qr.et(t),n.isEqual(WC.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,zB(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(rS.EMPTY_BYTE_STRING,n.snapshotVersion)),VD(e,t);var r=new NI(n.target,t,1,n.sequenceNumber);HD(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return PC("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,XD(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function XD(e,t,n){return wy(this,void 0,void 0,(function(){var r=this;return _y(this,(function(i){switch(i.label){case 0:if(!EI(t))throw t;return e.Or.add(1),[4,UD(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return zB(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return wy(r,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return PC("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,LD(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ZD(e,t){return t().catch((function(n){return XD(e,n,t)}))}function $D(e){return wy(this,void 0,void 0,(function(){var t,n,r,i,o;return _y(this,(function(a){switch(a.label){case 0:t=QC(e),n=cT(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return KD(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,GB(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=cT(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,XD(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return eT(t)&&tT(t),[2]}}))}))}function eT(e){return KD(e)&&!cT(e).tr()&&e.Fr.length>0}function tT(e){cT(e).start()}function nT(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){return cT(e).Ar(),[2]}))}))}function rT(e){return wy(this,void 0,void 0,(function(){var t,n,r;return _y(this,(function(i){for(t=cT(e),n=0,r=e.Fr;n<r.length;n++)t.Er(r[n].mutations);return[2]}))}))}function iT(e,t,n){return wy(this,void 0,void 0,(function(){var r,i;return _y(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=PI.from(r,t,n),[4,ZD(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,$D(e)];case 2:return o.sent(),[2]}}))}))}function oT(e,t){return wy(this,void 0,void 0,(function(){return _y(this,(function(n){switch(n.label){case 0:return t&&cT(e).pr?[4,function(e,t){return wy(this,void 0,void 0,(function(){var n,r;return _y(this,(function(i){switch(i.label){case 0:return Wx(r=t.code)&&r!==TC.ABORTED?(n=e.Fr.shift(),cT(e).sr(),[4,ZD(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,$D(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return eT(e)&&tT(e),[2]}}))}))}function aT(e,t){return wy(this,void 0,void 0,(function(){var n;return _y(this,(function(r){switch(r.label){case 0:return n=QC(e),t?(n.Or.delete(2),[4,LD(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,UD(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sT(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=QC(e);return r.br(),new FD(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:WD.bind(null,e),Ri:YD.bind(null,e),_r:JD.bind(null,e)}),e.Mr.push((function(n){return wy(t,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),qD(e)?zD(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),GD(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function cT(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=QC(e);return r.br(),new RD(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:nT.bind(null,e),Ri:oT.bind(null,e),Ir:rT.bind(null,e),Tr:iT.bind(null,e)}),e.Mr.push((function(n){return wy(t,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,$D(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(PC("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var uT=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new wI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new OC(TC.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function lT(e,t){if(NC("AsyncQueue",t+": "+e),EI(e))return new OC(TC.UNAVAILABLE,t+": "+e);throw e}var hT=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||fS.comparator(t.key,n.key)}:function(e,t){return fS.comparator(e.key,t.key)},this.keyedMap=iE(),this.sortedSet=new Jx(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),dT=function(){function e(){this.Qr=new Jx(fS.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):UC():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),fT=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,hT.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),AT=function(){this.Wr=void 0,this.listeners=[]},pT=function(){this.queries=new _B((function(e){return cx(e)}),sx),this.onlineState="Unknown",this.Gr=new Set};function gT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return _y(this,(function(u){switch(u.label){case 0:if(n=QC(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new AT),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=u.sent(),[3,4];case 3:return s=u.sent(),c=lT(s,"Initialization of query '"+ux(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&yT(n),[2]}}))}))}function vT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a;return _y(this,(function(s){return n=QC(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function mT(e,t){for(var n=QC(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var c=0,u=s.listeners;c<u.length;c++)u[c].Hr(a)&&(r=!0);s.Wr=a}}r&&yT(n)}function bT(e,t,n){var r=QC(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function yT(e){e.Gr.forEach((function(e){e.next()}))}var wT=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new fT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=fT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),_T=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),kT=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return DE(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?NE(this.R,e.document,!1):BS.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return xE(e)},e}(),CT=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=ST(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new kT(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,c=o.metadata.queries;s<c.length;s++){var u=c[s],l=(t.get(u)||cE()).add(a);t.set(u,l)}}return t},e.prototype.complete=function(){return wy(this,void 0,void 0,(function(){var e,t,n,r,i;return _y(this,(function(o){switch(o.label){case 0:return[4,eD(this.localStore,new kT(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,tD(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new NB(Object.assign({},this.progress),e))]}}))}))},e}();function ST(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xT=function(e){this.key=e},ET=function(e){this.key=e},IT=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=cE(),this.mutatedKeys=cE(),this.lo=hx(e),this.fo=new hT(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new dT,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,c=$S(this.query)&&i.size===this.query.limit?i.last():null,u=ex(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=lx(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),A=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),A=!0):n.yo(l,h)||(r.track({type:2,doc:h}),A=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),A=!0):l&&!h&&(r.track({type:1,doc:l}),A=!0,(c||u)&&(s=!0)),A&&(h?(a=a.add(h),o=f?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),$S(this.query)||ex(this.query))for(;a.size>this.query.limit;){var l=$S(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return UC()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,c=s!==this.ao;return this.ao=s,0!==o.length||c?{snapshot:new fT(this.query,e.fo,i,o,e.mutatedKeys,0===s,c,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new dT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=cE(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ET(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new xT(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=cE();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return fT.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),BT=function(e,t,n){this.query=e,this.targetId=t,this.view=n},DT=function(e){this.key=e,this.bo=!1},TT=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new _B((function(e){return cx(e)}),sx),this.Vo=new Map,this.So=new Set,this.Do=new Jx(fS.comparator),this.Co=new Map,this.No=new rD,this.xo={},this.ko=new Map,this.Fo=lB.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function OT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a;return _y(this,(function(s){switch(s.label){case 0:return n=sO(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,WB(n.localStore,ox(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,FT(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&jD(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function FT(e,t,n,r){return wy(this,void 0,void 0,(function(){var i,o,a,s,c,u;return _y(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return wy(this,void 0,void 0,(function(){var i,o,a;return _y(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,JB(e.localStore,t.query,!1).then((function(e){return t.view._o(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(KT(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,JB(e.localStore,t,!0)];case 1:return i=l.sent(),o=new IT(t,i.Bn),a=o._o(i.documents),s=dE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(a,e.isPrimaryClient,s),KT(e,n,c.To),u=new BT(t,n,o),[2,(e.Po.set(t,u),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function RT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i;return _y(this,(function(o){switch(o.label){case 0:return n=QC(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!sx(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,YB(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),QD(n.remoteStore,r.targetId),zT(n,r.targetId)})).catch(pB)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zT(n,r.targetId),[4,YB(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function PT(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a;return _y(this,(function(s){switch(s.label){case 0:r=cO(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=QC(e),i=GC.now(),o=t.reduce((function(e,t){return e.add(t.key)}),cE());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,c=t;s<c.length;s++){var u=c[s],l=Px(u,n.get(u.key));null!=l&&a.push(new Ux(u.key,l,IS(l.value.mapValue),Dx.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Jx(zC)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,YT(r,i.changes)];case 3:return s.sent(),[4,$D(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=lT(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function NT(e,t){return wy(this,void 0,void 0,(function(){var n,r;return _y(this,(function(i){switch(i.label){case 0:n=QC(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qB(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(jC(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?jC(r.bo):e.removedDocuments.size>0&&(jC(r.bo),r.bo=!1))})),[4,YT(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,pB(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function MT(e,t,n){var r=QC(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=QC(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&yT(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function LT(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a,s,c;return _y(this,(function(u){switch(u.label){case 0:return(r=QC(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Jx(fS.comparator)).insert(o,BS.newNoDocument(o,WC.min())),s=cE().add(o),c=new hE(WC.min(),new Map,new $x(zC),a,s),[4,NT(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),WT(r),[3,4];case 2:return[4,YB(r.localStore,t,!1).then((function(){return zT(r,t,n)})).catch(pB)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function UT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i;return _y(this,(function(o){switch(o.label){case 0:n=QC(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,VB(n.localStore,t)];case 2:return i=o.sent(),VT(n,r,null),HT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,YT(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,pB(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jT(e,t,n){return wy(this,void 0,void 0,(function(){var r,i;return _y(this,(function(o){switch(o.label){case 0:r=QC(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=QC(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return jC(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),VT(r,t,n),HT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,YT(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,pB(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function QT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a;return _y(this,(function(s){switch(s.label){case 0:KD((n=QC(e)).remoteStore)||PC("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=QC(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=lT(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function HT(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function VT(e,t,n){var r=QC(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function zT(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||qT(e,t)}))}function qT(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(QD(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),WT(e))}function KT(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xT?(e.No.addReference(o.key,t),GT(e,o)):o instanceof ET?(PC("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||qT(e,o.key)):UC()}}function GT(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(PC("SyncEngine","New document in limbo: "+n),e.So.add(r),WT(e))}function WT(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new fS($C.fromString(t)),r=e.Fo.next();e.Co.set(r,new DT(n)),e.Do=e.Do.insert(n,r),jD(e.remoteStore,new NI(ox(ZS(n.path)),r,2,DC.o))}}function YT(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a;return _y(this,(function(s){switch(s.label){case 0:return r=QC(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=LB.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u;return _y(this,(function(l){switch(l.label){case 0:n=QC(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _I.forEach(t,(function(t){return _I.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return _I.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!EI(r=l.sent()))throw r;return PC("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(c=n.kn.get(s),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(s,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function JT(e,t){return wy(this,void 0,void 0,(function(){var n,r;return _y(this,(function(i){switch(i.label){case 0:return(n=QC(e)).currentUser.isEqual(t)?[3,3]:(PC("SyncEngine","User change. New user:",t.toKey()),[4,HB(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new OC(TC.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,YT(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function XT(e,t){var n=QC(e),r=n.Co.get(t);if(r&&r.bo)return cE().add(r.key);var i=cE(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var c=n.Po.get(s[a]);i=i.unionWith(c.view.wo)}return i}function ZT(e,t){return wy(this,void 0,void 0,(function(){var n,r,i;return _y(this,(function(o){switch(o.label){case 0:return[4,JB((n=QC(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&KT(n,t.targetId,i.To),i)]}}))}))}function $T(e){return wy(this,void 0,void 0,(function(){var t;return _y(this,(function(n){return[2,ZB((t=QC(e)).localStore).then((function(e){return YT(t,e)}))]}))}))}function eO(e,t,n,r){return wy(this,void 0,void 0,(function(){var i,o;return _y(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=QC(e),r=QC(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):_I.resolve(null)}))}))}((i=QC(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,$D(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(VT(i,t,r||null),HT(i,t),function(e,t){QC(QC(e)._n).Gt(t)}(i.localStore,t)):UC(),a.label=4;case 4:return[4,YT(i,o)];case 5:return a.sent(),[3,7];case 6:PC("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function tO(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return _y(this,(function(u){switch(u.label){case 0:return sO(n=QC(e)),cO(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,nO(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,aT(n.remoteStore,!0)];case 2:for(u.sent(),o=0,a=i;o<a.length;o++)jD(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return zT(n,t),YB(n.localStore,t,!0)})),QD(n.remoteStore,t)})),[4,c]);case 4:return u.sent(),[4,nO(n,s)];case 5:return u.sent(),function(e){var t=QC(e);t.Co.forEach((function(e,n){QD(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Jx(fS.comparator)}(n),n.$o=!1,[4,aT(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function nO(e,t,n){return wy(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,l,h,d,f,A;return _y(this,(function(p){switch(p.label){case 0:n=QC(e),r=[],i=[],o=0,a=t,p.label=1;case 1:return o<a.length?(c=void 0,(u=n.Vo.get(s=a[o]))&&0!==u.length?[4,WB(n.localStore,ox(u[0]))]:[3,7]):[3,13];case 2:c=p.sent(),l=0,h=u,p.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,ZT(n,d)]):[3,6];case 4:(f=p.sent()).snapshot&&i.push(f.snapshot),p.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,XB(n.localStore,s)];case 8:return A=p.sent(),[4,WB(n.localStore,A)];case 9:return c=p.sent(),[4,FT(n,rO(A),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(c),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function rO(e){return XS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iO(e){var t=QC(e);return QC(QC(t.localStore).persistence).fn()}function oO(e,t,n,r){return wy(this,void 0,void 0,(function(){var i,o,a;return _y(this,(function(s){switch(s.label){case 0:return(i=QC(e)).$o?(PC("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ZB(i.localStore)];case 3:return o=s.sent(),a=hE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,YT(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,YB(i.localStore,t,!0)];case 6:return s.sent(),zT(i,t,r),[3,8];case 7:UC(),s.label=8;case 8:return[2]}}))}))}function aO(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,h;return _y(this,(function(d){switch(d.label){case 0:if(!(r=sO(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(PC("SyncEngine","Adding an already active target "+a),[3,5]):[4,XB(r.localStore,a)]:[3,6];case 2:return s=d.sent(),[4,WB(r.localStore,s)];case 3:return c=d.sent(),[4,FT(r,rO(s),c.targetId,!1)];case 4:d.sent(),jD(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(e){return _y(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,YB(r.localStore,e,!1).then((function(){QD(r.remoteStore,e),zT(r,e)})).catch(pB)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function sO(e){var t=QC(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LT.bind(null,t),t.vo._r=mT.bind(null,t.eventManager),t.vo.Mo=bT.bind(null,t.eventManager),t}function cO(e){var t=QC(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jT.bind(null,t),t}function uO(e,t,n){var r=QC(e);(function(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a,s,c;return _y(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=u.sent(),[4,function(e,t){var n=QC(e),r=xE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return u.sent()?[4,t.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(ST(r)),i=new CT(r,e.localStore,t.R),[4,t.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,YT(e,s.wn,void 0)];case 12:return u.sent(),[4,function(e,t){var n=QC(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return MC("SyncEngine","Loading bundle failed with "+(c=u.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var lO=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return this.R=DD(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return QB(this.persistence,new UB,e.initialUser,this.R)},e.prototype.qo=function(e){return new uD(hD.bs,this.R)},e.prototype.Bo=function(e){return new _D},e.prototype.terminate=function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),hO=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return yy(t,e),t.prototype.initialize=function(t){return wy(this,void 0,void 0,(function(){var n=this;return _y(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,$B(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,cO(this.Qo.syncEngine)];case 4:return r.sent(),[4,$D(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return QB(this.persistence,new UB,e.initialUser,this.R)},t.prototype.Uo=function(e){return new mB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=PB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nB.withCacheSize(this.cacheSizeBytes):nB.DEFAULT;return new OB(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ID(),BD(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new _D},t}(lO),dO=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return yy(t,e),t.prototype.initialize=function(t){return wy(this,void 0,void 0,(function(){var n,r=this;return _y(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof wD?(this.sharedClientState.syncEngine={ui:eO.bind(null,n),ai:oO.bind(null,n),hi:aO.bind(null,n),fn:iO.bind(null,n),ci:$T.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return wy(r,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return[4,tO(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ID();if(!wD.yt(t))throw new OC(TC.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=PB(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wD(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(hO),fO=function(){function e(){}return e.prototype.initialize=function(e,t){return wy(this,void 0,void 0,(function(){var n=this;return _y(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return MT(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=JT.bind(null,this.syncEngine),[4,aT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new pT},e.prototype.createDatastore=function(e){var t=DD(e.databaseInfo.databaseId),n=new ED(e.databaseInfo);return function(e,t,n){return new PD(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return MT(a.syncEngine,e,0)},o=CD.yt()?new CD:new kD,new MD(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new TT(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return wy(this,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return t=QC(e),PC("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,UD(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function AO(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return wy(this,void 0,void 0,(function(){var r;return _y(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var pO=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),gO=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new wI,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return wy(this,void 0,void 0,(function(){var e,t,n,r;return _y(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new _T(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return wy(this,void 0,void 0,(function(){var e,t;return _y(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return wy(this,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return wy(this,void 0,void 0,(function(){var e,t;return _y(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),vO=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return wy(this,void 0,void 0,(function(){var t,n=this;return _y(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new OC(TC.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return wy(this,void 0,void 0,(function(){var n,r,i,o,a,s;return _y(this,(function(c){switch(c.label){case 0:return n=QC(e),r=FE(n.R)+"/documents",i={documents:t.map((function(e){return BE(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=c.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){jC(!!t.found);var n=DE(e,t.found.name),r=xE(t.found.updateTime),i=new ES({mapValue:{fields:t.found.fields}});return BS.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jC(!!t.missing),jC(!!t.readTime);var n=DE(e,t.missing),r=xE(t.readTime);return BS.newNoDocument(n,r)}(e,t):UC()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());jC(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new qx(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return wy(this,void 0,void 0,(function(){var e,t=this;return _y(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=fS.fromPath(n);t.mutations.push(new Kx(r,t.precondition(r)))})),[4,function(e,t){return wy(this,void 0,void 0,(function(){var n,r,i;return _y(this,(function(o){switch(o.label){case 0:return n=QC(e),r=FE(n.R)+"/documents",i={writes:t.map((function(e){return ME(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw UC();t=WC.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new OC(TC.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Dx.updateTime(t):Dx.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(WC.min()))throw new OC(TC.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dx.updateTime(t)}return Dx.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),mO=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new TD(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return wy(e,void 0,void 0,(function(){var e,t,n=this;return _y(this,(function(r){return e=new vO(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!lS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wx(t)}return!1},e}(),bO=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=dD.UNAUTHENTICATED,this.clientId=VC.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return wy(r,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return PC("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return wy(this,void 0,void 0,(function(){return _y(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new OC(TC.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return wy(e,void 0,void 0,(function(){var e,n;return _y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=lT(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function yO(e,t){return wy(this,void 0,void 0,(function(){var n,r,i=this;return _y(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),PC("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return wy(i,void 0,void 0,(function(){return _y(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,HB(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function wO(e,t){return wy(this,void 0,void 0,(function(){var n,r;return _y(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,_O(e)];case 1:return n=i.sent(),PC("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return wy(this,void 0,void 0,(function(){var n,r;return _y(this,(function(i){switch(i.label){case 0:return(n=QC(e)).asyncQueue.verifyOperationInProgress(),PC("RemoteStore","RemoteStore received new credentials"),r=KD(n),n.Or.add(3),[4,UD(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,LD(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function _O(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(PC("FirestoreClient","Using default OfflineComponentProvider"),[4,yO(e,new lO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function kO(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(PC("FirestoreClient","Using default OnlineComponentProvider"),[4,wO(e,new fO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function CO(e){return _O(e).then((function(e){return e.persistence}))}function SO(e){return _O(e).then((function(e){return e.localStore}))}function xO(e){return kO(e).then((function(e){return e.remoteStore}))}function EO(e){return kO(e).then((function(e){return e.syncEngine}))}function IO(e){return wy(this,void 0,void 0,(function(){var t,n;return _y(this,(function(r){switch(r.label){case 0:return[4,kO(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=OT.bind(null,t.syncEngine),n.onUnlisten=RT.bind(null,t.syncEngine),n)]}}))}))}function BO(e,t,n){var r=this;void 0===n&&(n={});var i=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(r,void 0,void 0,(function(){var r;return _y(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new pO({next:function(o){t.enqueueAndForget((function(){return vT(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new OC(TC.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new OC(TC.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new wT(ZS(n.path),o,{includeMetadataChanges:!0,so:!0});return gT(e,a)},[4,IO(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function DO(e,t,n){var r=this;void 0===n&&(n={});var i=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(r,void 0,void 0,(function(){var r;return _y(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new pO({next:function(n){t.enqueueAndForget((function(){return vT(e,a)})),n.fromCache&&"server"===r.source?i.reject(new OC(TC.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new wT(n,o,{includeMetadataChanges:!0,so:!0});return gT(e,a)},[4,IO(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var TO=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},OO=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),FO=new Map,RO=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},PO=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(dD.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),NO=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),MO=function(){function e(e){var t=this;this.currentUser=dD.UNAUTHENTICATED,this.oc=new wI,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){PC("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(PC("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(PC("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(jC("string"==typeof n.accessToken),new RO(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return wy(n,void 0,void 0,(function(){return _y(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return jC(null===e||"string"==typeof e),new dD(e)},e}(),LO=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=dD.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),UO=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new LO(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(dD.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function jO(e,t,n){if(!n)throw new OC(TC.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function QO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new OC(TC.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function HO(e,t,n,r){if(!0===t&&!0===r)throw new OC(TC.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function VO(e){if(!fS.isDocumentKey(e))throw new OC(TC.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function zO(e){if(fS.isDocumentKey(e))throw new OC(TC.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":UC()}function KO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new OC(TC.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qO(e);throw new OC(TC.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function GO(e,t){if(t<=0)throw new OC(TC.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var WO=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new OC(TC.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new OC(TC.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),YO=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WO({}),this._settingsFrozen=!1,e instanceof OO?(this._databaseId=e,this._credentials=new PO):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new OC(TC.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new OO(e.options.projectId)}(e),this._credentials=new MO(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new OC(TC.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new OC(TC.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WO(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new PO;switch(e.type){case"gapi":var t=e.client;return jC(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new UO(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new OC(TC.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=FO.get(this))&&(PC("ComponentProvider","Removing Datastore"),FO.delete(this),e.terminate()),Promise.resolve();var e},e}(),JO=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ZO(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),XO=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ZO=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ZS(r))||this)._path=r,i.type="collection",i}return yy(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new JO(this.firestore,null,new fS(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(XO);function $O(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(eh.getModularInstance)(e),jO("collection","path",t),e instanceof YO)return zO(n=$C.fromString.apply($C,ky([t],r))),new ZO(e,null,n);if(!(e instanceof JO||e instanceof ZO))throw new OC(TC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zO(n=$C.fromString.apply($C,ky([e.path],r)).child($C.fromString(t))),new ZO(e.firestore,null,n)}function eF(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(eh.getModularInstance)(e),1===arguments.length&&(t=VC.u()),jO("doc","path",t),e instanceof YO)return VO(n=$C.fromString.apply($C,ky([t],r))),new JO(e,null,new fS(n));if(!(e instanceof JO||e instanceof ZO))throw new OC(TC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return VO(n=e._path.child($C.fromString.apply($C,ky([t],r)))),new JO(e.firestore,e instanceof ZO?e.converter:null,new fS(n))}function tF(e,t){return e=Object(eh.getModularInstance)(e),t=Object(eh.getModularInstance)(t),(e instanceof JO||e instanceof ZO)&&(t instanceof JO||t instanceof ZO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nF(e,t){return e=Object(eh.getModularInstance)(e),t=Object(eh.getModularInstance)(t),e instanceof XO&&t instanceof XO&&e.firestore===t.firestore&&sx(e._query,t._query)&&e.converter===t.converter}var rF=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new TD(this,"async_queue_retry"),this.Ic=function(){var t=BD();t&&PC("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=BD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=BD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new wI;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return wy(this,void 0,void 0,(function(){var e,t=this;return _y(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!EI(e=n.sent()))throw e;return PC("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,NC("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=uT.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&UC()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return wy(this,void 0,void 0,(function(){var e;return _y(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function iF(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var oF=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new wI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),aF=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new rF,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return yy(t,e),t.prototype._terminate=function(){return this._firestoreClient||cF(this),this._firestoreClient.terminate()},t}(YO);function sF(e){return e._firestoreClient||cF(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cF(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new TO(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bO(e._credentials,e._queue,r)}function uF(e,t,n){var r=this,i=new wI;return e.asyncQueue.enqueue((function(){return wy(r,void 0,void 0,(function(){var r;return _y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,yO(e,n)];case 1:return o.sent(),[4,wO(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===TC.FAILED_PRECONDITION||e.code===TC.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function lF(e){if(e._initialized||e._terminated)throw new OC(TC.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hF=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new OC(TC.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tS(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),dF=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(rS.fromBase64String(t))}catch(t){throw new OC(TC.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(rS.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),fF=function(e){this._methodName=e},AF=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new OC(TC.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new OC(TC.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return zC(this._lat,e._lat)||zC(this._long,e._long)},e}(),pF=/^__.*__$/,gF=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ux(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lx(e,this.data,t,this.fieldTransforms)},e}(),vF=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ux(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function mF(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw UC()}}var bF=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return UF(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(mF(this.Nc)&&pF.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),yF=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||DD(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new bF({Nc:e,methodName:t,qc:n,path:tS.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function wF(e){var t=e._freezeSettings(),n=DD(e._databaseId);return new yF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _F(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);PF("Data must be an object, but it was:",a,r);var s,c,u=FF(r,a);if(o.merge)s=new nS(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=NF(t,d[h],n);if(!a.contains(f))throw new OC(TC.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");jF(l,f)||l.push(f)}s=new nS(l),c=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=a.fieldTransforms;return new gF(new ES(u),s,c)}var kF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(fF);function CF(e,t,n){return new bF({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var SF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype._toFieldTransform=function(e){return new Ix(e.path,new yx)},t.prototype.isEqual=function(e){return e instanceof t},t}(fF),xF=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return yy(t,e),t.prototype._toFieldTransform=function(e){var t=CF(this,e,!0),n=this.Kc.map((function(e){return OF(e,t)})),r=new wx(n);return new Ix(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(fF),EF=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return yy(t,e),t.prototype._toFieldTransform=function(e){var t=CF(this,e,!0),n=this.Kc.map((function(e){return OF(e,t)})),r=new kx(n);return new Ix(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(fF),IF=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return yy(t,e),t.prototype._toFieldTransform=function(e){var t=new Sx(e.R,px(e.R,this.Qc));return new Ix(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(fF);function BF(e,t,n,r){var i=e.Uc(1,t,n);PF("Data must be an object, but it was:",i,r);var o=[],a=ES.empty();JC(r,(function(e,r){var s=LF(t,e,n);r=Object(eh.getModularInstance)(r);var c=i.Oc(s);if(r instanceof kF)o.push(s);else{var u=OF(r,c);null!=u&&(o.push(s),a.set(s,u))}}));var s=new nS(o);return new vF(a,s,i.fieldTransforms)}function DF(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[NF(t,r,n)],c=[i];if(o.length%2!=0)throw new OC(TC.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)s.push(NF(t,o[u])),c.push(o[u+1]);for(var l=[],h=ES.empty(),d=s.length-1;d>=0;--d)if(!jF(l,s[d])){var f=s[d],A=c[d];A=Object(eh.getModularInstance)(A);var p=a.Oc(f);if(A instanceof kF)l.push(f);else{var g=OF(A,p);null!=g&&(l.push(f),h.set(f,g))}}var v=new nS(l);return new vF(h,v,a.fieldTransforms)}function TF(e,t,n,r){return void 0===r&&(r=!1),OF(n,e.Uc(r?4:3,t))}function OF(e,t){if(RF(e=Object(eh.getModularInstance)(e)))return PF("Unsupported field value:",t,e),FF(e,t);if(e instanceof fF)return function(e,t){if(!mF(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=OF(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(eh.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return px(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=GC.fromDate(e);return{timestampValue:kE(t.R,n)}}if(e instanceof GC)return n=new GC(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:kE(t.R,n)};if(e instanceof AF)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dF)return{bytesValue:CE(t.R,e._byteString)};if(e instanceof JO){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:EE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+qO(e))}(e,t)}function FF(e,t){var n={};return XC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):JC(e,(function(e,r){var i=OF(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function RF(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof GC||e instanceof AF||e instanceof dF||e instanceof JO||e instanceof fF)}function PF(e,t,n){if(!RF(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qO(n);throw t.Lc("an object"===r?e+" a custom object":e+" "+r)}}function NF(e,t,n){if((t=Object(eh.getModularInstance)(t))instanceof hF)return t._internalPath;if("string"==typeof t)return LF(e,t);throw UF("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var MF=new RegExp("[~\\*/\\[\\]]");function LF(e,t,n){if(t.search(MF)>=0)throw UF("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(hF.bind.apply(hF,ky([void 0],t.split(".")))))._internalPath}catch(jR){throw UF("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function UF(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new OC(TC.INVALID_ARGUMENT,(s+=". ")+e+c)}function jF(e,t){return e.some((function(e){return e.isEqual(t)}))}var QF=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new JO(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new HF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(VF("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),HF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(QF);function VF(e,t){return"string"==typeof t?LF(e,t):t instanceof hF?t._internalPath:t._delegate._internalPath}var zF=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),qF=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return yy(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new KF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(VF("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(QF),KF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(qF),GF=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zF(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new KF(n._firestore,n._userDataWriter,r.key,r,new zF(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new OC(TC.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new KF(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zF(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new KF(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zF(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:WF(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function WF(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return UC()}}function YF(e,t){return e instanceof qF&&t instanceof qF?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof GF&&t instanceof GF&&e._firestore===t._firestore&&nF(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function JF(e){if(ex(e)&&0===e.explicitOrderBy.length)throw new OC(TC.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var XF=function(){};function ZF(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var $F=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return yy(t,e),t.prototype._apply=function(e){var t=wF(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new OC(TC.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){aR(a,o);for(var c=[],u=0,l=a;u<l.length;u++)c.push(oR(r,e,l[u]));s={arrayValue:{values:c}}}else s=oR(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||aR(a,o),s=TF(n,"where",a,"in"===o||"not-in"===o);var h=PS.create(i,o,s);return function(e,t){if(t.g()){var n=nx(e);if(null!==n&&!n.isEqual(t.field))throw new OC(TC.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=tx(e);null!==r&&sR(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new OC(TC.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new XO(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(XF),eR=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return yy(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new OC(TC.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new OC(TC.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new KS(t,n);return function(e,t){if(null===tx(e)){var n=nx(e);null!==n&&sR(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new XO(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new JS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(XF),tR=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return yy(t,e),t.prototype._apply=function(e){return new XO(e.firestore,e.converter,ax(e._query,this.Hc,this.Jc))},t}(XF),nR=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return yy(t,e),t.prototype._apply=function(e){var t=iR(e,this.type,this.Yc,this.Xc);return new XO(e.firestore,e.converter,function(e,t){return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(XF),rR=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return yy(t,e),t.prototype._apply=function(e){var t=iR(e,this.type,this.Yc,this.Xc);return new XO(e.firestore,e.converter,function(e,t){return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(XF);function iR(e,t,n,r){if(n[0]=Object(eh.getModularInstance)(n[0]),n[0]instanceof QF)return function(e,t,n,r,i){if(!r)throw new OC(TC.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ix(e);a<s.length;a++){var c=s[a];if(c.field.isKeyField())o.push(yS(t,r.key));else{var u=r.data.field(c.field);if(cS(u))throw new OC(TC.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new OC(TC.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new zS(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=wF(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new OC(TC.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],c=0;c<i.length;c++){var u=i[c];if(a[c].field.isKeyField()){if("string"!=typeof u)throw new OC(TC.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!rx(e)&&-1!==u.indexOf("/"))throw new OC(TC.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=e.path.child($C.fromString(u));if(!fS.isDocumentKey(l))throw new OC(TC.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new fS(l);s.push(yS(t,h))}else{var d=TF(n,r,u);s.push(d)}}return new zS(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function oR(e,t,n){if("string"==typeof(n=Object(eh.getModularInstance)(n))){if(""===n)throw new OC(TC.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!rx(t)&&-1!==n.indexOf("/"))throw new OC(TC.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child($C.fromString(n));if(!fS.isDocumentKey(r))throw new OC(TC.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yS(e,new fS(r))}if(n instanceof JO)return yS(e,n._key);throw new OC(TC.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qO(n)+".")}function aR(e,t){if(!Array.isArray(e)||0===e.length)throw new OC(TC.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new OC(TC.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function sR(e,t,n){if(!n.isEqual(t))throw new OC(TC.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var cR=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),AS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return aS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw UC()}},e.prototype.convertObject=function(e,t){var n=this,r={};return JC(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new AF(aS(e.latitude),aS(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return cS(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uS(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=oS(e);return new GC(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=$C.fromString(e);jC(XE(n));var r=new OO(n.get(1),n.get(3)),i=new fS(n.popFirst(5));return r.isEqual(t)||NC("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function uR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lR=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return yy(t,e),t.prototype.convertBytes=function(e){return new dF(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JO(this.firestore,null,t)},t}(cR),hR=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wF(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=dR(e,this._firestore),i=uR(r.converter,t,n),o=_F(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Dx.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=dR(e,this._firestore);return o="string"==typeof(t=Object(eh.getModularInstance)(t))||t instanceof hF?DF(this._dataReader,"WriteBatch.update",a._key,t,n,r):BF(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Dx.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=dR(e,this._firestore);return this._mutations=this._mutations.concat(new qx(t._key,Dx.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new OC(TC.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function dR(e,t){if((e=Object(eh.getModularInstance)(e)).firestore!==t)throw new OC(TC.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var fR=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return yy(t,e),t.prototype.convertBytes=function(e){return new dF(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JO(this.firestore,null,t)},t}(cR);function AR(e,t,n){e=KO(e,JO);var r=KO(e.firestore,aF),i=uR(e.converter,t,n);return vR(r,[_F(wF(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dx.none())])}function pR(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=KO(e,JO);var o=KO(e.firestore,aF),a=wF(o);return vR(o,[("string"==typeof(t=Object(eh.getModularInstance)(t))||t instanceof hF?DF(a,"updateDoc",e._key,t,n,r):BF(a,"updateDoc",e._key,t)).toMutation(e._key,Dx.exists(!0))])}function gR(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(eh.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||iF(i[s])||(a=i[s],s++);var c,u,l,h={includeMetadataChanges:a.includeMetadataChanges};if(iF(i[s])){var d=i[s];i[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[s+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof JO)u=KO(e.firestore,aF),l=ZS(e._key.path),c={next:function(t){i[s]&&i[s](mR(u,e,t))},error:i[s+1],complete:i[s+2]};else{var f=KO(e,XO);u=KO(f.firestore,aF),l=f._query;var A=new fR(u);c={next:function(e){i[s]&&i[s](new GF(u,A,f,e))},error:i[s+1],complete:i[s+2]},JF(e._query)}return function(e,t,n,r){var i=this,o=new pO(r),a=new wT(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return wy(i,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return t=gT,[4,IO(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return wy(i,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return t=vT,[4,IO(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(sF(u),l,h,c)}function vR(e,t){return function(e,t){var n=this,r=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(n,void 0,void 0,(function(){var n;return _y(this,(function(i){switch(i.label){case 0:return n=PT,[4,EO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(sF(e),t)}function mR(e,t,n){var r=n.docs.get(t._key),i=new fR(e);return new qF(e,i,t._key,r,new zF(n.hasPendingWrites,n.fromCache),t.converter)}var bR=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return yy(t,e),t.prototype.get=function(t){var n=this,r=dR(t,this._firestore),i=new fR(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new qF(n._firestore,i,r._key,e._document,new zF(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=wF(e)}return e.prototype.get=function(e){var t=this,n=dR(e,this._firestore),r=new lR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return UC();var i=e[0];if(i.isFoundDocument())return new QF(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new QF(t._firestore,r,n._key,null,n.converter);throw UC()}))},e.prototype.set=function(e,t,n){var r=dR(e,this._firestore),i=uR(r.converter,t,n),o=_F(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=dR(e,this._firestore);return o="string"==typeof(t=Object(eh.getModularInstance)(t))||t instanceof hF?DF(this._dataReader,"Transaction.update",a._key,t,n,r):BF(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=dR(e,this._firestore);return this._transaction.delete(t._key),this},e}());function yR(){if("undefined"==typeof Uint8Array)throw new OC(TC.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wR(){if("undefined"==typeof atob)throw new OC(TC.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _R=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return wR(),new e(dF.fromBase64String(t))},e.fromUint8Array=function(t){return yR(),new e(dF.fromUint8Array(t))},e.prototype.toBase64=function(){return wR(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yR(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),kR=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){lF(e=KO(e,aF));var n=sF(e),r=e._freezeSettings(),i=new fO;return uF(n,i,new hO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){lF(e=KO(e,aF));var t=sF(e),n=e._freezeSettings(),r=new fO;return uF(t,r,new dO(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new OC(TC.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new wI;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return wy(t,void 0,void 0,(function(){var t;return _y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return wy(this,void 0,void 0,(function(){return _y(this,(function(t){switch(t.label){case 0:return CI.yt()?[4,CI.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(PB(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),CR=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof OO||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||MC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=KO(e,YO))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&MC("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=dD.MOCK_USER;else{a=Object(eh.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new OC(TC.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new dD(c)}e._credentials=new NO(new RO(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return wy(t,void 0,void 0,(function(){var t,n;return _y(this,(function(r){switch(r.label){case 0:return[4,CO(e)];case 1:return t=r.sent(),[4,xO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=QC(e);return t.Or.delete(0),LD(t)}(n))]}}))}))}))}(sF(KO(this._delegate,aF)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return wy(t,void 0,void 0,(function(){var t,n;return _y(this,(function(r){switch(r.label){case 0:return[4,CO(e)];case 1:return t=r.sent(),[4,xO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return wy(this,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return(t=QC(e)).Or.add(0),[4,UD(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(sF(KO(this._delegate,aF)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&HO("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(t,void 0,void 0,(function(){var t;return _y(this,(function(r){switch(r.label){case 0:return t=QT,[4,EO(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(sF(KO(this._delegate,aF)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new pO(t);return e.asyncQueue.enqueueAndForget((function(){return wy(n,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return t=function(e,t){QC(e).Gr.add(t),t.next()},[4,IO(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return wy(n,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return t=function(e,t){QC(e).Gr.delete(t)},[4,IO(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(sF(e=KO(e,aF)),iF(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new OC(TC.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new LR(this,$O(this._delegate,e))}catch(e){throw DR(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new BR(this,eF(this._delegate,e))}catch(e){throw DR(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new PR(this,function(e,t){if(e=KO(e,YO),jO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new OC(TC.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new XO(e,null,function(e){return new JS($C.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw DR(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(n,void 0,void 0,(function(){var n;return _y(this,(function(i){switch(i.label){case 0:return[4,function(e){return kO(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new mO(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(sF(e),(function(n){return t(new bR(e,n))}))}(this._delegate,(function(n){return e(new xR(t,n))}))},e.prototype.batch=function(){var e=this;return sF(this._delegate),new ER(new hR(this._delegate,(function(t){return vR(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new OC(TC.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new OC(TC.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),SR=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return yy(t,e),t.prototype.convertBytes=function(e){return new _R(new dF(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return BR.eu(t,this.firestore,null)},t}(cR),xR=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SR(e)}return e.prototype.get=function(e){var t=this,n=UR(e);return this._delegate.get(n).then((function(e){return new FR(t._firestore,new qF(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=UR(e);return n?(QO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=UR(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ky([a,t,n],i)),this},e.prototype.delete=function(e){var t=UR(e);return this._delegate.delete(t),this},e}(),ER=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=UR(e);return n?(QO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=UR(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ky([a,t,n],i)),this},e.prototype.delete=function(e){var t=UR(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),IR=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new KF(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new RR(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new SR(t),n),i.set(n,o)),o},e}();IR.su=new WeakMap;var BR=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SR(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new OC(TC.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new JO(n._delegate,r,new fS(t)))},e.eu=function(t,n,r){return new e(n,new JO(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new LR(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new LR(this.firestore,$O(this._delegate,e))}catch(e){throw DR(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(eh.getModularInstance)(e))instanceof JO&&tF(this._delegate,e)},e.prototype.set=function(e,t){t=QO("DocumentReference.set",t);try{return t?AR(this._delegate,e,t):AR(this._delegate,e)}catch(e){throw DR(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pR(this._delegate,e):pR.apply(void 0,ky([this._delegate,e,t],n))}catch(e){throw DR(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return vR(KO((e=this._delegate).firestore,aF),[new qx(e._key,Dx.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=TR(t),i=OR(t,(function(t){return new FR(e.firestore,new qF(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gR(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=KO(e,JO);var t=KO(e.firestore,aF),n=sF(t),r=new fR(t);return function(e,t){var n=this,r=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(n,void 0,void 0,(function(){var n;return _y(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return wy(this,void 0,void 0,(function(){var r,i;return _y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=QC(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new OC(TC.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=lT(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,SO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new qF(t,r,e._key,n,new zF(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=KO(e,JO);var t=KO(e.firestore,aF);return BO(sF(t),e._key,{source:"server"}).then((function(n){return mR(t,e,n)}))}(this._delegate):function(e){e=KO(e,JO);var t=KO(e.firestore,aF);return BO(sF(t),e._key).then((function(n){return mR(t,e,n)}))}(this._delegate)).then((function(e){return new FR(t.firestore,new qF(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?IR.nu(this.firestore,t):null))},e}();function DR(e,t,n){return e.message=e.message.replace(t,n),e}function TR(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!iF(r))return r}return{}}function OR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=iF(e[0])?e[0]:iF(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var FR=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new BR(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return YF(this._delegate,e._delegate)},e}(),RR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yy(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(FR),PR=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SR(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ZF(this._delegate,function(e,t,n){var r=t,i=VF("where",e);return new $F(i,r,n)}(t,n,r)))}catch(t){throw DR(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ZF(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=VF("orderBy",e);return new eR(r,n)}(t,n)))}catch(t){throw DR(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ZF(this._delegate,function(e){return GO("limit",e),new tR("limit",e,"F")}(t)))}catch(t){throw DR(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ZF(this._delegate,function(e){return GO("limitToLast",e),new tR("limitToLast",e,"L")}(t)))}catch(t){throw DR(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZF(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nR("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw DR(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZF(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new nR("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw DR(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZF(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rR("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw DR(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZF(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new rR("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw DR(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return nF(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=KO(e,XO);var t=KO(e.firestore,aF),n=sF(t),r=new fR(t);return function(e,t){var n=this,r=new wI;return e.asyncQueue.enqueueAndForget((function(){return wy(n,void 0,void 0,(function(){var n;return _y(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return wy(this,void 0,void 0,(function(){var r,i,o,a,s;return _y(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,JB(e,t,!0)];case 1:return s=c.sent(),r=new IT(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),s=lT(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,SO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new GF(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=KO(e,XO);var t=KO(e.firestore,aF),n=sF(t),r=new fR(t);return DO(n,e._query,{source:"server"}).then((function(n){return new GF(t,r,e,n)}))}(this._delegate):function(e){e=KO(e,XO);var t=KO(e.firestore,aF),n=sF(t),r=new fR(t);return JF(e._query),DO(n,e._query).then((function(n){return new GF(t,r,e,n)}))}(this._delegate)).then((function(e){return new MR(t.firestore,new GF(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=TR(t),i=OR(t,(function(t){return new MR(e.firestore,new GF(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gR(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?IR.nu(this.firestore,t):null))},e}(),NR=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new RR(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),MR=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new PR(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new RR(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new NR(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new RR(n._firestore,r))}))},e.prototype.isEqual=function(e){return YF(this._delegate,e._delegate)},e}(),LR=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return yy(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new BR(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new BR(this.firestore,void 0===e?eF(this._delegate):eF(this._delegate,e))}catch(e){throw DR(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=KO(e.firestore,aF),r=eF(e),i=uR(e.converter,t);return vR(n,[_F(wF(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new BR(t.firestore,e)}))},t.prototype.isEqual=function(e){return tF(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?IR.nu(this.firestore,e):null))},t}(PR);function UR(e){return KO(e,JO)}var jR,QR,HR=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(hF.bind.apply(hF,ky([void 0],e)))}return e.documentId=function(){return new e(tS.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(eh.getModularInstance)(e))instanceof hF&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),VR=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new SF("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new kF("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xF("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new EF("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new IF("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),zR={Firestore:CR,GeoPoint:AF,Timestamp:GC,Blob:_R,Transaction:xR,WriteBatch:ER,DocumentReference:BR,DocumentSnapshot:FR,Query:PR,QueryDocumentSnapshot:RR,QuerySnapshot:MR,CollectionReference:LR,FieldPath:HR,FieldValue:VR,setLogLevel:function(e){FC.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new th.Component("firestore",(function(e){return function(e,t){return new CR(e,new aF(e,t),new kR)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},zR)))})(jR=Wl.default),jR.registerVersion("@firebase/firestore","2.4.1"),(QR=CR).prototype.loadBundle=function(e){return function(e,t){var n=sF(e=KO(e,aF)),r=new oF;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new gO(e,t)}(function(e,t){if(e instanceof Uint8Array)return AO(e,t);if(e instanceof ArrayBuffer)return AO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,DD(t));e.asyncQueue.enqueueAndForget((function(){return wy(i,void 0,void 0,(function(){var t;return _y(this,(function(n){switch(n.label){case 0:return t=uO,[4,EO(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)},QR.prototype.namedQuery=function(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return wy(n,void 0,void 0,(function(){var n;return _y(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=QC(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,SO(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(sF(t=KO(t,aF)),n).then((function(e){return e?new XO(t,null,e.query):null}))).then((function(e){return e?new PR(r,e):null}))};var qR=function(e,t){return(qR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function KR(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function GR(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var WR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},YR=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}qR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),JR=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return KR(this,void 0,void 0,(function(){var e;return GR(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return KR(this,void 0,void 0,(function(){return GR(this,(function(e){switch(e.label){case 0:if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return KR(this,void 0,void 0,(function(){var e,t;return GR(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function XR(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var ZR=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return XR(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?XR(e,(function(e){return t.decode(e)})):e},e}(),$R=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new ZR,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new JR(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(jR){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return KR(this,void 0,void 0,(function(){var r,i,o;return GR(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return KR(this,void 0,void 0,(function(){var e;return GR(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return KR(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,h,d;return GR(this,(function(f){switch(f.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=f.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new YR("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(n.timeout||7e4),c=s.timer,u=s.promise,[4,Promise.race([eP(c,this.postJSON(r,i,o)),u,eP(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new YR("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!WR[s])return new YR("internal","internal");r=WR[s],i=s}var c=a.message;"string"==typeof c&&(i=c),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(jR){}return"ok"===r?null:new YR(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new YR("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new YR("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function eP(e,t){return KR(this,void 0,void 0,(function(){var n;return GR(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:$R};e.INTERNAL.registerComponent(new th.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new $R(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Wl.default,fetch.bind(self)),Wl.default.registerVersion("@firebase/functions","0.6.16");var tP=function(){return(tP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function nP(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function rP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function iP(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var oP,aP=n("nbvr"),sP=((oP={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',oP["not-registered"]="Firebase Installation is not registered.",oP["installation-not-found"]="Firebase Installation not found.",oP["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',oP["app-offline"]="Could not process request. Application offline.",oP["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",oP),cP=new eh.ErrorFactory("installations","Installations",sP);function uP(e){return e instanceof eh.FirebaseError&&e.code.includes("request-failed")}function lP(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function hP(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function dP(e,t){return nP(this,void 0,void 0,(function(){var n,r;return rP(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,cP.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function fP(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function AP(e,t){var n=t.refreshToken,r=fP(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function pP(e){return nP(this,void 0,void 0,(function(){var t;return rP(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function gP(e,t){var n=t.fid;return nP(this,void 0,void 0,(function(){var t,r,i,o,a;return rP(this,(function(s){switch(s.label){case 0:return t=lP(e),r=fP(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"})},[4,pP((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:hP(a.authToken)}];case 3:return[4,dP("Create Installation",o)];case 4:throw s.sent()}}))}))}function vP(e){return new Promise((function(t){setTimeout(t,e)}))}var mP=/^[cdef][\w-]{21}$/;function bP(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return mP.test(t)?t:""}catch(n){return""}}function yP(e){return e.appName+"!"+e.appId}var wP=new Map;function _P(e,t){var n=yP(e);kP(n,t),function(e,t){var n=SP();n&&n.postMessage({key:e,fid:t}),xP()}(n,t)}function kP(e,t){var n,r,i=wP.get(e);if(i)try{for(var o=iP(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var CP=null;function SP(){return!CP&&"BroadcastChannel"in self&&((CP=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){kP(e.data.key,e.data.fid)}),CP}function xP(){0===wP.size&&CP&&(CP.close(),CP=null)}var EP="firebase-installations-store",IP=null;function BP(){return IP||(IP=Object(aP.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(EP)}}))),IP}function DP(e,t){return nP(this,void 0,void 0,(function(){var n,r,i,o,a;return rP(this,(function(s){switch(s.label){case 0:return n=yP(e),[4,BP()];case 1:return r=s.sent(),i=r.transaction(EP,"readwrite"),[4,(o=i.objectStore(EP)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||_P(e,t.fid),[2,t]}}))}))}function TP(e){return nP(this,void 0,void 0,(function(){var t,n,r;return rP(this,(function(i){switch(i.label){case 0:return t=yP(e),[4,BP()];case 1:return n=i.sent(),[4,(r=n.transaction(EP,"readwrite")).objectStore(EP).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function OP(e,t){return nP(this,void 0,void 0,(function(){var n,r,i,o,a,s;return rP(this,(function(c){switch(c.label){case 0:return n=yP(e),[4,BP()];case 1:return r=c.sent(),i=r.transaction(EP,"readwrite"),[4,(o=i.objectStore(EP)).get(n)];case 2:return a=c.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!s||a&&a.fid===s.fid||_P(e,s.fid),[2,s]}}))}))}function FP(e){return nP(this,void 0,void 0,(function(){var t,n,r;return rP(this,(function(i){switch(i.label){case 0:return[4,OP(e,(function(n){var r=function(e){return NP(e||{fid:bP(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(cP.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return nP(this,void 0,void 0,(function(){var n,r;return rP(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,gP(e,t)];case 1:return n=i.sent(),[2,DP(e,n)];case 2:return uP(r=i.sent())&&409===r.customData.serverCode?[4,TP(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,DP(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:RP(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function RP(e){return nP(this,void 0,void 0,(function(){var t,n,r,i;return rP(this,(function(o){switch(o.label){case 0:return[4,PP(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,vP(100)];case 3:return o.sent(),[4,PP(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,FP(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function PP(e){return OP(e,(function(e){if(!e)throw cP.create("installation-not-found");return NP(e)}))}function NP(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function MP(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return nP(this,void 0,void 0,(function(){var e,i,o,a,s;return rP(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return lP(e)+"/"+n+"/authTokens:generate"}(n,t),i=AP(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.32"}})},[4,pP((function(){return fetch(e,a)}))];case 1:return(s=c.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,hP(c.sent())];case 3:return[4,dP("Generate Auth Token",s)];case 4:throw c.sent()}}))}))}function LP(e,t){return void 0===t&&(t=!1),nP(this,void 0,void 0,(function(){var n,r,i;return rP(this,(function(o){switch(o.label){case 0:return[4,OP(e.appConfig,(function(r){if(!jP(r))throw cP.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===o.requestStatus)return n=function(e,t){return nP(this,void 0,void 0,(function(){var n,r;return rP(this,(function(i){switch(i.label){case 0:return[4,UP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,vP(100)];case 3:return i.sent(),[4,UP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,LP(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw cP.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return tP(tP({},e),{authToken:t})}(r);return n=function(e,t){return nP(this,void 0,void 0,(function(){var n,r,i;return rP(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,MP(e,t)];case 1:return n=o.sent(),i=tP(tP({},t),{authToken:n}),[4,DP(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!uP(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,TP(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=tP(tP({},t),{authToken:{requestStatus:0}}),[4,DP(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function UP(e){return OP(e,(function(e){if(!jP(e))throw cP.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?tP(tP({},e),{authToken:{requestStatus:0}}):e}))}function jP(e){return void 0!==e&&2===e.registrationStatus}function QP(e){return nP(this,void 0,void 0,(function(){var t;return rP(this,(function(n){switch(n.label){case 0:return[4,FP(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function HP(e,t){return nP(this,void 0,void 0,(function(){var n,r,i,o;return rP(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return lP(e)+"/"+n}(e,t),r=AP(e,t),i={method:"DELETE",headers:r},[4,pP((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,dP("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function VP(e){return cP.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new th.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw VP("App Configuration");if(!e.name)throw VP("App Name");try{for(var r=iP(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw VP(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return nP(this,void 0,void 0,(function(){var t,n,r;return rP(this,(function(i){switch(i.label){case 0:return[4,FP(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):LP(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),nP(this,void 0,void 0,(function(){return rP(this,(function(n){switch(n.label){case 0:return[4,QP(e.appConfig)];case 1:return n.sent(),[4,LP(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return nP(this,void 0,void 0,(function(){var t,n;return rP(this,(function(r){switch(r.label){case 0:return[4,OP(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw cP.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw cP.create("app-offline");case 3:return[4,HP(t,n)];case 4:return r.sent(),[4,TP(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){SP();var n=yP(e),r=wP.get(n);r||(r=new Set,wP.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=yP(e),r=wP.get(n);r&&(r.delete(t),0===r.size&&wP.delete(n),xP())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.32")}(Wl.default);var zP,qP=function(){return(qP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function KP(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function GP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function WP(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var YP=((zP={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',zP["only-available-in-window"]="This method is available in a Window context.",zP["only-available-in-sw"]="This method is available in a service worker context.",zP["permission-default"]="The notification permission was not granted and dismissed instead.",zP["permission-blocked"]="The notification permission was not granted and blocked instead.",zP["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",zP["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",zP["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",zP["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",zP["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",zP["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",zP["token-update-no-token"]="FCM returned no token when updating the user to push.",zP["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",zP["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",zP["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",zP["invalid-vapid-key"]="The public VAPID key must be a string.",zP["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",zP),JP=new eh.ErrorFactory("messaging","Messaging",YP),XP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ZP=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function $P(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eN(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function tN(e){return KP(this,void 0,void 0,(function(){var t,n=this;return GP(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return t=null,[4,Object(aP.openDb)("fcm_token_details_db",5,(function(r){return KP(n,void 0,void 0,(function(){var n,i,o,a;return GP(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:$P(o.vapidKey)}}}else 3===r.oldVersion?t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:$P(o.auth),p256dh:$P(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:$P(o.vapidKey)}}:4===r.oldVersion&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:$P(o.auth),p256dh:$P(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:$P(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(aP.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(aP.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(aP.deleteDb)("undefined")];case 6:return r.sent(),[2,nN(t)?t:null]}}))}))}function nN(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var rN=null;function iN(){return rN||(rN=Object(aP.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}}))),rN}function oN(e){return KP(this,void 0,void 0,(function(){var t,n,r;return GP(this,(function(i){switch(i.label){case 0:return t=cN(e),[4,iN()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,tN(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,aN(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function aN(e,t){return KP(this,void 0,void 0,(function(){var n,r,i;return GP(this,(function(o){switch(o.label){case 0:return n=cN(e),[4,iN()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function sN(e){return KP(this,void 0,void 0,(function(){var t,n,r;return GP(this,(function(i){switch(i.label){case 0:return t=cN(e),[4,iN()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function cN(e){return e.appConfig.appId}function uN(e,t){return KP(this,void 0,void 0,(function(){var n,r,i,o,a;return GP(this,(function(s){switch(s.label){case 0:return[4,fN(e)];case 1:n=s.sent(),r=AN(t),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(dN(e.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),JP.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw JP.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw JP.create("token-subscribe-no-token");return[2,o.token]}}))}))}function lN(e,t){return KP(this,void 0,void 0,(function(){var n,r,i,o,a;return GP(this,(function(s){switch(s.label){case 0:return[4,fN(e)];case 1:n=s.sent(),r=AN(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(dN(e.appConfig)+"/"+t.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),JP.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw JP.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw JP.create("token-update-no-token");return[2,o.token]}}))}))}function hN(e,t){return KP(this,void 0,void 0,(function(){var n,r,i,o;return GP(this,(function(a){switch(a.label){case 0:return[4,fN(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(dN(e.appConfig)+"/"+t,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw JP.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),JP.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function dN(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function fN(e){var t=e.appConfig,n=e.installations;return KP(this,void 0,void 0,(function(){var e;return GP(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function AN(e){var t=e.vapidKey,n={web:{endpoint:e.endpoint,auth:e.auth,p256dh:e.p256dh}};return t!==XP&&(n.web.applicationPubKey=t),n}function pN(e,t,n){return KP(this,void 0,void 0,(function(){var r,i,o,a;return GP(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw JP.create("permission-blocked");return[4,bN(t,n)];case 1:return r=s.sent(),[4,oN(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:$P(r.getKey("auth")),p256dh:$P(r.getKey("p256dh"))},i?[3,3]:[2,mN(e,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,hN(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,mN(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,vN({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var c,u,l}))}))}function gN(e,t){return KP(this,void 0,void 0,(function(){var n,r;return GP(this,(function(i){switch(i.label){case 0:return[4,oN(e)];case 1:return(n=i.sent())?[4,hN(e,n.token)]:[3,4];case 2:return i.sent(),[4,sN(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function vN(e,t,n){return KP(this,void 0,void 0,(function(){var r,i,o;return GP(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,lN(t,e)];case 1:return r=a.sent(),i=qP(qP({},e),{token:r,createTime:Date.now()}),[4,aN(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,gN(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function mN(e,t){return KP(this,void 0,void 0,(function(){var n,r;return GP(this,(function(i){switch(i.label){case 0:return[4,uN(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,aN(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function bN(e,t){return KP(this,void 0,void 0,(function(){var n;return GP(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eN(t)})]}}))}))}function yN(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function wN(e){return new Promise((function(t){setTimeout(t,e)}))}var _N=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw JP.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return KP(this,void 0,void 0,(function(){var n;return GP(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,oN(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:XP,r.label=2;case 2:return[2,pN(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return gN(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw JP.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw JP.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw JP.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw JP.create("only-available-in-window")},e.prototype.onMessage=function(){throw JP.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw JP.create("only-available-in-window")},e.prototype.onPush=function(e){return KP(this,void 0,void 0,(function(){var t,n,r,i;return GP(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,xN()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,SN(n,t)]:(r=!1,t.notification?[4,EN(kN(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,wN(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return KP(this,void 0,void 0,(function(){var r;return GP(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,gN(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,oN(this.firebaseDependencies)];case 3:return r=i.sent(),[4,gN(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,pN(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:XP)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return KP(this,void 0,void 0,(function(){var r,i,o,a,s;return GP(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(yN(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,CN(o)]):[2]):[2];case 1:return(s=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=c.sent(),[4,wN(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=c.sent(),c.label=6;case 6:return s?(r.messageType=ZP.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function kN(e){var t,n=qP({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function CN(e){return KP(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return GP(this,(function(c){switch(c.label){case 0:return[4,xN()];case 1:t=c.sent();try{for(n=WP(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function SN(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ZP.PUSH_RECEIVED;try{for(var i=WP(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function xN(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function EN(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var IN=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return KP(this,void 0,void 0,(function(){var t,n;return GP(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===ZP.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),yN(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return KP(this,void 0,void 0,(function(){return GP(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw JP.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,pN(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return KP(this,void 0,void 0,(function(){return GP(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=XP),[2]}))}))},e.prototype.updateSwReg=function(e){return KP(this,void 0,void 0,(function(){return GP(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw JP.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return KP(this,void 0,void 0,(function(){var e,t;return GP(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),JP.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return KP(this,void 0,void 0,(function(){return GP(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,gN(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return KP(this,void 0,void 0,(function(){var e;return GP(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw JP.create("denied"===e?"permission-blocked":"permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw JP.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw JP.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw JP.create("invalid-sw-registration");if(this.swRegistration)throw JP.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw JP.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw JP.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return KP(this,void 0,void 0,(function(){var n;return GP(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case ZP.NOTIFICATION_CLICKED:return"notification_open";case ZP.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function BN(e){return JP.create("missing-app-config-values",{valueName:e})}var DN={isSupported:TN};function TN(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Wl.default.INTERNAL.registerComponent(new th.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw BN("App Configuration Object");if(!e.name)throw BN("App Name");var r=e.options;try{for(var i=WP(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw BN(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!TN())throw JP.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new _N(n):new IN(n)}),"PUBLIC").setServiceProps(DN));var ON=function(){return(ON=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function FN(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var RN,PN,NN,MN=((RN={})["trace started"]="Trace {$traceName} was started before.",RN["trace stopped"]="Trace {$traceName} is not running.",RN["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",RN["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",RN["no window"]="Window is not available.",RN["no app id"]="App id is not available.",RN["no project id"]="Project id is not available.",RN["no api key"]="Api key is not available.",RN["invalid cc log"]="Attempted to queue invalid cc event",RN["FB not default"]="Performance can only start when Firebase app instance is the default one.",RN["RC response not ok"]="RC response is not ok",RN["invalid attribute name"]="Attribute name {$attributeName} is invalid.",RN["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",RN["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",RN["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",RN),LN=new eh.ErrorFactory("performance","Performance",MN),UN=new Cy.Logger("Performance");UN.logLevel=Cy.LogLevel.INFO;var jN,QN=function(){function e(e){if(this.window=e,!e)throw LN.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(eh.isIndexedDBAvailable)()||(UN.info("IndexedDB is not supported by current browswer"),!1):(UN.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===PN&&(PN=new e(NN)),PN},e}();function HN(e,t){var n=e.length-t.length;if(n<0||n>1)throw LN.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var VN,zN=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=HN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=HN("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw LN.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw LN.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw LN.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===jN&&(jN=new e),jN},e}();function qN(){return VN}var KN=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e}({}),GN=["firebase_","google_","ga_"],WN=new RegExp("^[a-zA-Z]\\w*$");function YN(){var e=QN.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function JN(){switch(QN.getInstance().document.visibilityState){case"visible":return KN.VISIBLE;case"hidden":return KN.HIDDEN;default:return KN.UNKNOWN}}function XN(){var e=QN.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function ZN(e){if(!e)return e;var t=zN.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=$N(t.tracesSamplingRate),t.logNetworkAfterSampling=$N(t.networkRequestsSamplingRate),e}function $N(e){return Math.random()<=e}var eM,tM=1;function nM(){return tM=2,eM=eM||function(){var e=QN.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){e.addEventListener("readystatechange",(function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())}))}else t()}))}().then((function(){return(e=zN.getInstance().installationsService.getId()).then((function(e){VN=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=QN.getInstance().localStorage;if(e){var t=e.getItem("@firebase/performance/configexpire");if(t&&Number(t)>Date.now()){var n=e.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return t?(ZN(t),Promise.resolve()):function(e){return(t=zN.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+zN.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+zN.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:zN.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw LN.create("RC response not ok")}))})).catch((function(){UN.info("Could not fetch config, will use default configs")}));var t}(e).then(ZN).then((function(e){return function(e){var t=QN.getInstance().localStorage;e&&t&&(t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*zN.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return rM()}),(function(){return rM()}))}function rM(){tM=3}var iM,oM=3,aM=[],sM=!1;function cM(e){if(!e.eventTime||!e.message)throw LN.create("invalid cc log");aM=FN(FN([],aM),[e])}function uM(e,t){var n;iM||(n=dM,iM=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.apply(void 0,e);cM({message:r,eventTime:Date.now()})}),iM(e,t)}function lM(e){var t=zN.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&QN.getInstance().requiredApisAvailable()&&(e.isAuto&&JN()!==KN.VISIBLE||(3===tM?hM(e):nM().then((function(){return hM(e)}),(function(){return hM(e)}))))}function hM(e){if(qN()){var t=zN.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return uM(e,1)}),0)}}function dM(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:fM(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:fM(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function fM(){return{google_app_id:zN.getInstance().getAppId(),app_instance_id:qN(),web_app_info:{sdk_version:"0.4.18",page_url:QN.getInstance().getUrl(),service_worker_status:YN(),visibility_state:JN(),effective_connection_type:XN()},application_process_state:0}}var AM=["_fp","_fcp","_fid"],pM=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=QN.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw LN.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw LN.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),lM(this)},e.prototype.record=function(e,t,n){if(e<=0)throw LN.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw LN.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=ON({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}lM(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(o=this.name,0===(i=e).length||i.length>100||!(o&&o.startsWith("_wt_")&&AM.indexOf(i)>-1)&&i.startsWith("_"))throw LN.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&UN.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||GN.some((function(e){return n.startsWith(e)}))||!n.match(WN)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw LN.create("invalid attribute name",{attributeName:e});if(!i)throw LN.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return ON({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=QN.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*QN.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var c=n.find((function(e){return"first-contentful-paint"===e.name}));c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}lM(o)}},e.createUserTimingTrace=function(t){lM(new e(t,!1,t))},e}();function gM(e){var t=e;if(t&&void 0!==t.responseStart){var n=QN.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=zN.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return uM(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function vM(){qN()&&(setTimeout((function(){return function(){var e=QN.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){pM.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),pM.createOobTrace(t,n,e))}))}else pM.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=QN.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)gM(n[t]);e.setupObserver("resource",gM)}()}),0),setTimeout((function(){return function(){for(var e=QN.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)mM(n[t]);e.setupObserver("measure",mM)}()}),0))}function mM(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&pM.createUserTimingTrace(t)}var bM=function(){function e(e){this.app=e,QN.getInstance().requiredApisAvailable()&&Object(eh.validateIndexedDBOpenable)().then((function(e){e&&(sM||(function e(t){setTimeout((function(){var t,n;if(0!==oM)return aM.length?(n=(t=aM.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(t,n){return function(e){var t=zN.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(t).then((function(e){return e.ok||UN.info("Call to Firebase backend failed."),e.json()})).then((function(t){var r=Number(t.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(aM=FN(FN([],n),aM),UN.info("Retry transport request later.")),oM=3,e(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:zN.getInstance().logSource,log_event:n},t).catch((function(){aM=FN(FN([],t),aM),oM--,UN.info("Tries left: "+oM+"."),e(1e4)}))):e(1e4)}),t)}(5500),sM=!0),nM().then(vM,vM))})).catch((function(e){UN.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new pM(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return zN.getInstance().instrumentationEnabled},set:function(e){zN.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return zN.getInstance().dataCollectionEnabled},set:function(e){zN.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new th.Component("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw LN.create("FB not default");if("undefined"==typeof window)throw LN.create("no window");return function(e){NN=e}(window),zN.getInstance().firebaseAppInstance=e,zN.getInstance().installationsService=t,new bM(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.18")}(Wl.default);var yM=function(){return(yM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function wM(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function _M(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var kM,CM="https://www.googletagmanager.com/gtag/js",SM=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),xM=function(e){return e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),EM=new Cy.Logger("@firebase/analytics");function IM(e,t,n,r,i,o){return wM(this,void 0,void 0,(function(){var a,s,c,u;return _M(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(c=s.find((function(e){return e.measurementId===i})))?[4,t[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),EM.error(u),[3,8];case 8:return e(SM.CONFIG,i,o),[2]}}))}))}function BM(e,t,n,r,i){return wM(this,void 0,void 0,(function(){var o,a,s,c,u,l,h;return _M(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),c=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=a;u<l.length&&"break"!==c(l[u]);u++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(SM.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),EM.error(h),[3,5];case 5:return[2]}}))}))}var DM=((kM={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",kM["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",kM["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",kM["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",kM["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",kM["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",kM["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",kM["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',kM["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',kM),TM=new eh.ErrorFactory("analytics","Analytics",DM),OM=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function FM(e){var t;return wM(this,void 0,void 0,(function(){var n,r,i,o,a,s;return _M(this,(function(c){switch(c.label){case 0:return n=e.appId,r={method:"GET",headers:(u=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return s=c.sent(),(null===(t=s.error)||void 0===t?void 0:t.message)&&(a=s.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw TM.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var u}))}))}function RM(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=OM),wM(this,void 0,void 0,(function(){var t,a,s,c,u,l,h;return _M(this,(function(d){switch(d.label){case 0:t=e.appId,a=e.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,PM(n,i)];case 2:return d.sent(),[3,4];case 3:if(s=d.sent(),a)return EM.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return d.trys.push([4,6,,7]),[4,FM(e)];case 5:return c=d.sent(),r.deleteThrottleMetadata(t),[2,c];case 6:if(!function(e){if(!(e instanceof eh.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u=d.sent())){if(r.deleteThrottleMetadata(t),a)return EM.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:t,measurementId:a}];throw u}return l=503===Number(u.customData.httpStatus)?Object(eh.calculateBackoffMillis)(o,r.intervalMillis,30):Object(eh.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),EM.debug("Calling attemptFetch again in "+l+" millis"),[2,RM(e,h,n,r)];case 7:return[2]}}))}))}function PM(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(TM.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var NM,MM,LM=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),UM={},jM=[],QM={},HM="dataLayer",VM="gtag",zM=!1;function qM(e){if(zM)throw TM.create("already-initialized");e.dataLayerName&&(HM=e.dataLayerName),e.gtagName&&(VM=e.gtagName)}function KM(){return wM(this,void 0,void 0,(function(){return _M(this,(function(e){switch(e.label){case 0:if(Object(eh.isBrowserExtension)())return[2,!1];if(!Object(eh.areCookiesEnabled)())return[2,!1];if(!Object(eh.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(eh.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new th.Component("analytics",(function(e){return function(e,t){!function(){var e=[];if(Object(eh.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(eh.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=TM.create("invalid-analytics-context",{errorInfo:t});EM.warn(n.message)}}();var n,r,i=e.options.appId;if(!i)throw TM.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw TM.create("no-api-key");EM.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=UM[i])throw TM.create("already-exists",{id:i});if(!zM){n=HM,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return wM(this,void 0,void 0,(function(){var s;return _M(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==SM.EVENT?[3,2]:[4,BM(e,t,n,o,a)];case 1:return c.sent(),[3,5];case 2:return i!==SM.CONFIG?[3,4]:[4,IM(e,t,n,r,o,a)];case 3:return c.sent(),[3,5];case 4:e(SM.SET,o),c.label=5;case 5:return[3,7];case 6:return s=c.sent(),EM.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(UM,jM,QM,HM,VM);MM=o.wrappedGtag,NM=o.gtagCore,zM=!0}return UM[i]=function(e,t,n,r,i,o){return wM(this,void 0,void 0,(function(){var a,s,c,u,l,h,d;return _M(this,(function(f){switch(f.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=OM),wM(this,void 0,void 0,(function(){var n,r,i,o,a,s,c=this;return _M(this,(function(u){if(i=(n=e.options).apiKey,o=n.measurementId,!(r=n.appId))throw TM.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw TM.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new LM,setTimeout((function(){return wM(c,void 0,void 0,(function(){return _M(this,(function(e){return s.abort(),[2]}))}))}),6e4),[2,RM({appId:r,apiKey:i,measurementId:o},a,s,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&EM.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return EM.error(e)})),t.push(a),s=function(){return wM(this,void 0,void 0,(function(){var e;return _M(this,(function(t){switch(t.label){case 0:return Object(eh.isIndexedDBAvailable)()?[3,1]:(EM.warn(TM.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(eh.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),EM.warn(TM.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return c=f.sent(),u=c[0],l=c[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(CM))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=CM+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=l&&(h.firebase_id=l),i(SM.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}(e,jM,QM,t,NM,HM),{app:e,logEvent:function(e,t,n){(function(e,t,n,r,i){return wM(this,void 0,void 0,(function(){var o,a;return _M(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(SM.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=yM(yM({},r),{send_to:o}),e(SM.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(MM,UM[i],e,t,n).catch((function(e){return EM.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return wM(this,void 0,void 0,(function(){var i;return _M(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(SM.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(SM.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(MM,UM[i],e,t).catch((function(e){return EM.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return wM(this,void 0,void 0,(function(){var i;return _M(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(SM.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(SM.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(MM,UM[i],e,t).catch((function(e){return EM.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return wM(this,void 0,void 0,(function(){var i,o,a,s,c;return _M(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return e(SM.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=u.sent(),e(SM.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))})(MM,UM[i],e,t).catch((function(e){return EM.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return wM(this,void 0,void 0,(function(){var n;return _M(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(UM[i],e).catch((function(e){return EM.error(e)}))},INTERNAL:{delete:function(){return delete UM[i],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:qM,EventName:xM,isSupported:KM})),e.INTERNAL.registerComponent(new th.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(jR){throw TM.create("interop-component-reg-failed",{reason:jR})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(Wl.default);var GM=function(){return(GM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function WM(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(jR){o(jR)}}function s(e){try{c(r.throw(e))}catch(jR){o(jR)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function YM(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(jR){s=[6,jR],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var JM,XM=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return WM(this,void 0,void 0,(function(){var t,n,r,i,o;return YM(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),ZM=((JM={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",JM["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",JM["registration-api-key"]="Undefined API key. Check Firebase app initialization.",JM["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",JM["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",JM["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",JM["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",JM["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",JM["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",JM["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',JM["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',JM["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",JM["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",JM),$M=new eh.ErrorFactory("remoteconfig","Remote Config",ZM),eL=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return WM(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,h,d,f,A,p,g;return YM(this,(function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=v.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return v.sent(),[4,a];case 4:return c=v.sent(),[3,6];case 5:throw u=v.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),$M.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];p=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,c.json()];case 8:return p=v.sent(),[3,10];case 9:throw g=v.sent(),$M.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:f=p.entries,A=p.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===A?h=500:"NO_CHANGE"===A?h=304:"NO_TEMPLATE"!==A&&"EMPTY_CONFIG"!==A||(f={}),304!==h&&200!==h)throw $M.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var m}))}))},e}(),tL=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),nL=["1","true","t","yes","y","on"],rL=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&nL.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),iL=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Cy.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Cy.LogLevel.SILENT;break;default:this._logger.logLevel=Cy.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return WM(this,void 0,void 0,(function(){var e,t,n;return YM(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),n=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return WM(this,void 0,void 0,(function(){var e,t,n,r=this;return YM(this,(function(i){switch(i.label){case 0:e=new tL,setTimeout((function(){return WM(r,void 0,void 0,(function(){return YM(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof eh.FirebaseError&&-1!==e.code.indexOf("fetch-throttle")}(t)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return WM(this,void 0,void 0,(function(){return YM(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(GM(GM({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new rL("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new rL("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new rL("static"))},e}();function oL(e,t){var n=e.target.error||void 0;return $M.create(t,{originalErrorMessage:n&&n.message})}var aL=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(oL(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return WM(this,void 0,void 0,(function(){var t,n=this;return YM(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(oL(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(jR){i($M.create("storage-get",{originalErrorMessage:jR&&jR.message}))}}))]}}))}))},e.prototype.set=function(e,t){return WM(this,void 0,void 0,(function(){var n,r=this;return YM(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var c=a.put({compositeKey:s,value:t});c.onerror=function(e){o(oL(e,"storage-set"))},c.onsuccess=function(){i()}}catch(jR){o($M.create("storage-set",{originalErrorMessage:jR&&jR.message}))}}))]}}))}))},e.prototype.delete=function(e){return WM(this,void 0,void 0,(function(){var t,n=this;return YM(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(oL(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(jR){i($M.create("storage-delete",{originalErrorMessage:jR&&jR.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),sL=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return WM(this,void 0,void 0,(function(){var e,t,n,r,i,o;return YM(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function cL(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r($M.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var uL,lL=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return WM(this,void 0,void 0,(function(){var t;return YM(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return WM(this,void 0,void 0,(function(){var t,i,o;return YM(this,(function(a){switch(a.label){case 0:return[4,cL(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof eh.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(eh.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}();(uL=Wl.default).INTERNAL.registerComponent(new th.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw $M.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,c=o.appId;if(!a)throw $M.create("registration-project-id");if(!s)throw $M.create("registration-api-key");if(!c)throw $M.create("registration-app-id");var u=new aL(c,r.name,n=n||"firebase"),l=new sL(u),h=new Cy.Logger("@firebase/remote-config");h.logLevel=Cy.LogLevel.ERROR;var d=new eL(i,uL.SDK_VERSION,n,a,s,c),f=new lL(d,u),A=new XM(f,u,l,h),p=new iL(r,A,l,u,h);return p.ensureInitialized(),p}),"PUBLIC").setMultipleInstances(!0)),uL.registerVersion("@firebase/remote-config","0.1.43"),n("X8/r"),Wl.default.registerVersion("firebase","8.10.1","app"),Wl.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Wl.default.registerVersion("firebase","8.10.1");var hL=n("EcEN"),dL=Wl.default.initializeApp;function fL(e,t){if(1&e&&(r.Sb(0,"textarea",16),r.xc(1),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(1),r.zc("        ",n.message,"\n      ")}}function AL(e,t){if(1&e&&(r.Sb(0,"textarea",17),r.xc(1),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(1),r.zc("        ",n.message,"\n      ")}}function pL(e,t){if(1&e&&(r.Sb(0,"div",11),r.Sb(1,"span",12),r.xc(2),r.Rb(),r.Sb(3,"span",13),r.xc(4),r.dc(5,"date"),r.Rb(),r.vc(6,fL,2,1,"textarea",14),r.vc(7,AL,2,1,"textarea",15),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.yc(n.username),r.Ab(2),r.yc(r.fc(5,4,n.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.hc("ngIf","admin"===n.username),r.Ab(1),r.hc("ngIf","admin"!==n.username)}}function gL(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",18),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.onChatSubmit(e.form.value)})),r.Ob(1,"input",19),r.Sb(2,"button",20),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.onChatSubmit(e.form.value)})),r.Ob(3,"i",21),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.form),r.Ab(2),r.hc("disabled",!i.form.valid)}}var vL,mL=((vL=function(){function e(t,n){_classCallCheck(this,e),this.formBuilder=t,this.tokenService=n,this.title="firechat",this.username="",this.message="",this.chats=[],this.checkLogged=!1,this.app=dL(o.firebaseConfig),this.form=this.formBuilder.group({message:["",[$a.required]],username:[""]})}return _createClass(e,[{key:"onChatSubmit",value:function(e){var t=e;t.timestamp=(new Date).toString(),t.id=Object(hL.v4)(),this.chats=[],Wl.default.database().ref("/chat/user/"+this.username).push(t),this.form=this.formBuilder.group({message:["",[$a.required]],username:[this.username]}),this.heiht(),this.autoScroll()}},{key:"ngOnInit",value:function(){var e=this;if(this.tokenService.isLogged()){this.checkLogged=!0;for(var t=this.tokenService.getRole(),n=0;n<t.length;n++)"ROLE_ADMIN"===t[n]&&(this.accountRole="ROLE_ADMIN");this.currentUser=JSON.parse(this.tokenService.getUser()),this.nameUser=this.currentUser.lastName+" "+this.currentUser.firstName,this.currentAccount=JSON.parse(this.tokenService.getAccount()),this.username=this.currentAccount.username}this.form=this.formBuilder.group({message:["",[$a.required]],username:[this.username]}),Wl.default.database().ref("/chat/user/"+this.username).on("value",(function(t){e.chats=[];var n=t.val();for(var r in n)e.chats.push(n[r]),console.log(e.chats);e.autoScroll()}))}},{key:"openForm",value:function(){document.getElementById("myForm").style.display="block",this.autoScroll()}},{key:"closeForm",value:function(){document.getElementById("myForm").style.display="none"}},{key:"autoScroll",value:function(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),100)}},{key:"heiht",value:function(){setTimeout((function(){document.querySelectorAll("textarea").forEach((function(e){console.log("height",e.scrollHeight),e.setAttribute("style","height:"+e.scrollHeight+"px;overflow-y:hidden;")}))}))}}]),e}()).\u0275fac=function(e){return new(e||vL)(r.Nb(Mc),r.Nb(Cu))},vL.\u0275cmp=r.Hb({type:vL,selectors:[["app-chat-user"]],decls:17,vars:2,consts:[["type","button",1,"open-chatbox",3,"click"],[1,"fa-solid","fa-message",2,"font-size","24px"],["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],[3,"click"],["id","minimize",1,"fa-solid","fa-window-minimize"],["action","","id","scroll",1,"chatbox__body"],[1,"admin__message"],["class","me__box",4,"ngFor","ngForOf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"me__box"],[1,"user_name"],[1,"date-time"],["readonly","","class","admin__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"admin__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","L\u1eddi nh\u1eafn c\u1ee7a b\u1ea1n..",1,"input__mesage"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(e,t){1&e&&(r.Sb(0,"button",0),r.ac("click",(function(){return t.openForm()})),r.Ob(1,"i",1),r.Rb(),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"p"),r.xc(5,"H\u1ed7 tr\u1ee3 0957465734"),r.Rb(),r.Sb(6,"span",4),r.ac("click",(function(){return t.closeForm()})),r.Ob(7,"i",5),r.Rb(),r.Rb(),r.Sb(8,"div",6),r.Sb(9,"div",7),r.Sb(10,"p"),r.xc(11,"Web \u0111\u1ea5u gi\xe1 xin ch\xe0o, b\u1ea5t c\u1ee9 m\u1ed9t l\u1eddi nh\u1eafn n\xe0o, h\xe3y g\u1eedi cho ch\xfang t\xf4i"),r.Rb(),r.Sb(12,"p"),r.xc(13,"Ch\xfang t\xf4i s\u1ebd tr\u1ea3 l\u1eddi s\u1edbm nh\u1ea5t c\xf3 th\u1ec3!"),r.Rb(),r.Rb(),r.vc(14,pL,8,7,"div",8),r.Rb(),r.Sb(15,"div",9),r.vc(16,gL,4,2,"form",10),r.Rb(),r.Rb()),2&e&&(r.Ab(14),r.hc("ngForOf",t.chats),r.Ab(2),r.hc("ngIf",t.form))},directives:[ke,Se,vc,Wa,yc,La,Ga,Fc],pipes:[Pe],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{display:none;right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%], .user_name[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.admin__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),vL),bL=Wl.default.initializeApp;function yL(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"li",8),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc().chooseUser(e)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit;r.Ab(2),r.yc(i)}}function wL(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"li",8),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc().chooseVisitor(e)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=t.index;r.Ab(2),r.zc("khach",i,"")}}function _L(e,t){if(1&e&&(r.Sb(0,"textarea",16),r.xc(1),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(1),r.zc("        ",n.message,"\n      ")}}function kL(e,t){if(1&e&&(r.Sb(0,"textarea",17),r.xc(1),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(1),r.zc("        ",n.message,"\n      ")}}function CL(e,t){if(1&e&&(r.Sb(0,"div",11),r.Sb(1,"span",12),r.xc(2),r.Rb(),r.Sb(3,"span",13),r.xc(4),r.dc(5,"date"),r.Rb(),r.vc(6,_L,2,1,"textarea",14),r.vc(7,kL,2,1,"textarea",15),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.yc(n.username),r.Ab(2),r.yc(r.fc(5,4,n.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.hc("ngIf","admin"!==n.username),r.Ab(1),r.hc("ngIf","admin"===n.username)}}function SL(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"div",9),r.vc(2,CL,8,7,"div",10),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(2),r.hc("ngForOf",n.chats)}}function xL(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",18),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.onChatSubmit(e.form.value)})),r.Ob(1,"input",19),r.Sb(2,"button",20),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.onChatSubmit(e.form.value)})),r.Ob(3,"i",21),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.form),r.Ab(1),r.hc("readOnly",""==i.itemUser),r.Ab(1),r.hc("disabled",!i.form.valid)}}var EL,IL=((EL=function(){function e(t,n,r){_classCallCheck(this,e),this.formBuilder=t,this._toast=n,this._userService=r,this.userchat=[],this.title="firechat",this.username="admin",this.message="",this.chats=[],this.listChatInforVisitor=[],this.itemUser="",this.app=bL(o.firebaseConfig),this.form=this.formBuilder.group({message:["",[$a.required]],username:["admin"]})}return _createClass(e,[{key:"onChatSubmit",value:function(e){var t=e;t.timestamp=(new Date).toString(),t.id=Object(hL.v4)(),this.chats=[],this.checkUser?(Wl.default.database().ref("chat/user").child(this.itemUser.toString()).push(t),console.log(this.chats)):(Wl.default.database().ref("chat/khach").child(this.itemUser.toString()).push(t),console.log(this.chats)),this.form=this.formBuilder.group({message:["",[$a.required]],username:[t.username]}),this.autoScroll(),this.heiht()}},{key:"ngOnInit",value:function(){var e=this;this._userService.getAllUserChat().subscribe((function(t){console.log(t);for(var n=0;n<t.length;n++)e.userchat.push(t[n].account.username);for(var r=0;r<e.userchat.length;r++)Wl.default.database().ref("chat/user").child(e.userchat[r]).once("value",(function(t){var n=t.val();for(var r in n)e.chatInfor=n[r],console.log(e.chatInfor);null!=e.chatInfor.username&&"admin"!=e.chatInfor.username&&e._toast.success("New Message From "+e.chatInfor.username,"receive",{timeOut:2e3})}))}),(function(e){alert("loi")})),console.log(this.userchat),Wl.default.database().ref("chat/khach").once("value",(function(t){var n=t.val();for(var r in n)e.listChatInforVisitor.push(r);console.log(e.listChatInforVisitor)}));for(var t=0;t<this.listChatInforVisitor.length;t++)Wl.default.database().ref("chat/khach").child(this.listChatInforVisitor[t]).once("value",(function(t){var n=t.val();for(var r in n)e.chatInforVisitor=n[r],console.log(e.chatInforVisitor.username);"admin"!=e.chatInforVisitor.username&&(console.log(e.chatInforVisitor.username),e._toast.success("New Message From visitor "+e.chatInforVisitor.username,"receive",{timeOut:3e3}))}))}},{key:"autoScroll",value:function(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),100)}},{key:"heiht",value:function(){setTimeout((function(){document.querySelectorAll("textarea").forEach((function(e){console.log("height",e.scrollHeight),e.setAttribute("style","height:"+e.scrollHeight+"px;overflow-y:hidden;")}))}))}},{key:"chooseUser",value:function(e){var t=this;this.chats=[],this.itemUser=e;for(var n=0;n<this.userchat.length;n++)if(e===this.userchat[n]){this.check=n;break}for(var r=0;r<this.listChatInforVisitor.length;r++)if(e===this.listChatInforVisitor[r]){this.check=r;break}console.log(this.userchat[this.check]),console.log(e),console.log(this.itemUser),Wl.default.database().ref("chat/user").on("value",(function(n){t.chats=[];var r=n.child(e).val();for(var i in r)t.chats.push(r[i]);t.autoScroll(),t.heiht(),t.itemUser=e,console.log(t.chats),t.checkUser=!0}))}},{key:"chooseVisitor",value:function(e){var t=this;this.chats=[],this.itemUser=e;for(var n=0;n<this.listChatInforVisitor.length;n++)if(e===this.listChatInforVisitor[n]){this.check=n;break}console.log(this.listChatInforVisitor[this.check]),console.log(e),console.log(this.itemUser),Wl.default.database().ref("chat/khach").on("value",(function(n){t.chats=[];var r=n.child(e).val();for(var i in r)t.chats.push(r[i]);t.autoScroll(),t.heiht(),t.itemUser=e,console.log(t.chats),t.checkUser=!1}))}}]),e}()).\u0275fac=function(e){return new(e||EL)(r.Nb(Mc),r.Nb(yu),r.Nb(Ql))},EL.\u0275cmp=r.Hb({type:EL,selectors:[["app-chat-admin"]],decls:15,vars:4,consts:[[1,"list-group",2,"min-height","500px","margin-top","100px"],["aria-current","true",1,"list-group-item","active",2,"width","30%"],[4,"ngFor","ngForOf"],["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],[4,"ngIf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"list-group-item",2,"width","30%",3,"click"],["id","scroll",1,"chatbox__body"],["class","me__box",4,"ngFor","ngForOf"],[1,"me__box"],[1,"user_name"],[1,"date-time"],["readonly","","class","user__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"user__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","T\u01b0 v\u1ea5n...",1,"input__mesage",3,"readOnly"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(e,t){1&e&&(r.Sb(0,"ul",0),r.Sb(1,"li",1),r.xc(2,"List Chat"),r.Rb(),r.vc(3,yL,3,1,"div",2),r.Rb(),r.Sb(4,"ul",0),r.Sb(5,"li",1),r.xc(6,"List Chat"),r.Rb(),r.vc(7,wL,3,1,"div",2),r.Rb(),r.Sb(8,"div",3),r.Sb(9,"div",4),r.Sb(10,"p"),r.xc(11,"T\u01b0 v\u1ea5n vi\xean"),r.Rb(),r.Rb(),r.vc(12,SL,3,1,"div",5),r.Sb(13,"div",6),r.vc(14,xL,4,3,"form",7),r.Rb(),r.Rb()),2&e&&(r.Ab(3),r.hc("ngForOf",t.userchat),r.Ab(4),r.hc("ngForOf",t.listChatInforVisitor),r.Ab(5),r.hc("ngIf",t.itemUser===t.userchat[t.check]||t.itemUser===t.listChatInforVisitor[t.check]),r.Ab(2),r.hc("ngIf",t.form))},directives:[ke,Se,vc,Wa,yc,La,Ga,Fc],pipes:[Pe],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%], .user_name[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.user__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),EL);function BL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function DL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function TL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function OL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function FL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function RL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function PL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function NL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function ML(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 t\u1ed3n t\u1ea1i "),r.Rb())}function LL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function UL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function jL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function QL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function HL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Email \u0111\xe3 t\u1ed3n t\u1ea1i "),r.Rb())}function VL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function zL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Email ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function qL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function KL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function GL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Nga\u0300y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function WL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," B\u1ea1n ch\u01b0a \u0111\u1ee7 18 tu\u1ed5i "),r.Rb())}function YL(e,t){if(1&e&&(r.Sb(0,"option",92),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function JL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Ti\u0309nh kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function XL(e,t){if(1&e&&(r.Sb(0,"option",92),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function ZL(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," Qu\xe2\u0323n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function $L(e,t){if(1&e&&(r.Sb(0,"option",92),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function eU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," X\xe3 kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function tU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function nU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function rU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function iU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," \u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function oU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," CMND kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function aU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," CMND kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function sU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function cU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function uU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function lU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function hU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function dU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp "),r.Rb())}function fU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function AU(e,t){1&e&&(r.Sb(0,"div",91),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function pU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",1),r.ac("ngSubmit",(function(){return r.oc(n),r.cc().submitCreateUser()})),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Sb(4,"div",5),r.Sb(5,"div",6),r.Sb(6,"div",7),r.Ob(7,"div",8),r.Rb(),r.Sb(8,"div",9),r.Sb(9,"div",10),r.Sb(10,"div",11),r.Sb(11,"div",12),r.Sb(12,"h3"),r.xc(13,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Rb(),r.Rb(),r.Rb(),r.Ob(14,"div",13),r.Rb(),r.Ob(15,"div",14),r.Sb(16,"div",10),r.Sb(17,"div",15),r.Sb(18,"input",16,17),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.Rb(),r.Sb(20,"div",18),r.ac("click",(function(e){return r.oc(n),r.cc().render(e)})),r.Rb(),r.Rb(),r.Ob(21,"div",19),r.Sb(22,"div",10),r.Sb(23,"div",20),r.Sb(24,"div",21),r.Sb(25,"div",22),r.Ob(26,"input",23),r.Sb(27,"label",24),r.xc(28,"H\u1ecd"),r.Rb(),r.Rb(),r.Sb(29,"span",25),r.Ob(30,"i",26),r.Rb(),r.Rb(),r.vc(31,BL,2,0,"div",27),r.vc(32,DL,2,0,"div",27),r.vc(33,TL,2,0,"div",27),r.vc(34,OL,2,0,"div",27),r.Rb(),r.Sb(35,"div",20),r.Sb(36,"div",21),r.Sb(37,"div",22),r.Ob(38,"input",28),r.Sb(39,"label",29),r.xc(40,"T\xean"),r.Rb(),r.Rb(),r.Sb(41,"span",30),r.Ob(42,"i",26),r.Rb(),r.Rb(),r.vc(43,FL,2,0,"div",27),r.vc(44,RL,2,0,"div",27),r.vc(45,PL,2,0,"div",27),r.vc(46,NL,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(47,"div",10),r.Sb(48,"div",20),r.Sb(49,"div",21),r.Sb(50,"div",22),r.Ob(51,"input",31),r.Sb(52,"label",32),r.xc(53,"T\xean \u0111\u0103ng nh\u1eadp"),r.Rb(),r.Rb(),r.Sb(54,"span",33),r.Ob(55,"i",26),r.Rb(),r.Rb(),r.vc(56,ML,2,0,"div",27),r.vc(57,LL,2,0,"div",27),r.vc(58,UL,2,0,"div",27),r.vc(59,jL,2,0,"div",27),r.vc(60,QL,2,0,"div",27),r.Rb(),r.Sb(61,"div",20),r.Sb(62,"div",21),r.Sb(63,"div",22),r.Ob(64,"input",34),r.Sb(65,"label",35),r.xc(66,"Email"),r.Rb(),r.Rb(),r.Sb(67,"span",36),r.Ob(68,"i",37),r.Rb(),r.Rb(),r.vc(69,HL,2,0,"div",27),r.vc(70,VL,2,0,"div",27),r.vc(71,zL,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(72,"div",10),r.Sb(73,"div",20),r.Sb(74,"div",21),r.Sb(75,"div",22),r.Ob(76,"input",38),r.Sb(77,"label",39),r.xc(78,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Rb(),r.Rb(),r.Sb(79,"span",40),r.Ob(80,"i",41),r.Rb(),r.Rb(),r.vc(81,qL,2,0,"div",27),r.vc(82,KL,2,0,"div",27),r.Rb(),r.xc(83," \u200b "),r.Sb(84,"div",20),r.Sb(85,"div",21),r.Sb(86,"div",22),r.Ob(87,"input",42),r.Sb(88,"label",43),r.xc(89,"Ng\xe0y sinh"),r.Rb(),r.Rb(),r.Sb(90,"span",44),r.Ob(91,"i",45),r.Rb(),r.Rb(),r.vc(92,GL,2,0,"div",27),r.vc(93,WL,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(94,"div",10),r.Sb(95,"div",46),r.Sb(96,"div"),r.Sb(97,"select",47),r.ac("change",(function(){return r.oc(n),r.cc().selectCity()})),r.Sb(98,"option",48),r.xc(99,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Rb(),r.vc(100,YL,2,2,"option",49),r.Rb(),r.vc(101,JL,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(102,"div",46),r.Sb(103,"div"),r.Sb(104,"select",50),r.ac("change",(function(){return r.oc(n),r.cc().selectDistrict()})),r.Sb(105,"option",48),r.xc(106,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Rb(),r.vc(107,XL,2,2,"option",49),r.Rb(),r.vc(108,ZL,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(109,"div",46),r.Sb(110,"div"),r.Sb(111,"select",51),r.ac("change",(function(){return r.oc(n),r.cc().selectWard()})),r.Sb(112,"option",48),r.xc(113,"Ch\u1ecdn ph\u01b0\u01a1\u0300ng xa\u0303"),r.Rb(),r.vc(114,$L,2,2,"option",49),r.Rb(),r.vc(115,eU,2,0,"div",27),r.Rb(),r.Rb(),r.Rb(),r.Sb(116,"div",52),r.Sb(117,"div",20),r.Sb(118,"div",21),r.Sb(119,"div",22),r.Ob(120,"input",53),r.Sb(121,"label",54),r.xc(122,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Rb(),r.Rb(),r.Sb(123,"span",55),r.Ob(124,"i",56),r.Rb(),r.Rb(),r.vc(125,tU,2,0,"div",27),r.vc(126,nU,2,0,"div",27),r.vc(127,rU,2,0,"div",27),r.vc(128,iU,2,0,"div",27),r.Rb(),r.Sb(129,"div",20),r.Sb(130,"div",21),r.Sb(131,"div",22),r.Ob(132,"input",57),r.Sb(133,"label",58),r.xc(134,"CMND"),r.Rb(),r.Rb(),r.Sb(135,"span",59),r.Ob(136,"i",60),r.Rb(),r.Rb(),r.vc(137,oU,2,0,"div",27),r.vc(138,aU,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(139,"div",10),r.Sb(140,"div",20),r.Sb(141,"div",21),r.Sb(142,"div",22),r.Ob(143,"input",61),r.Sb(144,"label",62),r.xc(145,"M\u1eadt kh\u1ea9u"),r.Rb(),r.Rb(),r.Sb(146,"span",63),r.Ob(147,"i",64),r.Rb(),r.Rb(),r.vc(148,sU,2,0,"div",27),r.vc(149,cU,2,0,"div",27),r.vc(150,uU,2,0,"div",27),r.vc(151,lU,2,0,"div",27),r.Rb(),r.Sb(152,"div",20),r.Sb(153,"div",21),r.Sb(154,"div",22),r.Ob(155,"input",65),r.Sb(156,"label",66),r.xc(157,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Rb(),r.Rb(),r.Sb(158,"span",67),r.Ob(159,"i",68),r.Rb(),r.Rb(),r.vc(160,hU,2,0,"div",27),r.vc(161,dU,2,0,"div",27),r.vc(162,fU,2,0,"div",27),r.vc(163,AU,2,0,"div",27),r.Rb(),r.Rb(),r.Sb(164,"div",10),r.Sb(165,"div",69),r.Sb(166,"div"),r.Sb(167,"div",70),r.Sb(168,"div",10),r.Sb(169,"div",71),r.Ob(170,"input",72),r.Rb(),r.Sb(171,"div",46),r.Sb(172,"button",73),r.ac("click",(function(){return r.oc(n),r.cc().printd()})),r.xc(173,"G\u1eedi"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(174,"div",74),r.Sb(175,"div",10),r.Sb(176,"div",46),r.Ob(177,"div",75),r.Rb(),r.Sb(178,"div",76),r.Sb(179,"div",77),r.ac("click",(function(){return r.oc(n),r.cc().generate()})),r.Ob(180,"i",78),r.Rb(),r.Rb(),r.Sb(181,"div",74),r.Sb(182,"div",79),r.Ob(183,"p",80),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(184,"div",52),r.Sb(185,"div",81),r.Sb(186,"div",82),r.Sb(187,"input",83),r.ac("click",(function(){return r.oc(n),r.cc().onchangeStautus()})),r.Rb(),r.Sb(188,"label",84),r.xc(189," \u0110\u1ed3ng \xfd "),r.Sb(190,"a",85),r.xc(191,"\u0111i\u1ec1u kho\u1ea3n"),r.Rb(),r.xc(192," c\u1ee7a website "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ob(193,"div",14),r.Sb(194,"div",10),r.Sb(195,"div",86),r.Sb(196,"button",87),r.xc(197,"\u0110\u0103ng k\xfd "),r.Rb(),r.Rb(),r.Sb(198,"div",88),r.Sb(199,"button",89),r.xc(200,"Quay l\u1ea1i "),r.Rb(),r.Rb(),r.Rb(),r.Ob(201,"div",90),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.userCreateForm),r.Ab(26),r.hc("ngClass",i.userCreateForm.controls.firstName.touched?i.userCreateForm.controls.firstName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("required")&&i.userCreateForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("pattern")&&i.userCreateForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("minlength")&&i.userCreateForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.firstName.hasError("maxlength")&&i.userCreateForm.controls.firstName.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.lastName.touched?i.userCreateForm.controls.lastName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("required")&&i.userCreateForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("pattern")&&i.userCreateForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("minlength")&&i.userCreateForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.lastName.hasError("maxlength")&&i.userCreateForm.controls.lastName.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.username.touched?i.userCreateForm.controls.username.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.areEqual?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",(null==i.userCreateForm.errors?null:i.userCreateForm.errors.areEqual)&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("required")&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("pattern")&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("minlength")&&i.userCreateForm.controls.username.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.username.hasError("maxlength")&&i.userCreateForm.controls.username.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.email.touched?i.userCreateForm.controls.email.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.isExist?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",(null==i.userCreateForm.errors?null:i.userCreateForm.errors.isExist)&&i.userCreateForm.controls.email.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.email.hasError("required")&&i.userCreateForm.controls.email.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.email.hasError("pattern")&&i.userCreateForm.controls.email.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.phone.touched?i.userCreateForm.controls.phone.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.phone.hasError("required")&&i.userCreateForm.controls.phone.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.phone.hasError("pattern")&&i.userCreateForm.controls.phone.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.birthDay.touched?i.userCreateForm.controls.birthDay.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.checkBirthDay?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.birthDay.hasError("required")&&i.userCreateForm.controls.birthDay.touched),r.Ab(1),r.hc("ngIf",null==i.userCreateForm.errors?null:i.userCreateForm.errors.checkBirthDay),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.city.touched?i.userCreateForm.controls.city.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.cities),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.city.hasError("required")&&i.userCreateForm.controls.city.touched),r.Ab(3),r.hc("ngClass",i.userCreateForm.controls.district.touched?i.userCreateForm.controls.district.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.districts),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.district.hasError("required")&&i.userCreateForm.controls.district.touched),r.Ab(3),r.hc("ngClass",i.userCreateForm.controls.town.touched?i.userCreateForm.controls.town.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.hc("ngForOf",i.wards),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.town.hasError("required")&&i.userCreateForm.controls.town.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.detailAddress.touched?i.userCreateForm.controls.detailAddress.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("required")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("pattern")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("minlength")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.detailAddress.hasError("maxlength")&&i.userCreateForm.controls.detailAddress.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.idCard.touched?i.userCreateForm.controls.idCard.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.idCard.hasError("required")&&i.userCreateForm.controls.idCard.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.idCard.hasError("pattern")&&i.userCreateForm.controls.idCard.touched),r.Ab(5),r.hc("ngClass",i.userCreateForm.controls.password.touched?i.userCreateForm.controls.password.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.password.hasError("required")&&i.userCreateForm.controls.password.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.password.hasError("pattern")&&i.userCreateForm.controls.password.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.password.hasError("minlength")&&i.userCreateForm.controls.password.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.password.hasError("maxlength")&&i.userCreateForm.controls.password.touched),r.Ab(4),r.hc("ngClass",i.userCreateForm.controls.confirmPassword.touched?i.userCreateForm.controls.password.invalid||null!=i.userCreateForm.errors&&i.userCreateForm.errors.reConfirmPass?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",i.userCreateForm.controls.confirmPassword.hasError("required")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.hasError("reConfirmPass")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.confirmPassword.hasError("minlength")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",i.userCreateForm.controls.confirmPassword.hasError("maxlength")&&i.userCreateForm.controls.confirmPassword.touched),r.Ab(33),r.hc("disabled",!i.userCreateForm.valid||!i.result||!i.status)}}var gU,vU=function(e){var t=new Date(e.get("birthDay").value).getTime();console.log(t);var n=(new Date).getTime();return console.log(n),n-t<567648e6?{checkBirthDay:!0}:null},mU=function(e){var t=e.get("password"),n=e.get("confirmPassword");return t&&n&&t.touched&&t.value!=n.value?{reConfirmPass:!0}:null},bU=((gU=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this.userService=t,this.router=n,this.formBuilder=r,this._storage=i,this.addressService=o,this._toast=a,this.selectedImages=[],this.cities=[],this.result=!1,this.btn=!1,this.status=!1,this.areEqual=function(e){var t=e.get("username").value;console.log(t);var n=null;return s.userList.forEach((function(e){t===e.account.username&&(n={areEqual:!0})})),n},this.isExist=function(e){var t=e.get("email").value;console.log(t);var n=null;return s.userList.forEach((function(e){t===e.email&&(n={isExist:!0})})),n}}return _createClass(e,[{key:"ngOnInit",value:function(){this.status=!1,this.getCreateForm(),this.addressService.getAllCities(),this.cities=this.addressService.cities}},{key:"getCreateForm",value:function(){var e=this;this.userService.findAllUser().subscribe((function(t){e.userList=t,e.userCreateForm=e.formBuilder.group({firstName:["",[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$"),$a.minLength(2),$a.maxLength(50)]],lastName:["",[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$"),$a.minLength(2),$a.maxLength(50)]],username:["",[$a.required,$a.minLength(2),$a.maxLength(50)]],avatar:[""],email:["",[$a.required,$a.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$")]],phone:["",[$a.required,$a.pattern("[0][9][0]\\d{7}")]],birthDay:["",[$a.required]],city:["",[$a.required]],district:["",[$a.required]],town:["",[$a.required]],country:["viet nam"],idCard:["",[$a.required,$a.pattern("\\d{9}")]],password:["",[$a.required,$a.minLength(4),$a.maxLength(20)]],confirmPassword:["",[$a.required,$a.minLength(4),$a.maxLength(20)]],pointDedication:[10],statusLock:[!0],deleteStatus:[!1],detailAddress:["",[$a.required,$a.minLength(3),$a.maxLength(100)]]},{validators:[e.areEqual,e.isExist,mU,vU]})}))}},{key:"submitCreateUser",value:function(){var e=this;this.userCreateForm.controls.city.setValue(this.currentCity),this.userCreateForm.controls.district.setValue(this.currentDistrcit),this.userCreateForm.controls.town.setValue(this.currentWard),this.userService.createUser(this.userCreateForm.value).subscribe((function(t){e._toast.success("\u0110\u0103ng K\xfd Th\xe0nh C\xf4ng"),e.router.navigateByUrl("/home")}))}},{key:"selectCity",value:function(){var e=this;this.cityIdSelected=this.userCreateForm.value.city,this.addressService.getAllAddress().subscribe((function(t){e.districts=[];for(var n=0;n<t[e.cityIdSelected].Districts.length;n++)e.districts.push(new Gg(n,t[e.cityIdSelected].Districts[n].Name));e.currentCity=t[e.cityIdSelected].Name}))}},{key:"selectDistrict",value:function(){var e=this;this.districtIdSelected=this.userCreateForm.value.district,this.addressService.getAllAddress().subscribe((function(t){e.wards=[];for(var n=0;n<t[e.cityIdSelected].Districts[e.districtIdSelected].Wards.length;n++)e.wards.push(new Wg(n,t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[n].Name));e.currentDistrcit=t[e.cityIdSelected].Districts[e.districtIdSelected].Name}))}},{key:"selectWard",value:function(){var e=this;this.wardIdSelected=this.userCreateForm.value.town,this.addressService.getAllAddress().subscribe((function(t){e.currentWard=t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[e.wardIdSelected].Name}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(var n=function(e){var n=t.selectedImages[e],r="RoomsImages/".concat(Date.now()),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(e){t.userCreateForm.patchValue({avatar:e}),t.imgs=e,document.getElementById("avartar__my").classList.add("alo"),document.getElementById("avartar__my").setAttribute("style",'background-image: url("'+e+'")')}))}))).subscribe((function(){}))},r=0;r<this.selectedImages.length;r++)n(r)}},{key:"generate",value:function(){var e;document.getElementById("submit").setAttribute("value",""),e=document.getElementById("image"),this.captchaString="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=1;n<6;n++)this.captchaString+=t.charAt(Math.random()*t.length);e.innerHTML=this.captchaString}},{key:"printd",value:function(){var e=$("#submit").val();this.usr_input=e,e==this.captchaString?(this.result=!0,document.getElementById("key").innerHTML="M\xe3 ch\xednh x\xe1c",this.generate()):(this.result=!1,document.getElementById("key").innerHTML="M\xe3 kh\xf4ng ch\xednh x\xe1c",this.generate())}},{key:"render",value:function(e){document.getElementById("inputGroupFile01").click()}},{key:"onchangeStautus",value:function(){this.status=!this.status,console.log(this.status,this.userCreateForm.valid,this.result)}}]),e}()).\u0275fac=function(e){return new(e||gU)(r.Nb(Ql),r.Nb(so),r.Nb(Mc),r.Nb(Sd),r.Nb(Jg),r.Nb(yu))},gU.\u0275cmp=r.Hb({type:gU,selectors:[["app-user-create"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px","padding","0px 0px"],[1,"bgd","d-flex","align-items-center","w-50"],[1,"h-100","w-100",2,"background","url('https://images.pexels.com/photos/4439416/pexels-photo-4439416.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')","border-top-left-radius","20px","border-bottom-left-radius","20px","background-size","cover !important","background-repeat","no-repeat"],[1,"p-3",2,"width","60vw"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","38%"],["hidden","","type","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",3,"change"],["userPhoto",""],["id","avartar__my",2,"width","150px","height","150px","border-radius","50%","display","block","background-image","url('https://cdn.iconscout.com/icon/free/png-512/avatar-367-456319.png')","background-repeat","no-repeat","background-size","cover",3,"click"],[1,"row",2,"height","25px"],[1,"col-lg-6","mb-3"],[1,"input-group"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","date","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"ngClass","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"ngClass","change"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"ngClass","change"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingPassword","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control",3,"ngClass"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-key"],[1,"col-lg-5"],["id","user-input",1,"floating"],[1,"col-lg-8"],["type","text","id","submit","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["type","button","id","btn",1,"btn","btn-gray",3,"click"],[1,"col-lg-7"],["id","image","selectable","False",2,"margin-top","0"],[1,"col-lg-1",2,"margin-top","10px"],[2,"cursor","pointer",3,"click"],[1,"fas","fa-sync"],[2,"font-size","17px","color","blue","margin-top","6px"],["id","key"],[1,"col-lg-12"],[1,"form-check"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"click"],["for","flexCheckDefault",1,"form-check-label"],["href",""],[1,"col-lg-3",2,"width","112px"],["type","submit","id","btt",1,"btn",2,"background-color","#e74c3c",3,"disabled"],[1,"col-lg-5",2,"padding-left","10px"],["type","button","routerLink","/home",1,"btn","btn-warning"],[1,"row",2,"height","15px"],[2,"color","red"],[3,"ngValue"]],template:function(e,t){1&e&&r.vc(0,pU,202,55,"form",0),2&e&&r.hc("ngIf",t.userCreateForm)},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Cs,Ss,Ts,ke,co],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;border-radius:50%;background:#009578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label);font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.alo[_ngcontent-%COMP%]{width:150px!important;height:150px!important;border-radius:50%;background-repeat:no-repeat;background-size:cover}"]}),gU);function yU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function wU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function _U(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function kU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function CU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function SU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," H\u1ecd ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function xU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function EU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function IU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 t\u1ed3n t\u1ea1i "),r.Rb())}function BU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function DU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function TU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function OU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function FU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," Email \u0111\xe3 t\u1ed3n t\u1ea1i "),r.Rb())}function RU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function PU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," Email ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function NU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function MU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function LU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," Nga\u0300y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function UU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," B\u1ea1n ch\u01b0a \u0111\u1ee7 18 tu\u1ed5i "),r.Rb())}function jU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"input",74),r.ac("click",(function(){return r.oc(n),r.cc(2).changStatusCity1()})),r.Rb()}if(2&e){var i=r.cc(2);r.hc("ngClass",i.updateUserForm.controls.city.touched?i.updateUserForm.controls.city.invalid?"is-invalid":"is-valid":"")}}function QU(e,t){if(1&e&&(r.Sb(0,"option",77),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function HU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," T\u1ec9nh kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function VU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"select",75),r.ac("change",(function(){return r.oc(n),r.cc(2).selectCity()})),r.vc(2,QU,2,2,"option",76),r.Rb(),r.vc(3,HU,2,0,"div",28),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.hc("ngForOf",i.cities),r.Ab(1),r.hc("ngIf",i.updateUserForm.controls.city.hasError("required")&&i.updateUserForm.controls.city.touched)}}function zU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"input",78),r.ac("click",(function(){return r.oc(n),r.cc(2).changStatusDistrict1()})),r.Rb()}if(2&e){var i=r.cc(2);r.hc("ngClass",i.updateUserForm.controls.district.touched?i.updateUserForm.controls.district.invalid?"is-invalid":"is-valid":"")}}function qU(e,t){if(1&e&&(r.Sb(0,"option",77),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function KU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," Qu\xe2\u0323n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function GU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"select",79),r.ac("change",(function(){return r.oc(n),r.cc(2).selectDistrict()})),r.Sb(2,"option",80),r.xc(3,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Rb(),r.vc(4,qU,2,2,"option",76),r.Rb(),r.vc(5,KU,2,0,"div",28),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(4),r.hc("ngForOf",i.districts),r.Ab(1),r.hc("ngIf",i.updateUserForm.controls.district.hasError("required")&&i.updateUserForm.controls.district.touched)}}function WU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"input",81),r.ac("click",(function(){return r.oc(n),r.cc(2).changStatusTown1()})),r.Rb()}if(2&e){var i=r.cc(2);r.hc("ngClass",i.updateUserForm.controls.town.touched?i.updateUserForm.controls.town.invalid?"is-invalid":"is-valid":"")}}function YU(e,t){if(1&e&&(r.Sb(0,"option",77),r.xc(1),r.Rb()),2&e){var n=t.$implicit;r.hc("ngValue",n.id),r.Ab(1),r.yc(n.name)}}function JU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," Ph\u01b0\u01a1\u0300ng kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Rb())}function XU(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"select",82),r.ac("change",(function(){return r.oc(n),r.cc(2).selectWard()})),r.vc(2,YU,2,2,"option",76),r.Rb(),r.vc(3,JU,2,0,"div",28),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.hc("ngForOf",i.wards),r.Ab(1),r.hc("ngIf",i.updateUserForm.controls.town.hasError("required")&&i.updateUserForm.controls.town.touched)}}function ZU(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function $U(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function ej(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," \u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function tj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," \u0110\u1ecba ch\u1ec9 kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function nj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," CMND kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function rj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," CMND kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function ij(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function oj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Rb())}function aj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function sj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function cj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Rb())}function uj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng tr\xf9ng kh\u1edbp "),r.Rb())}function lj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 ng\u1eafn "),r.Rb())}function hj(e,t){1&e&&(r.Sb(0,"div",73),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 d\xe0i "),r.Rb())}function dj(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",1),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.updateUser(e.id)})),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Sb(4,"div",5),r.Sb(5,"div",6),r.Sb(6,"div",7),r.Ob(7,"div",8),r.Rb(),r.Sb(8,"div",9),r.Sb(9,"div",10),r.Sb(10,"div",11),r.Sb(11,"div",12),r.Sb(12,"h3"),r.xc(13,"S\u1eeda H\u1ed3 S\u01a1 C\xe1 Nh\xe2n"),r.Rb(),r.Rb(),r.Rb(),r.Ob(14,"div",13),r.Rb(),r.Ob(15,"div",14),r.Sb(16,"div",10),r.Sb(17,"div",15),r.Sb(18,"input",16,17),r.ac("change",(function(e){return r.oc(n),r.cc().showPreview(e)})),r.Rb(),r.Rb(),r.Sb(20,"div",18),r.ac("click",(function(e){return r.oc(n),r.cc().render(e)})),r.Rb(),r.Ob(21,"div",19),r.Sb(22,"div",10),r.Ob(23,"input",20),r.Sb(24,"div",21),r.Sb(25,"div",22),r.Sb(26,"div",23),r.Ob(27,"input",24),r.Sb(28,"label",25),r.xc(29,"H\u1ecd"),r.Rb(),r.Rb(),r.Sb(30,"span",26),r.Ob(31,"i",27),r.Rb(),r.Rb(),r.vc(32,yU,2,0,"div",28),r.vc(33,wU,2,0,"div",28),r.vc(34,_U,2,0,"div",28),r.vc(35,kU,2,0,"div",28),r.Rb(),r.Sb(36,"div",21),r.Sb(37,"div",22),r.Sb(38,"div",23),r.Ob(39,"input",29),r.Sb(40,"label",30),r.xc(41,"T\xean"),r.Rb(),r.Rb(),r.Sb(42,"span",31),r.Ob(43,"i",27),r.Rb(),r.Rb(),r.vc(44,CU,2,0,"div",28),r.vc(45,SU,2,0,"div",28),r.vc(46,xU,2,0,"div",28),r.vc(47,EU,2,0,"div",28),r.Rb(),r.Rb(),r.Sb(48,"div",10),r.Sb(49,"div",21),r.Sb(50,"div",22),r.Sb(51,"div",23),r.Ob(52,"input",32),r.Sb(53,"label",33),r.xc(54,"T\xean \u0111\u0103ng nh\u1eadp"),r.Rb(),r.Rb(),r.Sb(55,"span",34),r.Ob(56,"i",27),r.Rb(),r.Rb(),r.vc(57,IU,2,0,"div",28),r.vc(58,BU,2,0,"div",28),r.vc(59,DU,2,0,"div",28),r.vc(60,TU,2,0,"div",28),r.vc(61,OU,2,0,"div",28),r.Rb(),r.Sb(62,"div",21),r.Sb(63,"div",22),r.Sb(64,"div",23),r.Ob(65,"input",35),r.Sb(66,"label",36),r.xc(67,"Email"),r.Rb(),r.Rb(),r.Sb(68,"span",37),r.Ob(69,"i",38),r.Rb(),r.Rb(),r.vc(70,FU,2,0,"div",28),r.vc(71,RU,2,0,"div",28),r.vc(72,PU,2,0,"div",28),r.Rb(),r.Rb(),r.Sb(73,"div",10),r.Sb(74,"div",21),r.Sb(75,"div",22),r.Sb(76,"div",23),r.Ob(77,"input",39),r.Sb(78,"label",40),r.xc(79,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Rb(),r.Rb(),r.Sb(80,"span",41),r.Ob(81,"i",42),r.Rb(),r.Rb(),r.vc(82,NU,2,0,"div",28),r.vc(83,MU,2,0,"div",28),r.Rb(),r.xc(84," \u200b "),r.Sb(85,"div",21),r.Sb(86,"div",22),r.Sb(87,"div",23),r.Ob(88,"input",43),r.Sb(89,"label",44),r.xc(90,"Ng\xe0y sinh"),r.Rb(),r.Rb(),r.Sb(91,"span",45),r.Ob(92,"i",46),r.Rb(),r.Rb(),r.vc(93,LU,2,0,"div",28),r.vc(94,UU,2,0,"div",28),r.Rb(),r.Rb(),r.Sb(95,"div",10),r.Sb(96,"div",47),r.Sb(97,"div"),r.vc(98,jU,1,1,"input",48),r.vc(99,VU,4,2,"ng-template",null,49,r.wc),r.Rb(),r.Rb(),r.Sb(101,"div",47),r.vc(102,zU,1,1,"input",50),r.vc(103,GU,6,2,"ng-template",null,51,r.wc),r.Rb(),r.Sb(105,"div",47),r.vc(106,WU,1,1,"input",52),r.vc(107,XU,4,2,"ng-template",null,53,r.wc),r.Rb(),r.Rb(),r.Sb(109,"div",54),r.Sb(110,"div",21),r.Sb(111,"div",22),r.Sb(112,"div",23),r.Ob(113,"input",55),r.Sb(114,"label",56),r.xc(115,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Rb(),r.Rb(),r.Sb(116,"span",57),r.Ob(117,"i",58),r.Rb(),r.Rb(),r.vc(118,ZU,2,0,"div",28),r.vc(119,$U,2,0,"div",28),r.vc(120,ej,2,0,"div",28),r.vc(121,tj,2,0,"div",28),r.Rb(),r.Sb(122,"div",21),r.Sb(123,"div",22),r.Sb(124,"div",23),r.Ob(125,"input",59),r.Sb(126,"label",60),r.xc(127,"CMND"),r.Rb(),r.Rb(),r.Sb(128,"span",61),r.Ob(129,"i",62),r.Rb(),r.Rb(),r.vc(130,nj,2,0,"div",28),r.vc(131,rj,2,0,"div",28),r.Rb(),r.Rb(),r.Sb(132,"div",10),r.Sb(133,"div",21),r.Sb(134,"div",22),r.Sb(135,"div",23),r.Ob(136,"input",63),r.Sb(137,"label",64),r.xc(138,"M\u1eadt kh\u1ea9u m\u1edbi"),r.Rb(),r.Rb(),r.Sb(139,"span",65),r.Ob(140,"i",66),r.Rb(),r.Rb(),r.vc(141,ij,2,0,"div",28),r.vc(142,oj,2,0,"div",28),r.vc(143,aj,2,0,"div",28),r.vc(144,sj,2,0,"div",28),r.Rb(),r.Sb(145,"div",21),r.Sb(146,"div",22),r.Sb(147,"div",23),r.Ob(148,"input",67),r.Sb(149,"label",68),r.xc(150,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Rb(),r.Rb(),r.Sb(151,"span",69),r.Ob(152,"i",66),r.Rb(),r.Rb(),r.vc(153,cj,2,0,"div",28),r.vc(154,uj,2,0,"div",28),r.vc(155,lj,2,0,"div",28),r.vc(156,hj,2,0,"div",28),r.Rb(),r.Rb(),r.Ob(157,"div",14),r.Sb(158,"div",10),r.Sb(159,"div",70),r.Sb(160,"button",71),r.xc(161,"C\u1eadp nh\u1eadt "),r.Rb(),r.Sb(162,"button",72),r.ac("click",(function(){return r.oc(n),r.cc().resetForm()})),r.xc(163,"\u0110\u1eb7t l\u1ea1i"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.nc(100),o=r.nc(104),a=r.nc(108),s=r.cc();r.hc("formGroup",s.updateUserForm),r.Ab(20),r.uc("background-image","url("+s.avt+")",r.Gb),r.Ab(7),r.hc("ngClass",s.updateUserForm.controls.firstName.touched?s.updateUserForm.controls.firstName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.firstName.hasError("required")&&s.updateUserForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.firstName.hasError("pattern")&&s.updateUserForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.firstName.hasError("minlength")&&s.updateUserForm.controls.firstName.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.firstName.hasError("maxlength")&&s.updateUserForm.controls.firstName.touched),r.Ab(4),r.hc("ngClass",s.updateUserForm.controls.lastName.touched?s.updateUserForm.controls.lastName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.lastName.hasError("required")&&s.updateUserForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.lastName.hasError("pattern")&&s.updateUserForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.lastName.hasError("minlength")&&s.updateUserForm.controls.lastName.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.lastName.hasError("maxlength")&&s.updateUserForm.controls.lastName.touched),r.Ab(5),r.hc("ngClass",s.updateUserForm.controls.username.touched?s.updateUserForm.controls.username.invalid||null!=s.updateUserForm.errors&&s.updateUserForm.errors.areEqual?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",(null==s.updateUserForm.errors?null:s.updateUserForm.errors.areEqual)&&s.updateUserForm.controls.username.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.username.hasError("required")&&s.updateUserForm.controls.username.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.username.hasError("pattern")&&s.updateUserForm.controls.username.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.username.hasError("minlength")&&s.updateUserForm.controls.username.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.username.hasError("maxlength")&&s.updateUserForm.controls.username.touched),r.Ab(4),r.hc("ngClass",s.updateUserForm.controls.email.touched?s.updateUserForm.controls.email.invalid||null!=s.updateUserForm.errors&&s.updateUserForm.errors.isExist?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",(null==s.updateUserForm.errors?null:s.updateUserForm.errors.isExist)&&s.updateUserForm.controls.email.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.email.hasError("required")&&s.updateUserForm.controls.email.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.email.hasError("pattern")&&s.updateUserForm.controls.email.touched),r.Ab(5),r.hc("ngClass",s.updateUserForm.controls.phone.touched?s.updateUserForm.controls.phone.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.phone.hasError("required")&&s.updateUserForm.controls.phone.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.phone.hasError("pattern")&&s.updateUserForm.controls.phone.touched),r.Ab(5),r.hc("ngClass",s.updateUserForm.controls.birthDay.touched?s.updateUserForm.controls.birthDay.invalid||null!=s.updateUserForm.errors&&s.updateUserForm.errors.checkBirthDay?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.birthDay.hasError("required")&&s.updateUserForm.controls.birthDay.touched),r.Ab(1),r.hc("ngIf",null==s.updateUserForm.errors?null:s.updateUserForm.errors.checkBirthDay),r.Ab(4),r.hc("ngIf",0==s.status)("ngIfElse",i),r.Ab(4),r.hc("ngIf",0==s.status)("ngIfElse",o),r.Ab(4),r.hc("ngIf",0==s.status)("ngIfElse",a),r.Ab(7),r.hc("ngClass",s.updateUserForm.controls.detailAddress.touched?s.updateUserForm.controls.detailAddress.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.detailAddress.hasError("required")&&s.updateUserForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.detailAddress.hasError("pattern")&&s.updateUserForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.detailAddress.hasError("minlength")&&s.updateUserForm.controls.detailAddress.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.detailAddress.hasError("maxlength")&&s.updateUserForm.controls.detailAddress.touched),r.Ab(4),r.hc("ngClass",s.updateUserForm.controls.idCard.touched?s.updateUserForm.controls.idCard.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.idCard.hasError("required")&&s.updateUserForm.controls.idCard.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.idCard.hasError("pattern")&&s.updateUserForm.controls.idCard.touched),r.Ab(5),r.hc("ngClass",s.updateUserForm.controls.password.touched?s.updateUserForm.controls.password.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.password.hasError("required")&&s.updateUserForm.controls.password.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.password.hasError("pattern")&&s.updateUserForm.controls.password.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.password.hasError("minlength")&&s.updateUserForm.controls.password.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.password.hasError("maxlength")&&s.updateUserForm.controls.password.touched),r.Ab(4),r.hc("ngClass",s.updateUserForm.controls.confirmPassword.touched?s.updateUserForm.controls.confirmPassword.invalid||null!=s.updateUserForm.errors&&s.updateUserForm.errors.reConfirmPass?"is-invalid":"is-valid":""),r.Ab(5),r.hc("ngIf",s.updateUserForm.controls.confirmPassword.hasError("required")&&s.updateUserForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.hasError("reConfirmPass")&&s.updateUserForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.confirmPassword.hasError("minlength")&&s.updateUserForm.controls.confirmPassword.touched),r.Ab(1),r.hc("ngIf",s.updateUserForm.controls.confirmPassword.hasError("maxlength")&&s.updateUserForm.controls.confirmPassword.touched)}}var fj,Aj,pj,gj=function(e){var t=new Date(e.get("birthDay").value).getTime();console.log(t);var n=(new Date).getTime();return console.log(n),n-t<567648e6?{checkBirthDay:!0}:null},vj=function(e){var t=e.get("password"),n=e.get("confirmPassword");return t&&n&&t.touched&&t.value!=n.value?{reConfirmPass:!0}:null},mj=((fj=function(){function e(t,n,r,i,o,a,s){var c=this;_classCallCheck(this,e),this._userService=t,this._activatedRoute=n,this._builder=r,this._storage=i,this._router=o,this.addressService=a,this._toast=s,this.selectedImages=[],this.cities=[],this.areEqual=function(e){var t=e.get("username").value;console.log(t);var n=null;return c.userList.forEach((function(e){t===e.account.username&&(n={areEqual:!0})})),n},this.isExist=function(e){var t=e.get("email").value;console.log(t);var n=null;return c.userList.forEach((function(e){t===e.email&&(n={isExist:!0})})),n}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.status=0,this._activatedRoute.paramMap.subscribe((function(t){e.id=+t.get("id"),e.getUserUpdate(e.id)})),this.addressService.getAllCities(),this.cities=this.addressService.cities}},{key:"getUserUpdate",value:function(e){var t=this;this._userService.findAllUser().subscribe((function(n){return t.userList=n,t._userService.findUserByIdServer(e).subscribe((function(n){t.user=n,t.avt=n.avatar,t.updateUserForm=t._builder.group({id:[e],firstName:[n.firstName,[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$"),$a.minLength(2),$a.maxLength(50)]],lastName:[n.lastName,[$a.required,$a.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$"),$a.minLength(2),$a.maxLength(50)]],username:[n.account.username,[$a.required,$a.minLength(2),$a.maxLength(50)]],avatar:[n.avatar],email:[n.email,[$a.required,$a.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$")]],phone:[n.phone,[$a.required,$a.pattern("[0][9][0]\\d{7}")]],birthDay:[n.birthDay,[$a.required]],city:[n.address.city,[$a.required]],district:[n.address.district,[$a.required]],town:[n.address.town,[$a.required]],country:["viet nam"],idCard:[n.idCard,[$a.required,$a.pattern("\\d{9}")]],password:["",[$a.required,$a.minLength(4),$a.maxLength(30)]],confirmPassword:["",[$a.required,$a.minLength(4),$a.maxLength(30)]],pointDedication:[10],statusLock:[!0],deleteStatus:[!1],detailAddress:[n.address.detailAddress,[$a.required,$a.minLength(2),$a.maxLength(100)]],userTypeId:[5]},{validators:[t.areEqual,t.isExist,vj,gj]})}))}))}},{key:"updateUser",value:function(e){var t=this;this.updateUserForm.controls.city.setValue(this.currentCity),this.updateUserForm.controls.district.setValue(this.currentDistrcit),this.updateUserForm.controls.town.setValue(this.currentWard),this._userService.updateUser(e,this.updateUserForm.value).subscribe((function(e){t._toast.success("C\u1eadp Nh\u1eadt Th\xe0nh C\xf4ng"),t._router.navigateByUrl("/home")}))}},{key:"selectCity",value:function(){var e=this;this.cityIdSelected=this.updateUserForm.value.city,this.addressService.getAllAddress().subscribe((function(t){e.districts=[];for(var n=0;n<t[e.cityIdSelected].Districts.length;n++)e.districts.push(new Gg(n,t[e.cityIdSelected].Districts[n].Name));e.currentCity=t[e.cityIdSelected].Name,console.log(e.currentCity)}))}},{key:"selectDistrict",value:function(){var e=this;this.districtIdSelected=this.updateUserForm.value.district,this.addressService.getAllAddress().subscribe((function(t){e.wards=[];for(var n=0;n<t[e.cityIdSelected].Districts[e.districtIdSelected].Wards.length;n++)e.wards.push(new Wg(n,t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[n].Name));e.currentDistrcit=t[e.cityIdSelected].Districts[e.districtIdSelected].Name}))}},{key:"selectWard",value:function(){var e=this;this.wardIdSelected=this.updateUserForm.value.town,this.addressService.getAllAddress().subscribe((function(t){e.currentWard=t[e.cityIdSelected].Districts[e.districtIdSelected].Wards[e.wardIdSelected].Name}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(var n=function(e){var n=t.selectedImages[e],r="RoomsImages/".concat(Date.now()),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(jn((function(){i.getDownloadURL().subscribe((function(e){t.updateUserForm.patchValue({avatar:e}),t.avt=e,document.getElementById("avartar__my").classList.add("alo"),document.getElementById("avartar__my").setAttribute("style",'background-image: url("'+e+'")')}))}))).subscribe((function(){}))},r=0;r<this.selectedImages.length;r++)n(r)}},{key:"resetForm",value:function(){this.ngOnInit()}},{key:"changStatusCity1",value:function(){this.status=1,this.selectCity()}},{key:"changStatusDistrict1",value:function(){this.status=1,this.selectDistrict()}},{key:"changStatusTown1",value:function(){this.status=1,this.selectWard()}},{key:"render",value:function(e){console.log("aaaa",document.getElementById("inputGroupFile01")),document.getElementById("inputGroupFile01").click()}}]),e}()).\u0275fac=function(e){return new(e||fj)(r.Nb(Ql),r.Nb(Xr),r.Nb(Mc),r.Nb(Sd),r.Nb(so),r.Nb(Jg),r.Nb(yu))},fj.\u0275cmp=r.Hb({type:fj,selectors:[["app-user-update"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"profile",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],[1,"h-100","w-100",2,"background","url('https://images.pexels.com/photos/904616/pexels-photo-904616.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1') no-repeat","background-size","cover","border-top-left-radius","20px","border-bottom-left-radius","20px"],[1,"p-3",2,"width","60vw"],[1,"row"],[1,"text-center"],[1,"row","mb-3",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","35%"],["hidden","","type","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",3,"change"],["userPhoto",""],["id","avartar__my",2,"width","150px","height","150px","border-radius","50%","display","block","background-repeat","no-repeat","background-size","cover",3,"click"],[1,"row",2,"height","25px"],["formControlName","id","hidden",""],[1,"col-lg-6","mb-3"],[1,"input-group"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["disabled","","type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["disabled","","type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","date","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["type","text","class","form-control","id","city1","formControlName","city",3,"ngClass","click",4,"ngIf","ngIfElse"],["city1",""],["type","text","class","form-control","id","district1","formControlName","district",3,"ngClass","click",4,"ngIf","ngIfElse"],["district1",""],["type","text","class","form-control","id","ward1","formControlName","town",3,"ngClass","click",4,"ngIf","ngIfElse"],["ward1",""],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingVerification","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2","formControlName","password",1,"form-control",3,"ngClass"],["for","floatingVerification"],["id","basic-addon10",1,"input-group-text"],[1,"fa-solid","fa-key"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","mx-2"],["type","button",1,"btn","btn-warning",2,"margin-left","15px",3,"click"],[2,"color","red"],["type","text","id","city1","formControlName","city",1,"form-control",3,"ngClass","click"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["type","text","id","district1","formControlName","district",1,"form-control",3,"ngClass","click"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"change"],["value",""],["type","text","id","ward1","formControlName","town",1,"form-control",3,"ngClass","click"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"change"]],template:function(e,t){1&e&&r.vc(0,dj,164,53,"form",0),2&e&&r.hc("ngIf",t.updateUserForm)},directives:[Se,vc,Wa,yc,La,Ga,Fc,we,Cs,ke,Ss,Ts],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;border-radius:50%;background:#009578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label);font-family:Readex Pro,sans-serif;color:#fff}.profile[_ngcontent-%COMP%]{padding:0!important;margin-top:32px;display:flex;box-shadow:1px 1px 17px rgba(0,0,0,.35)}.alo[_ngcontent-%COMP%]{width:150px!important;height:150px!important;border-radius:50%;background-repeat:no-repeat;background-size:cover}"]}),fj),bj=n("qgXg"),yj=n("Ylt2"),wj=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new _j(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Mt.a;if(this.isStopped||this.hasError?t=Un.a.EMPTY:(this.observers.push(e),t=new yj.a(this,e)),i&&e.add(e=new Kl.a(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||bj.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(Nt.a),_j=_createClass((function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n})),kj=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).value=null,e.hasNext=!1,e.hasCompleted=!1,e}return _createClass(n,[{key:"_subscribe",value:function(e){return this.hasError?(e.error(this.thrownError),Un.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Un.a.EMPTY):_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e)}},{key:"next",value:function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}},{key:"error",value:function(e){this.hasCompleted||_get(_getPrototypeOf(n.prototype),"error",this).call(this,e)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&_get(_getPrototypeOf(n.prototype),"next",this).call(this,this.value),_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(Nt.a),Cj=_createClass((function e(){_classCallCheck(this,e)})),Sj=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scope:"email"};return _classCallCheck(this,n),(r=t.call(this)).clientId=e,r.initOptions=i,r}return _createClass(n,[{key:"initialize",value:function(){var e=this;return new Promise((function(t,r){try{e.loadScript(n.PROVIDER_ID,"https://apis.google.com/js/platform.js",(function(){gapi.load("auth2",(function(){e.auth2=gapi.auth2.init(Object.assign(Object.assign({},e.initOptions),{client_id:e.clientId})),e.auth2.then((function(){t()})).catch((function(e){r(e)}))}))}))}catch(i){r(i)}}))}},{key:"getLoginStatus",value:function(e){var t=this,r=Object.assign(Object.assign({},this.initOptions),e);return new Promise((function(e,i){if(t.auth2.isSignedIn.get()){var o=new Cj,a=t.auth2.currentUser.get().getBasicProfile(),s=t.auth2.currentUser.get().getAuthResponse(!0);o.id=a.getId(),o.name=a.getName(),o.email=a.getEmail(),o.photoUrl=a.getImageUrl(),o.firstName=a.getGivenName(),o.lastName=a.getFamilyName(),o.response=s;var c=function(t){o.authToken=t.access_token,o.idToken=t.id_token,e(o)};r.refreshToken?t.auth2.currentUser.get().reloadAuthResponse().then(c):c(t.auth2.currentUser.get().getAuthResponse(!0))}else i("No user is currently logged in with ".concat(n.PROVIDER_ID))}))}},{key:"signIn",value:function(e){var t=this,n=Object.assign(Object.assign({},this.initOptions),e);return new Promise((function(r,i){(n&&n.offline_access?t.auth2.grantOfflineAccess(e):t.auth2.signIn(e)).then((function(e){var n=new Cj;if(e&&e.code)n.authorizationCode=e.code;else{var i=t.auth2.currentUser.get().getBasicProfile(),o=t.auth2.currentUser.get().getAuthResponse(!0),a=o.access_token,s=o.id_token;n.id=i.getId(),n.name=i.getName(),n.email=i.getEmail(),n.photoUrl=i.getImageUrl(),n.firstName=i.getGivenName(),n.lastName=i.getFamilyName(),n.authToken=a,n.idToken=s,n.response=o}r(n)}),(function(e){i(e)})).catch((function(e){i(e)}))}))}},{key:"signOut",value:function(e){var t=this;return new Promise((function(n,r){(e?t.auth2.disconnect():t.auth2.signOut()).then((function(e){e?r(e):n()})).catch((function(e){r(e)}))}))}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"loadScript",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("undefined"!=typeof document&&!document.getElementById(e)){var i=document.createElement("script");i.async=!0,i.src=t,i.onload=n,r||(r=document.head),r.appendChild(i)}}}]),e}());return e.PROVIDER_ID="GOOGLE",e}(),xj=((pj=function(){function e(t){var n=this;_classCallCheck(this,e),this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new wj(1),this.initialized=!1,this._initState=new kj,t instanceof Promise?t.then((function(e){n.initialize(e)})):this.initialize(t)}return _createClass(e,[{key:"authState",get:function(){return this._authState.asObservable()}},{key:"initState",get:function(){return this._initState.asObservable()}},{key:"initialize",value:function(e){var t=this;this.autoLogin=void 0!==e.autoLogin&&e.autoLogin;var n=e.onError,r=void 0===n?console.error:n;e.providers.forEach((function(e){t.providers.set(e.id,e.provider)})),Promise.all(Array.from(this.providers.values()).map((function(e){return e.initialize()}))).then((function(){if(t.autoLogin){var e=[],n=!1;t.providers.forEach((function(r,i){var o=r.getLoginStatus();e.push(o),o.then((function(e){e.provider=i,t._user=e,t._authState.next(e),n=!0})).catch(console.debug)})),Promise.all(e).catch((function(){n||(t._user=null,t._authState.next(null))}))}})).catch((function(e){r(e)})).finally((function(){t.initialized=!0,t._initState.next(t.initialized),t._initState.complete()}))}},{key:"refreshAuthToken",value:function(t){var n=this;return new Promise((function(r,i){if(n.initialized)if(t!==Sj.PROVIDER_ID)i(e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{var o=n.providers.get(t);o?o.getLoginStatus({refreshToken:!0}).then((function(e){e.provider=t,n._user=e,n._authState.next(e),r()})).catch((function(e){i(e)})):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_INITIALIZED)}))}},{key:"signIn",value:function(t,n){var r=this;return new Promise((function(i,o){if(r.initialized){var a=r.providers.get(t);a?a.signIn(n).then((function(e){e.provider=t,i(e),r._user=e,r._authState.next(e)})).catch((function(e){o(e)})):o(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(e.ERR_NOT_INITIALIZED)}))}},{key:"signOut",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,i){if(t.initialized)if(t._user){var o=t.providers.get(t._user.provider);o?o.signOut(n).then((function(){r(),t._user=null,t._authState.next(null)})).catch((function(e){i(e)})):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_LOGGED_IN);else i(e.ERR_NOT_INITIALIZED)}))}}]),e}()).\u0275fac=function(e){return new(e||pj)(r.Wb("SocialAuthServiceConfig"))},pj.\u0275prov=r.Jb({token:pj,factory:pj.\u0275fac}),pj.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",pj.ERR_NOT_LOGGED_IN="Not logged in",pj.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",pj.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",pj),Ej=((Aj=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}return _createClass(e,null,[{key:"initialize",value:function(t){return{ngModule:e,providers:[xj,{provide:"SocialAuthServiceConfig",useValue:t}]}}}]),e}()).\u0275mod=r.Lb({type:Aj}),Aj.\u0275inj=r.Kb({factory:function(e){return new(e||Aj)(r.Wb(Aj,12))},providers:[xj],imports:[[Ke]]}),Aj),Ij=_createClass((function e(t){_classCallCheck(this,e),this.value=t}));function Bj(e,t){1&e&&(r.Sb(0,"div",20),r.Sb(1,"p",29),r.xc(2,"Vui lo\u0300ng nh\xe2\u0323p t\xean \u0111\u0103ng nh\xe2\u0323p"),r.Rb(),r.Rb())}function Dj(e,t){1&e&&(r.Sb(0,"div",20),r.Sb(1,"p",29),r.xc(2,"T\xean \u0111\u0103ng nh\xe2\u0323p t\xf4\u0301i thi\xea\u0309u ch\u01b0\u0301a 4 ky\u0301 t\u01b0\u0323"),r.Rb(),r.Rb())}function Tj(e,t){1&e&&(r.Sb(0,"div",20),r.Sb(1,"p",29),r.xc(2,"Vui lo\u0300ng nh\xe2\u0323p m\xe2\u0323t kh\xe2\u0309u"),r.Rb(),r.Rb())}function Oj(e,t){1&e&&(r.Sb(0,"div",20),r.Sb(1,"p",29),r.xc(2,"M\xe2\u0323t kh\xe2\u0309u t\xf4\u0301i thi\xea\u0309u ch\u01b0\u0301a 5 ky\u0301 t\u01b0\u0323"),r.Rb(),r.Rb())}var Fj,Rj,Pj,Nj,Mj=((Pj=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.formBuilder=t,this.toastr=n,this.router=r,this.authService=i,this.tokenService=o,this.socialAuthService=a}return _createClass(e,[{key:"ngOnInit",value:function(){this.getFormLogin()}},{key:"getFormLogin",value:function(){this.rfLogin=this.formBuilder.group({username:["",[$a.required,$a.minLength(3)]],password:["",[$a.required,$a.minLength(5)]],rememberMe:[!1]})}},{key:"login",value:function(){var e=this;this.authService.login(this.rfLogin.value).subscribe((function(t){null!=t.token&&(e.rfLogin.value.rememberMe?e.tokenService.rememberMe(t.token,t.account,t.roles,t.user):(e.tokenService.setAccountSession(t.account),e.tokenService.setTokenSession(t.token),e.tokenService.setUserSession(t.user),e.tokenService.setRoleSession(t.roles)),e.router.navigate(["/home"]).then((function(){location.reload()})))}),(function(t){t.message?(e.toastr.error("Kh\xf4ng ti\u0300m th\xe2\u0301y ng\u01b0\u01a1\u0300i du\u0300ng"),e.router.navigateByUrl("/login")):(e.toastr.error("\u0110\u0103ng nh\xe2\u0323p th\xe2\u0301t ba\u0323i"),e.router.navigateByUrl("/login"),console.log("\u0110\u0103ng nh\xe2\u0323p th\xe2\u0301t ba\u0323i"))}))}},{key:"loginWithGoogle",value:function(){var e=this;this.socialAuthService.signIn(Sj.PROVIDER_ID).then((function(t){e.socialUser=t;var n=new Ij(e.socialUser.idToken);e.authService.googleLogin(n).subscribe((function(t){null==t.token?(e.authService.setEmailGoogle(t.email),e.router.navigateByUrl("/registerWithGoogle")):(e.tokenService.setAccountLocal(t.account),e.tokenService.setTokenLocal(t.token),e.tokenService.setUserLocal(t.user),e.tokenService.setRoleLocal(t.roles),e.router.navigate(["/home"]).then((function(){location.reload()})))}))}))}}]),e}()).\u0275fac=function(e){return new(e||Pj)(r.Nb(Mc),r.Nb(yu),r.Nb(so),r.Nb(Dm),r.Nb(Cu),r.Nb(xj))},Pj.\u0275cmp=r.Hb({type:Pj,selectors:[["app-login"]],decls:46,vars:6,consts:[[1,"",2,"height","600px","display","flex","justify-content","center","align-items","center"],[1,"container","h-100"],[1,"row","h-100",2,"display","flex","justify-content","center","align-items","center","box-sizing","border-box"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"card","shadow-lg",2,"box-sizing","border-box"],[1,"card-body"],[1,"mb-5","mt-2","text-primary","h2","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-4"],["formControlName","username","type","text","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["class","col-12",4,"ngIf"],["formControlName","password","type","password","id","floatingPassword","placeholder","name@example.com",1,"form-control"],["for","floatingPassword"],[1,"row","form-floating","mb-4"],[1,"col-7"],["type","checkbox","formControlName","rememberMe","name","remember","id","remember",1,"form-check-input"],["for","remember",1,"form-check-label",2,"margin-left","3px"],[1,"col-5"],["routerLink","/account/forgot_password",1,"float-end","mb-1"],[1,"col-12"],["type","submit",1,"btn","btn-primary",2,"width","100%",3,"disabled"],[1,"mt-5","bordert"],[1,"text-center",2,"margin-top","35px"],["href","#","target","_blank",1,"px-3",3,"click"],["src","https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-suite-everything-you-need-know-about-google-newest-0.png","alt",""],[1,"card-footer","py-3","border-1"],[1,"text-center"],["href","#",1,"abc"],[2,"color","red","margin-left","15px"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"div",5),r.Sb(6,"h1",6),r.xc(7,"\u0110\u0103ng Nh\xe2\u0323p"),r.Rb(),r.Sb(8,"form",7),r.ac("ngSubmit",(function(){return t.login()})),r.Sb(9,"div",8),r.Ob(10,"input",9),r.Sb(11,"label",10),r.xc(12,"T\xean \u0111\u0103ng nh\xe2\u0323p"),r.Sb(13,"small"),r.xc(14," *"),r.Rb(),r.Rb(),r.vc(15,Bj,3,0,"div",11),r.vc(16,Dj,3,0,"div",11),r.Rb(),r.Sb(17,"div",8),r.Ob(18,"input",12),r.Sb(19,"label",13),r.xc(20,"M\xe2\u0323t kh\xe2\u0309u"),r.Sb(21,"small"),r.xc(22," *"),r.Rb(),r.Rb(),r.vc(23,Tj,3,0,"div",11),r.vc(24,Oj,3,0,"div",11),r.Rb(),r.Sb(25,"div",14),r.Sb(26,"div",15),r.Ob(27,"input",16),r.Sb(28,"label",17),r.xc(29,"Ghi nh\u01a1\u0301 \u0111\u0103ng nh\xe2\u0323p"),r.Rb(),r.Rb(),r.Sb(30,"div",18),r.Sb(31,"span",19),r.xc(32," Qu\xean m\xe2\u0323t kh\xe2\u0309u? "),r.Rb(),r.Rb(),r.Rb(),r.Sb(33,"div",14),r.Sb(34,"div",20),r.Sb(35,"button",21),r.xc(36," \u0110\u0103ng Nh\xe2\u0323p "),r.Rb(),r.Rb(),r.Rb(),r.Sb(37,"div",22),r.Sb(38,"div",23),r.Sb(39,"a",24),r.ac("click",(function(){return t.loginWithGoogle()})),r.Ob(40,"img",25),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(41,"div",26),r.Sb(42,"div",27),r.xc(43," Ba\u0323n ch\u01b0a co\u0301 ta\u0300i khoa\u0309n? "),r.Sb(44,"a",28),r.xc(45,"\u0110\u0103ng ky\u0301 ngay"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(8),r.hc("formGroup",t.rfLogin),r.Ab(7),r.hc("ngIf",t.rfLogin.controls.username.hasError("required")&&t.rfLogin.controls.username.touched),r.Ab(1),r.hc("ngIf",t.rfLogin.controls.username.hasError("minlength")&&t.rfLogin.controls.username.touched),r.Ab(7),r.hc("ngIf",t.rfLogin.controls.password.hasError("required")&&t.rfLogin.controls.password.touched),r.Ab(1),r.hc("ngIf",t.rfLogin.controls.password.hasError("minlength")&&t.rfLogin.controls.password.touched),r.Ab(11),r.hc("disabled",t.rfLogin.invalid))},directives:[vc,Wa,yc,La,Ga,Fc,Se,Pa,co],styles:['body[_ngcontent-%COMP%]{font-family:sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}.text-center[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f}.mb-4[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-body[_ngcontent-%COMP%]{padding:32px 24px}.bordert[_ngcontent-%COMP%]{border-top:1px solid #aaa;position:relative}.bordert[_ngcontent-%COMP%]:after{content:"Ho\u0103\u0323c \u0111\u0103ng nh\xe2\u0323p v\u01a1\u0301i";position:absolute;top:-13px;left:27%;background-color:#fff;padding:0 8px}img[_ngcontent-%COMP%]{width:40px;height:40px;-o-object-fit:cover;object-fit:cover;border-radius:50%;position:relative}small[_ngcontent-%COMP%]{color:red}.floating-password[_ngcontent-%COMP%]{margin-top:29px}']}),Pj),Lj=((Rj=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.router=n,this.toastr=r}return _createClass(e,[{key:"canActivate",value:function(e,t){if(this.tokenService.getToken())return!0;this.toastr.error("Y\xeau c\u1ea7u \u0111\u0103ng nh\u1eadp."),this.router.navigateByUrl("/login")}}]),e}()).\u0275fac=function(e){return new(e||Rj)(r.Wb(Cu),r.Wb(so),r.Wb(yu))},Rj.\u0275prov=r.Jb({token:Rj,factory:Rj.\u0275fac,providedIn:"root"}),Rj),Uj=((Fj=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.router=n,this.toastr=r}return _createClass(e,[{key:"canActivate",value:function(e,t){if(this.tokenService.getToken()){for(var n=this.tokenService.getRole(),r=0;r<n.length;r++)if("ROLE_ADMIN"===n[r])return!0;this.toastr.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n v\xe0o trang n\xe0y."),this.router.navigateByUrl("/home")}else this.toastr.error("Y\xeau c\u1ea7u \u0111\u0103ng nh\u1eadp."),this.router.navigateByUrl("/login")}}]),e}()).\u0275fac=function(e){return new(e||Fj)(r.Wb(Cu),r.Wb(so),r.Wb(yu))},Fj.\u0275prov=r.Jb({token:Fj,factory:Fj.\u0275fac,providedIn:"root"}),Fj),jj="".concat(o.api_url_order_status),Qj="".concat(o.api_url_order_status_1),Hj="".concat(o.api_url_shipping),Vj="".concat(o.api_url_payment),zj=((Nj=function(){function e(t,n,r,i){_classCallCheck(this,e),this._httpClient=t,this._toastrService=n,this._router=r,this._activateRoute=i}return _createClass(e,[{key:"showSuccessMessage",value:function(e){this._toastrService.success(e,"Th\xf4ng b\xe1o",{timeOut:2e3,easing:"ease-in",positionClass:"toast-top-right",closeButton:!0,progressBar:!0})}},{key:"showErrorMessage",value:function(e){this._toastrService.error(e,"Th\xf4ng b\xe1o",{timeOut:2e3,easing:"ease-in",positionClass:"toast-top-right",closeButton:!0,progressBar:!0})}},{key:"getPaymentList",value:function(e){return this._httpClient.get(jj+"/"+e+"/list")}},{key:"getIdList",value:function(){return this.idArray}},{key:"findPaymentList",value:function(e){return this._httpClient.post(Qj,e)}},{key:"updateShipDescription",value:function(e){return this._httpClient.post(Hj,e)}},{key:"updatePaymentStatus",value:function(e){return this._httpClient.post(Vj,e)}}]),e}()).\u0275fac=function(e){return new(e||Nj)(r.Wb(la),r.Wb(yu),r.Wb(so),r.Wb(Xr))},Nj.\u0275prov=r.Jb({token:Nj,factory:Nj.\u0275fac,providedIn:"root"}),Nj);function qj(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"p",40),r.xc(2),r.dc(3,"date"),r.dc(4,"date"),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(2),r.Ac("S\u1ea3n ph\u1ea9m s\u1ebd \u0111\u01b0\u1ee3c giao t\u1eeb ng\xe0y ",r.fc(3,2,n.shippingPreviousDate,"dd/MM/yyyy")," \u0111\u1ebfn ng\xe0y ",r.fc(4,5,n.shippingNextDate,"dd/MM/yyyy"),"")}}function Kj(e,t){1&e&&(r.Sb(0,"div",41),r.Sb(1,"p",42),r.xc(2,"Kh\xf4ng c\xf3 s\u1ea3n ph\u1ea9m trong gi\u1ecf h\xe0ng, h\xe3y tham gia \u0111\u1ea5u gi\xe1."),r.Rb(),r.Rb())}function Gj(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"label"),r.Sb(2,"div",43),r.Sb(3,"div",44),r.Sb(4,"div",45),r.Sb(5,"input",46),r.ac("click",(function(){r.oc(n);var e=t.$implicit;return r.cc().addToCart(e.id)})),r.Rb(),r.Rb(),r.Sb(6,"div",47),r.Ob(7,"img",48),r.Rb(),r.Sb(8,"div",49),r.Sb(9,"div",50),r.Sb(10,"h5",51),r.xc(11),r.Rb(),r.Sb(12,"span",52),r.xc(13),r.Rb(),r.Sb(14,"span"),r.xc(15,"..."),r.Rb(),r.Sb(16,"div",53),r.Sb(17,"h6",54),r.Sb(18,"span",55),r.xc(19,"S\u1ed1 l\u01b0\u1ee3ng:"),r.Rb(),r.xc(20," x1 "),r.Rb(),r.Sb(21,"h6",56),r.xc(22,"Gi\xe1: "),r.Sb(23,"span",57),r.xc(24),r.dc(25,"currency"),r.Sb(26,"sup"),r.xc(27," \u20ab"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=t.$implicit,o=r.cc();r.Ab(5),r.hc("checked",o.paymentListId.includes(i.id)),r.Ab(2),r.ic("src",i.productImage,r.qc),r.Ab(3),r.ic("title",i.productName),r.jc("routerLink","/auction-detail/",i.productId,""),r.Ab(1),r.yc(i.productName),r.Ab(2),r.zc(" ",i.description,""),r.Ab(11),r.yc(r.gc(25,7,i.productPrice,"","","1.0-0"))}}var Wj,Yj=((Wj=function(){function e(t,n,r,i){_classCallCheck(this,e),this._paymentService=t,this._formBuilder=n,this._tokenService=r,this._titleService=i,this.paymentList=[],this.sum=0,this.total=0,this.shipping=49e3,this.date=new Date,this.shippingNextDate=this.date.setDate(this.date.getDate()+5),this.shippingPreviousDate=this.date.setDate(this.date.getDate()-3)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._titleService.setTitle("Gi\u1ecf H\xe0ng"),this._tokenService.isLogged()&&(this.currentUser=JSON.parse(this._tokenService.getUser()),this.userId=this.currentUser.id),this.paymentListId=[],this._paymentService.getPaymentList(String(this.userId)).subscribe((function(t){console.log("okoko"),console.log(t),e.paymentList=t}),(function(e){console.log("loi roi"),console.log(e)}),(function(){console.log("done")})),console.log(this.paymentList),console.log(this.paymentListId)}},{key:"addAllToCart",value:function(){this.checkedAll=!0;var e,t=_createForOfIteratorHelper(this.paymentList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.paymentListId.includes(n.id)){this.checkedAll=!1;break}}}catch(l){t.e(l)}finally{t.f()}if(this.checkedAll){var r,i=_createForOfIteratorHelper(this.paymentList);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.paymentListId.indexOf(o.id,0);this.paymentListId.splice(a,1)}}catch(l){i.e(l)}finally{i.f()}}else{var s,c=_createForOfIteratorHelper(this.paymentList);try{for(c.s();!(s=c.n()).done;){var u=s.value;-1==this.paymentListId.indexOf(u.id,0)&&(this.paymentListId.push(u.id),console.log(u.id))}}catch(l){c.e(l)}finally{c.f()}}this.calculateMoney(this.paymentListId)}},{key:"addToCart",value:function(e){var t=this.paymentListId.indexOf(e,0);t>-1?this.paymentListId.splice(t,1):this.paymentListId.push(e),this.calculateMoney(this.paymentListId)}},{key:"transferId",value:function(){this._paymentService.idArray=this.paymentListId}},{key:"calculateMoney",value:function(e){var t,n=0,r=_createForOfIteratorHelper(this.paymentList);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.includes(i.id,0)&&(n+=i.productPrice),console.log(this.paymentList),console.log(this.paymentListId)}}catch(o){r.e(o)}finally{r.f()}this.sum=n,this.total=0==this.sum?0:this.sum+49e3}}]),e}()).\u0275fac=function(e){return new(e||Wj)(r.Nb(zj),r.Nb(Mc),r.Nb(Cu),r.Nb(Ft))},Wj.\u0275cmp=r.Hb({type:Wj,selectors:[["app-payment-cart"]],decls:89,vars:22,consts:[[1,"container-fluid","bg-light","mb-5"],[1,"row","mt-5","d-inline-block",2,"min-height","75vh"],[1,"col-lg-7","float-lg-start",2,"margin","0"],[1,"container","ps-0","pe-0"],[1,"navbar","navbar-expand-lg","bg-orange"],[1,"container-fluid","align-items-center"],[1,"fw-bold","text-light","h3","mb-0"],["href","#",1,"btn"],[1,"text-light","h3","fa-solid","fa-cart-shopping"],[1,"main-part"],[1,"row","bg-orange","text-light","ms-0","me-0",2,"padding-top","2px","padding-bottom","6px"],[1,"w-50","float-start",2,"padding-left","2%","padding-top","3px"],[1,"btn","text-light",2,"border","none","margin-right","6px",3,"click"],[1,"fa-regular","fa-square-check",2,"font-size","x-large"],[1,"h4"],[1,"row","bg-light","text-orange","mt-2","mb-2","ms-0","me-0"],[4,"ngIf"],["style","padding-left: 2%","class","h5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-lg-5","float-lg-end"],[1,"table","table-borderless"],[1,"text-orange","h3"],[1,"fa-solid","fa-note-sticky"],[1,"text-end","text-orange","fw-bolder"],[1,"text-end","text-orange","fw-bolder","fs-5"],[1,"row","px-3"],["type","button","routerLink","/receipt",1,"btn","bg-orange","text-light","btn-lg",3,"disabled","click"],[1,"row","pt-3"],[1,"px-3"],[1,"fa-solid","fa-truck","text-orange"],[1,"text-muted"],[1,"row","pt-3","d-inline-block"],["src","https://nganhangaz.com/wp-content/uploads/2022/01/vietcombank-logo.png",2,"width","15%","border-radius","50%"],["src","https://developers.momo.vn/v3/assets/images/circle-logo-custom-16cb24e3ed26349c467cb2e932000fde.png",2,"width","15%","border-radius","50%"],["src","https://cdn-icons-png.flaticon.com/512/1377/1377239.png",2,"width","15%","border-radius","50%"],[1,"row","pt-3","pb-3"],["src","https://mir-s3-cdn-cf.behance.net/project_modules/fs/2bbcfa99737217.5ef9be3dbb9a9.jpg"],[1,"row","ms-3","me-3","pb-5"],[1,"col-lg-4"],[1,"h5"],[1,"text-center","m-0","p-0","h5"],[1,"h5",2,"padding-left","2%"],[1,"text-center","m-0","p-0"],[1,"card","mb-3","border","shadow-lg"],[1,"row","g-0"],[1,"col-md-1",2,"text-align","center"],["type","checkbox",1,"delete-checkbox",3,"checked","click"],[1,"col-md-4","mt-2"],["alt","...",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-7"],[1,"card-body"],[1,"card-title","text-orange","fw-bold","title",2,"cursor","pointer",3,"title","routerLink"],[1,"max-lines"],[1,"clearfix"],[1,"col-5","float-start"],[1,"text-orange"],[1,"col-5","float-end","price","text-orange"],[1,"text-dark"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"nav",4),r.Sb(5,"div",5),r.Sb(6,"span",6),r.Sb(7,"button",7),r.Ob(8,"i",8),r.Rb(),r.xc(9," Gi\u1ecf H\xe0ng"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(10,"div",9),r.Sb(11,"div",10),r.Sb(12,"div",11),r.Sb(13,"span"),r.Sb(14,"button",12),r.ac("click",(function(){return t.addAllToCart()})),r.Ob(15,"i",13),r.Rb(),r.Sb(16,"span",14),r.xc(17,"S\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(18,"div",15),r.vc(19,qj,5,8,"div",16),r.vc(20,Kj,3,0,"div",17),r.Rb(),r.Sb(21,"form"),r.vc(22,Gj,28,12,"div",18),r.Rb(),r.Rb(),r.Rb(),r.Sb(23,"div",19),r.Sb(24,"table",20),r.Sb(25,"thead"),r.Sb(26,"tr"),r.Sb(27,"td"),r.Sb(28,"span",21),r.Ob(29,"i",22),r.xc(30," T\xf3m t\u1eaft "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"tbody"),r.Sb(32,"tr"),r.Sb(33,"td"),r.xc(34,"T\u1ed5ng ti\u1ec1n h\xe0ng"),r.Rb(),r.Sb(35,"td",23),r.xc(36),r.dc(37,"currency"),r.Sb(38,"sup"),r.xc(39," \u20ab"),r.Rb(),r.Rb(),r.Rb(),r.Sb(40,"tr"),r.Sb(41,"td"),r.xc(42,"Giao h\xe0ng"),r.Rb(),r.Sb(43,"td",23),r.xc(44),r.dc(45,"currency"),r.Sb(46,"sup"),r.xc(47," \u20ab"),r.Rb(),r.Rb(),r.Rb(),r.Sb(48,"tr"),r.Sb(49,"td"),r.xc(50,"T\u1ed5ng"),r.Rb(),r.Sb(51,"td",24),r.xc(52),r.dc(53,"currency"),r.Sb(54,"sup"),r.xc(55," \u20ab"),r.Rb(),r.Ob(56,"span"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(57,"div",25),r.Sb(58,"button",26),r.ac("click",(function(){return t.transferId()})),r.xc(59,"Thanh to\xe1n ngay "),r.Rb(),r.Rb(),r.Sb(60,"div",27),r.Sb(61,"span",28),r.Ob(62,"i",29),r.Sb(63,"span",30),r.xc(64," Giao h\xe0ng to\xe0n qu\u1ed1c | t\u1eeb 49,000"),r.Sb(65,"sup"),r.xc(66," \u20ab"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(67,"div",31),r.Ob(68,"img",32),r.Ob(69,"img",33),r.Ob(70,"img",34),r.Rb(),r.Sb(71,"div",35),r.Ob(72,"img",36),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(73,"div",37),r.Sb(74,"div",38),r.Sb(75,"div",39),r.xc(76,"Khi n\xe0o ch\xfang t\xf4i \u0111\u01b0\u1ee3c nh\u1eadn h\xe0ng?"),r.Rb(),r.Sb(77,"div",30),r.xc(78,"Trong v\xf2ng 3-5 ng\xe0y l\xe0m vi\u1ec7c"),r.Rb(),r.Rb(),r.Sb(79,"div",38),r.Sb(80,"div",39),r.xc(81,"\u0110i\u1ec1u kho\u1ea3n ho\xe0n tr\u1ea3 l\xe0 g\xec?"),r.Rb(),r.Sb(82,"div",30),r.xc(83,"N\u1ebfu b\u1ea1n kh\xf4ng h\xe0i l\xf2ng v\u1edbi ki\u1ec7n h\xe0ng, b\u1ea1n c\xf3 th\u1ec3 ho\xe0n l\u1ea1i trong v\xf2ng 30 ng\xe0y"),r.Rb(),r.Rb(),r.Sb(84,"div",38),r.Sb(85,"div",39),r.xc(86,"Thay \u0111\u1ed5i \u0111\u01a1n h\xe0ng?"),r.Rb(),r.Sb(87,"div",30),r.xc(88,"G\u1ecdi cho ch\xfang t\xf4i theo s\u1ed1 0909.999.999"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(19),r.hc("ngIf",0!=t.paymentList.length),r.Ab(1),r.hc("ngIf",0==t.paymentList.length),r.Ab(2),r.hc("ngForOf",t.paymentList),r.Ab(14),r.yc(r.gc(37,7,t.sum,"","","1.0-0")),r.Ab(8),r.yc(r.gc(45,12,t.shipping,"","","1.0-0")),r.Ab(8),r.yc(r.gc(53,17,t.total,"","","1.0-0")),r.Ab(6),r.hc("disabled",0==t.paymentListId.length))},directives:[Se,vc,Wa,cc,ke,co],pipes:[Me,Pe],styles:[".vertical-line[_ngcontent-%COMP%]{border-left:3px solid #0d6efd;height:300px;margin-left:30%;margin-right:10%}.col-lg-4[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;background-color:#f5f5f5;box-shadow:1px 1px .6em #a9a9a9}.questions[_ngcontent-%COMP%]{margin-bottom:2%}body[_ngcontent-%COMP%]{background-color:#ececee}.left-side[_ngcontent-%COMP%]{box-shadow:1px 1px .6em #a9a9a9}.left-side[_ngcontent-%COMP%], .main-part[_ngcontent-%COMP%]{background-color:#f5f5f5}.main-part[_ngcontent-%COMP%]{padding-top:2%}input[type=checkbox][_ngcontent-%COMP%]{zoom:1.75}.bg-orange[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fa6132,#d74836)}.text-orange[_ngcontent-%COMP%]{color:#fa6132}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.max-lines[_ngcontent-%COMP%]{max-height:5.4em}.max-lines[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{display:block;text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;line-height:1.8em}.title[_ngcontent-%COMP%]{max-height:1.8em}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),Wj);function Jj(e,t){1&e&&(r.Sb(0,"div",20),r.Sb(1,"div",21),r.Sb(2,"span",22),r.xc(3,"Loading..."),r.Rb(),r.Rb(),r.Rb())}function Xj(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," *Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n. "),r.Rb())}function Zj(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," *Vui l\xf2ng nh\u1eadp email. "),r.Rb())}var $j,eQ=(($j=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._formBuilder=t,this._accountService=n,this._toastrService=r,this._activatedRoute=i,this._router=o,this.email="",this.username="",this.message="",this.isDisplay=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.forgetPassForm=this._formBuilder.group({username:new rc("",$a.required),email:new rc("",$a.required)})}},{key:"submit",value:function(){var e=this;this.isDisplay=!0,this.email=this.forgetPassForm.controls.email.value,this.username=this.forgetPassForm.controls.username.value,this._accountService.verify(this.email,this.username).subscribe((function(t){e.message=t,e._accountService.showSuccessNotification(e.message),e._router.navigateByUrl("/home")}),(function(t){e.isDisplay=!1,e._accountService.showErrorNotification("Email ho\u1eb7c t\xe0i kho\u1ea3n kh\xf4ng \u0111\xfang, vui l\xf2ng ki\u1ec3m tra l\u1ea1i.")}),(function(){console.log("done")}))}}]),e}()).\u0275fac=function(e){return new(e||$j)(r.Nb(Mc),r.Nb(Pv),r.Nb(yu),r.Nb(Xr),r.Nb(so))},$j.\u0275cmp=r.Hb({type:$j,selectors:[["app-account-forgot-pass"]],decls:32,vars:5,consts:[[2,"height","78.9vh","display","flex","justify-content","center","align-items","center"],[1,"container"],["class","d-flex justify-content-center",4,"ngIf"],[1,"row-cols-lg-1","d-flex","justify-content-center",2,"width","100%"],[1,"col-lg-6","col-md-11","col-sm-12","shadow-lg","card","bg-nude",2,"padding","32px 24px",3,"formGroup","ngSubmit"],[1,"form-heading","text-center","mb-5",2,"margin-top","5%"],[1,"text-dark","h1"],[1,"mt-3","h5","text-orange"],[1,"form-floating","mb-5"],["type","text","id","floatingAccount","placeholder","tentaikhoan123","formControlName","username",1,"form-control"],["role","alert",1,"invalid-feedback","d-block"],[4,"ngIf"],["for","floatingAccount"],[1,"text-danger","fw-bolder"],["type","email","id","floatingInput","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInput"],[1,"form-floating","mb-5","d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","submit",1,"btn","bg-orange","text-light",3,"disabled"],["toCheck",""],["type","button","routerLink","/login",1,"btn","btn-secondary"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.vc(2,Jj,4,0,"div",2),r.Sb(3,"div",3),r.Sb(4,"form",4),r.ac("ngSubmit",(function(){return t.submit()})),r.Sb(5,"div",5),r.Sb(6,"p",6),r.xc(7,"Qu\xean M\u1eadt Kh\u1ea9u"),r.Rb(),r.Sb(8,"p",7),r.xc(9,"Nh\u1eadp t\xean t\xe0i kho\u1ea3n v\xe0 email \u0111\u1ec3 l\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u"),r.Rb(),r.Rb(),r.Sb(10,"div",8),r.Ob(11,"input",9),r.Sb(12,"div",10),r.vc(13,Xj,2,0,"div",11),r.Rb(),r.Sb(14,"label",12),r.xc(15,"T\xe0i kho\u1ea3n"),r.Sb(16,"small",13),r.xc(17," *"),r.Rb(),r.Rb(),r.Rb(),r.Sb(18,"div",8),r.Ob(19,"input",14),r.Sb(20,"div",10),r.vc(21,Zj,2,0,"div",11),r.Rb(),r.Sb(22,"label",15),r.xc(23,"Email"),r.Sb(24,"small",13),r.xc(25," *"),r.Rb(),r.Rb(),r.Rb(),r.Sb(26,"div",16),r.Sb(27,"button",17,18),r.xc(29,"L\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u"),r.Rb(),r.Sb(30,"button",19),r.xc(31,"Quay l\u1ea1i"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(2),r.hc("ngIf",t.isDisplay),r.Ab(2),r.hc("formGroup",t.forgetPassForm),r.Ab(9),r.hc("ngIf",t.forgetPassForm.controls.username.hasError("required")&&t.forgetPassForm.controls.username.touched),r.Ab(8),r.hc("ngIf",t.forgetPassForm.controls.email.hasError("required")&&t.forgetPassForm.controls.email.touched),r.Ab(6),r.hc("disabled",t.forgetPassForm.invalid))},directives:[Se,vc,Wa,yc,La,Ga,Fc,co],styles:[".bg-orange[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fa6132,#d74836)}.text-orange[_ngcontent-%COMP%]{color:#fa6132}.bg-nude[_ngcontent-%COMP%]{background-color:#fdf7ed}"]}),$j);function tQ(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng password. "),r.Rb())}function nQ(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," \u0110\u1ed9 d\xe0i t\u1ed1i thi\u1ec3u c\u1ee7a m\u1eadt kh\u1ea9u l\xe0 5 k\xed t\u1ef1. "),r.Rb())}function rQ(e,t){1&e&&(r.Sb(0,"div"),r.xc(1," \u0110\u1ed9 d\xe0i t\u1ed1i \u0111a c\u1ee7a m\u1eadt kh\u1ea9u l\xe0 30 k\xed t\u1ef1. "),r.Rb())}function iQ(e,t){1&e&&(r.Sb(0,"div",16),r.xc(1," M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp, vui l\xf2ng th\u1eed l\u1ea1i. "),r.Rb())}var oQ,aQ,sQ,cQ=((aQ=function(){function e(t,n,r,i){_classCallCheck(this,e),this._accountService=t,this._activatedRoute=n,this._router=r,this._formBuilder=i,this.errorMessage="",this.account="",this.token="",this.password="",this.isDisplay=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.resetPassForm=this._formBuilder.group({newPassword:["",[$a.required,$a.minLength(5),$a.maxLength(30)]],confirmPassword:[""]},{validators:function(e){var t=e.get("newPassword"),n=e.get("confirmPassword");return t&&n&&t.touched&&t.value!==n.value?{reconfirmPassword:!0}:null}}),this._activatedRoute.queryParams.subscribe((function(t){e.token=t.token,e.account=t.account,void 0!==e.token&&void 0!==e.account?e._accountService.checkToken(e.token,e.account).subscribe((function(e){}),(function(t){e._accountService.showErrorNotification("L\u1ed7i x\xe1c th\u1ef1c, vui l\xf2ng ki\u1ec3m tra l\u1ea1i"),e.errorMessage=t.error+". Vui l\xf2ng th\u1eed l\u1ea1i",console.log(e.errorMessage),e.isDisplay=!1})):(e._accountService.showWarningNotification("Kh\xf4ng th\u1ec3 truy c\u1eadp v\xec ch\u01b0a x\xe1c th\u1ef1c"),e.errorMessage="B\u1ea1n c\u1ea7n truy c\u1eadp v\xe0o link reset m\u1eadt kh\u1ea9u \u0111\u1ec3 c\xf3 th\u1ec3 ti\u1ebfn h\xe0nh \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u",e.isDisplay=!1)}))}},{key:"submit",value:function(){var e=this;this.password=this.resetPassForm.controls.newPassword.value,this._accountService.updatePass(this.account,this.token,this.password).subscribe((function(t){e._accountService.showSuccessNotification("\u0110\xe3 c\u1eadp nh\u1eadt m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng!"),e._router.navigateByUrl("/login")}),(function(t){e._accountService.showErrorNotification("C\u1eadp nh\u1eadt m\u1eadt kh\u1ea9u kh\xf4ng th\xe0nh c\xf4ng!"),e.errorMessage=t.error+"\nVui l\xf2ng th\u1eed l\u1ea1i"}))}},{key:"display",value:function(e){e.type="password"==e.type?"text":"password"}}]),e}()).\u0275fac=function(e){return new(e||aQ)(r.Nb(Pv),r.Nb(Xr),r.Nb(so),r.Nb(Mc))},aQ.\u0275cmp=r.Hb({type:aQ,selectors:[["app-reset-password"]],decls:38,vars:10,consts:[[2,"height","78.9vh","display","flex","justify-content","center","align-items","center"],[1,"container"],[1,"h3","text-danger","justify-content-center","align-items-center","d-flex"],[1,"row-cols-lg-1","d-flex","justify-content-center",2,"width","100%"],[1,"col-lg-6","col-md-11","col-sm-12","shadow-lg","card","bg-nude",2,"padding","32px 24px",3,"formGroup","hidden","ngSubmit"],[1,"form-heading","text-center","mb-5",2,"margin-top","5%"],[1,"text-orange","h1"],[1,"mt-3","h5"],[1,"form-floating","mb-5"],["type","password","id","floatingAccount","formControlName","newPassword","placeholder","abc123",1,"form-control",2,"float","left",3,"ngClass"],["x",""],[2,"margin-left","-44px"],["type","button","id","button-addon2",1,"btn","text-dark",2,"height","58px","border","none",3,"click"],[1,"fa-solid","fa-eye"],["for","floatingAccount"],[1,"text-danger","fw-bolder"],[1,"text-danger"],[4,"ngIf"],["type","password","id","floatingInput","formControlName","confirmPassword","placeholder","abc123",1,"form-control",3,"ngClass"],["for","floatingInput"],[1,"d-block"],["class","text-danger",4,"ngIf"],[1,"form-floating","mt-5","d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","submit",1,"btn","bg-orange","text-light",3,"disabled"],["type","button","routerLink","/login",1,"btn","btn-secondary"]],template:function(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.xc(3),r.Rb(),r.Sb(4,"div",3),r.Sb(5,"form",4),r.ac("ngSubmit",(function(){return t.submit()})),r.Sb(6,"div",5),r.Sb(7,"p",6),r.xc(8,"\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u"),r.Rb(),r.Sb(9,"p",7),r.xc(10,"T\u1ea1o m\u1edbi m\u1eadt kh\u1ea9u cho t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"),r.Rb(),r.Rb(),r.Sb(11,"div",8),r.Ob(12,"input",9,10),r.Sb(14,"span",11),r.Sb(15,"button",12),r.ac("click",(function(){r.oc(n);var e=r.nc(13);return t.display(e)})),r.Ob(16,"i",13),r.Rb(),r.Rb(),r.Sb(17,"label",14),r.xc(18,"M\u1eadt kh\u1ea9u m\u1edbi"),r.Sb(19,"small",15),r.xc(20," *"),r.Rb(),r.Rb(),r.Sb(21,"div",16),r.vc(22,tQ,2,0,"div",17),r.vc(23,nQ,2,0,"div",17),r.vc(24,rQ,2,0,"div",17),r.Rb(),r.Rb(),r.Sb(25,"div",8),r.Ob(26,"input",18),r.Sb(27,"label",19),r.xc(28,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"),r.Sb(29,"small",15),r.xc(30," *"),r.Rb(),r.Rb(),r.Sb(31,"div",20),r.vc(32,iQ,2,0,"div",21),r.Rb(),r.Sb(33,"div",22),r.Sb(34,"button",23),r.xc(35,"L\u01b0u m\u1eadt kh\u1ea9u m\u1edbi"),r.Rb(),r.Sb(36,"button",24),r.xc(37,"Quay l\u1ea1i"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}2&e&&(r.Ab(3),r.yc(t.errorMessage),r.Ab(2),r.hc("formGroup",t.resetPassForm)("hidden",!t.isDisplay),r.Ab(7),r.hc("ngClass",t.resetPassForm.controls.newPassword.touched?t.resetPassForm.controls.newPassword.invalid?"border border-danger":"border border-success":""),r.Ab(10),r.hc("ngIf",t.resetPassForm.controls.newPassword.hasError("required")&&(t.resetPassForm.controls.newPassword.touched||t.resetPassForm.controls.newPassword.dirty)),r.Ab(1),r.hc("ngIf",t.resetPassForm.controls.newPassword.hasError("minlength")&&(t.resetPassForm.controls.newPassword.touched||t.resetPassForm.controls.newPassword.dirty)),r.Ab(1),r.hc("ngIf",t.resetPassForm.controls.newPassword.hasError("maxlength")&&(t.resetPassForm.controls.newPassword.touched||t.resetPassForm.controls.newPassword.dirty)),r.Ab(2),r.hc("ngClass",t.resetPassForm.controls.confirmPassword.touched?t.resetPassForm.hasError("reconfirmPassword")?"is-invalid":"is-valid":""),r.Ab(6),r.hc("ngIf",t.resetPassForm.hasError("reconfirmPassword")&&(t.resetPassForm.controls.confirmPassword.touched||t.resetPassForm.controls.confirmPassword.dirty)),r.Ab(2),r.hc("disabled",t.resetPassForm.invalid))},directives:[vc,Wa,yc,La,Ga,Fc,we,Se,co],styles:[".bg-orange[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fa6132,#d74836)}.text-orange[_ngcontent-%COMP%]{color:#fa6132}.bg-nude[_ngcontent-%COMP%]{background-color:#fdf7ed}"]}),aQ),uQ=((oQ=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.router=n,this.toastr=r}return _createClass(e,[{key:"canActivate",value:function(e,t){if(!this.tokenService.getToken())return!0;this.toastr.error("B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp r\u1ed3i."),this.router.navigateByUrl("/home")}}]),e}()).\u0275fac=function(e){return new(e||oQ)(r.Wb(Cu),r.Wb(so),r.Wb(yu))},oQ.\u0275prov=r.Jb({token:oQ,factory:oQ.\u0275fac,providedIn:"root"}),oQ),lQ=n("PSD3"),hQ=n.n(lQ),dQ=((sQ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...";return n&&(t=e.substr(0,t).lastIndexOf(" ")),e.length>t?e.substr(0,t)+r:e}}]),e}()).\u0275fac=function(e){return new(e||sQ)},sQ.\u0275pipe=r.Mb({name:"CustomPipe",type:sQ,pure:!0}),sQ);function fQ(e,t){1&e&&(r.Sb(0,"h3",16),r.xc(1,"B\u1ea1n kh\xf4ng c\xf3 l\u1ecbch s\u1eed \u0111\u0103ng k\xfd"),r.Rb())}function AQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"span"),r.Sb(1,"button",21),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc().confirmCancel(e.id)})),r.xc(2,"h\u1ee7y \u0111\u0103ng k\xfd"),r.Rb(),r.Rb()}}function pQ(e,t){1&e&&(r.Sb(0,"span",18),r.xc(1,"\u0110ang \u0110\u1ea5u Gi\xe1"),r.Rb())}function gQ(e,t){1&e&&(r.Sb(0,"span",22),r.xc(1,"\u0110\u1ea5u gi\xe1 th\xe0nh c\xf4ng"),r.Rb())}function vQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"span"),r.Sb(1,"button",23),r.ac("click",(function(){r.oc(n);var e=r.cc().$implicit;return r.cc().confirmCancel(e.id)})),r.xc(2,"\u0110\u1ea5u gi\xe1 th\u1ea5t b\u1ea1i(h\u1ee7y)"),r.Rb(),r.Rb()}}function mQ(e,t){1&e&&(r.Sb(0,"span"),r.xc(1," \u0110\xe3 h\u1ee7y "),r.Rb())}function bQ(e,t){1&e&&(r.Sb(0,"span"),r.xc(1," \u0110\xe3 h\u1ee7y "),r.Rb())}function yQ(e,t){1&e&&(r.Sb(0,"span"),r.xc(1," \u0110\xe3 h\u1ee7y "),r.Rb())}function wQ(e,t){1&e&&(r.Sb(0,"span"),r.xc(1," \u0110\xe3 h\u1ee7y "),r.Rb())}function _Q(e,t){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td",8),r.xc(2),r.Rb(),r.Sb(3,"td"),r.xc(4),r.Rb(),r.Ob(5,"td",17),r.dc(6,"CustomPipe"),r.Sb(7,"td"),r.xc(8),r.dc(9,"date"),r.Rb(),r.Sb(10,"td",18),r.xc(11),r.Rb(),r.Sb(12,"td"),r.vc(13,AQ,3,0,"span",15),r.vc(14,pQ,2,0,"span",19),r.vc(15,gQ,2,0,"span",20),r.vc(16,vQ,3,0,"span",15),r.vc(17,mQ,2,0,"span",15),r.vc(18,bQ,2,0,"span",15),r.vc(19,yQ,2,0,"span",15),r.vc(20,wQ,2,0,"span",15),r.Rb(),r.Rb()),2&e){var n=t.$implicit,i=t.index,o=r.cc();r.Ab(2),r.yc(i+1+(o.page-1)*o.pageSize),r.Ab(2),r.yc(n.name),r.Ab(1),r.hc("innerHTML",r.ec(6,13,n.description),r.pc),r.Ab(3),r.yc(r.fc(9,15,n.registerDay,"dd/MM/y H:mm:ss")),r.Ab(3),r.yc(n.reviewStatus),r.Ab(2),r.hc("ngIf",1==n.auctionStatus&&"false"==n.isDelete),r.Ab(1),r.hc("ngIf",2==n.auctionStatus&&"false"==n.isDelete),r.Ab(1),r.hc("ngIf",3==n.auctionStatus&&"false"==n.isDelete),r.Ab(1),r.hc("ngIf",4==n.auctionStatus&&"false"==n.isDelete),r.Ab(1),r.hc("ngIf",1==n.auctionStatus&&"true"==n.isDelete),r.Ab(1),r.hc("ngIf",2==n.auctionStatus&&"true"==n.isDelete),r.Ab(1),r.hc("ngIf",3==n.auctionStatus&&"true"==n.isDelete),r.Ab(1),r.hc("ngIf",4==n.auctionStatus&&"true"==n.isDelete)}}function kQ(e,t){1&e&&(r.Sb(0,"h3",24),r.xc(1,"B\u1ea1n kh\xf4ng c\xf3 l\u1ecbch s\u1eed \u0111\u0103ng k\xfd"),r.Rb())}function CQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"nav",25),r.Sb(2,"ul",26),r.Sb(3,"li",27),r.Sb(4,"a",28),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.pageHistory.number-1)})),r.xc(5,"Trang tr\u01b0\u1edbc"),r.Rb(),r.Rb(),r.Sb(6,"li",29),r.Sb(7,"a",30),r.xc(8),r.Rb(),r.Rb(),r.Sb(9,"li",27),r.Sb(10,"a",28),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.gotoPage(e.pageHistory.number+1)})),r.xc(11,"Trang Sau"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(4),r.hc("ngClass",i.pageHistory.first?"disabled":""),r.Ab(4),r.Ac(" ",i.pageHistory.number+1,"/",i.pageHistory.totalPages,""),r.Ab(2),r.hc("ngClass",i.pageHistory.last?"disabled":"")}}var SQ,xQ=((SQ=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.productService=n,this.page=1,this.pageSize=5,this.p=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.tokenService.isLogged()&&(this.currentUser=JSON.parse(this.tokenService.getUser()),this.userId=this.currentUser.id),this.findAll(this.userId,0)}},{key:"findAll",value:function(e,t){var n=this;this.productService.findAllProduct(e,t).subscribe((function(e){n.pageHistory=e}))}},{key:"gotoPage",value:function(e){this.findAll(this.userId,e)}},{key:"confirmCancel",value:function(e){var t=this;hQ.a.fire({title:"B\u1ea1n c\xf3 mu\u1ed1n h\u1ee7y s\u1ea3n ph\u1ea9m n\xe0y kh\xf4ng ?",text:"T\xe1c v\u1ee5 n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0110\u1ed3ng \xdd",cancelButtonText:"H\u1ee7y B\u1ecf"}).then((function(n){n.isConfirmed&&t.productService.cancelProduct(e).subscribe((function(e){hQ.a.fire("\u0110\xe3 \u0111\xe3 h\u1ee7y!","Th\xf4ng tin n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c x\xf3a."),t.ngOnInit()}))}))}}]),e}()).\u0275fac=function(e){return new(e||SQ)(r.Nb(Cu),r.Nb(tl))},SQ.\u0275cmp=r.Hb({type:SQ,selectors:[["app-product-list"]],decls:34,vars:4,consts:[[2,"margin-left","110px","margin-right","110px"],["div","",1,"row"],[1,"text-center","text-"],["id","title",1,"row"],["direction","right","direction","left","behavior","alternate"],["width","70%","height","200px","id","img","onclick","changeImage()","src","https://static.daugiarongviet.vn/uploaded/slide/dau-gia-rong-viet-1_1663042382.jpg","alt",""],["id","center",1,"row"],[1,"table","table-warning","table-striped-columns"],[1,"text-center"],["class","text-danger text-center","style","justify-content: center; display: flex; align-items: center ",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-danger text-center","style","text-align: center",4,"ngIf"],[1,"row"],[1,"col-9"],[1,"col-3"],[4,"ngIf"],[1,"text-danger","text-center",2,"justify-content","center","display","flex","align-items","center"],[3,"innerHTML"],[1,"text-danger"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"text-success"],[1,"btn","btn-dark",3,"click"],[1,"text-danger","text-center",2,"text-align","center"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],[1,"page-item","active"],[1,"page-link"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h1",2),r.xc(3,"L\u1ecbch S\u1eed \u0110\u0103ng K\xed M\u1eb7t H\xe0ng \u0110\u1ea5u G\xeda"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Sb(5,"div",3),r.Sb(6,"marquee",4),r.Ob(7,"img",5),r.Rb(),r.Rb(),r.Sb(8,"div",6),r.Sb(9,"table",7),r.Sb(10,"thead"),r.Sb(11,"tr",8),r.Sb(12,"th"),r.xc(13,"STT"),r.Rb(),r.Sb(14,"th"),r.xc(15,"T\xean S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Sb(16,"th"),r.xc(17,"Th\xf4ng Tin S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Sb(18,"th"),r.xc(19,"Ng\xe0y \u0110\u0103ng K\xfd"),r.Rb(),r.Sb(20,"th"),r.xc(21,"T\xecnh Tr\u1ea1ng"),r.Rb(),r.Sb(22,"th"),r.xc(23,"H\u1ee7y \u0110\u0103ng K\xfd"),r.Rb(),r.Rb(),r.Rb(),r.vc(24,fQ,2,0,"h3",9),r.Sb(25,"tbody",8),r.vc(26,_Q,21,18,"tr",10),r.Rb(),r.Rb(),r.vc(27,kQ,2,0,"h3",11),r.Sb(28,"div",12),r.Ob(29,"div",13),r.Sb(30,"div",14),r.Sb(31,"div"),r.vc(32,CQ,12,4,"div",15),r.Rb(),r.Rb(),r.Rb(),r.Ob(33,"div"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(24),r.hc("ngIf",null==t.pageHistory),r.Ab(2),r.hc("ngForOf",t.pageHistory.content),r.Ab(1),r.hc("ngIf",null==t.pageHistory),r.Ab(5),r.hc("ngIf",t.pageHistory))},directives:[Se,ke,we],pipes:[dQ,Pe],styles:["#all[_ngcontent-%COMP%]{margin-top:8px}.dropdown[_ngcontent-%COMP%]{color:grey;text-align:center}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}#is[_ngcontent-%COMP%]{background-color:#0ff;animation-name:keyframes1;animation-duration:3s;animation-iteration-count:infinite}@keyframes keyframes1{0%{background-color:#0ff}50%{background-color:#b0e0e6}to{background-color:#afeeee}}#title[_ngcontent-%COMP%]{display:block;height:200px;margin-bottom:50px}button[_ngcontent-%COMP%]{position:center}#left[_ngcontent-%COMP%]{overflow:scroll;height:400px}#right[_ngcontent-%COMP%]{overflow:scroll;height:400px}body[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(https://demoda.vn/wp-content/uploads/2022/02/background-do-sang-trong-may-man-1.jpg);background-size:cover;position:relative}"]}),SQ);function EQ(e,t){1&e&&(r.Sb(0,"h3",13),r.xc(1,"B\u1ea1n kh\xf4ng c\xf3 l\u1ecbch s\u1eed \u0111\u0103ng k\xfd"),r.Rb())}function IQ(e,t){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td",2),r.xc(2),r.Rb(),r.Sb(3,"td"),r.xc(4),r.Rb(),r.Ob(5,"td",14),r.dc(6,"CustomPipe"),r.Sb(7,"td"),r.xc(8),r.dc(9,"number"),r.Sb(10,"sup"),r.xc(11,"\u0111"),r.Rb(),r.Rb(),r.Sb(12,"td"),r.xc(13),r.Rb(),r.Sb(14,"td",15),r.xc(15),r.Rb(),r.Rb()),2&e){var n=t.$implicit,i=t.index,o=r.cc();r.Ab(2),r.yc(i+1+(o.page-1)*o.pageSize),r.Ab(2),r.yc(n.nameProduct),r.Ab(1),r.hc("innerHTML",r.ec(6,6,n.description),r.pc),r.Ab(3),r.yc(r.ec(9,8,n.priceNow)),r.Ab(5),r.yc(n.registerDay),r.Ab(2),r.yc(n.auctionStatus)}}function BQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",18),r.Sb(1,"a",24),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageAuctionProductHistory.number-3)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageAuctionProductHistory.number-2)}}function DQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",18),r.Sb(1,"a",24),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageAuctionProductHistory.number-2)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageAuctionProductHistory.number-1)}}function TQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",18),r.Sb(1,"a",24),r.ac("click",(function(){r.oc(n);var e=r.cc(2);return e.gotoPage(e.pageAuctionProductHistory.number-1)})),r.xc(2),r.Rb(),r.Rb()}if(2&e){var i=r.cc(2);r.Ab(2),r.yc(i.pageAuctionProductHistory.number)}}function OQ(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"nav",16),r.Sb(2,"ul",17),r.Sb(3,"li",18),r.Sb(4,"a",19),r.ac("click",(function(){return r.oc(n),r.cc().gotoPage(0)})),r.xc(5," << "),r.Rb(),r.Rb(),r.vc(6,BQ,3,1,"li",20),r.vc(7,DQ,3,1,"li",20),r.vc(8,TQ,3,1,"li",20),r.Sb(9,"li",21),r.Sb(10,"a",22),r.xc(11),r.Rb(),r.Rb(),r.Sb(12,"li",18),r.Sb(13,"a",23),r.xc(14," >> "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(4),r.hc("ngClass",i.pageAuctionProductHistory.first?"disabled":""),r.Ab(2),r.hc("ngIf",i.pageAuctionProductHistory.number-2>0),r.Ab(1),r.hc("ngIf",i.pageAuctionProductHistory.number-1>0),r.Ab(1),r.hc("ngIf",i.pageAuctionProductHistory.number>0),r.Ab(3),r.yc(i.pageAuctionProductHistory.number+1)}}var FQ,RQ=((FQ=function(){function e(t,n){_classCallCheck(this,e),this.auctionService=t,this.tokenService=n,this.page=1,this.pageSize=5}return _createClass(e,[{key:"ngOnInit",value:function(){this.tokenService.isLogged()&&(this.currentUser=JSON.parse(this.tokenService.getUser()),this.userId=this.currentUser.id),this.findAll(this.userId,0)}},{key:"findAll",value:function(e,t){var n=this;this.auctionService.findAll(e,t).subscribe((function(e){n.pageAuctionProductHistory=e,console.log(n.pageAuctionProductHistory)}))}},{key:"gotoPage",value:function(e){this.findAll(this.userId,e)}}]),e}()).\u0275fac=function(e){return new(e||FQ)(r.Nb(Hu),r.Nb(Cu))},FQ.\u0275cmp=r.Hb({type:FQ,selectors:[["app-auction-product-history"]],decls:33,vars:3,consts:[[2,"margin-left","110px","margin-right","110px"],[1,"row"],[1,"text-center"],["id","title",1,"row"],["direction","right","direction","left","behavior","alternate"],["width","70%","height","200px","id","img","onclick","changeImage()","src","https://static.daugiarongviet.vn/uploaded/slide/dau-gia-rong-viet-1_1663042382.jpg","alt",""],["id","center",1,"row"],[1,"table","table-warning","table-striped-columns"],["class","text-danger text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-9"],[1,"col-3"],[4,"ngIf"],[1,"text-danger","text-center"],[3,"innerHTML"],[1,"text-danger"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],["disabled","",1,"page-link"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"h1",2),r.xc(3,"L\u1ecbch S\u1eed \u0110\u1ea5u Gi\xe1"),r.Rb(),r.Rb(),r.Sb(4,"div"),r.Sb(5,"div"),r.Sb(6,"div",3),r.Sb(7,"marquee",4),r.Ob(8,"img",5),r.Rb(),r.Sb(9,"div",6),r.Sb(10,"table",7),r.Sb(11,"thead"),r.Sb(12,"tr",2),r.Sb(13,"th"),r.xc(14,"STT"),r.Rb(),r.Sb(15,"th"),r.xc(16,"T\xean S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Sb(17,"th"),r.xc(18,"Th\xf4ng Tin S\u1ea3n Ph\u1ea9m"),r.Rb(),r.Sb(19,"th"),r.xc(20,"Gi\xe1 \u0110\u0103ng K\xfd"),r.Rb(),r.Sb(21,"th"),r.xc(22,"Ng\xe0y \u0110\u0103ng K\xfd"),r.Rb(),r.Sb(23,"th"),r.xc(24,"T\xecnh Tr\u1ea1ng"),r.Rb(),r.Rb(),r.Rb(),r.vc(25,EQ,2,0,"h3",8),r.Sb(26,"tbody",2),r.vc(27,IQ,16,10,"tr",9),r.Rb(),r.Rb(),r.Sb(28,"div",1),r.Ob(29,"div",10),r.Sb(30,"div",11),r.Sb(31,"div"),r.vc(32,OQ,15,5,"div",12),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(25),r.hc("ngIf",null==t.pageAuctionProductHistory),r.Ab(2),r.hc("ngForOf",t.pageAuctionProductHistory.content),r.Ab(5),r.hc("ngIf",t.pageAuctionProductHistory))},directives:[Se,ke,we],pipes:[dQ,Ne],styles:[""]}),FQ),PQ=n("wOnQ"),NQ=n.n(PQ),MQ=n("cDf5"),LQ=n.n(MQ),UQ=Uint8Array,jQ=Uint16Array,QQ=Uint32Array,HQ=new UQ([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),VQ=new UQ([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zQ=new UQ([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qQ=function(e,t){for(var n=new jQ(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new QQ(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},KQ=qQ(HQ,2),GQ=KQ[0],WQ=KQ[1];GQ[28]=258,WQ[258]=28;for(var YQ=qQ(VQ,0),JQ=YQ[0],XQ=YQ[1],ZQ=new jQ(32768),$Q=0;$Q<32768;++$Q){var eH=(43690&$Q)>>>1|(21845&$Q)<<1;ZQ[$Q]=((65280&(eH=(61680&(eH=(52428&eH)>>>2|(13107&eH)<<2))>>>4|(3855&eH)<<4))>>>8|(255&eH)<<8)>>>1}var tH=function(e,t,n){for(var r=e.length,i=0,o=new jQ(t);i<r;++i)++o[e[i]-1];var a,s=new jQ(t);for(i=0;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new jQ(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],h=s[e[i]-1]++<<l,d=h|(1<<l)-1;h<=d;++h)a[ZQ[h]>>>c]=u}else for(a=new jQ(r),i=0;i<r;++i)a[i]=ZQ[s[e[i]-1]++]>>>15-e[i];return a},nH=new UQ(288);for($Q=0;$Q<144;++$Q)nH[$Q]=8;for($Q=144;$Q<256;++$Q)nH[$Q]=9;for($Q=256;$Q<280;++$Q)nH[$Q]=7;for($Q=280;$Q<288;++$Q)nH[$Q]=8;var rH=new UQ(32);for($Q=0;$Q<32;++$Q)rH[$Q]=5;var iH=tH(nH,9,0),oH=tH(nH,9,1),aH=tH(rH,5,0),sH=tH(rH,5,1),cH=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},uH=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(7&t)&n},lH=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},hH=function(e){return(e/8>>0)+(7&e&&1)},dH=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof jQ?jQ:e instanceof QQ?QQ:UQ)(n-t);return r.set(e.subarray(t,n)),r},fH=function(e,t,n){var r=t/8>>0;e[r]|=n<<=7&t,e[r+1]|=n>>>8},AH=function(e,t,n){var r=t/8>>0;e[r]|=n<<=7&t,e[r+1]|=n>>>8,e[r+2]|=n>>>16},pH=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new UQ(0),0];if(1==i){var a=new UQ(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],c=n[1],u=0,l=1,h=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};l!=i-1;)s=n[n[u].f<n[h].f?u++:h++],c=n[u!=l&&n[u].f<n[h].f?u++:h++],n[l++]={s:-1,f:s.f+c.f,l:s,r:c};var d=o[0].s;for(r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var f=new jQ(d+1),A=gH(n[l-1],f,0);if(A>t){r=0;var p=0,g=A-t,v=1<<g;for(o.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<i;++r){var m=o[r].s;if(!(f[m]>t))break;p+=v-(1<<A-f[m]),f[m]=t}for(p>>>=g;p>0;){var b=o[r].s;f[b]<t?p-=1<<t-f[b]++-1:++r}for(;r>=0&&p;--r){var y=o[r].s;f[y]==t&&(--f[y],++p)}A=t}return[new UQ(f),A]},gH=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},vH=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new jQ(++t),r=0,i=e[0],o=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return[n.subarray(0,r),t]},mH=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},bH=function(e,t,n){var r=n.length,i=hH(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},yH=function(e,t,n,r,i,o,a,s,c,u,l){fH(t,l++,n),++i[256];for(var h=pH(i,15),d=h[0],f=h[1],A=pH(o,15),p=A[0],g=A[1],v=vH(d),m=v[0],b=v[1],y=vH(p),w=y[0],_=y[1],k=new jQ(19),C=0;C<m.length;++C)k[31&m[C]]++;for(C=0;C<w.length;++C)k[31&w[C]]++;for(var S=pH(k,7),x=S[0],E=S[1],I=19;I>4&&!x[zQ[I-1]];--I);var B,D,T,O,F=u+5<<3,R=mH(i,nH)+mH(o,rH)+a,P=mH(i,d)+mH(o,p)+a+14+3*I+mH(k,x)+(2*k[16]+3*k[17]+7*k[18]);if(F<=R&&F<=P)return bH(t,l,e.subarray(c,c+u));if(fH(t,l,1+(P<R)),l+=2,P<R){B=tH(d,f,0),D=d,T=tH(p,g,0),O=p;var N=tH(x,E,0);for(fH(t,l,b-257),fH(t,l+5,_-1),fH(t,l+10,I-4),l+=14,C=0;C<I;++C)fH(t,l+3*C,x[zQ[C]]);l+=3*I;for(var M=[m,w],L=0;L<2;++L){var U=M[L];for(C=0;C<U.length;++C)fH(t,l,N[j=31&U[C]]),l+=x[j],j>15&&(fH(t,l,U[C]>>>5&127),l+=U[C]>>>12)}}else B=iH,D=nH,T=aH,O=rH;for(C=0;C<s;++C)if(r[C]>255){var j;AH(t,l,B[257+(j=r[C]>>>18&31)]),l+=D[j+257],j>7&&(fH(t,l,r[C]>>>23&31),l+=HQ[j]);var Q=31&r[C];AH(t,l,T[Q]),l+=O[Q],Q>3&&(AH(t,l,r[C]>>>5&8191),l+=VQ[Q])}else AH(t,l,B[r[C]]),l+=D[r[C]];return AH(t,l,B[256]),l+D[256]},wH=new QQ([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]);new UQ(0);function _H(e,t){void 0===t&&(t={});var n=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,a=0;a!=o;){for(var s=Math.min(a+5552,o);a<s;++a)i+=r+=n[a];r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}}();n.p(e);var r,i,o=(2,4,function(e,t,n,r,i,o){var a=e.length,s=new UQ(2+a+5*(1+Math.floor(a/7e3))+4),c=s.subarray(2,s.length-4),u=0;if(!t||a<8)for(var l=0;l<=a;l+=65535){var h=l+65535;h<a?u=bH(c,u,e.subarray(l,h)):(c[l]=!0,u=bH(c,u,e.subarray(l,a)))}else{for(var d=wH[t-1],f=d>>>13,A=8191&d,p=(1<<n)-1,g=new jQ(32768),v=new jQ(p+1),m=Math.ceil(n/3),b=2*m,y=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<b)&p},w=new QQ(25e3),_=new jQ(288),k=new jQ(32),C=0,S=0,x=(l=0,0),E=0,I=0;l<a;++l){var B=y(l),D=32767&l,T=v[B];if(g[D]=T,v[B]=D,E<=l){var O=a-l;if((C>7e3||x>24576)&&O>423){u=yH(e,c,0,w,_,k,S,x,I,l-I,u),x=C=S=0,I=l;for(var F=0;F<286;++F)_[F]=0;for(F=0;F<30;++F)k[F]=0}var R=2,P=0,N=A,M=D-T&32767;if(O>2&&B==y(l-M))for(var L=Math.min(f,O)-1,U=Math.min(32767,l),j=Math.min(258,O);M<=U&&--N&&D!=T;){if(e[l+R]==e[l+R-M]){for(var Q=0;Q<j&&e[l+Q]==e[l+Q-M];++Q);if(Q>R){if(R=Q,P=M,Q>L)break;var H=Math.min(M,Q-2),V=0;for(F=0;F<H;++F){var z=l-M+F+32768&32767,q=z-g[z]+32768&32767;q>V&&(V=q,T=z)}}}M+=(D=T)-(T=g[D])+32768&32767}if(P){w[x++]=268435456|WQ[R]<<18|XQ[P];var K=31&WQ[R],G=31&XQ[P];S+=HQ[K]+VQ[G],++_[257+K],++k[G],E=l+R,++C}else w[x++]=e[l],++_[e[l]]}}u=yH(e,c,!0,w,_,k,S,x,I,l-I,u)}return dH(s,0,2+hH(u)+4)}(r=e,null==(i=t).level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+i.mem));return function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)}(o,t),function(e,t,n){for(;n;++t)e[t]=n,n>>>=8}(o,o.length-4,n.d()),o}var kH=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function CH(){kH.console&&"function"==typeof kH.console.log&&kH.console.log.apply(kH.console,arguments)}var SH={log:CH,warn:function(e){kH.console&&("function"==typeof kH.console.warn?kH.console.warn.apply(kH.console,arguments):CH.call(null,arguments))},error:function(e){kH.console&&("function"==typeof kH.console.error?kH.console.error.apply(kH.console,arguments):CH(e))}};function xH(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){TH(r.response,t,n)},r.onerror=function(){SH.error("could not download file")},r.send()}function EH(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function IH(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var BH,DH,TH=kH.saveAs||("object"!==("undefined"==typeof window?"undefined":LQ()(window))||window!==kH?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=kH.URL||kH.webkitURL,i=document.createElement("a");i.download=t=t||e.name||"download",i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?EH(i.href)?xH(e,t,n):IH(i,i.target="_blank"):IH(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){IH(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(EH(e))xH(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){IH(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==LQ()(t)&&(SH.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return xH(e,t,n);var i="application/octet-stream"===e.type,o=/constructor/i.test(kH.HTMLElement)||kH.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&"object"===("undefined"==typeof FileReader?"undefined":LQ()(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var c=kH.URL||kH.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout((function(){c.revokeObjectURL(u)}),4e4)}});function OH(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].process,o=n[r].re.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function FH(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=PH(n,r,i,o,t[0],7,-680876936),o=PH(o,n,r,i,t[1],12,-389564586),i=PH(i,o,n,r,t[2],17,606105819),r=PH(r,i,o,n,t[3],22,-1044525330),n=PH(n,r,i,o,t[4],7,-176418897),o=PH(o,n,r,i,t[5],12,1200080426),i=PH(i,o,n,r,t[6],17,-1473231341),r=PH(r,i,o,n,t[7],22,-45705983),n=PH(n,r,i,o,t[8],7,1770035416),o=PH(o,n,r,i,t[9],12,-1958414417),i=PH(i,o,n,r,t[10],17,-42063),r=PH(r,i,o,n,t[11],22,-1990404162),n=PH(n,r,i,o,t[12],7,1804603682),o=PH(o,n,r,i,t[13],12,-40341101),i=PH(i,o,n,r,t[14],17,-1502002290),n=NH(n,r=PH(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=NH(o,n,r,i,t[6],9,-1069501632),i=NH(i,o,n,r,t[11],14,643717713),r=NH(r,i,o,n,t[0],20,-373897302),n=NH(n,r,i,o,t[5],5,-701558691),o=NH(o,n,r,i,t[10],9,38016083),i=NH(i,o,n,r,t[15],14,-660478335),r=NH(r,i,o,n,t[4],20,-405537848),n=NH(n,r,i,o,t[9],5,568446438),o=NH(o,n,r,i,t[14],9,-1019803690),i=NH(i,o,n,r,t[3],14,-187363961),r=NH(r,i,o,n,t[8],20,1163531501),n=NH(n,r,i,o,t[13],5,-1444681467),o=NH(o,n,r,i,t[2],9,-51403784),i=NH(i,o,n,r,t[7],14,1735328473),n=MH(n,r=NH(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=MH(o,n,r,i,t[8],11,-2022574463),i=MH(i,o,n,r,t[11],16,1839030562),r=MH(r,i,o,n,t[14],23,-35309556),n=MH(n,r,i,o,t[1],4,-1530992060),o=MH(o,n,r,i,t[4],11,1272893353),i=MH(i,o,n,r,t[7],16,-155497632),r=MH(r,i,o,n,t[10],23,-1094730640),n=MH(n,r,i,o,t[13],4,681279174),o=MH(o,n,r,i,t[0],11,-358537222),i=MH(i,o,n,r,t[3],16,-722521979),r=MH(r,i,o,n,t[6],23,76029189),n=MH(n,r,i,o,t[9],4,-640364487),o=MH(o,n,r,i,t[12],11,-421815835),i=MH(i,o,n,r,t[15],16,530742520),n=LH(n,r=MH(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=LH(o,n,r,i,t[7],10,1126891415),i=LH(i,o,n,r,t[14],15,-1416354905),r=LH(r,i,o,n,t[5],21,-57434055),n=LH(n,r,i,o,t[12],6,1700485571),o=LH(o,n,r,i,t[3],10,-1894986606),i=LH(i,o,n,r,t[10],15,-1051523),r=LH(r,i,o,n,t[1],21,-2054922799),n=LH(n,r,i,o,t[8],6,1873313359),o=LH(o,n,r,i,t[15],10,-30611744),i=LH(i,o,n,r,t[6],15,-1560198380),r=LH(r,i,o,n,t[13],21,1309151649),n=LH(n,r,i,o,t[4],6,-145523070),o=LH(o,n,r,i,t[11],10,-1120210379),i=LH(i,o,n,r,t[2],15,718787259),r=LH(r,i,o,n,t[9],21,-343485551),e[0]=KH(n,e[0]),e[1]=KH(r,e[1]),e[2]=KH(i,e[2]),e[3]=KH(o,e[3])}function RH(e,t,n,r,i,o){return t=KH(KH(t,e),KH(r,o)),KH(t<<i|t>>>32-i,n)}function PH(e,t,n,r,i,o,a){return RH(t&n|~t&r,e,t,i,o,a)}function NH(e,t,n,r,i,o,a){return RH(t&r|n&~r,e,t,i,o,a)}function MH(e,t,n,r,i,o,a){return RH(t^n^r,e,t,i,o,a)}function LH(e,t,n,r,i,o,a){return RH(n^(t|~r),e,t,i,o,a)}function UH(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)FH(r,jH(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(FH(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,FH(r,i),r}function jH(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}BH=kH.atob.bind(kH),DH=kH.btoa.bind(kH);var QH="0123456789abcdef".split("");function HH(e){for(var t="",n=0;n<4;n++)t+=QH[e>>8*n+4&15]+QH[e>>8*n&15];return t}function VH(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zH(e){return UH(e).map(VH).join("")}var qH="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=HH(e[t]);return e.join("")}(UH("hello"));function KH(e,t){if(qH){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function GH(e,t){var n,r,i;if(e!==n){for(var o=(i=e,new Array(1+(256/e.length>>0)+1).join(i)),a=[],s=0;s<256;s++)a[s]=s;var c=0;for(s=0;s<256;s++){var u=a[s];c=(c+u+o.charCodeAt(s))%256,a[s]=a[c],a[c]=u}n=e,r=a}else a=r;var l=t.length,h=0,d=0,f="";for(s=0;s<l;s++)d=(d+(u=a[h=(h+1)%256]))%256,a[h]=a[d],a[d]=u,o=a[(a[h]+a[d])%256],f+=String.fromCharCode(t.charCodeAt(s)^o);return f}var WH={print:4,modify:8,copy:16,"annot-forms":32};function YH(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==WH.perm)throw new Error("Invalid permission: "+e);i+=WH[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=zH(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=GH(this.encryptionKey,this.padding)}function JH(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function XH(e){if("object"!==LQ()(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var a=t[n][o];try{a[0].apply(e,r)}catch(n){kH.console&&SH.error("jsPDF PubSub Error",n.message,n)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ZH(e){if(!(this instanceof ZH))return new ZH(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function $H(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function eV(e,t,n,r,i){if(!(this instanceof eV))return new eV(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,$H.call(this,r,i)}function tV(e,t,n,r,i){if(!(this instanceof tV))return new tV(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,$H.call(this,r,i)}function nV(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,c=16,u="S",l=null;"object"===LQ()(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,null!==(l=e.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(!0===o?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=XH;var A="1.3",p=f.__private__.getPdfVersion=function(){return A};f.__private__.setPdfVersion=function(e){A=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var v=f.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var m={COMPAT:"compat",ADVANCED:"advanced"},b=m.COMPAT;function y(){this.saveGraphicsState(),Z(new Oe(fe,0,0,-fe,0,En()*fe).toString()+" cm"),this.setFontSize(this.getFontSize()/fe),u="n",b=m.ADVANCED}function w(){this.restoreGraphicsState(),u="S",b=m.COMPAT}var _=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=b===m.COMPAT;return t&&y.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.compatAPI=function(e){var t=b===m.ADVANCED;return t&&w.call(this),"function"!=typeof e||(e(this),t&&y.call(this)),this},f.isAdvancedAPI=function(){return b===m.ADVANCED};var k,C=function(e){if(b!==m.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,16)};var x=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return S(e,2)},E=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return S(e,3)},I=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return b===m.COMPAT?e*fe:b===m.ADVANCED?e:void 0},B=function(e){return b===m.COMPAT?En()-e:b===m.ADVANCED?e:void 0},D=function(e){return I(B(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var T,O="00000000000000000000000000000000",F=f.__private__.getFileId=function(){return O},R=f.__private__.setFileId=function(e){return O=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():O.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==l&&(Rt=new YH(l.userPermissions,l.userPassword,l.ownerPassword,O)),O};f.setFileId=function(e){return R(e),this},f.getFileId=function(){return F()};var P=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,j(r),"'",j(i),"'"].join("");return["D:",e.getFullYear(),j(e.getMonth()+1),j(e.getDate()),j(e.getHours()),j(e.getMinutes()),j(e.getSeconds()),o].join("")},N=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,a,0)},M=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=P(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return T=t},L=f.__private__.getCreationDate=function(e){var t=T;return"jsDate"===e&&(t=N(T)),t};f.setCreationDate=function(e){return M(e),this},f.getCreationDate=function(e){return L(e)};var U,j=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},Q=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,V=[],z=[],q=0,K=[],G=[],W=!1,Y=z,J=function(){H=0,q=0,z=[],V=[],K=[],je=Me(),Qe=Me()};f.__private__.setCustomOutputDestination=function(e){W=!0,Y=e};var X=function(e){W||(Y=e)};f.__private__.resetCustomOutputDestination=function(){W=!1,Y=z};var Z=f.__private__.out=function(e){return e=e.toString(),q+=e.length+1,Y.push(e),Y},$=f.__private__.write=function(e){return Z(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ee=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return te};var ne=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return ne=b===m.ADVANCED?e/fe:e,this};var re,ie=f.__private__.getFontSize=f.getFontSize=function(){return b===m.COMPAT?ne:ne*fe},oe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return oe=e,this},f.__private__.getR2L=f.getR2L=function(){return oe};var ae,se=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};f.__private__.getZoomMode=function(){return re};var ce,ue=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};f.__private__.getPageMode=function(){return ae};var le=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ce=e};f.__private__.getLayoutMode=function(){return ce},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return se(e),le(t),ue(n),this};var he={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(he).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return he[e]},f.__private__.getDocumentProperties=function(){return he},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in he)he.hasOwnProperty(t)&&e[t]&&(he[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(he).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return he[e]=t};var de,fe,Ae,pe,ge,ve={},me={},be=[],ye={},we={},_e={},ke={},Ce=null,Se=0,xe=[],Ee=new XH(f),Ie=e.hotfixes||[],Be={},De={},Te=[],Oe=function e(t,n,r,i,o,a){if(!(this instanceof e))return new e(t,n,r,i,o,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,o,a]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Oe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Oe.prototype.multiply=function(e){return new Oe(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},Oe.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*r;n-=e*s,r-=t*s;var c=Math.sqrt(n*n+r*r);return s/=c,e*(r/=c)<t*(n/=c)&&(e=-e,t=-t,s=-s,a=-a),{scale:new Oe(a,0,0,c,0,0),translate:new Oe(1,0,0,1,i,o),rotate:new Oe(e,t,-t,e,0,0),skew:new Oe(1,0,s,1,0,0)}},Oe.prototype.toString=function(e){return this.join(" ")},Oe.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=1/(e*r-t*n),s=r*a,c=-t*a,u=-n*a,l=e*a;return new Oe(s,c,u,l,-s*i-u*o,-c*i-l*o)},Oe.prototype.applyToPoint=function(e){return new bn(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},Oe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new bn(e.x+e.w,e.y+e.h));return new yn(t.x,t.y,n.x-t.x,n.y-t.y)},Oe.prototype.clone=function(){return new Oe(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},f.Matrix=Oe;var Fe=f.matrixMult=function(e,t){return t.multiply(e)},Re=new Oe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Re;var Pe=function(e,t){if(!we[e]){var n=(t instanceof eV?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,we[e]=n,ye[n]=t,Ee.publish("addPattern",t)}};f.ShadingPattern=eV,f.TilingPattern=tV,f.addShadingPattern=function(e,t){return C("addShadingPattern()"),Pe(e,t),this},f.beginTilingPattern=function(e){C("beginTilingPattern()"),_n(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){C("endTilingPattern()"),t.stream=G[U].join("\n"),Pe(e,t),Ee.publish("endTilingPattern",t),Te.pop().restore()};var Ne=f.__private__.newObject=function(){var e=Me();return Le(e,!0),e},Me=f.__private__.newObjectDeferred=function(){return H++,V[H]=function(){return q},H},Le=function(e,t){return t="boolean"==typeof t&&t,V[e]=q,t&&Z(e+" 0 obj"),e},Ue=f.__private__.newAdditionalObject=function(){var e={objId:Me(),content:""};return K.push(e),e},je=Me(),Qe=Me(),He=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ve=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,o=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new OH(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,r=c>>8&255,i=255&c}if(void 0===r||void 0===o&&n===r&&r===i)if("string"==typeof n)t=n+" "+a[0];else switch(e.precision){case 2:t=x(n/255)+" "+a[0];break;case 3:default:t=E(n/255)+" "+a[0]}else if(void 0===o||"object"===LQ()(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)t=[n,r,i,a[1]].join(" ");else switch(e.precision){case 2:t=[x(n/255),x(r/255),x(i/255),a[1]].join(" ");break;default:case 3:t=[E(n/255),E(r/255),E(i/255),a[1]].join(" ")}}else if("string"==typeof n)t=[n,r,i,o,a[2]].join(" ");else switch(e.precision){case 2:t=[x(n),x(r),x(i),x(o),a[2]].join(" ");break;case 3:default:t=[E(n),E(r),E(i),E(o),a[2]].join(" ")}return t},ze=f.__private__.getFilters=function(){return a},qe=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||ze(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,a=e.objectId,s=function(e){return e};if(null!==l&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(s=Rt.encryptor(a,0));var c={};!0===n&&(n=["FlateEncode"]);var u=e.additionalKeyValues||[],h=(c=void 0!==nV.API.processDataByFilters?nV.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==c.data.length&&(u.push({key:"Length",value:c.data.length}),!0===i&&u.push({key:"Length1",value:o})),0!=h.length)if(h.split("/").length-1==1)u.push({key:"Filter",value:h});else{u.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<u.length;d+=1)if("DecodeParms"===u[d].key){for(var f=[],A=0;A<c.reverseChain.split("/").length-1;A+=1)f.push("null");f.push(u[d].value),u[d].value="["+f.join(" ")+"]"}}Z("<<");for(var p=0;p<u.length;p++)Z("/"+u[p].key+" "+u[p].value);Z(">>"),0!==c.data.length&&(Z("stream"),Z(s(c.data)),Z("endstream"))},Ke=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Le(r,!0),Z("<</Type /Page"),Z("/Parent "+e.rootDictionaryObjId+" 0 R"),Z("/Resources "+e.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Z("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Z("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Z("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&Z("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Z("/UserUnit "+e.userUnit),Ee.publish("putPage",{objId:r,pageContext:xe[t],pageNumber:t,page:n}),Z("/Contents "+i+" 0 R"),Z(">>"),Z("endobj");var o=n.join("\n");return b===m.ADVANCED&&(o+="\nQ"),Le(i,!0),qe({data:o,filters:ze(),objectId:i}),Z("endobj"),r},Ge=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Se;e++)xe[e].objId=Me(),xe[e].contentsObjId=Me();for(e=1;e<=Se;e++)n.push(Ke({number:e,data:G[e],objId:xe[e].objId,contentsObjId:xe[e].contentsObjId,mediaBox:xe[e].mediaBox,cropBox:xe[e].cropBox,bleedBox:xe[e].bleedBox,trimBox:xe[e].trimBox,artBox:xe[e].artBox,userUnit:xe[e].userUnit,rootDictionaryObjId:je,resourceDictionaryObjId:Qe}));Le(je,!0),Z("<</Type /Pages");var r="/Kids [";for(t=0;t<Se;t++)r+=n[t]+" 0 R ";Z(r+"]"),Z("/Count "+Se),Z(">>"),Z("endobj"),Ee.publish("postPutPages")},We=function(e){Ee.publish("putFont",{font:e,out:Z,newObject:Ne,putStream:qe}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ne(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+JH(e.postScriptName)),Z("/Subtype /Type1"),"string"==typeof e.encoding&&Z("/Encoding /"+e.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Ye=function(){for(var e in ve)ve.hasOwnProperty(e)&&(!1===h||!0===h&&d.hasOwnProperty(e))&&We(ve[e])},Je=function(e){e.objectNumber=Ne();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");qe({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Z("endobj")},Xe=function(){for(var e in Be)Be.hasOwnProperty(e)&&Je(Be[e])},Ze=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);r.push(1),0!=e[0].offset&&e.unshift({offset:0,color:e[0].color}),1!=e[e.length-1].offset&&e.push({offset:1,color:e[e.length-1].color});for(var o="",a=0,s=0;s<r.length;s++){for(n=r[s];n>e[a+1].offset;)a++;var c=e[a].offset,u=(n-c)/(e[a+1].offset-c),l=e[a].color,h=e[a+1].color;o+=Q(Math.round((1-u)*l[0]+u*h[0]).toString(16))+Q(Math.round((1-u)*l[1]+u*h[1]).toString(16))+Q(Math.round((1-u)*l[2]+u*h[2]).toString(16))}return o.trim()},$e=function(e,t){t||(t=21);var n=Ne(),r=Ze(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Z("endobj"),e.objectNumber=Ne(),Z("<< /ShadingType "+e.type),Z("/ColorSpace /DeviceRGB");var o="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";o+=2===e.type?k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),Z(o+="]"),e.matrix&&Z("/Matrix ["+e.matrix.toString()+"]"),Z("/Function "+n+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},et=function(e,t){var n=Me(),r=Ne();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),i.push({key:"XStep",value:k(e.xStep)}),i.push({key:"YStep",value:k(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),qe({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),Z("endobj")},tt=function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof eV?$e(ye[t]):ye[t]instanceof tV&&et(ye[t],e))},nt=function(e){for(var t in e.objectNumber=Ne(),Z("<<"),e)switch(t){case"opacity":Z("/ca "+x(e[t]));break;case"stroke-opacity":Z("/CA "+x(e[t]))}Z(">>"),Z("endobj")},rt=function(){var e;for(e in _e)_e.hasOwnProperty(e)&&nt(_e[e])},it=function(){for(var e in Z("/XObject <<"),Be)Be.hasOwnProperty(e)&&Be[e].objectNumber>=0&&Z("/"+e+" "+Be[e].objectNumber+" 0 R");Ee.publish("putXobjectDict"),Z(">>")},ot=function(){Rt.oid=Ne(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Rt.v),Z("/R "+Rt.r),Z("/U <"+Rt.toHexString(Rt.U)+">"),Z("/O <"+Rt.toHexString(Rt.O)+">"),Z("/P "+Rt.P),Z(">>"),Z("endobj")},at=function(){for(var e in Z("/Font <<"),ve)ve.hasOwnProperty(e)&&(!1===h||!0===h&&d.hasOwnProperty(e))&&Z("/"+e+" "+ve[e].objectNumber+" 0 R");Z(">>")},st=function(){if(Object.keys(ye).length>0){for(var e in Z("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof eV&&ye[e].objectNumber>=0&&Z("/"+e+" "+ye[e].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),Z(">>")}},ct=function(e){if(Object.keys(ye).length>0){for(var t in Z("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof f.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&Z("/"+t+" "+ye[t].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),Z(">>")}},ut=function(){if(Object.keys(_e).length>0){var e;for(e in Z("/ExtGState <<"),_e)_e.hasOwnProperty(e)&&_e[e].objectNumber>=0&&Z("/"+e+" "+_e[e].objectNumber+" 0 R");Ee.publish("putGStateDict"),Z(">>")}},lt=function(e){Le(e.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),at(),st(),ct(e.objectOid),ut(),it(),Z(">>"),Z("endobj")},ht=function(){var e=[];Ye(),rt(),Xe(),tt(e),Ee.publish("putResources"),e.forEach(lt),lt({resourcesOid:Qe,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources")},dt=function(){Ee.publish("putAdditionalObjects");for(var e=0;e<K.length;e++){var t=K[e];Le(t.objId,!0),Z(t.content),Z("endobj")}Ee.publish("postPutAdditionalObjects")},ft=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},At=function(e,t,n,r,i){var o={id:"F"+(Object.keys(ve).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Ee.publish("addFont",{font:o,instance:this}),ve[o.id]=o,ft(o),o.id},pt=function(e){for(var t=0,n=te.length;t<n;t++){var r=At.call(this,e[t][0],e[t][1],e[t][2],te[t][3],!0);!1===h&&(d[r]=!0);var i=e[t][0].split("-");ft({id:r,fontName:i[0],fontStyle:i[1]||""})}Ee.publish("addFonts",{fonts:ve,dictionary:me})},gt=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!kH.console)throw new Error(n);kH.console.error(n,e),kH.alert&&alert(n)}},e.foo.bar=e,e.foo},vt=function(e,t){var n,r,i,o,a,s,c,u,l;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&ve[de].metadata&&ve[de].metadata[i]&&ve[de].metadata[i].encoding&&(o=ve[de].metadata[i].encoding,!a&&ve[de].encoding&&(a=ve[de].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(c=!1,s=[],n=0,r=e.length;n<r;n++)(u=a[e.charCodeAt(n)])?s.push(String.fromCharCode(u)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(c=!0);e=s.join("")}for(n=e.length;void 0===c&&0!==n;)e.charCodeAt(n-1)>>8&&(c=!0),n--;if(!c)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((l=(u=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(l),s.push(u-(l<<8))}return String.fromCharCode.apply(void 0,s)},mt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return vt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bt=f.__private__.beginPage=function(e){G[++Se]=[],xe[Se]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},_t(Se),X(G[U])},yt=function(e,t){var r,o,a;switch(n=t||n,"string"==typeof e&&(r=v(e.toLowerCase()),Array.isArray(r)&&(o=r[0],a=r[1])),Array.isArray(e)&&(o=e[0]*fe,a=e[1]*fe),isNaN(o)&&(o=i[0],a=i[1]),(o>14400||a>14400)&&(SH.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),o=Math.min(14400,o),a=Math.min(14400,a)),i=[o,a],n.substr(0,1)){case"l":a>o&&(i=[a,o]);break;case"p":o>a&&(i=[a,o])}bt(i),tn($t),Z(ln),0!==gn&&Z(gn+" J"),0!==vn&&Z(vn+" j"),Ee.publish("addPage",{pageNumber:Se})},wt=function(e){e>0&&e<=Se&&(G.splice(e,1),xe.splice(e,1),Se--,U>Se&&(U=Se),this.setPage(U))},_t=function(e){e>0&&e<=Se&&(U=e)},kt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},Ct=function(e,t,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:ve[de].fontStyle,r=(e=void 0!==e?e:ve[de].fontName).toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?i=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?i=me[e][t]:!1===n.disableWarning&&SH.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=me.times[t])&&(i=me.times.normal),i},St=f.__private__.putInfo=function(){var e=Ne(),t=function(e){return e};for(var n in null!==l&&(t=Rt.encryptor(e,0)),Z("<<"),Z("/Producer ("+mt(t("jsPDF "+nV.version))+")"),he)he.hasOwnProperty(n)&&he[n]&&Z("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+mt(t(he[n]))+")");Z("/CreationDate ("+mt(t(T))+")"),Z(">>"),Z("endobj")},xt=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||je;switch(Ne(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+re;"%"===n.substr(n.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&Z("/OpenAction [3 0 R /XYZ null null "+x(re)+"]")}switch(ce||(ce="continuous"),ce){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ae&&Z("/PageMode /"+ae),Ee.publish("putCatalog"),Z(">>"),Z("endobj")},Et=f.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(H+1)),Z("/Root "+H+" 0 R"),Z("/Info "+(H-1)+" 0 R"),null!==l&&Z("/Encrypt "+Rt.oid+" 0 R"),Z("/ID [ <"+O+"> <"+O+"> ]"),Z(">>")},It=f.__private__.putHeader=function(){Z("%PDF-"+A),Z("%\xba\xdf\xac\xe0")},Bt=f.__private__.putXRef=function(){var e="0000000000";Z("xref"),Z("0 "+(H+1)),Z("0000000000 65535 f ");for(var t=1;t<=H;t++)Z("function"==typeof V[t]?(e+V[t]()).slice(-10)+" 00000 n ":void 0!==V[t]?(e+V[t]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Dt=f.__private__.buildDocument=function(){J(),X(z),Ee.publish("buildDocument"),It(),Ge(),dt(),ht(),null!==l&&ot(),St(),xt();var e=q;return Bt(),Et(),Z("startxref"),Z(""+e),Z("%%EOF"),X(G[U]),z.join("\n")},Tt=f.__private__.getBlob=function(e){return new Blob([ee(e)],{type:"application/pdf"})},Ot=f.output=f.__private__.output=gt((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Dt();case"save":f.save(t.filename);break;case"arraybuffer":return ee(Dt());case"blob":return Tt(Dt());case"bloburi":case"bloburl":if(void 0!==kH.URL&&"function"==typeof kH.URL.createObjectURL)return kH.URL&&kH.URL.createObjectURL(Tt(Dt()))||void 0;SH.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Dt();try{n=DH(r)}catch(e){n=DH(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(kH)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=kH.open();return null!==s&&s.document.write(a),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(kH)){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',u=kH.open();if(null!==u){u.document.write(c);var l=this;u.document.documentElement.querySelector("#pdfViewer").onload=function(){u.document.title=t.filename,u.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(l.output("bloburl"))}}return u}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(kH))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=kH.open();if(null!==d&&(d.document.write(h),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return kH.document.location.href=this.output("datauristring",t);default:return null}})),Ft=function(e){return!0===Array.isArray(Ie)&&Ie.indexOf(e)>-1};switch(r){case"pt":fe=1;break;case"mm":fe=72/25.4;break;case"cm":fe=72/2.54;break;case"in":fe=72;break;case"px":fe=1==Ft("px_scaling")?.75:96/72;break;case"pc":case"em":fe=12;break;case"ex":fe=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);fe=r}var Rt=null;M(),R();var Pt=function(e){return null!==l?Rt.encryptor(e,0):function(e){return e}},Nt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xe[e].objId,pageNumber:e,pageContext:xe[e]}},Mt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in xe)if(xe[t].objId===e)break;return Nt(t)},Lt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:xe[U].objId,pageNumber:U,pageContext:xe[U]}};f.addPage=function(){return yt.apply(this,arguments),this},f.setPage=function(){return _t.apply(this,arguments),X.call(this,G[U]),this},f.insertPage=function(e){return this.addPage(),this.movePage(U,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=xe[e];for(var i=e;i>t;i--)G[i]=G[i-1],xe[i]=xe[i-1];G[t]=n,xe[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=xe[e];for(var o=e;o<t;o++)G[o]=G[o+1],xe[o]=xe[o+1];G[t]=n,xe[t]=r,this.setPage(t)}return this},f.deletePage=function(){return wt.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,r,i){var o,a,s,c,u,l,h,f,A,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Oe==0?(s=arguments[4],c=arguments[5],"object"===LQ()(h=arguments[3])&&null!==h||("string"==typeof s&&(c=s,s=null),"string"==typeof h&&(c=h,h=null),"number"==typeof h&&(s=h,h=null),r={flags:h,angle:s,align:c})):(C("The transform parameter of text() with a Matrix value"),A=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var v="",y=!1,w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Zt,_=p.internal.scaleFactor;function S(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),mt(e,h)}function x(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function E(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var B=!1,D=!0;if("string"==typeof e)B=!0;else if(Array.isArray(e)){var T=e.concat();a=[];for(var O,F=T.length;F--;)("string"!=typeof(O=T.shift())||Array.isArray(O)&&"string"!=typeof O[0])&&(D=!1);B=D}if(!1===B)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var R=ne/p.internal.scaleFactor,P=R*(w-1);switch(r.baseline){case"bottom":n-=P;break;case"top":n+=R-P;break;case"hanging":n+=R-2*P;break;case"middle":n+=R/2-P}if((l=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(p.splitTextToSize(t,l))}),[]))),Ee.publish("preProcessText",o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:mt,activeFontKey:de,fonts:ve,activeFontSize:ne}}),e=o.text,s=(r=o.options).angle,A instanceof Oe==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),b===m.ADVANCED&&(s=-s);var N=Math.cos(s),M=Math.sin(s);A=new Oe(N,M,-M,N,0,0)}else s&&s instanceof Oe&&(A=s);b!==m.ADVANCED||A||(A=Re),void 0!==(u=r.charSpace||An)&&(v+=k(I(u))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(v+=k(100*f)+" Tz\n");var L=-1,U=void 0!==r.renderingMode?r.renderingMode:r.stroke,j=p.internal.getCurrentPageInfo().pageContext;switch(U){case 0:case!1:case"fill":L=0;break;case 1:case!0:case"stroke":L=1;break;case 2:case"fillThenStroke":L=2;break;case 3:case"invisible":L=3;break;case 4:case"fillAndAddForClipping":L=4;break;case 5:case"strokeAndAddPathForClipping":L=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":L=6;break;case 7:case"addToPathForClipping":L=7}var Q=void 0!==j.usedRenderingMode?j.usedRenderingMode:-1;-1!==L?v+=L+" Tr\n":-1!==Q&&(v+="0 Tr\n"),-1!==L&&(j.usedRenderingMode=L),c=r.align||"left";var H,V=ne*w,z=p.internal.pageSize.getWidth(),q=ve[de];u=r.charSpace||An,l=r.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},r.flags);var K=[];if("[object Array]"===Object.prototype.toString.call(e)){var G;a=x(e),"left"!==c&&(H=a.map((function(e){return p.getStringUnitWidth(e,{font:q,charSpace:u,fontSize:ne,doKerning:!1})*ne/_})));var W,Y=0;if("right"===c){t-=H[0],e=[],F=a.length;for(var J=0;J<F;J++)0===J?(W=an(t),G=sn(n)):(W=I(Y-H[J]),G=-V),e.push([a[J],W,G]),Y=H[J]}else if("center"===c){t-=H[0]/2,e=[],F=a.length;for(var X=0;X<F;X++)0===X?(W=an(t),G=sn(n)):(W=I((Y-H[X])/2),G=-V),e.push([a[X],W,G]),Y=H[X]}else if("left"===c){e=[],F=a.length;for(var $=0;$<F;$++)e.push(a[$])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],F=a.length,l=0!==l?l:z;for(var ee=0;ee<F;ee++)G=0===ee?sn(n):-V,W=0===ee?an(t):0,K.push(ee<F-1?k(I((l-H[ee])/(a[ee].split(" ").length-1))):0),e.push([a[ee],W,G])}}var te="boolean"==typeof r.R2L?r.R2L:oe;!0===te&&(e=E(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),Ee.publish("postProcessText",o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:mt,activeFontKey:de,fonts:ve,activeFontSize:ne}}),e=o.text,y=o.mutex.isHex||!1;var re=ve[de].encoding;"WinAnsiEncoding"!==re&&"StandardEncoding"!==re||(e=E(e,(function(e,t,n){return[S(e),t,n]}))),a=x(e),e=[];for(var ie,ae,se,ce=0,ue=1,le=Array.isArray(a[0])?ue:ce,he="",fe=function(e,t,n){var i="";return n instanceof Oe?(n="number"==typeof r.angle?Fe(n,new Oe(1,0,0,1,e,t)):Fe(new Oe(1,0,0,1,e,t),n),b===m.ADVANCED&&(n=Fe(new Oe(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=k(e)+" "+k(t)+" Td\n",i},Ae=0;Ae<a.length;Ae++){switch(he="",le){case ue:se=(y?"<":"(")+a[Ae][0]+(y?">":")"),ie=parseFloat(a[Ae][1]),ae=parseFloat(a[Ae][2]);break;case ce:se=(y?"<":"(")+a[Ae]+(y?">":")"),ie=an(t),ae=sn(n)}void 0!==K&&void 0!==K[Ae]&&(he=K[Ae]+" Tw\n"),0===Ae?e.push(he+fe(ie,ae,A)+se):le===ce?e.push(he+se):le===ue&&e.push(he+fe(ie,ae,A)+se)}e=e.join(le===ce?" Tj\nT* ":" Tj\n"),e+=" Tj\n";var pe="BT\n/";return pe+=de+" "+ne+" Tf\n",pe+=k(ne*w)+" TL\n",pe+=dn+"\n",pe+=v,pe+=e,Z(pe+="ET"),d[de]=!0,p};var Ut=f.__private__.clip=f.clip=function(e){return Z("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return Ut("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Z("n"),this};var jt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return jt(e)&&(u=e),this};var Qt=f.__private__.getStyle=f.getStyle=function(e){var t=u;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Ht=f.close=function(){return Z("h"),this};f.stroke=function(){return Z("S"),this},f.fill=function(e){return Vt("f",e),this},f.fillEvenOdd=function(e){return Vt("f*",e),this},f.fillStroke=function(e){return Vt("B",e),this},f.fillStrokeEvenOdd=function(e){return Vt("B*",e),this};var Vt=function(e,t){"object"===LQ()(t)?Kt(t,e):Z(e)},zt=function(e){null===e||b===m.ADVANCED&&void 0===e||(e=Qt(e),Z(e))};function qt(e,t,n,r,i){var o=new tV(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return Pe(a,o),o}var Kt=function(e,t){var n=we[e.key],r=ye[n];if(r instanceof eV)Z("q"),Z(Gt(t)),r.gState&&f.setGState(r.gState),Z(e.matrix.toString()+" cm"),Z("/"+n+" sh"),Z("Q");else if(r instanceof tV){var i=new Oe(1,0,0,-1,0,En());e.matrix&&(i=i.multiply(e.matrix||Re),n=qt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),Z("q"),Z("/Pattern cs"),Z("/"+n+" scn"),r.gState&&f.setGState(r.gState),Z(t),Z("Q")}},Gt=function(e){switch(e){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Wt=f.moveTo=function(e,t){return Z(k(I(e))+" "+k(D(t))+" m"),this},Yt=f.lineTo=function(e,t){return Z(k(I(e))+" "+k(D(t))+" l"),this},Jt=f.curveTo=function(e,t,n,r,i,o){return Z([k(I(e)),k(D(t)),k(I(n)),k(D(r)),k(I(i)),k(D(o)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!jt(i))throw new Error("Invalid arguments passed to jsPDF.line");return b===m.COMPAT?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,i,o){var a,s,c,u,l,h,d,f;if("number"==typeof e&&(f=n,n=t,t=e,e=f),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!jt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Wt(t,n),a=r[0],s=r[1],u=e.length,h=t,d=n,c=0;c<u;c++)2===(l=e[c]).length?Yt(h=l[0]*a+h,d=l[1]*s+d):Jt(l[0]*a+h,l[1]*s+d,l[2]*a+h,l[3]*s+d,h=l[4]*a+h,d=l[5]*s+d);return o&&Ht(),zt(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Wt(r[0],r[1]);break;case"l":Yt(r[0],r[1]);break;case"c":Jt.apply(this,r);break;case"h":Ht()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!jt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return b===m.COMPAT&&(r=-r),Z([k(I(e)),k(D(t)),k(I(n)),k(I(r)),"re"].join(" ")),zt(i),this},f.__private__.triangle=f.triangle=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!jt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!jt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],e+i,t,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!jt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Wt(e+n,t),Jt(e+n,t-a,e+o,t-r,e,t-r),Jt(e-o,t-r,e-n,t-a,e-n,t),Jt(e-n,t+a,e-o,t+r,e,t+r),Jt(e+o,t+r,e+n,t+a,e+n,t),zt(i),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!jt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=_(t,n)),de=Ct(e,t,{disableWarning:!1}),this};var Xt=f.__private__.getFont=f.getFont=function(){return ve[Ct.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=_(n,r)),At.call(this,e,t,n,i=i||"Identity-H")};var Zt,$t=e.lineWidth||.200025,en=f.__private__.getLineWidth=f.getLineWidth=function(){return $t},tn=f.__private__.setLineWidth=f.setLineWidth=function(e){return $t=e,Z(k(I(e))+" w"),this};f.__private__.setLineDash=nV.API.setLineDash=nV.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return k(I(e))})).join(" "),t=k(I(t)),Z("["+e+"] "+t+" d"),this};var nn=f.__private__.getLineHeight=f.getLineHeight=function(){return ne*Zt};f.__private__.getLineHeight=f.getLineHeight=function(){return ne*Zt};var rn=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Zt=e),this},on=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Zt};rn(e.lineHeight);var an=f.__private__.getHorizontalCoordinate=function(e){return I(e)},sn=f.__private__.getVerticalCoordinate=function(e){return b===m.ADVANCED?e:xe[U].mediaBox.topRightY-xe[U].mediaBox.bottomLeftY-I(e)},cn=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return k(an(e))},un=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return k(sn(e))},ln=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return He(ln)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return ln=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Z(ln),this};var hn=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return He(hn)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return hn=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Z(hn),this};var dn=e.textColor||"0 g",fn=f.__private__.getTextColor=f.getTextColor=function(){return He(dn)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return dn=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var An=e.charSpace,pn=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(An||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return An=e,this};var gn=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gn=t,Z(t+" J"),this};var vn=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vn=t,Z(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(k(I(e))+" M"),this},f.GState=ZH,f.setGState=function(e){(e="string"==typeof e?_e[ke[e]]:mn(null,e)).equals(Ce)||(Z("/"+e.id+" gs"),Ce=e)};var mn=function(e,t){if(!e||!ke[e]){var n=!1;for(var r in _e)if(_e.hasOwnProperty(r)&&_e[r].equals(t)){n=!0;break}if(n)t=_e[r];else{var i="GS"+(Object.keys(_e).length+1).toString(10);_e[i]=t,t.id=i}return e&&(ke[e]=t.id),Ee.publish("addGState",t),t}};f.addGState=function(e,t){return mn(e,t),this},f.saveGraphicsState=function(){return Z("q"),be.push({key:de,size:ne,color:dn}),this},f.restoreGraphicsState=function(){Z("Q");var e=be.pop();return de=e.key,ne=e.size,dn=e.color,Ce=null,this},f.setCurrentTransformationMatrix=function(e){return Z(e.toString()+" cm"),this},f.comment=function(e){return Z("#"+e),this};var bn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},yn=function(e,t,n,r){bn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},wn=function(){this.page=Se,this.currentPage=U,this.pages=G.slice(0),this.pagesContext=xe.slice(0),this.x=Ae,this.y=pe,this.matrix=ge,this.width=Sn(U),this.height=En(U),this.outputDestination=Y,this.id="",this.objectNumber=-1};wn.prototype.restore=function(){Se=this.page,xe=this.pagesContext,G=this.pages,Ae=this.x,pe=this.y,ge=this.matrix,xn(U=this.currentPage,this.width),In(U,this.height),Y=this.outputDestination};var _n=function(e,t,n,r,i){Te.push(new wn),Se=U=0,G=[],Ae=e,pe=t,ge=i,bt([n,r])},kn=function(e){if(De[e])Te.pop().restore();else{var t=new wn,n="Xo"+(Object.keys(Be).length+1).toString(10);t.id=n,De[e]=n,Be[n]=t,Ee.publish("addFormObject",t),Te.pop().restore()}};for(var Cn in f.beginFormObject=function(e,t,n,r,i){return _n(e,t,n,r,i),this},f.endFormObject=function(e){return kn(e),this},f.doFormObject=function(e,t){var n=Be[De[e]];return Z("q"),Z(t.toString()+" cm"),Z("/"+n.id+" Do"),Z("Q"),this},f.getFormObject=function(e){var t=Be[De[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(TH(Tt(Dt()),e),"function"==typeof TH.unload&&kH.setTimeout&&setTimeout(TH.unload,911),this):new Promise((function(t,n){try{var r=TH(Tt(Dt()),e);"function"==typeof TH.unload&&kH.setTimeout&&setTimeout(TH.unload,911),t(r)}catch(e){n(e.message)}}))},nV.API)nV.API.hasOwnProperty(Cn)&&("events"===Cn&&nV.API.events.length?function(e,t){var n,r;for(r=t.length-1;-1!==r;r--)e.subscribe.apply(e,[t[r][0]].concat("function"==typeof(n=t[r][1])?[n]:n))}(Ee,nV.API.events):f[Cn]=nV.API[Cn]);var Sn=f.getPageWidth=function(e){return(xe[e=e||U].mediaBox.topRightX-xe[e].mediaBox.bottomLeftX)/fe},xn=f.setPageWidth=function(e,t){xe[e].mediaBox.topRightX=t*fe+xe[e].mediaBox.bottomLeftX},En=f.getPageHeight=function(e){return(xe[e=e||U].mediaBox.topRightY-xe[e].mediaBox.bottomLeftY)/fe},In=f.setPageHeight=function(e,t){xe[e].mediaBox.topRightY=t*fe+xe[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:mt,getStyle:Qt,getFont:Xt,getFontSize:ie,getCharSpace:pn,getTextColor:fn,getLineHeight:nn,getLineHeightFactor:on,getLineWidth:en,write:$,getHorizontalCoordinate:an,getVerticalCoordinate:sn,getCoordinateString:cn,getVerticalCoordinateString:un,collections:{},newObject:Ne,newAdditionalObject:Ue,newObjectDeferred:Me,newObjectDeferredBegin:Le,getFilters:ze,putStream:qe,events:Ee,scaleFactor:fe,pageSize:{getWidth:function(){return Sn(U)},setWidth:function(e){xn(U,e)},getHeight:function(){return En(U)},setHeight:function(e){In(U,e)}},encryptionOptions:l,encryption:Rt,getEncryptor:Pt,output:Ot,getNumberOfPages:kt,pages:G,out:Z,f2:x,f3:E,getPageInfo:Nt,getPageInfoByObjId:Mt,getCurrentPageInfo:Lt,getPDFVersion:p,Point:bn,Rectangle:yn,Matrix:Oe,hasHotfix:Ft},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Sn(U)},set:function(e){xn(U,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return En(U)},set:function(e){In(U,e)},enumerable:!0,configurable:!0}),pt.call(f,te),de="F1",yt(i,n),Ee.publish("initialized"),f}YH.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},YH.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},YH.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},YH.prototype.processOwnerPassword=function(e,t){return GH(zH(t).substr(0,5),e)},YH.prototype.encryptor=function(e,t){var n=zH(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return GH(n,e)}},ZH.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||LQ()(e)!==LQ()(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},nV.API={events:[]},nV.version="2.5.1";var rV=nV.API,iV=1,oV=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},aV=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sV=function(e){return e.toFixed(2)},cV=function(e){return e.toFixed(5)};rV.__acroform__={};var uV=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},lV=function(e){return e*iV},hV=function(e){var t=new EV,n=QV.internal.getHeight(e)||0,r=QV.internal.getWidth(e)||0;return t.BBox=[0,0,Number(sV(r)),Number(sV(n))],t},dV=rV.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},fV=rV.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},AV=rV.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},pV=rV.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AV(e,t-1)},gV=rV.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dV(e,t-1)},vV=rV.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fV(e,t-1)},mV=rV.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],s=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(o+s)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(o)||0,[Number(sV(c.lowerLeft_X)),Number(sV(c.lowerLeft_Y)),Number(sV(c.upperRight_X)),Number(sV(c.upperRight_Y))]},bV=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=yV(e,e._V||e.DV),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+sV(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=hV(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},yV=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=i.map(e.multiline?function(e){return e.split("\n")}:function(e){return[e]});var o=n,a=QV.internal.getHeight(e)||0;a=a<0?-a:a;var s=QV.internal.getWidth(e)||0;s=s<0?-s:s;var c=function(t,n,r){return t+1<i.length&&wV(n+" "+i[t+1][0],e,r).width<=s-4};o++;e:for(;o>0;){t="",o--;var u,l,h=wV("3",e,o).height,d=e.multiline?a-o:(a-h)/2,f=d+=2,A=0,p=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+wV(t,e,o=12).width+", FieldWidth:"+s+"\n";break}for(var v="",m=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var y=!1;if(1!==i[b].length&&g!==i[b].length-1){if((h+2)*(m+2)+2>a)continue e;v+=i[b][g],y=!0,p=b,b--}else{v=" "==(v+=i[b][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var w=parseInt(b),_=c(w,v,o),k=b>=i.length-1;if(_&&!k){v+=" ",g=0;continue}if(_||k){if(k)p=w;else if(e.multiline&&(h+2)*(m+2)+2>a)continue e}else{if(!e.multiline)continue e;if((h+2)*(m+2)+2>a)continue e;p=w}}for(var C="",S=A;S<=p;S++){var x=i[S];if(e.multiline){if(S===p){C+=x[g]+" ",g=(g+1)%x.length;continue}if(S===A){C+=x[x.length-1]+" ";continue}}C+=x[0]+" "}switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,l=wV(C,e,o).width,e.textAlign){case"right":u=s-l-2;break;case"center":u=(s-l)/2;break;case"left":default:u=2}t+=sV(u)+" "+sV(f)+" Td\n",t+="("+oV(C)+") Tj\n",t+=-sV(u)+" 0 Td\n",f=-(o+2),l=0,A=y?p:p+1,m++,v=""}break}return r.text=t,r.fontSize=o,r},wV=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},_V={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kV=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},CV=rV.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(0!==o&&(i+=" "),LQ()(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+oV(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},SV=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+oV(r(e))+")"},xV=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xV.prototype.toString=function(){return this.objId+" 0 R"},xV.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},xV.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:CV(i,this.objId,this.scope)}):i instanceof xV?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var EV=function(){xV.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};uV(EV,xV);var IV=function(){xV.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+oV(t(e))+")"}},set:function(t){e=t}})};uV(IV,xV);var BV=function e(){xV.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(t,3))},set:function(e){this.F=!0===Boolean(e)?gV(t,3):vV(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof MV)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+oV(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/iV:u},set:function(e){u=e}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof MV||this instanceof UV))return SV(h,this.objId,this.scope)},set:function(e){e=e.toString(),h=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof RV==0?SV(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof RV==0?"("===e.substr(0,1)?aV(e.substr(1,e.length-2)):aV(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof RV==1?aV(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof RV==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof RV==0?SV(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof RV==0?"("===e.substr(0,1)?aV(e.substr(1,e.length-2)):aV(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof RV==1?aV(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof RV==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(e){A=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,1))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,1):vV(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,2))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,2):vV(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,3))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,3):vV(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};uV(BV,xV);var DV=function(){BV.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CV(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,18):vV(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?gV(this.Ff,19):vV(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=gV(this.Ff,20),t.sort()):this.Ff=vV(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,22):vV(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,23):vV(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,27):vV(this.Ff,27)}}),this.hasAppearanceStream=!1};uV(DV,BV);var TV=function(){DV.call(this),this.fontName="helvetica",this.combo=!1};uV(TV,DV);var OV=function(){TV.call(this),this.combo=!0};uV(OV,TV);var FV=function(){OV.call(this),this.edit=!0};uV(FV,OV);var RV=function(){BV.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,15):vV(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,16):vV(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,17):vV(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,26):vV(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+oV(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===LQ()(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};uV(RV,BV);var PV=function(){RV.call(this),this.pushButton=!0};uV(PV,RV);var NV=function(){RV.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};uV(NV,RV);var MV=function(){var e,t;BV.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+oV(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===LQ()(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=QV.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};uV(MV,BV),NV.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e&&"getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},NV.prototype.createOption=function(e){var t=new MV;return t.Parent=this,t.optionName=e,this.Kids.push(t),HV.call(this.scope,t),t};var LV=function(){RV.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=QV.CheckBox.createAppearanceStream()};uV(LV,RV);var UV=function(){BV.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,13))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,13):vV(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,21))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,21):vV(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,23):vV(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,24))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,24):vV(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,25))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,25):vV(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,26):vV(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};uV(UV,BV);var jV=function(){UV.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(pV(this.Ff,14))},set:function(e){this.Ff=!0===Boolean(e)?gV(this.Ff,14):vV(this.Ff,14)}}),this.password=!0};uV(jV,UV);var QV={CheckBox:{createAppearanceStream:function(){return{N:{On:QV.CheckBox.YesNormal},D:{On:QV.CheckBox.YesPushDown,Off:QV.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=hV(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=yV(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+sV(QV.internal.getWidth(e))+" "+sV(QV.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+sV(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=hV(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=QV.internal.getHeight(e),a=QV.internal.getWidth(e),s=yV(e,e.caption);return i.push("1 g"),i.push("0 0 "+sV(a)+" "+sV(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+sV(a-1)+" "+sV(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+sV(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=hV(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sV(QV.internal.getWidth(e))+" "+sV(QV.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:QV.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=QV.RadioButton.Circle.YesNormal,t.D[e]=QV.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=hV(e);t.scope=e.scope;var n=[],r=QV.internal.getWidth(e)<=QV.internal.getHeight(e)?QV.internal.getWidth(e)/4:QV.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((r*QV.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+cV(QV.internal.getWidth(e)/2)+" "+cV(QV.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=hV(e);t.scope=e.scope;var n=[],r=QV.internal.getWidth(e)<=QV.internal.getHeight(e)?QV.internal.getWidth(e)/4:QV.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*QV.internal.Bezier_C).toFixed(5)),a=Number((r*QV.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cV(QV.internal.getWidth(e)/2)+" "+cV(QV.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+cV(QV.internal.getWidth(e)/2)+" "+cV(QV.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=hV(e);t.scope=e.scope;var n=[],r=QV.internal.getWidth(e)<=QV.internal.getHeight(e)?QV.internal.getWidth(e)/4:QV.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*QV.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cV(QV.internal.getWidth(e)/2)+" "+cV(QV.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:QV.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=QV.RadioButton.Cross.YesNormal,t.D[e]=QV.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=hV(e);t.scope=e.scope;var n=[],r=QV.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+sV(QV.internal.getWidth(e)-2)+" "+sV(QV.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(sV(r.x1.x)+" "+sV(r.x1.y)+" m"),n.push(sV(r.x2.x)+" "+sV(r.x2.y)+" l"),n.push(sV(r.x4.x)+" "+sV(r.x4.y)+" m"),n.push(sV(r.x3.x)+" "+sV(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=hV(e);t.scope=e.scope;var n=QV.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+sV(QV.internal.getWidth(e))+" "+sV(QV.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+sV(QV.internal.getWidth(e)-2)+" "+sV(QV.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(sV(n.x1.x)+" "+sV(n.x1.y)+" m"),r.push(sV(n.x2.x)+" "+sV(n.x2.y)+" l"),r.push(sV(n.x4.x)+" "+sV(n.x4.y)+" m"),r.push(sV(n.x3.x)+" "+sV(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=hV(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sV(QV.internal.getWidth(e))+" "+sV(QV.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};QV.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=QV.internal.getWidth(e),n=QV.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},QV.internal.getWidth=function(e){var t=0;return"object"===LQ()(e)&&(t=lV(e.Rect[2])),t},QV.internal.getHeight=function(e){var t=0;return"object"===LQ()(e)&&(t=lV(e.Rect[3])),t};var HV=rV.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(BV.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(_V)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iV=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new IV,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&kV(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],o=[],a=i.Rect;if(i.Rect&&(i.Rect=mV(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=QV.createDefaultAppearanceStream(i),"object"===LQ()(i)&&"function"==typeof i.getKeyValueListForStream&&(o=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=bV(i);o.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var c="";for(var u in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(u)){var l=i.appearanceStreamContent[u];if(c+="/"+u+" ",c+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var r in l)if(l.hasOwnProperty(r)){var h=l[r];"function"==typeof h&&(h=h.call(t,i)),c+="/"+r+" "+h+" ",t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=l)&&(h=h.call(t,i)),c+="/"+r+" "+h,t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h);c+=">>"}o.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:o,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===LQ()(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof BV))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function VV(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}rV.AcroFormChoiceField=DV,rV.AcroFormListBox=TV,rV.AcroFormComboBox=OV,rV.AcroFormEditBox=FV,rV.AcroFormButton=RV,rV.AcroFormPushButton=PV,rV.AcroFormRadioButton=NV,rV.AcroFormCheckBox=LV,rV.AcroFormTextField=UV,rV.AcroFormPasswordField=jV,rV.AcroFormAppearance=QV,rV.AcroForm={ChoiceField:DV,ListBox:TV,ComboBox:OV,EditBox:FV,Button:RV,PushButton:PV,RadioButton:NV,CheckBox:LV,TextField:UV,PasswordField:jV,Appearance:QV},nV.AcroForm={ChoiceField:DV,ListBox:TV,ComboBox:OV,EditBox:FV,Button:RV,PushButton:PV,RadioButton:NV,CheckBox:LV,TextField:UV,PasswordField:jV,Appearance:QV},function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,a,s,c,u=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(_(e))for(c in n)for(a=n[c],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e[o]){s=!1;break}if(!0===s){u=c;break}}else for(c in n)for(a=n[c],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){u=c;break}}return u===t&&r!==t&&(u=r),u},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,c=t.transparency.length;s<c;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";o.push({key:"Mask",value:"["+a+"]"})}if(void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"}),r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:void 0!==t.filter?["/"+t.filter]:void 0,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:"/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var l=this.internal.newObject();r({data:C(new Uint8Array(t.palette)),objectId:l}),n("endobj")}},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var e=this.internal.collections.addImage_images;return s.call(this),e},u=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===LQ()(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return BH(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;case"JPEG":case"JPG":default:o="image/jpeg"}return BH(t.toDataURL(o,1).split("base64,").pop())}},f=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},A=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,i,o){var a=A.call(this,n,r,i),s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,l=c.call(this);if(n=a[0],r=a[1],l[i.index]=i,o){o*=Math.PI/180;var h=Math.cos(o),d=Math.sin(o),f=function(e){return e.toFixed(4)},p=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,s(e),u(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),u(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},m=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(_(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},b=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},y=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},C=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=_(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,i,o,a,c,u,l;if("number"==typeof arguments[1]?(n=t,r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],c=arguments[5],u=arguments[6],l=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],c=arguments[6],u=arguments[7],l=arguments[8]),"object"===LQ()(e=arguments[0])&&!h(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,r=d.x||r||0,i=d.y||i||0,o=d.w||d.width||o,a=d.h||d.height||a,c=d.alias||c,u=d.compression||u,l=d.rotation||d.angle||l}var f=this.internal.getFilters();if(void 0===u&&-1!==f.indexOf("FlateEncode")&&(u="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var A=S.call(this,e,n,c,u);return p.call(this,r,i,o,a,A,l),this};var S=function(n,i,o,a){var s,c,A;if("string"==typeof n&&r(n)===t){n=unescape(n);var p=x(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(h(n)&&(n=d(n,i)),i=r(n,i),!l(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(A=o)||0===A.length)&&(o=function(e){return"string"==typeof e||_(e)?m(e):_(e.data)?m(e.data):null}(n)),(s=f.call(this,o))||(w()&&(n instanceof Uint8Array||"RGBA"===i||(c=n,n=k(n))),s=this["process"+i.toUpperCase()](n,u.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:v.NONE}(a),c)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},x=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,i="";if("string"==typeof e){r=null!==(n=y(e))?n.data:e;try{i=BH(r)}catch(e){if(t)throw b(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(n){var i,o,a="";if(h(n)&&(n=d(n)),"string"==typeof n&&r(n)===t&&(""===(a=x(n,!1))&&(a=e.loadFile(n)||""),n=a),o=r(n),!l(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!w()||n instanceof Uint8Array||(n=k(n)),!(i=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=o,i}}(nV.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};nV.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,l=0;l<c.length&&!u;l++)switch((n=c[l]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(A.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+d(g(v))+") >>",A.content=i;var m=A.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+m,n.open&&(i+=" /Open true"),p.content=i+=" >>",this.internal.write(A.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(f(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",i+=" /Border [0 0 0]",this.internal.write(i+=" >>");break;case"link":if(n.options.name){var y=this.annotations._nameMap[n.options.name];n.options.pageNumber=y.page,n.options.top=y.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var w=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&this.internal.write(i+=" >>")}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,o,a=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){var c=this.splitTextToSize(e,o=r.maxWidth).length;i=Math.ceil(s*c)}else o=a,i=s;return this.text(e,t,n,r),"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,(n+=.2*s)-s,o,i,r),a},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(nV.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var l=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&o(e)&&4==t[e.charCodeAt(0)].length},h=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===o(e)?-1:!u(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&c(t)||s(e)&&s(t)?0:l(e)&&a(t)&&!s(t)&&a(n)&&u(n)?3:s(e)||!a(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,o="",s="",c="",u=(e=e||"").split("\\s+"),l=[];for(n=0;n<u.length;n+=1){for(l.push(""),r=0;r<u[n].length;r+=1)s=u[n][r-1],c=u[n][r+1],a(o=u[n][r])?(i=d(o,s,c),l[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):l[n]+=o;l[n]=h(l[n])}return l.join(" ")},A=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",A])}(nV.API),nV.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(nV.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,c=0,u=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var l=t.maxWidth;l>0?"string"==typeof e?e=this.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(u.splitTextToSize(t,l))}),[])):e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)a<(c=this.getStringUnitWidth(e[h],{font:i})*n)&&(a=c);return 0!==a&&(s=e.length),{w:a/=o,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,c=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,u&&c&&(this.printHeaderRow(e.lineNumber,!0),e.y+=c[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,c,u,l){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,d,f,A,p=[],g=[],v=[],m={},b={},y=[],w=[],_=(l=l||{}).autoSize||!1,k=!1!==l.printHeaders,C=l.css&&void 0!==l.css["font-size"]?16*l.css["font-size"]:l.fontSize||12,S=l.margins||Object.assign({width:this.getPageWidth()},t),x="number"==typeof l.padding?l.padding:3,E=l.headerBackgroundColor||"#c8c8c8",I=l.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=I,this.setFontSize(C),null==u)g=p=Object.keys(c[0]),v=p.map((function(){return"left"}));else if(Array.isArray(u)&&"object"===LQ()(u[0]))for(p=u.map((function(e){return e.name})),g=u.map((function(e){return e.prompt||e.name||""})),v=u.map((function(e){return e.align||"left"})),h=0;h<u.length;h+=1)b[u[h].name]=u[h].width*(19.049976/25.4);else Array.isArray(u)&&"string"==typeof u[0]&&(g=p=u,v=p.map((function(){return"left"})));if(_||Array.isArray(u)&&"string"==typeof u[0])for(h=0;h<p.length;h+=1){for(m[A=p[h]]=c.map((function(e){return e[A]})),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(g[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=m[A],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)y.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[A]=Math.max.apply(null,y)+x+x,y=[]}if(k){var B={};for(h=0;h<p.length;h+=1)B[p[h]]={},B[p[h]].text=g[h],B[p[h]].align=v[h];var D=s.call(this,B,b);w=p.map((function(t){return new o(e,n,b[t],D,B[t].text,void 0,B[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var T=u.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(h=0;h<c.length;h+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:h,data:c[h]},this);var O=s.call(this,c[h],b);for(f=0;f<p.length;f+=1){var F=c[h][p[f]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:h,col:f,data:F},this),a.call(this,new o(e,n,b[p[f]],O,F,h+2,T[p[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var c=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){i=this.internal.__cell__.tableHeaderRow[u].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,c.push(i)),i.lineNumber=e;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(l)}c.length>0&&this.setTableHeaderRow(c),this.setFont(void 0,"normal"),n=!1}}(nV.API);var zV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KV=VV(qV),GV=[100,200,300,400,500,600,700,800,900],WV=VV(GV);function YV(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return zV[e=e||"normal"]?e:"normal"}(e.style),r=function(e){if(!e)return 400;if("number"==typeof e)return e>=100&&e<=900&&e%100==0?e:400;if(/^\d00$/.test(e))return parseInt(e);switch(e){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(e){return"number"==typeof KV[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function JV(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var XV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $V(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ez(e){return e.trimLeft()}function tz(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function nz(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var rz,iz,oz,az,sz=["times"];!function(e){var t,n,r,i,o,a,s,c,u,l=function(e){return this.isStrokeTransparent=(e=e||{}).isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,c=this.internal.Matrix,u=new l}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),u.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var c=[];Object.defineProperty(this,"pageBreaks",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(e){e instanceof l&&(u=e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(e){u.path=e}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(e){h=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(t.r,t.g,t.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null;function A(e,t){if(null===f){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());f=function(e){for(var t={},n=0;n<e.length;++n){var r=YV(e[n]),i=r.family,o=r.stretch,a=r.style,s=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][a]=t[i][o][a]||{},t[i][o][a][s]=r}return t}(n.concat(t))}return f}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){f=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=t[3],i=t[4],o=t[6],a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return sz;if(i in ZV)return[ZV[i]];for(;""!==i;){switch(n=null,t=(i=ez(i)).charAt(0)){case'"':case"'":n=tz(i.substring(1),t);break;default:n=nz(i)}if(null===n)return sz;if(r.push(n[0]),""!==(i=ez(n[1]))&&","!==i.charAt(0))return sz;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var c=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},XV,n.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(i[(o=YV(t[s])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){a=e[o.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+$V(o)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=KV[e],r=JV(t,qV,n,n<=KV.normal?-1:1);if(!r)throw new Error("Could not find a matching font-stretch value for "+e);return r}(o.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=zV[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=JV(t,GV,WV[e],e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+$V(o)+"'.");return a}(A(this.pdf,this.fontFaces),s.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(c.ref.name,c.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var l="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<s.length;d++){if(void 0!==this.pdf.internal.getFont(s[d],u,{noFallback:!0,disableWarning:!0})){l=s[d];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(s[d],"bold",{noFallback:!0,disableWarning:!0}))l=s[d],u="bold";else if(void 0!==this.pdf.internal.getFont(s[d],"normal",{noFallback:!0,disableWarning:!0})){l=s[d],u="normal";break}}if(""===l)for(var f=0;f<s.length;f++)if(h[s[f]]){l=h[s[f]];break}this.pdf.setFont(l=""===l?"Times":l,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){y.call(this,"fill",!1)},h.prototype.stroke=function(){y.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw SH.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},h.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===LQ()(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw SH.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw SH.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),o=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},h.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw SH.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(i,o)),c=this.ctx.transform.applyToPoint(new a(e,t)),u=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:c.x,y1:c.y,x2:u.x,y2:u.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},h.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw SH.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(e,t));e=s.x,t=s.y;var c=this.ctx.transform.applyToPoint(new a(0,n)),u=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},h.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw SH.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw SH.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw SH.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},h.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw SH.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new OH(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},A=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw SH.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=R(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw SH.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){r=isNaN(r)?void 0:r;var i=R(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw SH.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor,o=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new o({width:i*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw SH.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw SH.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw SH.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw SH.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new c(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new c(e,t,n,r,i,o)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,n,r,i,o,a,u,l){var h=this.pdf.getImageProperties(e),d=1,f=1,A=1,v=1;void 0!==r&&void 0!==u&&(A=u/r,v=l/i,d=h.width/r*u/r,f=h.height/i*l/i),void 0===o&&(o=t,a=n,t=0,n=0),void 0!==r&&void 0===u&&(u=r,l=i),void 0===r&&void 0===u&&(u=h.width,l=h.height);for(var y,_=this.ctx.transform.decompose(),k=R(_.rotate.shx),C=new c,S=(C=(C=(C=C.multiply(_.translate)).multiply(_.skew)).multiply(_.scale)).applyToRectangle(new s(o-t*A,a-n*v,r*d,i*f)),x=g.call(this,S),E=[],I=0;I<x.length;I+=1)-1===E.indexOf(x[I])&&E.push(x[I]);if(b(E),this.autoPaging)for(var B=E[0],D=E[E.length-1],T=B;T<D+1;T++){this.pdf.setPage(T);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],F=1===T?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===T?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(T-2)*P;if(0!==this.ctx.clip_path.length){var M=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(y,this.posX+this.margin[3],-N+F+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=M}var L=JSON.parse(JSON.stringify(S));L=m([L],this.posX+this.margin[3],-N+F+this.ctx.prevPageLastElemOffset)[0];var U=(T>B||T<D)&&p.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,P,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",L.x,L.y,L.w,L.h,null,null,k),U&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,k)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var a=N(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)v.call(this);return r},v=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},m=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;case"mt":case"lt":case"arc":default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort((function(e,t){return e-t}))},y=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=this.lineCap,s=this.lineWidth,c=Math.abs(s*this.ctx.transform.scaleX),u=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var A=g.call(this,h[f]),y=0;y<A.length;y+=1)-1===d.indexOf(A[y])&&d.push(A[y]);for(var _=0;_<d.length;_++)for(;this.pdf.internal.getNumberOfPages()<d[_];)v.call(this);if(b(d),this.autoPaging)for(var k=d[0],C=d[d.length-1],S=k;S<C+1;S++){this.pdf.setPage(S),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=c,this.lineJoin=u;var x=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===S?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],B=1===S?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(S-2)*I;if(0!==this.ctx.clip_path.length){var D=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(n,this.posX+this.margin[3],-B+E+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=D}if(r=JSON.parse(JSON.stringify(l)),this.path=m(r,this.posX+this.margin[3],-B+E+this.ctx.prevPageLastElemOffset),!1===t||0===S){var T=(S>k||S<C)&&p.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],x,I,null).clip().discardPath()),w.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=c,w.call(this,e,t),this.lineWidth=s;this.path=l},w=function(e,t){if(("stroke"!==e||t||!A.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,i=[],o=this.path,a=0;a<o.length;a++){var s=o[a];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var c=i.length;if(o[a-1]&&!isNaN(o[a-1].x)&&(n=[s.x-o[a-1].x,s.y-o[a-1].y],c>0))for(;c>=0;c--)if(!0!==i[c-1].close&&!0!==i[c-1].begin){i[c-1].deltas.push(n),i[c-1].abs.push(s);break}break;case"bct":i[i.length-1].deltas.push(n=[s.x1-o[a-1].x,s.y1-o[a-1].y,s.x2-o[a-1].x,s.y2-o[a-1].y,s.x-o[a-1].x,s.y-o[a-1].y]);break;case"qct":i[i.length-1].deltas.push(n=[o[a-1].x+2/3*(s.x1-o[a-1].x)-o[a-1].x,o[a-1].y+2/3*(s.y1-o[a-1].y)-o[a-1].y,s.x+2/3*(s.x1-s.x)-o[a-1].x,s.y+2/3*(s.y1-s.y)-o[a-1].y,s.x-o[a-1].x,s.y-o[a-1].y]);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var u=!1,l=0;l<i.length;l++)if(i[l].arc)for(var h=i[l].abs,d=0;d<h.length;d++){var p=h[d];"arc"===p.type?C.call(this,p.x,p.y,p.radius,p.startAngle,p.endAngle,p.counterclockwise,void 0,t,!u):B.call(this,p.x,p.y),u=!0}else!0===i[l].close?(this.pdf.internal.out("h"),u=!1):!0!==i[l].begin&&(D.call(this,i[l].deltas,i[l].start.x,i[l].start.y),u=!0);r&&S.call(this,r),t&&x.call(this)}},_=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}},k=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(e,t,n,r,i,o,a,s,c){for(var u=O.call(this,n,r,i,o),l=0;l<u.length;l++){var h=u[l];0===l&&(c?E.call(this,h.x1+e,h.y1+t):B.call(this,h.x1+e,h.y1+t)),T.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}s?x.call(this):S.call(this,a)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},x=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},I=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=_.call(this,e.y),i=k.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new a(e.x,r)),u=this.ctx.transform.decompose(),l=new c;l=(l=(l=l.multiply(u.translate)).multiply(u.skew)).multiply(u.scale);for(var h,d,f,A=this.ctx.transform.applyToRectangle(new s(e.x,r,n.w,n.h)),v=l.applyToRectangle(new s(e.x,i,n.w,n.h)),y=g.call(this,v),C=[],S=0;S<y.length;S+=1)-1===C.indexOf(y[S])&&C.push(y[S]);if(b(C),this.autoPaging)for(var x=C[0],E=C[C.length-1],I=x;I<E+1;I++){this.pdf.setPage(I);var B=1===I?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.margin[2],T=D-this.margin[0],O=this.pdf.internal.pageSize.width-this.margin[1],F=O-this.margin[3],R=1===I?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(I-2)*T;if(0!==this.ctx.clip_path.length){var P=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(h,this.posX+this.margin[3],-1*R+B),w.call(this,"fill",!0),this.path=P}var N=m([JSON.parse(JSON.stringify(v))],this.posX+this.margin[3],-R+B+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),this.lineWidth=(f=this.lineWidth)*e.scale);var M="text"!==this.autoPaging;if(M||N.y+N.h<=D){if(M||N.y>=B&&N.x<=O){var L=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||O-N.x)[0],U=m([JSON.parse(JSON.stringify(A))],this.posX+this.margin[3],-R+B+this.ctx.prevPageLastElemOffset)[0],j=M&&(I>x||I<E)&&p.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,T,null).clip().discardPath()),this.pdf.text(L,U.x,U.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),j&&this.pdf.restoreGraphicsState()}}else N.y<D&&(this.ctx.prevPageLastElemOffset+=D-N.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),this.lineWidth=(f=this.lineWidth)*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},B=function(e,t,i,o){o=o||0,this.pdf.internal.out(n(e+(i=i||0))+" "+r(t+o)+" l")},D=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},T=function(e,n,r,a,s,c,u,l){this.pdf.internal.out([t(i(r+e)),t(o(a+n)),t(i(s+e)),t(o(c+n)),t(i(u+e)),t(o(l+n)),"c"].join(" "))},O=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var s=[],c=r?-1:1,u=t;a>1e-5;){var l=u+c*Math.min(a,o);s.push(F.call(this,e,u,l)),a-=Math.abs(l-u),u=l}return s},F=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),a=i,s=-o,c=a*a+s*s,u=c+a*i+s*o,l=4/3*(Math.sqrt(2*c*u)-u)/(a*o-s*i),h=a-l*s,d=s+l*a,f=h,A=-d,p=r+t,g=Math.cos(p),v=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*g-d*v,y2:h*v+d*g,x3:f*g-A*v,y3:f*v+A*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},R=function(e){return 180*e/Math.PI},P=function(e,t,n,r,i,o){var a=e+.5*(n-e),c=t+.5*(r-t),u=i+.5*(n-i),l=o+.5*(r-o),h=Math.min(e,i,a,u),d=Math.max(e,i,a,u),f=Math.min(t,o,c,l),A=Math.max(t,o,c,l);return new s(h,f,d-h,A-f)},N=function(e,t,n,r,i,o,a,c){var u,l,h,d,f,A,p,g,v,m,b,y,w,_,k=n-e,C=r-t,S=i-n,x=o-r,E=a-i,I=c-o;for(l=0;l<41;l++)v=(p=(h=e+(u=l/40)*k)+u*((f=n+u*S)-h))+u*(f+u*(i+u*E-f)-p),m=(g=(d=t+u*C)+u*((A=r+u*x)-d))+u*(A+u*(o+u*I-A)-g),0==l?(b=v,y=m,w=v,_=m):(b=Math.min(b,v),y=Math.min(y,m),w=Math.max(w,v),_=Math.max(_,m));return new s(Math.round(b),Math.round(y),Math.round(w-b),Math.round(_-y))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=e)}}}(nV.API),function(e){var t=function(e){var t,n,r,i,o,a,s,c,u,l;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(l=o%85))/85)-(u=o%85))/85)-(c=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,c+33,u+33,l+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,a=String,s="length",c=255,u="charCodeAt",l="slice",h="replace";for(e[l](-2),e=e[l](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[l](e[s]%5||5))[s];o>i;i+=5)n=52200625*(e[u](i)-33)+614125*(e[u](i+1)-33)+7225*(e[u](i+2)-33)+85*(e[u](i+3)-33)+(e[u](i+4)-33),r.push(c&n>>24,c&n>>16,c&n>>8,c&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),a.fromCharCode.apply(a,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=_H(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var a=0,s=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=i(s),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:s,reverseChain:c.reverse().join(" ")}}}(nV.API),(az=nV.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){n(200===r.status?o(this.responseText):void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},az.loadImageFile=az.loadFile,function(e){function t(){return(kH.html2canvas?Promise.resolve(kH.html2canvas):Promise.resolve().then(n.t.bind(null,"wOnQ",7))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(kH.DOMPurify?Promise.resolve(kH.DOMPurify):n.e(6).then(n.t.bind(null,"wMS7",7))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var i=function(e){var t=LQ()(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},o=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then((function(t){return this.set({src:o("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var a=n[o],s=a.src.find((function(e){return"truetype"===e.format}));s&&t.addFont(s.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},a.prototype.get=function(e,t){return this.then((function(){var n=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},a.prototype.setMargin=function(e){return this.then((function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||nV.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},a.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},a.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,nV.getPageSize=function(e,t,n){if("object"===LQ()(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,o=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,c=0,u=0;if(a.hasOwnProperty(o))c=a[o][1]/i,u=a[o][0]/i;else try{c=n[1],u=n[0]}catch(az){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",u>c&&(s=u,u=c,c=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>u&&(s=u,u=c,c=s)}return{width:u,height:c,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(YV):null;var n=new a(t);return t.worker?n:n.from(e).doCallback()}}(nV.API),nV.API.addJS=function(e){return oz=e,this.internal.events.subscribe("postPutResources",(function(){rz=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rz+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iz=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oz+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==rz&&void 0!==iz&&this.internal.out("/Names <</JavaScript "+rz+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],a=n.exec(o);null!=a&&e.internal.newObjectDeferredBegin(a[1],!1),e.internal.write(o)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,c=[];for(i=0;i<s;i++){var u=e.internal.newObject();c.push(u);var l=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+l.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(nV.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,a){var s,c=this.decode.DCT_DECODE,u=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=o||e)?new Uint8Array(e):e,(s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(-1!==t.indexOf(e.charCodeAt((a+=r)+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),o={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:r}}return u}}(nV.API);var cz,uz,lz,hz,dz,fz=function(){var e,t,n;function r(e){var t,n,r,i,o,a,s,c,u,l,h,d,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),c=(function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),r=this.readUInt16()||100,o.delay=1e3*i/r,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((u=n-this.transparency.indexed.length)>0)for(d=0;0<=u?d<u:d>u;0<=u?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(l=this.read(t)).indexOf(0),s=String.fromCharCode.apply(String,l.slice(0,a)),this.text[s]=String.fromCharCode.apply(String,l.slice(a+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,a,s,c){var u,l,h,d,f,A,p,g,v,m,b,y,w,_,k,C,S,x,E,I,B=Math.ceil((i.width-o)/s),D=Math.ceil((i.height-a)/c),T=i.width==B&&i.height==D;for(w=t*B,b=T?n:new Uint8Array(w*D),A=e.length,y=0,l=0;y<D&&r<A;){switch(e[r++]){case 0:for(d=C=0;C<w;d=C+=1)b[l++]=e[r++];break;case 1:for(d=S=0;S<w;d=S+=1)u=e[r++],f=d<t?0:b[l-t],b[l++]=(u+f)%256;break;case 2:for(d=x=0;x<w;d=x+=1)u=e[r++],h=(d-d%t)/t,b[l++]=((_=y&&b[(y-1)*w+h*t+d%t])+u)%256;break;case 3:for(d=E=0;E<w;d=E+=1)u=e[r++],h=(d-d%t)/t,f=d<t?0:b[l-t],_=y&&b[(y-1)*w+h*t+d%t],b[l++]=(u+Math.floor((f+_)/2))%256;break;case 4:for(d=I=0;I<w;d=I+=1)u=e[r++],h=(d-d%t)/t,0===y?_=k=0:(_=b[(y-1)*w+h*t+d%t],k=h&&b[(y-1)*w+(h-1)*t+d%t]),p=(f=d<t?0:b[l-t])+_-k,g=Math.abs(p-f),v=Math.abs(p-_),m=Math.abs(p-k),b[l++]=(u+(g<=v&&g<=m?f:v<=m?_:k))%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!T){var O=((a+y*c)*i.width+o)*t,F=y*w;for(d=0;d<B;d+=1){for(var R=0;R<t;R+=1)n[O++]=b[F++];O+=(s-1)*t}}y++}}return e=function(e,t){return function(e,t,n){var r=e.length,i=!t||n,o=!n||n.i;n||(n={}),t||(t=new UQ(3*r));var a=function(e){var n=t.length;if(e>n){var r=new UQ(Math.max(2*n,e));r.set(t),t=r}},s=n.f||0,c=n.p||0,u=n.b||0,l=n.l,h=n.d,d=n.m,f=n.n,A=8*r;do{if(!l){n.f=s=uH(e,c,1);var p=uH(e,c+1,3);if(c+=3,!p){var g=e[(E=hH(c)+4)-4]|e[E-3]<<8,v=E+g;if(v>r){if(o)throw"unexpected EOF";break}i&&a(u+g),t.set(e.subarray(E,v),u),n.b=u+=g,n.p=c=8*v;continue}if(1==p)l=oH,h=sH,d=9,f=5;else{if(2!=p)throw"invalid block type";var m=uH(e,c,31)+257,b=uH(e,c+10,15)+4,y=m+uH(e,c+5,31)+1;c+=14;for(var w=new UQ(y),_=new UQ(19),k=0;k<b;++k)_[zQ[k]]=uH(e,c+3*k,7);c+=3*b;var C=cH(_),S=(1<<C)-1;if(!o&&c+y*(C+7)>A)break;var x=tH(_,C,1);for(k=0;k<y;){var E,I=x[uH(e,c,S)];if(c+=15&I,(E=I>>>4)<16)w[k++]=E;else{var B=0,D=0;for(16==E?(D=3+uH(e,c,3),c+=2,B=w[k-1]):17==E?(D=3+uH(e,c,7),c+=3):18==E&&(D=11+uH(e,c,127),c+=7);D--;)w[k++]=B}}var T=w.subarray(0,m),O=w.subarray(m);d=cH(T),f=cH(O),l=tH(T,d,1),h=tH(O,f,1)}if(c>A)throw"unexpected EOF"}i&&a(u+131072);for(var F=(1<<d)-1,R=(1<<f)-1,P=d+f+18;o||c+P<A;){var N=(B=l[lH(e,c)&F])>>>4;if((c+=15&B)>A)throw"unexpected EOF";if(!B)throw"invalid length/literal";if(N<256)t[u++]=N;else{if(256==N){l=null;break}var M=N-254;N>264&&(M=uH(e,c,(1<<(j=HQ[k=N-257]))-1)+GQ[k],c+=j);var L=h[lH(e,c)&R],U=L>>>4;if(!L)throw"invalid distance";if(c+=15&L,O=JQ[U],U>3){var j=VQ[U];O+=lH(e,c)&(1<<j)-1,c+=j}if(c>A)throw"unexpected EOF";i&&a(u+131072);for(var Q=u+M;u<Q;u+=4)t[u]=t[u-O],t[u+1]=t[u+1-O],t[u+2]=t[u+2-O],t[u+3]=t[u+3-O];u=Q}}n.l=l,n.p=c,n.b=u,l&&(s=1,n.m=d,n.d=h,n.n=f)}while(!s);return u==t.length?t:dH(t,0,u)}((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),void 0)}(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,o,a,s,c;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(c=o[e++])?c:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,a,s,c,u,l,h,d;if(r=this.colors,l=null,n=this.hasAlphaChannel,this.palette.length&&(l=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),u=(i=e.data||e).length,a=l||t,o=s=0,1===r)for(;o<u;)c=l?4*t[o/4]:s,h=a[c++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?a[c++]:255,s=c;else for(;o<u;)c=l?4*t[o/4]:s,i[o++]=a[c++],i[o++]=a[c++],i[o++]=a[c++],i[o++]=n?a[c++]:255,s=c},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(kH)){try{t=kH.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,a,s,c,u;if(this.animation){for(u=[],r=a=0,s=(c=this.animation.frames).length;a<s;r=++a)i=t.createImageData((n=c[r]).width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,u.push(n.image=e(i));return u}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,a,s=this;return n=0,i=(a=this.animation).numFrames,r=a.frames,o=a.numPlays,(t=function(){var a,c;if(a=n++%i,c=r[a],s.renderFrame(e,a),i>1&&n/i<o)return s.animation._timeout=setTimeout(t,c.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function Az(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=1<<1+(7&i);t++,t++;var a=null,s=null;i>>7&&(a=t,s=o,t+=3*o);var c=!0,u=[],l=0,h=null,d=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(0===x)break;t+=x}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var A=e[t++];l=e[t++]|e[t++]<<8,h=e[t++],0==(1&A)&&(h=null),d=A>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(0===x)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,b=e[t++],y=b>>6&1,w=1<<1+(7&b),_=a,k=s,C=!1;b>>7&&(C=!0,_=t,k=w,t+=3*w);var S=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(0===x)break;t+=x}u.push({x:p,y:g,width:v,height:m,has_local_palette:C,palette_offset:_,palette_size:k,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!y,delay:l,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);pz(e,i.data_offset,a,o);var s=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var u=i.width,l=n-u,h=u,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),A=d,p=4*l;!0===i.interlaced&&(p+=4*n*7);for(var g=8,v=0,m=a.length;v<m;++v){var b=a[v];if(0===h&&(h=u,(A+=p)>=f&&(p=4*l+4*n*(g-1),A=d+(u+l)*(g<<1),g>>=1)),b===c)A+=4;else{var y=e[s+3*b],w=e[s+3*b+1];r[A++]=e[s+3*b+2],r[A++]=w,r[A++]=y,r[A++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);pz(e,i.data_offset,a,o);var s=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var u=i.width,l=n-u,h=u,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),A=d,p=4*l;!0===i.interlaced&&(p+=4*n*7);for(var g=8,v=0,m=a.length;v<m;++v){var b=a[v];if(0===h&&(h=u,(A+=p)>=f&&(p=4*l+4*n*(g-1),A=d+(u+l)*(g<<1),g>>=1)),b===c)A+=4;else{var y=e[s+3*b+1],w=e[s+3*b+2];r[A++]=e[s+3*b],r[A++]=y,r[A++]=w,r[A++]=255}--h}}}function pz(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,c=i+1,u=(1<<c)-1,l=0,h=0,d=0,f=e[t++],A=new Int32Array(4096),p=null;;){for(;l<16&&0!==f;)h|=e[t++]<<l,l+=8,1===f?f=e[t++]:--f;if(l<c)break;var g=h&u;if(h>>=c,l-=c,g!==o){if(g===a)break;for(var v=g<s?g:p,m=0,b=v;b>o;)b=A[b]>>8,++m;var y=b;if(d+m+(v!==g?1:0)>r)return void SH.log("Warning, gif stream longer than expected.");n[d++]=y;var w=d+=m;for(v!==g&&(n[d++]=y),b=v;m--;)n[--w]=255&(b=A[b]),b>>=8;null!==p&&s<4096&&(A[s++]=p<<8|y,s>=u+1&&c<12&&(++c,u=u<<1|1)),p=g}else s=a+1,u=(1<<(c=i+1))-1,p=null}return d!==r&&SH.log("Warning, gif stream shorter than expected."),n}function gz(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),A=new Array(64),p=[],g=0,v=7,m=new Array(64),b=new Array(64),y=new Array(64),w=new Array(256),_=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],x=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function F(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(R(255),R(0)):R(g),v=7,g=0)}function R(e){p.push(e)}function P(e){R(e>>8&255),R(255&e)}function N(e,t,n,r,i){for(var o,a=i[0],s=i[240],c=function(e,t){var n,r,i,o,a,s,c,u,l,h,d=0;for(l=0;l<8;++l){var A=(n=e[d])+(u=e[d+7]),p=n-u,g=(r=e[d+1])+(c=e[d+6]),v=r-c,m=(i=e[d+2])+(s=e[d+5]),b=i-s,y=(o=e[d+3])+(a=e[d+4]),w=o-a,_=A+y,k=A-y,C=g+m,S=g-m;e[d]=_+C,e[d+4]=_-C;var x=.707106781*(S+k);e[d+2]=k+x,e[d+6]=k-x;var E=.382683433*((_=w+b)-(S=v+p)),I=.5411961*_+E,B=1.306562965*S+E,D=.707106781*(C=b+v),T=p+D,O=p-D;e[d+5]=O+I,e[d+3]=O-I,e[d+1]=T+B,e[d+7]=T-B,d+=8}for(d=0,l=0;l<8;++l){var F=(n=e[d])+(u=e[d+56]),R=n-u,P=(r=e[d+8])+(c=e[d+48]),N=r-c,M=(i=e[d+16])+(s=e[d+40]),L=i-s,U=(o=e[d+24])+(a=e[d+32]),j=o-a,Q=F+U,H=F-U,V=P+M,z=P-M;e[d]=Q+V,e[d+32]=Q-V;var q=.707106781*(z+H);e[d+16]=H+q,e[d+48]=H-q;var K=.382683433*((Q=j+L)-(z=N+R)),G=.5411961*Q+K,W=1.306562965*z+K,Y=.707106781*(V=L+N),J=R+Y,X=R-Y;e[d+40]=X+G,e[d+24]=X-G,e[d+8]=J+W,e[d+56]=J-W,d++}for(l=0;l<64;++l)f[l]=(h=e[l]*t[l])>0?h+.5|0:h-.5|0;return f}(e,t),u=0;u<64;++u)A[k[u]]=c[u];var l=A[0]-n;n=A[0],0==l?F(r[0]):(F(r[d[o=32767+l]]),F(h[o]));for(var p=63;p>0&&0==A[p];)p--;if(0==p)return F(a),n;for(var g,v=1;v<=p;){for(var m=v;0==A[v]&&v<=p;)++v;var b=v-m;if(b>=16){g=b>>4;for(var y=1;y<=g;++y)F(s);b&=15}F(i[(b<<4)+d[o=32767+A[v]]]),F(h[o]),v++}return 63!=p&&F(a),n}function M(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[k[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=a((i[o]*e+50)/100);h=Math.min(Math.max(h,1),255),c[k[o]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,A=0;A<8;A++)for(var p=0;p<8;p++)u[f]=1/(s[k[f]]*d[A]*d[p]*8),l[f]=1/(c[k[f]]*d[A]*d[p]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&M(o),p=new Array,g=0,v=7,P(65496),P(65504),P(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),P(1),P(1),R(0),R(0),function(){P(65499),P(132),R(0);for(var e=0;e<64;e++)R(s[e]);R(1);for(var t=0;t<64;t++)R(c[t])}(),function(e,t){P(65472),P(17),R(8),P(t),P(e),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(e.width,e.height),function(){P(65476),P(418),R(0);for(var e=0;e<16;e++)R(C[e+1]);for(var t=0;t<=11;t++)R(S[t]);R(16);for(var n=0;n<16;n++)R(x[n+1]);for(var r=0;r<=161;r++)R(E[r]);R(1);for(var i=0;i<16;i++)R(I[i+1]);for(var o=0;o<=11;o++)R(B[o]);R(17);for(var a=0;a<16;a++)R(D[a+1]);for(var s=0;s<=161;s++)R(T[s])}(),P(65498),P(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var a=0,h=0,d=0;g=0,v=7,this.encode.displayName="_encode_";for(var f,A,w,k,O,L,U,j,Q,H=e.data,V=e.height,z=4*e.width,q=0;q<V;){for(f=0;f<z;){for(O=z*q+f,U=-1,j=0,Q=0;Q<64;Q++)L=O+(j=Q>>3)*z+(U=4*(7&Q)),q+j>=V&&(L-=z*(q+1+j-V)),f+U>=z&&(L-=f+U-z+4),A=H[L++],w=H[L++],k=H[L++],m[Q]=(_[A]+_[w+256>>0]+_[k+512>>0]>>16)-128,b[Q]=(_[A+768>>0]+_[w+1024>>0]+_[k+1280>>0]>>16)-128,y[Q]=(_[A+1280>>0]+_[w+1536>>0]+_[k+1792>>0]>>16)-128;a=N(m,u,a,t,r),h=N(b,l,h,n,i),d=N(y,l,d,n,i),f+=32}q+=8}if(v>=0){var K=[];K[1]=v+1,K[0]=(1<<v+1)-1,F(K)}return P(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=O(C,S),n=O(I,B),r=O(x,E),i=O(D,T),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)_[e]=19595*e,_[e+256>>0]=38470*e,_[e+512>>0]=7471*e+32768,_[e+768>>0]=-11059*e,_[e+1024>>0]=-21709*e,_[e+1280>>0]=32768*e+8421375,_[e+1536>>0]=-27439*e,_[e+1792>>0]=-5329*e}(),M(e)}function vz(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mz(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var o=i[r],a=0;a<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}var c=function(){var e=this;function c(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function u(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function l(e,n,r,i,a){if(t(2328>=a),512>=a)var s=o(512);else if(null==(s=o(a)))return 0;return function(e,n,r,i,a,s){var l,d,f=n,A=1<<r,p=o(16),g=o(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),d=0;d<a;++d){if(15<i[d])return 0;++p[i[d]]}if(p[0]==a)return 0;for(g[1]=0,l=1;15>l;++l){if(p[l]>1<<l)return 0;g[l+1]=g[l]+p[l]}for(d=0;d<a;++d)l=i[d],0<i[d]&&(s[g[l]++]=d);if(1==g[15])return(i=new h).g=0,i.value=s[0],u(e,f,1,A,i),A;var v,m=-1,b=A-1,y=0,w=1,_=1,k=1<<r;for(d=0,l=1,a=2;l<=r;++l,a<<=1){if(w+=_<<=1,0>(_-=p[l]))return 0;for(;0<p[l];--p[l])(i=new h).g=l,i.value=s[d++],u(e,f+y,a,k,i),y=c(y,l)}for(l=r+1,a=2;15>=l;++l,a<<=1){if(w+=_<<=1,0>(_-=p[l]))return 0;for(;0<p[l];--p[l]){if(i=new h,(y&b)!=m){for(f+=k,v=1<<(m=l)-r;15>m&&!(0>=(v-=p[m]));)++m,v<<=1;A+=k=1<<(v=m-r),e[n+(m=y&b)].g=v+r,e[n+m].value=f-n-m}i.g=l-r,i.value=s[d++],u(e,f+(y>>r),a,k,i),y=c(y,l)}}return w!=2*g[15]-1?0:A}(e,n,r,i,a,s)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=a(5,h),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Un,d)}function A(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,x(e)}function p(e,t){for(var n=0;0<t--;)n|=I(e,128)<<t;return n}function g(e,t){var n=p(e,t);return E(e)?-n:n}function v(e,n,r,i){var o,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)a+=n[r+o]<<8*o;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function m(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;k(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Qn){var r=_(e)&jn[n];return e.u+=n,m(e),r}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _(e){return e.Ra>>>(e.u&Hn-1)>>>0}function k(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function C(e,t){e.u=t,e.h=k(e)}function S(e){e.u>=Vn&&(t(e.u>=Vn),m(e))}function x(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function E(e){return p(e,1)}function I(e,t){var n=e.Ca;0>e.b&&x(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return e.b-=r=7^i+zn[r],e.Ca=(n<<r)-1,o}function B(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255}function D(e,t){return e[t+0]<<0|e[t+1]<<8}function T(e,t){return D(e,t)|e[t+2]<<16}function O(e,t){return D(e,t)|D(e,t+2)<<16}function F(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function R(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function N(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],a=i[0];return 0==o&&(o=(e*a+n/2)/n),0==a&&(a=(n*o+e/2)/e),0>=o||0>=a?0:(r[0]=o,i[0]=a,1)}function M(e,t){return e+(1<<t)-1>>>t}function L(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function U(t,n){e[n]=function(n,r,i,o,a,s,c){var u;for(u=0;u<a;++u){var l=e[t](s[c+u-1],i,o+u);s[c+u]=L(n[r+u],l)}}}function j(){this.ud=this.hd=this.jd=0}function Q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return H(e+(e-t+.5>>1))}function z(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function q(e,t,n,r,i,o,a){for(r=o[a-1],n=0;n<i;++n)o[a+n]=r=L(e[t+n],r)}function K(e,t,n,r,i){var o;for(o=0;o<n;++o){var a=e[t+o],s=a>>8&255,c=16711935&(c=(c=16711935&a)+((s<<16)+s));r[i+o]=(4278255360&a)+c>>>0}}function G(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,n,r,i,o){var a;for(a=0;a<r;++a){var s=t[n+a],c=s>>>8,u=s,l=255&(l=(l=s>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[o+a]=(4278255360&s)+(l<<16)+u}}function Y(t,n,r,i,o){e[n]=function(e,t,n,r,a,s,c,u,l){for(r=c;r<u;++r)for(c=0;c<l;++c)a[s++]=o(n[i(e[t++])])},e[t]=function(t,n,a,s,c,u,l){var h=8>>t.b,d=t.Ea,f=t.K[0],A=t.w;if(8>h)for(t=(1<<t.b)-1,A=(1<<h)-1;n<a;++n){var p,g=0;for(p=0;p<d;++p)p&t||(g=i(s[c++])),u[l++]=o(f[g&A]),g>>=h}else e["VP8LMapColor"+r](s,c,f,A,u,l,n,a,d)}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255}}function X(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255,r[i++]=o>>24&255}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&240|a>>12&15,a=a>>0&240|a>>28&15;r[i++]=o,r[i++]=a}}function $(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=o,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>0&255,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,a){if(0==a)for(n=t+n;t<n;)B(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Vr||e==zr||e==qr||e==Kr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ce(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ue(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function le(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,a=i.fb+e.ka*i.A,s=vi[t.ba.S],c=e.y,u=e.O,l=e.f,h=e.N,d=e.ea,f=e.W,A=t.cc,p=t.dc,g=t.Mc,v=t.Nc,m=e.ka,b=e.ka+e.T,y=e.U,w=y+1>>1;for(0==m?s(c,u,null,null,l,h,d,f,l,h,d,f,o,a,null,null,y):(s(t.ec,t.fc,c,u,A,p,g,v,l,h,d,f,o,a-i.A,o,a,y),++n);m+2<b;m+=2)s(c,(u+=2*e.fa)-e.fa,c,u,A=l,p=h,g=d,v=f,l,h+=e.Rc,d,f+=e.Rc,o,(a+=2*i.A)-i.A,o,a,y);return u+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,c,u,y),r(t.cc,t.dc,l,h,w),r(t.Mc,t.Nc,d,f,w),n--):1&b||s(c,u,null,null,l,h,d,f,l,h,d,f,o,a+i.A,null,null,y),n}function he(e,n,r){var i=e.F,o=[e.J];if(null!=i){var a=e.U,s=n.ba.S,c=s==jr||s==qr;n=n.ba.f.RGBA;var u=[0],l=e.ka;u[0]=e.T,e.Kb&&(0==l?--u[0]:(--l,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-l));var h=n.eb;e=Sr(i,o[0],e.width,a,u,h,(l=n.fb+l*n.A)+(c?0:3),n.A),t(r==u),e&&re(s)&&kr(h,l,c,a,u,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Mr||n==Ur||n==jr||n==Qr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Nn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ue,e.Kb){if(t.memory=o(e.U+2*(n=e.U+1>>1)),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=le,bn()}}else alert("todo:EmitYUV");i&&(t.Jb=he,r&&vn())}if(r&&!Ti){for(e=0;256>e;++e)Oi[e]=89858*(e-128)+xi>>Si,Pi[e]=-22014*(e-128)+xi,Ri[e]=-45773*(e-128),Fi[e]=113618*(e-128)+xi>>Si;for(e=Ei;e<Ii;++e)Ni[e-Ei]=qe(t=76283*(e-16)+xi>>Si,255),Mi[e-Ei]=qe(t+8>>4,15);Ti=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function Ae(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ve(e,t){return 120<t?t-120:1<=(n=((n=Zr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function me(e,t,n){var r=_(n),i=e[t+=255&r].g-8;return 0<i&&(C(n,n.u+8),r=_(n),t+=e[t].value,t+=r&(1<<i)-1),C(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ye(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,o){var a=e.ab,s=e.c*n,c=e.C;n=c+n;var u=i,l=o;for(o=e.Ta,i=e.Ua;0<a--;){var h=e.gc[a],d=c,f=n,A=u,p=l,g=(l=o,u=i,h.Ea);switch(t(d<f),t(f<=h.nc),h.hc){case 2:Gn(A,p,(f-d)*g,l,u);break;case 0:var v=d,m=f,b=l,y=u,w=(x=h).Ea;0==v&&(qn(A,p,null,null,1,b,y),q(A,p+1,0,0,w-1,b,y+1),p+=w,y+=w,++v);for(var _=1<<x.b,k=_-1,C=M(w,x.b),S=x.K,x=x.w+(v>>x.b)*C;v<m;){var E=S,I=x,B=1;for(Kn(A,p,b,y-w,1,b,y);B<w;){var D=(B&~k)+_;D>w&&(D=w),(0,Zn[E[I++]>>8&15])(A,p+ +B,b,y+B-w,D-B,b,y+B),B=D}p+=w,y+=w,++v&k||(x+=C)}f!=h.nc&&r(l,u-g,l,u+(f-d-1)*g,g);break;case 1:for(g=A,m=p,w=(A=h.Ea)-(y=A&~(b=(p=1<<h.b)-1)),v=M(A,h.b),_=h.K,h=h.w+(d>>h.b)*v;d<f;){for(k=_,C=h,S=new j,x=m+y,E=m+A;m<x;)G(k[C++],S),$n(S,g,m,p,l,u),m+=p,u+=p;m<E&&(G(k[C++],S),$n(S,g,m,w,l,u),m+=w,u+=w),++d&b||(h+=v)}break;case 3:if(A==l&&p==u&&0<h.b){for(m=l,A=g=u+(f-d)*g-(y=(f-d)*M(h.Ea,h.b)),p=l,b=u,v=[],y=(w=y)-1;0<=y;--y)v[y]=p[b+y];for(y=w-1;0<=y;--y)m[A+y]=v[y];Wn(h,d,f,l,g,l,u)}else Wn(h,d,f,A,p,l,u)}u=o,l=i}l!=i&&r(o,i,u,l,s)}function _e(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var a=e.l,s=e.Ta,c=e.Ua,u=a.width;if(we(e,o,r,i),o=c=[c],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var l=a.j-r;r=a.j,o[0]+=l*u}if(r>=i?r=0:(o[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(c=c[0],11>(r=e.ca).S){var h=r.f.RGBA,d=(i=r.S,o=a.U,a=a.T,l=h.eb,h.A),f=a;for(h=h.fb+e.Ma*h.A;0<f--;){var A=s,p=c,g=o,v=l,m=h;switch(i){case Nr:er(A,p,g,v,m);break;case Mr:tr(A,p,g,v,m);break;case Vr:tr(A,p,g,v,m),kr(v,m,0,g,1,0);break;case Lr:ir(A,p,g,v,m);break;case Ur:te(A,p,g,v,m,1);break;case zr:te(A,p,g,v,m,1),kr(v,m,0,g,1,0);break;case jr:te(A,p,g,v,m,0);break;case qr:te(A,p,g,v,m,0),kr(v,m,1,g,1,0);break;case Qr:nr(A,p,g,v,m);break;case Kr:nr(A,p,g,v,m),Cr(v,m,g,1,0);break;case Hr:rr(A,p,g,v,m);break;default:t(0)}c+=u,h+=d}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function ke(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ce(e,n,r,i,o,a){if(0!=e.Z){var s=e.qd,c=e.rd;for(t(null!=gi[e.Z]);n<r;++n)gi[e.Z](s,c,i,o,i,o,a),s=i,c=o,o+=a;e.qd=s,e.rd=c}}function Se(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,a=r.ca,s=r.tb+o*i,c=e.V,u=e.Ba+e.c*i,l=e.gc;t(1==e.ab),t(3==l[0].hc),Jn(l[0],i,n,c,u,a,s),Ce(r,i,n,a,s,o)}e.C=e.Ma=n}function xe(e,n,r,i,o,a,s){var c=e.$/i,u=e.$%i,l=e.m,h=e.s,d=r+e.$,f=d;o=r+i*o;var A=r+i*a,p=280+h.ua,g=e.Pb?c:16777216,v=0<h.ua?h.Wa:null,m=h.wc,b=d<A?ye(h,u,c):null;t(e.C<a),t(A<=o);var y=!1;e:for(;;){for(;y||d<A;){var w=0;if(c>=g){var x=d-r;t((g=e).Pb),g.wd=g.m,g.xd=x,0<g.s.ua&&R(g.s.Wa,g.s.vb),g=c+ei}if(u&m||(b=ye(h,u,c)),t(null!=b),b.Qb&&(n[d]=b.qb,y=!0),!y)if(S(l),b.jc){x=n;var E=d,I=b.pd[_(w=l)&Un-1];t(b.jc),256>I.g?(C(w,w.u+I.g),x[E]=I.value,w=0):(C(w,w.u+I.g-256),t(256<=I.value),w=I.value),0==w&&(y=!0)}else w=me(b.G[0],b.H[0],l);if(l.h)break;if(y||256>w){if(!y)if(b.nd)n[d]=(b.qb|w<<8)>>>0;else{if(S(l),y=me(b.G[1],b.H[1],l),S(l),x=me(b.G[2],b.H[2],l),E=me(b.G[3],b.H[3],l),l.h)break;n[d]=(E<<24|y<<16|w<<8|x)>>>0}if(y=!1,++d,++u>=i&&(u=0,++c,null!=s&&c<=a&&!(c%16)&&s(e,c),null!=v))for(;f<d;)w=n[f++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else if(280>w){if(w=ge(w-256,l),x=me(b.G[4],b.H[4],l),S(l),x=ve(i,x=ge(x,l)),l.h)break;if(d-r<x||o-d<w)break e;for(E=0;E<w;++E)n[d+E]=n[d+E-x];for(d+=w,u+=w;u>=i;)u-=i,++c,null!=s&&c<=a&&!(c%16)&&s(e,c);if(t(d<=o),u&m&&(b=ye(h,u,c)),null!=v)for(;f<d;)w=n[f++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else{if(!(w<p))break e;for(y=w-280,t(null!=v);f<d;)w=n[f++],v.X[(506832829*w&4294967295)>>>v.Mb]=w;w=d,t(!(y>>>(x=v).Xa)),n[w]=x.X[y],y=!0}y||t(l.h==k(l))}if(e.Pb&&l.h&&d<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&R(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=s&&s(e,c>a?a:c),e.a=0,e.$=d-r}return 1}return e.a=3,0}function Ee(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ie(){var t=new sn;return null==t?null:(t.a=0,t.xb=pi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=K,$n=W,er=J,tr=X,nr=Z,rr=$,ir=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Xn,t)}function Be(e,n,r,s,c){var u=1,d=[e],A=[n],p=s.m,g=s.s,v=null,m=0;e:for(;;){if(r)for(;u&&b(p,1);){var y=d,w=A,k=s,x=1,E=k.m,I=k.gc[k.ab],B=b(E,2);if(k.Oc&1<<B)u=0;else{switch(k.Oc|=1<<B,I.hc=B,I.Ea=y[0],I.nc=w[0],I.K=[null],++k.ab,t(4>=k.ab),B){case 0:case 1:I.b=b(E,3)+2,x=Be(M(I.Ea,I.b),M(I.nc,I.b),0,k,I.K),I.K=I.K[0];break;case 3:var D,T=b(E,8)+1,O=16<T?0:4<T?1:2<T?2:3;if(y[0]=M(I.Ea,O),I.b=O,D=x=Be(T,1,0,k,I.K)){var R,P=T,N=I,U=1<<(8>>N.b),j=o(U);if(null==j)D=0;else{var Q=N.K[0],H=N.w;for(j[0]=N.K[0][0],R=1;R<1*P;++R)j[R]=L(Q[H+R],j[R-1]);for(;R<4*U;++R)j[R]=0;N.K[0]=null,N.K[0]=j,D=1}}x=D;break;case 2:break;default:t(0)}u=x}}if(d=d[0],A=A[0],u&&b(p,1)&&!(u=1<=(m=b(p,4))&&11>=m)){s.a=3;break e}var V;if(V=u)t:{var z,q,K,G=s,W=d,Y=A,J=m,X=r,Z=G.m,$=G.s,ee=[null],te=1,ne=0,re=$r[J];n:for(;;){if(X&&b(Z,1)){var ie=b(Z,3)+2,oe=M(W,ie),ae=M(Y,ie),se=oe*ae;if(!Be(oe,ae,0,G,ee))break n;for(ee=ee[0],$.xc=ie,z=0;z<se;++z){var ce=ee[z]>>8&65535;ee[z]=ce,ce>=te&&(te=ce+1)}}if(Z.h)break n;for(q=0;5>q;++q){var ue=Yr[q];!q&&0<J&&(ue+=1<<J),ne<ue&&(ne=ue)}var le=a(te*re,h),he=te,de=a(he,f);if(null==de)var fe=null;else t(65536>=he),fe=de;var Ae=o(ne);if(null==fe||null==Ae||null==le){G.a=1;break n}var pe=le;for(z=K=0;z<te;++z){var ge=fe[z],ve=ge.G,me=ge.H,ye=0,we=1,_e=0;for(q=0;5>q;++q){ue=Yr[q],ve[q]=pe,me[q]=K,!q&&0<J&&(ue+=1<<J);r:{var ke,Ce=ue,Se=G,Ie=Ae,De=pe,Te=K,Oe=0,Fe=Se.m,Re=b(Fe,1);if(i(Ie,0,0,Ce),Re){var Pe=b(Fe,1)+1,Ne=b(Fe,1),Me=b(Fe,0==Ne?1:8);Ie[Me]=1,2==Pe&&(Ie[Me=b(Fe,8)]=1);var Le=1}else{var Ue=o(19),je=b(Fe,4)+4;if(19<je){Se.a=3;var Qe=0;break r}for(ke=0;ke<je;++ke)Ue[Xr[ke]]=b(Fe,3);var He=void 0,Ve=void 0,ze=Se,qe=Ue,Ke=Ce,Ge=Ie,We=0,Ye=ze.m,Je=8,Xe=a(128,h);i:for(;l(Xe,0,7,qe,19);){if(b(Ye,1)){var Ze=2+2*b(Ye,3);if((He=2+b(Ye,Ze))>Ke)break i}else He=Ke;for(Ve=0;Ve<Ke&&He--;){S(Ye);var $e=Xe[0+(127&_(Ye))];C(Ye,Ye.u+$e.g);var et=$e.value;if(16>et)Ge[Ve++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Wr[nt],it=b(Ye,Gr[nt])+rt;if(Ve+it>Ke)break i;for(var ot=tt?Je:0;0<it--;)Ge[Ve++]=ot}}We=1;break i}We||(ze.a=3),Le=We}(Le=Le&&!Fe.h)&&(Oe=l(De,Te,8,Ie,Ce)),Le&&0!=Oe?Qe=Oe:(Se.a=3,Qe=0)}if(0==Qe)break n;if(we&&1==Jr[q]&&(we=0==pe[K].g),ye+=pe[K].g,K+=Qe,3>=q){var at,st=Ae[0];for(at=1;at<ue;++at)Ae[at]>st&&(st=Ae[at]);_e+=st}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(ve[3][me[3]+0].value<<24|ve[1][me[1]+0].value<<16|ve[2][me[2]+0].value)>>>0,0==ye&&256>ve[0][me[0]+0].value&&(ge.Qb=1,ge.qb+=ve[0][me[0]+0].value<<8)),ge.jc=!ge.Qb&&6>_e,ge.jc){var ct,ut=ge;for(ct=0;ct<Un;++ct){var lt=ct,ht=ut.pd[lt],dt=ut.G[0][ut.H[0]+lt];256<=dt.value?(ht.g=dt.g+256,ht.value=dt.value):(ht.g=0,ht.value=0,lt>>=be(dt,8,ht),lt>>=be(ut.G[1][ut.H[1]+lt],16,ht),lt>>=be(ut.G[2][ut.H[2]+lt],0,ht),be(ut.G[3][ut.H[3]+lt],24,ht))}}}$.vc=ee,$.Wb=te,$.Ya=fe,$.yc=le,V=1;break t}V=0}if(!(u=V)){s.a=3;break e}if(0<m){if(g.ua=1<<m,!F(g.Wa,m)){s.a=1,u=0;break e}}else g.ua=0;var ft=s,At=d,pt=A,gt=ft.s,vt=gt.xc;if(ft.c=At,ft.i=pt,gt.md=M(At,vt),gt.wc=0==vt?-1:(1<<vt)-1,r){s.xb=Ai;break e}if(null==(v=o(d*A))){s.a=1,u=0;break e}u=(u=xe(s,v,0,d,A,A,null))&&!p.h;break e}return u?(null!=c?c[0]=v:(t(null==v),t(r)),s.$=0,r||Ee(g)):Ee(g),u}function De(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Te(e,n){var r=e.C,i=n-r,o=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,c=e.l.ma,u=e.l.width,l=u*s,h=c.ca,d=c.tb+u*r,f=e.Ta,A=e.Ua;we(e,s,o,a),xr(f,A,h,d,l),Ce(c,r,r+s,h,d,u),i-=s,o+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function Fe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Re(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Pe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function Ne(){this.jb=o(3),this.Wc=s([4,8],Pe),this.Xc=s([4,17],Pe)}function Me(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Le(){this.ld=this.La=this.dd=this.tc=0}function Ue(){this.Na=this.la=0}function je(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qe(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Le),this.Y=0,this.ya=Array(new Qe),this.aa=0,this.l=new Ke}function Ve(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ze(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Oe,this.Kc=new Fe,this.ed=new Me,this.Qa=new Re,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,y),this.ia=0,this.pb=a(4,je),this.Pa=new Ne,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Ue),this.sb=0,this.wa=Array(new Le),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qe),this.L=this.aa=0,this.gd=s([4,2],Le),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qe(e,t){return 0>e?0:e>t?t:e}function Ke(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new ze;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Xe)),e}function We(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ye(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return We(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,a=n.ha;if(4>a)return We(e,7,"Truncated header.");var s=r[o+0]|r[o+1]<<8|r[o+2]<<16,c=e.Od;if(c.Rb=!(1&s),c.td=s>>1&7,c.yd=s>>4&1,c.ub=s>>5,3<c.td)return We(e,3,"Incorrect keyframe parameters.");if(!c.yd)return We(e,4,"Frame not displayable.");o+=3,a-=3;var u=e.Kc;if(c.Rb){if(7>a)return We(e,7,"cannot parse picture header");if(!Ye(r,o,a))return We(e,3,"Bad code word");u.c=16383&(r[o+4]<<8|r[o+3]),u.Td=r[o+4]>>6,u.i=16383&(r[o+6]<<8|r[o+5]),u.Ud=r[o+6]>>6,o+=7,a-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,n.width=u.c,n.height=u.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(c.ub>a)return We(e,7,"bad partition length");A(s=e.m,r,o,c.ub),o+=c.ub,a-=c.ub,c.Rb&&(u.Ld=E(s),u.Kd=E(s)),u=e.Qa;var l,h=e.Pa;if(t(null!=s),t(null!=u),u.Cb=E(s),u.Cb){if(u.Bb=E(s),E(s)){for(u.Fb=E(s),l=0;4>l;++l)u.Zb[l]=E(s)?g(s,7):0;for(l=0;4>l;++l)u.Lb[l]=E(s)?g(s,6):0}if(u.Bb)for(l=0;3>l;++l)h.jb[l]=E(s)?p(s,8):255}else u.Bb=0;if(s.Ka)return We(e,3,"cannot parse segment header");if((u=e.ed).zd=E(s),u.Tb=p(s,6),u.wb=p(s,3),u.Pc=E(s),u.Pc&&E(s)){for(h=0;4>h;++h)E(s)&&(u.vd[h]=g(s,6));for(h=0;4>h;++h)E(s)&&(u.od[h]=g(s,6))}if(e.L=0==u.Tb?0:u.zd?1:2,s.Ka)return We(e,3,"cannot parse filter header");var d=a;if(a=l=o,o=l+d,u=d,e.Xb=(1<<p(e.m,2))-1,d<3*(h=e.Xb))r=7;else{for(l+=3*h,u-=3*h,d=0;d<h;++d){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>u&&(f=u),A(e.Jc[+d],r,l,f),l+=f,u-=f,a+=3}A(e.Jc[+h],r,l,u),r=l<o?0:5}if(0!=r)return We(e,r,"cannot parse partitions");for(r=p(l=e.m,7),a=E(l)?g(l,4):0,o=E(l)?g(l,4):0,u=E(l)?g(l,4):0,h=E(l)?g(l,4):0,l=E(l)?g(l,4):0,d=e.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}v=r}var m=e.pb[f];m.Sc[0]=ti[qe(v+a,127)],m.Sc[1]=ni[qe(v+0,127)],m.Eb[0]=2*ti[qe(v+o,127)],m.Eb[1]=101581*ni[qe(v+u,127)]>>16,8>m.Eb[1]&&(m.Eb[1]=8),m.Qc[0]=ti[qe(v+h,117)],m.Qc[1]=ni[qe(v+l,127)],m.lc=v+l}if(!c.Rb)return We(e,4,"Not a key frame.");for(E(s),c=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(o=0;3>o;++o)for(u=0;11>u;++u)h=I(s,ui[r][a][o][u])?p(s,8):si[r][a][o][u],c.Wc[r][a].Yb[o][u]=h;for(a=0;17>a;++a)c.Xc[r][a]=c.Wc[r][li[a]]}return e.kc=E(s),e.kc&&(e.Bd=p(s,8)),e.cb=1}function Xe(e,t,n,r,i,o,a){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!I(e,s[n+0]))return i;for(;!I(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var c=t[i+1].Yb;if(I(e,s[n+2])){var u=e,l=0;if(I(u,(d=s)[(h=n)+3]))if(I(u,d[h+6])){for(s=0,h=2*(l=I(u,d[h+8]))+(d=I(u,d[h+9+l])),l=0,d=ii[h];d[s];++s)l+=l+I(u,d[s]);l+=3+(8<<h)}else I(u,d[h+7])?(l=7+2*I(u,165),l+=I(u,145)):l=5+I(u,159);else l=I(u,d[h+4])?3+I(u,d[h+5]):2;s=c[2]}else l=1,s=c[1];c=a+oi[i],0>(u=e).b&&x(u);var h,d=u.b,f=(h=u.Ca>>1)-(u.I>>d)>>31;--u.b,u.Ca+=f,u.Ca|=1,u.I-=(h+1&f)<<d,o[c]=((l^f)-f)*r[(0<i)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,n){if(null==e)return 0;if(null==n)return We(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Ui[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(s=0;4>s;++s){var u;if(e.Qa.Cb){var l=e.Qa.Lb[s];e.Qa.Fb||(l+=c.Tb)}else l=c.Tb;for(u=0;1>=u;++u){var h=e.gd[s][u],d=l;if(c.Pc&&(d+=c.vd[0],u&&(d+=c.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<c.wb&&(f=4<c.wb?f>>2:f>>1)>9-c.wb&&(f=9-c.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=u}}}s=0}else We(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Qi);e:{c=4*(f=e.za);var A=32*f,p=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*f;if((h=c+832+(u=3*(16*(s=e.Ic)+Ui[e.L])/2*A)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)s=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=o(h),e.Fc=0,null==e.Ec){s=We(e,1,"no memory during frame initialization.");break e}e.Vb=h}d=e.Fc,e.Ac=h=e.Ec,e.Bc=d,d+=c,e.Gd=a(A,Ve),e.Hd=0,e.rb=a(p+1,Ue),e.sb=1,e.wa=g?a(g,Le):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=h,e.pc=d,d+=832,e.ya=a(v,Qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(A=Ui[e.L])*e.R,A=A/2*e.B,e.sa=h,e.ta=d+f,e.qa=e.sa,e.ra=e.ta+16*s*e.R+A,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+A,e.$c=0,d+=u,e.mb=l?h:null,e.nb=l?d:null,t(d+l<=e.Fc+e.Vb),Ze(e),i(e.Ac,e.Bc,0,c),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Tr){for(s=-255;255>=s;++s)Er[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Ir[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Br[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Dr[255+s]=0>s?0:255<s?255:s;Tr=1}or=ut,ar=ot,cr=at,ur=st,lr=ct,sr=it,hr=Wt,dr=Yt,fr=Zt,Ar=$t,pr=Jt,gr=Xt,vr=en,mr=tn,br=Ht,yr=Vt,wr=zt,_r=qt,di[0]=Ct,di[1]=ht,di[2]=_t,di[3]=kt,di[4]=St,di[5]=Et,di[6]=xt,di[7]=It,di[8]=Dt,di[9]=Bt,hi[0]=vt,hi[1]=ft,hi[2]=At,hi[3]=pt,hi[4]=mt,hi[5]=bt,hi[6]=yt,fi[0]=Rt,fi[1]=dt,fi[2]=Tt,fi[3]=Ot,fi[4]=Nt,fi[5]=Pt,fi[6]=Mt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],c=e.m,u=e;for(a=0;a<u.za;++a){var l=c,h=u,d=h.Ac,f=h.Bc+4*a,A=h.zc,p=h.ya[h.aa+a];if(p.$b=h.Qa.Bb?I(l,h.Pa.jb[0])?2+I(l,h.Pa.jb[2]):I(l,h.Pa.jb[1]):0,h.kc&&(p.Ad=I(l,h.Bd)),p.Za=!I(l,145)+0,p.Za){var g=p.Ob,v=0;for(h=0;4>h;++h){var m,b=A[0+h];for(m=0;4>m;++m){for(var y=ai[I(l,(b=ci[d[f+m]][b])[0])];0<y;)y=ai[2*y+I(l,b[y])];d[f+m]=b=-y}r(g,v,d,f,4),v+=4,A[0+h]=b}}else b=I(l,156)?I(l,128)?1:3:I(l,163)?2:0,p.Ob[0]=b,i(d,f,b,4),i(A,0,b,4);p.Dd=I(l,142)?I(l,114)?I(l,183)?1:3:2:0}if(u.m.Ka)return We(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=s,l=(c=e).rb[c.sb-1],d=c.rb[c.sb+c.ja],a=c.ya[c.aa+c.ja],f=c.kc?a.Ad:0)l.la=d.la=0,a.Za||(l.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var w,_;if(l=d,d=u,f=c.Pa.Xc,p=c.pb[(A=c.ya[c.aa+c.ja]).$b],v=c.rb[c.sb-1],b=m=0,i(h=A.ad,g=0,0,384),A.Za)var k=0,C=f[3];else{y=o(16);var S=l.Na+v.Na;if(S=ri(d,f[1],S,p.Eb,0,y,0),l.Na=v.Na=(0<S)+0,1<S)or(y,0,h,g);else{var x=y[0]+3>>3;for(y=0;256>y;y+=16)h[g+y]=x}k=1,C=f[0]}var E=15&l.la,B=15&v.la;for(y=0;4>y;++y){var D=1&B;for(x=_=0;4>x;++x)E=E>>1|(D=(S=ri(d,C,S=D+(1&E),p.Sc,k,h,g))>k)<<7,_=_<<2|(3<S?3:1<S?2:0!=h[g+0]),g+=16;E>>=4,B=B>>1|D<<7,m=(m<<8|_)>>>0}for(C=E,k=B>>4,w=0;4>w;w+=2){for(_=0,E=l.la>>4+w,B=v.la>>4+w,y=0;2>y;++y){for(D=1&B,x=0;2>x;++x)E=E>>1|(D=0<(S=ri(d,f[2],S=D+(1&E),p.Qc,0,h,g)))<<3,_=_<<2|(3<S?3:1<S?2:0!=h[g+0]),g+=16;E>>=2,B=B>>1|D<<5}b|=_<<4*w,C|=E<<4<<w,k|=(240&B)<<w}l.la=C,v.la=k,A.Hc=m,A.Gc=b,A.ia=43690&b?0:p.ia,f=!(m|b)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[a.$b][a.Za],c.wa[c.Y+c.ja].La|=!f),u.Ka)return We(e,7,"Premature end-of-file encountered.")}if(Ze(e),c=n,u=1,a=(s=e).D,l=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=l,Rn(s,a),u=1,a=(_=s.D).Nb,l=(b=Ui[s.L])*s.R,f=s.sa,A=s.ta-l+(y=16*a*s.R),p=s.qa,h=s.ra-(d=b/2*s.B)+(x=8*a*s.B),g=s.Ha,v=s.Ia-d+x,B=0==(E=_.M),m=E>=s.Va-1,2==s.Aa&&Rn(s,_),_.uc)for(D=(S=s).D.M,t(S.D.uc),_=S.yb;_<S.Hb;++_){C=D;var T=(O=(Q=S).D).Nb,O=O.wa[O.Y+(k=_)],F=Q.sa,R=Q.ta+16*T*(w=Q.R)+16*k,P=O.dd,N=O.tc;if(0!=N)if(t(3<=N),1==Q.L)0<k&&yr(F,R,w,N+4),O.La&&_r(F,R,w,N),0<C&&br(F,R,w,N+4),O.La&&wr(F,R,w,N);else{var M=Q.B,L=Q.qa,U=Q.ra+8*T*M+8*k,j=Q.Ha,Q=Q.Ia+8*T*M+8*k;T=O.ld,0<k&&(dr(F,R,w,N+4,P,T),Ar(L,U,j,Q,M,N+4,P,T)),O.La&&(gr(F,R,w,N,P,T),mr(L,U,j,Q,M,N,P,T)),0<C&&(hr(F,R,w,N+4,P,T),fr(L,U,j,Q,M,N+4,P,T)),O.La&&(pr(F,R,w,N,P,T),vr(L,U,j,Q,M,N,P,T))}}if(s.ia&&alert("todo:DitherRow"),null!=c.put){if(_=16*E,E=16*(E+1),B?(c.y=s.sa,c.O=s.ta+y,c.f=s.qa,c.N=s.ra+x,c.ea=s.Ha,c.W=s.Ia+x):(_-=b,c.y=f,c.O=A,c.f=p,c.N=h,c.ea=g,c.W=v),m||(E-=b),E>c.o&&(E=c.o),c.F=null,c.J=null,null!=s.Fa&&0<s.Fa.length&&_<E&&(c.J=dn(s,c,_,E-_),c.F=s.mb,null==c.F&&0==c.F.length)){u=We(s,3,"Could not decode alpha data.");break e}_<c.j&&(b=c.j-_,_=c.j,t(!(1&b)),c.O+=s.R*b,c.N+=s.B*(b>>1),c.W+=s.B*(b>>1),null!=c.F&&(c.J+=c.width*b)),_<E&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,null!=c.F&&(c.J+=c.v),c.ka=_-c.j,c.U=c.va-c.v,c.T=E-_,u=c.put(c))}a+1!=s.Ic||m||(r(s.sa,s.ta-l,f,A+16*s.R,l),r(s.qa,s.ra-d,p,h+8*s.B,d),r(s.Ha,s.Ia-d,g,v+8*s.B,d))}if(!u)return We(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,r,i){e[t+n+32*r]=-256&(i=e[t+n+32*r]+(i>>3))?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,a=0,s=o(16);for(i=0;4>i;++i){var c=e[t+0]+e[t+8],u=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-nt(e[t+12]),h=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=c+h,s[a+1]=u+l,s[a+2]=u-l,s[a+3]=c-h,a+=4,t++}for(i=a=0;4>i;++i)c=(e=s[a+0]+4)+s[a+8],u=e-s[a+8],l=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,r,0,0,c+(h=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,r,1,0,u+l),et(n,r,2,0,u-l),et(n,r,3,0,c-h),a++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,r,0,i+a,e=nt(e[t+1]),s),tt(n,r,1,i+o,e,s),tt(n,r,2,i-o,e,s),tt(n,r,3,i-a,e,s)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function ct(e,t,n,r){e[t+0]&&ur(e,t+0,n,r),e[t+16]&&ur(e,t+16,n,r+4),e[t+32]&&ur(e,t+32,n,r+128),e[t+48]&&ur(e,t+48,n,r+128+4)}function ut(e,t,n,r){var i,a=o(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],c=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];a[0+i]=s+c,a[8+i]=s-c,a[4+i]=l+u,a[12+i]=l-u}for(i=0;4>i;++i)s=(e=a[0+4*i]+3)+a[3+4*i],u=a[1+4*i]-a[2+4*i],l=e-a[3+4*i],n[r+0]=s+(c=a[1+4*i]+a[2+4*i])>>3,n[r+16]=l+u>>3,n[r+32]=s-c>>3,n[r+48]=l-u>>3,r+=64}function lt(e,t,n){var r,i=t-32,o=Rr,a=255-e[i-1];for(r=0;r<n;++r){var s,c=o,u=a+e[t-1];for(s=0;s<n;++s)e[t+s]=c[u+e[i+s]];t+=32}}function ht(e,t){lt(e,t,4)}function dt(e,t){lt(e,t,8)}function ft(e,t){lt(e,t,16)}function At(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function vt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function mt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function yt(e,t){gt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function _t(e,t){var n,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function kt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];B(e,t+0,16843009*wt(e[t-1-32],n,r)),B(e,t+32,16843009*wt(n,r,i)),B(e,t+64,16843009*wt(r,i,o)),B(e,t+96,16843009*wt(i,o,o))}function Ct(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+96]=wt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(a,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(s,a,o),e[t+3+32]=e[t+2+0]=wt(c,s,a),e[t+3+0]=wt(u,c,s)}function xt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],s=e[t+6-32],c=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,o,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(o,a,s),e[t+3+64]=e[t+2+96]=wt(a,s,c),e[t+3+96]=wt(s,c,c)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=o+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+c+1>>1,e[t+3+0]=c+u+1>>1,e[t+0+96]=wt(i,r,n),e[t+0+64]=wt(r,n,o),e[t+0+32]=e[t+1+96]=wt(n,o,a),e[t+1+32]=e[t+2+96]=wt(o,a,s),e[t+2+32]=e[t+3+96]=wt(a,s,c),e[t+3+32]=wt(s,c,u)}function It(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],a=e[t+4-32],s=e[t+5-32],c=e[t+6-32],u=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+a+1>>1,e[t+0+32]=wt(n,r,i),e[t+1+32]=e[t+0+96]=wt(r,i,o),e[t+2+32]=e[t+1+96]=wt(i,o,a),e[t+3+32]=e[t+2+96]=wt(o,a,s),e[t+3+64]=wt(a,s,c),e[t+3+96]=wt(s,c,u)}function Bt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=wt(n,r,i),e[t+3+0]=e[t+1+32]=wt(r,i,o),e[t+3+32]=e[t+1+64]=wt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Dt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],a=e[t-1-32],s=e[t+0-32],c=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=wt(s,c,u),e[t+2+0]=wt(a,s,c),e[t+1+0]=e[t+3+32]=wt(n,a,s),e[t+1+32]=e[t+3+64]=wt(r,n,a),e[t+1+64]=e[t+3+96]=wt(i,r,n),e[t+1+96]=wt(o,i,r)}function Tt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ot(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Ft(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Rt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ft(r>>4,e,t)}function Pt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ft(r>>3,e,t)}function Nt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ft(r>>3,e,t)}function Mt(e,t){Ft(128,e,t)}function Lt(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+Or[1020+e[t-2*n]-e[t+n]],a=Fr[112+(o+4>>3)];e[t-n]=Rr[255+r+Fr[112+(o+3>>3)]],e[t+0]=Rr[255+i-a]}function Ut(e,t,n,r){return Pr[255+e[t-2*n]-e[t-n]]>r||Pr[255+e[t+n]-e[t+0]]>r}function jt(e,t,n,r){return 4*Pr[255+e[t-n]-e[t+0]]+Pr[255+e[t-2*n]-e[t+n]]<=r}function Qt(e,t,n,r,i){var o=e[t-3*n],a=e[t-2*n],s=e[t-n],c=e[t+0],u=e[t+n],l=e[t+2*n];return 4*Pr[255+s-c]+Pr[255+a-u]>r?0:Pr[255+e[t-4*n]-o]<=i&&Pr[255+o-a]<=i&&Pr[255+a-s]<=i&&Pr[255+e[t+3*n]-l]<=i&&Pr[255+l-u]<=i&&Pr[255+u-c]<=i}function Ht(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)jt(e,t+r,n,i)&&Lt(e,t+r,n)}function Vt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)jt(e,t+r*n,1,i)&&Lt(e,t+r*n,1)}function zt(e,t,n,r){var i;for(i=3;0<i;--i)Ht(e,t+=4*n,n,r)}function qt(e,t,n,r){var i;for(i=3;0<i;--i)Vt(e,t+=4,n,r)}function Kt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Qt(e,t,n,o,a))if(Ut(e,t,n,s))Lt(e,t,n);else{var c=e,u=t,l=n,h=c[u-2*l],d=c[u-l],f=c[u+0],A=c[u+l],p=c[u+2*l],g=27*(m=Or[1020+3*(f-d)+Or[1020+h-A]])+63>>7,v=18*m+63>>7,m=9*m+63>>7;c[u-3*l]=Rr[255+c[u-3*l]+m],c[u-2*l]=Rr[255+h+v],c[u-l]=Rr[255+d+g],c[u+0]=Rr[255+f-g],c[u+l]=Rr[255+A-v],c[u+2*l]=Rr[255+p-m]}t+=r}}function Gt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Qt(e,t,n,o,a))if(Ut(e,t,n,s))Lt(e,t,n);else{var c=e,u=t,l=n,h=c[u-l],d=c[u+0],f=c[u+l],A=Fr[112+(4+(p=3*(d-h))>>3)],p=Fr[112+(p+3>>3)],g=A+1>>1;c[u-2*l]=Rr[255+c[u-2*l]+g],c[u-l]=Rr[255+h+p],c[u+0]=Rr[255+d-A],c[u+l]=Rr[255+f-g]}t+=r}}function Wt(e,t,n,r,i,o){Kt(e,t,n,1,16,r,i,o)}function Yt(e,t,n,r,i,o){Kt(e,t,1,n,16,r,i,o)}function Jt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Gt(e,t+=4*n,n,1,16,r,i,o)}function Xt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Gt(e,t+=4,1,n,16,r,i,o)}function Zt(e,t,n,r,i,o,a,s){Kt(e,t,i,1,8,o,a,s),Kt(n,r,i,1,8,o,a,s)}function $t(e,t,n,r,i,o,a,s){Kt(e,t,1,i,8,o,a,s),Kt(n,r,1,i,8,o,a,s)}function en(e,t,n,r,i,o,a,s){Gt(e,t+4*i,i,1,8,o,a,s),Gt(n,r+4*i,i,1,8,o,a,s)}function tn(e,t,n,r,i,o,a,s){Gt(e,t+4,1,i,8,o,a,s),Gt(n,r+4,1,i,8,o,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ce,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function sn(){this.xb=this.a=0,this.l=new Ke,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,on),this.Oc=0}function cn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ke,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(e,t,n,r,i,o,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function ln(e,t,n,r,i,o,a){var s;if(null==e)un(null,null,n,r,i,o,a);else for(s=0;s<a;++s)i[o+s]=e[t+s]+n[r+s]&255}function hn(e,t,n,r,i,o,a){if(null==e)un(null,null,n,r,i,o,a);else{var s,c=e[t+0],u=c,l=c;for(s=0;s<a;++s)u=l+(c=e[t+s])-u,l=n[r+s]+(-256&u?0>u?0:255:u)&255,u=c,i[o+s]=l}}function dn(e,n,i,a){var s=n.width,c=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>c)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new cn,(u=null==e.ga)||(u=n.width*n.o,t(0==e.Gb.length),e.Gb=o(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){var l=e.Fa,h=e.P,d=e.qc,f=e.mb,A=e.nb,p=h+1,g=d-1,m=(u=e.ga).l;if(t(null!=l&&null!=f&&null!=n),gi[0]=null,gi[1]=un,gi[2]=ln,gi[3]=hn,u.ca=f,u.tb=A,u.c=n.width,u.i=n.height,t(0<u.c&&0<u.i),1>=d)n=0;else if(u.$a=l[h+0]>>0&3,u.Z=l[h+0]>>2&3,u.Lc=l[h+0]>>4&3,h=l[h+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||h)n=0;else if(m.put=fe,m.ac=de,m.bc=Ae,m.ma=u,m.width=n.width,m.height=n.height,m.Da=n.Da,m.v=n.v,m.va=n.va,m.j=n.j,m.o=n.o,u.$a)e:{t(1==u.$a),n=Ie();t:for(;;){if(null==n){n=0;break e}if(t(null!=u),u.mc=n,n.c=u.c,n.i=u.i,n.l=u.l,n.l.ma=u,n.l.width=u.c,n.l.height=u.i,n.a=0,v(n.m,l,p,g),!Be(u.c,u.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&ke(n.s)?(u.ic=1,l=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(l),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(u.ic=0,n=De(n,u.c)),!n)break t;n=1;break e}u.mc=null,n=0}else n=g>=u.c*u.i;u=!n}if(u)return null;1!=e.ga.Lc?e.Ga=0:a=c-i}t(null!=e.ga),t(i+a<=c);e:{if(n=(l=e.ga).c,c=l.l.o,0==l.$a){if(p=e.rc,g=e.Vc,m=e.Fa,d=e.mb,f=e.nb+i*n,t((h=e.P+1+i*n)<=e.P+e.qc),0!=l.Z)for(t(null!=gi[l.Z]),u=0;u<a;++u)gi[l.Z](p,g,m,h,d,f,n),p=d,g=f,f+=n,h+=n;else for(u=0;u<a;++u)r(d,f,m,h,n),p=d,g=f,f+=n,h+=n;e.rc=p,e.Vc=g}else{if(t(null!=l.mc),n=i+a,t(null!=(u=l.mc)),t(n<=u.i),u.C>=n)n=1;else if(l.ic||vn(),l.ic){l=u.V,p=u.Ba;var b=u.i,y=(m=1,h=u.$/(g=u.c),d=u.$%g,f=u.m,A=u.s,u.$),w=g*b,_=g*n,C=A.wc,x=y<_?ye(A,d,h):null;t(y<=w),t(n<=b),t(ke(A));t:for(;;){for(;!f.h&&y<_;){if(d&C||(x=ye(A,d,h)),t(null!=x),S(f),256>(b=me(x.G[0],x.H[0],f)))l[p+y]=b,++y,++d>=g&&(d=0,++h<=n&&!(h%16)&&Se(u,h));else{if(!(280>b)){m=0;break t}b=ge(b-256,f);var E,I=me(x.G[4],x.H[4],f);if(S(f),!(y>=(I=ve(g,I=ge(I,f)))&&w-y>=b)){m=0;break t}for(E=0;E<b;++E)l[p+y+E]=l[p+y+E-I];for(y+=b,d+=b;d>=g;)d-=g,++h<=n&&!(h%16)&&Se(u,h);y<_&&d&C&&(x=ye(A,d,h))}t(f.h==k(f))}Se(u,h>n?n:h);break t}!m||f.h&&y<w?(m=0,u.a=f.h?5:3):u.$=y,n=m}else n=xe(u,u.V,u.Ba,u.c,u.i,n,Te);if(!n){a=0;break e}}i+a>=c&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function fn(e,t,n,r,i,o){for(;0<i--;){var a,s=e,c=t+(n?1:0),u=e,l=t+(n?0:3);for(a=0;a<r;++a){var h=u[l+4*a];255!=h&&(s[c+4*a+0]=s[c+4*a+0]*(h*=32897)>>23,s[c+4*a+1]=s[c+4*a+1]*h>>23,s[c+4*a+2]=s[c+4*a+2]*h>>23)}t+=o}}function An(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var a=e[t+2*o+0],s=15&(u=e[t+2*o+1]),c=4369*s,u=(240&u|u>>4)*c>>16;e[t+2*o+0]=(240&a|a>>4)*c>>16&240|(15&a|a<<4)*c>>16>>4&15,e[t+2*o+1]=240&u|s}t+=i}}function pn(e,t,n,r,i,o,a,s){var c,u,l=255;for(u=0;u<i;++u){for(c=0;c<r;++c){var h=e[t+c];o[a+4*c]=h,l&=h}t+=n,a+=s}return 255!=l}function gn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function vn(){kr=fn,Cr=An,Sr=pn,xr=gn}function mn(n,r,i){e[n]=function(e,n,o,a,s,c,u,l,h,d,f,A,p,g,v,m,b){var y,w=b-1>>1,_=s[c+0]|u[l+0]<<16,k=h[d+0]|f[A+0]<<16;t(null!=e);var C=3*_+k+131074>>2;for(r(e[n+0],255&C,C>>16,p,g),null!=o&&r(o[a+0],255&(C=3*k+_+131074>>2),C>>16,v,m),y=1;y<=w;++y){var S=s[c+y]|u[l+y]<<16,x=h[d+y]|f[A+y]<<16,E=_+S+k+x+524296,I=E+2*(S+k)>>3;C=I+_>>1,_=(E=E+2*(_+x)>>3)+S>>1,r(e[n+2*y-1],255&C,C>>16,p,g+(2*y-1)*i),r(e[n+2*y-0],255&_,_>>16,p,g+(2*y-0)*i),null!=o&&(_=I+x>>1,r(o[a+2*y-1],255&(C=E+k>>1),C>>16,v,m+(2*y-1)*i),r(o[a+2*y+0],255&_,_>>16,v,m+(2*y+0)*i)),_=S,k=x}1&b||(r(e[n+b-1],255&(C=3*_+k+131074>>2),C>>16,p,g+(b-1)*i),null!=o&&r(o[a+b-1],255&(C=3*k+_+131074>>2),C>>16,v,m+(b-1)*i))}}function bn(){vi[Nr]=mi,vi[Mr]=yi,vi[Lr]=bi,vi[Ur]=wi,vi[jr]=_i,vi[Qr]=ki,vi[Hr]=Ci,vi[Vr]=yi,vi[zr]=wi,vi[qr]=_i,vi[Kr]=ki}function yn(e){return e&~Di?0>e?0:255:e>>Bi}function wn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function _n(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function kn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function Cn(e,t,n,r,i){r[i+0]=wn(e,n),r[i+1]=_n(e,t,n),r[i+2]=kn(e,t)}function Sn(e,t,n,r,i){r[i+0]=kn(e,t),r[i+1]=_n(e,t,n),r[i+2]=wn(e,n)}function xn(e,t,n,r,i){var o=_n(e,t,n);t=o<<3&224|kn(e,t)>>3,r[i+0]=248&wn(e,n)|o>>5,r[i+1]=t}function En(e,t,n,r,i){var o=240&kn(e,t)|15;r[i+0]=240&wn(e,n)|_n(e,t,n)>>4,r[i+1]=o}function In(e,t,n,r,i){r[i+0]=255,Cn(e,t,n,r,i+1)}function Bn(e,t,n,r,i){Sn(e,t,n,r,i),r[i+3]=255}function Dn(e,t,n,r,i){Cn(e,t,n,r,i),r[i+3]=255}function qe(e,t){return 0>e?0:e>t?t:e}function Tn(t,n,r){e[t]=function(e,t,i,o,a,s,c,u,l){for(var h=u+(-2&l)*r;u!=h;)n(e[t+0],i[o+0],a[s+0],c,u),n(e[t+1],i[o+0],a[s+0],c,u+r),t+=2,++o,++s,u+=2*r;1&l&&n(e[t+0],i[o+0],a[s+0],c,u)}}function On(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Fn(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:sr(t,n,r,i);break;case 1:ur(t,n,r,i)}}function Rn(e,t){var n,o,a=t.M,s=t.Nb,c=e.oc,u=e.pc+40,l=e.oc,h=e.pc+584,d=e.oc,f=e.pc+600;for(n=0;16>n;++n)c[u+32*n-1]=129;for(n=0;8>n;++n)l[h+32*n-1]=129,d[f+32*n-1]=129;for(0<a?c[u-1-32]=l[h-1-32]=d[f-1-32]=129:(i(c,u-32-1,127,21),i(l,h-32-1,127,9),i(d,f-32-1,127,9)),o=0;o<e.za;++o){var A=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(c,u+32*n-4,c,u+32*n+12,4);for(n=-1;8>n;++n)r(l,h+32*n-4,l,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var p=e.Gd,g=e.Hd+o,v=A.ad,m=A.Hc;if(0<a&&(r(c,u-32,p[g].y,0,16),r(l,h-32,p[g].f,0,8),r(d,f-32,p[g].ea,0,8)),A.Za){var b=c,y=u-32+16;for(0<a&&(o>=e.za-1?i(b,y,p[g].y[15],4):r(b,y,p[g+1].y,0,4)),n=0;4>n;n++)b[y+128+n]=b[y+256+n]=b[y+384+n]=b[y+0+n];for(n=0;16>n;++n,m<<=2)di[A.Ob[n]](b=c,y=u+Li[n]),Fn(m,v,16*+n,b,y)}else if(b=On(o,a,A.Ob[0]),hi[b](c,u),0!=m)for(n=0;16>n;++n,m<<=2)Fn(m,v,16*+n,c,u+Li[n]);for(n=A.Gc,b=On(o,a,A.Dd),fi[b](l,h),fi[b](d,f),m=v,b=l,y=h,255&(A=n>>0)&&(170&A?cr(m,256,b,y):lr(m,256,b,y)),A=d,m=f,255&(n>>=8)&&(170&n?cr(v,320,A,m):lr(v,320,A,m)),a<e.Ub-1&&(r(p[g].y,0,c,u+480,16),r(p[g].f,0,l,h+224,8),r(p[g].ea,0,d,f+224,8)),p=e.sa,g=e.ta+16*o+16*s*e.R,v=e.qa,A=e.ra+8*o+(n=8*s*e.B),m=e.Ha,b=e.Ia+8*o+n,n=0;16>n;++n)r(p,g+n*e.R,c,u+32*n,16);for(n=0;8>n;++n)r(v,A+n*e.B,l,h+32*n,8),r(m,b+n*e.B,d,f+32*n,8)}}function Pn(e,r,i,o,a,s,c,u,l){var h=[0],d=[0],f=0,A=null!=l?l.kd:0,p=null!=l?l:new rn;if(null==e||12>i)return 7;p.data=e,p.w=r,p.ha=i,r=[r],i=[i],p.gb=[p.gb];e:{var g=r,m=i,b=p.gb;if(t(null!=e),t(null!=m),t(null!=b),b[0]=0,12<=m[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){b=3;break e}var y=O(e,g[0]+4);if(12>y||4294967286<y){b=3;break e}if(A&&y>m[0]-8){b=7;break e}b[0]=y,g[0]+=12,m[0]-=12}b=0}if(0!=b)return b;for(y=0<p.gb[0],i=i[0];;){e:{var _=e;m=r,b=i;var k=h,C=d,S=g=[0];if((I=f=[f])[0]=0,8>b[0])b=7;else{if(!n(_,m[0],"VP8X")){if(10!=O(_,m[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var x=O(_,m[0]+8),E=1+T(_,m[0]+12);if(2147483648<=E*(_=1+T(_,m[0]+15))){b=3;break e}null!=S&&(S[0]=x),null!=k&&(k[0]=E),null!=C&&(C[0]=_),m[0]+=18,b[0]-=18,I[0]=1}b=0}}if(f=f[0],0!=b)return b;if(m=!!(2&(g=g[0])),!y&&f)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=c&&(c[0]=m),null!=u&&(u[0]=0),c=h[0],g=d[0],f&&m&&null==l){b=0;break}if(4>i){b=7;break}if(y&&f||!y&&!f&&!n(e,r[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{b=r,y=i;var I=p.gb;k=p.na,C=p.P,S=p.Sa,E=22,t(null!=(x=e)),t(null!=y),_=b[0];var B=y[0];for(t(null!=k),t(null!=S),k[0]=null,C[0]=null,S[0]=0;;){if(b[0]=_,y[0]=B,8>B){b=7;break e}var D=O(x,_+4);if(4294967286<D){b=3;break e}var F=8+D+1&-2;if(E+=F,0<I&&E>I){b=3;break e}if(!n(x,_,"VP8 ")||!n(x,_,"VP8L")){b=0;break e}if(B[0]<F){b=7;break e}n(x,_,"ALPH")||(k[0]=x,C[0]=_+8,S[0]=D),_+=F,B-=F}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=b)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(I=e,b=r,y=i,k=p.gb[0],C=p.Ja,S=p.xa,x=b[0],_=!n(I,x,"VP8 "),E=!n(I,x,"VP8L"),t(null!=I),t(null!=y),t(null!=C),t(null!=S),8>y[0])b=7;else{if(_||E){if(I=O(I,x+4),12<=k&&I>k-12){b=3;break e}if(A&&I>y[0]-8){b=7;break e}C[0]=I,b[0]+=8,y[0]-=8,S[0]=E}else S[0]=5<=y[0]&&47==I[x+0]&&!(I[x+4]>>5),C[0]=y[0];b=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=b)break;if(4294967286<p.Ja)return 3;if(null==u||m||(u[0]=p.xa?2:1),c=[c],g=[g],p.xa){if(5>i){b=7;break}u=c,A=g,m=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(y=[0],I=[0],k=[0],v(C=new w,e,r,i),pe(C,y,I,k)?(null!=u&&(u[0]=y[0]),null!=A&&(A[0]=I[0]),null!=m&&(m[0]=k[0]),e=1):e=0):e=0}else{if(10>i){b=7;break}u=g,null==e||10>i||!Ye(e,r+3,i-3)?e=0:(A=e[r+0]|e[r+1]<<8|e[r+2]<<16,m=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&A||3<(A>>1&7)||!(A>>4&1)||A>>5>=p.Ja||!m||!e?e=0:(c&&(c[0]=m),u&&(u[0]=e),e=1))}if(!e)return 3;if(c=c[0],g=g[0],f&&(h[0]!=c||d[0]!=g))return 3;null!=l&&(l[0]=p,l.offset=r-l.w,t(4294967286>r-l.w),t(l.offset==l.ha-i));break}return 0==b||7==b&&f&&null==l?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=o&&(o[0]=c),null!=a&&(a[0]=g),0):b}function Nn(e,t,n){var r=t.width,i=t.height,o=0,a=0,s=r,c=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,c=e.bd,o=e.v,a=e.j,11>n||(o&=-2,a&=-2),0>o||0>a||0>=s||0>=c||o+s>r||a+c>i))return 0;if(t.v=o,t.j=a,t.va=o+s,t.o=a+c,t.U=s,t.T=c,t.da=null!=e&&0<e.da,t.da){if(!N(s,c,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Mn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else(t=e.f.kb).O+=((e=e.height)-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Ln(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,s=-2&n.v,c=-2&n.j;if(0>s||0>c||0>=i||0>=a||s+i>e||c+a>t)return 2;e=i,t=a}if(n.da){if(!N(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var u=r.width,l=r.height;if(e=r.S,0>=u||0>=l||!(e>=Nr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=a=i=t=0;var h=(c=u*Hi[e])*l;if(11>e||(a=(l+1)/2*(t=(u+1)/2),12==e&&(s=(i=u)*l)),null==(l=o(h+2*a+s))){e=1;break e}r.sd=l,11>e?((u=r.f.RGBA).eb=l,u.fb=0,u.A=c,u.size=h):((u=r.f.kb).y=l,u.O=0,u.fa=c,u.Fd=h,u.f=l,u.N=0+h,u.Ab=t,u.Cd=a,u.ea=l,u.W=0+h+a,u.Db=t,u.Ed=a,12==e&&(u.F=l,u.J=0+h+2*a),u.Tc=s,u.lb=i)}if(t=1,a=r.width,s=r.height,(i=r.S)>=Nr&&13>i)if(11>i)e=r.f.RGBA,t&=(c=Math.abs(e.A))*(s-1)+a<=e.size,t&=c>=a*Hi[i],t&=null!=e.eb;else{e=r.f.kb,c=(a+1)/2,h=(s+1)/2,u=Math.abs(e.fa),l=Math.abs(e.Ab);var d=Math.abs(e.Db),f=Math.abs(e.lb);t&=u*(s-1)+a<=e.Fd,t&=l*(h-1)+c<=e.Cd,t=(t&=d*(h-1)+c<=e.Ed)&u>=a&l>=c&d>=c,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=a,t&=f*(s-1)+a<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Mn(r)),e}var Un=64,jn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qn=24,Hn=32,Vn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];U("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return Q(Q(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return Q(e,t[n-1])},e.Predictor7=function(e,t,n){return Q(e,t[n+0])},e.Predictor8=function(e,t,n){return Q(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return Q(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return Q(Q(e,t[n-1]),Q(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=z(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+z(r>>16&255,e>>16&255,t>>16&255)+z(r>>8&255,e>>8&255,t>>8&255)+z(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=Q(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(e>>0&255,r>>0&255))>>>0};var qn=e.PredictorAdd0;e.PredictorAdd1=q,U("Predictor2","PredictorAdd2"),U("Predictor3","PredictorAdd3"),U("Predictor4","PredictorAdd4"),U("Predictor5","PredictorAdd5"),U("Predictor6","PredictorAdd6"),U("Predictor7","PredictorAdd7"),U("Predictor8","PredictorAdd8"),U("Predictor9","PredictorAdd9"),U("Predictor10","PredictorAdd10"),U("Predictor11","PredictorAdd11"),U("Predictor12","PredictorAdd12"),U("Predictor13","PredictorAdd13");var Kn=e.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Gn,Wn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Jn=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,Zn=e.VP8LPredictorsAdd=[];Zn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,er,tr,nr,rr,ir,or,ar,sr,cr,ur,lr,hr,dr,fr,Ar,pr,gr,vr,mr,br,yr,wr,_r,kr,Cr,Sr,xr,Er=o(511),Ir=o(2041),Br=o(225),Dr=o(767),Tr=0,Or=Ir,Fr=Br,Rr=Dr,Pr=Er,Nr=0,Mr=1,Lr=2,Ur=3,jr=4,Qr=5,Hr=6,Vr=7,zr=8,qr=9,Kr=10,Gr=[2,3,7],Wr=[3,3,11],Yr=[280,256,256,256,40],Jr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ci=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],li=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],di=[],fi=[],Ai=1,pi=2,gi=[],vi=[];mn("UpsampleRgbLinePair",Cn,3),mn("UpsampleBgrLinePair",Sn,3),mn("UpsampleRgbaLinePair",Dn,4),mn("UpsampleBgraLinePair",Bn,4),mn("UpsampleArgbLinePair",In,4),mn("UpsampleRgba4444LinePair",En,2),mn("UpsampleRgb565LinePair",xn,2);var mi=e.UpsampleRgbLinePair,bi=e.UpsampleBgrLinePair,yi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,_i=e.UpsampleArgbLinePair,ki=e.UpsampleRgba4444LinePair,Ci=e.UpsampleRgb565LinePair,Si=16,xi=1<<Si-1,Ei=-227,Ii=482,Bi=6,Di=(256<<Bi)-1,Ti=0,Oi=o(256),Fi=o(256),Ri=o(256),Pi=o(256),Ni=o(Ii-Ei),Mi=o(Ii-Ei);Tn("YuvToRgbRow",Cn,3),Tn("YuvToBgrRow",Sn,3),Tn("YuvToRgbaRow",Dn,4),Tn("YuvToBgraRow",Bn,4),Tn("YuvToArgbRow",In,4),Tn("YuvToRgba4444Row",En,2),Tn("YuvToRgb565Row",xn,2);var Li=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ui=[0,2,8],ji=[8,7,6,4,4,2,2,2,1,1,1,1],Qi=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var a=Mr,s=new nn,c=new ae;s.ba=c,c.S=a,c.width=[c.width],c.height=[c.height];var u=c.width,l=c.height,h=new se;if(null==h||null==e)var d=2;else t(null!=h),d=Pn(e,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=d?u=0:(null!=u&&(u[0]=h.width[0]),null!=l&&(l[0]=h.height[0]),u=1),u){c.width=c.width[0],c.height=c.height[0],null!=i&&(i[0]=c.width),null!=o&&(o[0]=c.height);e:{if(i=new Ke,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Pn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=fe,i.ac=de,i.bc=Ae,i.ma=s,o.xa){if(null==(e=Ie())){s=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,v(e.m,n.data,n.w,n.ha),!pe(e.m,r,i,o)){e.a=3;break t}if(e.xb=pi,n.width=r[0],n.height=i[0],!Be(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Ln(i.width,i.height,s.Oa,s.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Nn(o.Oa,r,Ur)){i.a=2;break n}if(!De(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!F(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!xe(i,i.V,i.Ba,i.c,i.i,r.o,_e))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){s=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Je(e,i)){if(0==(n=Ln(i.width,i.height,s.Oa,s.ba))){if(e.Aa=0,r=s.Oa,t(null!=(o=e)),null!=r){if(0<(u=0>(u=r.Md)?0:100<u?255:255*u/100)){for(l=h=0;4>l;++l)12>(d=o.pb[l]).lc&&(d.ia=u*ji[0>d.lc?0:d.lc]>>3),h|=d.ia;h&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}$e(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=Mn(s.ba))}s=n}a=0!=s?null:11>a?c.f.RGBA.eb:c.f.kb.y}else a=null;return a};var Hi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function l(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new c;var d=[0],f=[0],A=[],p=new c,g=e,v=function(e,t){var n={},r=0,i=!1,o=0,a=0;if(n.frames=[],!function(e,t,n,r){for(var i=0;i<4;i++)if(e[t+i]!="RIFF".charCodeAt(i))return!0;return!1}(e,t)){var s,c;for(h(e,t+=4),t+=8;t<e.length;){var d=u(e,t),f=h(e,t+=4);t+=4;var A=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?a:t-8,v.src_size=o+f+8,r++,i&&(i=!1,o=0,a=0);break;case"VP8X":(v=n.header={}).feature_flags=e[t];var p=t+4;v.canvas_width=1+l(e,p),v.canvas_height=1+l(e,p+=3),p+=3;break;case"ALPH":i=!0,o=A+8,a=t-8;break;case"ANIM":(v=n.header).bgcolor=h(e,t),v.loop_count=(s=e)[(c=p=t+4)+0]<<0|s[c+1]<<8,p+=2;break;case"ANMF":var g,v;(v=n.frames[r]={}).offset_x=2*l(e,t),v.offset_y=2*l(e,t+=3),v.width=1+l(e,t+=3),v.height=1+l(e,t+=3),v.duration=l(e,t+=3),t+=3,g=e[t++],v.dispose=1&g,v.blend=g>>1&1}"ANMF"!=d&&(t+=A)}return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var m=v.header?v.header:null,b=v.frames?v.frames:null;if(m){m.loop_counter=m.loop_count,d=[m.canvas_height],f=[m.canvas_width];for(var y=0;y<b.length&&0!=b[y].blend;y++);}var w=b[0],_=p.WebPDecodeRGBA(g,w.src_off,w.src_size,f,d);w.rgba=_,w.imgwidth=f[0],w.imgheight=d[0];for(var k=0;k<f[0]*d[0]*4;k++)A[k]=_[k];return this.width=f,this.height=d,this.data=A,this}!function(e){var t=function(t,r,c,u){var l=4,h=o;switch(u){case e.image_compression.FAST:l=1,h=i;break;case e.image_compression.MEDIUM:l=6,h=a;break;case e.image_compression.SLOW:l=9,h=s}var d=_H(t=n(t,r,c,h),{level:l});return e.__addimage__.arrayBufferToBinaryString(d)},n=function(e,t,n,r){for(var i,o,a,s=e.length/t,c=new Uint8Array(e.length+s),h=u(),d=0;d<s;d+=1){if(i=e.subarray(a=d*t,a+t),r)c.set(r(i,n,o),a+d);else{for(var f,A=h.length,p=[];f<A;f+=1)p[f]=h[f](i,n,o);var g=l(p.concat());c.set(p[g],a+d)}o=i}return c},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var n=[],r=e.length;n[0]=1;for(var i=0;i<r;i+=1)n[i+1]=e[i]-(e[i-t]||0)+256&255;return n},o=function(e,t,n){var r=[],i=e.length;r[0]=2;for(var o=0;o<i;o+=1)r[o+1]=e[o]-(n&&n[o]||0)+256&255;return r},a=function(e,t,n){var r=[],i=e.length;r[0]=3;for(var o=0;o<i;o+=1)r[o+1]=e[o]+256-((e[o-t]||0)+(n&&n[o]||0)>>>1)&255;return r},s=function(e,t,n){var r,i=[],o=e.length;i[0]=4;for(var a=0;a<o;a+=1)r=c(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0),i[a+1]=e[a]-r+256&255;return i},c=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},u=function(){return[r,i,o,a,s]},l=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,i,o){var a,s,c,u,l,h,d,f,A,p,g,v,m,b,y,w=this.decode.FLATE_DECODE,_="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(c=new fz(n)).imgData,s=c.bits,a=c.colorSpace,l=c.colors,-1!==[4,6].indexOf(c.colorType)){if(8===c.bits){A=(f=32==c.pixelBitlength?new Uint32Array(c.decodePixels().buffer):16==c.pixelBitlength?new Uint16Array(c.decodePixels().buffer):new Uint8Array(c.decodePixels().buffer)).length,g=new Uint8Array(A*c.colors),p=new Uint8Array(A);var k,C=c.pixelBitlength-c.bits;for(b=0,y=0;b<A;b++){for(m=f[b],k=0;k<C;)g[y++]=m>>>k&255,k+=c.bits;p[b]=m>>>k&255}}if(16===c.bits){A=(f=new Uint32Array(c.decodePixels().buffer)).length,g=new Uint8Array(A*(32/c.pixelBitlength)*c.colors),p=new Uint8Array(A*(32/c.pixelBitlength)),v=c.colors>1,b=0,y=0;for(var S=0;b<A;)m=f[b++],g[y++]=m>>>0&255,v&&(g[y++]=m>>>16&255,m=f[b++],g[y++]=m>>>0&255),p[S++]=m>>>16&255;s=8}o!==e.image_compression.NONE?(n=t(g,c.width*c.colors,c.colors,o),d=t(p,c.width,1,o)):(n=g,d=p,w=void 0)}if(3===c.colorType&&(a=this.color_spaces.INDEXED,h=c.palette,c.transparency.indexed)){var x=c.transparency.indexed,E=0;for(b=0,A=x.length;b<A;++b)E+=x[b];if((E/=255)==A-1&&-1!==x.indexOf(0))u=[x.indexOf(0)];else if(E!==A){for(f=c.decodePixels(),p=new Uint8Array(f.length),b=0,A=f.length;b<A;b++)p[b]=x[f[b]];d=t(p,c.width,1)}}var I=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(o);return w===this.decode.FLATE_DECODE&&(_="/Predictor "+I+" "),_+="/Colors "+l+" /BitsPerComponent "+s+" /Columns "+c.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:i,data:n,index:r,filter:w,decodeParameters:_,transparency:u,palette:h,sMask:d,predictor:I,width:c.width,height:c.height,bitsPerComponent:s,colorSpace:a}}}}(nV.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new Az(t),a=o.width,s=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:s},l=new gz(100).encode(u,100);return e.processJPEG.call(this,l,n,r,i)},e.processGIF87A=e.processGIF89A}(nV.API),vz.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vz.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[e]()}catch(e){SH.log("bit decode error:"+e)}},vz.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var c=this.palette[o>>7-s&1];this.data[a+4*s]=c.blue,this.data[a+4*s+1]=c.green,this.data[a+4*s+2]=c.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},vz.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=15&o,c=this.palette[o>>4];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;this.data[a+4]=(c=this.palette[s]).blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},vz.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},vz.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(o>>10&t)/t*255|0,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=e}},vz.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,c=(a>>5&n)/n*255|0,u=i*this.width*4+4*o;this.data[u]=(a>>11)/t*255|0,this.data[u+1]=c,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},vz.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},vz.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},vz.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new vz(t,!1),a=o.width,s=o.height,c={data:o.getData(),width:a,height:s},u=new gz(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(nV.API),mz.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new mz(t,!1),a=o.width,s=o.height,c={data:o.getData(),width:a,height:s},u=new gz(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(nV.API),nV.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,c=0,u=0;u<i;u+=4){var l=r[u+1],h=r[u+2],d=r[u+3];o[s++]=r[u],o[s++]=l,o[s++]=h,a[c++]=d}var f=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nV.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},uz=(cz=nV.API).getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,c=s.fof?s.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,l=u.fof?u.fof:1,h=!1!==t.doKerning,d=0,f=e.length,A=0,p=s[0]||c,g=[];for(n=0;n<f;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(d=h&&"object"===LQ()(u[r])&&!isNaN(parseInt(u[r][A],10))?u[r][A]/l:0,g.push((s[r]||p)/c+d)),A=r;return g},lz=cz.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return cz.processArabic&&(e=cz.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:uz.apply(this,arguments).reduce((function(e,t){return e+t}),0)},hz=function(e,t,n,r){for(var i=[],o=0,a=e.length,s=0;o!==a&&s+t[o]<n;)s+=t[o],o++;i.push(e.slice(0,o));var c=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(e.slice(c,o)),s=0,c=o),s+=t[o],o++;return c!==o&&i.push(e.slice(c,o)),i},dz=function(e,t,n){n||(n={});var r,i,o,a,s,c,u=[],l=[u],h=n.textIndent||0,d=0,f=0,A=e.split(" "),p=uz.apply(this,[" ",n])[0];if(c=-1===n.lineIndent?A[0].length+2:n.lineIndent||0){var g=Array(c).join(" "),v=[];A.map((function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):v.push(e[0])})),A=v,c=lz.apply(this,[g,n])}for(o=0,a=A.length;o<a;o++){var m=0;if(r=A[o],c&&"\n"==r[0]&&(r=r.substr(1),m=1),h+d+(f=(i=uz.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||m){if(f>t){for(s=hz.apply(this,[r,i,t-(h+d),t]),u.push(s.shift()),u=[s.pop()];s.length;)l.push([s.shift()]);f=i.slice(r.length-(u[0]?u[0].length:0)).reduce((function(e,t){return e+t}),0)}else u=[r];l.push(u),h=f+c,d=p}else u.push(r),h+=d+f,d=p}return l.map(c?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")})},cz.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,c,u=[];for(s=0,c=r.length;s<c;s++)u=u.concat(dz.apply(this,[r[s],a,o]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,i,s,c=["{"];for(var u in e){if(t=e[u],isNaN(parseInt(u,10))?n="'"+u+"'":(u=parseInt(u,10),n=(n=o(u).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),s="-"):(i=o(t).slice(2),s=""),i=s+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==LQ()(t))throw new Error("Don't know what to do with value type "+LQ()(t)+".");i=a(t)}c.push(n+i)}return c.push("}"),c.join("")},s=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,a={},s=1,c=a,u=[],l="",h="",d=e.length-1,f=1;f<d;f+=1)"'"==(o=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(u.push([c,i]),c={},i=void 0):"}"==o?((r=u.pop())[0][r[1]]=c,i=void 0,c=r[0]):"-"==o?s=-1:void 0===i?n.hasOwnProperty(o)?(l+=n[o],i=parseInt(l,16)*s,s=1,l=""):l+=o:n.hasOwnProperty(o)?(h+=n[o],c[i]=parseInt(h,16)*s,s=1,i=void 0,h=""):h+=o;return a},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},l={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=l.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(nV.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(BH(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(nV),function(e){function t(){return(kH.canvg?Promise.resolve(kH.canvg):n.e(5).then(n.bind(null,"DXPr"))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}nV.API.addSvgAsImage=function(e,n,r,i,o,a,s,c){if(isNaN(n)||isNaN(r))throw SH.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw SH.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then((function(t){return t.fromString(l,e,h)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(h)})).then((function(){d.addImage(u.toDataURL("image/jpeg",1),n,r,i,o,s,c)}))}}(),nV.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},nV.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),c=[],u=0,l=0,h=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=s.length;for(h=0;h<f;h+=1)n[s[h]].value=n[s[h]].defaultValue,n[s[h]].explicitSet=!1}if("object"===LQ()(e))for(i in e)if(o=e[i],d(s,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&d(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(u=0;u<o.length;u+=1)if(r=!0,1===o[u].length&&"number"==typeof o[u][0])c.push(String(o[u]-1));else if(o[u].length>1){for(l=0;l<o[u].length;l+=1)"number"!=typeof o[u][l]&&(r=!1);!0===r&&c.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&t.push("name"===n[e].type?"/"+e+" /"+n[e].value:"/"+e+" "+n[e].value);0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(nV.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;a<s;a++)t=n[a],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),null!=e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,c=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),u="",l=0;l<c.length;l++)u+=String.fromCharCode(c[l]);var h=o();a({data:u,addLength1:!0,objectId:h}),i("endobj");var d=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+JH(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var A=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+JH(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+JH(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+A+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,c="",u=0;u<s.length;u++)c+=String.fromCharCode(s[u]);var l=o();a({data:c,addLength1:!0,objectId:l}),i("endobj");var h=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+JH(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+JH(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,a=e.options||{},s=e.mutex||{},c=s.pdfEscape,u=s.activeFontKey,l=s.fonts,h=u,d="",f=0,A="",p=l[h].encoding;if("Identity-H"!==l[h].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(A=r,h=u,Array.isArray(r)&&(A=r[0]),f=0;f<A.length;f+=1)l[h].metadata.hasOwnProperty("cmap")&&(t=l[h].metadata.cmap.unicode.codeMap[A[f].charCodeAt(0)]),t||A[f].charCodeAt(0)<256&&l[h].metadata.hasOwnProperty("Unicode")?d+=A[f]:d+="";var g="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===p?g=c(d,h).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(g=n(d,l[h])),s.isHex=!0,{text:g,x:i,y:o,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(nV),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(nV.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,a,s,c,u=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var m=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?u[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=m(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,a,s){var c,u,l,h,d=t[s];switch(d){case"L":case"R":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":d="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(c=a[s-1])&&"AN"!==c||"EN"!==(u=t[s+1])&&"AN"!==u?d="N":g&&(u="AN"),d=u===c?u:"N";break;case"ES":d="EN"===(c=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){d="EN";break}if(g){d="N";break}for(l=s+1,h=t.length;l<h&&"ET"===t[l];)l++;d=l<h&&"EN"===t[l]?"EN":"N";break;case"NSM":if(i&&!o){for(h=t.length,l=s+1;l<h&&"NSM"===t[l];)l++;if(l<h){var f=e[s];if(c=t[l],(f>=1425&&f<=2303||64286===f)&&("R"===c||"AL"===c)){d="R";break}}}d=s<1||"B"===(c=t[s-1])?"N":a[s-1];break;case"B":g=!1,n=!0,d=v;break;case"S":r=!0,d="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"BN":d="N"}return d},w=function(e,t,n){var r=e.split("");return n&&_(r,n,{hiLevel:v}),r.reverse(),t&&t.reverse(),r.join("")},_=function(e,t,i){var o,a,s,c,u,f=-1,A=e.length,p=0,b=[],w=v?h:l,_=[];for(g=!1,n=!1,r=!1,a=0;a<A;a++)_[a]=m(e[a]);for(s=0;s<A;s++){if(u=p,b[s]=y(e,_,b,s),o=240&(p=w[u][d[b[s]]]),t[s]=c=w[p&=15][5],o>0)if(16===o){for(a=f;a<s;a++)t[a]=1;f=-1}else f=-1;if(w[p][6])-1===f&&(f=s);else if(f>-1){for(a=f;a<s;a++)t[a]=c;f=-1}"B"===_[s]&&(t[s]=0),i.hiLevel|=c}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=v;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=v}}(_,t,A)},k=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(r&&r.reverse());for(var a,s,c,u,l=t.length,h=0;h<l;){if(i[h]>=e){for(c=h+1;c<l&&i[c]>=e;)c++;for(u=h,s=c-1;u<s;u++,s--)a=t[u],t[u]=t[s],t[s]=a,r&&(a=r[u],r[u]=r[s],r[s]=a);h=c}h++}}},C=function(e,t,n){var r=e.split(""),i={hiLevel:v};return n||(n=[]),_(r,n,i),function(e,t,n){if(0!==n.hiLevel&&c)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=A.indexOf(e[i]))>=0&&(e[i]=A[r+1])}(r,n,i),k(2,r,t,n,i),k(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=b(e)),void 0===s&&(s=b(e))}(e,t),i||!a||s)if(i&&a&&o^s)v=o?1:0,e=w(e,t,n);else if(!i&&a&&s)v=o?1:0,e=C(e,t,n),e=w(e,t);else if(!i||o||a||s){if(i&&!a&&o^s)e=w(e,t),o?(v=0,e=C(e,t,n)):(v=1,e=C(e,t,n),e=w(e,t));else if(i&&o&&!a&&s)v=1,e=C(e,t,n),e=w(e,t);else if(!i&&!a&&o^s){var r=c;o?(v=1,e=C(e,t,n),v=0,c=!1,e=C(e,t,n),c=r):(v=0,e=C(e,t,n),e=w(e,t),v=1,c=!1,e=C(e,t,n),c=r,e=w(e,t))}}else v=0,e=C(e,t,n);else v=o?1:0,e=C(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,o=e.isInputRtl,s=e.isOutputRtl,c=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=e.options||{},i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(nV),nV.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new yz(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Uz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wz(this.contents),this.head=new Cz(this),this.name=new Tz(this),this.cmap=new xz(this),this.toUnicode={},this.hhea=new Ez(this),this.maxp=new Oz(this),this.hmtx=new Fz(this),this.post=new Bz(this),this.os2=new Iz(this),this.loca=new Lz(this),this.glyf=new Pz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var e,t,n,r;for(r=[],e=0,t=(n=this.bbox).length;e<t;e++)r.push(Math.round(n[e]*this.scaleFactor));return r}).call(this),this.stemV=0,this.post.exists?(t=255&(n=this.post.italic_angle),0!=(32768&(e=n>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+t)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},e}();var bz,yz=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r;for(r=[],t=0,n=e.length;t<n;t++)r.push(this.writeByte(e[t]));return r},e}(),wz=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,a,s,c,u,l,h,d,f;for(f in h=Object.keys(t).length,a=Math.log(2),u=16*Math.floor(Math.log(h)/a),i=Math.floor(u/a),c=16*h-u,(r=new yz).writeInt(this.scalarType),r.writeShort(h),r.writeShort(u),r.writeShort(i),r.writeShort(c),s=r.pos+16*h,o=null,d=[],t)for(l=t[f],r.writeString(f),r.writeInt(e(l)),r.writeInt(s),r.writeInt(l.length),d=d.concat(l),"head"===f&&(o=s),s+=l.length;s%4;)d.push(0),s++;return r.write(d),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=Rz.call(e);e.length%4;)e.push(0);for(r=new yz(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),_z={}.hasOwnProperty,kz=function(e,t){for(var n in t)_z.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};bz=function(){function e(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Cz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new yz).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),Sz=function(){function e(e,t){var n,r,i,o,a,s,c,u,l,h,d,f,A,p,g,v,m;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),l=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,A=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),u=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,m=i.length;g<m;s=++g)for(p=i[s],n=v=f=A[s];f<=p?v<=p:v>=p;n=f<=p?++v:--v)0===u[s]?o=n+c[s]:0!==(o=a[u[s]/2+(n-f)-(h-s)]||0)&&(o+=c[s]),this.codeMap[n]=65535&o}e.pos=l}return e.encode=function(e,t){var n,r,i,o,a,s,c,u,l,h,d,f,A,p,g,v,m,b,y,w,_,k,C,S,x,E,I,B,D,T,O,F,R,P,N,M,L,U,j,Q,H,V,z,q,K;switch(I=new yz,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(A=0,p=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),v={0:0},i={},B=0,F=o.length;B<F;B++)null==v[V=e[r=o[B]]]&&(v[V]=++A),i[r]={old:e[r],new:v[e[r]]},p[r]=v[e[r]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(p),{charMap:i,subtable:I.data,maxGlyphID:A+1};case"unicode":for(x=[],l=[],m=0,v={},n={},g=c=null,D=0,R=o.length;D<R;D++)null==v[b=e[r=o[D]]]&&(v[b]=++m),n[r]={old:b,new:v[b]},a=v[b]-r,null!=g&&a===c||(g&&l.push(g),x.push(r),c=a),g=r;for(g&&l.push(g),l.push(65535),x.push(65535),C=2*(k=x.length),_=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,w=2*k-_,s=[],y=[],d=[],f=T=0,P=x.length;T<P;f=++T){if(u=l[f],65535===(S=x[f])){s.push(0),y.push(0);break}if(S-(E=n[S].new)>=32768)for(s.push(0),y.push(2*(d.length+k-f)),r=O=S;S<=u?O<=u:O>=u;r=S<=u?++O:--O)d.push(n[r].new);else s.push(E-S),y.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*k+2*d.length),I.writeUInt16(0),I.writeUInt16(C),I.writeUInt16(_),I.writeUInt16(h),I.writeUInt16(w),Q=0,N=l.length;Q<N;Q++)I.writeUInt16(r=l[Q]);for(I.writeUInt16(0),H=0,M=x.length;H<M;H++)I.writeUInt16(r=x[H]);for(z=0,L=s.length;z<L;z++)I.writeUInt16(a=s[z]);for(q=0,U=y.length;q<U;q++)I.writeUInt16(y[q]);for(K=0,j=d.length;K<j;K++)I.writeUInt16(A=d[K]);return{charMap:n,subtable:I.data,maxGlyphID:m+1}}},e}(),xz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Sz(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Sz.encode(e,t),(r=new yz).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),Ez=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Iz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Bz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=(function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}).call(this)}},t}(),Dz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Tz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,r,i,o,a,s,c,u,l,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},i=u=0,l=n.length;u<l;i=++u)e.pos=(r=n[i]).offset,c=e.readString(r.length),o=new Dz(c,r),null==s[h=r.nameID]&&(s[h]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},t}(),Oz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Fz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,r,i,o,a;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=(function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)r.push(n[e].advance);return r}).call(this),n=this.widths[this.widths.length-1],a=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)a.push(this.widths.push(n));return a},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Rz=[].slice,Pz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,r,i,o,a,s,c,u,l;return e in this.cache?this.cache[e]:(t=this.file.contents,n=(i=this.file.loca).indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(a=new yz(t.read(r))).readShort(),c=a.readShort(),l=a.readShort(),s=a.readShort(),u=a.readShort(),this.cache[e]=-1===o?new Mz(a,c,l,s,u):new Nz(a,o,c,l,s,u),this.cache[e]))},t.prototype.encode=function(e,t,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=t.length;a<s;a++)r=e[t[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),Nz=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Mz=function(){function e(e,t,n,r,i){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new yz(Rz.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Lz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kz(t,bz),t.prototype.tag="loca",t.prototype.parse=function(e){var t;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var n,r;for(r=[],t=0,n=this.length;t<n;t+=2)r.push(2*e.readUInt16());return r}).call(this):(function(){var n,r;for(r=[],t=0,n=this.length;t<n;t+=4)r.push(e.readUInt32());return r}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var a=this.offsets[o+1]-this.offsets[o];a>0&&(r+=a)}for(var s=new Array(4*n.length),c=0;c<n.length;++c)s[4*c+3]=255&n[c],s[4*c+2]=(65280&n[c])>>8,s[4*c+1]=(16711680&n[c])>>16,s[4*c]=(4278190080&n[c])>>24;return s},t}(),Uz=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r;for(t in n=this.font.cmap.tables[0].codeMap,e={},r=this.subset)e[t]=n[r[t]];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,a,s;for(r={},o=0,a=e.length;o<a;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))r[i]=n=s[i];return r},e.prototype.encode=function(e,t){var n,r,i,o,a,s,c,u,l,h,d,f,A,p;for(r in n=xz.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},p=n.charMap)h[(a=p[r]).old]=a.new;for(d in l=n.maxGlyphID,o)d in h||(h[d]=l++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),u=Object.keys(c).sort((function(e,t){return e-t})),f=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)n.push(c[u[e]]);return n}(),i=this.font.glyf.encode(o,f,h),s=this.font.loca.encode(i.offsets,f),A={cmap:this.font.cmap.raw(),glyf:i.table,loca:s,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();function jz(e,t){if(1&e&&(r.Sb(0,"tr",102),r.Sb(1,"td"),r.xc(2),r.Rb(),r.Sb(3,"td",72),r.xc(4,"1"),r.Rb(),r.Sb(5,"td",73),r.xc(6),r.dc(7,"number"),r.Sb(8,"sup"),r.Ob(9,"i",76),r.Rb(),r.Rb(),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.yc(n.productName),r.Ab(4),r.zc(" ",r.ec(7,2,n.productPrice),"")}}function Qz(e,t){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td"),r.Sb(2,"strong"),r.xc(3,"T\u1ed5ng"),r.Rb(),r.Rb(),r.Sb(4,"td",72),r.xc(5),r.Rb(),r.Sb(6,"td",73),r.Sb(7,"strong"),r.xc(8),r.dc(9,"number"),r.Sb(10,"sup"),r.Ob(11,"i",76),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(5),r.yc(n.paymentList.length),r.Ab(3),r.zc(" ",r.ec(9,2,n.paymentBill),"")}}function Hz(e,t){if(1&e&&(r.Sb(0,"tr",102),r.Sb(1,"td"),r.xc(2),r.Rb(),r.Sb(3,"td",72),r.xc(4,"1"),r.Rb(),r.Sb(5,"td",73),r.xc(6),r.dc(7,"number"),r.Sb(8,"sup"),r.Ob(9,"i",76),r.Rb(),r.Rb(),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.yc(n.productName),r.Ab(4),r.zc(" ",r.ec(7,2,n.productPrice),"")}}function Vz(e,t){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td"),r.Sb(2,"strong"),r.xc(3,"T\u1ed5ng"),r.Rb(),r.Rb(),r.Sb(4,"td",72),r.xc(5),r.Rb(),r.Sb(6,"td",73),r.Sb(7,"strong"),r.xc(8),r.dc(9,"number"),r.Sb(10,"sup"),r.Ob(11,"i",76),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){var n=r.cc();r.Ab(5),r.yc(n.paymentList.length),r.Ab(3),r.zc(" ",r.ec(9,2,n.paymentBill),"")}}nV.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i;if(Array.isArray(n))return"["+function(){var e,r,i;for(i=[],e=0,r=n.length;e<r;e++)i.push(t.convert(n[e]));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(r in i=["<<"],n)i.push("/"+r+" "+t.convert(n[r]));return i.push(">>"),i.join("\n")}return""+n},t}();var zz,qz=((zz=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._paymentService=t,this._formBuilder=n,this._router=r,this._toast=i,this._activateRoute=o,this.payments=[],this.display="",this.isShown=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this._toast.setTitle("H\xf3a \u0111\u01a1n"),this.idList=this._paymentService.getIdList(),this.findPaymentList()}},{key:"findPaymentList",value:function(){var e=this;this._paymentService.findPaymentList(this.idList).subscribe((function(t){e.paymentList=t,e.paymentBill=49e3;for(var n=0;n<t.length;n++)e.paymentBill+=+t[n].productPrice;e.paypal=(e.paymentBill/23725e3).toFixed(2),console.log(e.paypal)}),(function(t){e._paymentService.showErrorMessage("Kh\xf4ng th\u1ec3 l\u1ea5y danh s\xe1ch")}))}},{key:"renderPayPalBtn",value:function(){var e,t=this;document.getElementById("paypalBtn").innerHTML='<div id="paypalButtons" style="margin-left: 300px"></div>',e={id:"#paypalButtons",value:this.paypal.valueOf(),currency:"USD",onApprove:function(e){t._paymentService.showSuccessMessage("Thanh to\xe1n th\xe0nh c\xf4ng"),t.display="none",t.goToPay2(),t.successPayment()}},paypal.Buttons({createOrder:function(t,n){return n.order.create({purchase_units:[{amount:{value:e.value}}]})},onApprove:function(t,n){return n.order.capture().then((function(t){e.onApprove(t)}))}}).render(e.id)}},{key:"convertToPDF",value:function(){NQ()(document.getElementById("content")).then((function(e){console.log(e);var t=e.toDataURL("image/png"),n=new nV("p","mm","a4"),r=n.internal.pageSize.getWidth();n.addImage(t,"JPG",0,0,r,e.height*r/e.width),n.save("H\xf3a \u0111\u01a1n.pdf")}))}},{key:"goToPay",value:function(){var e=this;document.querySelector(".pills-profile-tab").click();var t,n=_createForOfIteratorHelper(this.paymentList);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.payments.push({id:r.id,shippingDescription:this.description})}}catch(i){n.e(i)}finally{n.f()}this._paymentService.updateShipDescription(this.payments).subscribe((function(t){e._paymentService.showSuccessMessage("L\u01b0u m\xf4 t\u1ea3 v\u1eadn chuy\u1ec3n th\xe0nh c\xf4ng")}),(function(t){e._paymentService.showErrorMessage("L\u01b0u m\xf4 t\u1ea3 v\u1eadn chuy\u1ec3n th\u1ea5t b\u1ea1i")})),this.renderPayPalBtn()}},{key:"successPayment",value:function(){var e,t=this,n=_createForOfIteratorHelper(this.paymentList);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.payments.push({id:r.id})}}catch(i){n.e(i)}finally{n.f()}this._paymentService.updatePaymentStatus(this.payments).subscribe((function(e){}),(function(e){t._paymentService.showErrorMessage("Giao d\u1ecbch th\u1ea5t b\u1ea1i")}))}},{key:"goToPay2",value:function(){document.querySelector(".pills-contact-tab").click()}},{key:"changeDisplay",value:function(){this.isShown=!1}},{key:"changeDisplay1",value:function(){this.isShown=!0}}]),e}()).\u0275fac=function(e){return new(e||zz)(r.Nb(zj),r.Nb(Mc),r.Nb(so),r.Nb(Ft),r.Nb(Xr))},zz.\u0275cmp=r.Hb({type:zz,selectors:[["app-payment-receipt"]],decls:403,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-lg-9","col-md-12","col-sm-12","pe-3"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3","col-12",2,"pointer-events","none"],["role","presentation",1,"nav-item","bg-muted","col-lg-4","col-md-12","col-sm-12","col-xs-12"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active",2,"width","100%"],["role","presentation",1,"nav-item","col-lg-4","col-md-12","col-sm-12","col-xs-12"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link","pills-profile-tab",2,"width","100%"],["id","pills-contact-tab","data-bs-toggle","pill","data-bs-target","#pills-contact","type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link","pills-contact-tab",2,"width","100%"],["id","pills-tabContent",1,"tab-content","pe-0"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab","tabindex","0",1,"tab-pane","show","active","fade","mb-3","ps-3"],[1,"col-lg-6"],[1,"input-group","form-floating","mb-3","ps-0"],["type","text","disabled","","id","ten",1,"form-control",3,"value"],["for","ten"],[2,"color","red"],[1,"input-group-text"],[1,"fa-solid","fa-user"],[1,"input-group","form-floating","mb-3"],["type","text","disabled","","id","ho","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","ho"],["type","text","disabled","","id","floatingPhone","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","floatingPhone"],[1,"fa-solid","fa-phone-flip"],["type","email","id","mail","placeholder","name@example.com","aria-label","name@example.com","disabled","","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","mail"],["id","basic-addon6",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","disabled","","id","quocgia","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","quocgia"],["id","basic-addon0",1,"input-group-text"],[1,"fa-solid","fa-earth-africa"],["type","text","disabled","","id","thanhpho","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","thanhpho"],[1,"fa-solid","fa-location-dot"],["type","text","id","quanhuyen","placeholder","name@example.com","aria-label","name@example.com","disabled","","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","quanhuyen"],["type","text","id","phuongxa","placeholder","name@example.com","aria-label","name@example.com","disabled","","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","phuongxa"],[1,"col-lg-12"],["type","text","id","floatingAddress","placeholder","name@example.com","aria-label","name@example.com","disabled","","aria-describedby","basic-addon2",1,"form-control",3,"value"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"col-lg-6","mb-2"],[1,"form-check"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1","checked","",1,"form-check-input",3,"click"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","flexRadioDefault","id","flexRadioDefault2",1,"form-check-input",3,"click"],["for","flexRadioDefault2",1,"form-check-label"],[1,"row",3,"hidden"],["id","huongdan2","aria-describedby","basic-addon2",1,"form-control",2,"height","150px",3,"ngModel","ngModelChange"],["for","huongdan2"],["id","basic-addon2",1,"input-group-text"],[1,"fa-solid","fa-comment"],[1,"row",2,"display","flex","justify-content","center","align-items","center"],[1,"col-3","pe-3"],["type","button",1,"btn","btn-primary",2,"background-color","#d53422","border-color","#d53422",3,"click"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab","tabindex","0",1,"tab-pane","fade","mb-3"],[1,"col-12","mb-3"],["src","https://toplist.vn/images/800px/3-shipantoan-117725.jpg","width","100%"],[1,"col-12"],["type","radio","checked",""],["id","paypalBtn",1,"col-lg-4"],["id","pills-contact","role","tabpanel","aria-labelledby","pills-contact-tab","tabindex","0",1,"tab-pane","fade","mb-3"],["id","content",1,"container-fluid","mb-3"],[1,"col-12","mt-3",2,"text-align","center"],[1,"col-6","mt-2",2,"border","1px dotted #250303","text-align","center"],[1,"col-6",2,"border","1px dotted #250303"],[1,"col-12",2,"text-align","center","border","1px dotted #250303"],[1,"col-12",2,"border","1px dotted #250303"],[1,"table","mt-3","mb-3","ms-0"],[1,"mt-3","mb-3","ms-0"],[2,"text-align","center"],[2,"text-align","right"],["class","mt-3 mb-3",4,"ngFor","ngForOf"],["colspan","2"],[1,"fa-solid","fa-dong-sign"],[4,"ngIf"],[1,"fa-brands","fa-facebook"],[1,"col-lg-12",2,"border","1px dotted #250303"],[1,"mt-2","mb-2"],[1,"col-8",2,"border","1px dotted #250303"],[1,"col-4",2,"border","1px dotted #250303"],[1,"mt-3","ps-3","p-0","mb-3"],[1,"mt-3","ps-3","pe-3","p-0","mb-3"],["href","#"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",2,"background-color","#d53422","border-color","#d53422","width","150px"],[1,"col-lg-3","col-md-12","col-sm-12","mt-5"],[1,"card","mb-3","px-0",2,"border-color","#fa6132"],[1,"card-body","text-light"],[1,"card-title"],[1,"card-text"],[1,"card-footer","bg-light",2,"color","#fa6132"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","modal-lg","fade"],[1,"modal-dialog"],[1,"modal-content",2,"border-color","#fff"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5",2,"margin-left","200px"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",2,"background-color","#d53422","border-color","#d53422",3,"click"],[1,"mt-3","mb-3"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"h2"),r.xc(4,"Thanh to\xe1n"),r.Rb(),r.Sb(5,"ul",3),r.Sb(6,"li",4),r.Sb(7,"button",5),r.xc(8,"1 \u0110\u1ecba ch\u1ec9 thanh to\xe1n "),r.Rb(),r.Rb(),r.Sb(9,"li",6),r.Sb(10,"button",7),r.xc(11,"2 H\xecnh th\u1ee9c thanh to\xe1n "),r.Rb(),r.Rb(),r.Sb(12,"li",6),r.Sb(13,"button",8),r.xc(14," 3 T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng "),r.Rb(),r.Rb(),r.Rb(),r.Sb(15,"div",9),r.Sb(16,"div",10),r.Sb(17,"div",1),r.Sb(18,"div",1),r.Sb(19,"div",11),r.Sb(20,"div",12),r.Ob(21,"input",13),r.Sb(22,"label",14),r.Sb(23,"span",15),r.xc(24," * "),r.Rb(),r.xc(25,"H\u1ecd"),r.Rb(),r.Sb(26,"span",16),r.Ob(27,"i",17),r.Rb(),r.Rb(),r.Rb(),r.Sb(28,"div",11),r.Sb(29,"div",18),r.Ob(30,"input",19),r.Sb(31,"label",20),r.Sb(32,"span",15),r.xc(33," * "),r.Rb(),r.xc(34,"T\xean"),r.Rb(),r.Sb(35,"span",16),r.Ob(36,"i",17),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(37,"div",1),r.Sb(38,"div",11),r.Sb(39,"div",18),r.Ob(40,"input",21),r.Sb(41,"label",22),r.Sb(42,"span",15),r.xc(43," * "),r.Rb(),r.xc(44,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Rb(),r.Sb(45,"span",16),r.Ob(46,"i",23),r.Rb(),r.Rb(),r.Rb(),r.Sb(47,"div",11),r.Sb(48,"div",18),r.Ob(49,"input",24),r.Sb(50,"label",25),r.Sb(51,"span",15),r.xc(52," * "),r.Rb(),r.xc(53,"Email"),r.Rb(),r.Sb(54,"span",26),r.Ob(55,"i",27),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(56,"div",1),r.Sb(57,"div",11),r.Sb(58,"div",18),r.Ob(59,"input",28),r.Sb(60,"label",29),r.Sb(61,"span",15),r.xc(62," * "),r.Rb(),r.xc(63,"Qu\u1ed1c Gia"),r.Rb(),r.Sb(64,"span",30),r.Ob(65,"i",31),r.Rb(),r.Rb(),r.Rb(),r.Sb(66,"div",11),r.Sb(67,"div",18),r.Ob(68,"input",32),r.Sb(69,"label",33),r.Sb(70,"span",15),r.xc(71," * "),r.Rb(),r.xc(72,"Th\xe0nh Ph\u1ed1/T\u1ec9nh"),r.Rb(),r.Sb(73,"span",16),r.Ob(74,"i",34),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(75,"div",1),r.Sb(76,"div",11),r.Sb(77,"div",18),r.Ob(78,"input",35),r.Sb(79,"label",36),r.Sb(80,"span",15),r.xc(81," * "),r.Rb(),r.xc(82,"Qu\u1eadn/Huy\u1ec7n"),r.Rb(),r.Sb(83,"span",16),r.Ob(84,"i",34),r.Rb(),r.Rb(),r.Rb(),r.Sb(85,"div",11),r.Sb(86,"div",18),r.Ob(87,"input",37),r.Sb(88,"label",38),r.Sb(89,"span",15),r.xc(90," * "),r.Rb(),r.xc(91,"Ph\u01b0\u1eddng /X\xe3"),r.Rb(),r.Sb(92,"span",16),r.Ob(93,"i",34),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(94,"div",1),r.Sb(95,"div",39),r.Sb(96,"div",18),r.Ob(97,"input",40),r.Sb(98,"label",41),r.Sb(99,"span",15),r.xc(100," * "),r.Rb(),r.xc(101,"\u0110\u1ecba Ch\u1ec9"),r.Rb(),r.Sb(102,"span",42),r.Ob(103,"i",34),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(104,"div",1),r.Sb(105,"div",43),r.Sb(106,"div",44),r.Sb(107,"input",45),r.ac("click",(function(){return t.changeDisplay1()})),r.Rb(),r.Sb(108,"label",46),r.xc(109," \u0110\u1ecba ch\u1ec9 giao h\xe0ng c\u0169ng l\xe0 \u0111\u1ecba ch\u1ec9 c\u1ee7a t\xf4i "),r.Rb(),r.Rb(),r.Rb(),r.Sb(110,"div",43),r.Sb(111,"div",44),r.Sb(112,"input",47),r.ac("click",(function(){return t.changeDisplay()})),r.Rb(),r.Sb(113,"label",48),r.xc(114," Th\xeam \u0111\u1ecba ch\u1ec9 giao h\xe0ng m\u1edbi "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(115,"div",49),r.Sb(116,"div",39),r.Sb(117,"div",18),r.Sb(118,"textarea",50),r.ac("ngModelChange",(function(e){return t.description=e})),r.Rb(),r.Sb(119,"label",51),r.xc(120,"- H\u1ecd v\xe0 t\xean ng\u01b0\u1eddi nh\u1eadn h\xe0ng "),r.Ob(121,"br"),r.xc(122,"- Th\xf4ng tin ng\u01b0\u1eddi nh\u1eadn thay (n\u1ebfu c\xf3) "),r.Ob(123,"br"),r.xc(124,"- Th\xf4ng tin \u0111\u1ecba ch\u1ec9 giao h\xe0ng c\u1ee5 th\u1ec3 "),r.Ob(125,"br"),r.xc(126,"- S\u1ed1 \u0111i\u1ec7n tho\u1ea1i li\xean l\u1ea1c "),r.Ob(127,"br"),r.xc(128," - H\u01b0\u1edbng d\u1eabn giao h\xe0ng"),r.Rb(),r.Sb(129,"span",52),r.Ob(130,"i",53),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(131,"div",54),r.Sb(132,"div",55),r.Sb(133,"a",56),r.ac("click",(function(){return t.goToPay()})),r.xc(134," Ti\u1ebfp theo "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(135,"div",57),r.Sb(136,"div",1),r.Sb(137,"div",11),r.Sb(138,"div",1),r.Sb(139,"div",58),r.Ob(140,"img",59),r.Rb(),r.Sb(141,"div",60),r.Sb(142,"h6"),r.Ob(143,"input",61),r.xc(144," H\xecnh th\u1ee9c giao h\xe0ng t\u1eadn nh\xe0"),r.Rb(),r.Rb(),r.Rb(),r.Sb(145,"div",1),r.Sb(146,"div",39),r.Sb(147,"h6"),r.Sb(148,"span",15),r.xc(149,"*"),r.Rb(),r.xc(150," M\u1eddi b\u1ea1n ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n"),r.Rb(),r.Rb(),r.Rb(),r.Sb(151,"div",1),r.Ob(152,"div",62),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(153,"div",63),r.Sb(154,"div",64),r.Sb(155,"div",1),r.Sb(156,"div",1),r.Sb(157,"div",65),r.Sb(158,"h1"),r.xc(159,"H\xd3A \u0110\u01a0N"),r.Rb(),r.Rb(),r.Rb(),r.Sb(160,"div",1),r.Sb(161,"div",66),r.Sb(162,"p"),r.xc(163),r.Rb(),r.Rb(),r.Sb(164,"div",66),r.Sb(165,"p"),r.xc(166),r.Rb(),r.Rb(),r.Rb(),r.Sb(167,"div",1),r.Sb(168,"div",67),r.Sb(169,"strong"),r.xc(170,"T\u1eeb: "),r.Rb(),r.Ob(171,"br"),r.xc(172," \u0110\u1ea5u gi\xe1 C06 Company "),r.Ob(173,"br"),r.xc(174," 280 Tr\u1ea7n H\u01b0ng \u0110\u1ea1o, H\u1ea3i Ch\xe2u, TP. \u0110\xe0 N\u1eb5ng. "),r.Rb(),r.Sb(175,"div",67),r.Sb(176,"strong"),r.xc(177,"\u0110\u1ebfn: "),r.Rb(),r.Ob(178,"br"),r.xc(179),r.Ob(180,"br"),r.xc(181),r.Rb(),r.Rb(),r.Sb(182,"div",1),r.Sb(183,"div",68),r.Sb(184,"h2"),r.xc(185),r.Rb(),r.Rb(),r.Rb(),r.Sb(186,"div",1),r.Sb(187,"div",69),r.Sb(188,"table",70),r.Sb(189,"thead"),r.Sb(190,"tr",71),r.Sb(191,"th"),r.xc(192,"S\u1ea3n ph\u1ea9m"),r.Rb(),r.Sb(193,"th",72),r.xc(194,"S\u1ed1 l\u01b0\u1ee3ng"),r.Rb(),r.Sb(195,"th",73),r.xc(196,"Gi\xe1/ T\u1eebng ph\u1ea7n"),r.Rb(),r.Rb(),r.Rb(),r.Sb(197,"tbody"),r.vc(198,jz,10,4,"tr",74),r.Sb(199,"tr"),r.Sb(200,"td",75),r.xc(201,"Giao h\xe0ng"),r.Rb(),r.Sb(202,"td",73),r.xc(203,"49,000"),r.Sb(204,"sup"),r.Ob(205,"i",76),r.Rb(),r.Rb(),r.Rb(),r.vc(206,Qz,12,4,"tr",77),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(207,"div",1),r.Sb(208,"div",69),r.Sb(209,"p"),r.xc(210),r.Rb(),r.Sb(211,"p"),r.Ob(212,"i",27),r.xc(213," Email: support@codegym.com | "),r.Ob(214,"i",78),r.xc(215," Facebook"),r.Rb(),r.Rb(),r.Rb(),r.Sb(216,"div",1),r.Sb(217,"div",79),r.Sb(218,"div",80),r.Sb(219,"strong"),r.xc(220,"Ki\u1ec3m tra t\xean s\u1ea3n ph\u1ea9m v\xe0 \u0111\u1ed1i chi\u1ebfu M\xe3 v\u1eadn \u0111\u01a1n/ M\xe3 \u0111\u01a1n h\xe0ng tr\xean \u1ee9ng d\u1ee5ng Auction Web tr\u01b0\u1edbc khi nh\u1eadn h\xe0ng (L\u01b0u \xfd: M\u1ed9t s\u1ed1 s\u1ea3n ph\u1ea9m c\xf3 th\u1ec3 b\u1ecb \u1ea9n do danh s\xe1ch qu\xe1 d\xe0i)"),r.Rb(),r.Rb(),r.Sb(221,"div",80),r.xc(222,'\u0110\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c x\u1eed l\xfd \u0111\u01a1n h\xe0ng nhanh nh\u1ea5t vui l\xf2ng \u0111i\u1ec1n s\u1ed1 h\xf3a \u0111\u01a1n ho\u1eb7c t\xe0i kho\u1ea3n trong m\u1ee5c "reference" khi chuy\u1ec3n kho\u1ea3n ho\u1eb7c c\xf3 th\u1ec3 li\xean h\u1ec7 qua hotline 090.999.999 '),r.Rb(),r.Rb(),r.Rb(),r.Sb(223,"div",1),r.Sb(224,"div",81),r.xc(225," - \u0110\u01a1n h\xe0ng \u0111\xe3 \u0111\u01b0\u1ee3c thanh to\xe1n th\xf4ng qua PAYPAL "),r.Ob(226,"br"),r.xc(227,"- \u0110\u01a1n v\u1ecb v\u1eadn chuy\u1ec3n ECONOMY DELIVERY "),r.Ob(228,"br"),r.xc(229),r.Ob(230,"br"),r.xc(231,"- Ch\u1ec9 \u0111\u1ecbnh giao h\xe0ng: Kh\xf4ng \u0111\u1ed3ng ki\u1ec3m. Chuy\u1ec3n ho\xe0n sau 3 l\u1ea7n ph\xe1t. L\u01b0u kho t\u1ed1i \u0111a 5 ng\xe0y "),r.Rb(),r.Sb(232,"div",82),r.xc(233," Kh\u1ed1i l\u01b0\u1ee3ng t\u1ed1i \u0111a: 810 g "),r.Ob(234,"br"),r.Sb(235,"strong"),r.xc(236,"Ch\u1eef k\xfd ng\u01b0\u1eddi nh\u1eadn"),r.Rb(),r.Ob(237,"br"),r.xc(238,"(X\xe1c nh\u1eadn h\xe0ng nguyeen v\u1eb9n, kh\xf4ng m\xf3p/m\xe9o, b\u1ec3/v\u1ee1) "),r.Rb(),r.Rb(),r.Sb(239,"div",1),r.Sb(240,"div",67),r.Sb(241,"div",83),r.Sb(242,"h6"),r.xc(243,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),r.Rb(),r.Sb(244,"p"),r.xc(245,"Thanh to\xe1n chuy\u1ec3n t\u1edbi: Asia Commerical Bank"),r.Rb(),r.Sb(246,"p"),r.xc(247,"S\u1ed1 t\xe0i kho\u1ea3n: 244972449"),r.Rb(),r.Rb(),r.Rb(),r.Sb(248,"div",67),r.Sb(249,"div",84),r.Sb(250,"h6"),r.xc(251,"Th\xf4ng tin kh\xe1c"),r.Rb(),r.Sb(252,"p"),r.xc(253,"Gi\u1ea5y ph\xe9p DKKD s\u1ed1: 2090130"),r.Rb(),r.Sb(254,"p"),r.xc(255,"H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng: 090.999.999"),r.Rb(),r.Sb(256,"p"),r.xc(257,"Li\xean h\u1ec7 ph\xf2ng kinh doanh: "),r.Sb(258,"a",85),r.xc(259,"support@codegym.com"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(260,"div",54),r.Sb(261,"button",86),r.xc(262," In h\xf3a \u0111\u01a1n "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(263,"div",87),r.Sb(264,"div",1),r.Sb(265,"div",88),r.Sb(266,"div",89),r.Sb(267,"h5",90),r.xc(268,"C\xf3 c\xe2u h\u1ecfi?"),r.Rb(),r.Sb(269,"p",91),r.xc(270,"Vui l\xf2ng li\xean h\u1ec7 b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 24 gi\u1edd c\u1ee7a ch\xfang t\xf4i."),r.Rb(),r.Rb(),r.Sb(271,"div",92),r.xc(272,"S\u0110T: 090.999.999"),r.Rb(),r.Rb(),r.Sb(273,"div",88),r.Sb(274,"div",89),r.Sb(275,"h5",90),r.xc(276," T\u1ed5ng k\u1ebft \u0111\u01a1n h\xe0ng"),r.Rb(),r.Sb(277,"p",91),r.xc(278,"Giao h\xe0ng ti\xeau chu\u1ea9n: 49,000 vn\u0111"),r.Rb(),r.Sb(279,"p",91),r.xc(280),r.dc(281,"number"),r.Rb(),r.Rb(),r.Sb(282,"div",92),r.xc(283),r.dc(284,"number"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(285,"div",93),r.Sb(286,"div",94),r.Sb(287,"div",95),r.Sb(288,"div",96),r.Sb(289,"h1",97),r.xc(290,"B\u1ea1n C\xf3 Mu\u1ed1n In H\xf3a \u0110\u01a1n Kh\xf4ng?"),r.Rb(),r.Rb(),r.Sb(291,"div",98),r.Sb(292,"div",0),r.Sb(293,"div",1),r.Sb(294,"div",65),r.Sb(295,"h1"),r.xc(296,"H\xd3A \u0110\u01a0N"),r.Rb(),r.Rb(),r.Rb(),r.Sb(297,"div",1),r.Sb(298,"div",66),r.Sb(299,"p"),r.xc(300),r.Rb(),r.Rb(),r.Sb(301,"div",66),r.Sb(302,"p"),r.xc(303),r.Rb(),r.Rb(),r.Rb(),r.Sb(304,"div",1),r.Sb(305,"div",67),r.Sb(306,"strong"),r.xc(307,"T\u1eeb: "),r.Rb(),r.Ob(308,"br"),r.xc(309," \u0110\u1ea5u gi\xe1 C06 Company "),r.Ob(310,"br"),r.xc(311," 280 Tr\u1ea7n H\u01b0ng \u0110\u1ea1o, H\u1ea3i Ch\xe2u, TP. \u0110\xe0 N\u1eb5ng. "),r.Rb(),r.Sb(312,"div",67),r.Sb(313,"strong"),r.xc(314,"\u0110\u1ebfn: "),r.Rb(),r.Ob(315,"br"),r.xc(316),r.Ob(317,"br"),r.xc(318),r.Rb(),r.Rb(),r.Sb(319,"div",1),r.Sb(320,"div",68),r.Sb(321,"h2"),r.xc(322),r.Rb(),r.Rb(),r.Rb(),r.Sb(323,"div",1),r.Sb(324,"div",69),r.Sb(325,"table",70),r.Sb(326,"thead"),r.Sb(327,"tr",71),r.Sb(328,"th"),r.xc(329,"S\u1ea3n ph\u1ea9m"),r.Rb(),r.Sb(330,"th",72),r.xc(331,"S\u1ed1 l\u01b0\u1ee3ng"),r.Rb(),r.Sb(332,"th",73),r.xc(333,"Gi\xe1/ T\u1eebng ph\u1ea7n"),r.Rb(),r.Rb(),r.Rb(),r.Sb(334,"tbody"),r.vc(335,Hz,10,4,"tr",74),r.Sb(336,"tr"),r.Sb(337,"td",75),r.xc(338,"Giao h\xe0ng"),r.Rb(),r.Sb(339,"td",73),r.xc(340,"49,000"),r.Sb(341,"sup"),r.Ob(342,"i",76),r.Rb(),r.Rb(),r.Rb(),r.vc(343,Vz,12,4,"tr",77),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(344,"div",1),r.Sb(345,"div",69),r.Sb(346,"p"),r.Sb(347,"strong"),r.xc(348),r.Rb(),r.Rb(),r.Sb(349,"p"),r.Ob(350,"i",27),r.xc(351," Email: support@codegym.com | "),r.Ob(352,"i",78),r.xc(353," Facebook"),r.Rb(),r.Rb(),r.Rb(),r.Sb(354,"div",1),r.Sb(355,"div",79),r.Sb(356,"div",80),r.Sb(357,"strong"),r.xc(358,"Ki\u1ec3m tra t\xean s\u1ea3n ph\u1ea9m v\xe0 \u0111\u1ed1i chi\u1ebfu M\xe3 v\u1eadn \u0111\u01a1n/ M\xe3 \u0111\u01a1n h\xe0ng tr\xean \u1ee9ng d\u1ee5ng Auction Web tr\u01b0\u1edbc khi nh\u1eadn h\xe0ng (L\u01b0u \xfd: M\u1ed9t s\u1ed1 s\u1ea3n ph\u1ea9m c\xf3 th\u1ec3 b\u1ecb \u1ea9n do danh s\xe1ch qu\xe1 d\xe0i)"),r.Rb(),r.Rb(),r.Sb(359,"div",80),r.xc(360,'\u0110\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c x\u1eed l\xfd \u0111\u01a1n h\xe0ng nhanh nh\u1ea5t vui l\xf2ng \u0111i\u1ec1n s\u1ed1 h\xf3a \u0111\u01a1n ho\u1eb7c t\xe0i kho\u1ea3n trong m\u1ee5c "reference" khi chuy\u1ec3n kho\u1ea3n ho\u1eb7c c\xf3 th\u1ec3 li\xean h\u1ec7 qua hotline 090.999.999 '),r.Rb(),r.Rb(),r.Rb(),r.Sb(361,"div",1),r.Sb(362,"div",81),r.xc(363," - \u0110\u01a1n h\xe0ng \u0111\xe3 \u0111\u01b0\u1ee3c thanh to\xe1n th\xf4ng qua PAYPAL "),r.Ob(364,"br"),r.xc(365,"- \u0110\u01a1n v\u1ecb v\u1eadn chuy\u1ec3n ECONOMY DELIVERY "),r.Ob(366,"br"),r.xc(367),r.Ob(368,"br"),r.xc(369,"- Ch\u1ec9 \u0111\u1ecbnh giao h\xe0ng: Kh\xf4ng \u0111\u1ed3ng ki\u1ec3m. Chuy\u1ec3n ho\xe0n sau 3 l\u1ea7n ph\xe1t. L\u01b0u kho t\u1ed1i \u0111a 5 ng\xe0y "),r.Rb(),r.Sb(370,"div",82),r.xc(371," Kh\u1ed1i l\u01b0\u1ee3ng t\u1ed1i \u0111a: 810 g "),r.Ob(372,"br"),r.Sb(373,"strong"),r.xc(374,"Ch\u1eef k\xfd ng\u01b0\u1eddi nh\u1eadn"),r.Rb(),r.Ob(375,"br"),r.xc(376,"(X\xe1c nh\u1eadn h\xe0ng nguyeen v\u1eb9n, kh\xf4ng m\xf3p/m\xe9o, b\u1ec3/v\u1ee1) "),r.Rb(),r.Rb(),r.Sb(377,"div",1),r.Sb(378,"div",67),r.Sb(379,"div",83),r.Sb(380,"h6"),r.xc(381,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),r.Rb(),r.Sb(382,"p"),r.xc(383,"Thanh to\xe1n chuy\u1ec3n t\u1edbi: Asia Commerical Bank"),r.Rb(),r.Sb(384,"p"),r.xc(385,"S\u1ed1 t\xe0i kho\u1ea3n: 244972449"),r.Rb(),r.Rb(),r.Rb(),r.Sb(386,"div",67),r.Sb(387,"div",84),r.Sb(388,"h6"),r.xc(389,"Th\xf4ng tin kh\xe1c"),r.Rb(),r.Sb(390,"p"),r.xc(391,"Gi\u1ea5y ph\xe9p DKKD s\u1ed1: 2090130"),r.Rb(),r.Sb(392,"p"),r.xc(393,"H\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng: 090.999.999"),r.Rb(),r.Sb(394,"p"),r.xc(395,"Li\xean h\u1ec7 ph\xf2ng kinh doanh: "),r.Sb(396,"a",85),r.xc(397,"support@codegym.com"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(398,"div",99),r.Sb(399,"button",100),r.xc(400,"H\u1ee7y"),r.Rb(),r.Sb(401,"button",101),r.ac("click",(function(){return t.convertToPDF()})),r.xc(402,"In "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(21),r.ic("value",t.paymentList[0].firstName),r.Ab(9),r.ic("value",t.paymentList[0].lastName),r.Ab(10),r.ic("value",t.paymentList[0].phone),r.Ab(9),r.ic("value",t.paymentList[0].email),r.Ab(10),r.ic("value",t.paymentList[0].country),r.Ab(9),r.ic("value",t.paymentList[0].city),r.Ab(10),r.ic("value",t.paymentList[0].district),r.Ab(9),r.ic("value",t.paymentList[0].town),r.Ab(10),r.ic("value",t.paymentList[0].detailAddress),r.Ab(18),r.hc("hidden",t.isShown),r.Ab(3),r.hc("ngModel",t.description),r.Ab(34),r.tc("display: ",t.display,""),r.Ab(11),r.zc("M\xe3 v\u1eadn \u0111\u01a1n: RA0126D",t.paymentList[0].id,""),r.Ab(3),r.zc("M\xe3 v\u1eadn \u0111\u01a1n: RA0126D",t.paymentList[0].id,""),r.Ab(13),r.zc(" ",t.paymentList[0].firstName+" "+t.paymentList[0].lastName," "),r.Ab(2),r.zc(" ",t.paymentList[0].detailAddress+", "+t.paymentList[0].district+", "+t.paymentList[0].city+", "+t.paymentList[0].country," "),r.Ab(4),r.zc("180-G-05-",t.paymentList[0].id,""),r.Ab(13),r.hc("ngForOf",t.paymentList),r.Ab(8),r.hc("ngIf",t.paymentBill),r.Ab(4),r.zc("N\u1ebfu b\u1ea1n kh\xf4ng chuy\u1ec3n kho\u1ea3n s\u1ed1 ti\u1ec1n ch\xednh x\xe1c, ho\u1eb7c k\u1ebft h\u1ee3p nhi\u1ec1u \u0111\u01a1n h\xe0ng, vui l\xf2ng g\u1eedi b\u1ea3n sao phi\u1ebfu thanh to\xe1n c\xf9ng s\u1ed1 \u0111\u01a1n h\xe0ng (ORD00A",t.paymentList[0].id,") t\u1edbi"),r.Ab(19),r.zc("- Kh\xe1ch h\xe0ng theo \u0111\xf5i m\xe3 v\u1eadn \u0111\u01a1n RA0126D",t.paymentList[0].id," \u0111\u1ec3 theo d\xf5i qu\xe1 tr\xecnh v\u1eadn chuy\u1ec3n c\u1ee7a \u0111\u01a1n h\xe0ng "),r.Ab(51),r.zc("T\u1ed5ng \u0111\u01a1n h\xe0ng: ",r.ec(281,34,t.paymentBill-49e3)," vn\u0111"),r.Ab(3),r.zc("T\u1ed5ng ti\u1ec1n thanh to\xe1n: ",r.ec(284,36,t.paymentBill)," vn\u0111 "),r.Ab(17),r.zc("M\xe3 v\u1eadn \u0111\u01a1n: RA0126D",t.paymentList[0].id,""),r.Ab(3),r.zc("M\xe3 v\u1eadn \u0111\u01a1n: RA0126D",t.paymentList[0].id,""),r.Ab(13),r.zc(" ",t.paymentList[0].firstName+" "+t.paymentList[0].lastName," "),r.Ab(2),r.zc(" ",t.paymentList[0].detailAddress+", "+t.paymentList[0].district+", "+t.paymentList[0].city+", "+t.paymentList[0].country," "),r.Ab(4),r.zc("180-G-05-",t.paymentList[0].id,""),r.Ab(13),r.hc("ngForOf",t.paymentList),r.Ab(8),r.hc("ngIf",t.paymentBill),r.Ab(5),r.zc("N\u1ebfu b\u1ea1n kh\xf4ng chuy\u1ec3n kho\u1ea3n s\u1ed1 ti\u1ec1n ch\xednh x\xe1c, ho\u1eb7c k\u1ebft h\u1ee3p nhi\u1ec1u \u0111\u01a1n h\xe0ng, vui l\xf2ng g\u1eedi b\u1ea3n sao phi\u1ebfu thanh to\xe1n c\xf9ng s\u1ed1 \u0111\u01a1n h\xe0ng (ORD00A",t.paymentList[0].id,") t\u1edbi"),r.Ab(19),r.zc("- Kh\xe1ch h\xe0ng theo \u0111\xf5i m\xe3 v\u1eadn \u0111\u01a1n RA0126D",t.paymentList[0].id," \u0111\u1ec3 theo d\xf5i qu\xe1 tr\xecnh v\u1eadn chuy\u1ec3n c\u1ee7a \u0111\u01a1n h\xe0ng "))},directives:[La,Ga,gc,ke,Se],pipes:[Ne],styles:["img.center[_ngcontent-%COMP%]{width:100%;float:left}[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}.card[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#fa6132,#d74836);color:#fff;border-color:#789}img.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:200px;float:right;opacity:inherit}#image[_ngcontent-%COMP%], #image-1[_ngcontent-%COMP%], #image-2[_ngcontent-%COMP%]{height:75px;width:75px}#pills-home-tab[_ngcontent-%COMP%]{background-color:#fa6132}#pills-home-tab.active[_ngcontent-%COMP%]{background-color:#d74836}#pills-home-tab[_ngcontent-%COMP%]{color:#f5f5f5}#pills-profile-tab[_ngcontent-%COMP%]{background-color:#fa6132}#pills-profile-tab.active[_ngcontent-%COMP%]{background-color:#d74836}#pills-profile-tab[_ngcontent-%COMP%]{color:#f5f5f5}#pills-contact-tab[_ngcontent-%COMP%]{background-color:#fa6132}#pills-contact-tab.active[_ngcontent-%COMP%]{background-color:#d74836}#pills-contact-tab[_ngcontent-%COMP%]{color:#f5f5f5}#content[_ngcontent-%COMP%]{background:url(logo_print.92adc441bfd71dc42a17.png);background-position:50%;background-repeat:no-repeat;background-size:contain}#pills-contact[_ngcontent-%COMP%]{display:block;padding:12px 0 0 24px}"]}),zz),Kz=Wl.default.initializeApp;function Gz(e,t){if(1&e&&(r.Sb(0,"textarea",16),r.xc(1),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(1),r.zc("        ",n.message,"\n      ")}}function Wz(e,t){if(1&e&&(r.Sb(0,"textarea",17),r.xc(1),r.Rb()),2&e){var n=r.cc().$implicit;r.Ab(1),r.zc("        ",n.message,"\n      ")}}function Yz(e,t){if(1&e&&(r.Sb(0,"div",11),r.Sb(1,"span",12),r.xc(2),r.Rb(),r.Sb(3,"span",13),r.xc(4),r.dc(5,"date"),r.Rb(),r.vc(6,Gz,2,1,"textarea",14),r.vc(7,Wz,2,1,"textarea",15),r.Rb()),2&e){var n=t.$implicit;r.Ab(2),r.yc(n.username),r.Ab(2),r.yc(r.fc(5,4,n.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.hc("ngIf","admin"===n.username),r.Ab(1),r.hc("ngIf","admin"!==n.username)}}function Jz(e,t){if(1&e){var n=r.Tb();r.Sb(0,"form",18),r.ac("ngSubmit",(function(){r.oc(n);var e=r.cc();return e.onChatSubmit(e.form.value)})),r.Ob(1,"input",19),r.Sb(2,"button",20),r.ac("click",(function(){r.oc(n);var e=r.cc();return e.onChatSubmit(e.form.value)})),r.Ob(3,"i",21),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.hc("formGroup",i.form),r.Ab(2),r.hc("disabled",!i.form.valid)}}var Xz,Zz,$z=((Xz=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.title="firechat",this.username="Kh\xe1ch",this.message="",this.chats=[],this.app=Kz(o.firebaseConfig),this.form=this.formBuilder.group({message:["",[$a.required]],username:["Kh\xe1ch"]})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=Object(hL.v4)();this.idVisitor=t.toString(),Wl.default.database().ref("chat").child("khach").child(t).on("value",(function(t){e.chats=[];var n=t.val();for(var r in n)e.chats.push(n[r]);e.autoScroll()}))}},{key:"onChatSubmit",value:function(e){var t=e;t.timestamp=(new Date).toString(),t.id=Object(hL.v4)(),this.chats=[],Wl.default.database().ref("chat/khach/"+this.idVisitor).push(t),console.log(this.chats),this.form=this.formBuilder.group({message:["",[$a.required]],username:[t.username]}),this.heiht(),this.autoScroll()}},{key:"openForm",value:function(){document.getElementById("myForm").style.display="block"}},{key:"closeForm",value:function(){document.getElementById("myForm").style.display="none"}},{key:"autoScroll",value:function(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),300)}},{key:"heiht",value:function(){setTimeout((function(){document.querySelectorAll("textarea").forEach((function(e){console.log("height",e.scrollHeight),e.setAttribute("style","height:"+e.scrollHeight+"px;overflow-y:hidden;")}))}))}}]),e}()).\u0275fac=function(e){return new(e||Xz)(r.Nb(Mc))},Xz.\u0275cmp=r.Hb({type:Xz,selectors:[["app-chat-visitor"]],decls:15,vars:2,consts:[["type","button",1,"open-chatbox",3,"click"],[1,"fa-solid","fa-message",2,"font-size","24px"],["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],[3,"click"],["id","minimize",1,"fa-solid","fa-window-minimize"],["action","","id","scroll",1,"chatbox__body"],[1,"admin__message"],["class","me__box",4,"ngFor","ngForOf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"me__box"],[1,"user_name"],[1,"date-time"],["readonly","","class","admin__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"admin__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","L\u1eddi nh\u1eafn c\u1ee7a b\u1ea1n..",1,"input__mesage"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(e,t){1&e&&(r.Sb(0,"button",0),r.ac("click",(function(){return t.openForm()})),r.Ob(1,"i",1),r.Rb(),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"p"),r.xc(5,"H\u1ed7 tr\u1ee3 0957465734"),r.Rb(),r.Sb(6,"span",4),r.ac("click",(function(){return t.closeForm()})),r.Ob(7,"i",5),r.Rb(),r.Rb(),r.Sb(8,"div",6),r.Sb(9,"div",7),r.Sb(10,"p"),r.xc(11,"Web \u0111\u1ea5u gi\xe1 xin ch\xe0o kh\xe1ch, xin ch\u1edd trong gi\xe2y l\xe1t v\xe0 kh\xf4ng reload trang (vui l\xf2ng \u0111\u0103ng k\xed th\xe0nh vi\xean \u0111\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 l\u1eddi nhanh ch\xf3ng v\xe0 tr\u1ea3i nghi\u1ec7m t\u1ed1t h\u01a1n)!"),r.Rb(),r.Rb(),r.vc(12,Yz,8,7,"div",8),r.Rb(),r.Sb(13,"div",9),r.vc(14,Jz,4,2,"form",10),r.Rb(),r.Rb()),2&e&&(r.Ab(12),r.hc("ngForOf",t.chats),r.Ab(2),r.hc("ngIf",t.form))},directives:[ke,Se,vc,Wa,yc,La,Ga,Fc],pipes:[Pe],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{display:none;right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%], .user_name[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.admin__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),Xz),eq=[{path:"products",component:vm,canActivate:[Uj]},{path:"products/review/:id",component:Bm,canActivate:[Uj]},{path:"product/create",component:vp,canActivate:[Uj]},{path:"product/edit/:id",component:Qp,canActivate:[Uj]},{path:"home",component:xg},{path:"",component:xg},{path:"transaction",component:fg},{path:"transaction",component:fg},{path:"user/list",component:Kg,canActivate:[Uj]},{path:"user/edit/:id",component:bv,canActivate:[Uj]},{path:"user-add",component:Fv,canActivate:[Uj]},{path:"user/lockaccount",component:Kv,canActivate:[Uj]},{path:"product/add",component:vp,canActivate:[Uj]},{path:"auction/product/add",component:Yb,canActivate:[Lj]},{path:"receipt",component:qz},{path:"methodPayment",component:kb},{path:"login",component:Mj,canActivate:[uQ]},{path:"guide",component:Qu},{path:"guide/edit/:id",component:my,canActivate:[Uj]},{path:"guide/add",component:ay,canActivate:[Uj]},{path:"chat/user",component:mL},{path:"chat/support",component:IL,canActivate:[Uj]},{path:"auction-detail/:productId",component:Ml},{path:"user/create",component:bU},{path:"user/update/:id",component:mj,canActivate:[Lj]},{path:"registerWithGoogle",component:_b},{path:"cart",component:Yj,canActivate:[Lj]},{path:"account/forgot_password",component:eQ,canActivate:[uQ]},{path:"account/reset_password",component:cQ},{path:"historyProduct",component:xQ,canActivate:[Lj]},{path:"historyAuctionProduct",component:RQ,canActivate:[Lj]},{path:"user/add",component:Fv},{path:"user/lock/:id",component:Kv},{path:"chat/visitor",component:$z}],tq=((Zz=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:Zz}),Zz.\u0275inj=r.Kb({factory:function(e){return new(e||Zz)},imports:[[Io.forRoot(eq)],Io]}),Zz),nq=function(){return["/products"]};function rq(e,t){if(1&e){var n=r.Tb();r.Sb(0,"li",28),r.ac("click",(function(){return r.oc(n),r.cc().topTop()})),r.Sb(1,"span",11),r.xc(2," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(),r.Rb()}2&e&&r.hc("routerLink",r.kc(1,nq))}var iq=function(){return["/user/list"]};function oq(e,t){1&e&&(r.Sb(0,"li",29),r.Sb(1,"span",11),r.xc(2,"Qu\u1ea3n L\xfd Ng\u01b0\u1eddi D\xf9ng"),r.Rb(),r.Rb()),2&e&&r.hc("routerLink",r.kc(1,iq))}var aq=function(){return["/transaction"]};function sq(e,t){1&e&&(r.Sb(0,"li",29),r.Sb(1,"span",11),r.xc(2,"Qu\u1ea3n L\xfd Giao D\u1ecbch"),r.Rb(),r.Rb()),2&e&&r.hc("routerLink",r.kc(1,aq))}var cq=function(){return["auction/product/add"]};function uq(e,t){1&e&&(r.Sb(0,"li",29),r.Sb(1,"span",11),r.xc(2,"\u0110\u1ea5u Gi\xe1 S\u1ea3n ph\u1ea9m"),r.Rb(),r.Rb()),2&e&&r.hc("routerLink",r.kc(1,cq))}var lq=function(){return["/cart"]};function hq(e,t){if(1&e&&(r.Sb(0,"li",29),r.Sb(1,"span",30),r.Ob(2,"i",31),r.Sb(3,"p",32),r.xc(4),r.Rb(),r.xc(5," Gi\u1ecf H\xe0ng "),r.Rb(),r.Rb()),2&e){var n=r.cc();r.hc("routerLink",r.kc(2,lq)),r.Ab(4),r.yc(n.cartSize)}}function dq(e,t){1&e&&(r.Sb(0,"div",33),r.Sb(1,"button",34),r.Ob(2,"i",25),r.xc(3," \u0110\u0103ng k\xfd "),r.Rb(),r.Sb(4,"button",35),r.Ob(5,"i",27),r.xc(6," \u0110\u0103ng nh\u1eadp "),r.Rb(),r.Rb())}function fq(e,t){if(1&e&&(r.Sb(0,"li",47),r.Sb(1,"span"),r.xc(2,"H\u1ed3 s\u01a1 c\xe1 nh\xe2n"),r.Rb(),r.Rb()),2&e){var n=r.cc(2);r.jc("routerLink","/user/update/",n.currentUser.id,"")}}function Aq(e,t){1&e&&(r.Sb(0,"li",48),r.Sb(1,"span"),r.xc(2,"Ph\xf2ng chat admin"),r.Rb(),r.Rb())}function pq(e,t){1&e&&(r.Sb(0,"li",49),r.Sb(1,"span",50),r.xc(2,"L\u1ecbch s\u1eed \u0111\u01a1n h\xe0ng"),r.Rb(),r.Rb())}function gq(e,t){1&e&&(r.Sb(0,"li",49),r.Sb(1,"span",51),r.xc(2,"L\u1ecbch s\u1eed \u0111\u1ea5u gi\xe1"),r.Rb(),r.Rb())}function vq(e,t){if(1&e){var n=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",36),r.Sb(2,"span",37),r.Sb(3,"span",38),r.xc(4,"Xin ch\xe0o"),r.Rb(),r.xc(5),r.Rb(),r.Ob(6,"img",39),r.Sb(7,"ul",40),r.Ob(8,"i",41),r.vc(9,fq,3,1,"li",42),r.vc(10,Aq,3,0,"li",43),r.vc(11,pq,3,0,"li",44),r.vc(12,gq,3,0,"li",44),r.Sb(13,"li",45),r.Sb(14,"span",46),r.ac("click",(function(){return r.oc(n),r.cc().logOut()})),r.xc(15,"\u0110\u0103ng xu\u1ea5t"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&e){var i=r.cc();r.Ab(5),r.zc(" ",i.nameUser,""),r.Ab(1),r.ic("src",i.currentUser.avatar,r.qc),r.Ab(3),r.hc("ngIf",i.checkLogin),r.Ab(1),r.hc("ngIf",i.checkLogin&&"ROLE_ADMIN"==i.accountRole),r.Ab(1),r.hc("ngIf",i.checkLogin&&"ROLE_ADMIN"!=i.accountRole),r.Ab(1),r.hc("ngIf",i.checkLogin&&"ROLE_ADMIN"!=i.accountRole)}}var mq,bq,yq=function(){return["home"]},wq=function(){return["/user/create"]},_q=((bq=function(){function e(t,n,r){_classCallCheck(this,e),this.tokenService=t,this.router=n,this._paymentService=r,this.checkLogin=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=this;if(this.tokenService.isLogged()){this.checkLogin=!0,this.currentUser=JSON.parse(this.tokenService.getUser()),this.nameUser=this.currentUser.firstName+" "+this.currentUser.lastName;for(var n=this.tokenService.getRole(),r=0;r<n.length;r++)"ROLE_ADMIN"===n[r]&&(this.accountRole="ROLE_ADMIN")}this._paymentService.getPaymentList(String(null===(e=this.currentUser)||void 0===e?void 0:e.id)).subscribe((function(e){t.paymentList=e,null!=t.paymentList&&(t.cartSize=t.paymentList.length)}),(function(e){console.log(e)}),(function(){console.log("done")})),void 0===this.paymentList&&(this.cartSize=0)}},{key:"logOut",value:function(){this.tokenService.logOut(),this.router.navigateByUrl("/home").then((function(){location.reload()}))}},{key:"topTop",value:function(){document.getElementById("top").click()}}]),e}()).\u0275fac=function(e){return new(e||bq)(r.Nb(Cu),r.Nb(so),r.Nb(zj))},bq.\u0275cmp=r.Hb({type:bq,selectors:[["app-header"]],decls:45,vars:11,consts:[[1,"container-fluid","header"],[1,"container-fluid"],[1,"row"],[1,"header__menu"],[1,"menu","d-flex","align-items-center","m-0"],[1,"menu__item","band"],[1,"menu__link","logo"],[1,"fa-brands","fa-suse",3,"routerLink"],["class","menu__item",3,"routerLink","click",4,"ngIf"],["class","menu__item",3,"routerLink",4,"ngIf"],[1,"menu__item"],[1,"menu__link"],[1,"fa-solid","fa-circle-question","mx-1"],["routerLink","/guide",1,"label_guide"],["class","login d-flex","style","display: none",4,"ngIf"],[4,"ngIf"],[1,"header__mobile","header","navbar","navbar-expand-lg","bg-light"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",2,"border","1px solid aliceblue"],[1,"text-white","fa-solid","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link"],["role","search",1,"d-flex","justify-content-center"],[1,"w-50","login__btn","mx-2",3,"routerLink"],[1,"fa-solid","fa-circle-user"],[1,"w-50","login__btn"],[1,"fa-solid","fa-right-to-bracket"],[1,"menu__item",3,"routerLink","click"],[1,"menu__item",3,"routerLink"],["routerLink","/cart",1,"menu__link"],[1,"fa-solid","fa-cart-shopping"],[1,"badge","badge-light",2,"position","relative","bottom","12px","right","6px"],[1,"login","d-flex",2,"display","none"],["routerLink","/user/create",1,"login__btn","mx-2"],["routerLink","/login",1,"login__btn"],[1,"user__info"],[1,"mx-2","text-white"],[2,"font-size","14px"],[1,"avatar",3,"src"],[1,"user__info__group"],[1,"up__info","fa-solid","fa-caret-up"],["class","user__info__item",3,"routerLink",4,"ngIf"],["class","user__info__item","routerLink","/chat/support",4,"ngIf"],["class","user__info__item",4,"ngIf"],[1,"user__info__item","mb-2"],[3,"click"],[1,"user__info__item",3,"routerLink"],["routerLink","/chat/support",1,"user__info__item"],[1,"user__info__item"],["routerLink","historyProduct"],["routerLink","historyAuctionProduct"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"ul",4),r.Sb(5,"li",5),r.Sb(6,"span",6),r.Ob(7,"i",7),r.Rb(),r.Rb(),r.vc(8,rq,3,2,"li",8),r.vc(9,oq,3,2,"li",9),r.vc(10,sq,3,2,"li",9),r.vc(11,uq,3,2,"li",9),r.vc(12,hq,6,3,"li",9),r.Sb(13,"li",10),r.Sb(14,"span",11),r.Ob(15,"i",12),r.Sb(16,"span",13),r.xc(17,"H\u01b0\u1edbng d\u1eabn"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.vc(18,dq,7,0,"div",14),r.vc(19,vq,16,6,"div",15),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"nav",16),r.Sb(21,"div",1),r.Sb(22,"button",17),r.Ob(23,"i",18),r.Rb(),r.Sb(24,"div",19),r.Sb(25,"ul",20),r.Sb(26,"li",21),r.Sb(27,"p",22),r.xc(28,"Trang tr\u1ee7"),r.Rb(),r.Rb(),r.Sb(29,"li",21),r.Sb(30,"p",22),r.xc(31,"\u0110ang \u0111\u1ea5u gi\xe1"),r.Rb(),r.Rb(),r.Sb(32,"li",21),r.Sb(33,"p",22),r.xc(34,"\u0110\xe3 k\u1ebft th\xfac"),r.Rb(),r.Rb(),r.Sb(35,"li",21),r.Sb(36,"p",22),r.xc(37,"Top"),r.Rb(),r.Rb(),r.Rb(),r.Sb(38,"form",23),r.Sb(39,"button",24),r.Ob(40,"i",25),r.xc(41," \u0110\u0103ng k\xfd "),r.Rb(),r.Sb(42,"button",26),r.Ob(43,"i",27),r.xc(44," \u0110\u0103ng nh\u1eadp "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Ab(7),r.hc("routerLink",r.kc(9,yq)),r.Ab(1),r.hc("ngIf",t.checkLogin&&"ROLE_ADMIN"==t.accountRole),r.Ab(1),r.hc("ngIf",t.checkLogin&&"ROLE_ADMIN"==t.accountRole),r.Ab(1),r.hc("ngIf",t.checkLogin&&"ROLE_ADMIN"==t.accountRole),r.Ab(1),r.hc("ngIf",t.checkLogin&&"ROLE_ADMIN"!=t.accountRole),r.Ab(1),r.hc("ngIf",t.checkLogin&&"ROLE_ADMIN"!=t.accountRole),r.Ab(6),r.hc("ngIf",!t.checkLogin),r.Ab(1),r.hc("ngIf",t.checkLogin),r.Ab(20),r.hc("routerLink",r.kc(10,wq)))},directives:[co,Se,vc,Wa,cc],styles:['[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}html[_ngcontent-%COMP%]{background-color:#ecf0f1}body[_ngcontent-%COMP%]{min-height:1000px}ul[_ngcontent-%COMP%]{padding:0;background:transparent!important}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}.header__mobile[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500,#c21500);padding:8px 0}.header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{color:#ecf0f1}.header__menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.avatar[_ngcontent-%COMP%]{display:block;width:30px;height:30px}.user__info[_ngcontent-%COMP%]{display:flex;position:relative}.user__info[_ngcontent-%COMP%]:hover   .user__info__group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user__info__group[_ngcontent-%COMP%]{position:absolute;top:118%;right:0;width:100%;display:none;flex-direction:column;justify-content:center;align-items:center;background-color:#f0f8ff!important;box-shadow:1px 1px 4px rgba(0,0,0,.35);padding:0 8px;border-radius:4px;z-index:10}.user__info__group[_ngcontent-%COMP%]:after{content:"";display:block;height:12px;width:100%;z-index:11;position:absolute;top:-8px;border:none;background-color:transparent;left:0}.up__info[_ngcontent-%COMP%]{position:absolute;top:-9px;right:8px;color:#f0f8ff}.user__info__item[_ngcontent-%COMP%]{border:none;background-color:#fa5d2f;color:#fff;padding:4px 8px;width:100%;text-align:center;border-radius:4px;margin-top:8px;cursor:pointer}.user__info__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.b__logout[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.logo[_ngcontent-%COMP%]{background-color:#c0392b}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px}.menu__item[_ngcontent-%COMP%]{padding:8px 12px}.menu__item.band[_ngcontent-%COMP%]{padding:0}.menu__item[_ngcontent-%COMP%]:hover{background:transparent!important;color:#fff!important}.menu__item[_ngcontent-%COMP%]:first-child:hover{cursor:pointer}.menu__link[_ngcontent-%COMP%]{color:#ecf0f1;text-transform:capitalize}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#fff!important}.login__btn[_ngcontent-%COMP%]{padding:4px;border:none;border-radius:2px;color:#e74c3c;box-shadow:2px 2px 8px hsla(0,0%,100%,.35);display:flex;align-items:center}.login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.header__info__icon[_ngcontent-%COMP%], .header__info__title[_ngcontent-%COMP%]{font-size:14px;color:#ecf0f1;cursor:pointer}.header__info__icon[_ngcontent-%COMP%]{margin-right:4px}.cl-white[_ngcontent-%COMP%]{color:#ecf0f1}.sidebar__right[_ngcontent-%COMP%]{padding:0 12px 0 0;display:flex;flex-direction:column;overflow-y:scroll;height:400px}.sidebar__right[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.logo[_ngcontent-%COMP%]{display:inline-block;border-radius:8px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}@media (max-width:992px){.header[_ngcontent-%COMP%]{padding:4px 0}.login__btn[_ngcontent-%COMP%]{padding:4px}.label_guide[_ngcontent-%COMP%], .login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .slide[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{margin-top:4px;flex-wrap:wrap}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:3px;color:#e74c3c;border:none;cursor:pointer}.category__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.category[_ngcontent-%COMP%], .form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form__filter[_ngcontent-%COMP%]{margin-top:8px}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.input__search[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}@media (max-width:768px){.form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:8px}.category__item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.category[_ngcontent-%COMP%], .input__search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:none}.header__mobile[_ngcontent-%COMP%]{display:block}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}}']}),bq),kq=((mq=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||mq)},mq.\u0275cmp=r.Hb({type:mq,selectors:[["app-footer"]],decls:35,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12"],[1,"footer__info","band"],[1,"footer_title"],[1,"d-flex","justify-content-between","footer__content"],[1,"d-flex"],[1,"footer__item","mx-2"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-instagram"],[1,"fa-solid","fa-phone-flip"],[1,"fa-solid","fa-envelope"],[1,"col-lg-12","copyright"],[1,"w-100","text-center"]],template:function(e,t){1&e&&(r.Sb(0,"footer"),r.Sb(1,"div",0),r.Sb(2,"div",1),r.Sb(3,"div",2),r.Sb(4,"div",3),r.Sb(5,"div",4),r.Sb(6,"h5"),r.xc(7," K\u1ebft N\u1ed1i v\u1edbi ch\xfang t\xf4i "),r.Rb(),r.Sb(8,"ul",5),r.Sb(9,"div",6),r.Sb(10,"li",7),r.Sb(11,"p"),r.Ob(12,"i",8),r.Sb(13,"span"),r.xc(14,"Facebook"),r.Rb(),r.Rb(),r.Rb(),r.Sb(15,"li",7),r.Sb(16,"p"),r.Ob(17,"i",9),r.Sb(18,"span"),r.xc(19,"Instagram"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"div",6),r.Sb(21,"li",7),r.Sb(22,"p"),r.Ob(23,"i",10),r.Sb(24,"span"),r.xc(25,"0909.999.999"),r.Rb(),r.Rb(),r.Rb(),r.Sb(26,"li",7),r.Sb(27,"p"),r.Ob(28,"i",11),r.Sb(29,"span"),r.xc(30,"C0622G1@Codegym.com.vn"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"div",1),r.Sb(32,"div",12),r.Sb(33,"p",13),r.xc(34,"@Copyright T\u1eadp th\u1ec3 C0622G1"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb())},styles:["[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif;margin:0;padding:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}footer[_ngcontent-%COMP%]{padding-top:32px;padding-left:12px;padding-right:12px;background-color:#181821;color:#ecf0f1;font-weight:100}.footer_title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px;font-size:20px}.footer__item[_ngcontent-%COMP%]{padding:8px 0}.logo[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}.copyright[_ngcontent-%COMP%]{padding:12px}"]}),mq);function Cq(e,t){1&e&&r.Ob(0,"app-chat-user")}function Sq(e,t){1&e&&r.Ob(0,"app-chat-visitor")}var xq,Eq=((xq=function(){function e(t,n){_classCallCheck(this,e),this._toastService=t,this._tokenService=n,this.checklogged=!1,this.title="Auction"}return _createClass(e,[{key:"ngOnInit",value:function(){if(this._tokenService.isLogged()){this.checklogged=!0;for(var e=this._tokenService.getRole(),t=0;t<e.length;t++)"ROLE_ADMIN"===e[t]&&(this.accountRole="ROLE_ADMIN")}}},{key:"showMessage",value:function(){console.log("alo"),this._toastService.success("hello","info",{timeOut:3e3,positionClass:"toast-top-right"})}}]),e}()).\u0275fac=function(e){return new(e||xq)(r.Nb(yu),r.Nb(Cu))},xq.\u0275cmp=r.Hb({type:xq,selectors:[["app-root"]],decls:5,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(r.Ob(0,"app-header"),r.Ob(1,"router-outlet"),r.Ob(2,"app-footer"),r.vc(3,Cq,1,0,"app-chat-user",0),r.vc(4,Sq,1,0,"app-chat-visitor",0)),2&e&&(r.Ab(3),r.hc("ngIf",t.checklogged&&"ROLE_ADMIN"!=t.accountRole),r.Ab(1),r.hc("ngIf",!t.checklogged))},directives:[_q,vo,kq,Se,mL,$z],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),xq);function Iq(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bq(e){switch(e.length){case 0:return new Gc;case 1:return e[0];default:return new Wc(e)}}function Dq(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],c=-1,u=null;if(r.forEach((function(e){var n=e.offset,r=n==c,l=r&&u||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),u=l,c=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function Tq(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Oq(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Oq(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Oq(n,"destroy",e))}))}}function Oq(e,t,n){var r=n.totalTime,i=Fq(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Fq(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Rq(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Pq(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Nq=function(e,t){return!1},Mq=function(e,t){return!1},Lq=function(e,t,n){return[]},Uq=Iq();(Uq||"undefined"!=typeof Element)&&(Nq=function(e,t){return e.contains(t)},Mq=function(){if(Uq||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Mq}(),Lq=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var jq=null,Qq=!1;function Hq(e){jq||(jq=("undefined"!=typeof document?document.body:null)||{},Qq=!!jq.style&&"WebkitAppearance"in jq.style);var t=!0;return jq.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in jq.style)&&Qq)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in jq.style),t}var Vq=Mq,zq=Nq,qq=Lq;function Kq(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var Gq,Wq=((Gq=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Hq(e)}},{key:"matchesElement",value:function(e,t){return Vq(e,t)}},{key:"containsElement",value:function(e,t){return zq(e,t)}},{key:"query",value:function(e,t,n){return qq(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Gc(n,r)}}]),e}()).\u0275fac=function(e){return new(e||Gq)},Gq.\u0275prov=r.Jb({token:Gq,factory:Gq.\u0275fac}),Gq),Yq=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.NOOP=new Wq,e}();function Jq(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Xq(parseFloat(t[1]),t[2])}function Xq(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Zq(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=Xq(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Xq(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else r=e;if(!n){var u=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function $q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function eK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else $q(e,n);return n}function tK(e,t,n){return n?t+":"+n+";":""}function nK(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=tK(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=tK(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function rK(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=hK(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),Iq()&&nK(e))}function iK(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=hK(t);e.style[n]=""})),Iq()&&nK(e))}function oK(e){return Array.isArray(e)?1==e.length?e[0]:Hc(e):e}var aK=new RegExp("{{\\s*(.+?)\\s*}}","g");function sK(e){var t=[];if("string"==typeof e){for(var n;n=aK.exec(e);)t.push(n[1]);aK.lastIndex=0}return t}function cK(e,t,n){var r=e.toString(),i=r.replace(aK,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?e:i}function uK(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var lK=/-+([a-z0-9])/g;function hK(e){return e.replace(lK,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function dK(e,t){return 0===e||0===t}function fK(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=pK(e,t)}))},s=1;s<t.length;s++)a()}return t}function AK(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function pK(e,t){return window.getComputedStyle(e)[t]}var gK=new Set(["true","1"]),vK=new Set(["false","0"]);function mK(e,t){var n=gK.has(e)||vK.has(e),r=gK.has(t)||vK.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?gK.has(e):vK.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?gK.has(t):vK.has(t)),a&&s}}var bK=new RegExp("s*:selfs*,?","g");function yK(e,t,n){return new wK(e).build(t,n)}var wK=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new _K(t);return this._resetContextStyleTimingState(n),AK(this,oK(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=c}else if(1==e.type){var u=n.visitTransition(e,t);r+=u.queryCount,i+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(kK(e)){var t=e;Object.keys(t).forEach((function(e){sK(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=uK(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=AK(this,oK(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(mK(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(mK(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:CK(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return AK(n,e,t)})),options:CK(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=AK(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:CK(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return SK(Zq(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=SK(0,0,"");return i.dynamic=!0,i.strValue=r,i}return SK((n=n||Zq(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Vc({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Vc(s)}t.currentTime+=r.duration+r.delay;var c=this.visitStyle(o,t);c.isEmptyStep=a,n=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(kK(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,c,u,l,h=t.collectedStyles[t.currentQuerySelector],d=h[r],f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),f=!1),o=d.startTime),f&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,c=t.errors,u=s.params||{},(l=sK(a)).length&&l.forEach((function(e){u.hasOwnProperty(e)||c.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,c=0,u=e.steps.map((function(e){var r=n._makeStyleAst(e,t),u=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(kK(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(kK(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=u&&(i++,l=r.offset=u),s=s||l<0||l>1,a=a||l<c,c=l,o.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var d=l-1,f=t.currentTime,A=t.currentAnimateTimings,p=A.duration;return u.forEach((function(e,i){var a=h>0?i==d?1:h*i:o[i],s=a*p;t.currentTime=f+A.delay+s,A.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:AK(this,oK(e.animation),t),options:CK(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:CK(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:CK(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(bK,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Rq(t.collectedStyles,t.currentQuerySelector,{});var s=AK(this,oK(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:CK(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Zq(e.timings,t.errors,!0);return{type:12,animation:AK(this,oK(e.animation),t),timings:n,options:null}}}]),e}(),_K=_createClass((function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}));function kK(e){return!Array.isArray(e)&&"object"==typeof e}function CK(e){var t;return e?(e=$q(e)).params&&(e.params=(t=e.params)?$q(t):null):e={},e}function SK(e,t,n){return{duration:e,delay:t,easing:n}}function xK(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var EK=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),IK=new RegExp(":enter","g"),BK=new RegExp(":leave","g");function DK(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new TK).buildKeyframes(e,t,n,r,i,o,a,s,c,u)}var TK=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new EK;var l=new FK(e,t,c,r,i,u,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),AK(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[xK(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?Jq(n.duration):null,o=null!=n.delay?Jq(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),AK(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=OK);var a=Jq(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return AK(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Jq(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),AK(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return Zq(t.params?cK(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Jq(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=OK);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var c=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(c=s.currentTimeline),AK(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=t.currentTimeline;s&&c.delayNextStep(s);var u=c.currentTime;AK(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}]),e}(),OK={},FK=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OK,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new RK(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=Jq(r.duration)),null!=r.delay&&(i.delay=Jq(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=cK(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=OK,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new PK(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(IK,"."+this._enterClassName)).replace(BK,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),RK=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):eK(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=cK(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=eK(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?uK(t.values()):[],a=n.size?uK(n.values()):[];if(r){var s=i[0],c=$q(s);s.offset=0,c.offset=1,i=[s,c]}return xK(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),PK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var c,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(c=t.call(this,e,r,s.delay)).element=r,c.keyframes=i,c.preStyleProps=o,c.postStyleProps=a,c._stretchStartingKeyframe=u,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,c=eK(e[0],!1);c.offset=0,o.push(c);var u=eK(e[0],!1);u.offset=NK(s),o.push(u);for(var l=e.length-1,h=1;h<=l;h++){var d=eK(e[h],!1);d.offset=NK((n+d.offset*r)/a),o.push(d)}r=a,n=0,i="",e=o}return xK(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(RK);function NK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var MK,LK,UK=_createClass((function e(){_classCallCheck(this,e)})),jK=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return hK(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(QK[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(UK),QK=(MK="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),LK={},MK.forEach((function(e){return LK[e]=!0})),LK);function HK(e,t,n,r,i,o,a,s,c,u,l,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}var VK={},zK=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,c,u){var l=[],h=this.ast.options&&this.ast.options.params||VK,d=this.buildStyles(n,a&&a.params||VK,l),f=s&&s.params||VK,A=this.buildStyles(r,f,l),p=new Set,g=new Map,v=new Map,m="void"===r,b={params:Object.assign(Object.assign({},h),f)},y=u?[]:DK(e,t,this.ast.animation,i,o,d,A,b,c,l),w=0;if(y.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),l.length)return HK(t,this._triggerName,n,r,m,d,A,[],[],g,v,w,l);y.forEach((function(e){var n=e.element,r=Rq(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Rq(v,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&p.add(n)}));var _=uK(p.values());return HK(t,this._triggerName,n,r,m,d,A,y,_,g,v,w)}}]),e}(),qK=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=$q(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=cK(o,r,t)),n[e]=o}))}})),n}}]),e}(),KK=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new qK(e.style,e.options&&e.options.params||{})})),GK(this.states,"true","1"),GK(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new zK(t,e,r.states))})),this.fallbackTransition=new zK(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function GK(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var WK=new EK,YK=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=yK(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Dq(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=DK(this._driver,t,a,"ng-enter","ng-leave",{},{},i,WK,o)).forEach((function(e){var t=Rq(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var c=Bq(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=c,c.onDestroy((function(){return r.destroy(e)})),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=Fq(t,"","","");return Tq(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),JK=[],XK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=$q(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}}]),e}(),eG=new $K("void"),tG=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cG(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Rq(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var c=Rq(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(cG(e,"ng-trigger"),cG(e,"ng-trigger-"+t),c[t]=eG),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete c[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new rG(this.id,t,e),s=this._engine.statesByElement.get(e);s||(cG(e,"ng-trigger"),cG(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var c=s[t],u=new $K(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),s[t]=u,c||(c=eG),"void"===u.value||c.value!==u.value){var l=Rq(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(c.value,u.value,e,u.params),d=!1;if(!h){if(!i)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:c,toState:u,player:a,isFallbackTransition:d}),d||(cG(e,"ng-animate-queued"),a.onStart((function(){uG(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(c.params,u.params)){var f=[],A=o.matchStyles(c.value,c.params,f),p=o.matchStyles(u.value,u.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush((function(){iK(e,A),rK(e,p)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Bq(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||eG,s=new $K("void"),c=new rG(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==XK||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){cG(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=Fq(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Tq(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),nG=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}},{key:"createNamespace",value:function(e,t){var n=new tG(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(iG(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(iG(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cG(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uG(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(iG(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return iG(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Bq(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=XK,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)cG(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Bq(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new EK,i=[],o=new Map,a=[],s=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=sG(d,this.collectedEnterElements),A=new Map,p=0;f.forEach((function(e,t){var n="ng-enter"+p++;A.set(t,n),e.forEach((function(e){return cG(e,n)}))}));for(var g=[],v=new Set,m=new Set,b=0;b<this.collectedLeaveElements.length;b++){var y=this.collectedLeaveElements[b],w=y.__ng_removed;w&&w.setForRemoval&&(g.push(y),v.add(y),w.hasAnimation?this.driver.query(y,".ng-star-inserted",!0).forEach((function(e){return v.add(e)})):m.add(y))}var _=new Map,k=sG(d,Array.from(v));k.forEach((function(e,t){var n="ng-leave"+p++;_.set(t,n),e.forEach((function(e){return cG(e,n)}))})),e.push((function(){f.forEach((function(e,t){var n=A.get(t);e.forEach((function(e){return uG(e,n)}))})),k.forEach((function(e,t){var n=_.get(t);e.forEach((function(e){return uG(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var C=[],S=[],x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(C.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var d=!h||!n.driver.containsElement(h,o),f=_.get(o),p=A.get(o),g=n._buildInstruction(e,r,p,f,d);if(!g.errors||!g.errors.length)return d?(t.onStart((function(){return iK(o,g.fromStyles)})),t.onDestroy((function(){return rK(o,g.toStyles)})),void i.push(t)):e.isFallbackTransition?(t.onStart((function(){return iK(o,g.fromStyles)})),t.onDestroy((function(){return rK(o,g.toStyles)})),void i.push(t)):(g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,g.timelines),a.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return Rq(s,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),void g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))})));S.push(g)}));if(S.length){var E=[];S.forEach((function(e){E.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return E.push("- ".concat(e,"\n"))}))})),C.forEach((function(e){return e.destroy()})),this.reportError(E)}var I=new Map,B=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(B.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Rq(I,t,[]).push(e),e.destroy()}))}));var D=g.filter((function(e){return hG(e,c,u)})),T=new Map;aG(T,this.driver,m,u,"*").forEach((function(e){hG(e,c,u)&&D.push(e)}));var O=new Map;f.forEach((function(e,t){aG(O,n.driver,new Set(e),c,"!")})),D.forEach((function(e){var t=T.get(e),n=O.get(e);T.set(e,Object.assign(Object.assign({},t),n))}));var F=[],R=[],P={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(l.has(t))return a.onDestroy((function(){return rK(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var c=P;if(B.size>1){for(var u=t,h=[];u=u.parentNode;){var d=B.get(u);if(d){c=d;break}h.push(u)}h.forEach((function(e){return B.set(e,c)}))}var f=n._buildAnimation(a.namespaceId,s,I,o,O,T);if(a.setRealPlayer(f),c===P)F.push(a);else{var A=n.playersByElement.get(c);A&&A.length&&(a.parentPlayer=Bq(A)),i.push(a)}}else iK(t,s.fromStyles),a.onDestroy((function(){return rK(t,s.toStyles)})),R.push(a),l.has(t)&&i.push(a)})),R.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Bq(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var N=0;N<g.length;N++){var M=g[N],L=M.__ng_removed;if(uG(M,"ng-leave"),!L||!L.hasAnimation){var U=[];if(s.size){var j=s.get(M);j&&j.length&&U.push.apply(U,_toConsumableArray(j));for(var Q=this.driver.query(M,".ng-animating",!0),H=0;H<Q.length;H++){var V=s.get(Q[H]);V&&V.length&&U.push.apply(U,_toConsumableArray(V))}}var z=U.filter((function(e){return!e.destroyed}));z.length?lG(this,M,z):this.processLeaveNode(M)}}return g.length=0,F.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),F}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var c=!i||"void"==i;s.forEach((function(e){e.queued||(c||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,c=_createForOfIteratorHelper(t.timelines);try{var u=function(){var e=r.value.element,c=e!==o,u=Rq(n,e,[]);i._getPreviousPlayers(e,c,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)}))};for(c.s();!(r=c.n()).done;)u()}catch(l){c.e(l)}finally{c.f()}iK(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,c=t.element,u=[],l=new Set,h=new Set,d=t.timelines.map((function(t){var d=t.element;l.add(d);var f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new Gc(t.duration,t.delay);var A,p,g=d!==c,v=(A=(n.get(d)||JK).map((function(e){return e.getRealPlayer()})),p=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof Wc?e(i.players,n):n.push(i)}}(A,p),p).filter((function(e){return!!e.element&&e.element===d})),m=i.get(d),b=o.get(d),y=Dq(0,a._normalizer,0,t.keyframes,m,b),w=a._buildPlayer(t,y,v);if(t.subTimeline&&r&&h.add(d),g){var _=new rG(e,s,d);_.setRealPlayer(w),u.push(_)}return w}));u.forEach((function(e){Rq(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return cG(e,"ng-animating")}));var f=Bq(d);return f.onDestroy((function(){l.forEach((function(e){return uG(e,"ng-animating")})),rK(c,t.toStyles)})),h.forEach((function(e){Rq(r,e,[]).push(f)})),f}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Gc(e.duration,e.delay)}}]),e}(),rG=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Gc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Tq(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Rq(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function iG(e){return e&&1===e.nodeType}function oG(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function aG(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(oG(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=ZK,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return oG(e,o[s++])})),a}function sG(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function cG(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function uG(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function lG(e,t,n){Bq(n).onDone((function(){return e.processLeaveNode(t)}))}function hG(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var dG=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new nG(t,n,r),this._timelineEngine=new YK(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],c=yK(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new KK(e,t)}(r,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Pq(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Pq(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function fG(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=pG(t[0]),t.length>1&&(r=pG(t[t.length-1]))):t&&(n=pG(t)),n||r?new AG(e,n,r):null}var AG=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&rK(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(rK(this._element,this._initialStyles),this._endStyles&&(rK(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(iK(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(iK(this._element,this._endStyles),this._endStyles=null),rK(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function pG(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];gG(i)&&((t=t||{})[i]=e[i])}return t}function gG(e){return"display"===e||"position"===e}var vG=function(){function e(t,n,r,i,o,a,s){var c=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=kG(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),_G(e,"",t),wG(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){mG(this._element,this._name,"paused")}},{key:"resume",value:function(){mG(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=bG(this._element,this._name);this._position=e*this._duration,_G(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),wG(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=kG(e,"").split(","),r=yG(n,t);r>=0&&(n.splice(r,1),_G(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function mG(e,t,n){_G(e,"PlayState",n,bG(e,t))}function bG(e,t){var n=kG(e,"");return n.indexOf(",")>0?yG(n.split(","),t):yG([n],t)}function yG(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function wG(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function _G(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function kG(e,t){return e.style["animation"+t]}var CG=function(){function e(t,n,r,i,o,a,s,c){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new vG(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:pK(e.element,r))}))}this.currentSnapshot=t}}]),e}(),SG=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Kq(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Gc),xG=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Hq(e)}},{key:"matchesElement",value:function(e,t){return Vq(e,t)}},{key:"containsElement",value:function(e,t){return zq(e,t)}},{key:"query",value:function(e,t,n){return qq(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Kq(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof CG})),c={};dK(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=fK(e,t,c));if(0==n)return new SG(e,u);var l="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var d=fG(e,t),f=new CG(e,t,l,n,r,i,u,d);return f.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),f}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),EG=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:pK(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),IG=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(BG().toString()),this._cssKeyframesDriver=new xG}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Hq(e)}},{key:"matchesElement",value:function(e,t){return Vq(e,t)}},{key:"containsElement",value:function(e,t){return zq(e,t)}},{key:"query",value:function(e,t,n){return qq(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var c={},u=o.filter((function(e){return e instanceof EG}));dK(n,r)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return c[e]=t[e]}))}));var l=fG(e,t=fK(e,t=t.map((function(e){return eK(e,!1)})),c));return new EG(e,t,s,l)}}]),e}();function BG(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var DG,TG=((DG=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Hc(e):e;return RG(this._renderer,null,t,"register",[n]),new OG(t,this._renderer)}}]),n}(jc)).\u0275fac=function(e){return new(e||DG)(r.Wb(r.E),r.Wb(u))},DG.\u0275prov=r.Jb({token:DG,factory:DG.\u0275fac}),DG),OG=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new FG(this._id,e,t||{},this._renderer)}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}()),FG=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return RG(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function RG(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var PG,NG,MG,LG,UG=((PG=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new jG("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new QG(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||PG)(r.Wb(r.E),r.Wb(dG),r.Wb(r.z))},PG.\u0275prov=r.Jb({token:PG,factory:PG.\u0275fac}),PG),jG=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),QG=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),c=t.substr(1),u="";return"@"!=c.charAt(0)&&(i=(r=c).indexOf("."),c=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,s,c,u,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(jG),HG=((NG=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return _createClass(n)}(dG)).\u0275fac=function(e){return new(e||NG)(r.Wb(u),r.Wb(Yq),r.Wb(UK))},NG.\u0275prov=r.Jb({token:NG,factory:NG.\u0275fac}),NG),VG=[{provide:Yq,useFactory:function(){return"function"==typeof BG()?new IG:new xG}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:jc,useClass:TG},{provide:UK,useFactory:function(){return new jK}},{provide:dG,useClass:HG},{provide:r.E,useFactory:function(e,t,n){return new UG(e,t,n)},deps:[pt,dG,r.z]}],zG=((MG=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:MG}),MG.\u0275inj=r.Kb({factory:function(e){return new(e||MG)},providers:VG,imports:[Dt]}),MG),qG=n("VLs4");LG=n.n(qG).a,Object(r.tb)(LG,void 0,void 0);var KG,GG={scope:"profile email",plugin_name:"login"},WG=((KG=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Lb({type:KG,bootstrap:[Eq]}),KG.\u0275inj=r.Kb({factory:function(e){return new(e||KG)},providers:[{provide:r.u,useValue:"de-DE"},{provide:r.k,useValue:" \u0111 "},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Sj.PROVIDER_ID,provider:new Sj("360980124241-cu5j4vb8mfob7il8h62oa320t8ldoi7l.apps.googleusercontent.com",GG)}]}}],imports:[[Uc,Dt,tq,Lc,Sa,zG,ku.forRoot(),Ed,Gl.a.initializeApp(o.firebaseConfig),Ej,GA,hl]]}),KG);o.production&&Object(r.S)(),It().bootstrapModule(WG).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);