function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.r(t);var a=n("qOnz");n.d(t,"Component",(function(){return s})),n.d(t,"ComponentContainer",(function(){return c})),n.d(t,"Provider",(function(){return u}));var s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=i(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),i(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,a)}s((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var o=e.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=r(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=i(l.value,2),f=h[1];s===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(e,t,n){"use strict";var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a);n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(r)},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(s.a)(e(n,r)).pipe(Object(a.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),a=this.destination;a.add(i);var s=Object(r.a)(this,e,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"6Uf2":function(e,t,n){"use strict";(function(e){var t=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mAIw"),a=n("q/0M"),s="";function u(e){s=e}var c,l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(i.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(i.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(i.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new a.Logger("@firebase/database"),g=(c=1,function(){return c++}),b=function(e){var t=Object(i.stringToByteArray)(e),n=new i.Sha1;n.update(t);var r=n.digest();return i.base64.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=0;o<t.length;o++){var a=t[o];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?Object(i.stringify)(a):a,r+=" "}return r},y=null,_=!0,w=function(e,t){Object(i.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=a.LogLevel.VERBOSE,y=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,p.remove("logging_enabled"))},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=m.apply(null,e);y(n)}},k=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];C.apply(void 0,Object(o.f)([e],Object(o.e)(t)))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(o.f)([],Object(o.e)(e)));v.error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(o.f)([],Object(o.e)(e)));throw v.error(n),new Error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,Object(o.f)([],Object(o.e)(e)));v.warn(n)},T=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",x="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===I||t===x)return-1;if(t===I||e===x)return 1;var n=Q(e),r=Q(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},O=function(e,t){return e===t?0:e<t?-1:1},N=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(i.stringify)(t))},P=function e(t){if("object"!=typeof t||null===t)return Object(i.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var o="{",a=0;a<n.length;a++)0!==a&&(o+=","),o+=Object(i.stringify)(n[a]),o+=":",o+=e(t[n[a]]);return o+"}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F=function(e){var t,n,r,o,a;Object(i.assert)(!T(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(e){if(j.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},L=function(e){try{e()}catch(t){setTimeout((function(){throw R("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){R('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),B=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';R(e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),q=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function z(e,t,n){var r;if(Object(i.assert)("string"==typeof t,"typeof type must == string"),Object(i.assert)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var o=[];return M(n,(function(e,t){o.push(e+"="+t)})),r+o.join("&")}var K=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(i.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},e}(),W={},Y={};function Z(e){var t=e.toString();return W[t]||(W[t]=new K),W[t]}var $=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&L((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),X=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(e),this.stats_=Z(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),z(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(i.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new J((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.e)(e,5),i=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(o.e)(e,2),i=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(i.isNodeSdk)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(i.base64Encode)(t),r=D(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(i.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),J=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){C("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ee=null;"undefined"!=typeof MozWebSocket?ee=MozWebSocket:"undefined"!=typeof WebSocket&&(ee=WebSocket);var te=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=Z(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var o={v:"5"};return!Object(i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),z(e,"websocket",o)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+s+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new ee(this.connURL,[],r)}else this.mySock=new ee(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ee&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(i.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ne=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[X,te]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=te&&te.isAvailable(),a=i&&!te.previouslyFailed();if(t.webSocketOnly&&(i||R("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[te];else{var s=this.transports_=[];try{for(var u=Object(o.g)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),re=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new ne(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=N("t",e),n=N("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=N("t",e),n=N("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=N("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&R("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ie=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),oe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(i.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(i.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),ae=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(o.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(oe),se=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ue(){return new se("")}function ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function le(e){return e.pieces_.length-e.pieceNum_}function he(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function fe(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function de(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function pe(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function ve(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new se(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function be(e,t){var n=ce(e),r=ce(t);if(null===n)return t;if(n===r)return be(he(e),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function me(e,t){for(var n=de(e,0),r=de(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ye(e,t){if(le(e)!==le(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _e(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(le(e)>le(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var we=function(e,t){this.errorPrefix_=t,this.parts_=de(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);Ce(this)};function Ce(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ke(e))}function ke(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Se,Ee,Re=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(o.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(i.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(oe),Te=function(e){function t(n,r,o,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=k("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Re.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ae.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new i.Deferred,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&o===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(i.contains)(e,"w")){var n=Object(i.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();R("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(i.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(i.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(i.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+Object(i.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var e,n,r,a,s,u,c,l,h,f,d,p,v,g=this;return Object(o.d)(this,(function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(e){Object(i.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=o.e.apply(void 0,[b.sent(),2]),d=f[0],p=f[1],u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new re(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){R(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return v=b.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&R(v),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return P(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new se(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,Object(o.g)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(i.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+s.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?e["framework.cordova"]=1:Object(i.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=ae.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ie),Ie=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),xe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ie(I,e),r=new Ie(I,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ie.MIN},e}(),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Se},set:function(e){Se=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(x,Se)},t.prototype.makePost=function(e,t){return Object(i.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ie(e,Se)},t.prototype.toString=function(){return".key"},t}(xe),Oe=new Ae,Ne=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Pe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Me.EMPTY_NODE,this.right=null!=o?o:Me.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Me.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Me.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),De=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Pe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Me=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Pe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Pe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ne(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ne(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ne(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ne(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new De,e}();function Fe(e,t){return A(e.name,t.name)}function je(e,t){return A(e,t)}var Qe,Le,Ue,Ve,Be,qe=function(e){return"number"==typeof e?"number:"+F(e):"string:"+e},He=function(e){if(e.isLeafNode()){var t=e.val();Object(i.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(i.contains)(t,".sv"),"Priority must be a string or number.")}else Object(i.assert)(e===Ee||e.isEmpty(),"priority of unexpected type.");Object(i.assert)(e===Ee||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ge=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),He(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Qe},set:function(e){Qe=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ge(t)?this:".priority"===ce(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ce(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===le(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(i.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),ze=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(x,new Ge("[PRIORITY-POST]",Ue))},t.prototype.makePost=function(e,t){var n=Le(e);return new Ie(t,new Ge("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(xe)),Ke=Math.log(2),We=function(){function e(e){this.count=parseInt(Math.log(e+1)/Ke,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ye=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Pe(a,o.node,Pe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Pe(a,o.node,Pe.BLACK,c,l)}(i+1,a),c=e[i],l=n?n(c):c;s(new Pe(l,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?a(l,Pe.BLACK):(a(l,Pe.BLACK),a(l,Pe.RED))}return i}(new We(e.length));return new Me(r||t,i)},Ze={},$e=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(i.assert)(Ze&&ze,"ChildrenNode.ts has not been loaded"),Ve=Ve||new e({".priority":Ze},{".priority":ze})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(i.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Me?t:null},e.prototype.hasIndex=function(e){return Object(i.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(i.assert)(t!==Oe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Ie.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Ye(a,t.getCompare()):Ze;var l=t.toString(),h=Object(o.a)({},this.indexSet_);h[l]=t;var f=Object(o.a)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(i.map)(this.indexes_,(function(e,o){var a=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(a,"Missing index implementation for "+o),e===Ze){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ie.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Ye(s,a.getCompare())}return Ze}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Ie(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(i.map)(this.indexes_,(function(e){if(e===Ze)return e;var r=n.get(t.name);return r?e.remove(new Ie(t.name,r)):e})),this.indexSet_)},e}(),Xe=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&He(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Be||(Be=new e(new Me(je),null,$e.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Be},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Be:t},e.prototype.getChild=function(e){var t=ce(e);return null===t?this:this.getImmediateChild(t).getChild(he(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ie(t,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?Be:this.priorityNode_;return new e(o,s,a)},e.prototype.updateChild=function(e,t){var n=ce(e);if(null===n)return t;Object(i.assert)(".priority"!==ce(e)||1===le(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(he(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ze,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+qe(this.getPriority().val())+":"),this.forEachChild(ze,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ie(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Je?-1:0},e.prototype.withIndex=function(t){if(t===Oe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Oe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ze),r=t.getIterator(ze),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Oe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Je=new(function(e){function t(){return e.call(this,new Me(je),Xe.EMPTY_NODE,$e.Default)||this}return Object(o.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Xe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Xe));function et(e,t){if(void 0===t&&(t=null),null===e)return Xe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(i.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ge(e,et(t));if(e instanceof Array){var n=Xe.EMPTY_NODE;return M(e,(function(t,r){if(Object(i.contains)(e,t)&&"."!==t.substring(0,1)){var o=et(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(t,o))}})),n.updatePriority(et(t))}var r=[],o=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=et(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Ie(e,n)))}})),0===r.length)return Xe.EMPTY_NODE;var a=Ye(r,Fe,(function(e){return e.name}),je);if(o){var s=Ye(r,ze.getCompare());return new Xe(a,et(t),new $e({".priority":s},{".priority":ze}))}return new Xe(a,et(t),$e.Default)}Object.defineProperties(Ie,{MIN:{value:new Ie(I,Xe.EMPTY_NODE)},MAX:{value:new Ie(x,Je)}}),Ae.__EMPTY_NODE=Xe.EMPTY_NODE,Ge.__childrenNodeConstructor=Xe,Ee=Je,Ue=Je,function(e){Le=e}(et);var tt,nt,rt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(i.assert)(!ge(t)&&".priority"!==ce(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=et(e),r=Xe.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ie(t,r)},t.prototype.maxPost=function(){var e=Xe.EMPTY_NODE.updateChild(this.indexPath_,Je);return new Ie(x,e)},t.prototype.toString=function(){return de(this.indexPath_,0).join("/")},t}(xe),it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(e,t){var n=et(e);return new Ie(t,n)},t.prototype.toString=function(){return".value"},t}(xe)),ot="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",at=(tt=0,nt=[],function(e){var t,n=e===tt;tt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ot.charAt(e%64),e=Math.floor(e/64);Object(i.assert)(0===e,"Cannot push at time == 0");var o=r.join("");if(n){for(t=11;t>=0&&63===nt[t];t--)nt[t]=0;nt[t]++}else for(t=0;t<12;t++)nt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=ot.charAt(nt[t]);return Object(i.assert)(20===o.length,"nextPushId: Length should be 20."),o}),st=function(e){if("2147483647"===e)return"-";var t=Q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return x;var o=ot.charAt(ot.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ut=function(e){if("-2147483648"===e)return I;var t=Q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ot.charAt(ot.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ct(e){return{type:"value",snapshotNode:e}}function lt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ht(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ft(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var dt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,a){Object(i.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ht(t,s)):Object(i.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(lt(t,n)):a.trackChildChange(ft(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ze,(function(e,r){t.hasChild(e)||n.trackChildChange(ht(e,r))})),t.isLeafNode()||t.forEachChild(ze,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ft(t,r,i))}else n.trackChildChange(lt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Xe.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),pt=function(){function e(t){this.indexedFilter_=new dt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ie(t,n))||(n=Xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Xe.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Xe.EMPTY_NODE);var i=this;return t.forEachChild(ze,(function(e,t){i.matches(new Ie(e,t))||(r=r.updateImmediateChild(e,Xe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),vt=function(){function e(e){this.rangedFilter_=new pt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ie(t,n))||(n=Xe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Xe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Xe.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Xe.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Xe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(i.assert)(u.numChildren()===this.limit_,"");var c=new Ie(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(ft(t,n,f)),u.updateImmediateChild(t,n);null!=o&&o.trackChildChange(ht(t,f));var v=u.updateImmediateChild(t,Xe.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(lt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=o&&(o.trackChildChange(ht(l.name,l.node)),o.trackChildChange(lt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Xe.EMPTY_NODE)):e},e}(),gt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ze},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function bt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function yt(e,t){var n=e.copy();return n.index_=t,n}function _t(e){var t,n={};return e.isDefault()||(e.index_===ze?t="$priority":e.index_===it?t="$value":e.index_===Oe?t="$key":(Object(i.assert)(e.index_ instanceof rt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(i.stringify)(t),e.startSet_&&(n.startAt=Object(i.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(i.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(i.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(i.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function wt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ze&&(t.i=e.index_.toString()),t}var Ct=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=k("p:rest:"),o.listens_={},o}return Object(o.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(i.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,o){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=_t(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(i.safeGet)(a.listens_,u)===c&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=_t(e._queryParams),r=e._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var i=n;404===e&&(i=null,e=null),null===e?(t.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var s=Object(o.e)(a,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(i.jsonEval)(h.responseText)}catch(t){R("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&R("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(ie),kt=function(){function e(){this.rootNode_=Xe.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function St(){return{value:null,children:new Map}}function Et(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ce(t);e.children.has(r)||e.children.set(r,St()),Et(e.children.get(r),t=he(t),n)}}function Rt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Rt(r,new se(t.toString()+"/"+e),n)}))}var Tt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(o.a)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),It=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Tt(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,o){o>0&&Object(i.contains)(e.statsToReport_,t)&&(n[t]=o,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),xt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function At(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Ot,Nt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=xt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ge(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new se(t));return new e(ue(),n,this.revert)}return Object(i.assert)(ce(this.path)===t,"operationForChild called for unrelated child."),new e(he(this.path),this.affectedTree,this.revert)},e}(),Pt=function(){function e(e,t){this.source=e,this.path=t,this.type=xt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,ue()):new e(this.source,he(this.path))},e}(),Dt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=xt.OVERWRITE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,ue(),this.snap.getImmediateChild(t)):new e(this.source,he(this.path),this.snap)},e}(),Mt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=xt.MERGE}return e.prototype.operationForChild=function(t){if(ge(this.path)){var n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Dt(this.source,ue(),n.value):new e(this.source,ue(),n)}return Object(i.assert)(ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,he(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ft=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;var t=ce(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),jt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Qt(e,t,n,r,o,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),o=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);o.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Lt(e,t){return{eventCache:e,serverCache:t}}function Ut(e,t,n,r){return Lt(new Ft(t,n,r),e.serverCache)}function Vt(e,t,n,r){return Lt(e.eventCache,new Ft(t,n,r))}function Bt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function qt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Ht=function(){function e(e,t){void 0===t&&(Ot||(Ot=new Me(O)),t=Ot),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new se(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ue(),value:this.value};if(ge(e))return null;var n=ce(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(he(e),t);return null!=i?{path:ve(new se(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(ge(t))return this;var n=ce(t),r=this.children.get(n);return null!==r?r.subtree(he(t)):new e(null)},e.prototype.set=function(t,n){if(ge(t))return new e(n,this.children);var r=ce(t),i=(this.children.get(r)||new e(null)).set(he(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ge(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ce(t),r=this.children.get(n);if(r){var i=r.remove(he(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ge(e))return this.value;var t=ce(e),n=this.children.get(t);return n?n.get(he(e)):null},e.prototype.setTree=function(t,n){if(ge(t))return n;var r,i=ce(t),o=(this.children.get(i)||new e(null)).setTree(he(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(ue(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ve(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ue(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ge(e))return null;var i=ce(e),o=this.children.get(i);return o?o.findOnPath_(he(e),ve(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ue(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ge(t))return this;this.value&&r(n,this.value);var i=ce(t),o=this.children.get(i);return o?o.foreachOnPath_(he(t),ve(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ue(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ve(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Gt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Ht(null))},e}();function zt(e,t,n){if(ge(t))return new Gt(new Ht(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=be(i,t);return o=o.updateChild(a,n),new Gt(e.writeTree_.set(i,o))}var s=new Ht(n),u=e.writeTree_.setTree(t,s);return new Gt(u)}function Kt(e,t,n){var r=e;return M(n,(function(e,n){r=zt(r,ve(t,e),n)})),r}function Wt(e,t){if(ge(t))return Gt.empty();var n=e.writeTree_.setTree(t,new Ht(null));return new Gt(n)}function Yt(e,t){return null!=Zt(e,t)}function Zt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(be(n.path,t)):null}function $t(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ze,(function(e,n){t.push(new Ie(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ie(e,n.value))})),t}function Xt(e,t){if(ge(t))return e;var n=Zt(e,t);return new Gt(null!=n?new Ht(n):e.writeTree_.subtree(t))}function Jt(e){return e.writeTree_.isEmpty()}function en(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var o=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(Object(i.assert)(null!==a.value,"Priority writes must always be leaf nodes"),o=a.value):r=e(ve(t,n),a,r)})),r.getChild(t).isEmpty()||null===o||(r=r.updateChild(ve(t,".priority"),o)),r}(ue(),e.writeTree_,t)}function tn(e,t){return dn(t,e)}function nn(e,t){if(e.snap)return _e(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&_e(ve(e.path,n),t))return!0;return!1}function rn(e){return e.visible}function on(e,t,n){for(var r=Gt.empty(),o=0;o<e.length;++o){var a=e[o];if(t(a)){var s=a.path,u=void 0;if(a.snap)_e(n,s)?r=zt(r,u=be(n,s),a.snap):_e(s,n)&&(u=be(s,n),r=zt(r,ue(),a.snap.getChild(u)));else{if(!a.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(_e(n,s))r=Kt(r,u=be(n,s),a.children);else if(_e(s,n))if(ge(u=be(s,n)))r=Kt(r,ue(),a.children);else{var c=Object(i.safeGet)(a.children,ce(u));if(c){var l=c.getChild(he(u));r=zt(r,ue(),l)}}}}}return r}function an(e,t,n,r,i){if(r||i){var o=Xt(e.visibleWrites,t);return!i&&Jt(o)?n:i||null!=n||Yt(o,ue())?en(on(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(_e(e.path,t)||_e(t,e.path))}),t),n||Xe.EMPTY_NODE):null}var a=Zt(e.visibleWrites,t);if(null!=a)return a;var s=Xt(e.visibleWrites,t);return Jt(s)?n:null!=n||Yt(s,ue())?en(s,n||Xe.EMPTY_NODE):null}function sn(e,t,n,r){return an(e.writeTree,e.treePath,t,n,r)}function un(e,t){return function(e,t,n){var r=Xe.EMPTY_NODE,i=Zt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ze,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Xt(e.visibleWrites,t);return n.forEachChild(ze,(function(e,t){var n=en(Xt(o,new se(e)),t);r=r.updateImmediateChild(e,n)})),$t(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return $t(Xt(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function cn(e,t,n,r){return function(e,t,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=ve(t,n);if(Yt(e.visibleWrites,a))return null;var s=Xt(e.visibleWrites,a);return Jt(s)?o.getChild(n):en(s,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ln(e,t){return function(e,t){return Zt(e.visibleWrites,t)}(e.writeTree,ve(e.treePath,t))}function hn(e,t,n){return function(e,t,n,r){var i=ve(t,n),o=Zt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?en(Xt(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function fn(e,t){return dn(ve(e.treePath,t),e.writeTree)}function dn(e,t){return{treePath:e,writeTree:t}}var pn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(i.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,ft(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,ht(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,lt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ft(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),vn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),gn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ft(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Xt(e.visibleWrites,t),c=Zt(u,ue());if(null!=c)s=c;else{if(null==n)return[];s=en(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function bn(e,t,n,r,o,a){var s=t.eventCache;if(null!=ln(r,n))return t;var u=void 0,c=void 0;if(ge(n))if(Object(i.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=qt(t),h=un(r,l instanceof Xe?l:Xe.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=sn(r,qt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ce(n);if(".priority"===d){Object(i.assert)(1===le(n),"Can't have a priority with additional path components");var p=s.getNode(),v=cn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=he(n),b=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=cn(r,n,s.getNode(),c);b=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else b=hn(r,d,t.serverCache);u=null!=b?e.filter.updateChild(s.getNode(),d,b,g,o,a):s.getNode()}}return Ut(t,u,s.isFullyInitialized()||ge(n),e.filter.filtersNodes())}function mn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(ge(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ce(n);if(!c.isCompleteForPath(n)&&le(n)>1)return t;var d=he(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,vn,null)}var v=Vt(t,u,c.isFullyInitialized()||ge(n),l.filtersNodes());return bn(e,v,n,i,new gn(i,v,o),s)}function yn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new gn(i,t,o);if(ge(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Ut(t,u,!0,e.filter.filtersNodes());else{var h=ce(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Ut(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=he(n),d=c.getNode().getImmediateChild(h),p=void 0;if(ge(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===fe(f)&&v.getChild(pe(f)).isEmpty()?v:v.updateChild(f,r):Xe.EMPTY_NODE}s=d.equals(p)?t:Ut(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function _n(e,t){return e.eventCache.isCompleteForChild(t)}function wn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Cn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ge(n)?r:new Ht(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=wn(0,t.serverCache.getNode().getImmediateChild(n),r);c=mn(e,c,new se(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=wn(0,t.serverCache.getNode().getImmediateChild(n),r);c=mn(e,c,new se(n),h,i,o,a,s)}})),c}var kn,Sn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new dt(r.getIndex()),o=(n=r).loadsAllData()?new dt(n.getIndex()):n.hasLimit()?new vt(n):new pt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Xe.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Xe.EMPTY_NODE,s.getNode(),null),l=new Ft(u,a.isFullyInitialized(),i.filtersNodes()),h=new Ft(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Lt(h,l),this.eventGenerator_=new jt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function En(e,t){var n=qt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(ce(t)).isEmpty())?n.getChild(t):null}function Rn(e){return 0===e.eventRegistrations_.length}function Tn(e,t,n){var r=[];if(n){Object(i.assert)(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,o);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function In(e,t,n,r){t.type===xt.MERGE&&null!==t.source.queryId&&(Object(i.assert)(qt(e.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(Bt(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,s=e.viewCache_,u=function(e,t,n,r,o){var a,s,u=new pn;if(n.type===xt.OVERWRITE){var c=n;c.source.fromUser?a=yn(e,t,c.path,c.snap,r,o,u):(Object(i.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!ge(c.path),a=mn(e,t,c.path,c.snap,r,o,s,u))}else if(n.type===xt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=ve(n,r);_n(t,ce(c))&&(s=yn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=ve(n,r);_n(t,ce(c))||(s=yn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,o,u):(Object(i.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Cn(e,t,l.path,l.children,r,o,s,u))}else if(n.type===xt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,o,a){var s;if(null!=ln(r,n))return t;var u=new gn(r,t,o),c=t.eventCache.getNode(),l=void 0;if(ge(n)||".priority"===ce(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=sn(r,qt(t));else{var f=t.serverCache.getNode();Object(i.assert)(f instanceof Xe,"serverChildren would be complete if leaf node"),h=un(r,f)}l=e.filter.updateFullNode(c,h=h,a)}else{var d=ce(n),p=hn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,he(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,Xe.EMPTY_NODE,he(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=sn(r,qt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=ln(r,ue()),Ut(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,o,u):function(e,t,n,r,i,o,a){if(null!=ln(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ge(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return mn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(ge(n)){var c=new Ht(null);return u.getNode().forEachChild(Oe,(function(e,t){c=c.set(new se(e),t)})),Cn(e,t,n,c,i,o,s,a)}return t}var l=new Ht(null);return r.foreach((function(e,t){var r=ve(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Cn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,o,u)}else{if(n.type!==xt.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return bn(e,Vt(t,o.getNode(),o.isFullyInitialized()||ge(n),o.isFiltered()),n,r,vn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Bt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ct(Bt(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return o=e.processor_,a=u.viewCache,Object(i.assert)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,xn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function xn(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})})),Qt(e,i,"child_removed",t,r,n),Qt(e,i,"child_added",t,r,n),Qt(e,i,"child_moved",o,r,n),Qt(e,i,"child_changed",t,r,n),Qt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var An,On=function(){this.views=new Map};function Nn(e,t,n,r){var a,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(i.assert)(null!=c,"SyncTree gave us an op for an invalid query."),In(c,t,n,r)}var l=[];try{for(var h=Object(o.g)(e.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(In(c=f.value,t,n,r))}catch(d){a={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return l}function Pn(e,t,n,r,i){var o=e.views.get(t._queryIdentifier);if(!o){var a=sn(n,i?r:null),s=!1;a?s=!0:r instanceof Xe?(a=un(n,r),s=!1):(a=Xe.EMPTY_NODE,s=!1);var u=Lt(new Ft(a,s,!1),new Ft(r,i,!1));return new Sn(t,u)}return o}function Dn(e){var t,n,r=[];try{for(var i=Object(o.g)(e.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Mn(e,t){var n,r,i=null;try{for(var a=Object(o.g)(e.views.values()),s=a.next();!s.done;s=a.next())i=i||En(s.value,t)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function Fn(e,t){return t._queryParams.loadsAllData()?Ln(e):e.views.get(t._queryIdentifier)}function jn(e,t){return null!=Fn(e,t)}function Qn(e){return null!=Ln(e)}function Ln(e){var t,n;try{for(var r=Object(o.g)(e.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query._queryParams.loadsAllData())return a}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Un=1,Vn=function(e){this.listenProvider_=e,this.syncPointTree_=new Ht(null),this.pendingWriteTree_={visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Bn(e,t,n,r,o){return function(e,t,n,r,o){Object(i.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=zt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Wn(e,new Dt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function qn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,a=!1,s=e.allWrites.length-1;o&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&nn(u,r.path)?o=!1:_e(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?(function(e){e.visibleWrites=on(e.allWrites,rn,ue()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Wt(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=Wt(e.visibleWrites,ve(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var o=new Ht(null);return null!=r.snap?o=o.set(ue(),!0):M(r.children,(function(e){o=o.set(new se(e),!0)})),Wn(e,new Nt(r.path,o,n))}return[]}function Hn(e,t,n){return Wn(e,new Dt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Gn(e,t,n,r){var a=t._path,s=e.syncPointTree_.get(a),u=[];if(s&&("default"===t._queryIdentifier||jn(s,t))){var c=function(e,t,n,r){var a,s,u=t._queryIdentifier,c=[],l=[],h=Qn(e);if("default"===u)try{for(var f=Object(o.g)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=Object(o.e)(d.value,2),g=v[0];l=l.concat(Tn(p=v[1],n,r)),Rn(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(b){a={error:b}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}else(p=e.views.get(u))&&(l=l.concat(Tn(p,n,r)),Rn(p)&&(e.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Qn(e)&&c.push(new(Object(i.assert)(kn,"Reference.ts has not been loaded"),kn)(t._repo,t._path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Qn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Qn(t))return[Ln(t)];var r=[];return t&&(r=Dn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(d),v=0;v<p.length;++v){var g=p[v],b=g.query,m=Yn(e,g);e.listenProvider_.startListening(tr(b),Zn(e,b),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(tr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get($n(t));e.listenProvider_.stopListening(tr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=$n(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function zn(e,t,n){var r=t._path,o=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=be(e,r);o=o||Mn(t,n),a=a||Qn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Qn(u),o=o||Mn(u,ue())):(u=new On,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=o?s=!0:(s=!1,o=Xe.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Mn(t,ue());n&&(o=o.updateImmediateChild(e,n))})));var c=jn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=$n(t);Object(i.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Un++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Pn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ze,(function(e,t){r.push(lt(e,t))})),n.isFullyInitialized()&&r.push(ct(n.getNode())),xn(e,r,n.getNode(),t)}(a,n)}(u,t,n,tn(e.pendingWriteTree_,r),o,s);if(!c&&!a){var d=Fn(u,t);f=f.concat(function(e,t,n){var r=t._path,o=Zn(e,t),a=Yn(e,n),s=e.listenProvider_.startListening(tr(t),o,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(o)Object(i.assert)(!Qn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!ge(e)&&t&&Qn(t))return[Ln(t).query];var r=[];return t&&(r=r.concat(Dn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(tr(h),Zn(e,h))}return s}(e,t,d))}return f}function Kn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Mn(n,be(e,t));if(r)return r}));return an(r,t,i,n,!0)}function Wn(e,t){return function e(t,n,r,i){if(ge(t.path))return function e(t,n,r,i){var o=n.get(ue());null==r&&null!=o&&(r=Mn(o,ue()));var a=[];return n.children.inorderTraversal((function(n,o){var s=r?r.getImmediateChild(n):null,u=fn(i,n),c=t.operationForChild(n);c&&(a=a.concat(e(c,o,s,u)))})),o&&(a=a.concat(Nn(o,t,i,r))),a}(t,n,r,i);var o=n.get(ue());null==r&&null!=o&&(r=Mn(o,ue()));var a=[],s=ce(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,h=fn(i,s);a=a.concat(e(u,c,l,h))}return o&&(a=a.concat(Nn(o,t,i,r))),a}(t,e.syncPointTree_,null,tn(e.pendingWriteTree_,ue()))}function Yn(e,t){var n=t.query,r=Zn(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Xe.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Xn(e,n);if(r){var i=Jn(r),o=i.path,a=i.queryId,s=be(o,t);return er(e,o,new Pt(At(a),s))}return[]}(e,n._path,r):function(e,t){return Wn(e,new Pt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Gn(e,n,null,i)}}}function Zn(e,t){var n=$n(t);return e.queryToTagMap.get(n)}function $n(e){return e._path.toString()+"$"+e._queryIdentifier}function Xn(e,t){return e.tagToQueryMap.get(t)}function Jn(e){var t=e.indexOf("$");return Object(i.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function er(e,t,n){var r=e.syncPointTree_.get(t);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),Nn(r,n,tn(e.pendingWriteTree_,t),null)}function tr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(i.assert)(An,"Reference.ts has not been loaded"),An)(e._repo,e._path):e}var nr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),rr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ve(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Kn(this.syncTree_,this.path_)},e}(),ir=function(e,t,n){return e&&"object"==typeof e?(Object(i.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?or(e[".sv"],t,n):"object"==typeof e[".sv"]?ar(e[".sv"],t):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},or=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(i.assert)(!1,"Unexpected server value: "+e)}},ar=function(e,t,n){e.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=t.node();if(Object(i.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!=typeof a?r:a+r},sr=function(e,t,n,r){return cr(t,new rr(n,e),r)},ur=function(e,t,n){return cr(e,new nr(t),n)};function cr(e,t,n){var r,i=e.getPriority().val(),o=ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ir(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ge(s,et(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ge(o))),u.forEachChild(ze,(function(e,i){var o=cr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var lr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function hr(e,t){for(var n=t instanceof se?t:new se(t),r=e,o=ce(n);null!==o;){var a=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new lr(o,r,a),o=ce(n=he(n))}return r}function fr(e){return e.node.value}function dr(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){var o=function(e){return void 0===fr(e)&&!pr(e)}(r),a=Object(i.contains)(t.node.children,n);o&&a?(delete t.node.children[n],t.node.childCount--,e(t)):o||a||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function pr(e){return e.node.childCount>0}function vr(e,t){M(e.node.children,(function(n,r){t(new lr(n,e,r))}))}function gr(e){return new se(null===e.parent?e.name:gr(e.parent)+"/"+e.name)}var br=/[\[\].#$\/\u0000-\u001F\u007F]/,mr=/[\[\].#$\u0000-\u001F\u007F]/,yr=function(e){return"string"==typeof e&&0!==e.length&&!br.test(e)},_r=function(e){return"string"==typeof e&&0!==e.length&&!mr.test(e)},wr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!T(e)||e&&"object"==typeof e&&Object(i.contains)(e,".sv")},Cr=function(e,t,n,r){r&&void 0===t||kr(Object(i.errorPrefix)(e,"value"),t,n)},kr=function e(t,n,r){var o=r instanceof se?new we(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ke(o));if("function"==typeof n)throw new Error(t+"contains a function "+ke(o)+" with contents = "+n.toString());if(T(n))throw new Error(t+"contains "+n.toString()+" "+ke(o));if("string"==typeof n&&n.length>10485760/3&&Object(i.stringLength)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+ke(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(M(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!yr(n)))throw new Error(t+" contains an invalid key ("+n+") "+ke(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(i.stringLength)(t),Ce(e)}(o,n),e(t,r,o),c=(u=o).parts_.pop(),u.byteLength_-=Object(i.stringLength)(c),u.parts_.length>0&&(u.byteLength_-=1)})),a&&s)throw new Error(t+' contains ".value" child '+ke(o)+" in addition to actual children.")}},Sr=function(e,t,n,r){if(!r||void 0!==t){var o=Object(i.errorPrefix)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new se(e);if(kr(o,t,ve(n,r)),".priority"===fe(r)&&!wr(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=de(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(me);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&_e(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},Er=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wr(t))throw new Error(Object(i.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Tr=function(e,t,n,r){if(!(r&&void 0===n||yr(n)))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ir=function(e,t,n,r){if(!(r&&void 0===n||_r(n)))throw new Error(Object(i.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xr=function(e,t){if(".info"===ce(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ar=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!yr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_r(e)}(n))throw new Error(Object(i.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Or=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.errorPrefix)(e,t)+"must be a boolean.")},Nr=function(){this.eventLists_=[],this.recursionDepth_=0};function Pr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||ye(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Dr(e,t,n){Pr(e,n),Fr(e,(function(e){return ye(e,t)}))}function Mr(e,t,n){Pr(e,n),Fr(e,(function(e){return _e(e,t)||_e(t,e)}))}function Fr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(jr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function jr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();y&&C("event: "+n.toString()),L(r)}}}var Qr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=St(),this.transactionQueueTree_=new lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Lr(e){var t=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ur(e){return(t=(t={timestamp:Lr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Vr(e,t,n,r,o){e.dataUpdateCount++;var a=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(o)if(r){var u=Object(i.map)(n,(function(e){return et(e)}));s=function(e,t,n,r){var i=Xn(e,r);if(i){var o=Jn(i),a=o.path,s=o.queryId,u=be(a,t),c=Ht.fromObject(n);return er(e,a,new Mt(At(s),u,c))}return[]}(e.serverSyncTree_,a,u,o)}else{var c=et(n);s=function(e,t,n,r){var i=Xn(e,r);if(null!=i){var o=Jn(i),a=o.path,s=o.queryId,u=be(a,t);return er(e,a,new Dt(At(s),u,n))}return[]}(e.serverSyncTree_,a,c,o)}else if(r){var l=Object(i.map)(n,(function(e){return et(e)}));s=function(e,t,n){var r=Ht.fromObject(n);return Wn(e,new Mt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=et(n);s=Hn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Jr(e,a)),Mr(e.eventQueue_,f,s)}function Br(e,t){qr(e,"connected",t),!1===t&&function(e){Yr(e,"onDisconnectEvents");var t=Ur(e),n=St();Rt(e.onDisconnect_,ue(),(function(r,i){var o=sr(r,i,e.serverSyncTree_,t);Et(n,r,o)}));var r=[];Rt(n,ue(),(function(t,n){r=r.concat(Hn(e.serverSyncTree_,t,n));var i=ri(e,t);Jr(e,i)})),e.onDisconnect_=St(),Mr(e.eventQueue_,ue(),r)}(e)}function qr(e,t,n){var r=new se("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var o=Hn(e.infoSyncTree_,r,i);Mr(e.eventQueue_,r,o)}function Hr(e){return e.nextWriteId_++}function Gr(e,t,n,r,i){Yr(e,"set",{path:t.toString(),value:n,priority:r});var o=Ur(e),a=et(n,r),s=Kn(e.serverSyncTree_,t),u=ur(a,s,o),c=Hr(e),l=Bn(e.serverSyncTree_,t,u,c,!0);Pr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||R("set at "+t+" failed: "+n);var a=qn(e.serverSyncTree_,c,!o);Mr(e.eventQueue_,t,a),Zr(0,i,n,r)}));var h=ri(e,t);Jr(e,h),Mr(e.eventQueue_,h,[])}function zr(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Et(e.onDisconnect_,t,i),Zr(0,r,n,o)}))}function Kr(e,t,n){var r;r=".info"===ce(t._path)?Gn(e.infoSyncTree_,t,n):Gn(e.serverSyncTree_,t,n),Dr(e.eventQueue_,t._path,r)}function Wr(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function Yr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),C.apply(void 0,Object(o.f)([r],Object(o.e)(t)))}function Zr(e,t,n,r){t&&L((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function $r(e,t,n){return Kn(e.serverSyncTree_,t,n)||Xe.EMPTY_NODE}function Xr(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ni(e,t),fr(t)){var n=ti(e,t);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),o=$r(e,t,r),a=o,s=o.hash(),u=0;u<n.length;u++){var c=n[u];Object(i.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=be(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){Yr(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(qn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(ni(e,hr(e.transactionQueueTree_,t)),Xr(e,e.transactionQueueTree_),Mr(e.eventQueue_,t,i),s=0;s<o.length;s++)L(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(R("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;Jr(e,t)}}),s)}(e,gr(t),n)}else pr(t)&&vr(t,(function(t){Xr(e,t)}))}function Jr(e,t){var n=ei(e,t),r=gr(n);return function(e,t,n){if(0!==t.length){for(var r=[],o=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c=t[s],l=be(n,c.path),h=!1;if(Object(i.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,o=o.concat(qn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",o=o.concat(qn(e.serverSyncTree_,c.currentWriteId,!0));else{var f=$r(e,c.path,a);c.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){kr("transaction failed: Data returned ",d,c.path);var p=et(d);"object"==typeof d&&null!=d&&Object(i.contains)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Ur(e),b=ur(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=b,c.currentWriteId=Hr(e),a.splice(a.indexOf(v),1),o=(o=o.concat(Bn(e.serverSyncTree_,c.path,b,c.currentWriteId,c.applyLocally))).concat(qn(e.serverSyncTree_,v,!0))}else h=!0,u="nodata",o=o.concat(qn(e.serverSyncTree_,c.currentWriteId,!0))}Mr(e.eventQueue_,n,o),o=[],h&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&r.push("nodata"===u?function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)}:function(){return t[s].onComplete(new Error(u),!1,null)}))},u=0;u<t.length;u++)s(u);for(ni(e,e.transactionQueueTree_),u=0;u<r.length;u++)L(r[u]);Xr(e,e.transactionQueueTree_)}}(e,ti(e,n),r),r}function ei(e,t){var n,r=e.transactionQueueTree_;for(n=ce(t);null!==n&&void 0===fr(r);)r=hr(r,n),n=ce(t=he(t));return r}function ti(e,t){var n=[];return function e(t,n,r){var i=fr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);vr(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ni(e,t){var n=fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,dr(t,n.length>0?n:void 0)}vr(t,(function(t){ni(e,t)}))}function ri(e,t){var n=gr(ei(e,t)),r=hr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ii(e,t)})),ii(e,r),function e(t,n,r,i){r&&!i&&n(t),vr(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(r,(function(t){ii(e,t)})),n}function ii(e,t){var n=fr(t);if(n){for(var r=[],o=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(i.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(i.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(qn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?dr(t,void 0):n.length=a+1,Mr(e.eventQueue_,gr(t),o),s=0;s<r.length;s++)L(r[s])}}var oi=function(e,t){var n=ai(e),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&R("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new se(n.pathString)}},ai=function(e){var t="",n="",r="",i="",a="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(o.g)(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):R("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:a}},si=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},e}(),ui=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ci=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e,t,n,r=new i.Deferred;return e=this._repo,t=this._path,n=r.wrapCallback((function(){})),e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(ge(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(ze,(function(e,n){Et(t,new se(e),n)})),e(t,n)}if(t.children.size>0){var i=ce(n);return n=he(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),Zr(0,n,r,i)})),r.promise},e.prototype.remove=function(){xr("OnDisconnect.remove",this._path);var e=new i.Deferred;return zr(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){xr("OnDisconnect.set",this._path),Cr("OnDisconnect.set",e,this._path,!1);var t=new i.Deferred;return zr(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){xr("OnDisconnect.setWithPriority",this._path),Cr("OnDisconnect.setWithPriority",e,this._path,!1),Er("OnDisconnect.setWithPriority",t,!1);var n=new i.Deferred;return function(e,t,n,r,i){var o=et(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Et(e.onDisconnect_,t,o),Zr(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){xr("OnDisconnect.update",this._path),Sr("OnDisconnect.update",e,this._path,!1);var t=new i.Deferred;return function(e,t,n,r){if(Object(i.isEmpty)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void Zr(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=et(r);Et(e.onDisconnect_,ve(t,n),i)})),Zr(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),hi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:fe(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=wt(this._queryParams),t=P(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return wt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(i.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=ye(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function di(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Oe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==x)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===ze){if(null!=t&&!wr(t)||null!=n&&!wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(e.getIndex()instanceof rt||e.getIndex()===it,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var vi=function(e){function t(t,n){return e.call(this,t,n,new gt,!1)||this}return Object(o.c)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=pe(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(hi),gi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new se(t),r=yi(this.ref,t);return new e(this._node.getChild(n),r,ze)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,yi(n.ref,r),ze))}))},e.prototype.hasChild=function(e){var t=new se(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function bi(e,t){return(e=Object(i.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?yi(e._root,t):e._root}function mi(e,t){(e=Object(i.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=oi(t,e._repo.repoInfo_.nodeAdmin);Ar("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),bi(e,n.path.toString())}function yi(e,t){var n;return null===ce((e=Object(i.getModularInstance)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ir("child","path",n,!1)):Ir("child","path",t,!1),new vi(e._repo,ve(e._path,t))}function _i(e,t){e=Object(i.getModularInstance)(e),xr("push",e._path),Cr("push",t,e._path,!0);var n,r=Lr(e._repo),o=at(r),a=yi(e,o),s=yi(e,o);return n=null!=t?Ci(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function wi(e){return xr("remove",e._path),Ci(e,null)}function Ci(e,t){e=Object(i.getModularInstance)(e),xr("set",e._path),Cr("set",t,e._path,!1);var n=new i.Deferred;return Gr(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ki(e,t){e=Object(i.getModularInstance)(e),xr("setPriority",e._path),Er("setPriority",t,!1);var n=new i.Deferred;return Gr(e._repo,ve(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Si(e,t,n){if(xr("setWithPriority",e._path),Cr("setWithPriority",t,e._path,!1),Er("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new i.Deferred;return Gr(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Ei(e,t){Sr("update",t,e._path,!1);var n=new i.Deferred;return function(e,t,n,r){Yr(e,"update",{path:t.toString(),value:n});var o=!0,a=Ur(e),s={};if(M(n,(function(n,r){o=!1,s[n]=sr(ve(t,n),et(r),e.serverSyncTree_,a)})),o)C("update() called with empty data.  Don't do anything."),Zr(0,r,"ok",void 0);else{var u=Hr(e),c=function(e,t,n,r){!function(e,t,n,r){Object(i.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Kt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var o=Ht.fromObject(n);return Wn(e,new Mt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(e.serverSyncTree_,t,s,u);Pr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||R("update at "+t+" failed: "+n);var a=qn(e.serverSyncTree_,u,!o),s=a.length>0?Jr(e,t):t;Mr(e.eventQueue_,s,a),Zr(0,r,n,i)})),M(n,(function(n){var r=ri(e,ve(t,n));Jr(e,r)})),Mr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Ri=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new si("value",this,new gi(e.snapshotNode,new vi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ui(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ti=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return this.eventType===("children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ui(this,e,t):null},e.prototype.createEvent=function(e,t){Object(i.assert)(null!=e.childName,"Child events should have a childName.");var n=yi(new vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new si(e.type,this,new gi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ii(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Kr(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ci(n,o||void 0),c="value"===t?new Ri(u):new Ti(t,u);return function(e,t,n){var r;r=".info"===ce(t._path)?zn(e.infoSyncTree_,t,n):zn(e.serverSyncTree_,t,n),Dr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Kr(e._repo,e,c)}}function xi(e,t,n,r){return Ii(e,"value",t,n,r)}function Ai(e,t,n,r){return Ii(e,"child_added",t,n,r)}function Oi(e,t,n,r){return Ii(e,"child_changed",t,n,r)}function Ni(e,t,n,r){return Ii(e,"child_moved",t,n,r)}function Pi(e,t,n,r){return Ii(e,"child_removed",t,n,r)}function Di(e,t,n){var r=null,i=n?new ci(n):null;"value"===t?r=new Ri(i):t&&(r=new Ti(t,i)),Kr(e._repo,e,r)}var Mi=function(){},Fi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){Cr("endAt",this._value,e._path,!0);var t=mt(e._queryParams,this._value,this._key);if(pi(t),di(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(e._repo,e._path,t,e._orderByCalled)},t}(Mi);function ji(e,t){return Tr("endAt","key",t,!0),new Fi(e,t)}var Qi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){Cr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Oe?("string"==typeof n&&(n=ut(n)),i=mt(t,n,r)):i=mt(t,n,null==r?I:ut(r)),i.endBeforeSet_=!0,i);if(pi(o),di(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(e._repo,e._path,o,e._orderByCalled)},t}(Mi);function Li(e,t){return Tr("endBefore","key",t,!0),new Qi(e,t)}var Ui=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){Cr("startAt",this._value,e._path,!0);var t=bt(e._queryParams,this._value,this._key);if(pi(t),di(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(e._repo,e._path,t,e._orderByCalled)},t}(Mi);function Vi(e,t){return void 0===e&&(e=null),Tr("startAt","key",t,!0),new Ui(e,t)}var Bi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){Cr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Oe?("string"==typeof n&&(n=st(n)),i=bt(t,n,r)):i=bt(t,n,null==r?x:st(r)),i.startAfterSet_=!0,i);if(pi(o),di(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(e._repo,e._path,o,e._orderByCalled)},t}(Mi);function qi(e,t){return Tr("startAfter","key",t,!0),new Bi(e,t)}var Hi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="l",n),e._orderByCalled);var t,n},t}(Mi);function Gi(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hi(e)}var zi=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="r",n),e._orderByCalled);var t,n},t}(Mi);function Ki(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zi(e)}var Wi=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByChild");var t=new se(this._path);if(ge(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new rt(t),r=yt(e._queryParams,n);return di(r),new hi(e._repo,e._path,r,!0)},t}(Mi);function Yi(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ir("orderByChild","path",e,!1),new Wi(e)}var Zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByKey");var t=yt(e._queryParams,Oe);return di(t),new hi(e._repo,e._path,t,!0)},t}(Mi);function $i(){return new Zi}var Xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByPriority");var t=yt(e._queryParams,ze);return di(t),new hi(e._repo,e._path,t,!0)},t}(Mi);function Ji(){return new Xi}var eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.c)(t,e),t.prototype._apply=function(e){fi(e,"orderByValue");var t=yt(e._queryParams,it);return di(t),new hi(e._repo,e._path,t,!0)},t}(Mi);function to(){return new eo}var no=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(o.c)(t,e),t.prototype._apply=function(e){if(Cr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fi(this._value,this._key)._apply(new Ui(this._value,this._key)._apply(e))},t}(Mi);function ro(e,t){return Tr("equalTo","key",t,!0),new no(e,t)}function io(e){for(var t,n,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=Object(i.getModularInstance)(e);try{for(var u=Object(o.g)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(i.assert)(!kn,"__referenceConstructor has already been defined"),kn=e}(vi),function(e){Object(i.assert)(!An,"__referenceConstructor has already been defined"),An=e}(vi);var oo={},ao=!1;function so(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=oi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=oi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new q(q.OWNER):new B(e.name,e.options,t);Ar("Invalid Firebase Database URL",s),ge(s.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=oo[t.name];i||(oo[t.name]=i={});var o=i[e.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Qr(e,ao,n,r),i[e.toURLString()]=o,o}(u,e,l,new V(e.name,n));return new uo(h,e)}var uo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=Z(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ct(e.repoInfo_,(function(t,n,r,i){Vr(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Br(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}e.persistentConnection_=new Te(e.repoInfo_,t,(function(t,n,r,i){Vr(e,t,n,r,i)}),(function(t){Br(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){qr(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=function(){return new It(e.stats_,e.server_)},o=e.repoInfo_.toString(),Y[o]||(Y[o]=r()),Y[o]),e.infoData_=new kt,e.infoSyncTree_=new Vn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Hn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),qr(e,"connected",!1),e.serverSyncTree_=new Vn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Mr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new vi(this._repo,ue())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,(n=oo[t=this.app.name])&&n[e.key]===e||E("Database "+t+"("+e.repoInfo_+") has already been deleted."),Wr(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")},e}();function co(e){(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOffline"),Wr(e._repo)}function lo(e){var t;(e=Object(i.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},fo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function po(e,t,n){var r;if(e=Object(i.getModularInstance)(e),xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new i.Deferred,s=xi(e,(function(){}));return function(t,n,r,o,s,u){Yr(t,"transaction on "+n);var c={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new gi(r,new vi(e._repo,e._path),ze),a.resolve(new fo(n,i)))},status:null,order:g(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=$r(t,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{kr("transaction failed: Data returned ",h,c.path),c.status=0;var f=hr(t.transactionQueueTree_,n),d=fr(f)||[];d.push(c),dr(f,d);var p=void 0;"object"==typeof h&&null!==h&&Object(i.contains)(h,".priority")?(p=Object(i.safeGet)(h,".priority"),Object(i.assert)(wr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Kn(t.serverSyncTree_,n)||Xe.EMPTY_NODE).getPriority().val();var v=Ur(t),b=et(h,p),m=ur(b,l,v);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=m,c.currentWriteId=Hr(t);var y=Bn(t.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);Mr(t.eventQueue_,n,y),Xr(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,o),a.promise}var vo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,R("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},e}(),go=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),bo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Ir("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Ir("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new yo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),mo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,o){var a,s=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,o),c=function(e,t){n.call(u.context,new bo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return xi(this._delegate,c,l),n;case"child_added":return Ai(this._delegate,c,l),n;case"child_removed":return Pi(this._delegate,c,l),n;case"child_changed":return Oi(this._delegate,c,l),n;case"child_moved":return Ni(this._delegate,c,l),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),Rr("Query.off",e,!0),Object(i.validateCallback)("Query.off","callback",t,!0),Object(i.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Di(this._delegate,e,r)}else Di(this._delegate,e)},e.prototype.get=function(){var e=this;return function(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=be(e,n);r=r||Mn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Mn(i,ue()):(i=new On,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ft(r,!0,!1):null;return Bt(Pn(i,t,tn(e.pendingWriteTree_,t._path),o?a.getNode():Xe.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=et(n).withIndex(t._queryParams.getIndex()),i=Hn(e.serverSyncTree_,t._path,r);return Dr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Yr(e,"get for query "+Object(i.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(i.getModularInstance)(e))._repo,e).then((function(t){return new gi(t,new vi(e._repo,e._path),e._queryParams.getIndex())}))}(this._delegate).then((function(t){return new bo(e.database,t)}))},e.prototype.once=function(t,n,r,o){var a=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,o),u=new i.Deferred,c=function(e,t){var r=new bo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":xi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Ai(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Pi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Oi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Ni(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,io(this._delegate,Gi(t)))},e.prototype.limitToLast=function(t){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,io(this._delegate,Ki(t)))},e.prototype.orderByChild=function(t){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,io(this._delegate,Yi(t)))},e.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,io(this._delegate,$i()))},e.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,io(this._delegate,Ji()))},e.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,io(this._delegate,to()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,io(this._delegate,Vi(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,io(this._delegate,qi(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,io(this._delegate,ji(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,io(this._delegate,Li(t,n)))},e.prototype.equalTo=function(t,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,io(this._delegate,ro(t,n)))},e.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(i.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(i.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new yo(this.database,new vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),yo=function(e){function t(t,n){var r=e.call(this,t,new hi(n._repo,n._path,new gt,!1))||this;return r.database=t,r._delegate=n,r}return Object(o.c)(t,e),t.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,yi(this._delegate,e))},t.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",t,!0);var n=Ci(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,R("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xr("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",t,!0);var o=Ei(this._delegate,e);return t&&o.then((function(){return t(null)}),(function(e){return t(e)})),o},t.prototype.setWithPriority=function(e,t,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Si(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",e,!0);var t=wi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(i.validateCallback)("Reference.transaction","onComplete",t,!0),Or("Reference.transaction","applyLocally",n,!0);var o=po(this._delegate,e,{applyLocally:n}).then((function(e){return new go(e.committed,new bo(r.database,e.snapshot))}));return t&&o.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),o},t.prototype.setPriority=function(e,t){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=ki(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=_i(this._delegate,e),a=o.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,o);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return xr("Reference.onDisconnect",this._delegate._path),new vo(new li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(mo),_o=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=Object(i.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var o=e._repoInternal,a=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new q(q.OWNER);else if(r.mockUserToken){var s="string"==typeof r.mockUserToken?r.mockUserToken:Object(i.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new q(s)}!function(e,t,n,r){e.repoInfo_=new G(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(o,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),e instanceof yo){var t=mi(this._delegate,e.toString());return new yo(this,t)}return t=bi(this._delegate,e),new yo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(i.validateArgCount)(t,1,1,arguments.length);var n=mi(this._delegate,e);return new yo(this,n)},e.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),co(this._delegate)},e.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),lo(this._delegate)},e.ServerValue={TIMESTAMP:ho,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),wo=Object.freeze({__proto__:null,forceLongPolling:function(){te.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return te.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Tt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;u(e.version);var c=new r.Provider("auth-internal",new r.ComponentContainer("database-standalone"));return c.setComponent(new r.Component("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _o(so(t,c,void 0,n,s),t),namespace:o}}}),Co=Te;Te.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Te.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ko=Object.freeze({__proto__:null,DataConnection:Co,RealTimeConnection:re,hijackHash:function(e){var t=Te.prototype.put;return Te.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Te.prototype.put=t}},ConnectionTarget:G,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){ao=e}(e)}}),So=_o.ServerValue;!function(t){u(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new r.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new _o(so(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:yo,Query:mo,Database:_o,DataSnapshot:bo,enableLogging:w,INTERNAL:wo,ServerValue:So,TEST_ACCESS:ko}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),Object(i.isNodeSdk)()&&(e.exports=n)}(t.default)}).call(this,n("3UD+")(e))},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t,o){var a;switch(_classCallCheck(this,r),(a=n.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!e){a.destination=i.a;break}if("object"==typeof e){e instanceof r?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),e,t,o)}return a}return _createClass(r,[{key:t,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i}}]),r}(o.a,a.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[a.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}n.d(t,"a",(function(){return h}))},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},EcEN:function(e,t,n){var r=n("xDdU"),i=n("xk4V"),o=i;o.v1=r,o.v4=i,e.exports=o},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),u=n("2fFW");n.d(t,"a",(function(){return l}));var c,l=((c=function(e){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var a=this.operator,s=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(s.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),t}(a.a)).create=function(e){return new c(e)},c);function h(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},IjjT:function(e,t,n){"use strict";var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}();n.d(t,"a",(function(){return i}));var i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.default})),r.default.registerVersion("firebase","8.10.1","app"),r.default.SDK_VERSION="8.10.1"},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(r.a)(a)?(t.pop(),Object(o.a)(t,a)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},SeVD:function(e,t,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu");n.d(t,"a",(function(){return l}));var l=function(e){if(e&&"function"==typeof e[a.a])return l=e,function(e){var t=l[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},UyXh:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return b})),n.d(t,"__spreadArray",(function(){return m})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return k})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return R})),n.d(t,"__classPrivateFieldGet",(function(){return T})),n.d(t,"__classPrivateFieldSet",(function(){return I})),n.d(t,"__classPrivateFieldIn",(function(){return x}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return S(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function x(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},"X8/r":function(e,t,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("UyXh"),a=n("qOnz"),s=n("q/0M");var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function b(e,t){d.set(e,t)}function m(){return v}var y="https://content-firebaseappcheck.googleapis.com/v1beta",_=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function w(){return self.grecaptcha}function C(e){if(!g(e).activated)throw f.create("use-before-activation",{appName:e.name})}function k(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function S(e,t){var n=e.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:t}}}function E(e,t){var n=e.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:t}}}var R="firebase-app-check-store",T=null;function I(){return T||(T=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(R,{keyPath:"compositeKey"})}}}catch(c){t(f.create("storage-open",{originalErrorMessage:c.message}))}})))}function x(e){return O(N(e))}function A(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,I()];case 1:return n=o.sent(),r=n.transaction(R,"readwrite"),i=r.objectStore(R),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function O(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,I()];case 1:return t=o.sent(),n=t.transaction(R,"readonly"),r=n.objectStore(R),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function N(e){return e.options.appId+"-"+e.name}var P=new s.Logger("@firebase/app-check");function D(e,t){return a.isIndexedDBAvailable()?function(e,t){return A(N(e),t)}(e,t).catch((function(e){P.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function M(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var F={error:"UNKNOWN_ERROR"};function j(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,h,f,d,p;return o.__generator(this,(function(v){switch(v.label){case 0:return C(e),r=g(e),s=void 0,(i=r.token)?[3,2]:[4,r.cachedTokenPromise];case 1:(u=v.sent())&&V(u)&&(i=u,b(e,o.__assign(o.__assign({},r),{token:i})),U(e,{token:i.token})),v.label=2;case 2:return!n&&i&&V(i)?[2,{token:i.token}]:m().enabled?(l=k,h=E,f=[e],[4,M()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,f.concat([v.sent()])),t])];case 4:return c=v.sent(),[4,D(e,c)];case 5:return v.sent(),b(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return v.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=v.sent(),[3,9];case 8:return d=v.sent(),P.error(d),s=d,[3,9];case 9:return i?[3,10]:(p=function(e){return{token:(t=F,a.base64.encodeString(JSON.stringify(t),!1)),error:e};var t}(s),[3,12]);case 10:return p={token:i.token},b(e,o.__assign(o.__assign({},r),{token:i})),[4,D(e,i)];case 11:v.sent(),v.label=12;case 12:return U(e,p),[2,p]}}))}))}function Q(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new _((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,j(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,j(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,t.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0}),3e4,96e4)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&V(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&V(e)&&r({token:e.token})})).catch((function(){}));b(e,u)}function L(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),b(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function U(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function V(e){return e.expireTimeMillis-Date.now()>0}function B(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return C(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function q(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);b(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var H=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,B(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),f.create("recaptcha-error");case 4:return[2,k(S(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,function(e,t){var n=g(e),r=new a.Deferred;b(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u,c,l=w();return l?l.ready((function(){q(e,t,l,i),r.resolve(l)})):(u=function(){var n=w();if(!n)throw new Error("no recaptcha");n.ready((function(){q(e,t,n,i),r.resolve(n)}))},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(e,this._siteKey).catch((function(){}))},e}(),G=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{app:t,activate:function(e,r){return function(e,t,n,r){var i=g(e);if(i.activated)throw f.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,x(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),P.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&V(t)&&b(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"==typeof t?new H(t):t instanceof H||t instanceof G?t:new G({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,b(e,s),s.provider.initialize(e,n)}(t,e,n,r)},setTokenAutoRefreshEnabled:function(e){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),b(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(t,e)},getToken:function(e){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,j(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(t,n,e)},onTokenChanged:function(e,r,i){return function(e,t,n,r,i){var o,a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),Q(e,t,"EXTERNAL",o,a),function(){return L(e,o)}}(t,n,e,r)},INTERNAL:{delete:function(){for(var e=0,n=g(t).tokenObservers;e<n.length;e++)L(t,n[e].next);return Promise.resolve()}}};var t,n}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:H,CustomProvider:G}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("app-check-internal").initialize()}))),e.INTERNAL.registerComponent(new i.Component("app-check-internal",(function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{getToken:function(e){return j(t,n,e)},addTokenListener:function(e){return Q(t,n,"INTERNAL",e)},removeTokenListener:function(e){return L(t,e)}};var t,n}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,O("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:((r=t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),A("debug-token",r)).catch((function(e){return P.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}())}}()},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return _createClass(n)}(i.a),l=function(){var e=function(e,t){_inherits(i,e);var n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(i,[{key:t,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.a;return _get(_getPrototypeOf(i.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new s.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),i}(r.a,u.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,a);if(!s.closed)return t instanceof o.a?t.subscribe(s):Object(i.a)(t)(s)}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},fXoL:function(e,t,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("z+Ro"),s=n("bHdf"),u=n("yCtX"),c=n("7o/Q");function l(){return function(e){return e.lift(new f(e))}}var h,f=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new d(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(c.a),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new i.a).add(this.source.subscribe(new g(this.getSubject(),this))),e.closed&&(this._connection=null,e=i.a.EMPTY)),e}},{key:"refCount",value:function(){return l()(this)}}]),n}(o.a),v={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(h=p.prototype)._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function b(){return new r.a}function m(e){return{toString:e}.toString()}function y(e,t,n){return m((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}n.d(t,"a",(function(){return Co})),n.d(t,"b",(function(){return Ru})),n.d(t,"c",(function(){return wu})),n.d(t,"d",(function(){return yu})),n.d(t,"e",(function(){return _u})),n.d(t,"f",(function(){return mc})),n.d(t,"g",(function(){return uc})),n.d(t,"h",(function(){return io})),n.d(t,"i",(function(){return ju})),n.d(t,"j",(function(){return es})),n.d(t,"k",(function(){return xu})),n.d(t,"l",(function(){return ts})),n.d(t,"m",(function(){return Sn})),n.d(t,"n",(function(){return ru})),n.d(t,"o",(function(){return re})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return ne})),n.d(t,"r",(function(){return wo})),n.d(t,"s",(function(){return _s})),n.d(t,"t",(function(){return ws})),n.d(t,"u",(function(){return Iu})),n.d(t,"v",(function(){return ge})),n.d(t,"w",(function(){return lc})),n.d(t,"x",(function(){return ve})),n.d(t,"y",(function(){return nc})),n.d(t,"z",(function(){return Vu})),n.d(t,"A",(function(){return w})),n.d(t,"B",(function(){return Eu})),n.d(t,"C",(function(){return Su})),n.d(t,"D",(function(){return os})),n.d(t,"E",(function(){return rs})),n.d(t,"F",(function(){return is})),n.d(t,"G",(function(){return ss})),n.d(t,"H",(function(){return hr})),n.d(t,"I",(function(){return k})),n.d(t,"J",(function(){return dc})),n.d(t,"K",(function(){return Es})),n.d(t,"L",(function(){return Yu})),n.d(t,"M",(function(){return cs})),n.d(t,"N",(function(){return us})),n.d(t,"O",(function(){return Ts})),n.d(t,"P",(function(){return Se})),n.d(t,"Q",(function(){return Ao})),n.d(t,"R",(function(){return rc})),n.d(t,"S",(function(){return Bn})),n.d(t,"T",(function(){return U})),n.d(t,"U",(function(){return Vn})),n.d(t,"V",(function(){return gc})),n.d(t,"W",(function(){return $u})),n.d(t,"X",(function(){return Tu})),n.d(t,"Y",(function(){return ao})),n.d(t,"Z",(function(){return qs})),n.d(t,"ab",(function(){return cr})),n.d(t,"bb",(function(){return pr})),n.d(t,"cb",(function(){return zn})),n.d(t,"db",(function(){return Nn})),n.d(t,"eb",(function(){return Dn})),n.d(t,"fb",(function(){return Qn})),n.d(t,"gb",(function(){return Fn})),n.d(t,"hb",(function(){return Mn})),n.d(t,"ib",(function(){return jn})),n.d(t,"jb",(function(){return Ls})),n.d(t,"kb",(function(){return vc})),n.d(t,"lb",(function(){return Us})),n.d(t,"mb",(function(){return Vs})),n.d(t,"nb",(function(){return Pn})),n.d(t,"ob",(function(){return W})),n.d(t,"pb",(function(){return Oo})),n.d(t,"qb",(function(){return Xo})),n.d(t,"rb",(function(){return $o})),n.d(t,"sb",(function(){return xo})),n.d(t,"tb",(function(){return Qs})),n.d(t,"ub",(function(){return We})),n.d(t,"vb",(function(){return j})),n.d(t,"wb",(function(){return On})),n.d(t,"xb",(function(){return Ma})),n.d(t,"yb",(function(){return Va})),n.d(t,"zb",(function(){return $a})),n.d(t,"Ab",(function(){return Nr})),n.d(t,"Bb",(function(){return Fo})),n.d(t,"Cb",(function(){return pa})),n.d(t,"Db",(function(){return Oa})),n.d(t,"Eb",(function(){return da})),n.d(t,"Fb",(function(){return vu})),n.d(t,"Gb",(function(){return Ie})),n.d(t,"Hb",(function(){return Me})),n.d(t,"Ib",(function(){return T})),n.d(t,"Jb",(function(){return I})),n.d(t,"Kb",(function(){return Ne})),n.d(t,"Lb",(function(){return Fe})),n.d(t,"Mb",(function(){return Uo})),n.d(t,"Nb",(function(){return Ko})),n.d(t,"Ob",(function(){return Yo})),n.d(t,"Pb",(function(){return Wo})),n.d(t,"Qb",(function(){return zo})),n.d(t,"Rb",(function(){return Go})),n.d(t,"Sb",(function(){return Zo})),n.d(t,"Tb",(function(){return _n})),n.d(t,"Ub",(function(){return Na})),n.d(t,"Vb",(function(){return he})),n.d(t,"Wb",(function(){return Vo})),n.d(t,"Xb",(function(){return mu})),n.d(t,"Yb",(function(){return Bo})),n.d(t,"Zb",(function(){return Jo})),n.d(t,"ac",(function(){return gu})),n.d(t,"bc",(function(){return na})),n.d(t,"cc",(function(){return Xs})),n.d(t,"dc",(function(){return Js})),n.d(t,"ec",(function(){return eu})),n.d(t,"fc",(function(){return qo})),n.d(t,"gc",(function(){return ra})),n.d(t,"hc",(function(){return ia})),n.d(t,"ic",(function(){return Ws})),n.d(t,"jc",(function(){return Ys})),n.d(t,"kc",(function(){return pu})),n.d(t,"lc",(function(){return Lo})),n.d(t,"mc",(function(){return dt})),n.d(t,"nc",(function(){return vr})),n.d(t,"oc",(function(){return gr})),n.d(t,"pc",(function(){return Pe})),n.d(t,"qc",(function(){return fa})),n.d(t,"rc",(function(){return Qo})),n.d(t,"sc",(function(){return Ra})),n.d(t,"tc",(function(){return Ta})),n.d(t,"uc",(function(){return Ia})),n.d(t,"vc",(function(){return xa})),n.d(t,"wc",(function(){return Aa})),n.d(t,"xc",(function(){return Pa}));var _=y("Inject",(function(e){return{token:e}})),w=y("Optional"),C=y("Self"),k=y("SkipSelf"),S=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function E(e){for(var t in e)if(e[t]===E)return t;throw Error("Could not find renamed property on target object.")}function R(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function I(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function x(e){return A(e,e[N])||A(e,e[M])}function A(e,t){return t&&t.token===e?t:null}function O(e){return e&&(e.hasOwnProperty(P)||e.hasOwnProperty(F))?e[P]:null}var N=E({"\u0275prov":E}),P=E({"\u0275inj":E}),D=E({"\u0275provFallback":E}),M=E({ngInjectableDef:E}),F=E({ngInjectorDef:E});function j(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(j).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Q(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var L=E({__forward_ref__:E});function U(e){return e.__forward_ref__=U,e.toString=function(){return j(this())},e}function V(e){return B(e)?e():e}function B(e){return"function"==typeof e&&e.hasOwnProperty(L)&&e.__forward_ref__===U}var q,H="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K="undefined"!=typeof global&&global,W=H||K||G||z,Y=E({"\u0275cmp":E}),Z=E({"\u0275dir":E}),$=E({"\u0275pipe":E}),X=E({"\u0275mod":E}),J=E({"\u0275loc":E}),ee=E({"\u0275fac":E}),te=E({__NG_ELEMENT_ID__:E}),ne=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),re=new ne("INJECTOR",-1),ie={},oe=/\n/gm,ae=E({provide:String,useValue:E}),se=void 0;function ue(e){var t=se;return se=e,t}function ce(e){var t=q;return q=e,t}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Default;if(void 0===se)throw new Error("inject() must be called from an injection context");return null===se?fe(e,void 0,t):se.get(e,t&S.Optional?null:void 0,t)}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Default;return(q||le)(V(e),t)}function fe(e,t,n){var r=x(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&S.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(j(e),"]"))}function de(e){for(var t=[],n=0;n<e.length;n++){var r=V(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=S.Default,a=0;a<r.length;a++){var s=r[a];s instanceof w||"Optional"===s.ngMetadataName||s===w?o|=S.Optional:s instanceof k||"SkipSelf"===s.ngMetadataName||s===k?o|=S.SkipSelf:s instanceof C||"Self"===s.ngMetadataName||s===C?o|=S.Self:i=s instanceof _||s===_?s.token:s}t.push(he(i,o))}else t.push(he(r))}return t}var pe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;if(t===ie){var n=new Error("NullInjectorError: No provider for ".concat(j(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ve=_createClass((function e(){_classCallCheck(this,e)})),ge=_createClass((function e(){_classCallCheck(this,e)}));function be(e,t){e.forEach((function(e){return Array.isArray(e)?be(e,t):t(e)}))}function me(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ye(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _e(e,t,n){var r=Ce(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function we(e,t){var n=Ce(e,t);if(n>=0)return e[1|n]}function Ce(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ke=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Se=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ee={},Re=[],Te=0;function Ie(e){return m((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Re,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Se.Emulated,id:"c",styles:e.styles||Re,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=Te++,i.inputs=De(e.inputs,r),i.outputs=De(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(xe)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Ae)}:null,i}))}function xe(e){return je(e)||function(e){return e[Z]||null}(e)}function Ae(e){return function(e){return e[$]||null}(e)}var Oe={};function Ne(e){var t={type:e.type,bootstrap:e.bootstrap||Re,declarations:e.declarations||Re,imports:e.imports||Re,exports:e.exports||Re,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&m((function(){Oe[e.id]=e.type})),t}function Pe(e,t){return m((function(){var n=Le(e,!0);n.declarations=t.declarations||Re,n.imports=t.imports||Re,n.exports=t.exports||Re}))}function De(e,t){if(null==e)return Ee;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Me=Ie;function Fe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function je(e){return e[Y]||null}function Qe(e,t){return e.hasOwnProperty(ee)?e[ee]:null}function Le(e,t){var n=e[X]||null;if(!n&&!0===t)throw new Error("Type ".concat(j(e)," does not have '\u0275mod' property."));return n}function Ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ve(e){return Array.isArray(e)&&!0===e[1]}function Be(e){return 0!=(8&e.flags)}function qe(e){return 2==(2&e.flags)}function He(e){return 1==(1&e.flags)}function Ge(e){return null!==e.template}function ze(e){return 0!=(512&e[2])}var Ke=void 0;function We(e){Ke=e}function Ye(){return void 0!==Ke?Ke:"undefined"!=typeof document?document:void 0}function Ze(e){return!!e.listen}var $e={createRenderer:function(e,t){return Ye()}};function Xe(e){for(;Array.isArray(e);)e=e[0];return e}function Je(e,t){return Xe(t[e+19])}function et(e,t){return Xe(t[e.index])}function tt(e,t){return e.data[t+19]}function nt(e,t){return e[t+19]}function rt(e,t){var n=t[e];return Ue(n)?n:n[0]}function it(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function ot(e){return 4==(4&e[2])}function at(e){return 128==(128&e[2])}function st(e,t){return null===e||null==t?null:e[t]}function ut(e){e[18]=0}var ct={lFrame:At(null),bindingsEnabled:!0,checkNoChangesMode:!1};function lt(){return ct.bindingsEnabled}function ht(){return ct.lFrame.lView}function ft(){return ct.lFrame.tView}function dt(e){ct.lFrame.contextLView=e}function pt(){return ct.lFrame.previousOrParentTNode}function vt(e,t){ct.lFrame.previousOrParentTNode=e,ct.lFrame.isParent=t}function gt(){return ct.lFrame.isParent}function bt(){ct.lFrame.isParent=!1}function mt(){return ct.checkNoChangesMode}function yt(e){ct.checkNoChangesMode=e}function _t(){var e=ct.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function wt(){return ct.lFrame.bindingIndex}function Ct(){return ct.lFrame.bindingIndex++}function kt(e){var t=ct.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function St(e,t){var n=ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function Et(){return ct.lFrame.currentQueryIndex}function Rt(e){ct.lFrame.currentQueryIndex=e}function Tt(e,t){var n=xt();ct.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function It(e,t){var n=xt(),r=e[1];ct.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function xt(){var e=ct.lFrame,t=null===e?null:e.child;return null===t?At(e):t}function At(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Ot(){var e=ct.lFrame;return ct.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Nt=Ot;function Pt(){var e=Ot();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dt(){return ct.lFrame.selectedIndex}function Mt(e){ct.lFrame.selectedIndex=e}function Ft(){var e=ct.lFrame;return tt(e.tView,e.selectedIndex)}function jt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Qt(e,t,n){Vt(e,t,3,n)}function Lt(e,t,n,r){(3&e[2])===n&&Vt(e,t,n,r)}function Ut(e,t){var n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function Vt(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Bt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Bt(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(a)):o.call(a)}var qt=_createClass((function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}));function Ht(e,t,n){for(var r=Ze(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];zt(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Gt(e){return 3===e||4===e||6===e}function zt(e){return 64===e.charCodeAt(0)}function Kt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Wt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Wt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Yt(e){return-1!==e}function Zt(e){return 32767&e}function $t(e){return e>>16}function Xt(e,t){for(var n=$t(e),r=t;n>0;)r=r[15],n--;return r}function Jt(e){return"string"==typeof e?e:null==e?"":""+e}function en(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Jt(e)}var tn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function nn(e){return e instanceof Function?e():e}var rn=!0;function on(e){var t=rn;return rn=e,t}var an=0;function sn(e,t){var n=cn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,un(r.data,e),un(t,null),un(r.blueprint,null));var i=ln(e,t),o=e.injectorIndex;if(Yt(i))for(var a=Zt(i),s=Xt(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function un(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function ln(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function hn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[te]:n.charCodeAt(0)||0;null==r&&(r=n[te]=an++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function fn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[te];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Tt(t,e);try{var a=o();if(null!=a||r&S.Optional)return a;throw new Error("No provider for ".concat(en(n),"!"))}finally{Nt()}}else if("number"==typeof o){if(-1===o)return new yn(e,t);var s=null,u=cn(e,t),c=-1,l=r&S.Host?t[16][6]:null;for((-1===u||r&S.SkipSelf)&&(c=-1===u?ln(e,t):t[u+8],mn(r,!1)?(s=t[1],u=Zt(c),t=Xt(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(bn(o,u,h.data)){var f=pn(u,t,n,s,r,l);if(f!==dn)return f}mn(r,t[1].data[u+8]===l)&&bn(o,u,t)?(s=h,u=Zt(c),t=Xt(c,t)):u=-1}}}if(r&S.Optional&&void 0===i&&(i=null),0==(r&(S.Self|S.Host))){var d=t[9],p=ce(void 0);try{return d?d.get(n,i,r&S.Optional):fe(n,i,r&S.Optional)}finally{ce(p)}}if(r&S.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(en(n),"]"))}var dn={};function pn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=vn(s,a,n,null==r?qe(s)&&rn:r!=a&&3===s.type,i&S.Host&&o===s);return null!==u?gn(t,a,u,s):dn}function vn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ge(d)&&d.type===n)return u}return null}function gn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof qt){var a=i;if(a.resolving)throw new Error("Circular dep for "+en(o[n]));var s,u=on(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=ce(a.injectImpl)),Tt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&ce(s),on(u),a.resolving=!1,Nt()}}return i}function bn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function mn(e,t){return!(e&S.Self||e&S.Host&&t)}var yn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return fn(this._tNode,this._lView,e,void 0,t)}}]),e}();function _n(e){return m((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[ee]||function e(t){var n=t;if(B(t))return function(){var t=e(V(n));return t?t():null};var r=Qe(n);if(null===r){var i=O(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function wn(e){return e.ngDebugContext}function Cn(e){return e.ngOriginalError}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Sn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||kn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?wn(e)?wn(e):this._findContext(Cn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Cn(e);t&&Cn(t);)t=Cn(t);return t}}]),e}(),En=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),Rn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(En),Tn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(En),In=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(En),xn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(En),An=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(En);function On(e){return e instanceof En?e.changingThisBreaksApplicationSecurity:e}function Nn(e,t){var n=Pn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function Pn(e){return e instanceof En&&e.getTypeName()||null}function Dn(e){return new Rn(e)}function Mn(e){return new Tn(e)}function Fn(e){return new In(e)}function jn(e){return new xn(e)}function Qn(e){return new An(e)}var Ln=!0,Un=!1;function Vn(){return Un=!0,Ln}function Bn(){if(Un)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}var qn=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Hn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(e){return(e=String(e)).match(Hn)||e.match(Gn)?e:(Vn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Kn(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Wn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var Yn,Zn=Kn("area,br,col,hr,img,wbr"),$n=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Kn("rp,rt"),Jn=Wn(Xn,$n),er=Wn(Zn,Wn($n,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Xn,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),tr=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Kn("srcset"),rr=Wn(tr,nr,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Kn("script,style,template"),or=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!er.hasOwnProperty(t))return this.sanitizedSomething=!0,!ir.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(rr.hasOwnProperty(s)){var u=o.value;tr[s]&&(u=zn(u)),nr[s]&&(n=u,u=(n=String(n)).split(",").map((function(e){return zn(e.trim())})).join(", ")),this.buf.push(" ",a,'="',ur(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();er.hasOwnProperty(t)&&!Zn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(ur(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function ur(e){return e.replace(/&/g,"&amp;").replace(ar,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(sr,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cr(e,t){var n=null;try{Yn=Yn||new qn(e);var r=t?String(t):"";n=Yn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Yn.getInertBodyElement(r)}while(r!==o);var a=new or,s=a.sanitizeChildren(lr(n)||n);return Vn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=lr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function lr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),fr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),dr=/^url\(([^)]+)\)$/;function pr(e){if(!(e=String(e).trim()))return"";var t=e.match(dr);return t&&zn(t[1])===t[1]||e.match(fr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Vn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function vr(e){var t=br();return t?t.sanitize(hr.HTML,e)||"":Nn(e,"HTML")?On(e):cr(Ye(),Jt(e))}function gr(e){var t=br();return t?t.sanitize(hr.URL,e)||"":Nn(e,"URL")?On(e):zn(Jt(e))}function br(){var e=ht();return e&&e[12]}function mr(e,t){e.__ngContext__=t}function yr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function _r(){throw new Error("Cannot mix multi providers and regular providers")}function wr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Cr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==wr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function kr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Sr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Gt(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!kr(e,u,n)||""===u&&1===t.length){if(Er(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Cr(e.attrs,c,n)){if(Er(r))return!1;a=!0}continue}var l=Rr(8&r?"class":u,i,0==e.type&&"ng-template"!==e.tagName,n);if(-1===l){if(Er(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==wr(f,c,0)||2&r&&c!==h){if(Er(r))return!1;a=!0}}}}else{if(!a&&!Er(r)&&!Er(u))return!1;if(a&&Er(u))continue;a=!1,r=u|1&r}}return Er(r)||a}function Er(e){return 0==(1&e)}function Rr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Tr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Sr(e,t[r],n))return!0;return!1}function Ir(e,t){return e?":not("+t.trim()+")":t}function xr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Er(a)||(t+=Ir(o,i),i=""),r=a,o=o||!Er(r);n++}return""!==i&&(t+=Ir(o,i)),t}var Ar={};function Or(e){var t=e[3];return Ve(t)?t[3]:t}function Nr(e){Pr(ft(),ht(),Dt()+e,mt())}function Pr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Qt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Lt(t,o,0,n)}Mt(n)}function Dr(e,t){return e<<17|t<<2}function Mr(e){return e>>17&32767}function Fr(e){return 2|e}function jr(e){return(131068&e)>>2}function Qr(e,t){return-131069&e|t<<2}function Lr(e){return 1|e}function Ur(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];Rt(i),a.contentQueries(2,t[o],o)}}}function Vr(e,t,n){return Ze(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,ut(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function qr(e,t,n,r,i,o){var a=n+19,s=e.data[a]||function(e,t,n,r,i,o){var a=pt(),s=gt(),u=s?a:a&&a.parent,c=e.data[n]=Jr(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return vt(s,!0),s}function Hr(e,t,n){It(t,t[6]);try{var r=e.viewQuery;null!==r&&Ci(1,r,n);var i=e.template;null!==i&&Kr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ur(e,t),e.staticViewQueries&&Ci(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)bi(e,t[n])}(t,o)}finally{t[2]&=-5,Pt()}}function Gr(e,t,n,r){var i=t[2];if(256!=(256&i)){It(t,t[6]);var o=mt();try{ut(t),ct.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Kr(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Qt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Lt(t,u,0,null),Ut(t,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if(Ve(t)&&(n=t[2])>>1==-1){for(var r=9;r<t.length;r++){var i=t[r],o=i[1];at(i)&&Gr(o,i,o.template,i[8])}0!=(1&n)&&vi(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&Ur(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&Qt(t,c)}else{var l=e.contentHooks;null!==l&&Lt(t,l,1),Ut(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Mt(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(St(r,i),a(2,t[i])),i++)}}finally{Mt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)gi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ci(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Qt(t,d)}else{var p=e.viewHooks;null!==p&&Lt(t,p,2),Ut(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{Pt()}}}function zr(e,t,n,r){var i=t[10],o=!mt(),a=ot(t);try{o&&!a&&i.begin&&i.begin(),a&&Hr(e,t,r),Gr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Kr(e,t,n,r,i){var o=Dt();try{Mt(-1),2&r&&t.length>19&&Pr(e,t,0,mt()),n(r,i)}finally{Mt(o)}}function Wr(e,t,n){if(Be(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Yr(e,t,n){lt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||sn(n,t),mr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Ge(u);c&&hi(t,n,u);var l=gn(t,e,s,n);mr(l,t),null!==a&&fi(0,s-i,l,u,0,a),c&&(rt(n.index,t)[8]=l)}}(e,t,n,et(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-19;try{Mt(s);for(var u=r;u<i;u++){var c=e.data[u],l=t[u];null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?oi(c,l):a&&o.push(null)}}finally{Mt(-1)}}(e,t,n))}function Zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function $r(e){return e.tView||(e.tView=Xr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function Xr(e,t,n,r,i,o,a,s,u,c){var l=19+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Ar);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c}}function Jr(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ei(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ti(e,t,n,r,i,o,a,s){var u,c,l=et(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(Ti(e,n,u,r,i),qe(t)&&function(e,t){var n=rt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.tagName||"",r):i,Ze(o)?o.setProperty(l,r,i):zt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ni(e,t,n,r){var i=!1;if(lt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Tr(n,a.selectors,!1)&&(i||(i=[]),hn(sn(n,t),e,a.type),Ge(a)?(2&n.flags&&yr(n),si(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,ci(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ai(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Kt(n.mergedAttrs,d.hostAttrs),li(e,t,d),ui(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),h=!0),ri(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs;o.push(null!==i?di(l,i):null),a=ei(l,u,a),s=ei(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),ii(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Kt(n.mergedAttrs,n.attrs),i}function ri(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function ii(e,t,n){for(var r=0;r<n;r++)t.push(Ar),e.blueprint.push(Ar),e.data.push(null)}function oi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ai(e,t,n){var r=19-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function si(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ui(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ge(t)&&(n[""]=e)}}function ci(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function li(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Qe(n.type)),i=new qt(r,Ge(n),null);e.blueprint.push(i),t.push(i)}function hi(e,t,n){var r=et(t,e),i=$r(n),o=e[10],a=mi(e,Br(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function fi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function di(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function pi(e,t,n,r){return new Array(e,!0,-2,t,null,null,r,n,null)}function vi(e,t){for(var n=e[5],r=0;r<n.length;r++){var i=n[r],o=i[3][3][16];if(o!==t&&0==(16&o[2])){var a=i[1];Gr(a,i,a.template,i[8])}}}function gi(e,t){var n=rt(t,e);if(at(n)&&80&n[2]){var r=n[1];Gr(r,n,r.template,n[8])}}function bi(e,t){var n=rt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Hr(r,n,n[8])}function mi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function yi(e){for(;e;){e[2]|=64;var t=Or(e);if(ze(e)&&!t)return e;e=t}return null}function _i(e,t,n){var r=t[10];r.begin&&r.begin();try{Gr(e,t,e.template,n)}catch(i){throw Ri(t,i),i}finally{r.end&&r.end()}}function wi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=it(n),i=r[1];zr(i,r,i.template,n)}}(e[8])}function Ci(e,t,n){Rt(0),t(e,n)}var ki=Promise.resolve(null);function Si(e){return e[7]||(e[7]=[])}function Ei(e){return e.cleanup||(e.cleanup=[])}function Ri(e,t){var n=e[9],r=n?n.get(Sn,null):null;r&&r.handleError(t)}function Ti(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ii(e,t,n){var r=Je(t,e),i=e[11];Ze(i)?i.setValue(r,n):r.textContent=n}function xi(e,t){var n=t[3];return-1===e.index?Ve(n)?n:null:n}function Ai(e,t){var n=xi(e,t);return n?Vi(t[11],n[7]):null}function Oi(e,t,n,r,i){if(null!=r){var o,a=!1;Ve(r)?o=r:Ue(r)&&(a=!0,r=r[0]);var s=Xe(r);0===e&&null!==n?null==i?Li(t,n,s):Qi(t,n,s,i||null):1===e&&null!==n?Qi(t,n,s,i||null):2===e?function(e,t,n){var r=Vi(e,t);r&&function(e,t,n,r){Ze(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Xe(n)&&Oi(t,e,r,o,i);for(var a=9;a<n.length;a++){var s=n[a];Gi(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Ni(e,t,n,r){var i=Ai(e.node,t);i&&Gi(e,t,t[11],n?1:2,i,r)}function Pi(e,t){var n=e[5],r=n.indexOf(t);n.splice(r,1)}function Di(e,t){if(!(e.length<=9)){var n=9+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Pi(i,r),t>0&&(e[n-1][4]=r[4]);var o=ye(e,9+t);Ni(r[1],r,!1,null);var a=o[5];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Mi(e,t){if(!(256&t[2])){var n=t[11];Ze(n)&&n.destroyNode&&Gi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return ji(e[1],e);for(;t;){var n=null;if(Ue(t))n=t[13];else{var r=t[9];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Ue(t)&&ji(t[1],t),t=Fi(t,e);null===t&&(t=e),Ue(t)&&ji(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fi(e,t){var n;return Ue(e)&&(n=e[6])&&2===n.type?xi(n,e):e[3]===t?null:e[3]}function ji(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];i instanceof qt||n[r+1].call(i)}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):Xe(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Ze(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Ve(t[3])){r!==t[3]&&Pi(r,t);var i=t[5];null!==i&&i.detachView(e)}}}function Qi(e,t,n,r){Ze(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Li(e,t,n){Ze(e)?e.appendChild(t,n):t.appendChild(n)}function Ui(e,t,n,r){null!==r?Qi(e,t,n,r):Li(e,t,n)}function Vi(e,t){return Ze(e)?e.parentNode(t):t.parentNode}function Bi(e,t,n,r){var i=function(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Ai(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return et(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Se.ShadowDom&&a!==Se.Native)return null}return et(r,n)}(e,r,t);if(null!=i){var o=t[11],a=function(e,t){if(2===e.type){var n=xi(e,t);return null===n?null:qi(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?et(e,t):null}(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Ui(o,i,n[s],a);else Ui(o,i,n,a)}}function qi(e,t){var n=9+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return et(n,t);if(0===r)return qi(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Ve(o)?qi(-1,o):Xe(o)}var a=t[16],s=a[6],u=Or(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function Hi(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&mr(Xe(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Hi(e,t,n.child,r,i,o,!1),Oi(t,e,i,s,o)):1===u?zi(e,t,r,n,i,o):Oi(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Gi(e,t,n,r,i,o){Hi(n,r,e.node.child,t,i,o,!1)}function zi(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Oi(t,e,i,s[u],o);else Hi(e,t,s,a[3],i,o,!0)}function Ki(e,t,n){Ze(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Wi(e,t,n){Ze(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Yi,Zi,$i,Xi=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Xe(a)),Ve(a))for(var s=9;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6],d=Or(h),p=f.projection[r.projection];null!==p&&null!==d&&e(d[1],d,p,i,!0)}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Si(n=this._lView).push(r),t.firstCreatePass&&Ei(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){yi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){_i(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){yt(!0);try{_i(e,t,n)}finally{yt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Gi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){wi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){yt(!0);try{wi(e)}finally{yt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Xi);function eo(e,t,n){return Yi||(Yi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(e)),new Yi(et(t,n))}function to(e,t,n,r){return Zi||(Zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Br(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(t)),Hr(t,n,e);var i=new Xi(n);return i._tViewNode=n[6],i}}]),n}(e)),0===n.type?new Zi(r,n,eo(t,n,r)):null}function no(e,t,n,r){var i;$i||($i=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return eo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new yn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=ln(this._hostTNode,this._hostView),t=Xt(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=$t(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Yt(e)&&null!=n?new yn(n,t):new yn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-9}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(ve,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ve(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new $i(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=9+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-9?(t[4]=n[i],me(n,9+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[5],r=t[3][3][16];16!=(16&r[2])&&t[16]!==r&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(a,t);var s=t[5];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Ni(r,n,!0,qi(s,this._lContainer)),e.attachToViewContainerRef(this),me(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);(function(e,t){var n=Di(e,t);n&&Mi(n[1],n)})(this._lContainer,t),ye(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Di(this._lContainer,t);return n&&null!=ye(this._lContainer[8],t)?new Xi(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(e));var o=r[n.index];if(Ve(o))(function(e,t){e[2]=-2})(i=o);else{var a;if(4===n.type)a=Xe(o);else if(a=r[11].createComment(""),ze(r)){var s=r[11],u=et(n,r);Qi(s,Vi(s,u),a,function(e,t){return Ze(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Bi(r[1],r,a,n);r[n.index]=i=pi(o,r,a,n),mi(r,i)}return new $i(i,n,r)}function ro(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&qe(e)){var r=rt(e.index,t);return new Xi(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Xi(t[16],t):null}(pt(),ht(),e)}var io=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return oo()},e}(),oo=ro,ao=new ne("Set Injector scope."),so={},uo={},co=[],lo=void 0;function ho(){return void 0===lo&&(lo=new pe),lo}function fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new po(e,n,t||ho(),r)}var po=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&be(n,(function(e){return i.processProvider(e,t,n)})),be([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(re,bo(void 0,this));var s=this.records.get(ao);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:j(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.Default;this.assertNotDestroyed();var r,i=ue(this);try{if(!(n&S.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof ne)&&x(e);o=a&&this.injectableDefInScope(a)?bo(vo(e),so):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&S.Self?ho():this.parent).get(e,t=n&S.Optional&&t===ie?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(j(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=j(t);if(Array.isArray(t))i=t.map(j).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):j(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(oe,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{ue(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(j(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=V(e)))return!1;var i=O(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=O(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{be(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;be(i,(function(e){return r.processProvider(e,n,i||co)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,bo(i.factory,so));var h=i.providers;if(null!=h&&!s){var f=e;be(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=yo(e=V(e))?e:V(e&&e.provide),i=function(e,t,n){return mo(e)?bo(void 0,e.useValue):bo(go(e,t,n),so)}(e,t,n);if(yo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&_r()}else{var a=this.records.get(r);a?void 0===a.multi&&_r():((a=bo(void 0,so,!0)).factory=function(){return de(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===uo?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(j(e)):t.value===so&&(t.value=uo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function vo(e){var t=x(e),n=null!==t?t.factory:Qe(e);if(null!==n)return n;var r=O(e);if(null!==r)return r.factory;if(e instanceof ne)throw new Error("Token ".concat(j(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(j(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[N]||e[M]||e[D]&&e[D]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function go(e,t,n){var r,i=void 0;if(yo(e)){var o=V(e);return Qe(o)||vo(o)}if(mo(e))i=function(){return V(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(de(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return he(V(e.useExisting))};else{var a=V(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(j(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Qe(a)||vo(a);i=function(){return _construct(a,_toConsumableArray(de(e.deps)))}}return i}function bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function mo(e){return null!==e&&"object"==typeof e&&ae in e}function yo(e){return"function"==typeof e}var _o=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=fo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},wo=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?_o(e,t,""):_o(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ie,e.NULL=new pe,e.\u0275prov=T({token:e,providedIn:"any",factory:function(){return he(re)}}),e.__NG_ELEMENT_ID__=-1,e}(),Co=new ne("AnalyzeForEntryComponents"),ko=new Map,So=new Set;function Eo(e){return"string"==typeof e?e:e.text()}function Ro(e,t){for(var n=e.styles,r=e.classes,i=0,o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:1==i?r=Q(r,a):2==i&&(n=Q(n,a+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}var To=null;function Io(){if(!To){var e=W.Symbol;if(e&&e.iterator)To=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(To=r)}}return To}function xo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Ao=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Oo(e){return!!No(e)&&(Array.isArray(e)||!(e instanceof Map)&&Io()in e)}function No(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Po(e,t,n){return e[t]=n}function Do(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Mo(e,t,n,r){var i=Do(e,t,n);return Do(e,t+1,r)||i}function Fo(e,t,n,r){var i=ht();return Do(i,Ct(),t)&&(ft(),function(e,t,n,r,i,o){var a=et(e,t),s=t[11];if(null==r)Ze(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Jt(r):i(r,e.tagName||"",n);Ze(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Ft(),i,e,t,n,r)),Fo}function jo(e,t,n,r){return Do(e,Ct(),n)?t+Jt(n)+r:Ar}function Qo(e,t,n,r,i,o,a,s){var u=ht(),c=ft(),l=e+19,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=qr(t,n[6],e,0,a||null,st(c,s));ni(t,n,l,st(c,u)),jt(t,l);var h=l.tViews=Xr(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=Jr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];vt(h,!1);var f=u[11].createComment("");Bi(c,u,f,h),mr(f,u),mi(u,u[l]=pi(f,u,f,h)),He(h)&&Yr(c,u,h),null!=a&&Zr(u,h,s)}function Lo(e){return nt(ct.lFrame.contextLView,e)}function Uo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Default,n=ht();return null==n?he(e,t):fn(pt(),n,V(e),t)}function Vo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Gt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(pt(),e)}function Bo(){throw new Error("invalid")}function qo(e,t,n){var r=ht();return Do(r,Ct(),t)&&ti(ft(),Ft(),r,e,t,r[11],n,!1),qo}function Ho(e,t,n,r,i){var o=i?"class":"style";Ti(e,n,t.inputs[o],o,r)}function Go(e,t,n,r){var i=ht(),o=ft(),a=19+e,s=i[11],u=i[a]=Vr(t,s,ct.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=st(s,o),c=qr(t,n[6],e,3,i,u);return ni(t,n,c,st(s,a)),null!==c.mergedAttrs&&Ro(c,c.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];vt(c,!0);var l=c.mergedAttrs;null!==l&&Ht(s,u,l);var h=c.classes;null!==h&&Wi(s,u,h);var f=c.styles;null!==f&&Ki(s,u,f),Bi(o,i,u,c),0===ct.lFrame.elementDepthCount&&mr(u,i),ct.lFrame.elementDepthCount++,He(c)&&(Yr(o,i,c),Wr(o,c,i)),null!==r&&Zr(i,c)}function zo(){var e=pt();gt()?bt():vt(e=e.parent,!1);var t=e;ct.lFrame.elementDepthCount--;var n=ft();n.firstCreatePass&&(jt(n,e),Be(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&Ho(n,t,ht(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&Ho(n,t,ht(),t.styles,!1)}function Ko(e,t,n,r){Go(e,t,n,r),zo()}function Wo(e,t,n){var r=ht(),i=ft(),o=e+19,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=st(o,r),s=qr(t,n[6],e,4,"ng-container",a);return null!==a&&Ro(s,a),ni(t,n,s,st(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];vt(a,!0);var s=r[o]=r[11].createComment("");Bi(i,r,s,a),mr(s,r),He(a)&&(Yr(i,r,a),Wr(i,a,r)),null!=n&&Zr(r,a)}function Yo(){var e=pt(),t=ft();gt()?bt():vt(e=e.parent,!1),t.firstCreatePass&&(jt(t,e),Be(e)&&t.queries.elementEnd(e))}function Zo(){return ht()}function $o(e){return!!e&&"function"==typeof e.then}function Xo(e){return!!e&&"function"==typeof e.subscribe}function Jo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ht(),o=ft(),a=pt();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=He(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Si(t),h=!0;if(3===r.type){var f=et(r,t),d=s?s(f):Ee,p=d.target||f,v=l.length,g=s?function(e){return s(Xe(e[r.index])).target}:r.index;if(Ze(n)){var b=null;if(!s&&u&&(b=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,h=!1;else{o=ta(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=ta(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var y,_=r.outputs;if(h&&null!==_&&(y=_[i])){var w=y.length;if(w)for(var C=0;C<w;C+=2){var k=t[y[C]][y[C+1]].subscribe(o),S=l.length;l.push(o,k),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,e,t,n,r),Jo}function ea(e,t,n){try{return!1!==t(n)}catch(r){return Ri(e,r),!1}}function ta(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?rt(e.index,t):t;0==(32&t[2])&&yi(a);for(var s=ea(t,n,o),u=i.__ngNextListenerFn__;u;)s=ea(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(ct.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ct.lFrame.contextLView))[8]}(e)}function ra(e,t,n){return ia(e,"",t,"",n),ra}function ia(e,t,n,r,i){var o=ht(),a=jo(o,t,n,r);return a!==Ar&&ti(ft(),Ft(),o,e,a,o[11],i,!1),ia}var oa=[];function aa(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Mr(o):jr(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];sa(e[s],t)&&(u=!0,e[s+1]=r?Lr(c):Fr(c)),s=r?Mr(c):jr(c)}u&&(e[n+1]=r?Fr(o):Lr(o))}function sa(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ce(e,t)>=0}var ua={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ca(e){return e.substring(ua.key,ua.keyEnd)}function la(e,t){var n=ua.textEnd;return n===t?-1:(t=ua.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ua.key=t,n),ha(e,t,n))}function ha(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fa(e,t,n){return ga(e,t,n,!1),fa}function da(e,t){return ga(e,t,null,!0),da}function pa(e){ba(_e,va,e,!0)}function va(e,t){for(var n=function(e){return function(e){ua.key=0,ua.keyEnd=0,ua.value=0,ua.valueEnd=0,ua.textEnd=e.length}(e),la(e,ha(e,0,ua.textEnd))}(t);n>=0;n=la(t,n))_e(e,ca(t),!0)}function ga(e,t,n,r){var i,o,a=ht(),s=ft(),u=kt(2);(s.firstUpdatePass&&ya(s,e,u,r),t!==Ar&&Do(a,u,t))&&(null==n&&(i=null===(o=ct.lFrame)?null:o.currentSanitizer)&&(n=i),Ca(s,s.data[Dt()+19],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=j(On(e)))),e}(t,n),r,u))}function ba(e,t,n,r){var i=ft(),o=kt(2);i.firstUpdatePass&&ya(i,null,o,r);var a=ht();if(n!==Ar&&Do(a,o,n)){var s=i.data[Dt()+19];if(Ea(s,r)&&!ma(i,o)){var u=r?s.classes:s.styles;null!==u&&(n=Q(u,n||"")),Ho(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Ar&&(i=oa);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Ca(e,t,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return oa;var r=[],i=On(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function ma(e,t){return t>=e.expandoStartIndex}function ya(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[Dt()+19],a=ma(e,n);Ea(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=wa(n=_a(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=_a(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==jr(r))return e[Mr(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Mr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=wa(s=_a(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=wa(r,e[o].hostAttrs,n);return wa(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Mr(a),u=jr(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||Ce(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Mr(e[s+1]);e[r+1]=Dr(f,s),0!==f&&(e[f+1]=Qr(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Dr(s,0),0!==s&&(e[s+1]=Qr(e[s+1],r)),s=r;else e[r+1]=Dr(u,0),0===s?s=r:e[u+1]=Qr(e[u+1],r),u=r;l&&(e[r+1]=Fr(e[r+1])),aa(e,c,r,!0),aa(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ce(o,t)>=0&&(n[r+1]=Lr(n[r+1]))}(t,c,e,r,o),a=Dr(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function _a(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=wa(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function wa(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_e(e,a,!!n||t[++o]))}return void 0===e?null:e}function Ca(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];Sa(1==(1&c)?ka(u,t,n,i,jr(c),a):void 0)||(Sa(o)||2==(2&c)&&(o=ka(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Ze(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Je(Dt(),n),i,o))}}function ka(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ar&&(f=h?oa:void 0);var d=h?we(f,r):l===r?f:void 0;if(c&&!Sa(d)&&(d=we(u,r)),Sa(d)&&(s=d,a))return s;var p=e[i+1];i=a?Mr(p):jr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=we(v,r))}return s}function Sa(e){return void 0!==e}function Ea(e,t){return 0!=(e.flags&(t?16:32))}function Ra(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ht(),r=ft(),i=e+19,o=r.firstCreatePass?qr(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Ze(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Bi(r,n,a,o),vt(o,!1)}function Ta(e){return Ia("",e,""),Ta}function Ia(e,t,n){var r=ht(),i=jo(r,e,t,n);return i!==Ar&&Ii(r,Dt(),i),Ia}function xa(e,t,n,r,i){var o=ht(),a=function(e,t,n,r,i,o){var a=Mo(e,wt(),n,i);return kt(2),a?t+Jt(n)+r+Jt(i)+o:Ar}(o,e,t,n,r,i);return a!==Ar&&Ii(o,Dt(),a),xa}function Aa(e,t,n,r,i,o,a){var s=ht(),u=function(e,t,n,r,i,o,a,s){var u=function(e,t,n,r,i){var o=Mo(e,t,n,r);return Do(e,t+2,i)||o}(e,wt(),n,i,a);return kt(3),u?t+Jt(n)+r+Jt(i)+o+Jt(a)+s:Ar}(s,e,t,n,r,i,o,a);return u!==Ar&&Ii(s,Dt(),u),Aa}function Oa(e,t,n){ba(_e,va,jo(ht(),e,t,n),!0)}function Na(e,t,n){var r=ht();return Do(r,Ct(),t)&&ti(ft(),Ft(),r,e,t,r[11],n,!0),Na}function Pa(e,t,n){var r=ht();if(Do(r,Ct(),t)){var i=ft(),o=Ft();ti(i,o,r,e,t,function(e,t){return function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(t[e.index])[11]}(o,r),n,!0)}return Pa}function Da(e,t){var n=it(e)[1],r=n.data.length-1;jt(n,{directiveStart:r,directiveEnd:r+1})}function Ma(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Ge(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Fa(e.inputs),o.declaredInputs=Fa(e.declaredInputs),o.outputs=Fa(e.outputs);var a=i.hostBindings;a&&La(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ja(e,s),u&&Qa(e,u),R(e.inputs,i.inputs),R(e.declaredInputs,i.declaredInputs),R(e.outputs,i.outputs),Ge(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Ma&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Kt(i.hostAttrs,n=Kt(n,i.hostAttrs))}}(r)}function Fa(e){return e===Ee?{}:e===Re?[]:e}function ja(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Qa(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function La(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Ua=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Va(e){e.type.prototype.ngOnChanges&&(e.setInput=Ba,e.onChanges=function(){var e=qa(this),t=e&&e.current;if(t){var n=e.previous;if(n===Ee)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function Ba(e,t,n,r){var i=qa(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ee,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ua(u&&u.currentValue,t,a===Ee),e[r]=t}function qa(e){return e.__ngSimpleChanges__||null}function Ha(e,t,n,r,i){if(e=V(e),Array.isArray(e))for(var o=0;o<e.length;o++)Ha(e[o],t,n,r,i);else{var a=ft(),s=ht(),u=yo(e)?e:V(e.provide),c=go(e),l=pt(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(yo(e)||!e.multi){var p=new qt(c,i,Uo),v=Ka(u,t,i?h:h+d,f);-1===v?(hn(sn(l,s),a,u),Ga(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=Ka(u,t,h+d,f),b=Ka(u,t,h,h+d),m=g>=0&&n[g],y=b>=0&&n[b];if(i&&!y||!i&&!m){hn(sn(l,s),a,u);var _=function(e,t,n,r,i){var o=new qt(e,n,Uo);return o.multi=[],o.index=t,o.componentProviders=0,za(o,i,r&&!n),o}(i?Ya:Wa,n.length,i,r,c);!i&&y&&(n[b].providerFactory=_),Ga(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(_),s.push(_)}else Ga(a,e,g>-1?g:b),za(n[i?b:g],c,!i&&r);!i&&r&&y&&n[b].componentProviders++}}}function Ga(e,t,n){if(yo(t)||t.useClass){var r=(t.useClass||t).prototype.ngOnDestroy;r&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r)}}function za(e,t,n){e.multi.push(t),n&&e.componentProviders++}function Ka(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Wa(e,t,n,r){return Za(this.multi,[])}function Ya(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=gn(n,n[1],this.providerFactory.index,r);Za(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Za(o,i=[]);return i}function Za(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function $a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=ft();if(r.firstCreatePass){var i=Ge(e);Ha(n,r.data,r.blueprint,i,!0),Ha(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}Va.ngInherit=!0;var Xa=_createClass((function e(){_classCallCheck(this,e)})),Ja=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(j(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),es=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.NULL=new Ja,e}(),ts=function(){var e=_createClass((function e(t){_classCallCheck(this,e),this.nativeElement=t}));return e.__NG_ELEMENT_ID__=function(){return ns(e)},e}(),ns=function(e){return eo(e,pt(),ht())},rs=_createClass((function e(){_classCallCheck(this,e)})),is=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),os=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return as()},e}(),as=function(){var e=ht(),t=rt(pt().index,e);return function(e){var t=e[11];if(Ze(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ue(t)?t:e)},ss=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.\u0275prov=T({token:e,providedIn:"root",factory:function(){return null}}),e}(),us=_createClass((function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")})),cs=new us("9.0.7"),ls=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Oo(e)}},{key:"create",value:function(e){return new fs(e)}}]),e}(),hs=function(e,t){return t},fs=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hs}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<gs(n,r,i)?t:n,a=gs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Oo(e))throw new Error("Error trying to diff '".concat(j(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&xo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),xo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Io()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&xo(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),xo(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(xo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(xo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new ds(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),ds=_createClass((function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null})),ps=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&xo(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),vs=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ps,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function gs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var bs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||No(e)}},{key:"create",value:function(){return new ms}}]),e}(),ms=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||No(e)))throw new Error("Error trying to diff '".concat(j(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ys(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){xo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),ys=_createClass((function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null})),_s=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new k,new w]]}}}]),e}();return e.\u0275prov=T({token:e,providedIn:"root",factory:function(){return new e([new ls])}}),e}(),ws=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new k,new w]]}}}]),e}();return e.\u0275prov=T({token:e,providedIn:"root",factory:function(){return new e([new bs])}}),e}(),Cs=[new bs],ks=new _s([new ls]),Ss=new ws(Cs),Es=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return Rs(e,ts)},e}(),Rs=function(e,t){return to(e,t,pt(),ht())},Ts=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return Is(e,ts)},e}(),Is=function(e,t){return no(e,t,pt(),ht())},xs={},As=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=je(e);return new Ps(t,this.ngModule)}}]),n}(es);function Os(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Ns=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return tn}}),Ps=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(xr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return Os(this.componentDef.inputs)}},{key:"outputs",get:function(){return Os(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,xs,i);return o!==xs||r===xs?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(rs,$e),u=a.get(ss,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Ze(e))return e.selectRootElement(t,n===Se.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Vr(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:tn,clean:ki,playerHandler:null,flags:0},v=Xr(0,-1,null,1,0,null,null,null,null,null),g=Br(null,v,p,f,null,null,s,c,u,a);It(g,null);try{var b=function(e,t,n,r,i,o){var a=n[1];n[19]=e;var s=qr(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Ro(s,u),null!==e&&(Ht(i,e,u),null!==s.classes&&Wi(i,e,s.classes),null!==s.styles&&Ki(i,e,s.styles)));var c=r.createRenderer(e,t),l=Br(n,$r(t),null,t.onPush?64:16,n[19],s,r,c,void 0);return a.firstCreatePass&&(hn(sn(s,n),a,t.type),si(a,s),ci(s,n.length,1)),mi(n,l),n[19]=l}(h,this.componentDef,g,s,c);if(h)if(n)Ht(c,h,["ng-version",cs.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Er(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,_=m.classes;y&&Ht(c,h,y),_&&_.length>0&&Wi(c,h,_.join(" "))}o=tt(g[1],0),t&&(o.projection=t.map((function(e){return Array.from(e)}))),i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=pt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ai(e,r,1),li(e,t,n));var i=gn(t,e,t.length-1,r);mr(i,t);var o=et(r,t);return o&&mr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=pt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Mt(s.index-19);var u=n[1];ri(u,t),ii(u,n,t.hostVars),oi(t,a)}return a}(b,this.componentDef,g,p,[Da]),Hr(v,g,null)}finally{Pt()}var w=new Ds(this.componentType,i,eo(ts,o,g),g,o);return n&&!d||(w.hostView._tViewNode.child=o),w}}]),n}(Xa),Ds=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Ji(o),s.hostView._tViewNode=(u=o[1],c=o,null==(l=u.node)&&(u.node=l=Jr(0,null,2,-1,null,null)),c[6]=l),s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new yn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}()),Ms=void 0,Fs=["en",[["a","p"],["AM","PM"],Ms],[["AM","PM"],Ms,Ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ms,"{1} 'at' {0}",Ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],js={};function Qs(e,t,n){"string"!=typeof t&&(n=t,t=e[qs.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),js[t]=e,n&&(js[t][qs.ExtraData]=n)}function Ls(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Bs(t);if(n)return n;var r=t.split("-")[0];if(n=Bs(r))return n;if("en"===r)return Fs;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Us(e){return Ls(e)[qs.CurrencyCode]||null}function Vs(e){return Ls(e)[qs.PluralCase]}function Bs(e){return e in js||(js[e]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[e]),js[e]}var qs=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function Hs(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Gs=new Map,zs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new As(_assertThisInitialized(i));var o=Le(e),a=e[J]||null;return a&&Hs(a),i._bootstrapComponents=nn(o.bootstrap),i._r3Injector=fo(e,r,[{provide:ve,useValue:_assertThisInitialized(i)},{provide:es,useValue:i.componentFactoryResolver}],j(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.Default;return e===wo||e===ve||e===re?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(ve),Ks=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Le(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(j(t)," vs ").concat(j(t.name)))})(n,Gs.get(n),t),Gs.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new zs(this.moduleType,e)}}]),n}(ge);function Ws(e,t,n){var r=_t()+e,i=ht();return i[r]===Ar?Po(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Ys(e,t,n,r){return $s(ht(),_t(),e,t,n,r)}function Zs(e,t){var n=e[t];return n===Ar?void 0:n}function $s(e,t,n,r,i,o){var a=t+n;return Do(e,a,i)?Po(e,a+1,o?r.call(o,i):r(i)):Zs(e,a+1)}function Xs(e,t){var n,r=ft(),i=e+19;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Qe(n.type)),a=ce(Uo),s=o();return ce(a),function(e,t,n,r){var i=n+19;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,ht(),e,s),s}function Js(e,t,n){var r=ht(),i=nt(r,e);return nu(r,tu(r,e)?$s(r,_t(),t,i.transform,n,i):i.transform(n))}function eu(e,t,n,r){var i=ht(),o=nt(i,e);return nu(i,tu(i,e)?function(e,t,n,r,i,o,a){var s=t+n;return Mo(e,s,i,o)?Po(e,s+2,a?r.call(a,i,o):r(i,o)):Zs(e,s+2)}(i,_t(),t,o.transform,n,r,o):o.transform(n,r))}function tu(e,t){return e[1].data[t+19].pure}function nu(e,t){return Ao.isWrapped(t)&&(t=Ao.unwrap(t),e[wt()]=Ar),t}var ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a=function(e){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function iu(){return this._results[Io()]()}var ou=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new ru,this.length=0;var t=Io(),n=e.prototype;n[t]||(n[t]=iu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),au=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),su=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==bu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),uu=_createClass((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i})),cu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),lu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,hu(t,n[r]));else{var i=this.metadata.predicate;i===Es?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,vn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ts||r===Ts||r===Es&&0===t.type)this.addMatch(t.index,-2);else{var i=vn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function hu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function fu(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?eo(ts,e,t):0===e.type?to(Es,ts,e,t):null}(t,e):-2===n?function(e,t,n){return n===ts?eo(ts,t,e):n===Es?to(Es,ts,t,e):n===Ts?no(Ts,ts,t,e):void 0}(e,t,r):gn(e,e[1],n,t)}function du(e,t,n,r){var i=t[5].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:fu(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function pu(e){var t=ht(),n=ft(),r=Et();Rt(r+1);var i=bu(n,r);if(e.dirty&&ot(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=du(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=9;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[5])for(var p=h[5],v=0;v<p.length;v++){var g=p[v];e(g[1],g,l,i)}}}return i}(n,t,r,[]):du(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function vu(e,t,n,r){!function(e,t,n,r,i,o,a,s){e.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new cu),e.queries.track(new lu(t,n))}(e,new uu(n,r,!1,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),function(e,t){var n=new ou;!function(e,t,n,r){var i=Si(t);i.push(n),e.firstCreatePass&&Ei(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new su),t[5].queries.push(new au(n))}(e,t)}(ft(),ht(),t,n,r,0,pt(),e)}function gu(){return e=ht(),t=Et(),e[5].queries[t].queryList;var e,t}function bu(e,t){return e.queries.getByIndex(t)}function mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.Default,t=ro(!0);if(null!=t||e&S.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var yu=new ne("Application Initializer"),_u=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();$o(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(yu,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),wu=new ne("AppId"),Cu={provide:wu,useFactory:function(){return"".concat(ku()).concat(ku()).concat(ku())},deps:[]};function ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Su=new ne("Platform Initializer"),Eu=new ne("Platform ID"),Ru=new ne("appBootstrapListener"),Tu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),Iu=new ne("LocaleId"),xu=new ne("DefaultCurrencyCode"),Au=_createClass((function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n})),Ou=function(e){return new Ks(e)},Nu=Ou,Pu=function(e){return Promise.resolve(Ou(e))},Du=function(e){var t=Ou(e),n=nn(Le(e).declarations).reduce((function(e,t){var n=je(t);return n&&e.push(new Ps(n)),e}),[]);return new Au(t,n)},Mu=Du,Fu=function(e){return Promise.resolve(Du(e))},ju=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Nu,this.compileModuleAsync=Pu,this.compileModuleAndAllComponentsSync=Mu,this.compileModuleAndAllComponentsAsync=Fu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),Qu=new ne("compilerOptions"),Lu=Promise.resolve(0);function Uu(e){"undefined"==typeof Zone?Lu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Vu=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=W.requestAnimationFrame,t=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(W,(function(){e.lastRequestAnimationFrameId=-1,Gu(e),Hu(e)})),Gu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return zu(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Ku(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return zu(n),e.invoke(r,i,o,a,s)}finally{Ku(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Gu(n),Hu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,qu,Bu,Bu);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Bu(){}var qu={};function Hu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Gu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function zu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ku(e){e._nesting--,Hu(e)}var Wu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Yu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Vu.assertNotInAngularZone(),Uu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Uu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(Vu))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}(),Zu=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Ju.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ju.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function $u(e){Ju=e}var Xu,Ju=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),ec=function(e,t,n){var r=new Ks(n);if(0===ko.size)return Promise.resolve(r);var i,o,a=(i=e.get(Qu,[]).concat(t).map((function(e){return e.providers})),o=[],i.forEach((function(e){return e&&o.push.apply(o,_toConsumableArray(e))})),o);if(0===a.length)return Promise.resolve(r);var s=function(){var e=W.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),u=wo.create({providers:a}).get(s.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(u.get(e))}(e);n.set(e,t=r.then(Eo))}return t}return ko.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){So.delete(e)}(n)}));t.push(u)})),ko=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},tc=new ne("AllowMultipleToken"),nc=_createClass((function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n}));function rc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new ne(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ic();if(!o||o.injector.get(tc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:ao,useValue:"platform"});!function(e){if(Xu&&!Xu.destroyed&&!Xu.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xu=e.get(oc);var t=e.get(Su,null);t&&t.forEach((function(e){return e()}))}(wo.create({providers:a,name:r}))}return function(e){var t=ic();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ic(){return Xu&&!Xu.destroyed?Xu:null}var oc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Wu:("zone.js"===n?void 0:n)||new Vu({enableLongStackTrace:Vn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Vu,useValue:o}];return o.run((function(){var t=wo.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Sn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return cc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(_u)).runInitializers(),a.donePromise.then((function(){return Hs(n.injector.get(Iu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return $o(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ac({},n);return ec(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(uc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(j(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(wo))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function ac(e,t){return Array.isArray(t)?t.reduce(ac,e):Object.assign(Object.assign({},e),t)}var sc,uc=((sc=function(){function e(t,n,r,i,c,h){var f=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Vn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){f._zone.run((function(){f.tick()}))}});var d=new o.a((function(e){f._stable=f._zone.isStable&&!f._zone.hasPendingMacrotasks&&!f._zone.hasPendingMicrotasks,f._zone.runOutsideAngular((function(){e.next(f._stable),e.complete()}))})),p=new o.a((function(e){var t;f._zone.runOutsideAngular((function(){t=f._zone.onStable.subscribe((function(){Vu.assertNotInAngularZone(),Uu((function(){f._stable||f._zone.hasPendingMacrotasks||f._zone.hasPendingMicrotasks||(f._stable=!0,e.next(!0))}))}))}));var n=f._zone.onUnstable.subscribe((function(){Vu.assertInAngularZone(),f._stable&&(f._stable=!1,f._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,c=t[t.length-1];return Object(a.a)(c)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof c&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof o.a?t[0]:Object(s.a)(r)(Object(u.a)(t,i))}(d,p.pipe((function(e){return l()((t=b,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,v);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Xa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ve),o=n.create(wo.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Yu,null);return a&&o.injector.get(Zu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Vn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;cc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ru,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),cc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||sc)(he(Vu),he(Tu),he(wo),he(Sn),he(es),he(_u))},sc.\u0275prov=T({token:sc,factory:sc.\u0275fac}),sc);function cc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var lc=_createClass((function e(){_classCallCheck(this,e)})),hc=_createClass((function e(){_classCallCheck(this,e)})),fc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},dc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||fc}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return pc(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return pc(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(he(ju),he(hc,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e}();function pc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var vc=function(e){return null},gc=rc(null,"core",[{provide:Eu,useValue:"unknown"},{provide:oc,deps:[wo]},{provide:Zu,deps:[]},{provide:Tu,deps:[]}]),bc=[{provide:uc,useClass:uc,deps:[Vu,Tu,wo,Sn,es,_u]},{provide:Ns,deps:[Vu],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:_u,useClass:_u,deps:[[new w,yu]]},{provide:ju,useClass:ju,deps:[]},Cu,{provide:_s,useFactory:function(){return ks},deps:[]},{provide:ws,useFactory:function(){return Ss},deps:[]},{provide:Iu,useFactory:function(e){return Hs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new _(Iu),new w,new k]]},{provide:xu,useValue:"USD"}],mc=function(){var e=_createClass((function e(t){_classCallCheck(this,e)}));return e.\u0275mod=Ne({type:e}),e.\u0275inj=I({factory:function(t){return new(t||e)(he(uc))},providers:bc}),e}()},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},mAIw:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},pxpQ:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),a=n("z6cu"),s=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(e,t))}}n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new h(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(s.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(s.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(s.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.a),h=_createClass((function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}))},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n.d(t,"CONSTANTS",(function(){return o})),n.d(t,"Deferred",(function(){return v})),n.d(t,"ErrorFactory",(function(){return P})),n.d(t,"FirebaseError",(function(){return N})),n.d(t,"MAX_VALUE_MILLIS",(function(){return le})),n.d(t,"RANDOM_FACTOR",(function(){return he})),n.d(t,"Sha1",(function(){return X})),n.d(t,"areCookiesEnabled",(function(){return A})),n.d(t,"assert",(function(){return a})),n.d(t,"assertionError",(function(){return s})),n.d(t,"async",(function(){return te})),n.d(t,"base64",(function(){return c})),n.d(t,"base64Decode",(function(){return f})),n.d(t,"base64Encode",(function(){return l})),n.d(t,"base64urlEncodeWithoutPadding",(function(){return h})),n.d(t,"calculateBackoffMillis",(function(){return fe})),n.d(t,"contains",(function(){return q})),n.d(t,"createMockUserToken",(function(){return g})),n.d(t,"createSubscribe",(function(){return J})),n.d(t,"decode",(function(){return Q})),n.d(t,"deepCopy",(function(){return d})),n.d(t,"deepEqual",(function(){return K})),n.d(t,"deepExtend",(function(){return p})),n.d(t,"errorPrefix",(function(){return ie})),n.d(t,"extractQuerystring",(function(){return $})),n.d(t,"getGlobal",(function(){return O})),n.d(t,"getModularInstance",(function(){return pe})),n.d(t,"getUA",(function(){return b})),n.d(t,"isAdmin",(function(){return B})),n.d(t,"isBrowser",(function(){return _})),n.d(t,"isBrowserExtension",(function(){return w})),n.d(t,"isElectron",(function(){return k})),n.d(t,"isEmpty",(function(){return G})),n.d(t,"isIE",(function(){return S})),n.d(t,"isIndexedDBAvailable",(function(){return I})),n.d(t,"isMobileCordova",(function(){return m})),n.d(t,"isNode",(function(){return y})),n.d(t,"isNodeSdk",(function(){return R})),n.d(t,"isReactNative",(function(){return C})),n.d(t,"isSafari",(function(){return T})),n.d(t,"isUWP",(function(){return E})),n.d(t,"isValidFormat",(function(){return V})),n.d(t,"isValidTimestamp",(function(){return L})),n.d(t,"issuedAtTime",(function(){return U})),n.d(t,"jsonEval",(function(){return F})),n.d(t,"map",(function(){return z})),n.d(t,"ordinal",(function(){return de})),n.d(t,"querystring",(function(){return Y})),n.d(t,"querystringDecode",(function(){return Z})),n.d(t,"safeGet",(function(){return H})),n.d(t,"stringLength",(function(){return ce})),n.d(t,"stringToByteArray",(function(){return ue})),n.d(t,"stringify",(function(){return j})),n.d(t,"validateArgCount",(function(){return re})),n.d(t,"validateCallback",(function(){return ae})),n.d(t,"validateContextObject",(function(){return se})),n.d(t,"validateIndexedDBOpenable",(function(){return x})),n.d(t,"validateNamespace",(function(){return oe}));var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=u(e);return c.encodeByteArray(t,!0)},h=function(e){return l(e).replace(/\./g,"")},f=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(a)),""].join(".")}function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function _(){return"object"==typeof self&&self.self===self}function w(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function C(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function k(){return b().indexOf("Electron/")>=0}function S(){var e=b();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return b().indexOf("MSAppHost/")>=0}function R(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function T(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"indexedDB"in self&&null!=indexedDB}function x(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function A(){return!(!navigator||!navigator.cookieEnabled)}function O(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var N=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),P=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new N(i,s,r);return u},e}();function D(e,t){return e.replace(M,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var M=/\{\$([^}]+)}/g;function F(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}var Q=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=F(f(o[0])||""),n=F(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},L=function(e){var t=Q(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=Q(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},V=function(e){var t=Q(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=Q(e).claims;return"object"==typeof t&&!0===t.admin};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function K(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var a=e[l],s=t[l];if(W(a)&&W(s)){if(!K(a,s))return!1}else if(a!==s)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function W(e){return null!==e&&"object"==typeof e}function Y(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Z(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}})),t}function $(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var X=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function J(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function te(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ne(){}var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ie(e,t){return e+" failed: "+t+" argument "}function oe(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(ie(e,"namespace")+"must be a valid firebase namespace.")}function ae(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(ie(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(ie(e,t)+"must be a valid context object.")}var ue=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},le=144e5,he=.5;function fe(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(he*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function de(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}},qgXg:function(e,t,n){"use strict";var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(n("IjjT").a);n.d(t,"a",(function(){return o}));var o=new i(r)},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG"),a=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();n.d(t,"a",(function(){return c}));var s,u,c=((u=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(p){t=p instanceof a?l(p.errors):[p]}if(Object(r.a)(u))for(var h=-1,f=u.length;++h<f;){var d=u[h];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof a?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new a(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((s=new u).closed=!0,s),u);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof a?t.errors:t)}),[])}},spgP:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),d=_createClass((function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))}));function p(e){return function(t){return(t=t.lift(new f(e.ngZone))).pipe(Object(a.a)(e.outsideAngular),Object(s.b)(e.insideAngular))}}var v=new u.q("angularfire2.app.options"),g=new u.q("angularfire2.app.nameOrConfig"),b=new u.N("6.1.5");function m(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(t,i)}));try{JSON.stringify(t)!==JSON.stringify(o.options)&&y("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var y=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.U)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function _(t,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&y("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var w={provide:_createClass((function e(){_classCallCheck(this,e)})),useFactory:m,deps:[v,u.z,[new u.A,g]]},C=function(){var e=function(){function e(t){_classCallCheck(this,e),c.a.registerVersion("angularfire",b.full,t.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:v,useValue:t},{provide:g,useValue:n}]}}}]),e}();return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(t){return new(t||e)(u.Vb(u.B))},providers:[w]}),e}()}).call(this,n("3UD+")(e))},"tf+s":function(e,t,n){"use strict";var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var u=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t},c=function(e){s(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(e,t))}}n.d(t,"a",(function(){return p}));var v=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new d(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},vkgz:function(e,t,n){"use strict";var r=n("7o/Q");function i(){}var o=n("n6bG");function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}n.d(t,"a",(function(){return a}));var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a,s){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},xDdU:function(e,t,n){var r,i,o=n("4fRq"),a=n("I2ZF"),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],h=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==f){var d=o();null==h&&(h=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=p-s+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=f;var b=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=b>>>24&255,l[c++]=b>>>16&255,l[c++]=b>>>8&255,l[c++]=255&b;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var y=0;y<6;++y)l[c+y]=h[y];return t||a(l)}},xk4V:function(e,t,n){var r=n("4fRq"),i=n("I2ZF");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},zIRd:function(e,t,n){"use strict";n.r(t);var r,i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=n("qOnz"),a=n("/6Yf"),s=n("q/0M");n.d(t,"firebase",(function(){return y}));var u,c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.ErrorFactory("app","Firebase",c),h=((u={})["@firebase/app"]="fire-core",u["@firebase/analytics"]="fire-analytics",u["@firebase/app-check"]="fire-app-check",u["@firebase/auth"]="fire-auth",u["@firebase/database"]="fire-rtdb",u["@firebase/functions"]="fire-fn",u["@firebase/installations"]="fire-iid",u["@firebase/messaging"]="fire-fcm",u["@firebase/performance"]="fire-perf",u["@firebase/remote-config"]="fire-rc",u["@firebase/storage"]="fire-gcs",u["@firebase/firestore"]="fire-fst",u["fire-js"]="fire-js",u["firebase-wrapper"]="fire-js-all",u),f=new s.Logger("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(o.deepCopy)(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var a=i;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(o.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,a,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:s.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(s.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(o.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function u(a){var s=a.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?r[s]:null;if(n.set(s,a),"PUBLIC"===a.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==a.serviceProps&&Object(o.deepExtend)(u,a.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,a.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(a);return"PUBLIC"===a.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=i(i({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(o.deepExtend)(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(o.isBrowser)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(o.isNode)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var m,y=p;(m=y).INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.30",void 0),m.registerVersion("fire-js",""),t.default=y},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("fXoL"),i={production:!0,apiUrl:"https://trungdc.synology.me:5152/auction",firebaseConfig:{apiKey:"AIzaSyDV8RZyn7riFw087ES5nA05z4ON5axBO28",authDomain:"test-42050.firebaseapp.com",databaseURL:"https://test-42050-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"test-42050",storageBucket:"test-42050.appspot.com",messagingSenderId:"902879698828",appId:"1:902879698828:web:2d7346b0c1c599d08540a9",measurementId:"G-XEHPX24EFX"},categoryUrl:(void 0).apiUrl+"/api/v1/products/category",priceStepUrl:(void 0).apiUrl+"/api/v1/products/priceStep",transactionUrl:(void 0).apiUrl+"/auction/api/transaction",productSearchUrl:(void 0).apiUrl+"/api/v1/products/search",userUrl:(void 0).apiUrl+"/api/v1/users",urlAddAccountUser:(void 0).apiUrl+"/api/user/v1/add",api_url_products:(void 0).apiUrl+"/api/v1/products",api_url_list_price_step:(void 0).apiUrl+"/api/v1/pricestep",api_url_list_category:(void 0).apiUrl+"/api/v1/category",api_url_list_user:(void 0).apiUrl+"/api/v1/users",api_url_list_img_url:(void 0).apiUrl+"/api/v1/users/{id}",API_URL_AUCTION:(void 0).apiUrl+"/api/v1/auction",api_url_order_status:(void 0).apiUrl+"/api/v1/payments",API_TOP_USER:(void 0).apiUrl+"/api/user/v1/top",api_url_list_price_range:(void 0).apiUrl+"/api/v1/product-properties/price-range",api_url_list_auction_status:(void 0).apiUrl+"/api/v1/product-properties/auction-status",api_url_search_by_list_id:(void 0).apiUrl+"/api/v1/products/find-by-list-id",api_url_remove_products:(void 0).apiUrl+"/api/v1/products/remove",api_url_find_by_id:(void 0).apiUrl+"/api/v1/products/find-by-id/",api_url_review_product:(void 0).apiUrl+"/api/v1/products/review/",api_url_write_reason:(void 0).apiUrl+"/api/v1/products/reason",api_url_get_reason:(void 0).apiUrl+"/api/v1/products/reason/",api_url_do_not_review_product:(void 0).apiUrl+"/api/v1/products/do-not-review/",transactionDeleteUrl:(void 0).apiUrl+"/api/v1/auction/delete",transactionFindByListIdUrl:(void 0).apiUrl+"/api/v1/auction/find-by-list-id",api_url_userType:(void 0).apiUrl+"/api/v1/users/usersType",productUrl:(void 0).apiUrl+"/api/v1/products",imageUrl:(void 0).apiUrl+"/api/v1/products/img",API_URL_GUIDE:(void 0).apiUrl+"/api/v1/guide",SIGN_IN_API:(void 0).apiUrl+"/api/v1/auth/signin",GOOGLE_SIGN_IN_API:(void 0).apiUrl+"/api/v1/auth/google",uri_api_create_user_v1_user:(void 0).apiUrl+"/api/v1/users/create",api_url_create_img_url:(void 0).apiUrl+"/api/v1/products/img/create",uri_api_update_user_v1_user:(void 0).apiUrl+"/api/v1/users/update",uri_api_find_by_id_user_v1_user:(void 0).apiUrl+"/api/v1/users/find/",LOGIN_API:(void 0).apiUrl+"/api/auth/login",GOOGLE_LOGIN_API:(void 0).apiUrl+"/api/auth/google",DIA_GIOI_VIETNAM_API:"https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||s)},s.\u0275prov=Object(r.Ib)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Vb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(e){return new(e||h)(r.Vb(u))},h.\u0275prov=Object(r.Ib)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Vb)(u))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function b(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}var y,_=((y=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||y)},y.\u0275prov=Object(r.Ib)({factory:w,token:y,providedIn:"root"}),y);function w(e){var t=Object(r.Vb)(u).location;return new R(Object(r.Vb)(c),t&&t.origin||"")}var C,k,S,E=new r.q("appBaseHref"),R=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return g(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(e){return new(e||S)(r.Vb(c),r.Vb(E,8))},S.\u0275prov=r.Ib({token:S,factory:S.\u0275fac}),S),T=((k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=g(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(e){return new(e||k)(r.Vb(c),r.Vb(E,8))},k.\u0275prov=r.Ib({token:k,factory:k.\u0275fac}),k),I=((C=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=b(A(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+m(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,A(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||C)(r.Vb(_),r.Vb(c))},C.normalizeQueryParams=m,C.joinWithSlash=g,C.stripTrailingSlash=b,C.\u0275prov=Object(r.Ib)({factory:x,token:C,providedIn:"root"}),C);function x(){return new I(Object(r.Vb)(_),Object(r.Vb)(c))}function A(e){return e.replace(/\/index.html$/,"")}var O={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},N=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),P=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),D=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),M=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),F=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),j=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Q(e,t){return H(Object(r.jb)(e)[r.Z.DateFormat],t)}function L(e,t){return H(Object(r.jb)(e)[r.Z.TimeFormat],t)}function U(e,t){return H(Object(r.jb)(e)[r.Z.DateTimeFormat],t)}function V(e,t){var n=Object(r.jb)(e),i=n[r.Z.NumberSymbols][t];if(void 0===i){if(t===j.CurrencyDecimal)return n[r.Z.NumberSymbols][j.Decimal];if(t===j.CurrencyGroup)return n[r.Z.NumberSymbols][j.Group]}return i}var B=r.mb;function q(e){if(!e[r.Z.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[r.Z.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function H(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function G(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var z=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,K={},W=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Y=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Z=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),X=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function J(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case Z.FullYear:return t.getFullYear();case Z.Month:return t.getMonth();case Z.Date:return t.getDate();case Z.Hours:return t.getHours();case Z.Minutes:return t.getMinutes();case Z.Seconds:return t.getSeconds();case Z.FractionalSeconds:return t.getMilliseconds();case Z.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===Z.Hours)0===u&&-12===n&&(u=12);else if(e===Z.FractionalSeconds)return s=t,ee(u,3).substr(0,s);var c=V(a,j.MinusSign);return ee(u,t,c,r,i)}}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(e,t,n,i,o,a){switch(n){case X.Months:return function(e,t,n){var i=Object(r.jb)(e),o=H([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],t);return H(o,n)}(t,o,i)[e.getMonth()];case X.Days:return function(e,t,n){var i=Object(r.jb)(e),o=H([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],t);return H(o,n)}(t,o,i)[e.getDay()];case X.DayPeriods:var s=e.getHours(),u=e.getMinutes();if(a){var c,l=function(e){var t=Object(r.jb)(e);return q(t),(t[r.Z.ExtraData][2]||[]).map((function(e){return"string"==typeof e?G(e):[G(e[0]),G(e[1])]}))}(t),h=function(e,t,n){var i=Object(r.jb)(e);q(i);var o=H([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],t)||[];return H(o,n)||[]}(t,o,i);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],a=o.hours,l=o.minutes;s>=r&&u>=i&&(s<a||s===a&&u<l)&&(c=h[t])}else{var f=e.hours,d=e.minutes;f===s&&d===u&&(c=h[t])}})),c)return c}return function(e,t,n){var i=Object(r.jb)(e),o=H([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],t);return H(o,n)}(t,o,i)[s<12?0:1];case X.Eras:return function(e,t){return H(Object(r.jb)(e)[r.Z.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,a,e,t,n,i)}}function re(e){return function(t,n,r){var i=-1*r,o=V(n,j.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Y.Short:return(i>=0?"+":"")+ee(a,2,o)+ee(Math.abs(i%60),2,o);case Y.ShortGMT:return"GMT"+(i>=0?"+":"")+ee(a,1,o);case Y.Long:return"GMT"+(i>=0?"+":"")+ee(a,2,o)+":"+ee(Math.abs(i%60),2,o);case Y.Extended:return 0===r?"Z":(i>=0?"+":"")+ee(a,2,o)+":"+ee(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return ee(i,e,V(r,j.MinusSign))}}var oe={};function ae(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function se(e){return e instanceof Date&&!isNaN(e.valueOf())}var ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ce(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var le,he=_createClass((function e(){_classCallCheck(this,e)})),fe=((le=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(B(t||this.locale)(e)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(he)).\u0275fac=function(e){return new(e||le)(r.Vb(r.u))},le.\u0275prov=r.Ib({token:le,factory:le.\u0275fac}),le);function de(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var pe,ve,ge,be=((pe=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}()).\u0275fac=function(e){return new(e||pe)(r.Mb(r.s),r.Mb(r.t),r.Mb(r.l),r.Mb(r.D))},pe.\u0275dir=r.Hb({type:pe,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),pe),me=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),ye=((ve=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.U)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new me(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new _e(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new _e(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||ve)(r.Mb(r.O),r.Mb(r.K),r.Mb(r.s))},ve.\u0275dir=r.Hb({type:ve,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),ve),_e=_createClass((function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n})),we=((ge=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Ce,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){ke("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){ke("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||ge)(r.Mb(r.O),r.Mb(r.K))},ge.\u0275dir=r.Hb({type:ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ge),Ce=_createClass((function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null}));function ke(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.vb)(t),"'."))}function Se(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(r.vb)(e),"'"))}var Ee,Re,Te,Ie,xe,Ae,Oe,Ne,Pe,De=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Me=((xe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Se(e,t);return t.replace(De,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}()).\u0275fac=function(e){return new(e||xe)},xe.\u0275pipe=r.Lb({name:"titlecase",type:xe,pure:!0}),xe),Fe=((Ie=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,i){var o=function(e){if(se(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(z))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,c),t}(t)}var s=new Date(e);if(!se(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var i=function(e){return Object(r.jb)(e)[r.Z.LocaleId]}(t);if(K[i]=K[i]||{},K[i][n])return K[i][n];var o="";switch(n){case"shortDate":o=Q(t,F.Short);break;case"mediumDate":o=Q(t,F.Medium);break;case"longDate":o=Q(t,F.Long);break;case"fullDate":o=Q(t,F.Full);break;case"shortTime":o=L(t,F.Short);break;case"mediumTime":o=L(t,F.Medium);break;case"longTime":o=L(t,F.Long);break;case"fullTime":o=L(t,F.Full);break;case"short":var a=e(t,"shortTime"),s=e(t,"shortDate");o=J(U(t,F.Short),[a,s]);break;case"medium":var u=e(t,"mediumTime"),c=e(t,"mediumDate");o=J(U(t,F.Medium),[u,c]);break;case"long":var l=e(t,"longTime"),h=e(t,"longDate");o=J(U(t,F.Long),[l,h]);break;case"full":var f=e(t,"fullTime"),d=e(t,"fullDate");o=J(U(t,F.Full),[f,d])}return o&&(K[i][n]=o),o}(n,t)||t;for(var a,s=[];t;){if(!(a=W.exec(t))){s.push(t);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;t=u}var c=o.getTimezoneOffset();i&&(c=ae(i,c),o=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ae(t,r)-r))}(o,i));var l="";return s.forEach((function(e){var t=function(e){if(oe[e])return oe[e];var t;switch(e){case"G":case"GG":case"GGG":t=ne(X.Eras,M.Abbreviated);break;case"GGGG":t=ne(X.Eras,M.Wide);break;case"GGGGG":t=ne(X.Eras,M.Narrow);break;case"y":t=te(Z.FullYear,1,0,!1,!0);break;case"yy":t=te(Z.FullYear,2,0,!0,!0);break;case"yyy":t=te(Z.FullYear,3,0,!1,!0);break;case"yyyy":t=te(Z.FullYear,4,0,!1,!0);break;case"M":case"L":t=te(Z.Month,1,1);break;case"MM":case"LL":t=te(Z.Month,2,1);break;case"MMM":t=ne(X.Months,M.Abbreviated);break;case"MMMM":t=ne(X.Months,M.Wide);break;case"MMMMM":t=ne(X.Months,M.Narrow);break;case"LLL":t=ne(X.Months,M.Abbreviated,D.Standalone);break;case"LLLL":t=ne(X.Months,M.Wide,D.Standalone);break;case"LLLLL":t=ne(X.Months,M.Narrow,D.Standalone);break;case"w":t=ie(1);break;case"ww":t=ie(2);break;case"W":t=ie(1,!0);break;case"d":t=te(Z.Date,1);break;case"dd":t=te(Z.Date,2);break;case"E":case"EE":case"EEE":t=ne(X.Days,M.Abbreviated);break;case"EEEE":t=ne(X.Days,M.Wide);break;case"EEEEE":t=ne(X.Days,M.Narrow);break;case"EEEEEE":t=ne(X.Days,M.Short);break;case"a":case"aa":case"aaa":t=ne(X.DayPeriods,M.Abbreviated);break;case"aaaa":t=ne(X.DayPeriods,M.Wide);break;case"aaaaa":t=ne(X.DayPeriods,M.Narrow);break;case"b":case"bb":case"bbb":t=ne(X.DayPeriods,M.Abbreviated,D.Standalone,!0);break;case"bbbb":t=ne(X.DayPeriods,M.Wide,D.Standalone,!0);break;case"bbbbb":t=ne(X.DayPeriods,M.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":t=ne(X.DayPeriods,M.Abbreviated,D.Format,!0);break;case"BBBB":t=ne(X.DayPeriods,M.Wide,D.Format,!0);break;case"BBBBB":t=ne(X.DayPeriods,M.Narrow,D.Format,!0);break;case"h":t=te(Z.Hours,1,-12);break;case"hh":t=te(Z.Hours,2,-12);break;case"H":t=te(Z.Hours,1);break;case"HH":t=te(Z.Hours,2);break;case"m":t=te(Z.Minutes,1);break;case"mm":t=te(Z.Minutes,2);break;case"s":t=te(Z.Seconds,1);break;case"ss":t=te(Z.Seconds,2);break;case"S":t=te(Z.FractionalSeconds,1);break;case"SS":t=te(Z.FractionalSeconds,2);break;case"SSS":t=te(Z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=re(Y.Short);break;case"ZZZZZ":t=re(Y.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=re(Y.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=re(Y.Long);break;default:return null}return oe[e]=t,t}(e);l+=t?t(o,n,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,o||this.locale,i)}catch(a){throw Se(e,a.message)}}}]),e}()).\u0275fac=function(e){return new(e||Ie)(r.Mb(r.u))},Ie.\u0275pipe=r.Lb({name:"date",type:Ie,pure:!0}),Ie),je=((Te=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(function(e){return null==e||""===e||e!=e}(t))return null;a=a||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return Object(r.jb)(e)[r.Z.Currencies]}(n)[e]||O[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}(s,"symbol"===i?"wide":"narrow",a):i);try{return function(e,t,n,i,o){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Object(r.jb)(e)[r.Z.NumberFormats][t]}(t,N.Currency),V(t,j.MinusSign));return a.minFrac=function(e){var t,n=O[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),a.maxFrac=a.minFrac,function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,o,a=Math.abs(e)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);a&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){var d=o.match(ue);if(null===d)throw new Error(o+" is not a valid digit info");var p=d[1],v=d[3],g=d[5];null!=p&&(l=ce(p)),null!=v&&(h=ce(v)),null!=g?f=ce(g):null!=v&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=t+e.integerLen,d=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0}),0);d&&(r.unshift(d),e.integerLen++)}(c,h,f);var b=c.digits,m=c.integerLen,y=c.exponent,_=[];for(u=b.every((function(e){return!e}));m<l;m++)b.unshift(0);for(;m<0;m++)b.unshift(0);m>0?_=b.splice(m,b.length):(_=b,b=[0]);var w=[];for(b.length>=t.lgSize&&w.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)w.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&w.unshift(b.join("")),s=w.join(V(n,r)),_.length&&(s+=V(n,i)+_.join("")),y&&(s+=V(n,j.Exponential)+"+"+y)}else s=V(n,j.Infinity);return s=e<0&&!u?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}(e,a,t,j.CurrencyGroup,j.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}(t),a,s,n,o)}catch(u){throw Se(e,u.message)}}}]),e}()).\u0275fac=function(e){return new(e||Te)(r.Mb(r.u),r.Mb(r.k))},Te.\u0275pipe=r.Lb({name:"currency",type:Te,pure:!0}),Te),Qe=((Re=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:Re}),Re.\u0275inj=r.Jb({factory:function(e){return new(e||Re)},providers:[{provide:he,useClass:fe}]}),Re),Le=((Ee=_createClass((function e(){_classCallCheck(this,e)}))).\u0275prov=Object(r.Ib)({token:Ee,providedIn:"root",factory:function(){return new Ue(Object(r.Vb)(u),window,Object(r.Vb)(r.m))}}),Ee),Ue=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(Gx){this.errorHandler.handleError(Gx)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Be||(Be=document.querySelector("base"))?Be.getAttribute("href"):null;return null==n?null:(t=n,Ae||(Ae=document.createElement("a")),Ae.setAttribute("href",t),"/"===Ae.pathname.charAt(0)?Ae.pathname:"/"+Ae.pathname)}},{key:"resetBaseElement",value:function(){Be=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return de(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,o||(o=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}())),Be=null,qe=new r.q("TRANSITION_ID"),He=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[qe,u,r.r],multi:!0}],Ge=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.ob.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.ob.getAllAngularRootElements=function(){return e.getAllRootElements()},r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push((function(e){var t=r.ob.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?a().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new e)}}]),e}(),ze=new r.q("EventManagerPlugins"),Ke=((Oe=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||Oe)(r.Vb(ze),r.Vb(r.z))},Oe.\u0275prov=r.Ib({token:Oe,factory:Oe.\u0275fac}),Oe),We=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=a().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Ye=((Pe=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Pe)},Pe.\u0275prov=r.Ib({token:Pe,factory:Pe.\u0275fac}),Pe),Ze=((Ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return a().remove(e)}))}}]),n}(Ye)).\u0275fac=function(e){return new(e||Ne)(r.Vb(u))},Ne.\u0275prov=r.Ib({token:Ne,factory:Ne.\u0275fac}),Ne),$e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xe=/%COMP%/g;function Je(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Je(e,i,n):(i=i.replace(Xe,e),n.push(i))}return n}function et(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var tt,nt,rt,it,ot,at,st=((tt=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.P.Native:case r.P.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=Je(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||tt)(r.Vb(Ke),r.Vb(Ze),r.Vb(r.c))},tt.\u0275prov=r.Ib({token:tt,factory:tt.\u0275fac}),tt),ut=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS($e[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=$e[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=$e[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&r.F.DashCase?e.style.setProperty(t,n,i&r.F.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.F.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,et(n)):this.eventManager.addEventListener(e,t,et(n))}}]),e}(),ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=Je(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(Xe,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(Xe,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(ut),lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=Je(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ut),ht=((nt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(We)).\u0275fac=function(e){return new(e||nt)(r.Vb(u))},nt.\u0275prov=r.Ib({token:nt,factory:nt.\u0275fac}),nt),ft=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},gt=((ot=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(ft.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&pt.hasOwnProperty(t)&&(t=pt[t]))}return dt[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ft.forEach((function(r){r!=n&&(0,vt[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(We)).\u0275fac=function(e){return new(e||ot)(r.Vb(u))},ot.\u0275prov=r.Ib({token:ot,factory:ot.\u0275fac}),ot),bt=((it=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||it)},it.\u0275prov=Object(r.Ib)({factory:function(){return Object(r.Vb)(mt)},token:it,providedIn:"root"}),it),mt=((rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.H.NONE:return t;case r.H.HTML:return Object(r.db)(t,"HTML")?Object(r.wb)(t):Object(r.ab)(this._doc,String(t));case r.H.STYLE:return Object(r.db)(t,"Style")?Object(r.wb)(t):Object(r.bb)(t);case r.H.SCRIPT:if(Object(r.db)(t,"Script"))return Object(r.wb)(t);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.nb)(t),Object(r.db)(t,"URL")?Object(r.wb)(t):Object(r.cb)(String(t));case r.H.RESOURCE_URL:if(Object(r.db)(t,"ResourceURL"))return Object(r.wb)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(r.eb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(r.hb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(r.gb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(r.ib)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(r.fb)(e)}}]),n}(bt)).\u0275fac=function(e){return new(e||rt)(r.Vb(u))},rt.\u0275prov=Object(r.Ib)({factory:function(){return e=Object(r.Vb)(r.o),new mt(e.get(u));var e},token:rt,providedIn:"root"}),rt),yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Ve.makeCurrent(),Ge.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],_t=Object(r.R)(r.V,"browser",yt),wt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:ze,useClass:ht,multi:!0,deps:[u,r.z,r.B]},{provide:ze,useClass:gt,multi:!0,deps:[u]},[],{provide:st,useClass:st,deps:[Ke,Ze,r.c]},{provide:r.E,useExisting:st},{provide:Ye,useExisting:Ze},{provide:Ze,useClass:Ze,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Ke,useClass:Ke,deps:[ze,r.z]},[]],Ct=((at=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:qe,useExisting:r.c},He]}}}]),e}()).\u0275mod=r.Kb({type:at}),at.\u0275inj=r.Jb({factory:function(e){return new(e||at)(r.Vb(at,12))},providers:wt,imports:[Qe,r.f]}),at);"undefined"!=typeof window&&window;var kt=n("LRne"),St=n("Cfvw"),Et=n("XNiG"),Rt=n("9ppp"),Tt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Rt.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(Et.a),It=n("HDdC"),xt=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),At=n("z+Ro"),Ot=n("DH7j"),Nt=n("l7GE"),Pt=n("ZUHj"),Dt=n("yCtX"),Mt={},Ft=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new jt(e,this.resultSelector))}}]),e}(),jt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(Mt),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(Pt.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===Mt?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Nt.a),Qt=n("EY2u");function Lt(e){return new It.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(St.a)(n):Object(Qt.b)()).subscribe(t)}))}var Ut=n("lJxs"),Vt=n("bHdf");function Bt(){return Object(Vt.a)(1)}var qt=n("7o/Q");function Ht(e,t){return function(n){return n.lift(new Gt(e,t))}}var Gt=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zt(e,this.predicate,this.thisArg))}}]),e}(),zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(qt.a),Kt=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Wt(e){return function(t){return 0===e?Object(Qt.b)():t.lift(new Yt(e))}}var Yt=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Kt}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Zt(e,this.total))}}]),e}(),Zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(qt.a);function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en;return function(t){return t.lift(new Xt(e))}}var Xt=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Jt(e,this.errorFactory))}}]),e}(),Jt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(Gx){e=Gx}this.destination.error(e)}}]),n}(qt.a);function en(){return new xt}function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new nn(e))}}var nn=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new rn(e,this.defaultValue))}}]),e}(),rn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(qt.a),on=n("SpAZ");function an(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ht((function(t,n){return e(t,n,r)})):on.a,Wt(1),n?tn(t):$t((function(){return new xt})))}}var sn=n("51Dv");function un(e){return function(t){var n=new cn(e),r=t.lift(n);return n.caught=r}}var cn=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ln(e,this.selector,this.caught))}}]),e}(),ln=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new sn.a(this,void 0,void 0);this.add(r);var i=Object(Pt.a)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Nt.a);function hn(e){return function(t){return 0===e?Object(Qt.b)():t.lift(new fn(e))}}var fn=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Kt}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new dn(e,this.total))}}]),e}(),dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(qt.a);function pn(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ht((function(t,n){return e(t,n,r)})):on.a,hn(1),n?tn(t):$t((function(){return new xt})))}}var vn=n("5+tZ"),gn=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new bn(e,this.predicate,this.thisArg,this.source))}}]),e}(),bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(qt.a);function mn(e,t){return"function"==typeof t?function(n){return n.pipe(mn((function(n,r){return Object(St.a)(e(n,r)).pipe(Object(Ut.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new yn(e))}}var yn=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _n(e,this.project))}}]),e}(),_n=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new sn.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(Pt.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(Nt.a);function wn(){return Bt()(Object(kt.a).apply(void 0,arguments))}function Cn(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new kn(e,t,n))}}var kn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Sn(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Sn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(qt.a);function En(e,t){return Object(vn.a)(e,t,1)}var Rn=n("mCNh"),Tn=n("vkgz"),In=n("quSY");function xn(e){return function(t){return t.lift(new On(e))}}var An,On=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Nn(e,this.callback))}}]),e}(),Nn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new In.a(r)),i}return _createClass(n)}(qt.a),Pn=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n})),Dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Pn),Mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Pn),Fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Pn),jn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Pn),Qn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Pn),Ln=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Pn),Un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Pn),Vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Pn),Bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Pn),qn=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Hn=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Gn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),zn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Kn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Wn=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Yn=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Zn=((An=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||An)},An.\u0275cmp=r.Gb({type:An,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Nb(0,"router-outlet")},directives:function(){return[oo]},encapsulation:2}),An),$n=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Xn(e){return new $n(e)}function Jn(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function er(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var tr=_createClass((function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n}));function nr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];rr(r,ir(t,r))}}function rr(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&nr(e.children,t)}function ir(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function or(e){var t=e.children&&e.children.map(or),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Zn),n}function ar(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!sr(e[n=r[o]],t[n]))return!1;return!0}function sr(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function ur(e){return Array.prototype.concat.apply([],e)}function cr(e){return e.length>0?e[e.length-1]:null}function lr(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function hr(e){return Object(r.qb)(e)?e:Object(r.rb)(e)?Object(St.a)(Promise.resolve(e)):Object(kt.a)(e)}function fr(e,t,n){return n?function(e,t){return ar(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!gr(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return sr(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!gr(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!gr(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!gr(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var dr=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return _r.serialize(this)}}]),e}(),pr=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,lr(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return wr(this)}}]),e}(),vr=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Tr(this)}}]),e}();function gr(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function br(e,t){var n=[];return lr(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),lr(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var mr=_createClass((function e(){_classCallCheck(this,e)})),yr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Nr(e);return new dr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return wr(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return lr(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=br(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(wr(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(kr(e),"=").concat(kr(t))})).join("&"):"".concat(kr(e),"=").concat(kr(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),_r=new yr;function wr(e){return e.segments.map((function(e){return Tr(e)})).join("/")}function Cr(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kr(e){return Cr(e).replace(/%3B/gi,";")}function Sr(e){return Cr(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Er(e){return decodeURIComponent(e)}function Rr(e){return Er(e.replace(/\+/g,"%20"))}function Tr(e){return"".concat(Sr(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Sr(e),"=").concat(Sr(t[e]))})).join("")));var t}var Ir=/^[^\/()?;=#]+/;function xr(e){var t=e.match(Ir);return t?t[0]:""}var Ar=/^[^=?&#]+/,Or=/^[^?&#]+/,Nr=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pr([],{}):new pr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new pr(e,t)),n}},{key:"parseSegment",value:function(){var e=xr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new vr(Er(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=xr(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=xr(this.remaining);r&&(n=r,this.capture(n))}e[Er(t)]=Er(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Ar);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Or);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Rr(t),o=Rr(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=xr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new pr([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Pr=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Dr(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Dr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Mr(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Mr(e,this._root).map((function(e){return e.value}))}}]),e}();function Dr(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Dr(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Mr(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Mr(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Fr=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function jr(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Qr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,Hr(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Pr);function Lr(e,t){var n=function(e,t){var n=new Br([],{},{},"",{},"primary",t,null,e.root,-1,{});return new qr("",new Fr(n,[]))}(e,t),r=new Tt([new vr("",{})]),i=new Tt({}),o=new Tt({}),a=new Tt({}),s=new Tt(""),u=new Ur(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new Qr(new Fr(u,[]),n)}var Ur=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ut.a)((function(e){return Xn(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ut.a)((function(e){return Xn(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Vr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Br=function(){function e(t,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),qr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,Hr(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Gr(this._root)}}]),n}(Pr);function Hr(e,t){t.value._routerState=e,t.children.forEach((function(t){return Hr(e,t)}))}function Gr(e){var t=e.children.length>0?" { ".concat(e.children.map(Gr).join(", ")," } "):"";return"".concat(e.value).concat(t)}function zr(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ar(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ar(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!ar(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ar(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Kr(e,t){return ar(e.params,t.params)&&function(e,t){return gr(e,t)&&e.every((function(e,n){return ar(e.parameters,t[n].parameters)}))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Kr(e.parent,t.parent))}function Wr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Yr(e,t,n,r,i){var o={};return r&&lr(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new dr(n.root===e?t:function e(t,n,r){var i={};return lr(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new pr(t.segments,i)}(n.root,e,t),o,i)}var Zr=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Wr(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==cr(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),$r=_createClass((function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r}));function Xr(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Jr(e,t,n){if(e||(e=new pr([],{})),0===e.segments.length&&e.hasChildren())return ei(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=Xr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ii(s,u,a))return o;r+=2}else{if(!ii(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new pr(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new pr(e.segments.slice(r.pathIndex),e.children),ei(o,0,i)}return r.match&&0===i.length?new pr(e.segments,{}):r.match&&!e.hasChildren()?ti(e,t,n):r.match?ei(e,0,i):ti(e,t,n)}function ei(e,t,n){if(0===n.length)return new pr(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return lr(r,(function(n,r){null!==n&&(i[r]=Jr(e.children[r],t,n))})),lr(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new pr(e.segments,i)}function ti(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=ni(n[i].outlets);return new pr(r,o)}if(0===i&&Wr(n[0]))r.push(new vr(e.segments[t].path,n[0])),i++;else{var a=Xr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Wr(s)?(r.push(new vr(a,ri(s))),i+=2):(r.push(new vr(a,{})),i++)}}return new pr(r,{})}function ni(e){var t={};return lr(e,(function(e,n){null!==e&&(t[n]=ti(new pr([],{}),0,e))})),t}function ri(e){var t={};return lr(e,(function(e,n){return t[n]=""+e})),t}function ii(e,t,n){return e==n.path&&ar(t,n.parameters)}var oi=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),zr(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=jr(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),lr(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=jr(e),o=e.value.component?r.children:t;lr(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=jr(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Wn(e.value.snapshot))})),e.children.length&&this.forwardEvent(new zn(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(zr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ai(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function ai(e){zr(e.value),e.children.forEach(ai)}function si(e){return"function"==typeof e}function ui(e){return e instanceof dr}var ci=_createClass((function e(t){_classCallCheck(this,e),this.segmentGroup=t||null})),li=_createClass((function e(t){_classCallCheck(this,e),this.urlTree=t}));function hi(e){return new It.a((function(t){return t.error(new ci(e))}))}function fi(e){return new It.a((function(t){return t.error(new li(e))}))}function di(e){return new It.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var pi=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(r.x)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Ut.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(un((function(t){if(t instanceof li)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof ci)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(Ut.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(un((function(e){if(e instanceof ci)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new pr([],{primary:e}):e;return new dr(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(Ut.a)((function(e){return new pr([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(kt.a)({});var o=[],a=[],s={};return lr(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(Object(Ut.a)((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),kt.a.apply(null,o.concat(a)).pipe(Bt(),an(),Object(Ut.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Object(kt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Ut.a)((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(un((function(e){if(e instanceof ci)return Object(kt.a)(null);throw e})))})),Bt(),pn((function(e){return!!e})),un((function(e,n){if(e instanceof xt||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Object(kt.a)(new pr([],{}));throw new ci(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return mi(r)!==o?hi(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):hi(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?fi(o):this.lineralizeSegments(n,o).pipe(Object(vn.a)((function(n){var o=new pr(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=vi(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return hi(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?fi(f):this.lineralizeSegments(r,f).pipe(Object(vn.a)((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(Ut.a)((function(e){return n._loadedConfig=e,new pr(r,{})}))):Object(kt.a)(new pr(r,{}));var o=vi(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return hi(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(vn.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return bi(e,t,n)&&"primary"!==mi(n)}))}(e,n,r)?{segmentGroup:gi(new pr(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==mi(o)&&(n[mi(o)]=new pr([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new pr(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return bi(e,t,n)}))}(e,n,r)?{segmentGroup:gi(new pr(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;bi(e,t,s)&&!r[mi(s)]&&(o[mi(s)]=new pr([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Ut.a)((function(e){return new pr(s,e)}))):0===r.length&&0===u.length?Object(kt.a)(new pr(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(Ut.a)((function(e){return new pr(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(kt.a)(new tr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(kt.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(St.a)(i).pipe(Object(Ut.a)((function(r){var i,o=e.get(r);if(function(e){return e&&si(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!si(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return hr(i)}))).pipe(Bt(),(r=function(e){return!0===e},function(e){return e.lift(new gn(r,void 0,e))})):Object(kt.a)(!0)}(e.injector,t,n).pipe(Object(vn.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(Ut.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new It.a((function(t){return t.error(Jn("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(kt.a)(new tr([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(kt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return di(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new dr(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return lr(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return lr(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new pr(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function vi(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||er)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gi(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new pr(e.segments.concat(t.segments),t.children)}return e}function bi(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function mi(e){return e.outlet||"primary"}var yi=_createClass((function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]})),_i=_createClass((function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n}));function wi(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ci(e,t,n){var r=jr(e),i=e.value;lr(r,(function(e,r){Ci(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new _i(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var ki=Symbol("INITIAL_VALUE");function Si(){return mn((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(At.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(Ot.a)(t[0])&&(t=t[0]),Object(Dt.a)(t,i).lift(new Ft(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(hn(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(At.a)(r)?(t.pop(),function(e){return wn(t,e,r)}):function(e){return wn(t,e)}}(ki))})))).pipe(Cn((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==ki)return e;if(r===ki&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||ui(r))return r}return e}),e)}),ki),Ht((function(e){return e!==ki})),Object(Ut.a)((function(e){return ui(e)?e:!0===e})),hn(1))}))}function Ei(e,t){return null!==e&&t&&t(new Kn(e)),Object(kt.a)(!0)}function Ri(e,t){return null!==e&&t&&t(new Gn(e)),Object(kt.a)(!0)}function Ti(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(kt.a)(!0);var i=r.map((function(r){return Lt((function(){var i,o=wi(r,t,n);if(function(e){return e&&si(e.canActivate)}(o))i=hr(o.canActivate(t,e));else{if(!si(o))throw new Error("Invalid CanActivate guard");i=hr(o(t,e))}return i.pipe(pn())}))}));return Object(kt.a)(i).pipe(Si())}function Ii(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Lt((function(){var i=t.guards.map((function(i){var o,a=wi(i,t.node,n);if(function(e){return e&&si(e.canActivateChild)}(a))o=hr(a.canActivateChild(r,e));else{if(!si(a))throw new Error("Invalid CanActivateChild guard");o=hr(a(r,e))}return o.pipe(pn())}));return Object(kt.a)(i).pipe(Si())}))}));return Object(kt.a)(i).pipe(Si())}var xi=_createClass((function e(){_classCallCheck(this,e)})),Ai=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=Pi(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Br([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fr(n,t),i=new qr(this.url,r);return this.inheritParamsAndData(i._root),Object(kt.a)(i)}catch(Gx){return new It.a((function(t){return t.error(Gx)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Vr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=br(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(Gx){if(!(Gx instanceof xi))throw Gx}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new xi}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new xi;if((e.outlet||"primary")!==r)throw new xi;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?cr(n).parameters:{};i=new Br(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fi(e),r,e.component,e,Oi(t),Ni(t)+n.length,ji(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new xi;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||er)(n,e,t);if(!r)throw new xi;var i={};lr(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Br(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fi(e),r,e.component,e,Oi(t),Ni(t)+o.length,ji(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=Pi(t,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Fr(i,d)]}if(0===c.length&&0===f.length)return[new Fr(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Fr(i,p)]}}]),e}();function Oi(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Ni(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Pi(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Di(e,t,n)&&"primary"!==Mi(n)}))}(e,n,r)){var o=new pr(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Mi(s)){var u=new pr([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[Mi(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new pr(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Di(e,t,n)}))}(e,n,r)){var a=new pr(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Di(e,n,c)&&!i[Mi(c)]){var l=new pr([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Mi(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new pr(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Di(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Mi(e){return e.outlet||"primary"}function Fi(e){return e.data||{}}function ji(e){return e.resolve||{}}function Qi(e,t,n,r){var i=wi(e,t,r);return hr(i.resolve?i.resolve(t,n):i(t,n))}function Li(e){return function(t){return t.pipe(mn((function(t){var n=e(t);return n?Object(St.a)(n).pipe(Object(Ut.a)((function(){return t}))):Object(St.a)([t])})))}}var Ui=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Vi=new r.q("ROUTES"),Bi=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(Ut.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new tr(ur(i.injector.get(Vi)).map(or),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(St.a)(this.loader.load(e)):hr(e()).pipe(Object(vn.a)((function(e){return e instanceof r.v?Object(kt.a)(e):Object(St.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),qi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Hi(e){throw e}function Gi(e,t,n){return t.parse("/")}function zi(e,t){return Object(kt.a)(null)}var Ki,Wi,Yi,Zi=((Yi=function(){function e(t,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Et.a,this.errorHandler=Hi,this.malformedUriErrorHandler=Gi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zi,afterPreactivation:zi},this.urlHandlingStrategy=new qi,this.routeReuseStrategy=new Ui,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.X);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new dr(new pr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bi(s,u,(function(e){return l.triggerEvent(new qn(e))}),(function(e){return l.triggerEvent(new Hn(e))})),this.routerState=Lr(this.currentUrlTree,this.rootComponentType),this.transitions=new Tt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Ht((function(e){return 0!==e.id})),Object(Ut.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),mn((function(e){var r,i,o,a=!1,s=!1;return Object(kt.a)(e).pipe(Object(Tn.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),mn((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(kt.a)(e).pipe(mn((function(e){var r=t.transitions.getValue();return n.next(new Dn(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Qt.a:[e]})),mn((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(mn((function(e){return function(e,t,n,r,i){return new pi(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(Object(Ut.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(Tn.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(vn.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ai(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(Object(Ut.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(Tn.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(Tn.a)((function(e){var r=new Qn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new Dn(u,t.serializeUrl(c),l,h);n.next(d);var p=Lr(c,t.rootComponentType).snapshot;return Object(kt.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Qt.a})),Li((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Tn.a)((function(e){var n=new Ln(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(Ut.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=jr(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!gr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!gr(e.url,t.url)||!ar(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kr(e,t)||!ar(e.queryParams,t.queryParams);case"paramsChange":default:return!Kr(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new yi(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new _i(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ci(n,u,o),o.canActivateChecks.push(new yi(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),lr(a,(function(e,t){return Ci(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(vn.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(kt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(St.a)(e).pipe(Object(vn.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(kt.a)(!0);var a=o.map((function(o){var a,s=wi(o,t,i);if(function(e){return e&&si(e.canDeactivate)}(s))a=hr(s.canDeactivate(e,t,n,r));else{if(!si(s))throw new Error("Invalid CanDeactivate guard");a=hr(s(e,t,n,r))}return a.pipe(pn())}));return Object(kt.a)(a).pipe(Si())}(e.component,e.route,n,t,r)})),pn((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(vn.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(St.a)(t).pipe(En((function(t){return Object(St.a)([Ri(t.route.parent,r),Ei(t.route,r),Ii(e,t.path,n),Ti(e,t.route,n)]).pipe(Bt(),pn((function(e){return!0!==e}),!0))})),pn((function(e){return!0!==e}),!0))}(r,a,e,t):Object(kt.a)(n)})),Object(Ut.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(Tn.a)((function(e){if(ui(e.guardsResult)){var n=Jn('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(Tn.a)((function(e){var n=new Un(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Ht((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Fn(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),Li((function(e){if(e.guards.canActivateChecks.length)return Object(kt.a)(e).pipe(Object(Tn.a)((function(e){var n=new Vn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(vn.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(St.a)(i).pipe(En((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(kt.a)({});if(1===i.length){var o=i[0];return Qi(e[o],t,n,r).pipe(Object(Ut.a)((function(e){return _defineProperty({},o,e)})))}var a={};return Object(St.a)(i).pipe(Object(vn.a)((function(i){return Qi(e[i],t,n,r).pipe(Object(Ut.a)((function(e){return a[i]=e,e})))}))).pipe(an(),Object(Ut.a)((function(){return a})))}(e._resolve,e,t,r).pipe(Object(Ut.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Vr(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object(Rn.a)(Cn(e,t),Wt(1),tn(t))(n)}:function(t){return Object(Rn.a)(Cn((function(t,n,r){return e(t,n,r+1)})),Wt(1))(t)}}((function(e,t){return e})),Object(Ut.a)((function(t){return e}))):Object(kt.a)(e)})))}),Object(Tn.a)((function(e){var n=new Bn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),Li((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Ut.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new Fr(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new Ur(new Tt((u=n.value).url),new Tt(u.params),new Tt(u.queryParams),new Tt(u.fragment),new Tt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new Fr(c,l)}(e,t._root,n?n._root:void 0);return new Qr(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(Tn.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},Object(Ut.a)((function(e){return new oi(i,e.targetRouterState,e.currentRouterState,o).activate(r),e}))),Object(Tn.a)({next:function(){a=!0},complete:function(){a=!0}}),xn((function(){if(!a&&!s){t.resetUrlToCurrentUrlTree();var r=new Fn(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),un((function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=ui(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Fn(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new jn(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var u;return Qt.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){nr(e),this.config=e.map(or),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;Object(r.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Yr(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Zr(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return lr(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Zr(n,t,r)}(n);if(o.toRoot())return Yr(t.root,new pr([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new $r(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new $r(n.snapshot._urlSegment,!0,0);var r=Wr(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new $r(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?ei(a.segmentGroup,a.index,o.commands):Jr(a.segmentGroup,a.index,o.commands);return Yr(a.segmentGroup,s,t,r,i)}(c,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ui(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(Gx){t=this.malformedUriErrorHandler(Gx,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(ui(e))return fr(this.currentUrlTree,e,t);var n=this.parseUrl(e);return fr(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Mn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){r.Yb()},Yi.\u0275dir=r.Hb({type:Yi}),Yi),$i=((Wi=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:Ji(this.skipLocationChange),replaceUrl:Ji(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ji(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ji(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Wi)(r.Mb(Zi),r.Mb(Ur),r.Wb("tabindex"),r.Mb(r.D),r.Mb(r.l))},Wi.\u0275dir=r.Hb({type:Wi,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.Zb("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),Wi),Xi=((Ki=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Mn&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Ji(this.skipLocationChange),replaceUrl:Ji(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ji(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ji(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Ki)(r.Mb(Zi),r.Mb(Ur),r.Mb(_))},Ki.\u0275dir=r.Hb({type:Ki,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.Zb("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(r.Ub("href",t.href,r.oc),r.Bb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),Ki);function Ji(e){return""===e||!!e}var eo,to,no,ro=_createClass((function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new io,this.attachRef=null})),io=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new ro,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),oo=((eo=function(){function e(t,n,i,o,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ao(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||eo)(r.Mb(io),r.Mb(r.O),r.Mb(r.j),r.Wb("name"),r.Mb(r.h))},eo.\u0275dir=r.Hb({type:eo,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),eo),ao=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Ur?this.route:e===io?this.childContexts:this.parent.get(e,t)}}]),e}(),so=_createClass((function e(){_classCallCheck(this,e)})),uo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(kt.a)(null)}}]),e}(),co=((no=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Bi(n,r,(function(e){return t.triggerEvent(new qn(e))}),(function(e){return t.triggerEvent(new Hn(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Ht((function(e){return e instanceof Mn})),En((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(St.a)(r).pipe(Object(Vt.a)(),Object(Ut.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(vn.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||no)(r.Vb(Zi),r.Vb(r.w),r.Vb(r.i),r.Vb(r.r),r.Vb(so))},no.\u0275prov=r.Ib({token:no,factory:no.\u0275fac}),no),lo=((to=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Dn?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mn&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Yn&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Yn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){r.Yb()},to.\u0275dir=r.Hb({type:to}),to),ho=new r.q("ROUTER_CONFIGURATION"),fo=new r.q("ROUTER_FORROOT_GUARD"),po=[I,{provide:mr,useClass:yr},{provide:Zi,useFactory:function(e,t,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new Zi(null,e,t,n,r,i,o,ur(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[mr,io,I,r.r,r.w,r.i,Vi,ho,[function(){return _createClass((function e(){_classCallCheck(this,e)}))}(),new r.A],[function(){return _createClass((function e(){_classCallCheck(this,e)}))}(),new r.A]]},io,{provide:Ur,useFactory:function(e){return e.routerState.root},deps:[Zi]},{provide:r.w,useClass:r.J},co,uo,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(un((function(){return Object(kt.a)(null)})))}}]),e}(),{provide:ho,useValue:{enableTracing:!1}}];function vo(){return new r.y("Router",Zi)}var go,bo=((go=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[po,wo(t),{provide:fo,useFactory:_o,deps:[[Zi,new r.A,new r.I]]},{provide:ho,useValue:n||{}},{provide:_,useFactory:yo,deps:[c,[new r.p(E),new r.A],ho]},{provide:lo,useFactory:mo,deps:[Zi,Le,ho]},{provide:so,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:uo},{provide:r.y,multi:!0,useFactory:vo},[ko,{provide:r.d,multi:!0,useFactory:So,deps:[ko]},{provide:Ro,useFactory:Eo,deps:[ko]},{provide:r.b,multi:!0,useExisting:Ro}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[wo(t)]}}}]),e}()).\u0275mod=r.Kb({type:go}),go.\u0275inj=r.Jb({factory:function(e){return new(e||go)(r.Vb(fo,8),r.Vb(Zi,8))}}),go);function mo(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new lo(e,t,n)}function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new T(e,t):new R(e,t)}function _o(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wo(e){return[{provide:r.a,multi:!0,useValue:e},{provide:Vi,multi:!0,useValue:e}]}var Co,ko=((Co=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Et.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Zi),i=e.injector.get(ho);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(kt.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(ho),n=this.injector.get(co),i=this.injector.get(lo),o=this.injector.get(Zi),a=this.injector.get(r.g);e===a.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Co)(r.Vb(r.r))},Co.\u0275prov=r.Ib({token:Co,factory:Co.\u0275fac}),Co);function So(e){return e.appInitializer.bind(e)}function Eo(e){return e.bootstrapListener.bind(e)}var Ro=new r.q("Router Initializer"),To=n("XoHu");function Io(e,t){return new It.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(St.a)(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var xo,Ao,Oo,No,Po=new r.q("NgValueAccessor"),Do={provide:Po,useExisting:Object(r.T)((function(){return Mo})),multi:!0},Mo=((xo=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||xo)(r.Mb(r.D),r.Mb(r.l))},xo.\u0275dir=r.Hb({type:xo,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r.Zb("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([Do])]}),xo),Fo={provide:Po,useExisting:Object(r.T)((function(){return Qo})),multi:!0},jo=new r.q("CompositionEventMode"),Qo=((No=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||No)(r.Mb(r.D),r.Mb(r.l),r.Mb(jo,8))},No.\u0275dir=r.Hb({type:No,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.Zb("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[r.zb([Fo])]}),No),Lo=((Oo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||Oo)},Oo.\u0275dir=r.Hb({type:Oo}),Oo),Uo=((Ao=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Lo)).\u0275fac=function(e){return Vo(e||Ao)},Ao.\u0275dir=r.Hb({type:Ao,features:[r.xb]}),Ao),Vo=r.Tb(Uo);function Bo(){throw new Error("unimplemented")}var qo,Ho,Go=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Bo()}},{key:"asyncValidator",get:function(){return Bo()}}]),n}(Lo),zo=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Ko=((Ho=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(zo)).\u0275fac=function(e){return new(e||Ho)(r.Mb(Go,2))},Ho.\u0275dir=r.Hb({type:Ho,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Eb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.xb]}),Ho),Wo=((qo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(zo)).\u0275fac=function(e){return new(e||qo)(r.Mb(Uo,2))},qo.\u0275dir=r.Hb({type:qo,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Eb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.xb]}),qo);function Yo(e){return null==e||0===e.length}var Zo=new r.q("NgValidators"),$o=new r.q("NgAsyncValidators"),Xo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Yo(t.value)||Yo(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Yo(t.value)||Yo(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Yo(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Yo(e.value)||Xo.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Yo(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Yo(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(ea);return 0==t.length?null:function(e){return na(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(ea);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(Ot.a)(r))return Io(r,null);if(Object(To.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Io(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Io(t=1===t.length&&Object(Ot.a)(t[0])?t[0]:t,null).pipe(Object(Ut.a)((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Io(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(ta)).pipe(Object(Ut.a)(na))}}}]),e}();function ea(e){return null!=e}function ta(e){var t=Object(r.rb)(e)?Object(St.a)(e):e;if(!Object(r.qb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function na(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function ra(e){return e.validate?function(t){return e.validate(t)}:e}function ia(e){return e.validate?function(t){return e.validate(t)}:e}var oa,aa,sa,ua,ca={provide:Po,useExisting:Object(r.T)((function(){return la})),multi:!0},la=((oa=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||oa)(r.Mb(r.D),r.Mb(r.l))},oa.\u0275dir=r.Hb({type:oa,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.Zb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([ca])]}),oa),ha={provide:Po,useExisting:Object(r.T)((function(){return da})),multi:!0},fa=((sa=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||sa)},sa.\u0275prov=r.Ib({token:sa,factory:sa.\u0275fac}),sa),da=((aa=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Go),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||aa)(r.Mb(r.D),r.Mb(r.l),r.Mb(fa),r.Mb(r.r))},aa.\u0275dir=r.Hb({type:aa,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&r.Zb("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([ha])]}),aa),pa={provide:Po,useExisting:Object(r.T)((function(){return va})),multi:!0},va=((ua=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ua)(r.Mb(r.D),r.Mb(r.l))},ua.\u0275dir=r.Hb({type:ua,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&r.Zb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([pa])]}),ua),ga='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ba='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ma='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ya=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ga)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(ba,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(ma))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+ga)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ba)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),_a={provide:Po,useExisting:Object(r.T)((function(){return Sa})),multi:!0};function wa(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Ca,ka,Sa=((ka=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=wa(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}()).\u0275fac=function(e){return new(e||ka)(r.Mb(r.D),r.Mb(r.l))},ka.\u0275dir=r.Hb({type:ka,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.Zb("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([_a])]}),ka),Ea=((Ca=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(wa(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Ca)(r.Mb(r.l),r.Mb(r.D),r.Mb(Sa,9))},Ca.\u0275dir=r.Hb({type:Ca,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ca),Ra={provide:Po,useExisting:Object(r.T)((function(){return Aa})),multi:!0};function Ta(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Ia,xa,Aa=((xa=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}()).\u0275fac=function(e){return new(e||xa)(r.Mb(r.D),r.Mb(r.l))},xa.\u0275dir=r.Hb({type:xa,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.Zb("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Ra])]}),xa),Oa=((Ia=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Ta(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Ta(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Ia)(r.Mb(r.l),r.Mb(r.D),r.Mb(Aa,9))},Ia.\u0275dir=r.Hb({type:Ia,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ia);function Na(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Pa(e,t){e||ja(t,"Cannot find control with"),t.valueAccessor||ja(t,"No value accessor for form control with"),e.validator=Jo.compose([e.validator,t.validator]),e.asyncValidator=Jo.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Da(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Da(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Da(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ma(e,t){null==e&&ja(t,"Cannot find control with"),e.validator=Jo.compose([e.validator,t.validator]),e.asyncValidator=Jo.composeAsync([e.asyncValidator,t.asyncValidator])}function Fa(e){return ja(e,"There is no FormControl instance attached to form control element with")}function ja(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Qa(e){return null!=e?Jo.compose(e.map(ra)):null}function La(e){return null!=e?Jo.composeAsync(e.map(ia)):null}function Ua(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.sb)(t,n.currentValue)}var Va=[Mo,va,la,Sa,Aa,da];function Ba(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function qa(e,t){if(!t)return null;Array.isArray(t)||ja(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Qo?n=t:(o=t,Va.some((function(e){return o.constructor===e}))?(r&&ja(e,"More than one built-in value accessor matches form control with"),r=t):(i&&ja(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(ja(e,"No valid value accessor for form control with"),null)}function Ha(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ga(e){var t=Ka(e)?e.validators:e;return Array.isArray(t)?Qa(t):t||null}function za(e,t){var n=Ka(t)?t.asyncValidators:e;return Array.isArray(n)?La(n):n||null}function Ka(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Wa,Ya,Za,$a,Xa,Ja,es,ts,ns=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=Ga(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=za(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=ta(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof is?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof os&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Ka(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Ga(i),za(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ns),is=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Ga(r),za(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof rs?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(ns),os=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Ga(r),za(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof rs?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(ns),as={provide:Uo,useExisting:Object(r.T)((function(){return us}))},ss=Promise.resolve(null),us=((Ya=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new is({},Qa(e),La(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;ss.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Pa(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ss.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Ha(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;ss.then((function(){var n=t._findContainer(e.path),r=new is({});Ma(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;ss.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ss.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Ba(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(Uo)).\u0275fac=function(e){return new(e||Ya)(r.Mb(Zo,10),r.Mb($o,10))},Ya.\u0275dir=r.Hb({type:Ya,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.Zb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([as]),r.xb]}),Ya),cs=((Wa=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Na(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Qa(this._validators)}},{key:"asyncValidator",get:function(){return La(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(Uo)).\u0275fac=function(e){return ls(e||Wa)},Wa.\u0275dir=r.Hb({type:Wa,features:[r.xb]}),Wa),ls=r.Tb(cs),hs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(ga,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(ba,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(ma))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(ba,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(ma))}}]),e}(),fs={provide:Uo,useExisting:Object(r.T)((function(){return ds}))},ds=((Za=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof us||hs.modelGroupParentException()}}]),n}(cs)).\u0275fac=function(e){return new(e||Za)(r.Mb(Uo,5),r.Mb(Zo,10),r.Mb($o,10))},Za.\u0275dir=r.Hb({type:Za,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([fs]),r.xb]}),Za),ps={provide:Go,useExisting:Object(r.T)((function(){return gs}))},vs=Promise.resolve(null),gs=((Xa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new rs,s._registered=!1,s.update=new r.n,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=qa(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Ua(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Na(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Qa(this._rawValidators)}},{key:"asyncValidator",get:function(){return La(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Pa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof ds)&&this._parent instanceof cs?hs.formGroupNameException():this._parent instanceof ds||this._parent instanceof us||hs.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||hs.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;vs.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;vs.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}}]),n}(Go)).\u0275fac=function(e){return new(e||Xa)(r.Mb(Uo,9),r.Mb(Zo,10),r.Mb($o,10),r.Mb(Po,10))},Xa.\u0275dir=r.Hb({type:Xa,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([ps]),r.xb,r.yb]}),Xa),bs=(($a=_createClass((function e(){_classCallCheck(this,e)}))).\u0275fac=function(e){return new(e||$a)},$a.\u0275dir=r.Hb({type:$a,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$a),ms=new r.q("NgModelWithFormControlWarning"),ys={provide:Uo,useExisting:Object(r.T)((function(){return _s}))},_s=((Ja=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Pa(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Ha(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Ma(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Ma(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Ba(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Fa(t)})),t.valueAccessor.registerOnTouched((function(){return Fa(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Pa(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Qa(this._validators);this.form.validator=Jo.compose([this.form.validator,e]);var t=La(this._asyncValidators);this.form.asyncValidator=Jo.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||ya.missingFormException()}}]),n}(Uo)).\u0275fac=function(e){return new(e||Ja)(r.Mb(Zo,10),r.Mb($o,10))},Ja.\u0275dir=r.Hb({type:Ja,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.Zb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([ys]),r.xb,r.yb]}),Ja),ws={provide:Uo,useExisting:Object(r.T)((function(){return Cs}))},Cs=((es=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Es(this._parent)&&ya.groupParentException()}}]),n}(cs)).\u0275fac=function(e){return new(e||es)(r.Mb(Uo,13),r.Mb(Zo,10),r.Mb($o,10))},es.\u0275dir=r.Hb({type:es,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([ws]),r.xb]}),es),ks={provide:Uo,useExisting:Object(r.T)((function(){return Ss}))},Ss=((ts=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Na(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Qa(this._validators)}},{key:"asyncValidator",get:function(){return La(this._asyncValidators)}},{key:"_checkParentType",value:function(){Es(this._parent)&&ya.arrayParentException()}}]),n}(Uo)).\u0275fac=function(e){return new(e||ts)(r.Mb(Uo,13),r.Mb(Zo,10),r.Mb($o,10))},ts.\u0275dir=r.Hb({type:ts,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([ks]),r.xb]}),ts);function Es(e){return!(e instanceof Cs||e instanceof _s||e instanceof Ss)}var Rs,Ts,Is,xs,As,Os,Ns,Ps={provide:Go,useExisting:Object(r.T)((function(){return Ds}))},Ds=((Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=e,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=qa(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"isDisabled",set:function(e){ya.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),Ua(e,this.viewModel)&&(function(e,t,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(ya.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Na(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Qa(this._rawValidators)}},{key:"asyncValidator",get:function(){return La(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Cs)&&this._parent instanceof cs?ya.ngModelGroupException():this._parent instanceof Cs||this._parent instanceof _s||this._parent instanceof Ss||ya.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Go)).\u0275fac=function(e){return new(e||Rs)(r.Mb(Uo,13),r.Mb(Zo,10),r.Mb($o,10),r.Mb(Po,10),r.Mb(ms,8))},Rs.\u0275dir=r.Hb({type:Rs,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Ps]),r.xb,r.yb]}),Rs._ngModelWarningSentOnce=!1,Rs),Ms={provide:Zo,useExisting:Object(r.T)((function(){return Fs})),multi:!0},Fs=((Ns=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?Jo.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}()).\u0275fac=function(e){return new(e||Ns)},Ns.\u0275dir=r.Hb({type:Ns,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.Bb("required",t.required?"":null)},inputs:{required:"required"},features:[r.zb([Ms])]}),Ns),js=((Os=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:Os}),Os.\u0275inj=r.Jb({factory:function(e){return new(e||Os)}}),Os),Qs=((As=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new is(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new rs(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new os(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof rs||e instanceof is||e instanceof os?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||As)},As.\u0275prov=r.Ib({token:As,factory:As.\u0275fac}),As),Ls=((xs=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:xs}),xs.\u0275inj=r.Jb({factory:function(e){return new(e||xs)},providers:[fa],imports:[js]}),xs),Us=((Is=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:ms,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=r.Kb({type:Is}),Is.\u0275inj=r.Jb({factory:function(e){return new(e||Is)},providers:[Qs,fa],imports:[js]}),Is),Vs=((Ts=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ts)},Ts.\u0275cmp=r.Gb({type:Ts,selectors:[["app-guide-list"]],decls:78,vars:0,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#guide-model",1,"btn","btn-primary"],["id","guide-model","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","d-flex","py-5","h-100"],[1,"row","h-100"],[1,"col-lg-4"],[1,"boxed","col-lg-4","shadow-md"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"d-flex","flex-column"],[1,"mt-1","text-center"],[1,"mb-3"],[1,"mb-3",2,"height","6px","background-color","#d1e7f8","width","100%"],[1,"mb-3","d-flex","align-items-center","question-item"],["data","assets/icons/question.svg","width","20px","height","20px"],["href","#",1,"question-link"],[1,"ms-auto","edit-button"],["data","assets/icons/edit.svg","width","12px","height","12px"],[1,"mt-2","mb-2","d-flex","align-items-center","question-item","w-100"],[1,"form-icon","d-flex","align-items-center","justify-content-between"],["data","assets/icons/search.svg","width","20px","height","20px"],[1,"form-input"],["type","text","placeholder","T\xecm ki\u1ebfm trong h\u01b0\u1edbng d\u1eabn","aria-label","Username","aria-describedby","basic-addon1"],[1,"mb-2","mt-4",2,"height","6px","background-color","#d1e7f8","width","100%"],[1,"mt-3","mb-3",2,"color","black","font-family","Helvetica"],[2,"font-family","sans-serif"],[1,"mb-2","d-flex","align-items-center","question-item"],["data","assets/icons/paper-plane.svg","width","20px","height","20px"],[2,"color","#1976d2","font-family","Helvetica"],[1,"mt-2","d-flex","align-items-center","question-item"],[1,"fst-italic",2,"font-size","15px"]],template:function(e,t){1&e&&(r.Rb(0,"button",0),r.sc(1," Guide start\n"),r.Qb(),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Nb(7,"div",6),r.Nb(8,"div",6),r.Rb(9,"div",7),r.Nb(10,"button",8),r.Rb(11,"form",9),r.Rb(12,"div",10),r.Rb(13,"h1"),r.sc(14,"H\u01b0\u1edbng d\u1eabn"),r.Qb(),r.Rb(15,"h6",11),r.sc(16," T\xe0i nguy\xean h\u01b0\u1edbng d\u1eabn th\u01b0\u1eddng d\xf9ng "),r.Qb(),r.Qb(),r.Nb(17,"div",12),r.Rb(18,"div",13),r.Nb(19,"object",14),r.Rb(20,"label"),r.Rb(21,"a",15),r.sc(22,"C\xe1ch \u0111\u0103ng k\xfd account"),r.Qb(),r.Qb(),r.Rb(23,"div",16),r.Nb(24,"object",17),r.Qb(),r.Qb(),r.Rb(25,"div",13),r.Nb(26,"object",14),r.Rb(27,"label"),r.Rb(28,"a",15),r.sc(29,"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u "),r.Qb(),r.Qb(),r.Rb(30,"div",16),r.Nb(31,"object",17),r.Qb(),r.Qb(),r.Rb(32,"div",13),r.Nb(33,"object",14),r.Rb(34,"label"),r.Rb(35,"a",15),r.sc(36,"Qu\xean m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(37,"div",16),r.Nb(38,"object",17),r.Qb(),r.Qb(),r.Rb(39,"div",13),r.Nb(40,"object",14),r.Rb(41,"label"),r.Rb(42,"a",15),r.sc(43,"\u0110\u0103ng xu\u1ea5t kh\u1ecfi s\xe0n \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Rb(44,"div",16),r.Nb(45,"object",17),r.Qb(),r.Qb(),r.Rb(46,"div",13),r.Nb(47,"object",14),r.Rb(48,"label"),r.Rb(49,"a",15),r.sc(50,"C\xe1ch th\u1ee9c \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Rb(51,"div",16),r.Nb(52,"object",17),r.Qb(),r.Qb(),r.Rb(53,"div",18),r.Rb(54,"div",19),r.Nb(55,"object",20),r.Qb(),r.Rb(56,"div",21),r.Nb(57,"input",22),r.Qb(),r.Qb(),r.Nb(58,"div",23),r.Rb(59,"div",24),r.Rb(60,"h6"),r.Rb(61,"strong"),r.sc(62,"B\u1ea1n c\xf3 c\u1ea7n tr\u1ee3 gi\xfap th\xeam ?"),r.Qb(),r.Qb(),r.Rb(63,"div",13),r.Nb(64,"object",14),r.Rb(65,"label",25),r.Rb(66,"strong"),r.Rb(67,"a",15),r.sc(68,"\u0110\u1eb7t c\xe2u h\u1ecfi kh\xe1c cho ch\xfang t\xf4i ?"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(69,"div",12),r.Rb(70,"div",26),r.Nb(71,"object",27),r.Rb(72,"label",28),r.Rb(73,"a",15),r.sc(74,"G\u1eedi ph\u1ea3n h\u1ed3i"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(75,"div",29),r.Rb(76,"span",30),r.sc(77,"N\u1ebfu trong nh\u1eefng h\u01b0\u1edbng d\u1eabn c\u1ee7a s\xe0n \u0111\xe2u gi\xe1 ch\xfang t\xf4i ch\u01b0a th\u1ec3 gi\u1ea3i \u0111\xe1p cho b\u1ea1n, b\u1ea1n c\xf3 th\u1ec3 li\xean h\u1ec7 t\u1edbi b\u1ed9 ph\xe2n t\u01b0 v\u1ea5n c\u1ee7a ch\xfang t\xf4i ! "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[bs,Wo,us],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box!important}body[_ngcontent-%COMP%]{background-color:#f5f5f5!important;width:100vw;height:100vh}h1[_ngcontent-%COMP%]{font-family:Helvetica,sans-serif;color:#069}h6[_ngcontent-%COMP%]{font-family:Helvetica,serif;font-size:1.1rem;font-weight:500;margin-left:0;padding:.5rem}.boxed[_ngcontent-%COMP%]{width:485px;height:710px;max-height:710px;padding:3px 32px 32px!important;background-color:#fff;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);overflow:auto}.boxed[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]{border-radius:12px}.question-link[_ngcontent-%COMP%]{margin-left:10px;color:#069;text-decoration:none}.question-link[_ngcontent-%COMP%]:hover{color:#069;text-decoration:underline!important}.question-item[_ngcontent-%COMP%]{height:30px}.question-item[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{line-height:20px}.form-input[_ngcontent-%COMP%]{width:100%;padding-bottom:3px;position:relative;display:inline-block}.form-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:none;outline:none;width:100%}.form-input[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:1px;left:0;width:100%;height:1px;background-color:#000;transition:background-color .18s cubic-bezier(.4,0,.2,1),height .18s cubic-bezier(.4,0,.2,1)}.form-input[_ngcontent-%COMP%]:has(input:focus):after{width:100%;height:2px;background-color:#069}.form-icon[_ngcontent-%COMP%]{width:30px;height:30px}.edit-button[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;justify-content:center;align-items:center;cursor:pointer}.edit-button[_ngcontent-%COMP%]:hover{background-color:#d1e7f8;border-radius:50%}.py-5[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important;padding-left:0!important}.modal-dialog[_ngcontent-%COMP%], .py-5[_ngcontent-%COMP%]{border-radius:12px}.modal-content[_ngcontent-%COMP%], .modal-dialog[_ngcontent-%COMP%], .py-5[_ngcontent-%COMP%]{background-color:#fe6432}.btn-close[_ngcontent-%COMP%]{position:absolute;left:0;top:12px;width:50px;margin-right:0}']}),Ts),Bs=_createClass((function e(){_classCallCheck(this,e)})),qs=_createClass((function e(){_classCallCheck(this,e)})),Hs=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),Gs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return zs(e)}},{key:"encodeValue",value:function(e){return zs(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function zs(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ks=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Gs,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function Ws(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ys(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Zs(e){return"undefined"!=typeof FormData&&e instanceof FormData}var $s=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Hs),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Ks,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:Ws(this.body)||Ys(this.body)||Zs(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ks?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Zs(this.body)?null:Ys(this.body)?this.body.type||null:Ws(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ks?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),Xs=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),Js=_createClass((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new Hs,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300})),eu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Xs.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Js),tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Xs.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Js),nu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return _createClass(n)}(Js);function ru(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var iu,ou,au,su,uu,cu,lu,hu,fu,du,pu,vu,gu=((iu=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof $s)n=e;else{var o=void 0;o=i.headers instanceof Hs?i.headers:new Hs(i.headers);var a=void 0;i.params&&(a=i.params instanceof Ks?i.params:new Ks({fromObject:i.params})),n=new $s(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(kt.a)(n).pipe(En((function(e){return r.handler.handle(e)})));if(e instanceof $s||"events"===i.observe)return s;var u=s.pipe(Ht((function(e){return e instanceof tu})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(Ut.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(Object(Ut.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(Object(Ut.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(Object(Ut.a)((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Ks).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,ru(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,ru(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,ru(n,t))}}]),e}()).\u0275fac=function(e){return new(e||iu)(r.Vb(Bs))},iu.\u0275prov=r.Ib({token:iu,factory:iu.\u0275fac}),iu),bu=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),mu=new r.q("HTTP_INTERCEPTORS"),yu=((ou=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ou)},ou.\u0275prov=r.Ib({token:ou,factory:ou.\u0275fac}),ou),_u=/^\)\]\}',?\n/,wu=_createClass((function e(){_classCallCheck(this,e)})),Cu=((su=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||su)},su.\u0275prov=r.Ib({token:su,factory:su.\u0275fac}),su),ku=((au=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new It.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Hs(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new eu({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(_u,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new tu({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new nu({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u().url,i=new nu({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:Xs.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:Xs.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Xs.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||au)(r.Vb(wu))},au.\u0275prov=r.Ib({token:au,factory:au.\u0275fac}),au),Su=new r.q("XSRF_COOKIE_NAME"),Eu=new r.q("XSRF_HEADER_NAME"),Ru=_createClass((function e(){_classCallCheck(this,e)})),Tu=((vu=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=de(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||vu)(r.Vb(u),r.Vb(r.B),r.Vb(Su))},vu.\u0275prov=r.Ib({token:vu,factory:vu.\u0275fac}),vu),Iu=((pu=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||pu)(r.Vb(Ru),r.Vb(Eu))},pu.\u0275prov=r.Ib({token:pu,factory:pu.\u0275fac}),pu),xu=((du=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(mu,[]);this.chain=t.reduceRight((function(e,t){return new bu(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||du)(r.Vb(qs),r.Vb(r.r))},du.\u0275prov=r.Ib({token:du,factory:du.\u0275fac}),du),Au=((fu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Iu,useClass:yu}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Su,useValue:t.cookieName}:[],t.headerName?{provide:Eu,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=r.Kb({type:fu}),fu.\u0275inj=r.Jb({factory:function(e){return new(e||fu)},providers:[Iu,{provide:mu,useExisting:Iu,multi:!0},{provide:Ru,useClass:Tu},{provide:Su,useValue:"XSRF-TOKEN"},{provide:Eu,useValue:"X-XSRF-TOKEN"}]}),fu),Ou=((hu=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:hu}),hu.\u0275inj=r.Jb({factory:function(e){return new(e||hu)},providers:[gu,{provide:Bs,useClass:xu},ku,{provide:qs,useExisting:ku},Cu,{provide:wu,useExisting:Cu}],imports:[[Au.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),hu),Nu=((lu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getAuctionByProductId",value:function(e){return this._httpClient.get(i.API_URL_AUCTION+"/auction-detail/"+e)}}]),e}()).\u0275fac=function(e){return new(e||lu)(r.Vb(gu))},lu.\u0275prov=r.Ib({token:lu,factory:lu.\u0275fac,providedIn:"root"}),lu),Pu=((cu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||cu)},cu.\u0275cmp=r.Gb({type:cu,selectors:[["app-infomation-auction-buyer"]],decls:60,vars:0,consts:[[1,"table",2,"font-size","14px"],[1,"table-light"],[1,"border-top"],[1,"d-flex","justify-content-center"],["aria-label","Page navigation example"],[1,"pagination","justify-content-end"],[1,"page-item","disabled"],[1,"page-link"],[1,"page-item"],["href","#",1,"page-link"]],template:function(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"div"),r.Rb(2,"div"),r.Rb(3,"table",0),r.Rb(4,"thead",1),r.Rb(5,"tr",2),r.Rb(6,"th"),r.sc(7,"STT"),r.Qb(),r.Rb(8,"th"),r.sc(9,"S\u1ed1 Ti\u1ec1n"),r.Qb(),r.Rb(10,"th"),r.sc(11,"Th\u1eddi Gian \u0110\u1ea5u Gi\xe1"),r.Qb(),r.Rb(12,"th"),r.sc(13,"Th\xe0nh Vi\xean"),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"tbody"),r.Rb(15,"tr"),r.Rb(16,"td"),r.sc(17,"1"),r.Qb(),r.Rb(18,"td"),r.sc(19,"190.000"),r.Qb(),r.Rb(20,"td"),r.sc(21,"10:00:00 22/12/2022"),r.Qb(),r.Rb(22,"td"),r.sc(23,"sangdd123"),r.Qb(),r.Qb(),r.Rb(24,"tr"),r.Rb(25,"td"),r.sc(26,"2"),r.Qb(),r.Rb(27,"td"),r.sc(28,"180.000"),r.Qb(),r.Rb(29,"td"),r.sc(30,"09:00:00 22/12/2022"),r.Qb(),r.Rb(31,"td"),r.sc(32,"quangnd12"),r.Qb(),r.Qb(),r.Rb(33,"tr"),r.Rb(34,"td"),r.sc(35,"3"),r.Qb(),r.Rb(36,"td"),r.sc(37,"150.000"),r.Qb(),r.Rb(38,"td"),r.sc(39,"08:00:00 22/12/2022"),r.Qb(),r.Rb(40,"td"),r.sc(41,"tienbm123"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(42,"div",3),r.Rb(43,"nav",4),r.Rb(44,"ul",5),r.Rb(45,"li",6),r.Rb(46,"a",7),r.sc(47,"Tr\u01b0\u1edbc"),r.Qb(),r.Qb(),r.Rb(48,"li",8),r.Rb(49,"a",9),r.sc(50,"1"),r.Qb(),r.Qb(),r.Rb(51,"li",8),r.Rb(52,"a",9),r.sc(53,"2"),r.Qb(),r.Qb(),r.Rb(54,"li",8),r.Rb(55,"a",9),r.sc(56,"3"),r.Qb(),r.Qb(),r.Rb(57,"li",8),r.Rb(58,"a",9),r.sc(59,"Sau"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),cu),Du=((uu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||uu)},uu.\u0275cmp=r.Gb({type:uu,selectors:[["app-infomation-auction-seller"]],decls:19,vars:0,consts:[[1,"table",2,"font-size","14px"],["scope","col"],[1,"table-group-divider"],[2,"background-color","transparent"]],template:function(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"div"),r.Rb(2,"table",0),r.Rb(3,"thead"),r.Rb(4,"tr"),r.Rb(5,"th",1),r.sc(6,"T\xean T\xe0i Kho\u1ea3n"),r.Qb(),r.Rb(7,"th",1),r.sc(8,"\u0110i\u1ec3m C\u1ed1ng Hi\u1ebfn"),r.Qb(),r.Rb(9,"th",1),r.sc(10,"X\u1ebfp H\u1ea1ng"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"tbody",2),r.Rb(12,"tr"),r.Rb(13,"td",3),r.sc(14,"quangnd123"),r.Qb(),r.Rb(15,"td"),r.sc(16,"100"),r.Qb(),r.Rb(17,"td"),r.sc(18,"Diamond"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),uu);function Mu(e,t){if(1&e&&(r.Rb(0,"div",49),r.Rb(1,"div",50),r.Nb(2,"img",51),r.Qb(),r.Qb()),2&e){var n=t.$implicit;r.Ab(2),r.fc("src",n.url,r.oc)}}function Fu(e,t){if(1&e&&(r.Rb(0,"div",52),r.Rb(1,"button",53),r.Nb(2,"img",51),r.Qb(),r.Qb()),2&e){var n=t.$implicit;r.Ab(2),r.fc("src",n.url,r.oc)}}function ju(e,t){1&e&&(r.Rb(0,"div"),r.Nb(1,"app-infomation-auction-buyer"),r.Qb())}function Qu(e,t){1&e&&(r.Rb(0,"div"),r.Nb(1,"app-infomation-auction-seller"),r.Qb())}var Lu,Uu,Vu,Bu,qu,Hu=((Lu=function(){function e(t,n){_classCallCheck(this,e),this._auctionService=t,this._acRoute=n,this.changeBuyer=!0,this.changeSeller=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.idProductDetail=this._acRoute.snapshot.params.productId,this._auctionService.getAuctionByProductId(this.idProductDetail).subscribe((function(t){e.productDetail=t,console.log("aaaa",e.productDetail)}))}},{key:"onChangeAuction",value:function(){this.changeBuyer=!this.changeBuyer,this.changeSeller=!this.changeBuyer}}]),e}()).\u0275fac=function(e){return new(e||Lu)(r.Mb(Nu),r.Mb(Ur))},Lu.\u0275cmp=r.Gb({type:Lu,selectors:[["app-auction-product-detail"]],decls:109,vars:11,consts:[[1,"container"],[1,"mt-3","alert","alert-success","text-center",2,"color","black"],[1,"row","bg","bg-ligh"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"mt-4","card","card-body","w-50",2,"margin-right","22px"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],["class","carousel-inner",4,"ngFor","ngForOf"],["class","carousel-indicators",4,"ngFor","ngForOf"],[1,"row",2,"margin-right","10px"],[1,"col-lg-12"],[1,"mt-5"],[1,"card","text-center"],[1,"card-header",2,"background","#d1e7dd"],[1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["id","title-hammer","aria-current","true",1,"nav-link","active"],["id","show-hammer"],[1,"col-lg-6"],[1,"card-body","card-detail","text-lg-start"],[1,"card-text","title-detail"],[1,"card-text"],[2,"text-align","left","margin-left","15px","font-weight","bold"],[1,"blockquote",2,"text-align","left","font-size","15px","margin-top","-15px"],["id","show-product",2,"display","none"],[1,"col-lg-12","card-body","mx-4"],[1,"card-body"],[1,"blockquote","mb-0",2,"text-align","left","font-size","18px"],[1,"col-lg-4","mt-4","card","card-body"],[1,"time","mt-0"],[1,"time__hh","mx-2"],[1,"mx-2"],[1,"card","mt-4"],[1,"title-currency-1","card-text","alert","alert-info",2,"color","white","background-color","#2c3b59"],[1,"currency-1","card-title",2,"color","#2c3b59"],[1,"title-currency","card-text","alert","alert-danger",2,"color","white","background-color","#dc3545"],[1,"currency","card-title"],[1,"title-currency-1","card-text","alert","alert-info",2,"color","white","background-color","#00434c"],[1,"currency-1","card-title",2,"color","#00434c"],[1,"input-group","mt-4","d-flex","align-items-center","justify-content-center"],["type","button",1,"btn","btn-outline-danger",2,"font-size","25px"],["type","number",1,"w-25","form-control",2,"font-size","25px"],[1,"hammer","w-25","btn","btn-danger",2,"font-size","25px","font-weight","bold"],[1,"fa-solid","fa-gavel","mx-3",2,"font-size","30px"],[1,"mt-4"],["id","title-buyer","aria-current","true","type","button",1,"nav-link","active",3,"click"],["id","title-seller","aria-current","true","type","button",1,"nav-link","active",2,"background-color","#d1e7dd",3,"click"],[4,"ngIf"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active","thumbnail"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"h3",1),r.sc(2),r.Qb(),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Rb(8,"div",7),r.rc(9,Mu,3,1,"div",8),r.rc(10,Fu,3,1,"div",9),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"div",10),r.Rb(12,"div",11),r.Rb(13,"div",12),r.Rb(14,"div",13),r.Rb(15,"div",14),r.Rb(16,"ul",15),r.Rb(17,"li",16),r.Rb(18,"button",17),r.sc(19," Th\xf4ng Tin S\u1ea3n Ph\u1ea9m "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(20,"div",18),r.Rb(21,"div",4),r.Rb(22,"div",19),r.Rb(23,"div",20),r.Rb(24,"span",21),r.sc(25,"Ng\xe0y B\u1eaft \u0110\u1ea7u"),r.Qb(),r.Rb(26,"span",22),r.sc(27),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(28,"hr"),r.Rb(29,"div",4),r.Rb(30,"div",19),r.Rb(31,"div",20),r.Rb(32,"span",21),r.sc(33,"Ng\xe0y K\u1ebft Th\xfac"),r.Qb(),r.Rb(34,"span",22),r.sc(35),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(36,"hr"),r.Rb(37,"div",4),r.Rb(38,"div",11),r.Rb(39,"p",23),r.sc(40,"M\xf4 t\u1ea3"),r.Qb(),r.Rb(41,"div",20),r.Rb(42,"blockquote",24),r.Rb(43,"p"),r.sc(44),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(45,"div",25),r.Rb(46,"div",4),r.Rb(47,"div",26),r.Rb(48,"div"),r.Rb(49,"div",27),r.Rb(50,"blockquote",28),r.Rb(51,"p"),r.sc(52,"T\u1eadn h\u01b0\u1edfng s\u1ef1 tho\u1ea3i m\xe1i khi ch\u1ea1y b\u1ed9 bu\u1ed5i s\xe1ng v\u1edbi Skechers Max Cushioning Elite. \u0110\xf4i gi\xe0y bu\u1ed9c d\xe2y th\u1ec3 thao n\xe0y c\xf3 ph\u1ea7n tr\xean \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf nh\u1eb9, tho\xe1ng kh\xed v\u1edbi \u0111\u1ebf Goga Mat l\xe0m m\xe1t b\u1eb1ng kh\xf4ng kh\xed v\xe0 \u0111\u1ebf gi\u1eefa c\xf3 \u0111\u1ec7m ULTRA GO."),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(53,"div",29),r.Rb(54,"div",30),r.Rb(55,"span",31),r.sc(56,"09"),r.Qb(),r.Rb(57,"span",32),r.sc(58,":"),r.Qb(),r.Rb(59,"span",31),r.sc(60,"09"),r.Qb(),r.Rb(61,"span",32),r.sc(62,":"),r.Qb(),r.Rb(63,"span",31),r.sc(64,"09"),r.Qb(),r.Qb(),r.Rb(65,"div"),r.Rb(66,"div",33),r.Rb(67,"p",34),r.sc(68,"Gi\xe1 G\u1ed1c"),r.Qb(),r.Rb(69,"h5",35),r.sc(70),r.Rb(71,"sup"),r.sc(72,"\u0111"),r.Qb(),r.Qb(),r.Qb(),r.Rb(73,"div",33),r.Rb(74,"p",36),r.sc(75,"Gi\xe1 Hi\u1ec7n T\u1ea1i"),r.Qb(),r.Rb(76,"h5",37),r.sc(77),r.Rb(78,"sup"),r.sc(79,"\u0111"),r.Qb(),r.Qb(),r.Qb(),r.Rb(80,"div",33),r.Rb(81,"p",38),r.sc(82,"B\u01b0\u1edbc Gi\xe1"),r.Qb(),r.Rb(83,"h5",39),r.sc(84),r.Rb(85,"sup"),r.sc(86,"\u0111"),r.Qb(),r.Qb(),r.Qb(),r.Rb(87,"div",40),r.Rb(88,"button",41),r.sc(89,"-"),r.Qb(),r.Nb(90,"input",42),r.Rb(91,"button",41),r.sc(92,"+"),r.Qb(),r.Rb(93,"button",43),r.Nb(94,"i",44),r.Qb(),r.Qb(),r.Rb(95,"div",4),r.Rb(96,"div",11),r.Rb(97,"div",45),r.Rb(98,"div",13),r.Rb(99,"div",14),r.Rb(100,"ul",15),r.Rb(101,"li",16),r.Rb(102,"button",46),r.Zb("click",(function(){return t.onChangeAuction()})),r.sc(103," L\u01b0\u1ee3t \u0110\u1ea5u Gi\xe1 "),r.Qb(),r.Qb(),r.Rb(104,"li",16),r.Rb(105,"button",47),r.Zb("click",(function(){return t.onChangeAuction()})),r.sc(106," Ch\u1ee7 S\u1ea3n Ph\u1ea9m "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(107,ju,2,0,"div",48),r.rc(108,Qu,2,0,"div",48),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(2),r.tc(t.productDetail.name),r.Ab(7),r.fc("ngForOf",t.productDetail.imgUrlProducts),r.Ab(1),r.fc("ngForOf",t.productDetail.imgUrlProducts),r.Ab(17),r.tc(t.productDetail.startTime),r.Ab(8),r.tc(t.productDetail.endTime),r.Ab(9),r.tc(t.productDetail.description),r.Ab(26),r.tc(t.productDetail.initialPrice),r.Ab(7),r.tc(t.productDetail.maxCurrentPrice),r.Ab(7),r.tc(t.productDetail.priceStep.step),r.Ab(23),r.fc("ngIf",t.changeBuyer),r.Ab(1),r.fc("ngIf",t.changeSeller))},directives:[ye,we,Pu,Du],styles:[""]}),Lu),Gu=n("z6cu"),zu=((qu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new Hs({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},this.API_URL="  http://localhost:8080/"}return _createClass(e,[{key:"errorHandler",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),Object(Gu.a)(t)}},{key:"findAllPriceStep",value:function(){return this._httpClient.get(i.api_url_list_price_step)}},{key:"findAllCategory",value:function(){return this._httpClient.get(i.api_url_list_category)}},{key:"findAllUser",value:function(){return this._httpClient.get(i.api_url_list_user)}},{key:"findAllImageProduct",value:function(){return this._httpClient.get(i.api_url_list_img_url)}},{key:"save",value:function(e){return this._httpClient.post(i.productUrl+"/create",JSON.stringify(e),this.httpOptions).pipe(un(this.errorHandler))}},{key:"findAll",value:function(e,t){return this._httpClient.get(this.API_URL+"list?page="+(e-1)+"&size="+t)}},{key:"findAllReview",value:function(){return this._httpClient.get(this.API_URL+"listReviewStatus")}},{key:"getAllAndSearch",value:function(e){return this._httpClient.post(i.productSearchUrl,e)}},{key:"getPageProductRoleAdmin",value:function(e,t){return this._httpClient.post(i.api_url_products+"?page="+t,e)}},{key:"getAllAndSearchToPage",value:function(e,t){return this._httpClient.post(i.productSearchUrl+"?page="+t,e)}},{key:"findByListId",value:function(e){return this._httpClient.post(i.api_url_search_by_list_id,e)}},{key:"delete",value:function(e){return this._httpClient.post(i.api_url_remove_products,e)}},{key:"findByDtoId",value:function(e){return this._httpClient.get(i.api_url_find_by_id+e)}},{key:"review",value:function(e){return this._httpClient.get(i.api_url_review_product+e)}},{key:"doNotReview",value:function(e){return this._httpClient.get(i.api_url_do_not_review_product+e)}},{key:"writeReason",value:function(e){return this._httpClient.post(i.api_url_write_reason,e)}},{key:"getReason",value:function(e){return this._httpClient.get(i.api_url_get_reason+e)}},{key:"getAll",value:function(){return this._httpClient.get(i.api_url_products)}},{key:"saveProduct",value:function(e){return this._httpClient.post(i.productUrl+"/create",e)}},{key:"findByIdd",value:function(e){return this._httpClient.get(i.productUrl+"/"+e)}},{key:"update",value:function(e,t){return this._httpClient.put(i.productUrl+"/update/"+t,e)}}]),e}()).\u0275fac=function(e){return new(e||qu)(r.Vb(gu))},qu.\u0275prov=r.Ib({token:qu,factory:qu.\u0275fac,providedIn:"root"}),qu),Ku=((Bu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListCategory",value:function(){return this._httpClient.get(i.categoryUrl)}}]),e}()).\u0275fac=function(e){return new(e||Bu)(r.Vb(gu))},Bu.\u0275prov=r.Ib({token:Bu,factory:Bu.\u0275fac,providedIn:"root"}),Bu),Wu=((Vu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListPriceStep",value:function(){return this._httpClient.get(i.priceStepUrl)}}]),e}()).\u0275fac=function(e){return new(e||Vu)(r.Vb(gu))},Vu.\u0275prov=r.Ib({token:Vu,factory:Vu.\u0275fac,providedIn:"root"}),Vu),Yu=((Uu=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new Hs({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}return _createClass(e,[{key:"findAllUserType",value:function(){return this._httpClient.get(i.api_url_userType)}},{key:"searchBy",value:function(e,t){return this._httpClient.get(i.api_url_list_user+"/list?page="+t+"&id="+e.idSearch+"&name="+e.nameSearch+"&email="+e.emailSearch+"&address="+e.addressSearch+"&userType="+e.userTypeSearch)}},{key:"findUserEditById",value:function(e){return this._httpClient.get(i.api_url_list_user+"/"+e,this.httpOptions)}},{key:"findUserById",value:function(e){return this._httpClient.get(i.userUrl+"/find/"+e,this.httpOptions)}},{key:"createUser",value:function(e){return console.log(e),this._httpClient.post(i.uri_api_create_user_v1_user,e)}},{key:"getAllUser",value:function(){return null}},{key:"saveaddAcountUser",value:function(e){return console.log(e),this._httpClient.post("http://localhost:8080/api/user/v1/add",e)}},{key:"findTopUser",value:function(){return this._httpClient.get(i.API_TOP_USER)}},{key:"updateByAdim",value:function(e,t){return this._httpClient.put(i.api_url_list_user+"/"+e,t)}},{key:"updateUser",value:function(e,t){return this._httpClient.put(i.uri_api_update_user_v1_user+"/"+t.id,t)}},{key:"findUserByIdd",value:function(e){return this._httpClient.get(i.userUrl+e)}},{key:"findUserByIdServer",value:function(e){return this._httpClient.get(i.uri_api_find_by_id_user_v1_user+e)}}]),e}()).\u0275fac=function(e){return new(e||Uu)(r.Vb(gu))},Uu.\u0275prov=r.Ib({token:Uu,factory:Uu.\u0275fac,providedIn:"root"}),Uu),Zu=n("D0XW"),$u=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xu(e,this.dueTime,this.scheduler))}}]),e}(),Xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ju,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(qt.a);function Ju(e){e.debouncedNext()}var ec=n("pxpQ"),tc=n("spgP"),nc=n("zIRd"),rc=function(e,t){return(rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},ic=function(){return(ic=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function oc(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ac(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function sc(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var uc=n("qOnz"),cc=n("/6Yf"),lc=function(e){function t(n,r){var i=e.call(this,hc(n),"Firebase Storage: "+r+" ("+hc(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}rc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return hc(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(uc.FirebaseError);function hc(e){return"storage/"+e}function fc(){return new lc("unknown","An unknown error occurred, please check the error payload for server response.")}function dc(){return new lc("canceled","User canceled the upload/download.")}function pc(){return new lc("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vc(e){return new lc("invalid-argument",e)}function gc(){return new lc("app-deleted","The Firebase app was deleted.")}function bc(e){return new lc("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mc(e,t){return new lc("invalid-format","String does not match format '"+e+"': "+t)}function yc(e){throw new lc("internal-error","Internal error: "+e)}var _c={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wc=function(e,t){this.data=e,this.contentType=t||null};function Cc(e,t){switch(e){case _c.RAW:return new wc(kc(t));case _c.BASE64:case _c.BASE64URL:return new wc(Sc(e,t));case _c.DATA_URL:return new wc((n=new Ec(t)).base64?Sc(_c.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Gx){throw mc(_c.DATA_URL,"Malformed data URL.")}return kc(t)}(n.rest),new Ec(t).contentType)}var n;throw fc()}function kc(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Sc(e,t){switch(e){case _c.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw mc(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case _c.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw mc(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Gx){throw mc(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Ec=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw mc(_c.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},Rc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Tc(e){switch(e){case"running":case"pausing":case"canceling":return Rc.RUNNING;case"paused":return Rc.PAUSED;case"success":return Rc.SUCCESS;case"canceled":return Rc.CANCELED;case"error":default:return Rc.ERROR}}var Ic=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),xc=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ic.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Ic.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Ic.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw yc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw yc("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw yc("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Gx){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw yc("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Ac=function(){function e(){}return e.prototype.createConnection=function(){return new xc},e}(),Oc=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Gx){return new e(t,"")}if(""===r.path)return r;throw new lc("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.path];h||(h=""),r=new e(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(e){return new lc("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Nc=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Pc(e){return"string"==typeof e||e instanceof String}function Dc(e){return Mc()&&e instanceof Blob}function Mc(){return"undefined"!=typeof Blob}function Fc(e,t,n,r){if(r<t)throw vc("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw vc("Invalid value for '"+e+"'. Expected "+n+" or less.")}function jc(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Qc(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var Lc=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(Gx){o(Gx)}else null!==a?((r=fc()).serverResponse=a.getResponseText(),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?gc():dc():new lc("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Uc(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new Uc(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Ic.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Uc(a,r))}else{var s=r.getErrorCode()===Ic.ABORT;t(!1,new Uc(!1,null,s))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,sc([null,e],t));else{var r,o=u()||a;o?l.call.apply(l,sc([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Uc=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Vc(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Bc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Vc();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Mc())return new Blob(e);throw new lc("unsupported-environment","This browser doesn't seem to support creating Blobs")}var qc=function(){function e(e,t){var n=0,r="";Dc(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Dc(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Mc()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Bc.apply(null,r))}var i=t.map((function(e){return Pc(e)?Cc(_c.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Hc(e){var t,n;try{t=JSON.parse(e)}catch(Gx){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function Gc(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function zc(e,t){return t}var Kc=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||zc},Wc=null;function Yc(){if(Wc)return Wc;var e=[];e.push(new Kc("bucket")),e.push(new Kc("generation")),e.push(new Kc("metageneration")),e.push(new Kc("name","fullPath",!0));var t=new Kc("name");t.xform=function(e,t){return function(e){return!Pc(e)||e.length<2?e:Gc(e)}(t)},e.push(t);var n=new Kc("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Kc("timeCreated")),e.push(new Kc("updated")),e.push(new Kc("md5Hash",null,!0)),e.push(new Kc("cacheControl",null,!0)),e.push(new Kc("contentDisposition",null,!0)),e.push(new Kc("contentEncoding",null,!0)),e.push(new Kc("contentLanguage",null,!0)),e.push(new Kc("contentType",null,!0)),e.push(new Kc("metadata","customMetadata",!0)),Wc=e}function Zc(e,t,n){var r=Hc(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new Oc(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function $c(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Xc=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Jc(e){if(!e)throw fc()}function el(e,t){return function(n,r){var i=Zc(e,r,t);return Jc(null!==i),i}}function tl(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new lc("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new lc("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new lc("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new lc("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function nl(e){var t=tl(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new lc("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function rl(e,t,n){var r=jc(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Xc(r,"GET",el(e,n),i);return o.errorHandler=nl(t),o}function il(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var ol=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function al(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Gx){Jc(!1)}return Jc(!!n&&-1!==(t||["active"]).indexOf(n)),n}var sl=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function ul(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var cl=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Yc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=il(t,r,i),s={name:a.fullPath},u=jc(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=$c(a,n),h=new Xc(u,"POST",(function(e){var t;al(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Gx){Jc(!1)}return Jc(Pc(t)),t}),e.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=tl(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=new Xc(n,"POST",(function(e){var t=al(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Gx){Jc(!1)}n||Jc(!1);var i=Number(n);return Jc(!isNaN(i)),new ol(i,r.size(),"final"===t)}),e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=tl(t),i}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new ol(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var u=new ol(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new lc("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw pc();var p=new Xc(n,"POST",(function(e,n){var i,a=al(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?el(t,o)(e,n):null,new ol(s,c,"final"===a,i)}),t.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=tl(e),p}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Gx){return e._error=Gx,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=rl(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=il(t,r,i),c=$c(u,n),l=qc.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw pc();var h={name:u.fullPath},f=jc(o,e.host),d=e.maxUploadRetryTime,p=new Xc(f,"POST",el(e,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=tl(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=dc(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Tc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new sl(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Tc(this._state)){case Rc.SUCCESS:ul(this._resolve.bind(null,this.snapshot))();break;case Rc.CANCELED:case Rc.ERROR:ul(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Tc(this._state)){case Rc.RUNNING:case Rc.PAUSED:e.next&&ul(e.next.bind(e,this.snapshot))();break;case Rc.SUCCESS:e.complete&&ul(e.complete.bind(e))();break;case Rc.CANCELED:case Rc.ERROR:e.error&&ul(e.error.bind(e,this._error))();break;default:e.error&&ul(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),ll=function(){function e(e,t){this._service=e,this._location=t instanceof Oc?t:Oc.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Oc(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Gc(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Oc(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw bc(e)},e}();function hl(e,t){return oc(this,void 0,void 0,(function(){var n,r;return ac(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Fc("options.maxResults",1,1e3,t.maxResults),r=function(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=jc(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Xc(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=Hc(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Oc(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=e._makeStorageReference(new Oc(t,c[u].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return Jc(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=tl(t),u}(e.storage,e._location,0,(n=t||{}).pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function fl(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Oc(e._location.bucket,n);return new ll(e.storage,r)}function dl(e){return/^[A-Za-z]+:\/\//.test(e)}function pl(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:Oc.makeFromBucketSpec(n,e)}var vl=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Oc.makeFromBucketSpec(i,this._host):pl(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?Oc.makeFromBucketSpec(this._url,e):pl(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Fc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Fc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return oc(this,void 0,void 0,(function(){var e,t;return ac(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return oc(this,void 0,void 0,(function(){var e;return ac(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new ll(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Nc(gc());var i=function(e,t,n,r,i,o){var a=Qc(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Lc(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return oc(this,void 0,void 0,(function(){var t;return ac(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=n.sent(),[2,this._makeRequest(e,t[0],t[1])]}}))}))},e}();function gl(e,t){return function(e,t){if(t&&dl(t)){if(e instanceof vl)return new ll(e,t);throw vc("To use ref(service, url), the first argument must be a Storage instance.")}return function e(t,n){if(t instanceof vl){var r=t;if(null==r._bucket)throw new lc("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ll(r,r._bucket);return null!=n?e(i,n):i}return void 0!==n?fl(t,n):t}(e,t)}(e=Object(uc.getModularInstance)(e),t)}var bl,ml,yl=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),_l=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new yl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new yl(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new yl(e,i,i._ref))}:{next:t.next?function(e){return t.next(new yl(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),wl=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Cl(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Cl(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Cl=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return fl(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new _l(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cl(e,new qc(t),n)}(e=Object(uc.getModularInstance)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=_c.RAW),this._throwIfRoot("putString");var r=Cc(t,e),i=ic({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new _l(new cl(this._delegate,new qc(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,function(e){var t={prefixes:[],items:[]};return function e(t,n,r){return oc(this,void 0,void 0,(function(){var i,o,a;return ac(this,(function(s){switch(s.label){case 0:return[4,hl(t,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}(e=Object(uc.getModularInstance)(e))).then((function(e){return new wl(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return hl(e=Object(uc.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new wl(e,t.storage)}))},e.prototype.getMetadata=function(){return e=this._delegate,function(e){return oc(this,void 0,void 0,(function(){var t;return ac(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=rl(e.storage,e._location,Yc()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(uc.getModularInstance)(e));var e},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return oc(this,void 0,void 0,(function(){var n;return ac(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=jc(t.fullServerUrl(),e.host),o=$c(n,r),a=e.maxOperationRetryTime,s=new Xc(i,"PATCH",el(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=nl(t),s}(e.storage,e._location,t,Yc()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(e=Object(uc.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,function(e){return oc(this,void 0,void 0,(function(){var t;return ac(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=jc(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Xc(r,"GET",function(e,t){return function(n,r){var i=Zc(e,r,t);return Jc(null!==i),function(e,t,n){var r=Hc(t);if(null===r)return null;if(!Pc(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.fullPath;return jc("/b/"+o(e.bucket)+"/o/"+o(r),n)+Qc({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=nl(t),o}(e.storage,e._location,Yc()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new lc("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}(e=Object(uc.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,function(e){return oc(this,void 0,void 0,(function(){var t;return ac(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=jc(t.fullServerUrl(),e.host),r=new Xc(n,"DELETE",(function(e,t){}),e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=nl(t),r}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(uc.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw bc(e)},e}(),kl=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(dl(e))throw vc("ref() expected a child path but got a URL, use refFromURL instead.");return new Cl(gl(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!dl(e))throw vc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Oc.makeFromUrl(e,this._delegate.host)}catch(Gx){throw vc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Cl(gl(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"==typeof i?i:Object(uc.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)},e}();function Sl(e){var t=function(e){return new It.a((function(t){var n=function(e){return t.next(e)};n(e.snapshot);var r=e.on("state_changed",n);return e.then((function(e){n(e),t.complete()}),(function(r){n(e.snapshot),function(e){t.error(e)}(r)})),function(){r()}})).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zu.a;return function(n){return n.lift(new $u(e,t))}}(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(Object(Ut.a)((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function El(e,t,n){return{getDownloadURL:function(){return Object(kt.a)(void 0).pipe(Object(ec.b)(t.outsideAngular),mn((function(){return e.getDownloadURL()})),n)},getMetadata:function(){return Object(kt.a)(void 0).pipe(Object(ec.b)(t.outsideAngular),mn((function(){return e.getMetadata()})),n)},delete:function(){return Object(St.a)(e.delete())},child:function(r){return El(e.child(r),t,n)},updateMetadata:function(t){return Object(St.a)(e.updateMetadata(t))},put:function(t,n){return Sl(e.put(t,n))},putString:function(t,n,r){return Sl(e.putString(t,n,r))},listAll:function(){return Object(St.a)(e.listAll())}}}ml={TaskState:Rc,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:_c,Storage:vl,Reference:Cl},(bl=nc.default).INTERNAL.registerComponent(new cc.Component("storage",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new kl(r,new vl(r,i,o,new Ac,n,nc.default.SDK_VERSION))}),"PUBLIC").setServiceProps(ml).setMultipleInstances(!0)),bl.registerVersion("@firebase/storage","0.7.1");var Rl,Tl,Il,xl,Al=new r.q("angularfire2.storageBucket"),Ol=new r.q("angularfire2.storage.maxUploadRetryTime"),Nl=new r.q("angularfire2.storage.maxOperationRetryTime"),Pl=((xl=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this.schedulers=new tc.d(o),this.keepUnstableUntilFirst=Object(tc.g)(this.schedulers);var u=Object(tc.f)(t,o,n);this.storage=Object(tc.e)("".concat(u.name,".storage.").concat(r),"AngularFireStorage",u,(function(){var e=o.runOutsideAngular((function(){return u.storage(r||void 0)}));return a&&e.setMaxUploadRetryTime(a),s&&e.setMaxOperationRetryTime(s),e}),[a,s])}return _createClass(e,[{key:"ref",value:function(e){return El(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(e){return El(this.storage.refFromURL(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return El(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}()).\u0275fac=function(e){return new(e||xl)(r.Vb(tc.c),r.Vb(tc.b,8),r.Vb(Al,8),r.Vb(r.B),r.Vb(r.z),r.Vb(Ol,8),r.Vb(Nl,8))},xl.\u0275prov=r.Ib({factory:function(){return new xl(r.Vb(tc.c),r.Vb(tc.b,8),r.Vb(Al,8),r.Vb(r.B),r.Vb(r.z),r.Vb(Ol,8),r.Vb(Nl,8))},token:xl,providedIn:"any"}),xl),Dl=((Il=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:Il}),Il.\u0275inj=r.Jb({factory:function(e){return new(e||Il)}}),Il),Ml=((Tl=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:Tl}),Tl.\u0275inj=r.Jb({factory:function(e){return new(e||Tl)},providers:[Pl],imports:[Dl]}),Tl),Fl=((Rl=function(){function e(t){_classCallCheck(this,e),this._httpClient=t,this.httpOptions={headers:new Hs({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}return _createClass(e,[{key:"create",value:function(e){return this._httpClient.post(i.imageUrl+"/create",e,this.httpOptions)}},{key:"getListImgProductId",value:function(e){return this._httpClient.get(i.imageUrl+"/"+e,this.httpOptions)}},{key:"update",value:function(e,t){return this._httpClient.put(i.imageUrl+"/update/"+t,e)}},{key:"delete",value:function(e){return this._httpClient.delete(i.imageUrl+"/delete/"+e)}}]),e}()).\u0275fac=function(e){return new(e||Rl)(r.Vb(gu))},Rl.\u0275prov=r.Ib({token:Rl,factory:Rl.\u0275fac,providedIn:"root"}),Rl),jl=_createClass((function e(){_classCallCheck(this,e)}));function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Ul(e){return{type:6,styles:e,offset:null}}function Vl(e,t,n){return{type:0,name:e,styles:t,options:n}}function Bl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function ql(e){Promise.resolve(null).then(e)}var Hl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;ql((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),Gl=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?ql((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),zl=["toast-component",""];function Kl(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",5),r.Zb("click",(function(){return r.mc(n),r.bc().remove()})),r.Rb(1,"span",6),r.sc(2,"\xd7"),r.Qb(),r.Qb()}}function Wl(e,t){if(1&e&&(r.Pb(0),r.sc(1),r.Ob()),2&e){var n=r.bc(2);r.Ab(1),r.uc("[",n.duplicatesCount+1,"]")}}function Yl(e,t){if(1&e&&(r.Rb(0,"div"),r.sc(1),r.rc(2,Wl,2,1,"ng-container",4),r.Qb()),2&e){var n=r.bc();r.Cb(n.options.titleClass),r.Bb("aria-label",n.title),r.Ab(1),r.uc(" ",n.title," "),r.Ab(1),r.fc("ngIf",n.duplicatesCount)}}function Zl(e,t){if(1&e&&r.Nb(0,"div",7),2&e){var n=r.bc();r.Cb(n.options.messageClass),r.fc("innerHTML",n.message,r.nc)}}function $l(e,t){if(1&e&&(r.Rb(0,"div",8),r.sc(1),r.Qb()),2&e){var n=r.bc();r.Cb(n.options.messageClass),r.Bb("aria-label",n.message),r.Ab(1),r.uc(" ",n.message," ")}}function Xl(e,t){if(1&e&&(r.Rb(0,"div"),r.Nb(1,"div",9),r.Qb()),2&e){var n=r.bc();r.Ab(1),r.qc("width",n.width+"%")}}var Jl,eh,th,nh,rh,ih,oh,ah,sh=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new Et.a,this._onAction=new Et.a,this.toastRef.afterClosed().subscribe((function(){s._onAction.complete(),s._onTap.complete()}))}return _createClass(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),uh=new r.q("ToastConfig"),ch=function(){function e(t,n){_classCallCheck(this,e),this.component=t,this.injector=n}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),lh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._hostDomElement=e,o._componentFactoryResolver=r,o._appRef=i,o}return _createClass(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn((function(){r._appRef.detachView(n.hostView),n.destroy()})),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),hh=((Jl=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}()).\u0275fac=function(e){return new(e||Jl)(r.Vb(u))},Jl.\u0275prov=Object(r.Ib)({factory:function(){return new Jl(Object(r.Vb)(u))},token:Jl,providedIn:"root"}),Jl),fh=function(){function e(t){_classCallCheck(this,e),this._portalHost=t}return _createClass(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),dh=((eh=function(){function e(t,n,r,i){_classCallCheck(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new lh(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new fh(this._createPortalHost(e))}}]),e}()).\u0275fac=function(e){return new(e||eh)(r.Vb(hh),r.Vb(r.j),r.Vb(r.g),r.Vb(u))},eh.\u0275prov=Object(r.Ib)({factory:function(){return new eh(Object(r.Vb)(hh),Object(r.Vb)(r.j),Object(r.Vb)(r.g),Object(r.Vb)(u))},token:eh,providedIn:"root"}),eh),ph=function(){function e(t){_classCallCheck(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Et.a,this._activate=new Et.a,this._manualClose=new Et.a,this._resetTimeout=new Et.a,this._countDuplicate=new Et.a}return _createClass(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),vh=function(){function e(t,n){_classCallCheck(this,e),this._toastPackage=t,this._parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t,n){return e===sh?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),gh=((ih=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return _createClass(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(e,t,n){var r,i=_createForOfIteratorHelper(this.toasts);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.message===e)return o.toastRef.onDuplicate(t,n),o}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run((function(){return i._buildNotification(e,t,n,r)})):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");var o=this.findDuplicate(t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if(t&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=t;var a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var s=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;var u=t;t&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,t));var c=new ph(s),l=new sh(this.index,i,u,n,e,c),h=new vh(l,this._injector),f=new ch(i.toastComponent,h),d=s.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;var p={toastId:this.index,message:t||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout((function(){p.toastRef.activate()}))),this.toasts.push(p),p}}]),e}()).\u0275fac=function(e){return new(e||ih)(r.Vb(uh),r.Vb(dh),r.Vb(r.r),r.Vb(bt),r.Vb(r.z))},ih.\u0275prov=Object(r.Ib)({factory:function(){return new ih(Object(r.Vb)(uh),Object(r.Vb)(dh),Object(r.Vb)(r.o),Object(r.Vb)(bt),Object(r.Vb)(r.z))},token:ih,providedIn:"root"}),ih),bh=((rh=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(e){i.duplicatesCount=e}))}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout((function(){return e.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout((function(){return e.remove()}),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout((function(){return e.toastrService.remove(e.toastPackage.toastId)}),+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout((function(){return e.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.timeout=setTimeout((function(){return n.runInsideAngular(e)}),t)})):this.timeout=setTimeout((function(){return e()}),t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.intervalId=setInterval((function(){return n.runInsideAngular(e)}),t)})):this.intervalId=setInterval((function(){return e()}),t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run((function(){return e()})):e()}}]),e}()).\u0275fac=function(e){return new(e||rh)(r.Mb(gh),r.Mb(sh),r.Mb(r.z))},rh.\u0275cmp=r.Gb({type:rh,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.Zb("click",(function(){return t.tapToast()}))("mouseenter",(function(){return t.stickAround()}))("mouseleave",(function(){return t.delayedHideToast()})),2&e&&(r.xc("@flyInOut",t.state),r.Cb(t.toastClasses),r.qc("display",t.displayStyle))},attrs:zl,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.rc(0,Kl,3,0,"button",0),r.rc(1,Yl,3,5,"div",1),r.rc(2,Zl,1,3,"div",2),r.rc(3,$l,2,4,"div",3),r.rc(4,Xl,2,2,"div",4)),2&e&&(r.fc("ngIf",t.options.closeButton),r.Ab(1),r.fc("ngIf",t.title),r.Ab(1),r.fc("ngIf",t.message&&t.options.enableHtml),r.Ab(1),r.fc("ngIf",t.message&&!t.options.enableHtml),r.Ab(1),r.fc("ngIf",t.options.progressBar))},directives:[we],encapsulation:2,data:{animation:[(th="flyInOut",nh=[Vl("inactive",Ul({opacity:0})),Vl("active",Ul({opacity:1})),Vl("removed",Ul({opacity:0})),Bl("inactive => active",Ql("{{ easeTime }}ms {{ easing }}")),Bl("active => removed",Ql("{{ easeTime }}ms {{ easing }}"))],{type:7,name:th,definitions:nh,options:{}})]}}),rh),mh=Object.assign(Object.assign({},{maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"}),{toastComponent:bh}),yh=((ah=oh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:oh,providers:[{provide:uh,useValue:{default:mh,config:e}}]}}}]),e}()).\u0275mod=r.Kb({type:ah}),ah.\u0275inj=r.Jb({factory:function(e){return new(e||ah)},imports:[[Qe]]}),ah);function _h(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function wh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \xedt h\u01a1n 6 k\xed t\u1ef1! "),r.Qb())}function Ch(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1! "),r.Qb())}function kh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Sh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng s\u1ed1! "),r.Qb())}function Eh(e,t){if(1&e&&(r.Rb(0,"textarea",49),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.uc("                  ",n.checkUser,"\n            ")}}function Rh(e,t){if(1&e&&(r.Rb(0,"textarea",49),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.uc("                  ",n.checkUser,"\n            ")}}function Th(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Ih(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Gi\xe1 ban \u0111\u1ea7u kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 0! "),r.Qb())}function xh(e,t){if(1&e&&(r.Rb(0,"option",50),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.step)}}function Ah(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Oh(e,t){if(1&e&&(r.Rb(0,"option",50),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.name)}}function Nh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Ph(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Dh(e,t){if(1&e&&(r.Rb(0,"div"),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.tc(n.messageCreate)}}function Mh(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div",51),r.Rb(1,"div",52),r.Nb(2,"img",53),r.Rb(3,"span",54),r.Zb("click",(function(){r.mc(n);var e=t.index;return r.bc(2).deleteImageNew(e)})),r.Nb(4,"i",55),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit;r.Ab(2),r.gc("src",i,r.oc)}}function Fh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function jh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i! "),r.Qb())}function Qh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Lh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1! "),r.Qb())}function Uh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Vh(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",7),r.Zb("ngSubmit",(function(){return r.mc(n),r.bc().addNewProduct()})),r.Rb(1,"fieldset"),r.Rb(2,"legend"),r.Rb(3,"div",8),r.Rb(4,"h1"),r.sc(5,"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",4),r.Rb(7,"div",9),r.Nb(8,"object",10),r.Rb(9,"label",11),r.sc(10,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(11,"span",6),r.sc(12," (*)"),r.Qb(),r.sc(13,":"),r.Qb(),r.Qb(),r.Nb(14,"input",12),r.Rb(15,"div",13),r.rc(16,_h,2,0,"div",14),r.rc(17,wh,2,0,"div",14),r.rc(18,Ch,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(19,"div",4),r.Rb(20,"div",15),r.Nb(21,"object",16),r.Rb(22,"label",11),r.sc(23,"M\xe3 ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(24,"span",6),r.sc(25," (*)"),r.Qb(),r.sc(26,":"),r.Qb(),r.Qb(),r.Rb(27,"div",9),r.Nb(28,"input",17,18),r.Rb(30,"button",19),r.Zb("click",(function(){r.mc(n);var e=r.lc(29);return r.bc().findUserById(e)})),r.Nb(31,"object",20),r.sc(32," Ki\u1ec3m tra "),r.Qb(),r.Rb(33,"button",21),r.Zb("click",(function(){r.mc(n);var e=r.lc(29);return r.bc().resetFindUserById(e)})),r.Nb(34,"object",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(35,"div",23),r.rc(36,kh,2,0,"div",14),r.rc(37,Sh,2,0,"div",14),r.Qb(),r.Rb(38,"div",4),r.Rb(39,"div",9),r.Nb(40,"object",24),r.Rb(41,"label",11),r.sc(42,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng:"),r.Qb(),r.Qb(),r.rc(43,Eh,2,1,"textarea",25),r.rc(44,Rh,2,1,"textarea",25),r.Qb(),r.Rb(45,"div",4),r.Rb(46,"div",9),r.Nb(47,"object",26),r.Rb(48,"label",11),r.sc(49,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(50,"span",6),r.sc(51," (*)"),r.Qb(),r.sc(52,":"),r.Qb(),r.Qb(),r.Nb(53,"input",27),r.Rb(54,"div",13),r.rc(55,Th,2,0,"div",14),r.rc(56,Ih,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(57,"div",4),r.Rb(58,"div",9),r.Nb(59,"object",28),r.Rb(60,"label",11),r.sc(61,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Rb(62,"span",6),r.sc(63," (*)"),r.Qb(),r.sc(64,":"),r.Qb(),r.Qb(),r.Rb(65,"select",29),r.rc(66,xh,2,2,"option",30),r.Qb(),r.Rb(67,"div",13),r.rc(68,Ah,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(69,"div",4),r.Rb(70,"div",9),r.Nb(71,"object",31),r.Rb(72,"label",11),r.sc(73,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(74,"span",6),r.sc(75,"(*)"),r.Qb(),r.sc(76,":"),r.Qb(),r.Qb(),r.Rb(77,"select",32),r.rc(78,Oh,2,2,"option",30),r.Qb(),r.Rb(79,"div",13),r.rc(80,Nh,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(81,"div",4),r.Rb(82,"div",9),r.Nb(83,"object",33),r.Rb(84,"label",11),r.sc(85,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Rb(86,"span",6),r.sc(87,"(*)"),r.Qb(),r.sc(88,":"),r.Qb(),r.Qb(),r.Rb(89,"input",34),r.Zb("change",(function(e){return r.mc(n),r.bc().showPreview(e)})),r.Qb(),r.Rb(90,"div",23),r.rc(91,Ph,2,0,"div",14),r.Qb(),r.Qb(),r.rc(92,Dh,2,1,"div",14),r.Rb(93,"div",35),r.rc(94,Mh,5,1,"div",36),r.Qb(),r.Rb(95,"div",4),r.Rb(96,"div",9),r.Nb(97,"object",24),r.Rb(98,"label",11),r.sc(99,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(100,"span",6),r.sc(101,"(*)"),r.Qb(),r.sc(102,":"),r.Qb(),r.Qb(),r.Nb(103,"textarea",37),r.Rb(104,"div",13),r.rc(105,Fh,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(106,"div",4),r.Rb(107,"div",9),r.Nb(108,"object",38),r.Rb(109,"label",11),r.sc(110,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Rb(111,"span",6),r.sc(112," (*)"),r.Qb(),r.sc(113,":"),r.Qb(),r.Qb(),r.Nb(114,"input",39),r.Rb(115,"div",13),r.rc(116,jh,2,0,"div",14),r.rc(117,Qh,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(118,"div",4),r.Rb(119,"div",9),r.Nb(120,"object",40),r.Rb(121,"label",11),r.sc(122,"Th\u1eddi gian k\u1ebft th\xfac"),r.Rb(123,"span",6),r.sc(124," (*)"),r.Qb(),r.sc(125,":"),r.Qb(),r.Qb(),r.Nb(126,"input",41),r.Rb(127,"div",13),r.rc(128,Lh,2,0,"div",14),r.rc(129,Uh,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(130,"div",42),r.Rb(131,"button",43),r.Nb(132,"object",44),r.Rb(133,"p"),r.sc(134," Th\xeam "),r.Qb(),r.Qb(),r.Rb(135,"button",45),r.Nb(136,"object",46),r.Rb(137,"p"),r.sc(138,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Rb(139,"button",47),r.Nb(140,"object",48),r.Rb(141,"p"),r.sc(142,"H\u1ee7y"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.formCreateProduct),r.Ab(14),r.fc("ngClass",i.formCreateProduct.controls.name.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.required)&&i.formCreateProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.minlength)&&i.formCreateProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.maxlength)&&i.formCreateProduct.controls.name.touched),r.Ab(10),r.fc("ngClass",i.formCreateProduct.controls.user.invalid?"is-invalid":"is-valid"),r.Ab(8),r.fc("ngIf",(null==i.formCreateProduct.controls.user.errors?null:i.formCreateProduct.controls.user.errors.required)&&i.formCreateProduct.controls.user.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.user.errors?null:i.formCreateProduct.controls.user.errors.pattern)&&i.formCreateProduct.controls.user.touched),r.Ab(6),r.fc("ngIf",i.userFind),r.Ab(1),r.fc("ngIf",!i.userFind),r.Ab(9),r.fc("ngClass",i.formCreateProduct.controls.initialPrice.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.required)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.pattern)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(9),r.fc("ngClass",i.formCreateProduct.controls.priceStep.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",i.priceStepList),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.priceStep.errors?null:i.formCreateProduct.controls.priceStep.errors.required)&&i.formCreateProduct.controls.priceStep.touched),r.Ab(9),r.fc("ngClass",i.formCreateProduct.controls.category.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",i.categoryList),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.category.errors?null:i.formCreateProduct.controls.category.errors.required)&&i.formCreateProduct.controls.category.touched),r.Ab(9),r.fc("ngClass",i.formCreateProduct.controls.imageProduct.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.imageProduct.errors?null:i.formCreateProduct.controls.imageProduct.errors.required)&&i.formCreateProduct.controls.imageProduct.touched),r.Ab(1),r.fc("ngIf",""!=i.messageCreate),r.Ab(2),r.fc("ngForOf",i.imgs),r.Ab(9),r.fc("ngClass",i.formCreateProduct.controls.description.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.description.errors?null:i.formCreateProduct.controls.description.errors.required)&&i.formCreateProduct.controls.description.touched),r.Ab(9),r.fc("ngClass",null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkStartTime||i.formCreateProduct.controls.startTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkStartTime)&&i.formCreateProduct.controls.startTime.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.startTime.errors?null:i.formCreateProduct.controls.startTime.errors.required)&&i.formCreateProduct.controls.startTime.touched),r.Ab(9),r.fc("ngClass",null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkEndTime||i.formCreateProduct.controls.endTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkEndTime)&&i.formCreateProduct.controls.endTime.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.endTime.errors?null:i.formCreateProduct.controls.endTime.errors.required)&&i.formCreateProduct.controls.endTime.touched)}}var Bh,qh=function(e){return new Date(e.get("startTime").value).getTime()-(new Date).getTime()<0?{checkStartTime:!0}:null},Hh=function(e){var t=new Date(e.get("startTime").value).getTime();console.log(t);var n=new Date(e.get("endTime").value).getTime();return console.log(n),n-t<0&&t&&n?{checkEndTime:!0}:null},Gh=((Bh=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._formBuilder=t,this._productService=n,this._categoryService=r,this._priceStepService=i,this._userService=o,this._storage=a,this._imageProductService=s,this._toast=u,this.messageCreate="",this.categoryList=[],this.priceStepList=[],this.selectedFile=[],this.imgs=[],this.img=[],this.checkUser=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){e.categoryList=t})),this._priceStepService.getListPriceStep().subscribe((function(t){e.priceStepList=t})),this.formCreateProduct=this._formBuilder.group({id:[],name:["",[Jo.required,Jo.maxLength(255),Jo.minLength(6)]],description:["",[Jo.required]],initialPrice:["",[Jo.required,Jo.pattern("\\d+$")]],startTime:["",[Jo.required]],endTime:["",[Jo.required]],imageProduct:["",[Jo.required]],registerDay:[],priceStep:["",[Jo.required]],category:["",[Jo.required]],user:["",[Jo.required,Jo.pattern("\\d+$")]]},{validators:[qh,Hh]})}},{key:"addNewProduct",value:function(){var e=this;this.formCreateProduct.valid?(this.productDto=this.formCreateProduct.value,console.log(this.formCreateProduct.value),this._productService.save(this.productDto).subscribe((function(t){if(console.log(t),0!==e.imgs.length)for(var n=0;n<e.imgs.length;n++){var r={url:e.imgs[n],product:t.id};console.log(r),e._imageProductService.create(r).subscribe((function(){}))}e._toast.success("Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!")}))):this._toast.error("Th\xeamm m\u1edbi s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}},{key:"findUserById",value:function(e){var t=this;e.setAttribute("disabled",!0),this._userService.findUserById(e.value).subscribe((function(e){t.userFind=e,t.formCreateProduct.patchValue({user:t.userFind.id}),console.log(t.userFind),t.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.firstName+" "+t.userFind.lastName}),(function(e){t.checkUser="Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng!"}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]&&((new FileReader).readAsDataURL(e.target.files[0]),this.selectedFile=e.target.files),0!==this.selectedFile.length){setTimeout((function(){t.messageCreate="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i........"}),3e3);for(var n=function(e){var n=t.selectedFile[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.messageCreate="",t.imgs.push(e)}))}))).subscribe((function(){}))},r=0;r<this.selectedFile.length;r++)n(r)}}},{key:"deleteImageNew",value:function(e){this.imgs.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!"),console.log(e)}},{key:"resetFindUserById",value:function(e){e.removeAttribute("disabled")}}]),e}()).\u0275fac=function(e){return new(e||Bh)(r.Mb(Qs),r.Mb(zu),r.Mb(Ku),r.Mb(Wu),r.Mb(Yu),r.Mb(Pl),r.Mb(Fl),r.Mb(gh))},Bh.\u0275cmp=r.Gb({type:Bh,selectors:[["app-product-add"]],decls:10,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"bg-add-product"],[1,"boxed","shadow-md","h-100","ms-auto"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],[1,"form-label","ms-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mb-2","mt-3","w-100"],["data","assets/icons/icon-people.svg","width","20","height","20"],["type","text","formControlName","user",1,"form-control",2,"width","50%",3,"ngClass"],["testNum",""],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","mx-3",3,"click"],["data","assets/icons/check-people.svg","width","20","height","20",1,"me-2","slide"],["type","button",2,"width","20%",3,"click"],["data","assets/icons/back.svg","width","20","height","20"],[1,"invalid-feedback","d-block"],["data","assets/icons/information.svg","width","20","height","20"],["class","form-control","disabled","",4,"ngIf"],["data","assets/icons/dollar.svg","width","20","height","20"],["type","text","formControlName","initialPrice",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["aria-label","Default select example","formControlName","priceStep",1,"form-select",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["aria-label","Default select example","formControlName","category",1,"form-select",3,"ngClass"],["data","assets/icons/image.svg","width","20","height","20"],["type","file","multiple","","autocomplete","off","formControlName","imageProduct",1,"custom-file-input","form-control",3,"ngClass","change"],[1,"d-flex","justify-content-left",2,"overflow-x","scroll"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["formControlName","description",1,"form-control",3,"ngClass"],["data","assets/icons/hour-end.svg","width","20","height","20"],["type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],[1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-outline-primary","ms-auto","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/button-back.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-warning","ms-auto","d-flex","justify-content-center"],["data","assets/icons/cancel.svg","width","20","height","20",1,"me-2","slide"],["disabled","",1,"form-control"],[3,"ngValue"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3,Vh,143,31,"form",3),r.Rb(4,"div",4),r.Rb(5,"span",5),r.sc(6," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Rb(7,"span",6),r.sc(8," (*)"),r.Qb(),r.sc(9," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(3),r.fc("ngIf",t.formCreateProduct))},directives:[we,bs,Wo,_s,Qo,Ko,Ds,be,Sa,ye,Ea,Oa],styles:["[_ngcontent-%COMP%]:not(i){font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}#product-model[_ngcontent-%COMP%]{justify-content:center}.boxed[_ngcontent-%COMP%]{width:500px;max-height:800px;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto;margin-right:8%}.bg-add-product[_ngcontent-%COMP%]{display:flex;border-radius:8px;align-items:center;justify-content:right;height:90%;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0);width:70%;background-size:cover;background-repeat:no-repeat}.boxed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.close[_ngcontent-%COMP%]{position:absolute;left:28px;top:40px;width:50px;background:none;font-size:25px}"]}),Bh);function zh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Kh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \xedt h\u01a1n 6 k\xed t\u1ef1! "),r.Qb())}function Wh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1! "),r.Qb())}function Yh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Zh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng s\u1ed1! "),r.Qb())}function $h(e,t){if(1&e&&(r.Rb(0,"textarea",51),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.uc("                   ",n.checkUser,"\n            ")}}function Xh(e,t){if(1&e&&(r.Rb(0,"textarea",51),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.uc("                  ",n.checkUser,"\n            ")}}function Jh(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function ef(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Gi\xe1 ban \u0111\u1ea7u kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 0! "),r.Qb())}function tf(e,t){if(1&e&&(r.Rb(0,"option",52),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.step)}}function nf(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function rf(e,t){if(1&e&&(r.Rb(0,"option",52),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.name)}}function of(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function af(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function sf(e,t){if(1&e&&(r.Rb(0,"div"),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.tc(n.messageEdit)}}function uf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div",53),r.Rb(1,"div",54),r.Nb(2,"img",55),r.Rb(3,"span",56),r.Zb("click",(function(){r.mc(n);var e=t.index,i=t.$implicit;return r.bc(2).deleteImage(e,i)})),r.Nb(4,"i",57),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit;r.Ab(2),r.gc("src",i.url,r.oc)}}function cf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div",53),r.Rb(1,"div",54),r.Nb(2,"img",55),r.Rb(3,"span",56),r.Zb("click",(function(){r.mc(n);var e=t.index;return r.bc(2).deleteImageNew(e)})),r.Nb(4,"i",57),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit;r.Ab(2),r.gc("src",i,r.oc)}}function lf(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function hf(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i! "),r.Qb())}function ff(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function df(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1! "),r.Qb())}function pf(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function vf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",7),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.updateProduct(e.id)})),r.Rb(1,"fieldset"),r.Rb(2,"legend"),r.Rb(3,"div",8),r.Rb(4,"h1"),r.sc(5,"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(6,"input",9),r.Nb(7,"input",10),r.Nb(8,"input",11),r.Rb(9,"div",4),r.Rb(10,"div",12),r.Nb(11,"object",13),r.Rb(12,"label",14),r.sc(13,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(14,"span",6),r.sc(15," (*)"),r.Qb(),r.sc(16,":"),r.Qb(),r.Qb(),r.Nb(17,"input",15),r.Rb(18,"div",16),r.rc(19,zh,2,0,"div",17),r.rc(20,Kh,2,0,"div",17),r.rc(21,Wh,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(22,"div",4),r.Rb(23,"div",12),r.Nb(24,"object",18),r.Rb(25,"label",14),r.sc(26,"M\xe3 ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(27,"span",6),r.sc(28," (*)"),r.Qb(),r.sc(29,":"),r.Qb(),r.Qb(),r.Rb(30,"div",12),r.Nb(31,"input",19,20),r.Rb(33,"button",21),r.Zb("click",(function(){r.mc(n);var e=r.lc(32);return r.bc().findUserById(e)})),r.Nb(34,"object",22),r.sc(35," Ki\u1ec3m tra "),r.Qb(),r.Rb(36,"button",23),r.Zb("click",(function(){r.mc(n);var e=r.lc(32);return r.bc().resetFindUserById(e)})),r.Nb(37,"object",24),r.Qb(),r.Qb(),r.Rb(38,"div",25),r.rc(39,Yh,2,0,"div",17),r.rc(40,Zh,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(41,"div",4),r.Rb(42,"div",12),r.Nb(43,"object",26),r.Rb(44,"label",14),r.sc(45,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng:"),r.Qb(),r.Qb(),r.rc(46,$h,2,1,"textarea",27),r.rc(47,Xh,2,1,"textarea",27),r.Qb(),r.Rb(48,"div",4),r.Rb(49,"div",12),r.Nb(50,"object",28),r.Rb(51,"label",14),r.sc(52,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(53,"span",6),r.sc(54," (*)"),r.Qb(),r.sc(55,":"),r.Qb(),r.Qb(),r.Nb(56,"input",29),r.Rb(57,"div",16),r.rc(58,Jh,2,0,"div",17),r.rc(59,ef,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(60,"div",4),r.Rb(61,"div",12),r.Nb(62,"object",30),r.Rb(63,"label",14),r.sc(64,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Rb(65,"span",6),r.sc(66," (*)"),r.Qb(),r.sc(67,":"),r.Qb(),r.Qb(),r.Rb(68,"select",31),r.rc(69,tf,2,2,"option",32),r.Qb(),r.Rb(70,"div",16),r.rc(71,nf,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(72,"div",4),r.Rb(73,"div",12),r.Nb(74,"object",33),r.Rb(75,"label",14),r.sc(76,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(77,"span",6),r.sc(78,"(*)"),r.Qb(),r.sc(79,":"),r.Qb(),r.Qb(),r.Rb(80,"select",34),r.rc(81,rf,2,2,"option",32),r.Qb(),r.Rb(82,"div",16),r.rc(83,of,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(84,"div",4),r.Rb(85,"div",12),r.Nb(86,"object",35),r.Rb(87,"label",14),r.sc(88,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Rb(89,"span",6),r.sc(90,"(*)"),r.Qb(),r.sc(91,":"),r.Qb(),r.Qb(),r.Rb(92,"input",36),r.Zb("change",(function(e){return r.mc(n),r.bc().showPreview(e)})),r.Qb(),r.Rb(93,"div",25),r.rc(94,af,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(95,"div",37),r.rc(96,sf,2,1,"div",17),r.rc(97,uf,5,1,"div",38),r.rc(98,cf,5,1,"div",38),r.Qb(),r.Rb(99,"div",4),r.Rb(100,"div",12),r.Nb(101,"object",26),r.Rb(102,"label",14),r.sc(103,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(104,"span",6),r.sc(105,"(*)"),r.Qb(),r.sc(106,":"),r.Qb(),r.Qb(),r.Nb(107,"textarea",39),r.Rb(108,"div",16),r.rc(109,lf,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(110,"div",4),r.Rb(111,"div",12),r.Nb(112,"object",40),r.Rb(113,"label",14),r.sc(114,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Rb(115,"span",6),r.sc(116," (*)"),r.Qb(),r.sc(117,":"),r.Qb(),r.Qb(),r.Nb(118,"input",41),r.Rb(119,"div",16),r.rc(120,hf,2,0,"div",17),r.rc(121,ff,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(122,"div",4),r.Rb(123,"div",12),r.Nb(124,"object",42),r.Rb(125,"label",14),r.sc(126,"Th\u1eddi gian k\u1ebft th\xfac"),r.Rb(127,"span",6),r.sc(128," (*)"),r.Qb(),r.sc(129,":"),r.Qb(),r.Qb(),r.Nb(130,"input",43),r.Rb(131,"div",16),r.rc(132,df,2,0,"div",17),r.rc(133,pf,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(134,"div",44),r.Rb(135,"button",45),r.Nb(136,"object",46),r.Rb(137,"p"),r.sc(138," C\u1eadp nh\u1eadt "),r.Qb(),r.Qb(),r.Rb(139,"button",47),r.Zb("click",(function(){return r.mc(n),r.bc().resetForm()})),r.Nb(140,"object",48),r.Rb(141,"p"),r.sc(142,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Rb(143,"button",49),r.Nb(144,"object",50),r.Rb(145,"p"),r.sc(146,"H\u1ee7y"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.formEditProduct),r.Ab(17),r.fc("ngClass",i.formEditProduct.controls.name.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.controls.name.errors?null:i.formEditProduct.controls.name.errors.required)&&i.formEditProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==i.formEditProduct.controls.name.errors?null:i.formEditProduct.controls.name.errors.minlength)&&i.formEditProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==i.formEditProduct.controls.name.errors?null:i.formEditProduct.controls.name.errors.maxlength)&&i.formEditProduct.controls.name.touched),r.Ab(10),r.fc("ngClass",i.formEditProduct.controls.user.invalid?"is-invalid":"is-valid"),r.Ab(8),r.fc("ngIf",(null==i.formEditProduct.controls.user.errors?null:i.formEditProduct.controls.user.errors.required)&&i.formEditProduct.controls.user.touched),r.Ab(1),r.fc("ngIf",(null==i.formEditProduct.controls.user.errors?null:i.formEditProduct.controls.user.errors.pattern)&&i.formEditProduct.controls.user.touched),r.Ab(6),r.fc("ngIf",i.userFind),r.Ab(1),r.fc("ngIf",!i.userFind),r.Ab(9),r.fc("ngClass",i.formEditProduct.controls.initialPrice.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.controls.initialPrice.errors?null:i.formEditProduct.controls.initialPrice.errors.required)&&i.formEditProduct.controls.initialPrice.touched),r.Ab(1),r.fc("ngIf",(null==i.formEditProduct.controls.initialPrice.errors?null:i.formEditProduct.controls.initialPrice.errors.pattern)&&i.formEditProduct.controls.initialPrice.touched),r.Ab(9),r.fc("ngClass",i.formEditProduct.controls.priceStep.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",i.priceStepList),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.controls.priceStep.errors?null:i.formEditProduct.controls.priceStep.errors.required)&&i.formEditProduct.controls.priceStep.touched),r.Ab(9),r.fc("ngClass",i.formEditProduct.controls.category.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",i.categoryList),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.controls.category.errors?null:i.formEditProduct.controls.category.errors.required)&&i.formEditProduct.controls.category.touched),r.Ab(9),r.fc("ngClass",i.formEditProduct.controls.imageProduct.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.controls.imageProduct.errors?null:i.formEditProduct.controls.imageProduct.errors.required)&&i.formEditProduct.controls.imageProduct.touched),r.Ab(2),r.fc("ngIf",""!=i.messageEdit),r.Ab(1),r.fc("ngForOf",i.imgs),r.Ab(1),r.fc("ngForOf",i.imgCreate),r.Ab(9),r.fc("ngClass",i.formEditProduct.controls.description.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.controls.description.errors?null:i.formEditProduct.controls.description.errors.required)&&i.formEditProduct.controls.description.touched),r.Ab(9),r.fc("ngClass",null!=i.formEditProduct.errors&&i.formEditProduct.errors.checkStartTime||i.formEditProduct.controls.startTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.errors?null:i.formEditProduct.errors.checkStartTime)&&i.formEditProduct.controls.startTime.touched),r.Ab(1),r.fc("ngIf",(null==i.formEditProduct.controls.startTime.errors?null:i.formEditProduct.controls.startTime.errors.required)&&i.formEditProduct.controls.startTime.touched),r.Ab(9),r.fc("ngClass",null!=i.formEditProduct.errors&&i.formEditProduct.errors.checkEndTime||i.formEditProduct.controls.endTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formEditProduct.errors?null:i.formEditProduct.errors.checkEndTime)&&i.formEditProduct.controls.endTime.touched),r.Ab(1),r.fc("ngIf",(null==i.formEditProduct.controls.endTime.errors?null:i.formEditProduct.controls.endTime.errors.required)&&i.formEditProduct.controls.endTime.touched)}}var gf,bf,mf=((bf=function(){function e(t,n,r,i,o,a,s,u,c){_classCallCheck(this,e),this._formBuilder=t,this._productService=n,this._categoryService=r,this._priceStepService=i,this._userService=o,this._storage=a,this._imageProductService=s,this._activatedRoute=u,this._toast=c,this.categoryList=[],this.priceStepList=[],this.selectedFile=[],this.imgs=[],this.idImageList=[],this.imgCreate=[],this.checkUser="",this.messageEdit=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.getListCategory(),this.getListPriceStep(),this.getFormEdit()}},{key:"getFormEdit",value:function(){var e=this;this._activatedRoute.paramMap.subscribe((function(t){e.id=+t.get("id"),e._productService.findByIdd(e.id).subscribe((function(t){e.productFind=t,e._userService.findUserById(t.user.id).subscribe((function(t){e.userFind=t,e.formEditProduct.patchValue({user:e.userFind.id}),e.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+e.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+e.userFind.firstName+" "+e.userFind.lastName})),console.log(e.productFind),e._imageProductService.getListImgProductId(e.productFind.id).subscribe((function(t){e.imgs=t,console.log(t)})),e.formEditProduct=e._formBuilder.group({id:[t.id,[Jo.required]],name:[t.name,[Jo.required,Jo.maxLength(255),Jo.minLength(6)]],description:[t.description,[Jo.required]],initialPrice:[t.initialPrice,[Jo.required,Jo.pattern("\\d+$")]],startTime:[t.startTime,[Jo.required]],endTime:[t.endTime,[Jo.required]],registerDay:[t.registerDay],priceStep:[t.priceStep.id],category:[t.category.id],reviewStatus:[t.reviewStatus.id],auctionStatus:[t.auctionStatus.id],user:["",[Jo.required,Jo.pattern("\\d+$")]],imageProduct:["",[Jo.required]]},{validators:[qh,Hh]})}))}))}},{key:"getListCategory",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){e.categoryList=t}))}},{key:"getListPriceStep",value:function(){var e=this;this._priceStepService.getListPriceStep().subscribe((function(t){e.priceStepList=t}))}},{key:"findUserById",value:function(e){var t=this;e.setAttribute("disabled",!0),this._userService.findUserById(e.value).subscribe((function(e){t.userFind=e,t.formEditProduct.patchValue({user:t.userFind.id}),t.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+t.userFind.firstName+" "+t.userFind.lastName,console.log(t.userFind)}),(function(e){t.checkUser="Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng!"}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedFile=e.target.files):this.selectedFile=[],console.log(this.selectedFile),0!==this.selectedFile.length){setTimeout((function(){t.messageEdit="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i........"}),3e3);for(var n=function(e){var n=t.selectedFile[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.messageEdit="",t.imgCreate.push(e)}))}))).subscribe((function(){}))},r=0;r<this.selectedFile.length;r++)n(r);console.log(this.imgCreate)}}},{key:"updateProduct",value:function(e){var t=this;if(this.formEditProduct.valid&&(this.productDto=this.formEditProduct.value,console.log(this.formEditProduct.value),this._productService.update(this.productDto,e).subscribe((function(e){if(0!==t.imgCreate.length)for(var n=0;n<t.imgCreate.length;n++){var r={url:t.imgCreate[n],product:e.id};console.log(r),t._imageProductService.create(r).subscribe((function(){}))}}),(function(e){t._toast.error("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")})),this._toast.success("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!"),0!==this.idImageList.length))for(var n=0;n<this.idImageList.length;n++)console.log(this.idImageList[n]),this.deleteImageById(this.idImageList[n]);this._toast.error("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}},{key:"deleteImage",value:function(e,t){this.idImageList.push(t.id),this.imgs.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}},{key:"deleteImageNew",value:function(e){this.imgCreate.splice(e,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}},{key:"deleteImageById",value:function(e){this._imageProductService.delete(e).subscribe((function(e){}))}},{key:"resetFindUserById",value:function(e){e.removeAttribute("disabled")}},{key:"resetForm",value:function(){this.ngOnInit()}}]),e}()).\u0275fac=function(e){return new(e||bf)(r.Mb(Qs),r.Mb(zu),r.Mb(Ku),r.Mb(Wu),r.Mb(Yu),r.Mb(Pl),r.Mb(Fl),r.Mb(Ur),r.Mb(gh))},bf.\u0275cmp=r.Gb({type:bf,selectors:[["app-product-edit"]],decls:10,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"bg-add-product"],[1,"boxed","shadow-md","h-100","ms-auto"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],["type","text","formControlName","id","hidden","",1,"form-control"],["formControlName","reviewStatus","hidden",""],["formControlName","auctionStatus","hidden",""],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],[1,"form-label","ms-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["data","assets/icons/icon-people.svg","width","20","height","20"],["formControlName","user","type","number","formControlName","user",1,"form-control",2,"width","50%",3,"ngClass"],["testNum",""],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","mx-3",3,"click"],["data","assets/icons/check-people.svg","width","20","height","20",1,"me-2","slide"],["type","button",2,"width","20%",3,"click"],["data","assets/icons/back.svg","width","20","height","20"],[1,"invalid-feedback","d-block"],["data","assets/icons/information.svg","width","20","height","20"],["class","form-control","disabled","",4,"ngIf"],["data","assets/icons/dollar.svg","width","20","height","20"],["type","number","formControlName","initialPrice",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["aria-label","Default select example","formControlName","priceStep",1,"form-select",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["formControlName","category","aria-label","Default select example",1,"form-select",3,"ngClass"],["data","assets/icons/image.svg","width","20","height","20"],["type","file","multiple","","autocomplete","off","formControlName","imageProduct",1,"custom-file-input","form-control",3,"ngClass","change"],[1,"d-flex","justify-content-left",2,"overflow-x","scroll"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["formControlName","description",1,"form-control",3,"ngClass"],["data","assets/icons/hour-end.svg","width","20","height","20"],["type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],["type","button",1,"btn","btn-outline","btn-outline-primary","ms-auto","d-flex","justify-content-center",2,"margin-right","5px",3,"click"],["data","assets/icons/button-back.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-warning","ms-auto","d-flex","justify-content-center"],["data","assets/icons/cancel.svg","width","20","height","20",1,"me-2","slide"],["disabled","",1,"form-control"],[3,"ngValue"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3,vf,147,32,"form",3),r.Rb(4,"div",4),r.Rb(5,"span",5),r.sc(6," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Rb(7,"span",6),r.sc(8," (*)"),r.Qb(),r.sc(9," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(3),r.fc("ngIf",t.formEditProduct))},directives:[we,bs,Wo,_s,Qo,Ko,Ds,be,la,Sa,ye,Ea,Oa],styles:["[_ngcontent-%COMP%]:not(i){font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}#product-model[_ngcontent-%COMP%]{justify-content:center}.boxed[_ngcontent-%COMP%]{width:500px;max-height:800px;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto;margin-right:8%}.bg-add-product[_ngcontent-%COMP%]{display:flex;border-radius:8px;align-items:center;justify-content:right;height:90%;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0);width:70%;background-size:cover;background-repeat:no-repeat}.boxed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.close[_ngcontent-%COMP%]{position:absolute;left:28px;top:40px;width:50px;background:none;font-size:25px}"]}),bf),yf=((gf=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"findAll",value:function(e,t){return this._httpClient.post(i.transactionUrl+"?page="+t,e)}},{key:"findByListId",value:function(e){return this._httpClient.post(i.transactionFindByListIdUrl,e)}},{key:"deleteByListId",value:function(e){return this._httpClient.post(i.transactionDeleteUrl,e)}}]),e}()).\u0275fac=function(e){return new(e||gf)(r.Vb(gu))},gf.\u0275prov=r.Ib({token:gf,factory:gf.\u0275fac,providedIn:"root"}),gf);function _f(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",32),r.Zb("ngSubmit",(function(){return r.mc(n),r.bc().findAll(0)})),r.Rb(1,"div",1),r.Rb(2,"div",33),r.Rb(3,"div",34),r.Nb(4,"input",35),r.Rb(5,"label",36),r.sc(6,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"div",33),r.Rb(8,"div",34),r.Nb(9,"input",37),r.Rb(10,"label",38),r.sc(11,"Ng\u01b0\u1eddi mua"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"div",33),r.Rb(13,"div",34),r.Nb(14,"input",39),r.Rb(15,"label",40),r.sc(16,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",1),r.Rb(18,"div",33),r.Rb(19,"div",34),r.Nb(20,"input",41),r.Rb(21,"label",42),r.sc(22,"Th\xe0nh ti\u1ec1n"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"div",33),r.Rb(24,"div",34),r.Rb(25,"select",43),r.Rb(26,"option",44),r.sc(27,"---- T\xecnh tr\u1ea1ng ----"),r.Qb(),r.Rb(28,"option",45),r.sc(29," Th\xe0nh c\xf4ng"),r.Qb(),r.Rb(30,"option",46),r.sc(31," Th\u1ea5t b\u1ea1i"),r.Qb(),r.Qb(),r.Rb(32,"label",47),r.sc(33,"T\xecnh tr\u1ea1ng"),r.Qb(),r.Qb(),r.Qb(),r.Rb(34,"div",48),r.Rb(35,"button",49),r.Nb(36,"i",50),r.sc(37," L\u1ecdc k\u1ebft qu\u1ea3 "),r.Qb(),r.Rb(38,"button",51),r.Zb("click",(function(){return r.mc(n),r.bc().resetFormAndData()})),r.sc(39," Reset b\u1ed9 l\u1ecdc "),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.rfSearch)}}function wf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"tr"),r.Rb(1,"td",56),r.sc(2),r.Qb(),r.Rb(3,"td",56),r.sc(4),r.Qb(),r.Rb(5,"td",56),r.sc(6),r.Qb(),r.Rb(7,"td"),r.sc(8),r.Qb(),r.Rb(9,"td"),r.sc(10),r.Qb(),r.Rb(11,"td"),r.sc(12),r.Qb(),r.Rb(13,"td",56),r.sc(14),r.Qb(),r.Rb(15,"td"),r.sc(16),r.Qb(),r.Rb(17,"td",53),r.Rb(18,"input",57),r.Zb("click",(function(){r.mc(n);var e=t.$implicit;return r.bc(2).addToDelete(e.id)})),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit,o=t.index,a=r.bc(2);r.Ab(2),r.tc(o+1),r.Ab(2),r.tc(i.id),r.Ab(2),r.tc(i.auctionDay),r.Ab(2),r.tc(i.userPost),r.Ab(2),r.tc(i.userBuying),r.Ab(2),r.tc(i.productName),r.Ab(2),r.tc(i.currentPrice),r.Ab(2),r.tc(i.auctionStatus),r.Ab(2),r.fc("checked",a.deleteIds.includes(i.id))}}function Cf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"table",52),r.Rb(1,"thead"),r.Rb(2,"tr"),r.Rb(3,"th"),r.sc(4,"STT"),r.Qb(),r.Rb(5,"th"),r.sc(6,"M\xe3 giao d\u1ecbch"),r.Qb(),r.Rb(7,"th"),r.sc(8,"Th\u1eddi gian \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng"),r.Qb(),r.Rb(9,"th"),r.sc(10,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Rb(11,"th"),r.sc(12,"Ng\u01b0\u1eddi mua"),r.Qb(),r.Rb(13,"th"),r.sc(14,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.Rb(15,"th"),r.sc(16,"Th\xe0nh ti\u1ec1n(vn\u0111)"),r.Qb(),r.Rb(17,"th"),r.sc(18,"T\xecnh tr\u1ea1ng giao d\u1ecbch"),r.Qb(),r.Rb(19,"th",53),r.Rb(20,"button",54),r.Zb("click",(function(){return r.mc(n),r.bc().addAllToDelete()})),r.Nb(21,"i",55),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"tbody"),r.rc(23,wf,19,9,"tr",28),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.Ab(23),r.fc("ngForOf",i.pageTransaction.content)}}function kf(e,t){1&e&&(r.Rb(0,"h3",58),r.sc(1,"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"),r.Qb())}function Sf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div"),r.Rb(1,"nav",59),r.Rb(2,"ul",60),r.Rb(3,"li",61),r.Rb(4,"a",62),r.Zb("click",(function(){return r.mc(n),r.bc().gotoPage(0)})),r.sc(5,"First"),r.Qb(),r.Qb(),r.Rb(6,"li",61),r.Rb(7,"a",62),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.pageTransaction.number-1)})),r.sc(8,"Previous"),r.Qb(),r.Qb(),r.Rb(9,"li",63),r.Rb(10,"a",64),r.sc(11),r.Qb(),r.Qb(),r.Rb(12,"li",61),r.Rb(13,"a",62),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.pageTransaction.number+1)})),r.sc(14,"Next"),r.Qb(),r.Qb(),r.Rb(15,"li",61),r.Rb(16,"a",62),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.pageTransaction.totalPages-1)})),r.sc(17,"Last"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"button",65),r.Zb("click",(function(){return r.mc(n),r.bc().sendToDeleteGroupModal()})),r.Nb(19,"i",66),r.sc(20," Xo\xe1 "),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.Ab(4),r.fc("ngClass",i.pageTransaction.first?"disabled":""),r.Ab(3),r.fc("ngClass",i.pageTransaction.first?"disabled":""),r.Ab(4),r.vc(" ",i.pageTransaction.number+1,"/",i.pageTransaction.totalPages,""),r.Ab(2),r.fc("ngClass",i.pageTransaction.last?"disabled":""),r.Ab(3),r.fc("ngClass",i.pageTransaction.last?"disabled":""),r.Ab(2),r.fc("disabled",0==i.deleteIds.length)}}function Ef(e,t){if(1&e&&(r.Rb(0,"div"),r.sc(1," X\xf3a giao d\u1ecbch "),r.Rb(2,"strong",67),r.sc(3),r.Qb(),r.sc(4,"? "),r.Qb()),2&e){var n=t.$implicit;r.Ab(3),r.tc(n.id)}}var Rf,Tf,If,xf=((If=function(){function e(t,n,r){_classCallCheck(this,e),this._transactionService=t,this._router=n,this._formBuilder=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.createSearchForm(),this.findAll(0),this.deleteIds=[],this.checkedAll=!1}},{key:"findAll",value:function(e){var t=this;this._transactionService.findAll(this.rfSearch.value,e).subscribe((function(e){t.pageTransaction=e}))}},{key:"createSearchForm",value:function(){this.rfSearch=this._formBuilder.group({userPost:[""],userBuying:[""],nameProduct:[""],currentPrice:[""],auctionStatus:[""]})}},{key:"resetFormAndData",value:function(){this.ngOnInit()}},{key:"gotoPage",value:function(e){this.findAll(e)}},{key:"addToDelete",value:function(e){var t=this.deleteIds.indexOf(e,0);t>-1?this.deleteIds.splice(t,1):this.deleteIds.push(e)}},{key:"addAllToDelete",value:function(){this.checkedAll=!0;var e,t=_createForOfIteratorHelper(this.pageTransaction.content);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.deleteIds.includes(n.id)){this.checkedAll=!1;break}}}catch(l){t.e(l)}finally{t.f()}if(this.checkedAll){var r,i=_createForOfIteratorHelper(this.pageTransaction.content);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.deleteIds.indexOf(o.id,0);this.deleteIds.splice(a,1)}}catch(l){i.e(l)}finally{i.f()}}else{var s,u=_createForOfIteratorHelper(this.pageTransaction.content);try{for(u.s();!(s=u.n()).done;){var c=s.value;-1==this.deleteIds.indexOf(c.id,0)&&this.deleteIds.push(c.id)}}catch(l){u.e(l)}finally{u.f()}}}},{key:"sendToDeleteGroupModal",value:function(){var e=this;this.deleteTransaction=[],this._transactionService.findByListId(this.deleteIds).subscribe((function(t){e.deleteTransaction=t}),(function(e){}))}},{key:"delete",value:function(){var e=this;this._transactionService.deleteByListId(this.deleteIds).subscribe((function(e){}),(function(e){}),(function(){e.ngOnInit()}))}}]),e}()).\u0275fac=function(e){return new(e||If)(r.Mb(yf),r.Mb(Zi),r.Mb(Qs))},If.\u0275cmp=r.Gb({type:If,selectors:[["app-transaction"]],decls:56,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-2","sidebar__left"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"col-lg-10"],[1,"mt-5","mb-5",2,"text-align","center"],["id","search-row",1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-12"],[1,"card","border-black"],[1,"card-body"],["id","customer_table","class","table table-striped table-bordered",4,"ngIf"],["id","null-result-noti",4,"ngIf"],[4,"ngIf"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-4"],[1,"form-floating","mb-4","form-inp"],["type","text","placeholder","Ng\u01b0\u1eddi \u0111\u0103ng","id","floatingPost","formControlName","userPost",1,"form-control","form-control-underlined"],["for","floatingPost"],["type","text","placeholder","Ng\u01b0\u1eddi mua","id","floatingBuying","formControlName","userBuying",1,"form-control","form-control-underlined"],["for","floatingBuying"],["type","text","placeholder","T\xean s\u1ea3n ph\u1ea9m","id","floatingName","formControlName","nameProduct",1,"form-control","form-control-underlined"],["for","floatingName"],["type","text","placeholder","Th\xe0nh ti\u1ec1n","id","floatingMoney","formControlName","currentPrice",1,"form-control","form-control-underlined"],["for","floatingMoney"],["id","floatingStatus","formControlName","auctionStatus",1,"form-select","form-select-underlined"],["value",""],["value","0"],["value","1"],["for","floatingStatus"],["id","form-btn",1,"col-4"],["type","submit",1,"btn","btn-primary"],[1,"fa-solid","fa-magnifying-glass"],[1,"btn","btn-success",3,"click"],["id","customer_table",1,"table","table-striped","table-bordered"],[1,"text-center"],[1,"btn",3,"click"],[1,"fa-regular","fa-trash-can","delete-group-icon"],[1,"text-end"],["type","checkbox",1,"delete-checkbox",3,"checked","click"],["id","null-result-noti"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],[1,"page-item","active"],[1,"page-link"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-danger",3,"disabled","click"],[1,"fa-regular","fa-trash-can","delete-icon"],[2,"color","red"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div"),r.Rb(4,"nav"),r.Rb(5,"ul",3),r.Rb(6,"li",4),r.Rb(7,"a",5),r.Nb(8,"i",6),r.sc(9," Trang ch\u1ee7 "),r.Rb(10,"span",7),r.sc(11,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"li",4),r.Rb(13,"a",5),r.Nb(14,"i",8),r.sc(15," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(16,"span",7),r.sc(17,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"li",4),r.Rb(19,"a",5),r.Nb(20,"i",9),r.sc(21," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(22,"span",7),r.sc(23,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"li",4),r.Rb(25,"a",5),r.Nb(26,"i",10),r.sc(27," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(28,"span",7),r.sc(29,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",11),r.Rb(31,"h1",12),r.sc(32,"Qu\u1ea3n l\xfd giao d\u1ecbch"),r.Qb(),r.Rb(33,"div",13),r.rc(34,_f,40,1,"form",14),r.Qb(),r.Rb(35,"div",1),r.Rb(36,"div",15),r.Rb(37,"div",16),r.Rb(38,"div",17),r.rc(39,Cf,24,1,"table",18),r.rc(40,kf,2,0,"h3",19),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(41,Sf,21,7,"div",20),r.Qb(),r.Qb(),r.Qb(),r.Rb(42,"div",21),r.Rb(43,"div",22),r.Rb(44,"div",23),r.Rb(45,"div",24),r.Rb(46,"h5",25),r.sc(47,"X\xf3a giao d\u1ecbch"),r.Qb(),r.Nb(48,"button",26),r.Qb(),r.Rb(49,"div",27),r.rc(50,Ef,5,1,"div",28),r.Rb(51,"div",29),r.Rb(52,"button",30),r.sc(53,"Hu\u1ef7 b\u1ecf"),r.Qb(),r.Rb(54,"button",31),r.Zb("click",(function(){return t.delete()})),r.sc(55,"X\xe1c nh\u1eadn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(34),r.fc("ngIf",t.rfSearch),r.Ab(5),r.fc("ngIf",null!=t.pageTransaction),r.Ab(1),r.fc("ngIf",null==t.pageTransaction),r.Ab(1),r.fc("ngIf",t.pageTransaction),r.Ab(9),r.fc("ngForOf",t.deleteTransaction))},directives:[we,ye,bs,Wo,_s,Qo,Ko,Ds,Sa,Ea,Oa,be],styles:[".menu[_ngcontent-%COMP%], .sidebar__left[_ngcontent-%COMP%]{background:#535151}.menu[_ngcontent-%COMP%]{padding:24px 0 0;margin:0}.menu__item[_ngcontent-%COMP%]{padding:4px 12px;list-style-type:none;cursor:pointer;margin-bottom:12px}.menu__icon[_ngcontent-%COMP%]{margin-right:4px}.menu__link[_ngcontent-%COMP%]{text-decoration:none}.menu__link[_ngcontent-%COMP%], .menu__link[_ngcontent-%COMP%]:hover{color:#fff8dc}.menu__item[_ngcontent-%COMP%]:hover{background-color:#fff8dc;opacity:.7}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#0a0a0a}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:0;padding-left:0}.form-control[_ngcontent-%COMP%]::-moz-placeholder{font-size:.95rem;color:#aaa;font-style:italic}.form-control[_ngcontent-%COMP%]::placeholder{font-size:.95rem;color:#aaa;font-style:italic}.search[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#null-result-noti[_ngcontent-%COMP%]{text-align:center;color:red}"]}),If),Af=((Tf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Tf)},Tf.\u0275cmp=r.Gb({type:Tf,selectors:[["app-header"]],decls:57,vars:0,consts:[[1,"header"],[1,"container-fluid"],[1,"row"],[1,"header__menu"],[1,"menu","d-flex","align-items-center","m-0"],[1,"menu__item","band"],[1,"menu__link","logo"],[1,"fa-brands","fa-suse"],[1,"menu__item"],[1,"menu__link"],[1,"fa-solid","fa-circle-question","mx-1"],[1,"label_guide"],[1,"login","d-flex"],[1,"login__btn","mx-2"],[1,"fa-solid","fa-circle-user"],[1,"login__btn"],[1,"fa-solid","fa-right-to-bracket"],[1,"header__mobile","header","navbar","navbar-expand-lg","bg-light"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",2,"border","1px solid aliceblue"],[1,"text-white","fa-solid","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link"],["role","search",1,"d-flex","justify-content-center"],[1,"w-50","login__btn","mx-2"],[1,"w-50","login__btn"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"ul",4),r.Rb(5,"li",5),r.Rb(6,"span",6),r.Nb(7,"i",7),r.Qb(),r.Qb(),r.Rb(8,"li",8),r.Rb(9,"span",9),r.sc(10," \u0110ang \u0111\u1ea5u gi\xe1 "),r.Qb(),r.Qb(),r.Rb(11,"li",8),r.Rb(12,"span",9),r.sc(13,"\u0110\xe3 k\u1ebft th\xfac"),r.Qb(),r.Qb(),r.Rb(14,"li",8),r.Rb(15,"span",9),r.sc(16,"Top"),r.Qb(),r.Qb(),r.Rb(17,"li",8),r.Rb(18,"span",9),r.sc(19,"Trang qu\u1ea3n l\xfd"),r.Qb(),r.Qb(),r.Rb(20,"li",8),r.Rb(21,"span",9),r.Nb(22,"i",10),r.Rb(23,"span",11),r.sc(24,"H\u01b0\u1edbng d\u1eabn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(25,"div",12),r.Rb(26,"button",13),r.Nb(27,"i",14),r.sc(28," \u0110\u0103ng k\xfd "),r.Qb(),r.Rb(29,"button",15),r.Nb(30,"i",16),r.sc(31," \u0110\u0103ng nh\u1eadp "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(32,"nav",17),r.Rb(33,"div",1),r.Rb(34,"button",18),r.Nb(35,"i",19),r.Qb(),r.Rb(36,"div",20),r.Rb(37,"ul",21),r.Rb(38,"li",22),r.Rb(39,"p",23),r.sc(40,"Trang tr\u1ee7"),r.Qb(),r.Qb(),r.Rb(41,"li",22),r.Rb(42,"p",23),r.sc(43,"\u0110ang \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Rb(44,"li",22),r.Rb(45,"p",23),r.sc(46,"\u0110\xe3 k\u1ebft th\xfac"),r.Qb(),r.Qb(),r.Rb(47,"li",22),r.Rb(48,"p",23),r.sc(49,"Top"),r.Qb(),r.Qb(),r.Qb(),r.Rb(50,"form",24),r.Rb(51,"button",25),r.Nb(52,"i",14),r.sc(53," \u0110\u0103ng k\xfd "),r.Qb(),r.Rb(54,"button",26),r.Nb(55,"i",16),r.sc(56," \u0110\u0103ng nh\u1eadp "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[bs,Wo,us],styles:["[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}html[_ngcontent-%COMP%]{background-color:#ecf0f1}body[_ngcontent-%COMP%]{min-height:1000px}ul[_ngcontent-%COMP%]{padding:0;background:transparent!important}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}.header__mobile[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500,#c21500);padding:8px 0}.header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{color:#ecf0f1}.header__menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.logo[_ngcontent-%COMP%]{background-color:#c0392b}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px}.menu__item[_ngcontent-%COMP%]{padding:8px 12px}.menu__item.band[_ngcontent-%COMP%]{padding:0}.menu__item[_ngcontent-%COMP%]:hover{background:transparent!important;color:#fff!important}.menu__item[_ngcontent-%COMP%]:first-child:hover{cursor:pointer}.menu__link[_ngcontent-%COMP%]{color:#ecf0f1;text-transform:capitalize}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#fff!important}.login__btn[_ngcontent-%COMP%]{padding:4px;border:none;border-radius:2px;color:#e74c3c;box-shadow:2px 2px 8px hsla(0,0%,100%,.35);display:flex;align-items:center}.login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.header__info__icon[_ngcontent-%COMP%], .header__info__title[_ngcontent-%COMP%]{font-size:14px;color:#ecf0f1;cursor:pointer}.header__info__icon[_ngcontent-%COMP%]{margin-right:4px}.cl-white[_ngcontent-%COMP%]{color:#ecf0f1}.sidebar__right[_ngcontent-%COMP%]{padding:0 12px 0 0;display:flex;flex-direction:column;overflow-y:scroll;height:400px}.sidebar__right[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.logo[_ngcontent-%COMP%]{display:inline-block;border-radius:8px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}@media (max-width:992px){.header[_ngcontent-%COMP%]{padding:4px 0}.login__btn[_ngcontent-%COMP%]{padding:4px}.label_guide[_ngcontent-%COMP%], .login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .slide[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{margin-top:4px;flex-wrap:wrap}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:3px;color:#e74c3c;border:none;cursor:pointer}.category__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.category[_ngcontent-%COMP%], .form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form__filter[_ngcontent-%COMP%]{margin-top:8px}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.input__search[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}@media (max-width:768px){.form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:8px}.category__item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.category[_ngcontent-%COMP%], .input__search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:none}.header__mobile[_ngcontent-%COMP%]{display:block}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]}),Tf),Of=((Rf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Rf)},Rf.\u0275cmp=r.Gb({type:Rf,selectors:[["app-footer"]],decls:35,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12"],[1,"footer__info","band"],[1,"footer_title"],[1,"d-flex","justify-content-between","footer__content"],[1,"d-flex"],[1,"footer__item","mx-2"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-instagram"],[1,"fa-solid","fa-phone-flip"],[1,"fa-solid","fa-envelope"],[1,"col-lg-12","copyright"],[1,"w-100","text-center"]],template:function(e,t){1&e&&(r.Rb(0,"footer"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"h5"),r.sc(7," K\u1ebft N\u1ed1i v\u1edbi ch\xfang t\xf4i "),r.Qb(),r.Rb(8,"ul",5),r.Rb(9,"div",6),r.Rb(10,"li",7),r.Rb(11,"p"),r.Nb(12,"i",8),r.Rb(13,"span"),r.sc(14,"Facebook"),r.Qb(),r.Qb(),r.Qb(),r.Rb(15,"li",7),r.Rb(16,"p"),r.Nb(17,"i",9),r.Rb(18,"span"),r.sc(19,"Instagram"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(20,"div",6),r.Rb(21,"li",7),r.Rb(22,"p"),r.Nb(23,"i",10),r.Rb(24,"span"),r.sc(25,"0909.999.999"),r.Qb(),r.Qb(),r.Qb(),r.Rb(26,"li",7),r.Rb(27,"p"),r.Nb(28,"i",11),r.Rb(29,"span"),r.sc(30,"C0622G1@Codegym.com.vn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",1),r.Rb(32,"div",12),r.Rb(33,"p",13),r.sc(34,"@Copyright T\u1eadp th\u1ec3 C0622G1"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:["[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif;margin:0;padding:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}footer[_ngcontent-%COMP%]{padding-top:32px;padding-left:12px;padding-right:12px;background-color:#181821;color:#ecf0f1;font-weight:100}.footer_title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px;font-size:20px}.footer__item[_ngcontent-%COMP%]{padding:8px 0}.logo[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}.copyright[_ngcontent-%COMP%]{padding:12px}"]}),Rf);function Nf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"li",41),r.Rb(1,"span",42),r.Zb("click",(function(){r.mc(n);var e=t.$implicit,i=r.bc(2);return i.setValueCategorySearch(e.id,i.rfSearch.value.rangePrice,i.rfSearch.value.productAuctionStatus,i.rfSearch.value.name)})),r.sc(2),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit,o=t.index,a=r.bc(2);r.fc("ngClass",a.rfSearch.value.categoryID==o+1?"active":""),r.Ab(2),r.uc(" ",i.name," ")}}function Pf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",38),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.rfSearch.value)})),r.Rb(1,"div",2),r.Rb(2,"div",33),r.Rb(3,"div",34),r.Rb(4,"div",39),r.Rb(5,"ul",40),r.Rb(6,"li",41),r.Rb(7,"span",42),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.setValueCategorySearch("",e.rfSearch.value.rangePrice,e.rfSearch.value.productAuctionStatus,e.rfSearch.value.name)})),r.sc(8," T\u1ea5t c\u1ea3 "),r.Qb(),r.Qb(),r.rc(9,Nf,3,2,"li",43),r.Qb(),r.Rb(10,"form",44),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.rfSearch.value)})),r.Rb(11,"div",45),r.Nb(12,"input",46),r.Rb(13,"button",47),r.sc(14,"T\xecm ki\u1ebfm"),r.Qb(),r.Qb(),r.Rb(15,"select",48),r.Zb("change",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.rfSearch.value)})),r.Rb(16,"option",49),r.sc(17,"--Ch\u1ecdn m\u1ee9c gi\xe1--"),r.Qb(),r.Rb(18,"option",50),r.sc(19,"Nh\u1ecf h\u01a1n 5 tri\u1ec7u"),r.Qb(),r.Rb(20,"option",51),r.sc(21,"Nh\u1ecf h\u01a1n 30 tri\u1ec7u"),r.Qb(),r.Rb(22,"option",52),r.sc(23,"T\u1ea5t c\u1ea3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.rfSearch),r.Ab(6),r.fc("ngClass",""==(null==i.rfSearch?null:i.rfSearch.value.categoryID)?"active":""),r.Ab(3),r.fc("ngForOf",i.categorys),r.Ab(1),r.fc("formGroup",i.rfSearch)}}function Df(e,t){if(1&e){var n=r.Sb();r.Rb(0,"li",70),r.Rb(1,"img",71),r.Zb("click",(function(e){r.mc(n);var i=t.index,o=r.bc().index;return r.bc(2).changeImage(e,o,i)})),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit,o=t.index,a=r.bc().index;r.Db("image__item img-selected",a,""),r.gc("value",o),r.Ab(1),r.gc("src",i.url,r.oc)}}var Mf=function(e){return["/auction/",e]};function Ff(e,t){if(1&e&&(r.Rb(0,"button",72),r.Rb(1,"span",73),r.sc(2,"\u0110\u1ea5u gi\xe1"),r.Qb(),r.Qb()),2&e){var n=r.bc().$implicit;r.fc("routerLink",r.jc(1,Mf,n.id))}}function jf(e,t){if(1&e&&(r.Rb(0,"button",74),r.Rb(1,"span",75),r.sc(2,"Tham gia"),r.Qb(),r.Qb()),2&e){var n=r.bc().$implicit;r.fc("routerLink",r.jc(1,Mf,n.id))}}function Qf(e,t){if(1&e&&(r.Rb(0,"button",76),r.Rb(1,"span",77),r.sc(2,"Xem th\xeam"),r.Qb(),r.Qb()),2&e){var n=r.bc().$implicit;r.fc("routerLink",r.jc(1,Mf,n.id))}}function Lf(e,t){if(1&e&&(r.Rb(0,"div",54),r.Rb(1,"div",55),r.Nb(2,"img",56),r.Rb(3,"ul",57),r.rc(4,Df,2,5,"li",58),r.Qb(),r.Rb(5,"div",59),r.Rb(6,"p",60),r.sc(7),r.cc(8,"titlecase"),r.Qb(),r.Rb(9,"span",61),r.sc(10),r.Qb(),r.Rb(11,"p",62),r.sc(12),r.cc(13,"currency"),r.Rb(14,"sup"),r.sc(15,"\u0111"),r.Qb(),r.Qb(),r.Rb(16,"p",63),r.Rb(17,"span",64),r.sc(18,"09"),r.Qb(),r.Rb(19,"span",65),r.sc(20,":"),r.Qb(),r.Rb(21,"span",64),r.sc(22,"09"),r.Qb(),r.Rb(23,"span",65),r.sc(24,":"),r.Qb(),r.Rb(25,"span",64),r.sc(26,"09"),r.Qb(),r.Qb(),r.Rb(27,"div",66),r.rc(28,Ff,3,3,"button",67),r.rc(29,jf,3,3,"button",68),r.rc(30,Qf,3,3,"button",69),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e){var n=t.$implicit,i=t.index;r.Ab(2),r.hc("id","image__main",i,""),r.gc("src",null==n.imgUrlProducts[0]?null:n.imgUrlProducts[0].url,r.oc),r.Ab(2),r.fc("ngForOf",n.imgUrlProducts),r.Ab(2),r.gc("title",n.name),r.Ab(1),r.tc(r.dc(8,11,n.name)),r.Ab(2),r.fc("ngClass",1==(null==n.auctionStatus?null:n.auctionStatus.id)?"auction":2==(null==n.auctionStatus?null:n.auctionStatus.id)?"auctioning":3==(null==n.auctionStatus?null:n.auctionStatus.id)?"auctioned":""),r.Ab(1),r.uc(" ",n.auctionStatus.name," "),r.Ab(2),r.uc("",r.ec(13,13,n.initialPrice,"VND")," "),r.Ab(16),r.fc("ngIf",1==(null==n.auctionStatus?null:n.auctionStatus.id)),r.Ab(1),r.fc("ngIf",2==(null==n.auctionStatus?null:n.auctionStatus.id)),r.Ab(1),r.fc("ngIf",3==(null==n.auctionStatus?null:n.auctionStatus.id))}}function Uf(e,t){if(1&e&&(r.Rb(0,"div",33),r.rc(1,Lf,31,16,"div",53),r.Qb()),2&e){var n=r.bc();r.Ab(1),r.fc("ngForOf",n.pageProducts.content)}}function Vf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",78),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPageNumber(null==e.rfSearch?null:e.rfSearch.value,e.pageHasNext+1)})),r.sc(1,"Xem th\xeam"),r.Qb()}}var Bf,qf=((Bf=function(){function e(t,n,r,i){_classCallCheck(this,e),this._productService=t,this._formBuilder=n,this._categoryService=r,this._userService=i,this.pageHasNext=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.rfSearch=this._formBuilder.group({name:[""],categoryID:[""],rangePrice:["999999999999999999"],productAuctionStatus:[""]}),this._categoryService.getListCategory().subscribe((function(t){e.categorys=t})),this.gotoPage(this.rfSearch.value),this.selectedChangImage()}},{key:"gotoPage",value:function(e){var t=this;this._productService.getAllAndSearch(this.rfSearch.value).subscribe((function(e){t.pageProducts=e,console.log(e)})),this.pageHasNext=0}},{key:"gotoPageNumber",value:function(e,t){var n=this;this.pageHasNext+=1,this._productService.getAllAndSearchToPage(this.rfSearch.value,t).subscribe((function(e){e.content.forEach((function(e){n.pageProducts.content.push(e)}))}))}},{key:"setValueCategorySearch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;this.rfSearch.setValue({name:r,categoryID:e,rangePrice:t,productAuctionStatus:n}),this.gotoPage(this.rfSearch.value)}},{key:"changeImage",value:function(e,t,n){var r=e.target.src,i=document.querySelectorAll(".img-selected"+t);document.getElementById("image__main"+t).setAttribute("src",r),i.forEach((function(e){e.getAttribute("value")==n+""?e.classList.add("actived"):e.classList.remove("actived")}))}},{key:"selectedChangImage",value:function(){setTimeout((function(){var e=document.querySelectorAll(".carousel__images");console.log(e),e.forEach((function(e){var t;null===(t=e.children[0])||void 0===t||t.classList.add("actived")}))}),500)}},{key:"getTop",value:function(){this._userService.findTopUser().subscribe((function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Bf)(r.Mb(zu),r.Mb(Qs),r.Mb(Ku),r.Mb(Yu))},Bf.\u0275cmp=r.Gb({type:Bf,selectors:[["app-home"]],decls:66,vars:3,consts:[[1,"app"],[1,"slide"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-lg-10","slide"],["id","carouselExampleCaptions","data-bs-ride","false",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://salt.tikicdn.com/cache/w1080/ts/tikimsp/c9/9b/c2/2d30734356a0f9577a966c7c673ac5c4.png.webp","alt","...","height","400",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://salt.tikicdn.com/cache/w1080/ts/tikimsp/e5/0f/43/31d7c26ed78fab94754e29ad66c67980.png.webp","alt","...","height","400",1,"d-block","w-100"],["src","https://media-cdn-v2.laodong.vn/storage/newsportal/2018/12/1/644302/IMG_1554.jpg","alt","...","height","400",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-lg-2","sidebar__right"],[1,"my__card","w-100",2,"border","none"],[1,"my__card__body"],[1,"d-flex","justify-content-between"],[1,"fa-solid","fa-crown","text-warning"],[1,"text-danger"],["src","https://gomtruongan.vn/uploads/products/15082022074910/bat-tu-bao-ty-huu-da-ngoc-hoang-long-kem-de-co-nho_15082022074910.jpg","height","120px","alt","",1,"d-block","w-100"],["src","https://gomtruongan.vn/uploads/products/11032021094801/dieu-bat-men-ran-hoa-sen-boc-dong_11032021094801.jpg","height","120px","alt","",1,"d-block","w-100"],["src","https://gomtruongan.vn/uploads/products/11032021075646/dieu-bat-men-ran-boc-dong-son-thuy_11032021075646.jpg","height","120px","alt","",1,"d-block","w-100"],["class","filter",3,"formGroup","ngSubmit",4,"ngIf"],[1,"content"],[1,"row"],[1,"col-lg-12"],["class","row",4,"ngIf"],[1,"more","mt-2","mb-2","d-flex","justify-content-center"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"filter",3,"formGroup","ngSubmit"],[1,"filter"],[1,"category"],[1,"category__item",3,"ngClass"],[1,"category_text",3,"click"],["class","category__item",3,"ngClass",4,"ngFor","ngForOf"],["action","",1,"form__filter","d-flex",3,"formGroup","ngSubmit"],[1,"form_search"],["type","text","formControlName","name","placeholder","B\u1ea1n c\u1ea7n t\xecm g\xec?...",1,"input__search"],[1,"btn__search"],["formControlName","rangePrice",1,"select__price",3,"change"],["value","999999999999999999",1,"text-center"],["value","5000000",1,"text-center"],["value","30000000",1,"text-center"],["value","50000000",1,"text-center"],["class","col-lg-3 col-sm-6 col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-sm-6","col-12","col-md-4","mb-4"],[1,"card","product"],["height","248","alt","",1,"d-block","w-100","card-img",3,"id","src"],[1,"carousel__images","d-flex","justify-content-center"],[3,"value","class",4,"ngFor","ngForOf"],[1,"card-body"],[1,"mb-2","card__title",3,"title"],[1,"product-status",3,"ngClass"],[1,"product__price"],[1,"time"],[1,"time__hh","mx-2"],[1,"mx-2"],[1,"modal__product"],["class"," btn__auction",3,"routerLink",4,"ngIf"],["class"," btn__auctioning",3,"routerLink",4,"ngIf"],["class"," btn btn__auctioned",3,"routerLink",4,"ngIf"],[3,"value"],["height","30","width","","alt","",1,"d-block","w-100",3,"src","click"],[1,"btn__auction",3,"routerLink"],[1,"btn__auction--title"],[1,"btn__auctioning",3,"routerLink"],[1,"btn__auctioning--title"],[1,"btn","btn__auctioned",3,"routerLink"],[1,"btn__auctioned--title"],[1,"btn","btn-outline-danger",3,"click"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Nb(1,"app-header"),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Nb(8,"button",7),r.Nb(9,"button",8),r.Nb(10,"button",9),r.Qb(),r.Rb(11,"div",10),r.Rb(12,"div",11),r.Nb(13,"img",12),r.Nb(14,"div",13),r.Qb(),r.Rb(15,"div",14),r.Nb(16,"img",15),r.Nb(17,"div",13),r.Qb(),r.Rb(18,"div",14),r.Nb(19,"img",16),r.Nb(20,"div",13),r.Qb(),r.Qb(),r.Rb(21,"button",17),r.Nb(22,"span",18),r.Rb(23,"span",19),r.sc(24,"Previous"),r.Qb(),r.Qb(),r.Rb(25,"button",20),r.Nb(26,"span",21),r.Rb(27,"span",19),r.sc(28,"Next"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",22),r.Rb(30,"div",23),r.Rb(31,"div",24),r.Rb(32,"p",25),r.Rb(33,"span"),r.Nb(34,"i",26),r.sc(35," 1"),r.Qb(),r.Rb(36,"span",27),r.sc(37,"\u0111 90.000.000"),r.Qb(),r.Qb(),r.Qb(),r.Nb(38,"img",28),r.Qb(),r.Rb(39,"div",23),r.Rb(40,"div",24),r.Rb(41,"p",25),r.Rb(42,"span"),r.Nb(43,"i",26),r.sc(44," 2"),r.Qb(),r.Rb(45,"span",27),r.sc(46,"\u0111 80.000.000"),r.Qb(),r.Qb(),r.Qb(),r.Nb(47,"img",29),r.Qb(),r.Rb(48,"div",23),r.Rb(49,"div",24),r.Rb(50,"p",25),r.Rb(51,"span"),r.Nb(52,"i",26),r.sc(53," 3"),r.Qb(),r.Rb(54,"span",27),r.sc(55,"\u0111 80.000.000"),r.Qb(),r.Qb(),r.Qb(),r.Nb(56,"img",30),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(57,Pf,24,4,"form",31),r.Rb(58,"div",32),r.Rb(59,"div",2),r.Rb(60,"div",33),r.Rb(61,"div",34),r.rc(62,Uf,2,1,"div",35),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(63,"div",36),r.rc(64,Vf,2,0,"button",37),r.Qb(),r.Nb(65,"app-footer"),r.Qb()),2&e&&(r.Ab(57),r.fc("ngIf",t.rfSearch),r.Ab(5),r.fc("ngIf",t.pageProducts),r.Ab(2),r.fc("ngIf",t.pageHasNext+1<(null==t.pageProducts?null:t.pageProducts.totalPages)))},directives:[Af,we,Of,bs,Wo,_s,be,ye,Qo,Ko,Ds,Sa,Ea,Oa,$i],pipes:[Me,je],styles:["[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}html[_ngcontent-%COMP%]{background-color:#ecf0f1}body[_ngcontent-%COMP%]{min-height:1000px}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}.header__mobile[_ngcontent-%COMP%]{display:none}.app[_ngcontent-%COMP%]{background:rgba(255,198,189,.15)}.product__price[_ngcontent-%COMP%]{padding-left:12px;font-size:24px;text-align:right;color:#e74c3c;position:absolute;top:214px;right:0;left:0;margin:0;background:rgba(255,189,190,.27)}.product__price[_ngcontent-%COMP%]:first-letter{margin-right:8px;color:transparent}.form__filter[_ngcontent-%COMP%]{flex:1;width:40%;justify-content:space-between}.login__btn[_ngcontent-%COMP%]{padding:4px;border:none;border-radius:2px;color:#e74c3c;box-shadow:2px 2px 8px hsla(0,0%,100%,.35);display:flex;align-items:center}.login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.cl-white[_ngcontent-%COMP%]{color:#ecf0f1}.sidebar__left[_ngcontent-%COMP%], .sidebar__right[_ngcontent-%COMP%]{background-color:#ecf0f1}.sidebar__right[_ngcontent-%COMP%]{background:transparent}.sidebar__right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.sidebar__right[_ngcontent-%COMP%]   .my__card[_ngcontent-%COMP%]{margin-bottom:8px}.sidebar__right[_ngcontent-%COMP%]{padding:0 12px 0 0;display:flex;flex-direction:column;overflow-y:scroll;height:400px}.sidebar__right[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter[_ngcontent-%COMP%]{padding-top:12px;width:100%}.filter[_ngcontent-%COMP%], .form_search[_ngcontent-%COMP%]{display:flex;align-items:center}.form_search[_ngcontent-%COMP%]{width:50%;padding-right:8px;position:relative}.btn__search[_ngcontent-%COMP%]{position:absolute;right:12px;border-radius:25px;border:none;background:#e74c3c;color:#fff;padding:4px 8px}.input__search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #e74c3c;border-radius:25px;outline:none;width:50%}.input__search[_ngcontent-%COMP%]{width:100%}.my__card[_ngcontent-%COMP%]{border-radius:2px;box-shadow:1px 1px 8px rgba(122,119,119,.35)}.my__card__body[_ngcontent-%COMP%]{padding:4px 8px;background-color:#ecf0f1}.my__card__img[_ngcontent-%COMP%]{display:block;width:100%;border-radius:2px 2px 0 0}.filter[_ngcontent-%COMP%]{margin-top:24px}.category[_ngcontent-%COMP%]{display:flex}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;color:#e74c3c;border:1px solid #e74c3c;cursor:pointer}.category__item[_ngcontent-%COMP%], .category__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.category__item.active[_ngcontent-%COMP%], .category__item[_ngcontent-%COMP%]:hover{background-color:#e74c3c;color:#ecf0f1}.content[_ngcontent-%COMP%]{margin-top:32px}.card[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:1px 1px 8px rgba(0,0,0,.35);position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 17px rgba(0,0,0,.35)}.card[_ngcontent-%COMP%]:hover   .modal__product[_ngcontent-%COMP%]{display:flex}.modal__product[_ngcontent-%COMP%]{display:none;position:absolute;bottom:0;left:0;width:100%;height:30%;background-color:rgba(122,121,121,.22);animation:top-down .3s ease-in-out;border-radius:0 0 4px 4px}@keyframes top-down{0%{bottom:-30%}to{bottom:0}0%{opacity:0}to{opacity:1%}}.card-img[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0}.btn__auction--title[_ngcontent-%COMP%], .btn__auctioned--title[_ngcontent-%COMP%], .btn__auctioning--title[_ngcontent-%COMP%]{font-size:20px;color:#fff}.btn__auction[_ngcontent-%COMP%], .btn__auctioned[_ngcontent-%COMP%], .btn__auctioning[_ngcontent-%COMP%]{border-radius:2px;position:absolute;border:none;padding:4px;min-height:36px;display:flex;align-items:center;justify-content:center;width:75%;top:50%;transform:translateY(-50%);left:50%;transform:translateX(-50%)}.btn__auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.btn__auction[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500)}.btn__auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.card__title[_ngcontent-%COMP%]{padding-bottom:4px;color:#4d5154;font-size:14px!important;overflow:hidden;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;text-overflow:ellipsis;min-height:46px;border-bottom:1px solid rgba(122,123,124,.24)}.time[_ngcontent-%COMP%], .timed[_ngcontent-%COMP%]{font-size:28px;font-weight:500;color:#e74c3c;display:flex;justify-content:center}.product[_ngcontent-%COMP%]{position:relative}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:4px;cursor:pointer}.image__item.actived[_ngcontent-%COMP%]{border:2px solid rgba(231,76,60,.41);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.product-status[_ngcontent-%COMP%]{top:0;left:0;position:absolute;display:block;padding:4px 8px;background:linear-gradient(90deg,#c21500,#ffc500);font-size:16px;color:#ecf0f1;border-radius:4px 0 4px 0;min-width:60%}.product-status.auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.product-status.auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.auctioned[_ngcontent-%COMP%]{background-color:#3498db!important}.logo[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}.copyright[_ngcontent-%COMP%]{padding:12px 0}@media (max-width:992px){.header[_ngcontent-%COMP%]{padding:4px 0}.login__btn[_ngcontent-%COMP%]{padding:4px}.label_guide[_ngcontent-%COMP%], .login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .slide[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{margin-top:4px;flex-wrap:wrap}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:3px;color:red;border:1px solid #e74c3c;cursor:pointer}.category[_ngcontent-%COMP%], .form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form__filter[_ngcontent-%COMP%]{margin-top:8px}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.input__search[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}@media (max-width:768px){.form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:8px}.category__item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.category[_ngcontent-%COMP%], .input__search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:none}.header__mobile[_ngcontent-%COMP%]{display:block}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]}),Bf);function Hf(e,t){if(1&e&&(r.Rb(0,"option",47),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.gc("value",n.id),r.Ab(1),r.tc(n.name)}}function Gf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",30),r.Zb("ngSubmit",(function(){return r.mc(n),r.bc().goToPage(0)})),r.Rb(1,"div",1),r.Rb(2,"div",31),r.Rb(3,"div",32),r.Nb(4,"input",33),r.Rb(5,"label",34),r.sc(6,"M\xe3 th\xe0nh vi\xean:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"div",31),r.Rb(8,"div",32),r.Nb(9,"input",35),r.Rb(10,"label",36),r.sc(11,"H\u1ecd v\xe0 t\xean:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"div",31),r.Rb(13,"div",32),r.Nb(14,"input",37),r.Rb(15,"label",38),r.sc(16,"\u0110\u1ecba ch\u1ec9:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",31),r.Rb(18,"div",32),r.Nb(19,"input",39),r.Rb(20,"label",40),r.sc(21,"Email:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"div",31),r.Rb(23,"div",32),r.Rb(24,"select",41),r.Rb(25,"option",42),r.sc(26,"--Ch\u1ecdn--"),r.Qb(),r.rc(27,Hf,2,2,"option",43),r.Qb(),r.Rb(28,"label",44),r.sc(29,"X\u1ebfp h\u1ea1ng:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",45),r.Nb(31,"input",46),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.rfSearch),r.Ab(27),r.fc("ngForOf",i.userTypeList)}}var zf=function(e){return["/user/edit",e]};function Kf(e,t){if(1&e&&(r.Rb(0,"tr"),r.Rb(1,"td"),r.Rb(2,"div",22),r.Nb(3,"input",49),r.Qb(),r.Qb(),r.Rb(4,"td"),r.sc(5),r.Qb(),r.Rb(6,"td"),r.sc(7),r.Qb(),r.Rb(8,"td"),r.sc(9),r.Qb(),r.Rb(10,"td"),r.sc(11),r.Qb(),r.Rb(12,"td"),r.sc(13),r.Qb(),r.Rb(14,"td"),r.sc(15),r.Qb(),r.Rb(16,"td"),r.sc(17),r.Qb(),r.Nb(18,"td"),r.Rb(19,"td"),r.sc(20),r.Qb(),r.Rb(21,"td"),r.Rb(22,"button",50),r.Nb(23,"i",51),r.Qb(),r.sc(24," | "),r.Rb(25,"button",52),r.Nb(26,"i",18),r.Qb(),r.Qb(),r.Qb()),2&e){var n=t.$implicit,i=t.index,o=r.bc(2);r.Ab(5),r.tc(3*o.pageUsers.number+i+1),r.Ab(2),r.tc(n.id),r.Ab(2),r.vc("",n.firstName," ",n.lastName,""),r.Ab(2),r.wc("",n.address.town,", ",n.address.district,", ",n.address.city," "),r.Ab(2),r.tc(n.userType.name),r.Ab(2),r.tc(n.email),r.Ab(2),r.tc(n.phone),r.Ab(3),r.tc(n.pointDedication),r.Ab(2),r.fc("routerLink",r.jc(13,zf,n.id)),r.Ab(3),r.fc("routerLink",r.jc(15,zf,n.id))}}function Wf(e,t){if(1&e&&(r.Rb(0,"tbody"),r.rc(1,Kf,27,17,"tr",48),r.Qb()),2&e){var n=r.bc();r.Ab(1),r.fc("ngForOf",n.pageUsers.content)}}function Yf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"li",27),r.Rb(1,"span",28),r.Zb("click",(function(){r.mc(n);var e=t.index;return r.bc().goToPage(e)})),r.sc(2),r.Qb(),r.Qb()}if(2&e){var i=t.index,o=r.bc();r.fc("ngClass",i==o.pageUsers.number?"active":""),r.Ab(2),r.tc(i+1)}}var Zf,$f=function(){return[]},Xf=((Zf=function(){function e(t,n){_classCallCheck(this,e),this._userService=t,this._formBuilder=n,this.userTypeList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._userService.findAllUserType().subscribe((function(t){e.userTypeList=t,e.rfSearch=e._formBuilder.group({idSearch:[""],nameSearch:[""],addressSearch:[""],emailSearch:[""],userTypeSearch:[""]}),console.log(e.rfSearch.value),e.onSearchAndPage(),console.log(e.onSearchAndPage())}))}},{key:"onSearchAndPage",value:function(){var e=this;this._userService.searchBy(this.rfSearch.value,0).subscribe((function(t){e.pageUsers=t,console.log(e.pageUsers)}))}},{key:"goToPage",value:function(e){var t=this;this._userService.searchBy(this.rfSearch.value,e).subscribe((function(e){console.log(e.content),t.pageUsers=e}))}}]),e}()).\u0275fac=function(e){return new(e||Zf)(r.Mb(Yu),r.Mb(Qs))},Zf.\u0275cmp=r.Gb({type:Zf,selectors:[["app-user-list"]],decls:85,vars:6,consts:[[1,"container-fluid",2,"height","100%"],[1,"row"],[1,"col-lg-2","sidebar__left",2,"height","100vh"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"col-lg-10"],[1,"mt-5"],[1,"mb-5"],[1,"mt-2","row"],[3,"formGroup","ngSubmit",4,"ngIf"],["type","button",1,"btn","btn-danger"],[1,"fa-regular","fa-trash-can"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-user-plus"],[1,"mt-2","row","container",2,"padding-left","2%"],[1,"mt-2","table","table-striped","table-bordered"],[1,"form-check"],["id","checkAll","type","checkbox","value","",1,"form-check-input"],[4,"ngIf"],["aria-label","Page navigation example",1,"p-0","d-flex","justify-content-end"],[1,"pagination"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"col-2"],[1,"form-floating","mb-4"],["formControlName","idSearch","type","text","placeholder","M\xe3 th\xe0nh vi\xean:","id","floatingId",1,"form-control","form-control-underlined"],["for","floatingId"],["formControlName","nameSearch","id","floatingName","type","text","placeholder","H\u1ecd v\xe0 t\xean:",1,"form-control","form-control-underlined"],["for","floatingName"],["formControlName","addressSearch","id","floatingAddress","type","text","placeholder","\u0110\u1ecba ch\u1ec9:",1,"form-control","form-control-underlined"],["for","floatingAddress"],["formControlName","emailSearch","id","floatingEmail","type","email","placeholder","Email:",1,"form-control","form-control-underlined"],["for","floatingEmail"],["formControlName","userTypeSearch","name","classroomSearch",1,"form-select","form-control-underlined",2,"padding-left","3px"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingEmail",1,"d-flex","justify-content-start",2,"padding-left","0"],[1,"col-1"],["type","submit","value","L\u1ecdc k\u1ebft qu\u1ea3",1,"btn","btn-info","myMT"],[3,"value"],[4,"ngFor","ngForOf"],["type","checkbox","value","",1,"form-check-input"],["type","button","data-bs-toggle","modal","data-bs-target","#modalDelete",1,"btn","btn-info",3,"routerLink"],[1,"fa-solid","fa-pen-to-square",2,"color","darkgoldenrod"],["type","button","data-bs-toggle","modal","data-bs-target","#modalDelete",1,"btn","btn-danger",3,"routerLink"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"nav"),r.Rb(4,"ul",3),r.Rb(5,"li",4),r.Rb(6,"a",5),r.Nb(7,"i",6),r.sc(8," Trang ch\u1ee7 "),r.Rb(9,"span",7),r.sc(10,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"li",4),r.Rb(12,"a",5),r.Nb(13,"i",8),r.sc(14," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(15,"span",7),r.sc(16,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"li",4),r.Rb(18,"a",5),r.Nb(19,"i",9),r.sc(20," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(21,"span",7),r.sc(22,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"li",4),r.Rb(24,"a",5),r.Nb(25,"i",10),r.sc(26," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(27,"span",7),r.sc(28,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",11),r.Rb(30,"h1",12),r.sc(31,"Qu\u1ea3n l\xfd th\xe0nh vi\xean"),r.Qb(),r.Nb(32,"hr",13),r.Rb(33,"div",14),r.rc(34,Gf,32,2,"form",15),r.Rb(35,"div"),r.Rb(36,"a",16),r.sc(37,"Xo\xe1 "),r.Nb(38,"i",17),r.Qb(),r.Rb(39,"a",16),r.sc(40,"Kho\xe1 "),r.Nb(41,"i",18),r.Qb(),r.Rb(42,"a",16),r.sc(43,"M\u1edf kho\xe1 "),r.Nb(44,"i",18),r.Qb(),r.Rb(45,"a",16),r.sc(46,"Th\xeam m\u1edbi "),r.Nb(47,"i",19),r.Qb(),r.Qb(),r.Rb(48,"div",20),r.Rb(49,"table",21),r.Rb(50,"thead"),r.Rb(51,"tr"),r.Rb(52,"th"),r.Rb(53,"div",22),r.Nb(54,"input",23),r.Qb(),r.Qb(),r.Rb(55,"th"),r.sc(56,"STT"),r.Qb(),r.Rb(57,"th"),r.sc(58,"M\xe3 th\xe0nh vi\xean"),r.Qb(),r.Rb(59,"th"),r.sc(60,"T\xean th\xe0nh vi\xean"),r.Qb(),r.Rb(61,"th"),r.sc(62,"\u0110\u1ecba ch\u1ec9"),r.Qb(),r.Rb(63,"th"),r.sc(64,"X\u1ebfp h\u1ea1ng"),r.Qb(),r.Rb(65,"th"),r.sc(66,"Email"),r.Qb(),r.Rb(67,"th"),r.sc(68,"S\u0110T"),r.Qb(),r.Rb(69,"th"),r.sc(70,"L\u1ea7n \u0111\u0103ng nh\u1eadp cu\u1ed1i"),r.Qb(),r.Rb(71,"th"),r.sc(72,"\u0110i\u1ec3m c\u1ed1ng hi\u1ebfn"),r.Qb(),r.Rb(73,"th"),r.sc(74,"T\xednh n\u0103ng"),r.Qb(),r.Qb(),r.Qb(),r.rc(75,Wf,2,1,"tbody",24),r.Qb(),r.Rb(76,"nav",25),r.Rb(77,"ul",26),r.Rb(78,"li",27),r.Rb(79,"span",28),r.Zb("click",(function(){return t.goToPage(t.pageUsers.number-1)})),r.sc(80," Previous "),r.Qb(),r.Qb(),r.rc(81,Yf,3,2,"li",29),r.Rb(82,"li",27),r.Rb(83,"a",28),r.Zb("click",(function(){return t.goToPage(t.pageUsers.number+1)})),r.sc(84,"Next"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(34),r.fc("ngIf",t.rfSearch&&t.pageUsers),r.Ab(41),r.fc("ngIf",t.pageUsers),r.Ab(3),r.fc("ngClass",0==t.pageUsers.number?"disabled":""),r.Ab(3),r.fc("ngForOf",r.ic(5,$f).constructor(t.pageUsers.totalPages)),r.Ab(1),r.fc("ngClass",t.pageUsers.totalPages==t.pageUsers.number+1?"disabled":""))},directives:[we,be,ye,bs,Wo,_s,Qo,Ko,Ds,Sa,Ea,Oa,$i],styles:[""]}),Zf);function Jf(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",19),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.saveUser(e.id)})),r.Rb(1,"div",1),r.Rb(2,"div",20),r.Rb(3,"div",21),r.Rb(4,"h3"),r.sc(5,"S\u1eeda h\u1ed3 s\u01a1 c\xe1 nh\xe2n"),r.Qb(),r.Qb(),r.Qb(),r.Nb(6,"div",22),r.Qb(),r.Rb(7,"div",1),r.Rb(8,"div",23),r.Rb(9,"div",24),r.Rb(10,"div",25),r.Nb(11,"input",26),r.Rb(12,"label",27),r.sc(13,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(14,"span",28),r.Nb(15,"i",29),r.Qb(),r.Qb(),r.Qb(),r.Rb(16,"div",23),r.Rb(17,"div",24),r.Rb(18,"div",25),r.Nb(19,"input",30),r.Rb(20,"label",31),r.sc(21,"T\xean"),r.Qb(),r.Qb(),r.Rb(22,"span",32),r.Nb(23,"i",29),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"div",1),r.Rb(25,"div",23),r.Rb(26,"div",24),r.Rb(27,"div",25),r.Nb(28,"input",33),r.Rb(29,"label",34),r.sc(30,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(31,"span",35),r.Nb(32,"i",29),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",23),r.Rb(34,"div",24),r.Rb(35,"div",25),r.Nb(36,"input",36),r.Rb(37,"label",37),r.sc(38,"M\xe3 th\xe0nh vi\xean"),r.Qb(),r.Qb(),r.Rb(39,"span",38),r.Nb(40,"i",39),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(41,"div",1),r.Rb(42,"div",23),r.Rb(43,"div",24),r.Rb(44,"div",25),r.Nb(45,"input",40),r.Rb(46,"label",41),r.sc(47,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(48,"span",42),r.Nb(49,"i",43),r.Qb(),r.Qb(),r.Qb(),r.Rb(50,"div",23),r.Rb(51,"div",24),r.Rb(52,"div",25),r.Nb(53,"input",44),r.Rb(54,"label",45),r.sc(55,"CMND"),r.Qb(),r.Qb(),r.Rb(56,"span",46),r.Nb(57,"i",47),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(58,"div",1),r.Rb(59,"div",23),r.Rb(60,"div",24),r.Rb(61,"div",25),r.Nb(62,"input",48),r.Rb(63,"label",49),r.sc(64,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(65,"span",50),r.Nb(66,"i",51),r.Qb(),r.Qb(),r.Qb(),r.Rb(67,"div",23),r.Rb(68,"div",24),r.Rb(69,"div",25),r.Nb(70,"input",52),r.Rb(71,"label",53),r.sc(72,"Email"),r.Qb(),r.Qb(),r.Rb(73,"span",54),r.Nb(74,"i",55),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(75,"div",56),r.Rb(76,"div",23),r.Rb(77,"div",57),r.Nb(78,"input",58),r.Rb(79,"label",59),r.sc(80,"T\u1ec9nh /Th\xe0nh ph\u1ed1:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(81,"div",23),r.Rb(82,"div",57),r.Nb(83,"input",60),r.Rb(84,"label",61),r.sc(85,"Huy\u1ec7n/Qu\u1eadn :"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(86,"div",56),r.Rb(87,"div",62),r.Rb(88,"div",57),r.Nb(89,"input",63),r.Rb(90,"label",64),r.sc(91,"X\xe3/Ph\u01b0\u1eddng:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(92,"div",65),r.Rb(93,"div",24),r.Rb(94,"div",25),r.Nb(95,"input",66),r.Rb(96,"label",67),r.sc(97,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(98,"span",68),r.Nb(99,"i",69),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(100,"div",1),r.Rb(101,"div",70),r.Rb(102,"button",71),r.sc(103,"C\u1eadp nh\u1eadt"),r.Qb(),r.Rb(104,"button",72),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.reset(e.id)})),r.sc(105,"\u0110\u1eb7t l\u1ea1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.rfUser),r.Ab(11),r.fc("ngClass",i.rfUser.controls.firstName.touched?i.rfUser.controls.firstName.errors?"is-invalid":"is-valid":""),r.Ab(8),r.fc("ngClass",i.rfUser.controls.lastName.touched?i.rfUser.controls.lastName.errors?"is-invalid":"is-valid":""),r.Ab(9),r.fc("ngClass",i.rfUser.controls.username.touched?i.rfUser.controls.username.errors?"is-invalid":"is-valid":""),r.Ab(17),r.fc("ngClass",i.rfUser.controls.birthDay.touched?i.rfUser.controls.birthDay.errors?"is-invalid":"is-valid":""),r.Ab(8),r.fc("ngClass",i.rfUser.controls.idCard.touched?i.rfUser.controls.idCard.errors?"is-invalid":"is-valid":""),r.Ab(9),r.fc("ngClass",i.rfUser.controls.phone.touched?i.rfUser.controls.phone.errors?"is-invalid":"is-valid":""),r.Ab(8),r.fc("ngClass",i.rfUser.controls.email.touched?i.rfUser.controls.email.errors?"is-invalid":"is-valid":""),r.Ab(8),r.fc("ngClass",i.rfUser.controls.city.touched?i.rfUser.controls.city.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngClass",i.rfUser.controls.district.touched?i.rfUser.controls.district.errors?"is-invalid":"is-valid":""),r.Ab(6),r.fc("ngClass",i.rfUser.controls.town.touched?i.rfUser.controls.town.errors?"is-invalid":"is-valid":""),r.Ab(6),r.fc("ngClass",i.rfUser.controls.detailAddress.touched?i.rfUser.controls.detailAddress.errors?"is-invalid":"is-valid":"")}}var ed,td,nd,rd,id,od,ad=((od=function(){function e(t,n,r,i){_classCallCheck(this,e),this._userService=t,this._activatedRoute=n,this._formBuilder=r,this._router=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._activatedRoute.paramMap.subscribe((function(t){e.id=+t.get("id"),console.log("Id:"+e.id),e.getById(e.id)}))}},{key:"getById",value:function(e){var t=this;return this._userService.findUserEditById(e).subscribe((function(e){console.log(e),t.rfUser=t._formBuilder.group({id:[e.id],firstName:[e.firstName],lastName:[e.lastName],email:[e.email],phone:[e.phone],detailAddress:[e.address.detailAddress],town:[e.address.town],district:[e.address.district],city:[e.address.city],country:[e.address.country],username:[e.account.username],birthDay:[e.birthDay],idCard:[e.idCard]})}))}},{key:"saveUser",value:function(e){var t=this;this.user=this.rfUser.value,this._userService.updateByAdim(e,this.user).subscribe((function(e){t._router.navigate(["/user/list"])}))}},{key:"reset",value:function(e){this.ngOnInit(),this.getById(e)}}]),e}()).\u0275fac=function(e){return new(e||od)(r.Mb(Yu),r.Mb(Ur),r.Mb(Qs),r.Mb(Zi))},od.\u0275cmp=r.Gb({type:od,selectors:[["app-user-edit"]],decls:37,vars:1,consts:[[1,"container-fluid",2,"background-color","#eee","height","100vh"],[1,"row"],[1,"col-lg-2","sidebar__left",2,"height","100vh"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"container","col-10",2,"width","75%"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"profile","row",2,"background-color","white","border-radius","20px"],[1,"col-5","bgd","d-flex","align-items-center","pl-0",2,"padding-left","0"],[1,"h-100","w-100",2,"background","url('https://images.pexels.com/photos/210661/pexels-photo-210661.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')","background-size","cover","background-repeat","no-repeat","border-top-left-radius","20px","border-bottom-left-radius","20px"],[1,"col-7","p-3"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"row","mb-3",2,"font-size","20px"],[1,"col-lg-3"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","formControlName","firstName",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","required","","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","required","","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon3",1,"input-group-text"],["type","text","id","floatingId","required","","formControlName","id","disabled","",1,"form-control"],["for","floatingId"],["id","basic-addon4",1,"input-group-text"],[1,"fa-solid","fa-id-badge"],["type","text","id","floatingDateOfBirth","required","","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["id","basic-addon5",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["type","text","id","floatingIdCard","required","","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","text","id","floatingPhone","required","","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingEmail","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-envelope"],[1,"row","mt-3"],[1,"form-floating","mb-3"],["type","text","id","floatingCity","required","","formControlName","city",1,"form-control",3,"ngClass"],["for","floatingCity",1,"d-flex","justify-content-start"],["type","text","id","floatingDistrict","required","","formControlName","district",1,"form-control",3,"ngClass"],["for","floatingDistrict",1,"d-flex","justify-content-start"],[1,"col-lg-5"],["type","text","id","floatingTown","required","","formControlName","town",1,"form-control",3,"ngClass"],["for","floatingTown",1,"d-flex","justify-content-start"],[1,"col-lg-7"],["type","text","id","floatingAddress","required","","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","mx-2"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"nav"),r.Rb(4,"ul",3),r.Rb(5,"li",4),r.Rb(6,"a",5),r.Nb(7,"i",6),r.sc(8," Trang ch\u1ee7 "),r.Rb(9,"span",7),r.sc(10,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"li",4),r.Rb(12,"a",5),r.Nb(13,"i",8),r.sc(14," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(15,"span",7),r.sc(16,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"li",4),r.Rb(18,"a",5),r.Nb(19,"i",9),r.sc(20," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(21,"span",7),r.sc(22,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"li",4),r.Rb(24,"a",5),r.Nb(25,"i",10),r.sc(26," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(27,"span",7),r.sc(28,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",11),r.Rb(30,"div",12),r.Rb(31,"div",13),r.Rb(32,"div",14),r.Rb(33,"div",15),r.Nb(34,"div",16),r.Qb(),r.Rb(35,"div",17),r.rc(36,Jf,106,12,"form",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(36),r.fc("ngIf",t.rfUser))},directives:[we,bs,Wo,_s,Qo,Ko,Ds,be,Fs],styles:[""]}),od),sd=((id=function(){function e(t,n,r){_classCallCheck(this,e),this.userSevice=t,this.router=n,this.builder=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAddUserform()}},{key:"getAddUserform",value:function(){}},{key:"addAccountUser",value:function(){var e=this;this.addUser.valid&&this.userSevice.saveaddAcountUser(this.addUser.value).subscribe((function(){return e.router.navigateByUrl("")}))}}]),e}()).\u0275fac=function(e){return new(e||id)(r.Mb(Yu),r.Mb(Zi),r.Mb(Qs))},id.\u0275cmp=r.Gb({type:id,selectors:[["app-user-add"]],decls:155,vars:1,consts:[[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","",1,"d-block","w-100"],[1,"w-50"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["data-label","DC",1,"avatar"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2",1,"form-control"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","placeholder","Name",1,"form-control"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2",1,"form-control"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2",1,"form-control"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2",1,"form-control"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth",1,"form-control"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["id","city","aria-label",".form-select-sm",1,"form-control"],["value","","selected",""],["id","district","aria-label",".form-select-sm",1,"form-control"],["id","ward","aria-label",".form-select-sm",1,"form-control"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard",1,"form-control"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],[1,"col-lg-12"],["type","button",1,"btn","btn-primary"],[1,"row","text-center","mt-3"],[2,"margin-top","10px"],[1,"container-fluid","shadow",2,"margin-top","30px","max-width","450px",3,"formGroup"],[1,"mb-2"],["type","text","formControlName","fisrtName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","text","formControlName","username",1,"form-control"],["type","date","formControlName","birthDay",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","idCard",1,"form-control"],["type","text","formControlName","detailAddress",1,"form-control"],["type","text","formControlName","town",1,"form-control"],["type","text","formControlName","district",1,"form-control"],["type","text","formControlName","city",1,"form-control"],[1,"text-center","mb-4",2,"margin-top","20px"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px"],["routerLink",""],[1,"btn","btn-primary",2,"margin-right","10px"],["type","reset",1,"btn","btn-primary"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Nb(6,"img",6),r.Qb(),r.Rb(7,"div",7),r.Rb(8,"div",8),r.Rb(9,"div",9),r.Rb(10,"div",10),r.Rb(11,"h3"),r.sc(12,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Qb(),r.Qb(),r.Qb(),r.Nb(13,"div",11),r.Qb(),r.Nb(14,"div",12),r.Rb(15,"div",8),r.Rb(16,"div",13),r.Nb(17,"div",14),r.Qb(),r.Qb(),r.Nb(18,"div",15),r.Rb(19,"div",8),r.Rb(20,"div",16),r.Rb(21,"div",17),r.Rb(22,"div",18),r.Nb(23,"input",19),r.Rb(24,"label",20),r.sc(25,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(26,"span",21),r.Nb(27,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",16),r.Rb(29,"div",17),r.Rb(30,"div",18),r.Nb(31,"input",23),r.Rb(32,"label",24),r.sc(33,"T\xean"),r.Qb(),r.Qb(),r.Rb(34,"span",25),r.Nb(35,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(36,"div",8),r.Rb(37,"div",16),r.Rb(38,"div",17),r.Rb(39,"div",18),r.Nb(40,"input",26),r.Rb(41,"label",27),r.sc(42,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(43,"span",28),r.Nb(44,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(45,"div",16),r.Rb(46,"div",17),r.Rb(47,"div",18),r.Nb(48,"input",29),r.Rb(49,"label",30),r.sc(50,"Email"),r.Qb(),r.Qb(),r.Rb(51,"span",31),r.Nb(52,"i",32),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(53,"div",8),r.Rb(54,"div",16),r.Rb(55,"div",17),r.Rb(56,"div",18),r.Nb(57,"input",33),r.Rb(58,"label",34),r.sc(59,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(60,"span",35),r.Nb(61,"i",36),r.Qb(),r.Qb(),r.Qb(),r.Rb(62,"div",16),r.Rb(63,"div",17),r.Rb(64,"div",18),r.Nb(65,"input",37),r.Rb(66,"label",38),r.sc(67,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(68,"span",39),r.Nb(69,"i",40),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(70,"div",8),r.Rb(71,"div",41),r.Rb(72,"div"),r.Rb(73,"select",42),r.Rb(74,"option",43),r.sc(75,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(76,"div",41),r.Rb(77,"div"),r.Rb(78,"select",44),r.Rb(79,"option",43),r.sc(80,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(81,"div",41),r.Rb(82,"div"),r.Rb(83,"select",45),r.Rb(84,"option",43),r.sc(85,"Ch\u1ecdn ph\u01b0\u1eddng x\xe3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(86,"div",46),r.Rb(87,"div",16),r.Rb(88,"div",17),r.Rb(89,"div",18),r.Nb(90,"input",47),r.Rb(91,"label",48),r.sc(92,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(93,"span",49),r.Nb(94,"i",50),r.Qb(),r.Qb(),r.Qb(),r.Rb(95,"div",16),r.Rb(96,"div",17),r.Rb(97,"div",18),r.Nb(98,"input",51),r.Rb(99,"label",52),r.sc(100,"CMND"),r.Qb(),r.Qb(),r.Rb(101,"span",53),r.Nb(102,"i",54),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(103,"div",8),r.Nb(104,"div",12),r.Rb(105,"div",8),r.Rb(106,"div",55),r.Rb(107,"button",56),r.sc(108,"\u0110\u0103ng k\xfd"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(109,"div",57),r.Rb(110,"h2",58),r.sc(111,"Th\xeam Th\xe0nh vi\xean"),r.Qb(),r.Qb(),r.Rb(112,"form",59),r.Rb(113,"div"),r.Rb(114,"div",60),r.sc(115," H\u1ecd: "),r.Nb(116,"input",61),r.Qb(),r.Rb(117,"div",60),r.sc(118," T\xean: "),r.Nb(119,"input",62),r.Qb(),r.Rb(120,"div",60),r.sc(121," T\xean \u0111\u0103ng nh\u1eadp: "),r.Nb(122,"input",63),r.Qb(),r.Rb(123,"div",60),r.sc(124," Ng\xe0y sinh: "),r.Nb(125,"input",64),r.Qb(),r.Rb(126,"div",60),r.sc(127," Email: "),r.Nb(128,"input",65),r.Qb(),r.Rb(129,"div",60),r.sc(130," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: "),r.Nb(131,"input",66),r.Qb(),r.Rb(132,"div",60),r.sc(133," S\u1ed1 CMND: "),r.Nb(134,"input",67),r.Qb(),r.Rb(135,"div",60),r.sc(136," S\u1ed1 nh\xe0: "),r.Nb(137,"input",68),r.Qb(),r.Rb(138,"div",60),r.sc(139," Ph\u01b0\u1eddng/X\xe3: "),r.Nb(140,"input",69),r.Qb(),r.Rb(141,"div",60),r.sc(142," Qu\u1eadn /huy\u1ec7n: "),r.Nb(143,"input",70),r.Qb(),r.Rb(144,"div",60),r.sc(145," T\u1ec9nh: "),r.Nb(146,"input",71),r.Qb(),r.Qb(),r.Rb(147,"div",72),r.Rb(148,"button",73),r.sc(149,"Th\xeam m\u1edbi"),r.Qb(),r.Rb(150,"a",74),r.Rb(151,"button",75),r.sc(152,"H\u1ee7y"),r.Qb(),r.Qb(),r.Rb(153,"button",76),r.sc(154,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(112),r.fc("formGroup",t.addUser))},directives:[Ea,Oa,bs,Wo,_s,Qo,Ko,Ds,Xi],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),id),ud=((rd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||rd)},rd.\u0275cmp=r.Gb({type:rd,selectors:[["app-lockaccount-user"]],decls:24,vars:0,consts:[[1,"container-fluid","shadow",2,"margin-top","30px","max-width","450px","padding-bottom","5px"],[1,"text-center","mb-4"],[1,"mb-2"],[1,"mb-2",2,"margin-top","20px"],["type","date",2,"margin-right","10px"],["rows","4","formControlName","",1,"form-control"],["formControlName","",1,"form-control"],[1,"text-center","mb-4",2,"margin-top","20px"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px"],["routerLink",""],[1,"btn","btn-primary"]],template:function(e,t){1&e&&(r.Rb(0,"body"),r.Rb(1,"form",0),r.Rb(2,"div"),r.Rb(3,"h1",1),r.sc(4," Kh\xf3a th\xe0nh vi\xean"),r.Qb(),r.Qb(),r.Rb(5,"div",2),r.sc(6,"Th\u1eddi gian kh\xf3a:"),r.Qb(),r.Rb(7,"div",3),r.sc(8," T\u1eeb ng\xe0y: "),r.Nb(9,"input",4),r.sc(10," \u0110\u1ebfn:"),r.Nb(11,"input",4),r.Qb(),r.Rb(12,"div",2),r.sc(13," B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n kh\xf3a: "),r.Nb(14,"textarea",5),r.Qb(),r.Rb(15,"div",2),r.sc(16," L\xed do: "),r.Nb(17,"textarea",6),r.Qb(),r.Rb(18,"div",7),r.Rb(19,"button",8),r.sc(20,"Kh\xf3a"),r.Qb(),r.Rb(21,"a",9),r.Rb(22,"button",10),r.sc(23,"H\u1ee7y"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[bs,Wo,us,Qo,Ko,Ds,Xi],styles:[""]}),rd),cd=((nd=function(){function e(t){_classCallCheck(this,e),this._toastrService=t}return _createClass(e,[{key:"showSuccessNotification",value:function(e){this._toastrService.success(e,"Th\xf4ng B\xe1o",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"showErrorNotification",value:function(e){this._toastrService.error(e,"L\u1ed7i",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}},{key:"showWarningNotification",value:function(e){this._toastrService.warning(e,"C\u1ea3nh b\xe1o",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}}]),e}()).\u0275fac=function(e){return new(e||nd)(r.Vb(gh))},nd.\u0275prov=r.Ib({token:nd,factory:nd.\u0275fac,providedIn:"root"}),nd),ld=((td=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListAuctionStatus",value:function(){return this._httpClient.get(i.api_url_list_auction_status)}}]),e}()).\u0275fac=function(e){return new(e||td)(r.Vb(gu))},td.\u0275prov=r.Ib({token:td,factory:td.\u0275fac,providedIn:"root"}),td),hd=((ed=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"getListPriceRange",value:function(){return this._httpClient.get(i.api_url_list_price_range)}}]),e}()).\u0275fac=function(e){return new(e||ed)(r.Vb(gu))},ed.\u0275prov=r.Ib({token:ed,factory:ed.\u0275fac,providedIn:"root"}),ed);function fd(e,t){1&e&&(r.Rb(0,"div",56),r.sc(1," T\xean s\u1ea3n ph\u1ea9m t\u1ed1i \u0111a 50 k\xfd t\u1ef1. "),r.Qb())}function dd(e,t){1&e&&(r.Rb(0,"div",56),r.sc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng t\u1ed1i \u0111a 25 k\xfd t\u1ef1. "),r.Qb())}function pd(e,t){1&e&&(r.Rb(0,"div",56),r.sc(1," T\xean ng\u01b0\u1eddi b\xe1n kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a s\u1ed1 hay k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t. "),r.Qb())}function vd(e,t){if(1&e&&(r.Rb(0,"option",57),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("value",n.name),r.Ab(1),r.tc(n.name)}}function gd(e,t){if(1&e&&(r.Rb(0,"option",57),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("value",n.name),r.Ab(1),r.tc(n.name)}}function bd(e,t){if(1&e&&(r.Rb(0,"option",57),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("value",n.id),r.Ab(1),r.tc(n.name)}}function md(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",35),r.Zb("ngSubmit",(function(){return r.mc(n),r.bc().searchByRoleAdmin(0)})),r.Rb(1,"div",1),r.Rb(2,"div",36),r.Rb(3,"div",37),r.Nb(4,"input",38),r.Rb(5,"label",39),r.sc(6,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.rc(7,fd,2,0,"div",40),r.Qb(),r.Qb(),r.Rb(8,"div",36),r.Rb(9,"div",37),r.Nb(10,"input",41),r.Rb(11,"label",42),r.sc(12,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.rc(13,dd,2,0,"div",40),r.rc(14,pd,2,0,"div",40),r.Qb(),r.Qb(),r.Rb(15,"div",43),r.Rb(16,"button",44),r.Nb(17,"i",45),r.sc(18," L\u1ecdc k\u1ebft qu\u1ea3 "),r.Qb(),r.Rb(19,"button",46),r.Zb("click",(function(){return r.mc(n),r.bc().resetFormAndData()})),r.sc(20," Reset b\u1ed9 l\u1ecdc "),r.Qb(),r.Qb(),r.Qb(),r.Rb(21,"div",1),r.Rb(22,"div",36),r.Rb(23,"div",37),r.Rb(24,"select",47),r.Rb(25,"option",48),r.sc(26,"---- T\u1ea5t c\u1ea3 ----"),r.Qb(),r.rc(27,vd,2,2,"option",49),r.Qb(),r.Rb(28,"label",50),r.sc(29,"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",36),r.Rb(31,"div",37),r.Rb(32,"select",51),r.Rb(33,"option",48),r.sc(34,"----- T\u1ea5t c\u1ea3 -----"),r.Qb(),r.rc(35,gd,2,2,"option",49),r.Qb(),r.Rb(36,"label",52),r.sc(37,"T\xecnh tr\u1ea1ng \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Qb(),r.Rb(38,"div",36),r.Rb(39,"div",53),r.Rb(40,"select",54),r.sc(41,"> "),r.rc(42,bd,2,2,"option",49),r.Qb(),r.Rb(43,"label",55),r.sc(44,"Gi\xe1 s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.rfSearch),r.Ab(4),r.fc("ngClass",i.rfSearch.controls.productName.touched?i.rfSearch.controls.productName.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.fc("ngIf",i.rfSearch.controls.productName.hasError("maxlength")&&i.rfSearch.controls.productName.touched),r.Ab(3),r.fc("ngClass",i.rfSearch.controls.sellerName.touched?i.rfSearch.controls.sellerName.invalid?"is-invalid":"is-valid":""),r.Ab(3),r.fc("ngIf",i.rfSearch.controls.sellerName.hasError("maxlength")&&i.rfSearch.controls.sellerName.touched),r.Ab(1),r.fc("ngIf",i.rfSearch.controls.sellerName.hasError("pattern")&&i.rfSearch.controls.sellerName.touched&&!i.rfSearch.controls.sellerName.hasError("maxlength")),r.Ab(10),r.fc("ngClass",i.rfSearch.controls.categoryName.touched?"is-valid":""),r.Ab(3),r.fc("ngForOf",i.categories),r.Ab(5),r.fc("ngClass",i.rfSearch.controls.auctionStatusName.touched?"is-valid":""),r.Ab(3),r.fc("ngForOf",i.auctionStatus),r.Ab(5),r.fc("ngClass",i.rfSearch.controls.priceRange.touched?"is-valid":""),r.Ab(2),r.fc("ngForOf",i.priceRanges)}}var yd=function(e){return["/auction/",e]},_d=function(e){return["/products/review/",e]},wd=function(e){return["/product/edit/",e]};function Cd(e,t){if(1&e){var n=r.Sb();r.Rb(0,"tr"),r.Rb(1,"td"),r.sc(2),r.Qb(),r.Rb(3,"td"),r.sc(4),r.Qb(),r.Rb(5,"td"),r.Rb(6,"a",62),r.Rb(7,"span",63),r.sc(8),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"td"),r.sc(10),r.Qb(),r.Rb(11,"td"),r.sc(12),r.Qb(),r.Rb(13,"td"),r.sc(14),r.Qb(),r.Rb(15,"td"),r.sc(16),r.Qb(),r.Rb(17,"td"),r.sc(18),r.Qb(),r.Rb(19,"td"),r.sc(20),r.Qb(),r.Rb(21,"td",59),r.Rb(22,"a",64),r.Nb(23,"i",65),r.Qb(),r.Qb(),r.Rb(24,"td",59),r.Rb(25,"input",66),r.Zb("click",(function(){r.mc(n);var e=t.$implicit;return r.bc(2).addToDelete(e.id)})),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit,o=t.index,a=r.bc(2);r.Ab(2),r.tc(a.pageProducts.size*a.pageProducts.number+o+1),r.Ab(2),r.tc(i.id),r.Ab(2),r.fc("routerLink",2==i.reviewStatusId?r.jc(12,yd,i.id):r.jc(14,_d,i.id)),r.Ab(2),r.tc(i.name),r.Ab(2),r.tc(i.category),r.Ab(2),r.tc(i.userName),r.Ab(2),r.tc(i.initialPrice),r.Ab(2),r.tc(i.reviewStatus),r.Ab(2),r.tc(i.startTime),r.Ab(2),r.tc(i.auctionStatus),r.Ab(2),r.fc("routerLink",r.jc(16,wd,i.id)),r.Ab(3),r.fc("checked",a.deleteIds.includes(i.id))}}function kd(e,t){if(1&e){var n=r.Sb();r.Rb(0,"table",58),r.Rb(1,"thead"),r.Rb(2,"tr"),r.Rb(3,"th"),r.sc(4,"STT"),r.Qb(),r.Rb(5,"th"),r.sc(6,"ID"),r.Qb(),r.Rb(7,"th"),r.sc(8,"T\xean S\u1ea3n ph\u1ea9m"),r.Qb(),r.Rb(9,"th"),r.sc(10,"Ch\u1ee7ng lo\u1ea1i"),r.Qb(),r.Rb(11,"th"),r.sc(12,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Rb(13,"th"),r.sc(14,"Gi\xe1 ban \u0111\u1ea7u"),r.Qb(),r.Rb(15,"th"),r.sc(16,"Tr\u1ea1ng th\xe1i duy\u1ec7t"),r.Qb(),r.Rb(17,"th"),r.sc(18,"Ng\xe0y \u0111\u1ea5u gi\xe1"),r.Qb(),r.Rb(19,"th"),r.sc(20,"T\xecnh tr\u1ea1ng"),r.Qb(),r.Rb(21,"th"),r.sc(22,"S\u1eeda"),r.Qb(),r.Rb(23,"th",59),r.Rb(24,"button",60),r.Zb("click",(function(){return r.mc(n),r.bc().addAllToDelete()})),r.Nb(25,"i",61),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(26,"tbody"),r.rc(27,Cd,26,18,"tr",31),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.Ab(27),r.fc("ngForOf",i.pageProducts.content)}}function Sd(e,t){1&e&&(r.Rb(0,"h3",67),r.sc(1,"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"),r.Qb())}function Ed(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div"),r.Rb(1,"nav",68),r.Rb(2,"ul",69),r.Rb(3,"li",70),r.Rb(4,"a",71),r.Zb("click",(function(){return r.mc(n),r.bc().gotoPage(0)})),r.sc(5,"First"),r.Qb(),r.Qb(),r.Rb(6,"li",70),r.Rb(7,"a",71),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.pageProducts.number-1)})),r.sc(8,"Previous"),r.Qb(),r.Qb(),r.Rb(9,"li",72),r.Rb(10,"a",73),r.sc(11),r.Qb(),r.Qb(),r.Rb(12,"li",70),r.Rb(13,"a",71),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.pageProducts.number+1)})),r.sc(14,"Next"),r.Qb(),r.Qb(),r.Rb(15,"li",70),r.Rb(16,"a",71),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.gotoPage(e.pageProducts.totalPages-1)})),r.sc(17,"Last"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.Ab(4),r.fc("ngClass",i.pageProducts.first?"disabled":""),r.Ab(3),r.fc("ngClass",i.pageProducts.first?"disabled":""),r.Ab(4),r.vc(" ",i.pageProducts.number+1,"/",i.pageProducts.totalPages,""),r.Ab(2),r.fc("ngClass",i.pageProducts.last?"disabled":""),r.Ab(3),r.fc("ngClass",i.pageProducts.last?"disabled":"")}}function Rd(e,t){if(1&e&&(r.Rb(0,"div"),r.sc(1," X\xf3a s\u1ea3n ph\u1ea9m "),r.Rb(2,"strong",56),r.sc(3),r.Qb(),r.sc(4,"? "),r.Qb()),2&e){var n=t.$implicit;r.Ab(3),r.tc(n.name)}}var Td,Id=((Td=function(){function e(t,n,r,i,o,a,s){_classCallCheck(this,e),this._productService=t,this._notificationService=n,this._formBuilder=r,this._categoryService=i,this._auctionStatusService=o,this._priceRangeService=a,this._activatedRoute=s}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCategories(),this.getAuctionStatus(),this.getPriceRanges(),this.createSearchForm(),this.searchByRoleAdmin(0),this.deleteIds=[],this.checkedAll=!1}},{key:"searchByRoleAdmin",value:function(e){var t=this;this._productService.getPageProductRoleAdmin(this.rfSearch.value,e).subscribe((function(e){t.pageProducts=e}),(function(e){t._notificationService.showErrorNotification("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn Server")}))}},{key:"createSearchForm",value:function(){this.rfSearch=this._formBuilder.group({productName:["",[Jo.pattern("^[A-Za-z0-9]+$"),Jo.maxLength(50)]],categoryName:[""],sellerName:["",[Jo.pattern("^[A-Za-z]+$"),Jo.maxLength(50)]],priceRange:[1],auctionStatusName:[""]})}},{key:"resetFormAndData",value:function(){this.ngOnInit()}},{key:"gotoPage",value:function(e){this.searchByRoleAdmin(e)}},{key:"addToDelete",value:function(e){var t=this.deleteIds.indexOf(e,0);t>-1?this.deleteIds.splice(t,1):this.deleteIds.push(e)}},{key:"addAllToDelete",value:function(){this.checkedAll=!0;var e,t=_createForOfIteratorHelper(this.pageProducts.content);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!this.deleteIds.includes(n.id)){this.checkedAll=!1;break}}}catch(l){t.e(l)}finally{t.f()}if(this.checkedAll){var r,i=_createForOfIteratorHelper(this.pageProducts.content);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=this.deleteIds.indexOf(o.id,0);this.deleteIds.splice(a,1)}}catch(l){i.e(l)}finally{i.f()}}else{var s,u=_createForOfIteratorHelper(this.pageProducts.content);try{for(u.s();!(s=u.n()).done;){var c=s.value;-1==this.deleteIds.indexOf(c.id,0)&&this.deleteIds.push(c.id)}}catch(l){u.e(l)}finally{u.f()}}}},{key:"sendToDeleteGroupModal",value:function(){var e=this;this.deleteProducts=[],this._productService.findByListId(this.deleteIds).subscribe((function(t){e.deleteProducts=t}),(function(t){e._notificationService.showErrorNotification("Kh\xf4ng th\u1ec3 t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m")}))}},{key:"delete",value:function(){var e=this;this._productService.delete(this.deleteIds).subscribe((function(t){e._notificationService.showSuccessNotification("Xo\xe1 th\xe0nh c\xf4ng!")}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi xo\xe1")}),(function(){e.ngOnInit()}))}},{key:"getCategories",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){e.categories=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7!")}))}},{key:"getPriceRanges",value:function(){var e=this;this._priceRangeService.getListPriceRange().subscribe((function(t){e.priceRanges=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7!")}))}},{key:"getAuctionStatus",value:function(){var e=this;this._auctionStatusService.getListAuctionStatus().subscribe((function(t){e.auctionStatus=t}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7!")}))}}]),e}()).\u0275fac=function(e){return new(e||Td)(r.Mb(zu),r.Mb(cd),r.Mb(Qs),r.Mb(Ku),r.Mb(ld),r.Mb(hd),r.Mb(Ur))},Td.\u0275cmp=r.Gb({type:Td,selectors:[["app-list-products"]],decls:62,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-2","sidebar__left",2,"height","auto"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],["id","content",1,"col-lg-10"],[1,"mt-5"],["id","search-row",1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],["id","list-row",1,"row"],["id","customer_table","class","table table-striped table-bordered",4,"ngIf"],["id","null-result-noti",4,"ngIf"],[1,"d-flex","justify-content-between"],["routerLink","/product/create","role","button",1,"btn","btn-primary"],[1,"fa-solid","fa-square-plus"],[4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-danger",3,"disabled","click"],[1,"fa-regular","fa-trash-can","delete-icon"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-4"],[1,"form-floating","mb-4","form-inp"],["type","text","placeholder","T\xean s\u1ea3n ph\u1ea9m","id","floatingName","formControlName","productName",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingName"],["style","color: red",4,"ngIf"],["type","text","placeholder","Ng\u01b0\u1eddi \u0111\u0103ng","id","floatingSeller","formControlName","sellerName",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingSeller"],["id","form-btn",1,"col-4"],["type","submit",1,"btn","btn-primary"],[1,"fa-solid","fa-magnifying-glass"],[1,"btn","btn-success",3,"click"],["id","floatingCategory","formControlName","categoryName",1,"form-select","form-select-underlined",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingCategory"],["id","floatingAuctionStatus","formControlName","auctionStatusName",1,"form-select","form-select-underlined",3,"ngClass"],["for","floatingAuctionStatus"],["id","form-floating-price",1,"form-floating","mb-4"],["id","floatingPrice","formControlName","priceRange",1,"form-select","form-select-underlined",3,"ngClass"],["for","floatingPrice"],[2,"color","red"],[3,"value"],["id","customer_table",1,"table","table-striped","table-bordered"],[1,"text-center"],[1,"btn",3,"click"],[1,"fa-regular","fa-trash-can","delete-group-icon"],["type","button",1,"view",3,"routerLink"],[1,"text-decoration-underline"],[3,"routerLink"],[1,"fa-regular","fa-pen-to-square","edit-icon"],["type","checkbox",1,"delete-checkbox",3,"checked","click"],["id","null-result-noti"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],[1,"page-item","active"],[1,"page-link"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"nav"),r.Rb(4,"ul",3),r.Rb(5,"li",4),r.Rb(6,"a",5),r.Nb(7,"i",6),r.sc(8," Trang ch\u1ee7 "),r.Rb(9,"span",7),r.sc(10,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"li",4),r.Rb(12,"a",5),r.Nb(13,"i",8),r.sc(14," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(15,"span",7),r.sc(16,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"li",4),r.Rb(18,"a",5),r.Nb(19,"i",9),r.sc(20," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(21,"span",7),r.sc(22,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"li",4),r.Rb(24,"a",5),r.Nb(25,"i",10),r.sc(26," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(27,"span",7),r.sc(28,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",11),r.Rb(30,"h1",12),r.sc(31,"Danh s\xe1ch s\u1ea3n ph\u1ea9m"),r.Qb(),r.Nb(32,"hr"),r.Rb(33,"div",13),r.rc(34,md,45,12,"form",14),r.Qb(),r.Rb(35,"div",15),r.rc(36,kd,28,1,"table",16),r.rc(37,Sd,2,0,"h3",17),r.Rb(38,"div",18),r.Rb(39,"div"),r.Rb(40,"a",19),r.Nb(41,"i",20),r.sc(42," Th\xeam s\u1ea3n ph\u1ea9m "),r.Qb(),r.Qb(),r.rc(43,Ed,18,6,"div",21),r.Rb(44,"div"),r.Rb(45,"button",22),r.Zb("click",(function(){return t.sendToDeleteGroupModal()})),r.Nb(46,"i",23),r.sc(47," Xo\xe1 "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(48,"div",24),r.Rb(49,"div",25),r.Rb(50,"div",26),r.Rb(51,"div",27),r.Rb(52,"h5",28),r.sc(53,"X\xf3a s\u1ea3n ph\u1ea9m"),r.Qb(),r.Nb(54,"button",29),r.Qb(),r.Rb(55,"div",30),r.rc(56,Rd,5,1,"div",31),r.Rb(57,"div",32),r.Rb(58,"button",33),r.sc(59,"Hu\u1ef7 b\u1ecf"),r.Qb(),r.Rb(60,"button",34),r.Zb("click",(function(){return t.delete()})),r.sc(61,"X\xe1c nh\u1eadn "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(34),r.fc("ngIf",t.rfSearch),r.Ab(2),r.fc("ngIf",null!=t.pageProducts),r.Ab(1),r.fc("ngIf",null==t.pageProducts),r.Ab(6),r.fc("ngIf",t.pageProducts),r.Ab(2),r.fc("disabled",0==t.deleteIds.length),r.Ab(11),r.fc("ngForOf",t.deleteProducts))},directives:[we,Xi,ye,bs,Wo,_s,Qo,Ko,Ds,be,Sa,Ea,Oa],styles:[".menu[_ngcontent-%COMP%], .sidebar__left[_ngcontent-%COMP%]{background:#535151}.menu[_ngcontent-%COMP%]{padding:24px 0 0;margin:0}.menu__item[_ngcontent-%COMP%]{padding:4px 12px;list-style-type:none;cursor:pointer;margin-bottom:12px}.menu__icon[_ngcontent-%COMP%]{margin-right:4px}.menu__link[_ngcontent-%COMP%]{text-decoration:none}.menu__link[_ngcontent-%COMP%], .menu__link[_ngcontent-%COMP%]:hover{color:#fff8dc}.menu__item[_ngcontent-%COMP%]:hover{background-color:#fff8dc;opacity:.7}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#0a0a0a}h1[_ngcontent-%COMP%]{text-align:center;color:#00f}#content[_ngcontent-%COMP%]{padding-bottom:3%}#search-row[_ngcontent-%COMP%]{width:100%;padding:0 3% 0 5%}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:0;padding-left:0}.form-select-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:0;padding-left:13px}.form-control[_ngcontent-%COMP%]::-moz-placeholder{font-size:.95rem;color:#aaa;font-style:italic}.form-control[_ngcontent-%COMP%]::placeholder{font-size:.95rem;color:#aaa;font-style:italic}.form-inp[_ngcontent-%COMP%]{width:80%;margin-left:10%}#form-floating-price[_ngcontent-%COMP%]{width:100%;margin-left:0}#form-btn[_ngcontent-%COMP%]{padding-left:5%}#null-result-noti[_ngcontent-%COMP%]{text-align:center;color:red}#list-row[_ngcontent-%COMP%]{width:100%;padding:2% 2% 0 5%}.delete-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}.edit-icon[_ngcontent-%COMP%]{font-size:20px;color:green}.delete-group-icon[_ngcontent-%COMP%]{font-size:23px;color:red}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;background:transparent;outline:none}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),Td);function xd(e,t){if(1&e){var n=r.Sb();r.Rb(0,"tr"),r.Rb(1,"td"),r.sc(2,"L\xfd do kho\xe1"),r.Qb(),r.Rb(3,"td"),r.Rb(4,"input",33),r.Zb("ngModelChange",(function(e){return r.mc(n),r.bc(2).reason.reason=e})),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc(2);r.Ab(4),r.fc("ngModel",i.reason.reason)("disabled",3==i.product.reviewStatusId)}}function Ad(e,t){if(1&e){var n=r.Sb();r.Rb(0,"a",34),r.Zb("click",(function(){return r.mc(n),r.bc(2).review()})),r.Nb(1,"i",35),r.sc(2," Duy\u1ec7t "),r.Qb()}}function Od(e,t){if(1&e){var n=r.Sb();r.Rb(0,"button",36),r.Zb("click",(function(){return r.mc(n),r.bc(2).doNotReview()})),r.Nb(1,"i",37),r.sc(2," Kh\xf4ng duy\u1ec7t "),r.Qb()}if(2&e){var i=r.bc(2);r.fc("disabled",i.invalidProduct&&0==i.reason.reason.length)}}function Nd(e,t){if(1&e&&(r.Rb(0,"div",2),r.Rb(1,"div",6),r.Rb(2,"div",7),r.Rb(3,"div",8),r.Rb(4,"div",9),r.Rb(5,"div",10),r.Rb(6,"div",11),r.Rb(7,"div",12),r.Nb(8,"img",13),r.Qb(),r.Rb(9,"div",14),r.Nb(10,"img",15),r.Qb(),r.Rb(11,"div",14),r.Nb(12,"img",16),r.Qb(),r.Qb(),r.Rb(13,"div",17),r.Rb(14,"button",18),r.Nb(15,"img",13),r.Qb(),r.Rb(16,"button",19),r.Nb(17,"img",15),r.Qb(),r.Rb(18,"button",20),r.Nb(19,"img",16),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(20,"div",6),r.Rb(21,"div",21),r.Rb(22,"div",22),r.Rb(23,"table",23),r.Rb(24,"tr"),r.Rb(25,"td",24),r.sc(26,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.Rb(27,"td",25),r.sc(28),r.Qb(),r.Qb(),r.Rb(29,"tr"),r.Rb(30,"td"),r.sc(31,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Rb(32,"td"),r.sc(33),r.Nb(34,"br"),r.sc(35),r.Nb(36,"br"),r.sc(37),r.Qb(),r.Qb(),r.Rb(38,"tr"),r.Rb(39,"td"),r.sc(40,"Ch\u1ee7ng lo\u1ea1i"),r.Qb(),r.Rb(41,"td"),r.sc(42),r.Qb(),r.Qb(),r.Rb(43,"tr"),r.Rb(44,"td"),r.sc(45,"Gi\xe1 ban \u0111\u1ea7u"),r.Qb(),r.Rb(46,"td"),r.sc(47),r.Qb(),r.Qb(),r.Rb(48,"tr"),r.Rb(49,"td"),r.sc(50,"B\u01b0\u1edbc gi\xe1"),r.Qb(),r.Rb(51,"td"),r.sc(52),r.Qb(),r.Qb(),r.Rb(53,"tr"),r.Rb(54,"td"),r.sc(55,"B\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1"),r.Qb(),r.Rb(56,"td"),r.sc(57),r.Qb(),r.Qb(),r.Rb(58,"tr"),r.Rb(59,"td"),r.sc(60,"K\u1ebft th\xfac \u0111\u1ea5u gi\xe1"),r.Qb(),r.Rb(61,"td"),r.sc(62),r.Qb(),r.Qb(),r.Rb(63,"tr"),r.Rb(64,"td"),r.sc(65,"Th\xf4ng tin chi ti\u1ebft"),r.Qb(),r.Rb(66,"td"),r.sc(67),r.Qb(),r.Qb(),r.rc(68,xd,5,2,"tr",26),r.Qb(),r.Qb(),r.Qb(),r.Rb(69,"div",27),r.Rb(70,"div",28),r.rc(71,Ad,3,0,"a",29),r.Qb(),r.Rb(72,"div",28),r.rc(73,Od,3,1,"button",30),r.Qb(),r.Rb(74,"div",28),r.Rb(75,"a",31),r.Nb(76,"i",32),r.sc(77," Quay l\u1ea1i "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e){var n=r.bc();r.Ab(28),r.tc(n.product.name),r.Ab(5),r.uc(" Id: ",n.product.userId,""),r.Ab(2),r.uc(" T\xean \u0111\u1ea7y \u0111\u1ee7: ",n.product.userName,""),r.Ab(2),r.uc(" Email: ",n.product.userName," "),r.Ab(5),r.tc(n.product.category),r.Ab(5),r.tc(n.product.initialPrice),r.Ab(5),r.tc(n.product.priceStep),r.Ab(5),r.tc(n.product.startTime),r.Ab(5),r.tc(n.product.endTime),r.Ab(5),r.uc("",n.product.description," "),r.Ab(1),r.fc("ngIf",n.invalidProduct),r.Ab(3),r.fc("ngIf",1==n.product.reviewStatusId),r.Ab(2),r.fc("ngIf",1==n.product.reviewStatusId)}}var Pd,Dd,Md=((Pd=function(){function e(t,n,r,i){_classCallCheck(this,e),this._productService=t,this._notificationService=n,this._activatedRoute=r,this.router=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=this,t=+this._activatedRoute.snapshot.params.id;this._productService.findByDtoId(t).subscribe((function(n){e.product=n,e.invalidProduct=3==e.product.reviewStatusId,console.log(e.invalidProduct),e._productService.getReason(t).subscribe((function(n){e.reason=n,e.reason.productId=t,console.log(e.reason)}))}),(function(t){e._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i th\xf4ng tin s\u1ea3n ph\u1ea9m!")}))}},{key:"doNotReview",value:function(){var e=this;this.invalidProduct?(console.log(this.reason),this._productService.writeReason(this.reason).subscribe((function(t){e._notificationService.showSuccessNotification("\u0110\xe3 l\u01b0u l\xfd do kho\xe1!")})),this._productService.doNotReview(this.product.id).subscribe((function(t){e.router.navigateByUrl("/products"),e._notificationService.showSuccessNotification("S\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c duy\u1ec7t!")}),(function(t){e._notificationService.showErrorNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}))):this.invalidProduct=!0}},{key:"review",value:function(){var e=this;this._productService.review(this.product.id).subscribe((function(t){e.router.navigateByUrl("/products"),e._notificationService.showSuccessNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!")}),(function(t){e._notificationService.showErrorNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}))}}]),e}()).\u0275fac=function(e){return new(e||Pd)(r.Mb(zu),r.Mb(cd),r.Mb(Ur),r.Mb(Zi))},Pd.\u0275cmp=r.Gb({type:Pd,selectors:[["app-product-detail"]],decls:9,vars:1,consts:[[1,"container"],[1,"borderFull"],[1,"row"],[1,"register"],[1,"row","text-center"],["class","row",4,"ngIf"],[1,"col-6"],["id","img-col",1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"mt-2","card","card-body","w-50",2,"border","solid","color","green"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://salt.tikicdn.com/cache/750x750/ts/product/89/ac/93/d231600d5b276a7d3027050df14d509c.jpg.webp","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","https://salt.tikicdn.com/cache/750x750/ts/product/59/ef/44/653f387974a68b7b0ec7740201343ee9.jpg.webp","alt","...",1,"d-block","w-100"],["src","https://salt.tikicdn.com/cache/750x750/ts/product/36/ca/54/3997ea540afb84fb3db6b136f336ab0b.jpg.webp","alt","...",1,"d-block","w-100"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active","thumbnail"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2",1,"thumbnail"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3",1,"thumbnail"],[1,"container-fluid"],[1,"row","mt-4"],["id","customer_table",1,"table","table-striped","table-bordered"],["width","28%"],["width","72%"],[4,"ngIf"],["id","review-btns",1,"row"],[1,"col-4"],["class","btn btn-success","role","button","style","width: 140px",3,"click",4,"ngIf"],["class","btn btn-warning","role","button","style","width: 140px",3,"disabled","click",4,"ngIf"],["routerLink","/products","role","button",1,"btn","btn-secondary",2,"width","140px"],[1,"fa-solid","fa-arrow-rotate-left"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["role","button",1,"btn","btn-success",2,"width","140px",3,"click"],[1,"fa-solid","fa-check"],["role","button",1,"btn","btn-warning",2,"width","140px",3,"disabled","click"],[1,"fa-solid","fa-xmark"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",0),r.Rb(5,"div",4),r.Rb(6,"h1"),r.sc(7,"Duy\u1ec7t s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.rc(8,Nd,78,13,"div",5),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(8),r.fc("ngIf",t.product))},directives:[we,Xi,Qo,Ko,gs],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}h1[_ngcontent-%COMP%]{text-align:center;color:#00f}#review-btns[_ngcontent-%COMP%]{padding-top:4%}.container[_ngcontent-%COMP%]{padding-bottom:5%}#img-col[_ngcontent-%COMP%]{padding-top:3%}#review-btns[_ngcontent-%COMP%]{padding-top:5%}"]}),Pd),Fd=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.name=n})),jd=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.name=n})),Qd=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.name=n})),Ld=((Dd=function(){function e(t){_classCallCheck(this,e),this.httpClient=t,this.cities=[]}return _createClass(e,[{key:"getAllAdress",value:function(){return this.httpClient.get(i.DIA_GIOI_VIETNAM_API)}},{key:"getAllCities",value:function(){var e=this;this.getAllAdress().subscribe((function(t){for(var n=0;n<t.length;n++)e.cities.push(new Qd(n,t[n].Name));console.log(e.cities)}))}}]),e}()).\u0275fac=function(e){return new(e||Dd)(r.Vb(gu))},Dd.\u0275prov=r.Ib({token:Dd,factory:Dd.\u0275fac,providedIn:"root"}),Dd);function Ud(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Vd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," T\xean ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Bd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function qd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," H\u1ecd ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Hd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Gd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," T\xean \u0111\u0103ng nh\u1eadp ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function zd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Kd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," Email ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Wd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Yd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Zd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," Nga\u0300y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function $d(e,t){if(1&e&&(r.Rb(0,"option",86),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.name)}}function Xd(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," Ti\u0309nh tha\u0300nh kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function Jd(e,t){if(1&e&&(r.Rb(0,"option",86),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.name)}}function ep(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," Qu\xe2\u0323n huy\xea\u0323n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function tp(e,t){if(1&e&&(r.Rb(0,"option",86),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("ngValue",n.id),r.Ab(1),r.tc(n.name)}}function np(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," Ph\u01b0\u01a1\u0300ng xa\u0303 kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function rp(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," \u0110i\u0323a chi\u0309 chi ti\xea\u0301t kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function ip(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," \u0110i\u0323a chi\u0309 chi ti\xea\u0301t pha\u0309i \u0111u\u0301ng \u0111i\u0323nh da\u0323ng "),r.Qb())}function op(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," S\xf4\u0301 ch\u01b0\u0301ng minh nh\xe2n d\xe2n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function ap(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," S\xf4\u0301 ch\u01b0\u0301ng minh nh\xe2n d\xe2n pha\u0309i \u0111u\u0301ng \u0111i\u0323nh da\u0323ng "),r.Qb())}function sp(e,t){1&e&&(r.Rb(0,"div",85),r.sc(1," M\xe2\u0323t kh\xe2\u0309u kh\xf4ng \u0111\u01b0\u01a1\u0323c \u0111\xea\u0309 tr\xf4\u0301ng "),r.Qb())}var up,cp,lp,hp=((lp=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.activatedRoute=t,this.formBuilder=n,this.addressService=r,this.userService=i,this.toastr=o,this.router=a,this.cities=[],this.districts=[],this.wards=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.paramMap.subscribe((function(t){e.emailGoogle=t.get("email")})),this.getCreateForm(),this.addressService.getAllCities(),this.cities=this.addressService.cities}},{key:"getCreateForm",value:function(){this.rfRegisterGoogle=this.formBuilder.group({firstName:["",[Jo.required,Jo.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],lastName:["",[Jo.required,Jo.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{3,30}$")]],username:["",[Jo.required]],avatar:["",[Jo.required]],email:[this.emailGoogle],phone:["",[Jo.required,Jo.pattern("[0][9][0]\\d{7}")]],birthDay:["",[Jo.required]],city:["",Jo.required],district:["",Jo.required],town:["",Jo.required],country:["Vi\xea\u0323t Nam"],idCard:["",[Jo.required,Jo.pattern("\\d{9}")]],password:["",[Jo.required]],pointDedication:[10],statusLock:[!0],deleteStatus:[!0],userTypeId:[5],detailAddress:["",[Jo.required]]})}},{key:"submitCreateUser",value:function(){var e=this;this.rfRegisterGoogle.controls.city.setValue(this.currentCity),this.rfRegisterGoogle.controls.district.setValue(this.currentDistrict),this.rfRegisterGoogle.controls.town.setValue(this.currentWard),this.userService.createUser(this.rfRegisterGoogle.value).subscribe((function(t){e.toastr.success("\u0110\u0103ng ky\u0301 tha\u0300nh c\xf4ng, m\u01a1\u0300i ba\u0323n \u0111\u0103ng nh\xe2\u0323p"),e.router.navigateByUrl("login")}))}},{key:"selectCity",value:function(){var e=this;this.cityIdSeleted=this.rfRegisterGoogle.value.city,this.addressService.getAllAdress().subscribe((function(t){e.districts=[];for(var n=0;n<t[e.cityIdSeleted].Districts.length;n++)e.districts.push(new Fd(n,t[e.cityIdSeleted].Districts[n].Name));e.currentCity=t[e.cityIdSeleted].Name}))}},{key:"selectDistrict",value:function(){var e=this;this.districtIdSeleted=this.rfRegisterGoogle.value.district,this.addressService.getAllAdress().subscribe((function(t){e.wards=[];for(var n=0;n<t[e.cityIdSeleted].Districts[e.districtIdSeleted].Wards.length;n++)e.wards.push(new jd(n,t[e.cityIdSeleted].Districts[e.districtIdSeleted].Wards[n].Name));e.currentDistrict=t[e.cityIdSeleted].Districts[e.districtIdSeleted].Name}))}},{key:"selectWard",value:function(){var e=this;this.wardIdSeleted=this.rfRegisterGoogle.value.town,this.addressService.getAllAdress().subscribe((function(t){e.currentWard=t[e.cityIdSeleted].Districts[e.districtIdSeleted].Wards[e.wardIdSeleted].Name}))}}]),e}()).\u0275fac=function(e){return new(e||lp)(r.Mb(Ur),r.Mb(Qs),r.Mb(Ld),r.Mb(Yu),r.Mb(gh),r.Mb(Zi))},lp.\u0275cmp=r.Gb({type:lp,selectors:[["app-register-with-google"]],decls:177,vars:32,consts:[[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","",1,"d-block","w-100"],[1,"w-50"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["data-label","DC",1,"avatar"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["disabled","","type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"change"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"change"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingPassword","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control",3,"ngClass"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword",1,"form-control"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-key"],[1,"col-lg-5"],["onload","generate()"],["id","user-input",1,"floating"],[1,"col-lg-8"],["type","text","id","submit","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["type","submit","id","btn","onclick","print()",1,"btn","btn-gray"],[1,"col-lg-7"],["id","image","selectable","False",2,"margin-top","0"],[1,"col-lg-1",2,"margin-top","10px"],["onclick","generate()"],[1,"fas","fa-sync"],[2,"font-size","17px","color","blue","margin-top","6px"],["id","key"],[1,"col-lg-12"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["href",""],["type","submit",1,"btn","btn-primary"],[2,"color","red"],[3,"ngValue"]],template:function(e,t){1&e&&(r.Rb(0,"form",0),r.Zb("ngSubmit",(function(){return t.submitCreateUser()})),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"div",6),r.Nb(7,"img",7),r.Qb(),r.Rb(8,"div",8),r.Rb(9,"div",9),r.Rb(10,"div",10),r.Rb(11,"div",11),r.Rb(12,"h3"),r.sc(13,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Qb(),r.Qb(),r.Qb(),r.Nb(14,"div",12),r.Qb(),r.Nb(15,"div",13),r.Rb(16,"div",9),r.Rb(17,"div",14),r.Nb(18,"div",15),r.Qb(),r.Qb(),r.Nb(19,"div",16),r.Rb(20,"div",9),r.Rb(21,"div",17),r.Rb(22,"div",18),r.Rb(23,"div",19),r.Nb(24,"input",20),r.Rb(25,"label",21),r.sc(26,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(27,"span",22),r.Nb(28,"i",23),r.Qb(),r.Qb(),r.rc(29,Ud,2,0,"div",24),r.rc(30,Vd,2,0,"div",24),r.Qb(),r.Rb(31,"div",17),r.Rb(32,"div",18),r.Rb(33,"div",19),r.Nb(34,"input",25),r.Rb(35,"label",26),r.sc(36,"T\xean"),r.Qb(),r.Qb(),r.Rb(37,"span",27),r.Nb(38,"i",23),r.Qb(),r.Qb(),r.rc(39,Bd,2,0,"div",24),r.rc(40,qd,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(41,"div",9),r.Rb(42,"div",17),r.Rb(43,"div",18),r.Rb(44,"div",19),r.Nb(45,"input",28),r.Rb(46,"label",29),r.sc(47,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(48,"span",30),r.Nb(49,"i",23),r.Qb(),r.Qb(),r.rc(50,Hd,2,0,"div",24),r.rc(51,Gd,2,0,"div",24),r.Qb(),r.Rb(52,"div",17),r.Rb(53,"div",18),r.Rb(54,"div",19),r.Nb(55,"input",31),r.Rb(56,"label",32),r.sc(57,"Email"),r.Qb(),r.Qb(),r.Rb(58,"span",33),r.Nb(59,"i",34),r.Qb(),r.Qb(),r.rc(60,zd,2,0,"div",24),r.rc(61,Kd,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(62,"div",9),r.Rb(63,"div",17),r.Rb(64,"div",18),r.Rb(65,"div",19),r.Nb(66,"input",35),r.Rb(67,"label",36),r.sc(68,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(69,"span",37),r.Nb(70,"i",38),r.Qb(),r.Qb(),r.rc(71,Wd,2,0,"div",24),r.rc(72,Yd,2,0,"div",24),r.Qb(),r.Rb(73,"div",17),r.Rb(74,"div",18),r.Rb(75,"div",19),r.Nb(76,"input",39),r.Rb(77,"label",40),r.sc(78,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(79,"span",41),r.Nb(80,"i",42),r.Qb(),r.Qb(),r.rc(81,Zd,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(82,"div",9),r.Rb(83,"div",43),r.Rb(84,"div"),r.Rb(85,"select",44),r.Zb("change",(function(){return t.selectCity()})),r.Rb(86,"option",45),r.sc(87,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.rc(88,$d,2,2,"option",46),r.Qb(),r.rc(89,Xd,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(90,"div",43),r.Rb(91,"div"),r.Rb(92,"select",47),r.Zb("change",(function(){return t.selectDistrict()})),r.Rb(93,"option",45),r.sc(94,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.rc(95,Jd,2,2,"option",46),r.Qb(),r.rc(96,ep,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(97,"div",43),r.Rb(98,"div"),r.Rb(99,"select",48),r.Zb("change",(function(){return t.selectWard()})),r.Rb(100,"option",45),r.sc(101,"Ch\u1ecdn ph\u01b0\u01a1\u0300ng xa\u0303"),r.Qb(),r.rc(102,tp,2,2,"option",46),r.Qb(),r.rc(103,np,2,0,"div",24),r.Qb(),r.Qb(),r.Qb(),r.Rb(104,"div",49),r.Rb(105,"div",17),r.Rb(106,"div",18),r.Rb(107,"div",19),r.Nb(108,"input",50),r.Rb(109,"label",51),r.sc(110,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(111,"span",52),r.Nb(112,"i",53),r.Qb(),r.Qb(),r.rc(113,rp,2,0,"div",24),r.rc(114,ip,2,0,"div",24),r.Qb(),r.Rb(115,"div",17),r.Rb(116,"div",18),r.Rb(117,"div",19),r.Nb(118,"input",54),r.Rb(119,"label",55),r.sc(120,"CMND"),r.Qb(),r.Qb(),r.Rb(121,"span",56),r.Nb(122,"i",57),r.Qb(),r.Qb(),r.rc(123,op,2,0,"div",24),r.rc(124,ap,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(125,"div",9),r.Rb(126,"div",17),r.Rb(127,"div",18),r.Rb(128,"div",19),r.Nb(129,"input",58),r.Rb(130,"label",59),r.sc(131,"M\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(132,"span",60),r.Nb(133,"i",61),r.Qb(),r.Qb(),r.rc(134,sp,2,0,"div",24),r.Qb(),r.Rb(135,"div",17),r.Rb(136,"div",18),r.Rb(137,"div",19),r.Nb(138,"input",62),r.Rb(139,"label",63),r.sc(140,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(141,"span",64),r.Nb(142,"i",65),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(143,"div",9),r.Rb(144,"div",66),r.Rb(145,"div",67),r.Rb(146,"div",68),r.Rb(147,"div",9),r.Rb(148,"div",69),r.Nb(149,"input",70),r.Qb(),r.Rb(150,"div",43),r.Rb(151,"button",71),r.sc(152,"G\u1eedi "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(153,"div",72),r.Rb(154,"div",9),r.Rb(155,"div",43),r.Nb(156,"div",73),r.Qb(),r.Rb(157,"div",74),r.Rb(158,"div",75),r.Nb(159,"i",76),r.Qb(),r.Qb(),r.Rb(160,"div",72),r.Rb(161,"div",77),r.Nb(162,"p",78),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(163,"div",49),r.Rb(164,"div",79),r.Rb(165,"div",80),r.Nb(166,"input",81),r.Rb(167,"label",82),r.sc(168," \u0110\u1ed3ng \xfd "),r.Rb(169,"a",83),r.sc(170,"\u0111i\u1ec1u kho\u1ea3n"),r.Qb(),r.sc(171," c\u1ee7a website "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(172,"div",13),r.Rb(173,"div",9),r.Rb(174,"div",79),r.Rb(175,"button",84),r.sc(176,"\u0110\u0103ng k\xfd"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.fc("formGroup",t.rfRegisterGoogle),r.Ab(24),r.fc("ngClass",t.rfRegisterGoogle.controls.firstName.touched?t.rfRegisterGoogle.controls.firstName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.firstName.hasError("required")&&t.rfRegisterGoogle.controls.firstName.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.firstName.hasError("pattern")&&t.rfRegisterGoogle.controls.firstName.touched),r.Ab(4),r.fc("ngClass",t.rfRegisterGoogle.controls.lastName.touched?t.rfRegisterGoogle.controls.lastName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.lastName.hasError("required")&&t.rfRegisterGoogle.controls.lastName.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.lastName.hasError("pattern")&&t.rfRegisterGoogle.controls.lastName.touched),r.Ab(5),r.fc("ngClass",t.rfRegisterGoogle.controls.username.touched?t.rfRegisterGoogle.controls.username.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.username.hasError("required")&&t.rfRegisterGoogle.controls.username.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.username.hasError("pattern")&&t.rfRegisterGoogle.controls.username.touched),r.Ab(4),r.fc("ngClass",t.rfRegisterGoogle.controls.email.touched?t.rfRegisterGoogle.controls.email.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.email.hasError("required")&&t.rfRegisterGoogle.controls.email.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.email.hasError("pattern")&&t.rfRegisterGoogle.controls.email.touched),r.Ab(5),r.fc("ngClass",t.rfRegisterGoogle.controls.phone.touched?t.rfRegisterGoogle.controls.phone.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.phone.hasError("required")&&t.rfRegisterGoogle.controls.phone.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.phone.hasError("pattern")&&t.rfRegisterGoogle.controls.phone.touched),r.Ab(4),r.fc("ngClass",t.rfRegisterGoogle.controls.birthDay.touched?t.rfRegisterGoogle.controls.birthDay.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.birthDay.hasError("required")&&t.rfRegisterGoogle.controls.birthDay.touched),r.Ab(7),r.fc("ngForOf",t.cities),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.city.hasError("required")&&t.rfRegisterGoogle.controls.city.touched),r.Ab(6),r.fc("ngForOf",t.districts),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.district.hasError("required")&&t.rfRegisterGoogle.controls.district.touched),r.Ab(6),r.fc("ngForOf",t.wards),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.town.hasError("required")&&t.rfRegisterGoogle.controls.town.touched),r.Ab(5),r.fc("ngClass",t.rfRegisterGoogle.controls.detailAddress.touched?t.rfRegisterGoogle.controls.detailAddress.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.detailAddress.hasError("required")&&t.rfRegisterGoogle.controls.detailAddress.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.detailAddress.hasError("pattern")&&t.rfRegisterGoogle.controls.detailAddress.touched),r.Ab(4),r.fc("ngClass",t.rfRegisterGoogle.controls.idCard.touched?t.rfRegisterGoogle.controls.idCard.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.idCard.hasError("required")&&t.rfRegisterGoogle.controls.idCard.touched),r.Ab(1),r.fc("ngIf",t.rfRegisterGoogle.controls.idCard.hasError("pattern")&&t.rfRegisterGoogle.controls.idCard.touched),r.Ab(5),r.fc("ngClass",t.rfRegisterGoogle.controls.password.touched?t.rfRegisterGoogle.controls.password.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",t.rfRegisterGoogle.controls.password.hasError("required")&&t.rfRegisterGoogle.controls.password.touched))},directives:[bs,Wo,_s,Qo,Ko,Ds,be,we,Sa,Ea,Oa,ye],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),lp),fp=((cp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||cp)},cp.\u0275cmp=r.Gb({type:cp,selectors:[["app-address-payment"]],decls:140,vars:0,consts:[[1,"row"],[1,"col-lg-4"],[1,"col-lg-2"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link",2,"padding-left","20px"],["id","pills-contact-tab","data-bs-toggle","pill","data-bs-target","#pills-contact","type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link"],[1,"container"],[1,"col-lg-1"],[1,"col-lg-8",2,"border","solid darkgray 1px","padding-top","20px","padding-bottom","20px"],[1,"col-lg-6"],[1,"input-group","form-floating","mb-3"],["type","text","id","ten","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","ten"],[2,"color","red"],[1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","ho","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","ho"],["type","text","id","floatingPhone","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","floatingPhone"],[1,"fa-solid","fa-phone-flip"],["type","email","id","mail","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","mail"],["id","basic-addon6",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","quocgia","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","quocgia"],["id","basic-addon0",1,"input-group-text"],[1,"fa-solid","fa-earth-africa"],["type","text","id","thanhpho","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","thanhpho"],[1,"fa-solid","fa-location-dot"],["type","text","id","quanhuyen","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","quanhuyen"],["type","text","id","phuongxa","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","phuongxa"],[1,"col-lg-12"],["type","text","id","floatingAddress","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],["type","email","id","huongdan","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","huongdan"],["id","basic-addon",1,"input-group-text"],[1,"fa-solid","fa-comment"],["type","button",1,"btn","btn-primary"],[1,"col-lg-3"],[1,"card","border-primary","mb-3",2,"max-width","18rem","padding","0"],[1,"card-body","text-light",2,"background-color","blue"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-primary","bg-light","border-primary"],[1,"card-title","text-light",2,"background-color","blue"],[1,"card-body","text-primary"],[1,"card-footer","bg-light","border-success",2,"color","red"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Nb(1,"div",1),r.Rb(2,"div",1),r.Rb(3,"h2"),r.sc(4,"Thanh To\xe1n"),r.Qb(),r.Qb(),r.Nb(5,"div",1),r.Qb(),r.Rb(6,"div",0),r.Nb(7,"div",2),r.Rb(8,"div",2),r.Rb(9,"button",3),r.sc(10,"\u0110\u1ecba ch\u1ec9 thanh to\xe1n "),r.Qb(),r.Qb(),r.Rb(11,"div",2),r.Rb(12,"button",4),r.sc(13,"H\xecnh th\u1ee9c giao h\xe0ng "),r.Qb(),r.Qb(),r.Rb(14,"div",2),r.Rb(15,"button",5),r.sc(16,"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng "),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",6),r.Rb(18,"div",0),r.Nb(19,"div",7),r.Rb(20,"div",8),r.Rb(21,"div",0),r.Rb(22,"div",9),r.Rb(23,"div",10),r.Nb(24,"input",11),r.Rb(25,"label",12),r.Rb(26,"span",13),r.sc(27," * "),r.Qb(),r.sc(28,"T\xean"),r.Qb(),r.Rb(29,"span",14),r.Nb(30,"i",15),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",9),r.Rb(32,"div",10),r.Nb(33,"input",16),r.Rb(34,"label",17),r.Rb(35,"span",13),r.sc(36," * "),r.Qb(),r.sc(37,"H\u1ecd"),r.Qb(),r.Rb(38,"span",14),r.Nb(39,"i",15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(40,"div",0),r.Rb(41,"div",9),r.Rb(42,"div",10),r.Nb(43,"input",18),r.Rb(44,"label",19),r.Rb(45,"span",13),r.sc(46," * "),r.Qb(),r.sc(47,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Rb(48,"span",14),r.Nb(49,"i",20),r.Qb(),r.Qb(),r.Qb(),r.Rb(50,"div",9),r.Rb(51,"div",10),r.Nb(52,"input",21),r.Rb(53,"label",22),r.Rb(54,"span",13),r.sc(55," * "),r.Qb(),r.sc(56,"Email"),r.Qb(),r.Rb(57,"span",23),r.Nb(58,"i",24),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(59,"div",0),r.Rb(60,"div",9),r.Rb(61,"div",10),r.Nb(62,"input",25),r.Rb(63,"label",26),r.Rb(64,"span",13),r.sc(65," * "),r.Qb(),r.sc(66,"Qu\u1ed1c Gia"),r.Qb(),r.Rb(67,"span",27),r.Nb(68,"i",28),r.Qb(),r.Qb(),r.Qb(),r.Rb(69,"div",9),r.Rb(70,"div",10),r.Nb(71,"input",29),r.Rb(72,"label",30),r.Rb(73,"span",13),r.sc(74," * "),r.Qb(),r.sc(75,"Th\xe0nh Ph\u1ed1/T\u1ec9nh"),r.Qb(),r.Rb(76,"span",14),r.Nb(77,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(78,"div",0),r.Rb(79,"div",9),r.Rb(80,"div",10),r.Nb(81,"input",32),r.Rb(82,"label",33),r.Rb(83,"span",13),r.sc(84," * "),r.Qb(),r.sc(85,"Qu\u1eadn/Huy\u1ec7n"),r.Qb(),r.Rb(86,"span",14),r.Nb(87,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Rb(88,"div",9),r.Rb(89,"div",10),r.Nb(90,"input",34),r.Rb(91,"label",35),r.Rb(92,"span",13),r.sc(93," * "),r.Qb(),r.sc(94,"Ph\u01b0\u1eddng /X\xe3"),r.Qb(),r.Rb(95,"span",14),r.Nb(96,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(97,"div",0),r.Rb(98,"div",36),r.Rb(99,"div",10),r.Nb(100,"input",37),r.Rb(101,"label",38),r.Rb(102,"span",13),r.sc(103," * "),r.Qb(),r.sc(104,"\u0110\u1ecba Ch\u1ec9"),r.Qb(),r.Rb(105,"span",39),r.Nb(106,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(107,"div",0),r.Rb(108,"div",36),r.Rb(109,"div",10),r.Nb(110,"input",40),r.Rb(111,"label",41),r.sc(112,"H\u01b0\u1edbng D\u1eabn Giao H\xe0ng (Kh\xf4ng B\u1eaft Bu\u1ed9c)"),r.Qb(),r.Rb(113,"span",42),r.Nb(114,"i",43),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(115,"div",0),r.Rb(116,"div",36),r.Rb(117,"button",44),r.sc(118,"X\xe1c Nh\u1eadn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(119,"div",45),r.Rb(120,"div",0),r.Rb(121,"div",46),r.Rb(122,"div",47),r.Rb(123,"h4",48),r.sc(124,"C\xf3 c\xe2u h\u1ecfi?"),r.Qb(),r.Rb(125,"p",49),r.sc(126,"Vui l\xf2ng li\xean h\u1ec7 b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 24 gi\u1edd c\u1ee7a ch\xfang t\xf4i."),r.Qb(),r.Qb(),r.Rb(127,"div",50),r.Rb(128,"h6"),r.sc(129,"S\u0110T.(028)-090123090"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(130,"div",0),r.Rb(131,"div",46),r.Rb(132,"h4",51),r.sc(133,"T\u1ed5ng K\u1ebft \u0110\u01a1n H\xe0ng"),r.Qb(),r.Rb(134,"div",52),r.Rb(135,"h6"),r.sc(136,"Giao h\xe0ng ti\xeau chu\u1ea9n : 49.000"),r.Qb(),r.Qb(),r.Rb(137,"div",53),r.Rb(138,"h6"),r.sc(139,"T\u1ed5ng s\u1ed1 ti\u1ec1n c\u1ea7n thanh to\xe1n : 138.000"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),cp),dp=((up=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||up)},up.\u0275cmp=r.Gb({type:up,selectors:[["app-method-payment"]],decls:63,vars:0,consts:[[1,"row"],[1,"col-lg-4"],[1,"col-lg-2"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link",2,"padding-left","20px"],["id","pills-contact-tab","data-bs-toggle","pill","data-bs-target","#pills-contact","type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link"],[1,"col-lg-6"],[1,"col-lg-12"],["src","https://toplist.vn/images/800px/3-shipantoan-117725.jpg","width","500px"],["type","radio","checked",""],[2,"color","red"],["src","https://quangan.vn/wp-content/uploads/1644509255_275_Ngan-Hang-Vietcombank-La-Ngan-Hang-Gi-VCB-Co-Tot.png",2,"width","200px","height","120px"],["src","https://newsroom.uk.paypal-corp.com/images/fillers/Wordmark%20on%20gold.png",2,"width","200px","height","110px"],["src","https://i.imgur.com/07b8DkY.png",2,"width","200px","height","110px"],[1,"card","border-primary","mb-3",2,"max-width","18rem","padding","0"],[1,"card-body","text-light",2,"background-color","blue"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-primary","bg-light","border-primary"],[1,"card-title","text-light",2,"background-color","blue"],[1,"card-body","text-primary"],[1,"card-footer","bg-light","border-success",2,"color","red"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Nb(1,"div",1),r.Rb(2,"div",1),r.Rb(3,"h2"),r.sc(4,"Thanh To\xe1n"),r.Qb(),r.Qb(),r.Nb(5,"div",1),r.Qb(),r.Rb(6,"div",0),r.Nb(7,"div",2),r.Rb(8,"div",2),r.Rb(9,"button",3),r.sc(10,"\u0110\u1ecba ch\u1ec9 thanh to\xe1n "),r.Qb(),r.Qb(),r.Rb(11,"div",2),r.Rb(12,"button",4),r.sc(13,"H\xecnh th\u1ee9c giao h\xe0ng "),r.Qb(),r.Qb(),r.Rb(14,"div",2),r.Rb(15,"button",5),r.sc(16,"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng "),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",0),r.Nb(18,"div",2),r.Rb(19,"div",6),r.Rb(20,"div",0),r.Rb(21,"div",7),r.Nb(22,"img",8),r.Rb(23,"h6"),r.Nb(24,"input",9),r.sc(25," H\xecnh th\u1ee9c giao h\xe0ng t\u1eadn nh\xe0"),r.Qb(),r.Nb(26,"hr"),r.Qb(),r.Qb(),r.Rb(27,"div",0),r.Rb(28,"div",7),r.Rb(29,"h6"),r.Rb(30,"span",10),r.sc(31,"*"),r.Qb(),r.sc(32," M\u1eddi b\u1ea1n ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n"),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",0),r.Rb(34,"div",1),r.Nb(35,"img",11),r.Qb(),r.Rb(36,"div",1),r.Nb(37,"img",12),r.Qb(),r.Rb(38,"div",1),r.Nb(39,"img",13),r.Qb(),r.Qb(),r.Qb(),r.Rb(40,"div",1),r.Rb(41,"div",0),r.Rb(42,"div",7),r.Rb(43,"div",14),r.Rb(44,"div",15),r.Rb(45,"h4",16),r.sc(46,"C\xf3 c\xe2u h\u1ecfi?"),r.Qb(),r.Rb(47,"p",17),r.sc(48,"Vui l\xf2ng li\xean h\u1ec7 b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 24 gi\u1edd c\u1ee7a ch\xfang t\xf4i."),r.Qb(),r.Qb(),r.Rb(49,"div",18),r.Rb(50,"h6"),r.sc(51,"S\u0110T.(028)-090123090"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(52,"div",0),r.Rb(53,"div",7),r.Rb(54,"div",14),r.Rb(55,"h4",19),r.sc(56,"T\u1ed5ng K\u1ebft \u0110\u01a1n H\xe0ng"),r.Qb(),r.Rb(57,"div",20),r.Rb(58,"h6"),r.sc(59,"Giao h\xe0ng ti\xeau chu\u1ea9n : 49.000"),r.Qb(),r.Qb(),r.Rb(60,"div",21),r.Rb(61,"h6"),r.sc(62,"T\u1ed5ng s\u1ed1 ti\u1ec1n c\u1ea7n thanh to\xe1n : 138.000"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),up);function pp(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),r.Qb())}function vp(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),r.Qb())}function gp(e,t){1&e&&(r.Rb(0,"div",12),r.sc(1," Gi\xe1 ban \u0111\u1ea7u ph\u1ea3i l\xe0 s\u1ed1 nguy\xean d\u01b0\u01a1ng "),r.Qb())}function bp(e,t){if(1&e&&(r.Rb(0,"option",45),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("value",n.id),r.Ab(1),r.uc(" ",n.step," ")}}function mp(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span",12),r.sc(2,"Vui l\xf2ng ch\u1ecdn b\u01b0\u1edbc gi\xe1 \u0111\u1ec3 \u0111\u1ea5u gi\xe1.\u201d "),r.Qb(),r.Qb())}function yp(e,t){if(1&e&&(r.Rb(0,"option",45),r.sc(1),r.Qb()),2&e){var n=t.$implicit;r.fc("value",n.id),r.Ab(1),r.uc(" ",n.name," ")}}function _p(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span",12),r.sc(2,"Vui l\xf2ng ch\u1ecdn ch\u1ee7ng lo\u1ea1i s\u1ea3n ph\u1ea9m."),r.Qb(),r.Qb())}function wp(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Qb())}function Cp(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i! "),r.Qb())}function kp(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Qb())}function Sp(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1! "),r.Qb())}function Ep(e,t){1&e&&(r.Rb(0,"div"),r.sc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Rp(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",13),r.Zb("ngSubmit",(function(){return r.mc(n),r.bc().addNewProduct()})),r.Rb(1,"fieldset"),r.Rb(2,"legend"),r.Rb(3,"div",14),r.Rb(4,"h1"),r.sc(5,"Y\xeau c\u1ea7u \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",10),r.Rb(7,"div",15),r.Nb(8,"object",16),r.Rb(9,"label",17),r.sc(10,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(11,"span",12),r.sc(12," (*)"),r.Qb(),r.sc(13,":"),r.Qb(),r.Qb(),r.Nb(14,"input",18),r.Rb(15,"div",19),r.rc(16,pp,2,0,"div",20),r.Qb(),r.Qb(),r.Rb(17,"div",10),r.Rb(18,"div",21),r.Nb(19,"object",22),r.Rb(20,"label",17),r.sc(21,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(22,"span",12),r.sc(23," (*)"),r.Qb(),r.sc(24,":"),r.Qb(),r.Qb(),r.Nb(25,"input",23),r.Rb(26,"div",19),r.rc(27,vp,2,0,"div",20),r.rc(28,gp,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(29,"div",10),r.Rb(30,"div",21),r.Nb(31,"object",25),r.Rb(32,"label",17),r.sc(33,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Rb(34,"span",12),r.sc(35," (*)"),r.Qb(),r.sc(36,":"),r.Qb(),r.Qb(),r.Rb(37,"div",26),r.Rb(38,"select",27),r.Rb(39,"option",28),r.sc(40,"Chon b\u01b0\u1edbc gi\xe1"),r.Qb(),r.rc(41,bp,2,2,"option",29),r.Qb(),r.Qb(),r.rc(42,mp,3,0,"div",20),r.Qb(),r.Rb(43,"div",10),r.Rb(44,"div",21),r.Nb(45,"object",30),r.Rb(46,"label",17),r.sc(47,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(48,"span",12),r.sc(49,"(*)"),r.Qb(),r.sc(50,":"),r.Qb(),r.Qb(),r.Rb(51,"div",26),r.Rb(52,"select",31),r.Rb(53,"option",28),r.sc(54,"Ch\u1ee7ng lo\u1ea1i"),r.Qb(),r.rc(55,yp,2,2,"option",29),r.Qb(),r.Qb(),r.rc(56,_p,3,0,"div",20),r.Qb(),r.Rb(57,"div",10),r.Rb(58,"div",21),r.Nb(59,"object",22),r.Rb(60,"label",17),r.sc(61,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Rb(62,"span",12),r.sc(63,"(*)"),r.Qb(),r.sc(64,":"),r.Qb(),r.Qb(),r.Rb(65,"input",32),r.Zb("change",(function(e){return r.mc(n),r.bc().showPreview(e)})),r.Qb(),r.Qb(),r.Rb(66,"div",10),r.Rb(67,"div",21),r.Nb(68,"object",33),r.Rb(69,"label",17),r.sc(70,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(71,"span",12),r.sc(72,"(*)"),r.Qb(),r.sc(73,":"),r.Qb(),r.Qb(),r.Nb(74,"textarea",34),r.Rb(75,"div",19),r.rc(76,wp,2,0,"div",20),r.Qb(),r.Qb(),r.Rb(77,"div",10),r.Rb(78,"div",21),r.Nb(79,"object",35),r.Rb(80,"label",36),r.sc(81,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Rb(82,"span",12),r.sc(83," (*)"),r.Qb(),r.sc(84,":"),r.Qb(),r.Qb(),r.Nb(85,"input",37),r.Rb(86,"div",19),r.rc(87,Cp,2,0,"div",20),r.rc(88,kp,2,0,"div",20),r.Qb(),r.Qb(),r.Rb(89,"div",10),r.Rb(90,"div",21),r.Nb(91,"object",38),r.Rb(92,"label",36),r.sc(93,"Th\u1eddi gian k\u1ebft th\xfac"),r.Rb(94,"span",12),r.sc(95," (*)"),r.Qb(),r.sc(96,":"),r.Qb(),r.Qb(),r.Nb(97,"input",39),r.Rb(98,"div",19),r.rc(99,Sp,2,0,"div",20),r.rc(100,Ep,2,0,"div",20),r.Qb(),r.Qb(),r.Rb(101,"div",40),r.Rb(102,"button",41),r.Nb(103,"object",42),r.Rb(104,"p"),r.sc(105,"\u0110\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Rb(106,"button",43),r.Nb(107,"object",44),r.Rb(108,"p"),r.sc(109,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.formCreateProduct),r.Ab(14),r.fc("ngClass",null!=i.formCreateProduct.controls.name&&i.formCreateProduct.controls.name.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.name.errors?null:i.formCreateProduct.controls.name.errors.required)&&i.formCreateProduct.controls.name.touched),r.Ab(9),r.fc("ngClass",i.formCreateProduct.controls.initialPrice.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.initialPrice.errors?null:i.formCreateProduct.controls.initialPrice.errors.required)&&i.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.fc("ngIf",i.formCreateProduct.controls.initialPrice.hasError("pattern")||i.formCreateProduct.controls.initialPrice.hasError("min")),r.Ab(13),r.fc("ngForOf",i.priceStepList),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.priceStep.errors?null:i.formCreateProduct.controls.priceStep.errors.required)&&i.formCreateProduct.controls.priceStep.touched),r.Ab(13),r.fc("ngForOf",i.categoryList),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.category.errors?null:i.formCreateProduct.controls.category.errors.required)&&i.formCreateProduct.controls.category.touched),r.Ab(18),r.fc("ngClass",i.formCreateProduct.controls.description.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.controls.description.errors?null:i.formCreateProduct.controls.description.errors.required)&&i.formCreateProduct.controls.description.touched),r.Ab(9),r.fc("ngClass",null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkStartTime||i.formCreateProduct.controls.startTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkStartTime)&&i.formCreateProduct.controls.startTime.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.startTime.errors?null:i.formCreateProduct.controls.startTime.errors.required)&&i.formCreateProduct.controls.startTime.touched),r.Ab(9),r.fc("ngClass",null!=i.formCreateProduct.errors&&i.formCreateProduct.errors.checkEndTime||i.formCreateProduct.controls.endTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==i.formCreateProduct.errors?null:i.formCreateProduct.errors.checkEndTime)&&i.formCreateProduct.controls.endTime.touched),r.Ab(1),r.fc("ngIf",(null==i.formCreateProduct.controls.endTime.errors?null:i.formCreateProduct.controls.endTime.errors.required)&&i.formCreateProduct.controls.endTime.touched)}}var Tp,Ip,xp,Ap,Op,Np=function(e){return new Date(e.get("startTime").value).getTime()-(new Date).getTime()<0?{checkStartTime:!0}:null},Pp=function(e){var t=new Date(e.get("startTime").value).getTime();console.log(t);var n=new Date(e.get("endTime").value).getTime();return console.log(n),n-t<0&&t&&n?{checkEndTime:!0}:null},Dp=((Tp=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._formBuilder=t,this._productService=n,this._categoryService=r,this._priceStepService=i,this._userService=o,this._storage=a,this._imageProductService=s,this._toast=u,this.categoryList=[],this.priceStepList=[],this.selectedImages=[],this.img=[],this.selectedFile=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._categoryService.getListCategory().subscribe((function(t){console.log("category",t),e.categoryList=t})),this._priceStepService.getListPriceStep().subscribe((function(t){e.priceStepList=t})),this.formCreateProduct=this._formBuilder.group({id:["",[Jo.required,Jo.pattern("[A-Za-z\\s]+")]],name:["",[Jo.required]],description:["",[Jo.required]],initialPrice:["",[Jo.required,Jo.min(0),Jo.pattern("\\d+")]],startTime:["",[Jo.required]],endTime:["",[Jo.required]],registerDay:["",[Jo.required]],priceStep:["",[Jo.required]],category:["",[Jo.required]],user:["",[Jo.required]]},{validators:[Np,Pp]})}},{key:"addNewProduct",value:function(){var e=this;this.productDto=this.formCreateProduct.value,this._productService.save(this.productDto).subscribe((function(t){if(0!==e.img.length)for(var n=0;n<e.img.length;n++)e._imageProductService.create({url:e.img[n],product:t.id}).subscribe((function(){}));e._toast.success("Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng, \u0111\u1ee3i b\u1ed9 ph\u1eadn ki\u1ec3m duy\u1ec7t x\xe1c nh\u1eadn v\xe0 th\xf4ng b\xe1o b\u1ea1n sau nh\xe9 !")}),(function(t){e._toast.error("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c duy\u1ec7t, vui l\xf2ng nh\u1eadp ch\xednh x\xe1c \u0111i\u1ec1u ki\u1ec7n \u0111\u1ea5u gi\xe1")}))}},{key:"findUserById",value:function(e){var t=this;this._userService.findUserById(e).subscribe((function(e){t.userFind=e,t.formCreateProduct.patchValue({user:t.userFind.id}),console.log(t.userFind)}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedFile=e.target.files):this.selectedFile=[],console.log(this.selectedFile),0!==this.selectedFile.length)for(var n=function(e){var n=t.selectedFile[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.img.push(e),console.log(e)}))}))).subscribe((function(){}))},r=0;r<this.selectedFile.length;r++)n(r)}},{key:"deleteImageNew",value:function(e){this.img.splice(e,1),console.log(e)}},{key:"resetFindUserById",value:function(e){e.removeAttribute("disabled")}}]),e}()).\u0275fac=function(e){return new(e||Tp)(r.Mb(Qs),r.Mb(zu),r.Mb(Ku),r.Mb(Wu),r.Mb(Yu),r.Mb(Pl),r.Mb(Fl),r.Mb(gh))},Tp.\u0275cmp=r.Gb({type:Tp,selectors:[["app-auction-product-add"]],decls:17,vars:1,consts:[["type","button","data-bs-toggle","modal","data-bs-target","#auction-model",1,"btn","btn-primary"],["id","auction-model","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","h-100","d-flex","flex-column"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"auction","d-flex","align-items-center"],[1,"row","d-flex","me-5","ms-auto"],[1,"boxed","shadow-md","h-100","ms-auto"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-2","text-center"],[1,"form-field","d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],[1,"ms-2"],["formControlName","name","id","name","type","text","placeholder","Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/dollar.svg","width","20","height","20"],["formControlName","initialPrice","id","initialPrice","type","text","placeholder","Nh\u1eadp gi\xe1 ban \u0111\u1ea7u",1,"form-control",3,"ngClass"],["style","color: red",4,"ngIf"],["data","assets/icons/money-increase.svg","width","20","height","20"],[1,"input-group"],["formControlName","priceStep",1,"form-select","w-50"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["formControlName","category",1,"form-select","w-50"],["type","file","multiple","",1,"form-control",2,"width","60%",3,"change"],["data","assets/icons/information.svg","width","20","height","20"],["formControlName","description","id","description",1,"form-control",3,"ngClass"],["data","assets/icons/hour-end.svg","width","20","height","20"],[1,"form-label","ms-2"],["type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],[1,"btn","btn-primary","d-flex","justify-content-center"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-outline-primary","ms-2","d-flex","justify-content-center"],["data","assets/icons/back.svg","width","20","height","20",1,"me-2","slide"],[3,"value"]],template:function(e,t){1&e&&(r.Rb(0,"button",0),r.sc(1," Auction start\n"),r.Qb(),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Nb(6,"button",5),r.Rb(7,"div",6),r.Rb(8,"div",7),r.Rb(9,"div",8),r.rc(10,Rp,110,18,"form",9),r.Rb(11,"div",10),r.Rb(12,"span",11),r.sc(13," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Rb(14,"span",12),r.sc(15," (*)"),r.Qb(),r.sc(16," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(10),r.fc("ngIf",t.formCreateProduct))},directives:[we,bs,Wo,_s,Qo,Ko,Ds,be,Sa,Ea,Oa,ye],styles:["*[_ngcontent-%COMP%]{font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;padding:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}.boxed[_ngcontent-%COMP%]{width:460px;max-height:800px;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;background-color:transparent;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto}button[_ngcontent-%COMP%]{width:200px}.auction[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:20px}.auction[_ngcontent-%COMP%]{width:100%;height:850px;margin:auto 0;display:flex;box-shadow:1px 1px 17px rgba(0,0,0,.35);background-size:cover;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0);background-color:#fff}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}input[type=file][_ngcontent-%COMP%]::file-selector-button{background-color:#0d6efd;color:#fff}input[type=file][_ngcontent-%COMP%]:hover::file-selector-button{background-color:#0d6efd!important;color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.btn-close[_ngcontent-%COMP%]{position:absolute;left:28px;top:40px;width:50px}"]}),Tp),Mp=n("qgXg"),Fp=n("Ylt2"),jp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new Qp(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Rt.a;if(this.isStopped||this.hasError?t=In.a.EMPTY:(this.observers.push(e),t=new Fp.a(this,e)),i&&e.add(e=new ec.a(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||Mp.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(Et.a),Qp=_createClass((function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n})),Lp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).value=null,e.hasNext=!1,e.hasCompleted=!1,e}return _createClass(n,[{key:"_subscribe",value:function(e){return this.hasError?(e.error(this.thrownError),In.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),In.a.EMPTY):_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e)}},{key:"next",value:function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}},{key:"error",value:function(e){this.hasCompleted||_get(_getPrototypeOf(n.prototype),"error",this).call(this,e)}},{key:"complete",value:function(){this.hasCompleted=!0,this.hasNext&&_get(_getPrototypeOf(n.prototype),"next",this).call(this,this.value),_get(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(Et.a),Up=_createClass((function e(){_classCallCheck(this,e)})),Vp=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scope:"email"};return _classCallCheck(this,n),(r=t.call(this)).clientId=e,r.initOptions=i,r}return _createClass(n,[{key:"initialize",value:function(){var e=this;return new Promise((function(t,r){try{e.loadScript(n.PROVIDER_ID,"https://apis.google.com/js/platform.js",(function(){gapi.load("auth2",(function(){e.auth2=gapi.auth2.init(Object.assign(Object.assign({},e.initOptions),{client_id:e.clientId})),e.auth2.then((function(){t()})).catch((function(e){r(e)}))}))}))}catch(i){r(i)}}))}},{key:"getLoginStatus",value:function(e){var t=this,r=Object.assign(Object.assign({},this.initOptions),e);return new Promise((function(e,i){if(t.auth2.isSignedIn.get()){var o=new Up,a=t.auth2.currentUser.get().getBasicProfile(),s=t.auth2.currentUser.get().getAuthResponse(!0);o.id=a.getId(),o.name=a.getName(),o.email=a.getEmail(),o.photoUrl=a.getImageUrl(),o.firstName=a.getGivenName(),o.lastName=a.getFamilyName(),o.response=s;var u=function(t){o.authToken=t.access_token,o.idToken=t.id_token,e(o)};r.refreshToken?t.auth2.currentUser.get().reloadAuthResponse().then(u):u(t.auth2.currentUser.get().getAuthResponse(!0))}else i("No user is currently logged in with "+n.PROVIDER_ID)}))}},{key:"signIn",value:function(e){var t=this,n=Object.assign(Object.assign({},this.initOptions),e);return new Promise((function(r,i){(n&&n.offline_access?t.auth2.grantOfflineAccess(e):t.auth2.signIn(e)).then((function(e){var n=new Up;if(e&&e.code)n.authorizationCode=e.code;else{var i=t.auth2.currentUser.get().getBasicProfile(),o=t.auth2.currentUser.get().getAuthResponse(!0),a=o.access_token,s=o.id_token;n.id=i.getId(),n.name=i.getName(),n.email=i.getEmail(),n.photoUrl=i.getImageUrl(),n.firstName=i.getGivenName(),n.lastName=i.getFamilyName(),n.authToken=a,n.idToken=s,n.response=o}r(n)}),(function(e){i(e)})).catch((function(e){i(e)}))}))}},{key:"signOut",value:function(e){var t=this;return new Promise((function(n,r){(e?t.auth2.disconnect():t.auth2.signOut()).then((function(e){e?r(e):n()})).catch((function(e){r(e)}))}))}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"loadScript",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("undefined"!=typeof document&&!document.getElementById(e)){var i=document.createElement("script");i.async=!0,i.src=t,i.onload=n,r||(r=document.head),r.appendChild(i)}}}]),e}());return e.PROVIDER_ID="GOOGLE",e}(),Bp=((xp=function(){function e(t){var n=this;_classCallCheck(this,e),this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new jp(1),this.initialized=!1,this._initState=new Lp,t instanceof Promise?t.then((function(e){n.initialize(e)})):this.initialize(t)}return _createClass(e,[{key:"authState",get:function(){return this._authState.asObservable()}},{key:"initState",get:function(){return this._initState.asObservable()}},{key:"initialize",value:function(e){var t=this;this.autoLogin=void 0!==e.autoLogin&&e.autoLogin;var n=e.onError,r=void 0===n?console.error:n;e.providers.forEach((function(e){t.providers.set(e.id,e.provider)})),Promise.all(Array.from(this.providers.values()).map((function(e){return e.initialize()}))).then((function(){if(t.autoLogin){var e=[],n=!1;t.providers.forEach((function(r,i){var o=r.getLoginStatus();e.push(o),o.then((function(e){e.provider=i,t._user=e,t._authState.next(e),n=!0})).catch(console.debug)})),Promise.all(e).catch((function(){n||(t._user=null,t._authState.next(null))}))}})).catch((function(e){r(e)})).finally((function(){t.initialized=!0,t._initState.next(t.initialized),t._initState.complete()}))}},{key:"refreshAuthToken",value:function(t){var n=this;return new Promise((function(r,i){if(n.initialized)if(t!==Vp.PROVIDER_ID)i(e.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{var o=n.providers.get(t);o?o.getLoginStatus({refreshToken:!0}).then((function(e){e.provider=t,n._user=e,n._authState.next(e),r()})).catch((function(e){i(e)})):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_INITIALIZED)}))}},{key:"signIn",value:function(t,n){var r=this;return new Promise((function(i,o){if(r.initialized){var a=r.providers.get(t);a?a.signIn(n).then((function(e){e.provider=t,i(e),r._user=e,r._authState.next(e)})).catch((function(e){o(e)})):o(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(e.ERR_NOT_INITIALIZED)}))}},{key:"signOut",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,i){if(t.initialized)if(t._user){var o=t.providers.get(t._user.provider);o?o.signOut(n).then((function(){r(),t._user=null,t._authState.next(null)})).catch((function(e){i(e)})):i(e.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(e.ERR_NOT_LOGGED_IN);else i(e.ERR_NOT_INITIALIZED)}))}}]),e}()).\u0275fac=function(e){return new(e||xp)(r.Vb("SocialAuthServiceConfig"))},xp.\u0275prov=r.Ib({token:xp,factory:xp.\u0275fac}),xp.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",xp.ERR_NOT_LOGGED_IN="Not logged in",xp.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",xp.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",xp),qp=((Ip=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}return _createClass(e,null,[{key:"initialize",value:function(t){return{ngModule:e,providers:[Bp,{provide:"SocialAuthServiceConfig",useValue:t}]}}}]),e}()).\u0275mod=r.Kb({type:Ip}),Ip.\u0275inj=r.Jb({factory:function(e){return new(e||Ip)(r.Vb(Ip,12))},providers:[Bp],imports:[[Qe]]}),Ip),Hp=_createClass((function e(t){_classCallCheck(this,e),this.value=t})),Gp=((Op=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"login",value:function(e){return this._httpClient.post(i.LOGIN_API,e)}},{key:"googleLogin",value:function(e){return this._httpClient.post(i.GOOGLE_LOGIN_API,e)}}]),e}()).\u0275fac=function(e){return new(e||Op)(r.Vb(gu))},Op.\u0275prov=r.Ib({token:Op,factory:Op.\u0275fac,providedIn:"root"}),Op),zp=((Ap=function(){function e(){_classCallCheck(this,e),this.roles=[]}return _createClass(e,[{key:"setTokenLocal",value:function(e){localStorage.removeItem("Token_key"),localStorage.setItem("Token_key",e)}},{key:"setTokenSession",value:function(e){sessionStorage.removeItem("Token_key"),sessionStorage.setItem("Token_key",e)}},{key:"getToken",value:function(){return null!==localStorage.getItem("Token_key")?localStorage.getItem("Token_key"):sessionStorage.getItem("Token_key")}},{key:"setUserLocal",value:function(e){localStorage.removeItem("User_key"),localStorage.setItem("User_key",JSON.stringify(e))}},{key:"setUserSession",value:function(e){sessionStorage.removeItem("User_key"),sessionStorage.setItem("User_key",JSON.stringify(e))}},{key:"getUser",value:function(){return null!==localStorage.getItem("User_key")?localStorage.getItem("User_key"):sessionStorage.getItem("User_key")}},{key:"setAccountLocal",value:function(e){localStorage.removeItem("Account_key"),localStorage.setItem("Account_key",JSON.stringify(e))}},{key:"setAccountSession",value:function(e){sessionStorage.removeItem("Account_key"),sessionStorage.setItem("Account_key",JSON.stringify(e))}},{key:"getAccount",value:function(){return null!==localStorage.getItem("Account_key")?localStorage.getItem("Account_key"):sessionStorage.getItem("Account_key")}},{key:"setRoleLocal",value:function(e){localStorage.removeItem("Role_key"),localStorage.setItem("Role_key",JSON.stringify(e))}},{key:"setRoleSession",value:function(e){sessionStorage.removeItem("Role_key"),sessionStorage.setItem("Role_key",JSON.stringify(e))}},{key:"getRole",value:function(){var e=this;return null!==localStorage.getItem("Role_key")?JSON.parse(localStorage.getItem("Role_key")).forEach((function(t){e.roles.push(t.authority)})):JSON.parse(sessionStorage.getItem("Role_key")).forEach((function(t){e.roles.push(t.authority)})),this.roles}},{key:"logOut",value:function(){window.localStorage.clear(),window.sessionStorage.clear()}},{key:"rememberMe",value:function(e,t,n,r){this.logOut(),this.setAccountLocal(t),this.setRoleLocal(n),this.setUserLocal(r),this.setTokenLocal(e)}},{key:"isLogged",value:function(){return!(null==window.sessionStorage.getItem("Token_key")&&null==window.localStorage.getItem("Token_key"))}}]),e}()).\u0275fac=function(e){return new(e||Ap)},Ap.\u0275prov=r.Ib({token:Ap,factory:Ap.\u0275fac,providedIn:"root"}),Ap);function Kp(e,t){1&e&&(r.Rb(0,"div",20),r.Rb(1,"p",30),r.sc(2,"Vui lo\u0300ng nh\xe2\u0323p t\xean \u0111\u0103ng nh\xe2\u0323p"),r.Qb(),r.Qb())}function Wp(e,t){1&e&&(r.Rb(0,"div",20),r.Rb(1,"p",30),r.sc(2,"T\xean \u0111\u0103ng nh\xe2\u0323p t\xf4\u0301i thi\xea\u0309u ch\u01b0\u0301a 4 ky\u0301 t\u01b0\u0323"),r.Qb(),r.Qb())}function Yp(e,t){1&e&&(r.Rb(0,"div",20),r.Rb(1,"p",30),r.sc(2,"Vui lo\u0300ng nh\xe2\u0323p m\xe2\u0323t kh\xe2\u0309u"),r.Qb(),r.Qb())}function Zp(e,t){1&e&&(r.Rb(0,"div",20),r.Rb(1,"p",30),r.sc(2,"M\xe2\u0323t kh\xe2\u0309u t\xf4\u0301i thi\xea\u0309u ch\u01b0\u0301a 5 ky\u0301 t\u01b0\u0323"),r.Qb(),r.Qb())}var $p,Xp,Jp,ev=((Jp=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.formBuilder=t,this.toastr=n,this.router=r,this.authService=i,this.tokenService=o,this.socialAuthService=a}return _createClass(e,[{key:"ngOnInit",value:function(){this.getFormLogin()}},{key:"getFormLogin",value:function(){this.rfLogin=this.formBuilder.group({username:["",[Jo.required,Jo.minLength(3)]],password:["",[Jo.required,Jo.minLength(5)]],rememberMe:[!1]})}},{key:"login",value:function(){var e=this;this.authService.login(this.rfLogin.value).subscribe((function(t){null!=t.token&&(e.rfLogin.value.rememberMe?e.tokenService.rememberMe(t.token,t.account,t.roles,t.user):(e.tokenService.setAccountSession(t.account),e.tokenService.setTokenSession(t.token),e.tokenService.setUserSession(t.user),e.tokenService.setRoleSession(t.roles)),e.router.navigate(["/home"]).then((function(){location.reload()})))}),(function(t){t.message?(e.toastr.error("Kh\xf4ng ti\u0300m th\xe2\u0301y ng\u01b0\u01a1\u0300i du\u0300ng"),e.router.navigateByUrl("/login")):(e.toastr.error("\u0110\u0103ng nh\xe2\u0323p th\xe2\u0301t ba\u0323i"),e.router.navigateByUrl("/login"),console.log("\u0110\u0103ng nh\xe2\u0323p th\xe2\u0301t ba\u0323i"))}))}},{key:"loginWithGoogle",value:function(){var e=this;this.socialAuthService.signIn(Vp.PROVIDER_ID).then((function(t){e.socialUser=t;var n=new Hp(e.socialUser.idToken);e.authService.googleLogin(n).subscribe((function(t){null==t.token?e.router.navigateByUrl("/registerWithGoogle/"+t.email):(e.tokenService.setAccountLocal(t.account),e.tokenService.setTokenLocal(t.token),e.tokenService.setUserLocal(t.user),e.tokenService.setRoleLocal(t.roles),e.router.navigate(["/home"]).then((function(){location.reload()})))}))}))}}]),e}()).\u0275fac=function(e){return new(e||Jp)(r.Mb(Qs),r.Mb(gh),r.Mb(Zi),r.Mb(Gp),r.Mb(zp),r.Mb(Bp))},Jp.\u0275cmp=r.Gb({type:Jp,selectors:[["app-login"]],decls:48,vars:6,consts:[[2,"height","100vh","display","flex","justify-content","center","align-items","center"],[1,"container","h-100"],[1,"row","h-100",2,"display","flex","justify-content","center","align-items","center","box-sizing","border-box"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"card","shadow-lg",2,"box-sizing","border-box"],[1,"card-body"],[1,"mb-5","mt-2","text-primary","h2","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-4"],["formControlName","username","type","text","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["class","col-12",4,"ngIf"],["formControlName","password","type","password","id","floatingPassword","placeholder","name@example.com",1,"form-control"],["for","floatingPassword"],[1,"row","form-floating","mb-4"],[1,"col-7"],["type","checkbox","formControlName","rememberMe","name","remember","id","remember",1,"form-check-input"],["for","remember",1,"form-check-label",2,"margin-left","3px"],[1,"col-5"],["href","#",1,"float-end","mb-1"],[1,"col-12"],["type","submit",1,"btn","btn-primary",2,"width","100%",3,"disabled"],[1,"mt-5","bordert"],[1,"text-center",2,"margin-top","35px"],["href","https://www.google.com","target","_blank",1,"px-3"],["src","https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-suite-everything-you-need-know-about-google-newest-0.png","alt",""],[1,"card-footer","py-3","border-1"],[1,"text-center"],["href","#",1,"abc"],[1,"text-center","mt-4","text-muted"],[2,"color","red","margin-left","15px"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"h1",6),r.sc(7,"\u0110\u0103ng Nh\xe2\u0323p"),r.Qb(),r.Rb(8,"form",7),r.Zb("ngSubmit",(function(){return t.login()})),r.Rb(9,"div",8),r.Nb(10,"input",9),r.Rb(11,"label",10),r.sc(12,"T\xean \u0111\u0103ng nh\xe2\u0323p"),r.Rb(13,"small"),r.sc(14," *"),r.Qb(),r.Qb(),r.rc(15,Kp,3,0,"div",11),r.rc(16,Wp,3,0,"div",11),r.Qb(),r.Rb(17,"div",8),r.Nb(18,"input",12),r.Rb(19,"label",13),r.sc(20,"M\xe2\u0323t kh\xe2\u0309u"),r.Rb(21,"small"),r.sc(22," *"),r.Qb(),r.Qb(),r.rc(23,Yp,3,0,"div",11),r.rc(24,Zp,3,0,"div",11),r.Qb(),r.Rb(25,"div",14),r.Rb(26,"div",15),r.Nb(27,"input",16),r.Rb(28,"label",17),r.sc(29,"Ghi nh\u01a1\u0301 \u0111\u0103ng nh\xe2\u0323p"),r.Qb(),r.Qb(),r.Rb(30,"div",18),r.Rb(31,"a",19),r.sc(32," Qu\xean m\xe2\u0323t kh\xe2\u0309u? "),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",14),r.Rb(34,"div",20),r.Rb(35,"button",21),r.sc(36," \u0110\u0103ng Nh\xe2\u0323p "),r.Qb(),r.Qb(),r.Qb(),r.Rb(37,"div",22),r.Rb(38,"div",23),r.Rb(39,"a",24),r.Nb(40,"img",25),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(41,"div",26),r.Rb(42,"div",27),r.sc(43," Ba\u0323n ch\u01b0a co\u0301 ta\u0300i khoa\u0309n? "),r.Rb(44,"a",28),r.sc(45,"\u0110\u0103ng ky\u0301 ngay"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(46,"div",29),r.sc(47," C0622G1 - Website \u0111\xe2\u0301u gia\u0301 "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(8),r.fc("formGroup",t.rfLogin),r.Ab(7),r.fc("ngIf",t.rfLogin.controls.username.hasError("required")&&t.rfLogin.controls.username.touched),r.Ab(1),r.fc("ngIf",t.rfLogin.controls.username.hasError("minlength")&&t.rfLogin.controls.username.touched),r.Ab(7),r.fc("ngIf",t.rfLogin.controls.password.hasError("required")&&t.rfLogin.controls.password.touched),r.Ab(1),r.fc("ngIf",t.rfLogin.controls.password.hasError("minlength")&&t.rfLogin.controls.password.touched),r.Ab(11),r.fc("disabled",t.rfLogin.invalid))},directives:[bs,Wo,_s,Qo,Ko,Ds,we,Mo],styles:[""]}),Jp),tv=((Xp=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"create",value:function(e){return this._httpClient.post(i.API_URL_GUIDE,e)}},{key:"update",value:function(e){return this._httpClient.put(i.API_URL_GUIDE,e)}},{key:"getGuideById",value:function(e){return this._httpClient.get(i.API_URL_GUIDE+"/find/"+e)}}]),e}()).\u0275fac=function(e){return new(e||Xp)(r.Vb(gu))},Xp.\u0275prov=r.Ib({token:Xp,factory:Xp.\u0275fac,providedIn:"root"}),Xp),nv=(($p=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"create",value:function(e){return this._httpClient.post(i.API_URL_GUIDE+"/image",e)}},{key:"getListImage",value:function(e){return this._httpClient.get(i.API_URL_GUIDE+"/image/find/"+e)}},{key:"delete",value:function(e){return this._httpClient.delete(i.API_URL_GUIDE+"/image/delete/"+e)}}]),e}()).\u0275fac=function(e){return new(e||$p)(r.Vb(gu))},$p.\u0275prov=r.Ib({token:$p,factory:$p.\u0275fac,providedIn:"root"}),$p);function rv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"Ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),r.Qb(),r.Qb())}function iv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"T\xean ch\u1ee7 \u0111\u1ec1 qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn"),r.Qb(),r.Qb())}function ov(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"T\xean ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t"),r.Qb(),r.Qb())}function av(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"N\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),r.Qb(),r.Qb())}function sv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"N\u1ed9i dung qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn"),r.Qb(),r.Qb())}function uv(e,t){if(1&e&&(r.Rb(0,"p"),r.sc(1),r.Qb()),2&e){var n=r.bc();r.Ab(1),r.tc(n.messageCreate)}}function cv(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div"),r.Rb(1,"div",22),r.Nb(2,"img",23),r.Rb(3,"span",24),r.Zb("click",(function(){r.mc(n);var e=t.index,i=r.bc(),o=r.lc(32);return i.deleteImageNew(e),o.value=""})),r.Nb(4,"i",25),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit;r.Ab(2),r.gc("src",i,r.oc)}}var lv,hv=((lv=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._guideService=t,this._formBuilder=n,this._storage=r,this._imgUrlGuideService=i,this._activatedRouter=o,this._toastService=a,this.selectedImages=[],this.imgCreate=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.guideForm=this._formBuilder.group({title:["",[Jo.required,Jo.minLength(10),Jo.maxLength(100),Jo.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef90-9,.?! ]*$")]],content:["",[Jo.required,Jo.minLength(30),Jo.maxLength(1e3)]]})}},{key:"createGuide",value:function(){var e=this;this._guideService.create(this.guideForm.value).subscribe((function(t){if(e._toastService.success("Th\xeam m\u1edbi h\u01b0\u1edbng d\u1eabn th\xe0nh c\xf4ng","Create Guide!",{positionClass:"toast-top-right",timeOut:7e3}),0!==e.imgCreate.length)for(var n=0;n<e.imgCreate.length;n++){var r={url:e.imgCreate[n],guideId:t.id};console.log(r),e._imgUrlGuideService.create(r).subscribe((function(){console.log("SUCCESS CREATE IMAGE")}))}}))}},{key:"showPreview",value:function(e){var t=this;e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],0!==this.selectedImages.length&&(setTimeout((function(){t.messageCreate="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i.......";for(var e=function(e){var n=t.selectedImages[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.imgCreate.push(e),t.messageCreate=""}))}))).subscribe((function(){}))},n=0;n<t.selectedImages.length;n++)e(n)}),3e3),console.log(this.imgCreate))}},{key:"deleteImageNew",value:function(e){this.imgCreate.splice(e,1),console.log(e)}}]),e}()).\u0275fac=function(e){return new(e||lv)(r.Mb(tv),r.Mb(Qs),r.Mb(Pl),r.Mb(nv),r.Mb(Ur),r.Mb(gh))},lv.\u0275cmp=r.Gb({type:lv,selectors:[["app-guide-add"]],decls:43,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-lg-6"],[1,"center"],[1,"guide",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],["id","guideform",3,"formGroup","ngSubmit"],["for","title",1,"form-label"],[2,"color","red"],["formControlName","title","id","title","type","text","placeholder"," Ch\u1ecdn ch\u1ee7 \u0111\u1ec1",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","floatingTextarea"],["formControlName","content","rows","6","placeholder","Ghi n\u1ed9i dung \u1edf \u0111\xe2y","id","floatingTextarea",1,"form-control",3,"ngClass"],["for","file",1,"form-label"],["type","file","id","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",3,"change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","20px"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"row","bdg","d-flex","align-items-center","w-50"],[1,"d-block","w-50"],["src","https://slack-imgs.com/?c=1&o1=ro&url=https%3A%2F%2Fmdbcdn.b-cdn.net%2Fimg%2FPhotos%2Fnew-templates%2Fbootstrap-registration%2Fdraw1.webp","alt","",2,"width","600px","height","500px","margin-top","100px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"h3",3),r.sc(4,"T\u1ea1o M\u1edbi H\u01b0\u1edbng D\u1eabn"),r.Qb(),r.Rb(5,"div",4),r.Rb(6,"form",5),r.Zb("ngSubmit",(function(){return t.createGuide()})),r.Rb(7,"div",1),r.Rb(8,"label",6),r.sc(9,"Ch\u1ee7 \u0111\u1ec1 ("),r.Rb(10,"span",7),r.sc(11,"*"),r.Qb(),r.sc(12,")"),r.Qb(),r.Nb(13,"input",8),r.Rb(14,"div",9),r.rc(15,rv,3,0,"div",10),r.rc(16,iv,3,0,"div",10),r.rc(17,ov,3,0,"div",10),r.Qb(),r.Qb(),r.Rb(18,"div",1),r.Rb(19,"label",11),r.sc(20,"N\u1ed9i dung ("),r.Rb(21,"span",7),r.sc(22,"*"),r.Qb(),r.sc(23,")"),r.Qb(),r.Nb(24,"textarea",12),r.Rb(25,"div",9),r.rc(26,av,3,0,"div",10),r.rc(27,sv,3,0,"div",10),r.Qb(),r.Qb(),r.Rb(28,"div",1),r.Rb(29,"label",13),r.sc(30,"Ch\u1ecdn h\xecnh \u1ea3nh"),r.Qb(),r.Rb(31,"input",14,15),r.Zb("change",(function(e){return t.showPreview(e)})),r.Qb(),r.Qb(),r.Rb(33,"div",16),r.rc(34,uv,2,1,"p",10),r.rc(35,cv,5,1,"div",17),r.Qb(),r.Rb(36,"div",3),r.Rb(37,"button",18),r.sc(38," Th\xeam H\u01b0\u1edbng d\u1eabn "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(39,"div",2),r.Rb(40,"div",19),r.Rb(41,"div",20),r.Nb(42,"img",21),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(6),r.fc("formGroup",t.guideForm),r.Ab(7),r.fc("ngClass",t.guideForm.controls.title.touched&&t.guideForm.controls.title.invalid?"is-invalid":t.guideForm.controls.title.touched&&t.guideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.required),r.Ab(1),r.fc("ngIf",(null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.minlength)||(null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.maxlength)),r.Ab(1),r.fc("ngIf",null==t.guideForm.controls.title.errors?null:t.guideForm.controls.title.errors.pattern),r.Ab(7),r.fc("ngClass",t.guideForm.controls.content.touched&&t.guideForm.controls.content.invalid?"is-invalid":t.guideForm.controls.content.touched&&t.guideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==t.guideForm.controls.content.errors?null:t.guideForm.controls.content.errors.required),r.Ab(1),r.fc("ngIf",(null==t.guideForm.controls.content.errors?null:t.guideForm.controls.content.errors.minlength)||(null==t.guideForm.controls.content.errors?null:t.guideForm.controls.content.errors.maxlength)),r.Ab(7),r.fc("ngIf",""!=t.messageCreate),r.Ab(1),r.fc("ngForOf",t.imgCreate),r.Ab(2),r.fc("disabled",!t.guideForm.valid))},directives:[bs,Wo,_s,Qo,Ko,Ds,be,we,ye],styles:["form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#464646}.center[_ngcontent-%COMP%]{padding-top:30px}.guide[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:24px}#guideform[_ngcontent-%COMP%]{padding:32px}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}"]}),lv);function fv(e,t){1&e&&(r.Rb(0,"h3"),r.sc(1,"No data"),r.Qb())}function dv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"Ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),r.Qb(),r.Qb())}function pv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"T\xean ch\u1ee7 \u0111\u1ec1 qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn"),r.Qb(),r.Qb())}function vv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"T\xean ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t"),r.Qb(),r.Qb())}function gv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"N\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),r.Qb(),r.Qb())}function bv(e,t){1&e&&(r.Rb(0,"div"),r.Rb(1,"span"),r.sc(2,"N\u1ed9i dung qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn"),r.Qb(),r.Qb())}function mv(e,t){if(1&e&&(r.Rb(0,"span"),r.sc(1),r.Qb()),2&e){var n=r.bc(2);r.Ab(1),r.tc(n.messageCreate)}}function yv(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div",25),r.Rb(1,"div",26),r.Nb(2,"img",27),r.Rb(3,"span",28),r.Zb("click",(function(){r.mc(n);var e=t.index,i=t.$implicit;return r.bc(2).deleteImage(e,i)})),r.Nb(4,"i",29),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit;r.Ab(2),r.gc("src",i.url,r.oc)}}function _v(e,t){if(1&e){var n=r.Sb();r.Rb(0,"div",25),r.Rb(1,"div",26),r.Nb(2,"img",27),r.Rb(3,"span",28),r.Zb("click",(function(){r.mc(n);var e=t.index;r.bc();var i=r.lc(27);return r.bc().deleteImageNew(e),i.value=""})),r.Nb(4,"i",29),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=t.$implicit;r.Ab(2),r.gc("src",i,r.oc)}}function wv(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",11),r.Zb("ngSubmit",(function(){return r.mc(n),r.bc().updateGuide()})),r.Nb(1,"input",12),r.Rb(2,"div",1),r.Rb(3,"label",13),r.sc(4,"Ch\u1ee7 \u0111\u1ec1 ("),r.Rb(5,"span",14),r.sc(6,"*"),r.Qb(),r.sc(7,")"),r.Qb(),r.Nb(8,"input",15),r.Rb(9,"div",16),r.rc(10,dv,3,0,"div",5),r.rc(11,pv,3,0,"div",5),r.rc(12,vv,3,0,"div",5),r.Qb(),r.Qb(),r.Rb(13,"div",1),r.Rb(14,"label",17),r.sc(15,"N\u1ed9i dung ("),r.Rb(16,"span",14),r.sc(17,"*"),r.Qb(),r.sc(18,")"),r.Qb(),r.Nb(19,"textarea",18),r.Rb(20,"div",16),r.rc(21,gv,3,0,"div",5),r.rc(22,bv,3,0,"div",5),r.Qb(),r.Qb(),r.Rb(23,"div",1),r.Rb(24,"label",19),r.sc(25,"S\u1eeda h\xecnh \u1ea3nh(Th\xeam ho\u1eb7c x\xf3a)"),r.Qb(),r.Rb(26,"input",20,21),r.Zb("change",(function(e){return r.mc(n),r.bc().showPreview(e)})),r.Qb(),r.Rb(28,"div",22),r.rc(29,mv,2,1,"span",5),r.rc(30,yv,5,1,"div",23),r.rc(31,_v,5,1,"div",23),r.Qb(),r.Qb(),r.Rb(32,"div",3),r.Rb(33,"button",24),r.sc(34," S\u1eeda H\u01b0\u1edbng d\u1eabn "),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.editGuideForm),r.Ab(8),r.fc("ngClass",i.editGuideForm.controls.title.touched&&i.editGuideForm.controls.title.invalid?"is-invalid":i.editGuideForm.controls.title.touched&&i.editGuideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.required),r.Ab(1),r.fc("ngIf",(null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.minlength)||(null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.maxlength)),r.Ab(1),r.fc("ngIf",null==i.editGuideForm.controls.title.errors?null:i.editGuideForm.controls.title.errors.pattern),r.Ab(7),r.fc("ngClass",i.editGuideForm.controls.content.touched&&i.editGuideForm.controls.content.invalid?"is-invalid":i.editGuideForm.controls.content.touched&&i.editGuideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==i.editGuideForm.controls.content.errors?null:i.editGuideForm.controls.content.errors.required),r.Ab(1),r.fc("ngIf",(null==i.editGuideForm.controls.content.errors?null:i.editGuideForm.controls.content.errors.minlength)||(null==i.editGuideForm.controls.content.errors?null:i.editGuideForm.controls.content.errors.maxlength)),r.Ab(7),r.fc("ngIf",""!=i.messageCreate),r.Ab(1),r.fc("ngForOf",i.imgs),r.Ab(1),r.fc("ngForOf",i.imgCreate),r.Ab(2),r.fc("disabled",!i.editGuideForm.valid)}}var Cv,kv=((Cv=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._guideService=t,this._formBuilder=n,this._storage=r,this._imgUrlGuideService=i,this._activatedRouter=o,this._toastService=a,this.selectedImages=[],this.imgs=[],this.imgCreate=[],this.idImageList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._activatedRouter.paramMap.subscribe((function(t){e.id=+t.get("id"),e._imgUrlGuideService.getListImage(e.id).subscribe((function(t){console.log(t),e.imgs=t}))})),this._guideService.getGuideById(this.id).subscribe((function(t){console.log(t),e.editGuideForm=e._formBuilder.group({id:[t.id],title:[t.title,[Jo.required,Jo.minLength(10),Jo.maxLength(100),Jo.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef90-9,.?! ]*$")]],content:[t.content,[Jo.required,Jo.minLength(30),Jo.maxLength(1e3)]]})}))}},{key:"updateGuide",value:function(){var e=this;if(this.editGuideForm.valid&&(this.guide=this.editGuideForm.value,console.log(this.editGuideForm.value),this._guideService.update(this.guide).subscribe((function(t){if(e._toastService.success("C\u1eadp nh\u1eadt h\u01b0\u1edbng d\u1eabn th\xe0nh c\xf4ng","Update Guide!",{positionClass:"toast-top-right",timeOut:7e3}),0!==e.imgCreate.length)for(var n=0;n<e.imgCreate.length;n++){var r={url:e.imgCreate[n],guideId:e.guide.id};console.log(r),e._imgUrlGuideService.create(r).subscribe((function(){console.log("SUCCESSFULLY CREATE")}))}})),0!==this.idImageList.length))for(var t=0;t<this.idImageList.length;t++)console.log(this.idImageList[t]),this.deleteImageById(this.idImageList[t])}},{key:"showPreview",value:function(e){var t=this;e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],console.log(this.selectedImages),0!==this.selectedImages.length&&setTimeout((function(){t.messageCreate="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i.......";for(var e=function(e){var n=t.selectedImages[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.imgCreate.push(e),t.messageCreate=""}))}))).subscribe((function(){}))},n=0;n<t.selectedImages.length;n++)e(n)}),3e3),console.log(this.imgCreate)}},{key:"deleteImage",value:function(e,t){this.idImageList.push(t.id),this.imgs.splice(e,1),console.log(t)}},{key:"deleteImageNew",value:function(e){this.imgCreate.splice(e,1),console.log(e)}},{key:"deleteImageById",value:function(e){this._imgUrlGuideService.delete(e).subscribe((function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||Cv)(r.Mb(tv),r.Mb(Qs),r.Mb(Pl),r.Mb(nv),r.Mb(Ur),r.Mb(gh))},Cv.\u0275cmp=r.Gb({type:Cv,selectors:[["app-guide-edit"]],decls:12,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-6"],[1,"center"],[1,"guide","w-100",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],[4,"ngIf"],["id","guideform","name","guide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-lg-6"],[1,"row","bdg","d-flex","align-items-center","w-50"],[1,"d-block","w-50"],["src","https://slack-imgs.com/?c=1&o1=ro&url=https%3A%2F%2Fmdbcdn.b-cdn.net%2Fimg%2FPhotos%2Fnew-templates%2Fbootstrap-registration%2Fdraw1.webp","alt","",2,"width","600px","height","500px","margin-top","100px"],["id","guideform","name","guide",3,"formGroup","ngSubmit"],["formControlName","id","hidden",""],["for","title",1,"form-label"],[2,"color","red"],["formControlName","title","id","title","type","text",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["for","floatingTextarea"],["formControlName","content","rows","7","placeholder","Leave a content here","id","floatingTextarea",1,"form-control",3,"ngClass"],[1,"form-label"],["type","file","multiple","",1,"form-control",3,"change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","20px"],["style","margin-right: 10px",4,"ngFor","ngForOf"],[1,"btn","btn-primary","w-100",3,"disabled"],[2,"margin-right","10px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"h3",3),r.sc(4," Ch\u1ec9nh S\u1eeda H\u01b0\u1edbng D\u1eabn"),r.Qb(),r.Rb(5,"div",4),r.rc(6,fv,2,0,"h3",5),r.rc(7,wv,35,12,"form",6),r.Qb(),r.Qb(),r.Rb(8,"div",7),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Nb(11,"img",10),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(6),r.fc("ngIf",!t.editGuideForm),r.Ab(1),r.fc("ngIf",t.editGuideForm))},directives:[we,bs,Wo,_s,Qo,Ko,Ds,be,ye],styles:["form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#464646}.center[_ngcontent-%COMP%]{padding-top:30px}.guide[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:24px}#guideform[_ngcontent-%COMP%]{padding:32px}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}"]}),Cv);n("6Uf2"),(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Xm){o(Xm)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++b)}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now;function k(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function E(e,t,n){this.code=I+e,this.message=t||x[e]||"",this.a=n||null}function R(e){var t=e&&e.code;return t?new E(t.substring(I.length),e.message,e.serverResponse):null}k(E,Error),E.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},E.prototype.toJSON=function(){return this.w()};var T,I="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function M(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function Q(){this.b=this.a=null}T=O("__EID__")?"__EID__":void 0,k(P,Error),P.prototype.name="CustomError",k(D,P),D.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var L=new F((function(){return new V}),(function(e){e.reset()}));function U(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}Q.prototype.add=function(e,t){var n=L.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},z=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function K(e,t){return 0<=B(e,t)}function W(e,t){var n;return(n=0<=(t=B(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function Z(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var X,J=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ee=/&/g,te=/</g,ne=/>/g,re=/"/g,ie=/'/g,oe=/\x00/g,ae=/[\x00&<>"']/;function se(e,t){return-1!=e.indexOf(t)}function ue(e,t){return e<t?-1:e>t?1:0}e:{var ce=a.navigator;if(ce){var le=ce.userAgent;if(le){X=le;break e}}X=""}function he(e){return se(X,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function de(e){for(var t in e)return!1;return!0}function pe(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(p(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function me(e,t){this.a=e===Ce&&t||"",this.b=we}function ye(e){return e instanceof me&&e.constructor===me&&e.b===we?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}me.prototype.ta=!0,me.prototype.sa=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};var _e,we={},Ce={};function ke(){if(void 0===_e){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){a.console&&a.console.error(n.message)}_e=e}else _e=e}return _e}function Se(e,t){this.a=t===xe?e:""}function Ee(e){return e instanceof Se&&e.constructor===Se?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Re(e,t){var n=ye(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return new Se(e=t?t.createScriptURL(e):e,xe)}(e=n.replace(Te,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof me?ye(e):encodeURIComponent(String(e))})))}Se.prototype.ta=!0,Se.prototype.sa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Te=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function Ae(e,t){this.a=t===je?e:""}function Oe(e){return e instanceof Ae&&e.constructor===Ae?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Ae)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),De.test(e))e=new Ae(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe);e=t&&Ne.test(t[1])?new Ae(e,je):null}return e}function Fe(e){return e instanceof Ae?e:(e="object"==typeof e&&e.ta?e.sa():String(e),De.test(e)||(e="about:invalid#zClosurez"),new Ae(e,je))}var je={},Qe=new Ae("about:invalid#zClosurez",je);function Le(e,t,n){this.a=n===Ue?e:""}Le.prototype.ta=!0,Le.prototype.sa=function(){return this.a.toString()},Le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function Ve(e,t,n,r){return e=e instanceof Ae?e:Fe(e),t=t||a,n=n instanceof me?ye(n):n||"",t.open(Oe(e),n,r,void 0)}function Be(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qe(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ee,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(te,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ne,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(re,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ie,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(oe,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=l;var Ge,ze,Ke=he("Opera"),We=he("Trident")||he("MSIE"),Ye=he("Edge"),Ze=Ye||We,$e=he("Gecko")&&!(se(X.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Xe=se(X.toLowerCase(),"webkit")&&!he("Edge");function Je(){var e=a.document;return e?e.documentMode:void 0}e:{var et="",tt=(ze=X,$e?/rv:([^\);]+)(\)|;)/.exec(ze):Ye?/Edge\/([\d\.]+)/.exec(ze):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ze):Xe?/WebKit\/(\S+)/.exec(ze):Ke?/(?:Version)[ \/]?(\S+)/.exec(ze):void 0);if(tt&&(et=tt?tt[1]:""),We){var nt=Je();if(null!=nt&&nt>parseFloat(et)){Ge=String(nt);break e}}Ge=et}var rt={};function it(e){return function(e,t){var n=rt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=J(String(Ge)).split("."),r=J(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ue(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ue(0==a[2].length,0==s[2].length)||ue(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var ot=a.document&&We&&(Je()||parseInt(Ge,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ze){}var at=!We||9<=Number(ot);function st(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ht.hasOwnProperty(n)?e.setAttribute(ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ct,lt,ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}q(a?$(o):o,r)}}}function dt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function pt(e){a.setTimeout((function(){throw e}),0)}function vt(e,t){lt||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);lt=function(){e.then(mt)}}else lt=function(){var e=mt;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!he("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ct||(ct=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=dt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),ct(e)):a.setImmediate(e)}}(),gt||(lt(),gt=!0),bt.add(e,t)}var gt=!1,bt=new Q;function mt(){for(var e;e=U();){try{e.a.call(e.b)}catch(t){pt(t)}j(L,e)}gt=!1}function yt(e,t){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Nt(n,wt,e)}),(function(e){if(!(e instanceof Lt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Gx){}Nt(n,Ct,e)}))}catch(r){Nt(this,Ct,r)}}var _t=0,wt=2,Ct=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var St=new F((function(){return new kt}),(function(e){e.reset()}));function Et(e,t,n){var r=St.get();return r.g=e,r.b=t,r.f=n,r}function Rt(e){if(e instanceof yt)return e;var t=new yt(l);return Nt(t,wt,e),t}function Tt(e){return new yt((function(t,n){n(e)}))}function It(e,t,n){Pt(e,t,n,null)||vt(w(t,e))}function xt(e){return new yt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)It(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function At(e,t){e.b||e.a!=wt&&e.a!=Ct||Dt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ot(e,t,n,r){var i=Et(null,null,null);return i.a=new yt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Lt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,At(e,i),i.a}function Nt(e,t,n){e.a==_t&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Pt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Dt(e),t!=Ct||n instanceof Lt||function(e,t){e.g=!0,vt((function(){e.g&&Qt.call(null,t)}))}(e,n)))}function Pt(e,t,n,r){if(e instanceof yt)return At(e,Et(t||l,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Dt(e){e.h||(e.h=!0,vt(e.gc,e))}function Mt(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function Ft(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,jt(t,n,r);else try{t.c?t.g.call(t.f):jt(t,n,r)}catch(Gx){Qt.call(null,Gx)}j(St,t)}function jt(e,t,n){t==wt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}yt.prototype.then=function(e,t,n){return Ot(this,d(e)?e:null,d(t)?t:null,n)},yt.prototype.$goog_Thenable=!0,(e=yt.prototype).oa=function(e,t){return(e=Et(e,e,t)).c=!0,At(this,e),this},e.o=function(e,t){return Ot(this,null,e,t)},e.cancel=function(e){if(this.a==_t){var t=new Lt(e);vt((function(){!function e(t,n){if(t.a==_t)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==_t&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Mt(r),Ft(r,o,Ct,n)))}t.c=null}else Nt(t,Ct,n)}(this,t)}),this)}},e.$c=function(e){this.a=_t,Nt(this,wt,e)},e.ad=function(e){this.a=_t,Nt(this,Ct,e)},e.gc=function(){for(var e;e=Mt(this);)Ft(this,e,this.a,this.i);this.h=!1};var Qt=pt;function Lt(e){P.call(this,e)}function Ut(){0!=Vt&&(Bt[v(this)]=this),this.ya=this.ya,this.pa=this.pa}k(Lt,P),Lt.prototype.name="cancel";var Vt=0,Bt={};function qt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Vt)){var t=v(e);if(0!=Vt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bt[t]}}Ut.prototype.ya=!1,Ut.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ht=Object.freeze||function(e){return e},Gt=!We||9<=Number(ot),zt=We&&!it("9"),Kt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(n){}return e}();function Wt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Yt(e,t){if(Wt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if($e){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Wt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Yt,Wt);var Zt=Ht({2:"touch",3:"pen",4:"mouse"});Yt.prototype.preventDefault=function(){Yt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,zt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Yt.prototype.g=function(){return this.a};var $t="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Jt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Xt,this.wa=this.Qa=!1}function en(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new Jt(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=mn(n),e&&e[$t]?_n(e,t,n,p(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=gn(e);if(s||(e[on]=s=new tn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=vn,t=Gt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=mn(n),e&&e[$t]?wn(e,t,n,p(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=mn(n),e&&e[$t]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[$t])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function fn(e){return e in an?an[e]:an[e]="on"+e}function dn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&hn(e),n.call(r,t)}function vn(e,t){if(e.wa)return!0;if(!Gt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Yt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=dn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=dn(r[i],e,!1,t),n=n&&o}return n}return pn(e,new Yt(t,this))}function gn(e){return(e=e[on])instanceof tn?e:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(e){return d(e)?e:(e[bn]||(e[bn]=function(t){return e.handleEvent(t)}),e[bn])}function yn(){Ut.call(this),this.v=new tn(this),this.bc=this,this.hb=null}function _n(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function wn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&nn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(d(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Sn(e){var t=null;return new yt((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function En(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Rn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Tn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function In(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];xn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)xn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(yn,Ut),yn.prototype[$t]=!0,yn.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},yn.prototype.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},yn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Wt(e,n);else if(e instanceof Wt)e.target=e.target||n;else{var i=e;ge(e=new Wt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},yn.prototype.Da=function(){if(yn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Tn.prototype).X=function(){In(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return In(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return xn(this.b,e)?this.b[e]:t},e.set=function(e,t){xn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof On?(this.i=void 0!==t?t:e.i,Nn(this,e.c),this.l=e.l,this.a=e.a,Pn(this,e.g),this.f=e.f,Dn(this,Jn(e.b)),this.h=e.h):e&&(n=String(e).match(An))?(this.i=!!t,Nn(this,n[1]||"",!0),this.l=Ln(n[2]||""),this.a=Ln(n[3]||"",!0),Pn(this,n[4]),this.f=Ln(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Ln(n[7]||"")):(this.i=!!t,this.b=new Kn(null,this.i))}function Nn(e,t,n){e.c=n?Ln(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Pn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Dn(e,t,n){t instanceof Kn?(e.b=t,function(e,t){t&&!e.f&&(Wn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),Xn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Un(t,Gn)),e.b=new Kn(t,e.i))}function Mn(e,t,n){e.b.set(t,n)}function Fn(e,t){return e.b.get(t)}function jn(e){return e instanceof On?new On(e):new On(e,void 0)}function Qn(e,t,n,r){var i=new On(null,void 0);return e&&Nn(i,e),t&&(i.a=t),n&&Pn(i,n),r&&(i.f=r),i}function Ln(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Un(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Vn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}On.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Un(t,Bn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Un(t,Bn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Un(n,"/"==n.charAt(0)?Hn:qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Un(n,zn)),e.join("")},On.prototype.resolve=function(e){var t=new On(this),n=!!e.c;n?Nn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Pn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(se(i,"./")||se(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Dn(t,Jn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Bn=/[#\/\?@]/g,qn=/[#\?:]/g,Hn=/[#\?]/g,Gn=/[#\?@]/g,zn=/#/g;function Kn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Wn(e){e.a||(e.a=new Tn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e){var t=Rn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Kn(null,void 0);e=En(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Zn(e,t){Wn(e),t=er(e,t),xn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,xn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&In(e)))}function $n(e,t){return Wn(e),t=er(e,t),xn(e.a.b,t)}function Xn(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),$(n)),e.b+=n.length)}function Jn(e){var t=new Kn;return t.c=e.c,e.a&&(t.a=new Tn(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),or(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,e,t),t.join("")}function nr(){}(e=Kn.prototype).add=function(e,t){Wn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Wn(this),this.a.forEach((function(n,r){q(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Wn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Wn(this);var t=[];if("string"==typeof e)$n(this,e)&&(t=Z(t,this.a.get(er(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Z(t,e[n])}return t},e.set=function(e,t){return Wn(this),this.c=null,$n(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(e,t){t.push('"',e.replace(ir,(function(e){var t=rr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),rr[e]=t),t})),'"')}function ar(){var e=Sr();return We&&!!ot&&11==ot||/Edge\/\d+/.test(e)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(e,t){t=t||a.window;var n="about:blank";e&&(n=Oe(Me(e)||Qe)),t.location.href=n}function cr(e){return!!((e=(e||Sr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function lr(e){e=e||a.window;try{e.close()}catch(t){}}function hr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(t.target=r,se(n,"crios/")&&(t.target="_blank")),wr(Sr())==_r&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:Me(void 0!==n.href?n.href:String(n))||Qe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=dt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ae?t:Fe(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ve("",r,n,a),e=Oe(t),a&&(Ze&&se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qe(e)+'">',e=new Le(e=(r=ke())?r.createHTML(e):e,null,Ue),r=a.document)&&(r.write(function(e){return e instanceof Le&&e.constructor===Le?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ve(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var e=null;return new yt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw ln(window,"load",e),t}))}function vr(e){return e=e||Sr(),!("file:"!==xr()&&"ionic:"!==xr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function mr(){return nc.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":nc.default.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function yr(){var e=mr();return"ReactNative"===e||"Node"===e}var _r="Firefox";function wr(e){var t=e.toLowerCase();return se(t,"opera/")||se(t,"opr/")||se(t,"opios/")?"Opera":se(t,"iemobile")?"IEMobile":se(t,"msie")||se(t,"trident/")?"IE":se(t,"edge/")?"Edge":se(t,"firefox/")?_r:se(t,"silk/")?"Silk":se(t,"blackberry")?"Blackberry":se(t,"webos")?"Webos":!se(t,"safari/")||se(t,"chrome/")||se(t,"crios/")||se(t,"android")?!se(t,"chrome/")&&!se(t,"crios/")||se(t,"edge/")?se(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=mr())?r=wr(i=Sr()):"Worker"===r&&(r=wr(i=Sr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Sr(){return a.navigator&&a.navigator.userAgent||""}function Er(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=a.localStorage,t=Dr();if(e)return e.setItem(t,"1"),e.removeItem(t),!ar()||!!a.indexedDB}catch(n){return br()&&!!a.indexedDB}return!1}function Tr(){return(Ir()||"chrome-extension:"===xr()||vr())&&!yr()&&Rr()&&!br()}function Ir(){return"http:"===xr()||"https:"===xr()}function xr(){return a.location&&a.location.protocol||null}function Ar(e){return!cr(e=e||Sr())&&wr(e)!=_r}function Or(e){return void 0===e?null:tr(e)}function Nr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Pr(e){if(null!==e)return JSON.parse(e)}function Dr(e){return e||Math.floor(1e9*Math.random()).toString()}function Mr(e){return"Safari"!=wr(e=e||Sr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function jr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Sr(),t=mr(),this.b=cr(e)||"ReactNative"===t}function Qr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Lr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Ur(){return!(!Er("fireauth.oauthhelper",a)&&!Er("fireauth.iframe",a))}jr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Ir()&&"chrome-extension:"!==xr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vr,Br={};function qr(e){Br[e]||(Br[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),Vr=2==Hr.abcd}catch(ze){Vr=!1}function Gr(e,t,n){Vr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Gr(e,n,t[n])}function Kr(e){var t={};return zr(t,e),t}function Wr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Gr(t,n,Wr(e[n]));return t}function Yr(e){var t=e&&(e[ei]?"phone":null);if(!(t&&e&&e[Jr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",e[Jr]),Gr(this,"displayName",e[$r]||null);var n=null;e[Xr]&&(n=new Date(e[Xr]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",t)}function Zr(e){try{var t=new ti(e)}catch(n){t=null}return t}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var $r="displayName",Xr="enrolledAt",Jr="mfaEnrollmentId",ei="phoneInfo";function ti(e){Yr.call(this,e),Gr(this,"phoneNumber",e[ei])}function ni(e){var t={},n=e[ai],r=e[ui],i=e[ci];if(e=Zr(e[si]),!i||i!=ii&&i!=oi&&!n||i==oi&&!r||i==ri&&!e)throw Error("Invalid checkActionCode response!");i==oi?(t[hi]=n||null,t[di]=n||null,t[li]=r):(t[hi]=r||null,t[di]=r||null,t[li]=n||null),t[fi]=e||null,Gr(this,vi,i),Gr(this,pi,Wr(t))}k(ti,Yr),ti.prototype.w=function(){var e=ti.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ri="REVERT_SECOND_FACTOR_ADDITION",ii="EMAIL_SIGNIN",oi="VERIFY_AND_CHANGE_EMAIL",ai="email",si="mfaInfo",ui="newEmail",ci="requestType",li="email",hi="fromEmail",fi="multiFactorInfo",di="previousEmail",pi="data",vi="operation";function gi(e){var t=Fn(e=jn(e),bi)||null,n=Fn(e,mi)||null,r=Fn(e,wi)||null;if(r=r&&ki[r]||null,!t||!n||!r)throw new E("argument-error",bi+", "+mi+"and "+wi+" are required in a valid action code URL.");zr(this,{apiKey:t,operation:r,code:n,continueUrl:Fn(e,yi)||null,languageCode:Fn(e,_i)||null,tenantId:Fn(e,Ci)||null})}var bi="apiKey",mi="oobCode",yi="continueUrl",_i="languageCode",wi="mode",Ci="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ri,signIn:ii,verifyAndChangeEmail:oi,verifyEmail:"VERIFY_EMAIL"};function Si(e){try{return new gi(e)}catch(t){return null}}function Ei(e){var t=e[Ai];if(void 0===t)throw new E("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new E("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ri];if(n&&"object"==typeof n){t=n[Pi];var r=n[Oi];if(n=n[Ni],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Oi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new E("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(t=e[xi])&&"object"==typeof t){if("string"==typeof(t=t[Di])&&t.length)this.f=t;else if(void 0!==t)throw new E("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==t)throw new E("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(t=e[Ii])&&"boolean"!=typeof t)throw new E("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ti])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new E("argument-error",Ti+" property must be a non empty string when specified.");this.i=e||null}var Ri="android",Ti="dynamicLinkDomain",Ii="handleCodeInApp",xi="iOS",Ai="url",Oi="installApp",Ni="minimumVersion",Pi="packageName",Di="bundleId";function Mi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Fi=null;function ji(e){var t=Li(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Qi(e){try{return new ji(e)}catch(t){return null}}function Li(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Fi){Fi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}ji.prototype.T=function(){return this.f},ji.prototype.l=function(){return this.c},ji.prototype.toString=function(){return this.h};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],Bi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Vi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Vi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Vi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ui},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function qi(e){for(var t in Bi)if(Bi[t].fa==e)return Bi[t];return null}function Hi(e){var t={};t["facebook.com"]=Yi,t["google.com"]=$i,t["github.com"]=Zi,t["twitter.com"]=Xi;var n=e&&e[zi];try{if(n)return t[n]?new t[n](e):new Wi(e);if(void 0!==e[Gi])return new Ki(e)}catch(r){}return null}var Gi="idToken",zi="providerId";function Ki(e){var t=e[zi];if(!t&&e[Gi]){var n=Qi(e[Gi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Gr(this,"providerId",t),Gr(this,"isNewUser",n)}function Wi(e){Ki.call(this,e),Gr(this,"profile",Wr((e=Pr(e.rawUserInfo||"{}"))||{}))}function Yi(e){if(Wi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(e){if(Wi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function $i(e){if(Wi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(e){if(Wi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",e.screenName||null)}function Ji(e){var t=jn(e),n=Fn(t,"link"),r=Fn(jn(n),"link");return t=Fn(t,"deep_link_id"),Fn(jn(t),"link")||t||r||n||e}function eo(e,t){if(!e&&!t)throw new E("internal-error","Internal assert: no raw session string available");if(e&&t)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?to:no}k(Wi,Ki),k(Yi,Wi),k(Zi,Wi),k($i,Wi),k(Xi,Wi);var to="enroll",no="signin";function ro(){}function io(e,t){return e.then((function(e){if(e[Ha]){var n=Qi(e[Ha]);if(!n||t!=n.i)throw new E("user-mismatch");return e}throw new E("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new E("user-mismatch"):e}))}function oo(e,t){if(!t)throw new E("internal-error","failed to construct a credential");this.a=t,Gr(this,"providerId",e),Gr(this,"signInMethod",e)}function ao(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function so(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new oo(e.providerId,e.pendingToken)}catch(t){}return null}function uo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Gr(this,"idToken",t.idToken),t.accessToken&&Gr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Gr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Gr(this,"accessToken",t.oauthToken),Gr(this,"secret",t.oauthTokenSecret)}Gr(this,"providerId",e),Gr(this,"signInMethod",n)}function co(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Yn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function lo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new uo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function ho(e,t){this.Qc=t||[],zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(qi(e)||{}).Ja||null,this.pb=null}function fo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,e,[])}function po(e){ho.call(this,e,Vi),this.a=[]}function vo(){po.call(this,"facebook.com")}function go(e){if(!e)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new vo).credential({accessToken:t})}function bo(){po.call(this,"github.com")}function mo(e){if(!e)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new bo).credential({accessToken:t})}function yo(){po.call(this,"google.com"),this.Ca("profile")}function _o(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new yo).credential({idToken:n,accessToken:t})}function wo(){ho.call(this,"twitter.com",Ui)}function Co(e,t){var n=e;if(p(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function ko(e,t,n){this.a=e,this.f=t,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(e){return e&&e.email&&e.password?new ko(e.email,e.password,e.signInMethod):null}function Eo(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(e,t){if(!(t=To(t)))throw new E("argument-error","Invalid email link!");return new ko(e,t.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function To(e){return(e=Si(e=Ji(e)))&&e.operation===ii?e:null}function Io(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new E("internal-error");this.a=e,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function xo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Io(t)}return null}function Ao(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Oo(e){try{this.a=e||nc.default.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function No(e,t){if(!e)throw new E("missing-verification-id");if(!t)throw new E("missing-verification-code");return new Io({fb:e,eb:t})}function Po(e){if(e.temporaryProof&&e.phoneNumber)return new Io({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return _o(o,n);case"facebook.com":return go(n);case"github.com":return mo(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new oo(t,a):new uo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new po(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Do(e){if(!e.isOAuthProvider)throw new E("invalid-oauth-provider")}function Mo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Fo(e){return(e=e||{}).type?new Mo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&R(e.error),e.postBody,e.tenantId):null}function jo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Rt(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ro.prototype.ka=function(){},ro.prototype.b=function(){},ro.prototype.c=function(){},ro.prototype.w=function(){},oo.prototype.ka=function(e){return hs(e,ao(this))},oo.prototype.b=function(e,t){var n=ao(this);return n.idToken=t,fs(e,n)},oo.prototype.c=function(e,t){return io(ds(e,ao(this)),t)},oo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ka=function(e){return hs(e,co(this))},uo.prototype.b=function(e,t){var n=co(this);return n.idToken=t,fs(e,n)},uo.prototype.c=function(e,t){return io(ds(e,co(this)),t)},uo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ho.prototype.Ka=function(e){return this.Jb=pe(e),this},k(fo,ho),k(po,ho),po.prototype.Ca=function(e){return K(this.a,e)||this.a.push(e),this},po.prototype.Rb=function(){return $(this.a)},po.prototype.credential=function(e,t){var n;if(!(n=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},k(vo,po),Gr(vo,"PROVIDER_ID","facebook.com"),Gr(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(bo,po),Gr(bo,"PROVIDER_ID","github.com"),Gr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),k(yo,po),Gr(yo,"PROVIDER_ID","google.com"),Gr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),k(wo,ho),Gr(wo,"PROVIDER_ID","twitter.com"),Gr(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ws(e,ws,{email:this.a,oobCode:this.f}):Ws(e,qs,{email:this.a,password:this.f})},ko.prototype.b=function(e,t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ws(e,Cs,{idToken:t,email:this.a,oobCode:this.f}):Ws(e,Ms,{idToken:t,email:this.a,password:this.f})},ko.prototype.c=function(e,t){return io(this.ka(e),t)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Eo,{PROVIDER_ID:"password"}),zr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(e){return e.gb(Ao(this))},Io.prototype.b=function(e,t){var n=Ao(this);return n.idToken=t,Ws(e,Gs,n)},Io.prototype.c=function(e,t){var n=Ao(this);return n.operation="REAUTH",io(e=Ws(e,zs,n),t)},Io.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Oo.prototype.gb=function(e,t){var n=this.a.a;return Rt(t.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i&&i.type==to?i.Ha().then((function(e){return function(e,t){return Ws(e,js,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==no?i.Ha().then((function(t){return function(e,t){return Ws(e,Qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return Ws(e,Ps,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Oo,{PROVIDER_ID:"phone"}),zr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Qo,Lo=null;function Uo(e){var t="unauthorized-domain",n=void 0,r=jn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Be("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Be("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",E.call(this,t,n)}function Vo(e,t,n){E.call(this,e,n),(e=t||{}).Kb&&Gr(this,"email",e.Kb),e.ea&&Gr(this,"phoneNumber",e.ea),e.credential&&Gr(this,"credential",e.credential),e.$b&&Gr(this,"tenantId",e.$b)}function Bo(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Po(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new E(t,e.message||void 0);return new Vo(t,n,e.message)}return null}function qo(){}function Ho(){}function Go(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Gx){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function zo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Wo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Yo(e,t,n){this.reset(e,t,n,void 0,void 0)}function Zo(e){this.f=e,this.b=this.c=this.a=null}function $o(e,t){this.name=e,this.value=t}k(Uo,E),k(Vo,E),Vo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Vo.prototype.toJSON=function(){return this.w()},qo.prototype.c=null,k(Ho,qo),Ho.prototype.a=function(){var e=Go(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ho.prototype.b=function(){var e={};return Go(this)&&(e[0]=!0,e[1]=!0),e},Qo=new Ho,k(zo,qo),zo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(e=Ko.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Wo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(e,t,n,r,i){r||C(),delete this.a},$o.prototype.toString=function(){return this.name};var Xo=new $o("SEVERE",1e3),Jo=new $o("WARNING",900),ea=new $o("CONFIG",700),ta=new $o("FINE",500);Zo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(M("Root logger has no level set."),null)}(this).value)for(d(t)&&(t=t()),e=new Yo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var na={},ra=null;function ia(e){var t;if(ra||(ra=new Zo(""),na[""]=ra,ra.c=ea),!(t=na[e])){t=new Zo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ia(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,na[e]=t}return t}function oa(e,t){e&&e.log(ta,t,void 0)}function aa(e){this.f=e}function sa(e){yn.call(this),this.u=e,this.h=void 0,this.readyState=ua,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ia("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}k(aa,qo),aa.prototype.a=function(){return new sa(this.f)},aa.prototype.b=function(e){return function(){return e}}({}),k(sa,yn);var ua=0;function ca(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function la(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ha(e)}function ha(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function fa(e){yn.call(this),this.headers=new Tn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=da,this.u=this.S=!1}(e=sa.prototype).open=function(e,t){if(this.readyState!=ua)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ha(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,la(this)),this.readyState=ua},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ha(this)),this.a&&(this.readyState=3,ha(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ca(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?la(this):ha(this),3==this.readyState&&ca(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,la(this))},e.sc=function(e){this.a&&(this.response=e,la(this))},e.Va=function(e){var t=this.i;t&&t.log(Jo,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&la(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(Jo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(Jo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),k(fa,yn);var da="";fa.prototype.b=ia("goog.net.XhrIo");var pa=/^https?$/i,va=["POST","PUT"];function ga(e){return"content-type"==e.toLowerCase()}function ba(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ma(e),_a(e)}function ma(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ya(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Ca(e)&&2==ka(e))oa(e.b,Sa(e,"Local request error detected and ignored"));else if(e.i&&4==Ca(e))kn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ca(e)){oa(e.b,Sa(e,"Request complete")),e.c=!1;try{var t,n=ka(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.l).match(An)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!pa.test(s?s.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ca(e)?e.a.statusText:""}catch(l){oa(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+ka(e)+"]",ma(e)}}finally{_a(e)}}}function _a(e,t){if(e.a){wa(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Gx){(e=e.b)&&e.log(Xo,"Problem encountered resetting onreadystatechange: "+Gx.message,void 0)}}}function wa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Ca(e){return e.a?e.a.readyState:0}function ka(e){try{return 2<Ca(e)?e.a.status:-1}catch(t){return-1}}function Sa(e,t){return t+" ["+e.P+" "+e.l+" "+ka(e)+"]"}function Ea(e){var t=Fa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(e,t,n){e.a=!0,e.c=n,e.f=!t,Aa(e)}function Ta(e){if(e.a){if(!e.v)throw new Oa(e);e.v=!1}}function Ia(e,t,n,r){e.g.push([t,n,r]),e.a&&Aa(e)}function xa(e){return z(e.g,(function(e){return d(e[1])}))}function Aa(e){if(e.h&&e.a&&xa(e)){var t=e.h,n=Da[t];n&&(a.clearTimeout(n.a),delete Da[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(N(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,xa(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof Ea?(Ia(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Pa(t),Da[t.a]=t,e.h=t.a)}function Oa(){P.call(this)}function Na(){P.call(this)}function Pa(e){this.a=a.setTimeout(_(this.c,this),0),this.b=e}(e=fa.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",oa(this.b,Sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(oa(this.b,Sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_a(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_a(this,!0)),fa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ya(this):this.Jc())},e.Jc=function(){ya(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case da:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Xo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return oa(this.b,"Can not get response: "+t.message),null}},Ea.prototype.cancel=function(e){if(this.a)this.c instanceof Ea&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Na(this),Ta(this),Ra(this,!1,e))}},Ea.prototype.m=function(e,t){this.i=!1,Ra(this,e,t)},Ea.prototype.then=function(e,t,n){var r,i,o=new yt((function(e,t){r=e,i=t}));return Ia(this,r,(function(e){e instanceof Na?o.cancel():i(e)})),o.then(e,t,n)},Ea.prototype.$goog_Thenable=!0,k(Oa,P),Oa.prototype.message="Deferred has already fired",Oa.prototype.name="AlreadyCalledError",k(Na,P),Na.prototype.message="Deferred was canceled",Na.prototype.name="CanceledError",Pa.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function Ma(e){var t={},n=t.document||document,r=Ee(e).toString(),i=dt(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ea(o),l=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){ja(i,!0);var e=new Ua(La,"Timeout reached for loading script "+r);Ta(s),Ra(s,!1,e)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ja(i,t.xd||!1,l),Ta(s),Ra(s,!0,null))},i.onerror=function(){ja(i,!0,l);var e=new Ua(Qa,"Error while loading script "+r);Ta(s),Ra(s,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=Ee(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=c(t.document):(null===u&&(u=c(a.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function Fa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&ja(e,!0,this.Ma)}}function ja(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Qa=0,La=1;function Ua(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Va(e){this.f=e}function Ba(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ga,this.g=pe(e.secureTokenHeaders||za),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Ka,this.a=pe(e.firebaseHeaders||Wa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==mr(),!(n=a.XMLHttpRequest||n&&nc.default.INTERNAL.node&&nc.default.INTERNAL.node.XMLHttpRequest)&&!br())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new aa(self):yr()?new Va(n):new zo,this.b=null}k(Ua,P),k(Va,qo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var qa,Ha="idToken",Ga=new jr(3e4,6e4),za={"Content-Type":"application/x-www-form-urlencoded"},Ka=new jr(3e4,6e4),Wa={"Content-Type":"application/json"};function Ya(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Za(e,t){t&&(e.l=$a("https://securetoken.googleapis.com/v1/token",t),e.h=$a("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=$a("https://identitytoolkit.googleapis.com/v2/",t))}function $a(e,t){return e=jn(e),t=jn(t.url),e.f=e.a+e.f,Nn(e,t.c),e.a=t.a,Pn(e,t.g),e.toString()}function Xa(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Ja(e,t,n,r,i,o,s){(function(){var e=Sr();return!((e="Chrome"!=wr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||We&&ot&&!(9<ot))})()||br()?e=_(e.u,e):(qa||(qa=new yt((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(a[ts]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ia(e,null,t,void 0)}(Ma(Re(es,{onload:ts})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=_(e.s,e)),e(t,n,r,i,o,s)}Ba.prototype.T=function(){return this.b},Ba.prototype.u=function(e,t,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new fa(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return oa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),wn(s,"ready",(function(){u&&clearTimeout(u),qt(this)})),wn(s,"timeout",(function(){u&&clearTimeout(u),qt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Qo.a(),e.C=function(e){return e.c||(e.c=e.b())}(e.D?e.D:Qo),e.a.onreadystatechange=_(e.Wb,e);try{oa(e.b,Sa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return oa(e.b,Sa(e,"Error opening Xhr: "+s.message)),void ba(e,s)}t=r||"";var o=new Tn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)q(e,t,void 0);else for(var n=Rn(e),r=En(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ga,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!K(va,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{wa(e),0<e.g&&(e.u=function(e){return We&&it(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),oa(e.b,Sa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=kn(e.Ma,e.g,e)),oa(e.b,Sa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){oa(e.b,Sa(e,"Send error: "+s.message)),ba(e,s)}}(s,e,n,r,i)};var es=new me(Ce,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function ns(e){if("string"!=typeof(e=e.email)||!dr.test(e))throw new E("invalid-email")}function rs(e){"email"in e&&ns(e)}function is(e){if(!e[Ha]){if(e.mfaPendingCredential)throw new E("multi-factor-auth-required",null,pe(e));throw new E("internal-error")}}function os(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new E("internal-error")}else{if(!e.sessionInfo)throw new E("missing-verification-id");if(!e.code)throw new E("missing-verification-code")}}Ba.prototype.s=function(e,t,n,r,i){var o=this;qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ba.prototype.Ab=function(){return Ws(this,Fs,{})},Ba.prototype.Cb=function(e,t){return Ws(this,Ds,{idToken:e,email:t})},Ba.prototype.Db=function(e,t){return Ws(this,Ms,{idToken:e,password:t})};var as={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ss(e){if(!e.phoneVerificationInfo)throw new E("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new E("missing-verification-code")}function us(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new E("internal-error")}function cs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&$n(e=new Kn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ls(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Bo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Bo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Bo(e)):e.errorMessage&&(t=Ys(e.errorMessage)),t)throw t;is(e)}function hs(e,t){return t.returnIdpCredential=!0,Ws(e,Ls,t)}function fs(e,t){return t.returnIdpCredential=!0,Ws(e,Vs,t)}function ds(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ws(e,Us,t)}function ps(e){if(!e.oobCode)throw new E("invalid-action-code")}(e=Ba.prototype).Eb=function(e,t){var n={idToken:e},r=[];return fe(as,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ws(this,Ds,n)},e.wb=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),Ws(this,xs,e)},e.xb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),Ws(this,Rs,e)},e.vb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ws(this,Ts,e)},e.Fb=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ws(this,Is,e)},e.gb=function(e){return Ws(this,Hs,e)},e.ob=function(e,t){return Ws(this,Ns,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ws(this,gs,{oobCode:e})},e.kb=function(e){return Ws(this,vs,{oobCode:e})};var vs={endpoint:"setAccountInfo",A:ps,Z:"email",B:!0},gs={endpoint:"resetPassword",A:ps,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new E("internal-error")},B:!0},bs={endpoint:"signupNewUser",A:function(e){if(ns(e),!e.password)throw new E("weak-password")},G:is,V:!0,B:!0},ms={endpoint:"createAuthUri",B:!0},ys={endpoint:"deleteAccount",O:["idToken"]},_s={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new E("internal-error")}},ws={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ns,G:is,V:!0,B:!0},Cs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ns,G:is,V:!0},ks={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ss,G:is,B:!0,Na:!0},Ss={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ss,G:is,B:!0,Na:!0},Es={endpoint:"getAccountInfo"},Rs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new E("internal-error");ns(e)},Z:"email",B:!0},Ts={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new E("internal-error")},Z:"email",B:!0},Is={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new E("internal-error")},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new E("internal-error");ns(e)},Z:"email",B:!0},As={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Os={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new E("internal-error")}},Ns={endpoint:"resetPassword",A:ps,Z:"email",B:!0},Ps={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ds={endpoint:"setAccountInfo",O:["idToken"],A:rs,V:!0},Ms={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(rs(e),!e.password)throw new E("weak-password")},G:is,V:!0},Fs={endpoint:"signupNewUser",G:is,V:!0,B:!0},js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new E("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Qs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Ls={endpoint:"verifyAssertion",A:us,Za:cs,G:ls,V:!0,B:!0},Us={endpoint:"verifyAssertion",A:us,Za:cs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new E("user-not-found");if(e.errorMessage)throw Ys(e.errorMessage);is(e)},V:!0,B:!0},Vs={endpoint:"verifyAssertion",A:function(e){if(us(e),!e.idToken)throw new E("internal-error")},Za:cs,G:ls,V:!0},Bs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new E("invalid-custom-token")},G:is,V:!0,B:!0},qs={endpoint:"verifyPassword",A:function(e){if(ns(e),!e.password)throw new E("wrong-password")},G:is,V:!0,B:!0},Hs={endpoint:"verifyPhoneNumber",A:os,G:is,B:!0},Gs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new E("internal-error");os(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Bo(e);is(e)}},zs={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:os,G:is,B:!0},Ks={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ha]^!!e.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function Ws(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return Tt(new E("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Rt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=jn(t+n);Mn(s,"key",e.c),a&&Mn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new yt((function(t,n){Ja(e,s.toString(),(function(e){e?e.error?n(Zs(e,o||{})):t(e):n(new E("network-request-failed"))}),r,u?void 0:tr(Nr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new E("internal-error");return r[t.Z]}))}function Ys(e){return Zs({error:{errors:[{message:e}],code:400,message:e}})}function Zs(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],t);return!t&&e&&(t=Or(e)),new E("internal-error",t)}function $s(e){this.b=e,this.a=null,this.sb=function(e){return(tu||(tu=new yt((function(e,t){function n(){Fr(),Er("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Fr(),t(Error("Network Error"))},timeout:Js.get()})}if(Er("gapi.iframes.Iframe"))e();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Er("gapi.load")?n():t(Error("Network Error"))},Rt(Ma(r=Re(Xs,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw tu=null,e})))).then((function(){return new yt((function(t,n){Er("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),eu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Xs=new me(Ce,"https://apis.google.com/js/api.js?onload=%{onload}"),Js=new jr(3e4,6e4),eu=new jr(5e3,15e3),tu=null;function nu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Qn((e=jn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function ru(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function iu(e){try{return nc.default.app(e).auth().Ga()}catch(t){return[]}}function ou(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function au(e){var t=sr();return function(e){return Ws(e,As,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=jn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=jn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:fr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Uo(sr())}))}function su(e){return e.m||(e.m=pr().then((function(){if(!e.u){var t=e.c,n=e.i,r=iu(e.b),i=new nu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=$(r||[]),e.u=i.toString()}e.v=new $s(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Fo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Rt(n)}return n.status="ERROR",Rt(n)}))}(e)}))),e.m}function uu(e){return e.l||(e.C=e.c?kr(e.c,iu(e.b)):null,e.l=new Ba(e.g,O(e.i),e.C),e.f&&Za(e.l,e.f)),e.l}function cu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new ru(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=pe(u||null),e.f=c,e.zb(l).toString()}function lu(e){if(this.a=e||nc.default.INTERNAL.reactNative&&nc.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hu(e){this.b=e,this.a={},this.f=_(this.c,this)}nu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},ru.prototype.zb=function(e){return this.h=e,this},ru.prototype.toString=function(){if(this.v){var e=jn(this.v.url);e=Qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Qn("https",this.u,null,"/__/auth/handler");if(Mn(e,"apiKey",this.s),Mn(e,"appName",this.c),Mn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=nc.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Mn(e,"providerId",this.a.providerId),t=Nr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=pe(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),de(t)||Mn(e,"customParameters",Or(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Mn(e,"scopes",n.join(",")),this.l?Mn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Mn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Mn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(e,a)&&Mn(e,a,this.b[a]);return this.h?Mn(e,"tid",this.h):Zn(e.b,"tid"),this.f?Mn(e,"eid",this.f):Zn(e.b,"eid"),(a=iu(this.c)).length&&Mn(e,"fw",a.join(",")),e.toString()},(e=ou.prototype).Pb=function(e,t,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return su(e).then((function(){return function(e,t){return e.sb.then((function(){return new yt((function(n){e.a.send(t.type,t,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&lr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new yt((function(t){return function n(){Sn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Sn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Sr();return!Ar(e)&&!Mr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Tt(new E("popup-blocked"));if(a&&!Ar())return this.ma().o((function(t){lr(e),i(t)})),r(),Rt();this.a||(this.a=au(uu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw lr(e),i(t),t}));return r(),t})).then((function(){Do(n),a||ur(cu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=au(uu(this)));var i=this;return this.a.then((function(){Do(t),ur(cu(i.s,i.g,i.b,e,t,sr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return su(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new E("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=lu.prototype).get=function(e){return Rt(this.a.getItem(e)).then((function(e){return e&&Pr(e)}))},e.set=function(e,t){return Rt(this.a.setItem(e,Or(t)))},e.U=function(e){return Rt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var fu,du=[];function pu(e,t,n){de(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function vu(e){this.a=e}function gu(e){this.c=e,this.b=!1,this.a=[]}function bu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Tt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new yt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),e.a.push(c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return mu(e,c),t})).o((function(t){throw mu(e,c),t}))}function mu(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function yu(){if(!Cu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;br()&&self?(this.v=function(){var e=br()?self:null;if(q(du,(function(n){n.b==e&&(t=n)})),!t){var t=new hu(e);du.push(t)}return t}(),pu(this.v,"keyChanged",(function(t,n){return Tu(e).then((function(t){return 0<t.length&&q(e.a,(function(e){e(t)})),{keyProcessed:K(t,n.key)}}))})),pu(this.v,"ping",(function(){return Rt(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?Rt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Rt(null)}().then((function(t){(e.h=t)&&(e.g=new gu(new vu(t)),bu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&K(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function _u(e){return e.i||(e.i=function e(t){return new yt((function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new yt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).o((function(e){r(e)}))}}))}(e)),e.i}function wu(e,t){var n=0;return new yt((function r(i,o){_u(e).then(t).then(i).o((function(t){if(!(3<++n))return _u(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Cu(){try{return!!a.indexedDB}catch(ze){return!1}}function ku(e){return e.objectStore("firebaseLocalStorage")}function Su(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Eu(e){return new yt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Ru(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?bu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Rt()}function Tu(e){return _u(e).then((function(e){var t=ku(Su(e,!1));return t.getAll?Eu(t.getAll()):new yt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Iu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function xu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Rt().then((function(){if(Cu()){var e=Dr(),r="__sak"+e;return fu||(fu=new yu),(n=fu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){q(t.a,(function(t){t(e)}))})),e}))}function Au(){this.a={},this.type="inMemory"}function Ou(){if(!function(){var e="Node"==mr();if(!(e=Nu()||e&&nc.default.INTERNAL.node&&nc.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==mr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Nu()||nc.default.INTERNAL.node.localStorage,this.type="localStorage"}function Nu(){try{var e=a.localStorage,t=Dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Pu(){this.type="nullStorage"}function Du(){if(!function(){var e="Node"==mr();if(!(e=Mu()||e&&nc.default.INTERNAL.node&&nc.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==mr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Mu()||nc.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var e=a.sessionStorage,t=Dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Fu(){var e={};e.Browser=Lu,e.Node=Uu,e.ReactNative=Vu,e.Worker=Bu,this.a=e[mr()]}hu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];q(r,(function(t){i.push(Rt().then((function(){return t(e.origin,e.data.data)})))})),xt(i).then((function(r){var i=[];q(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),q(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},vu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},gu.prototype.close=function(){for(;0<this.a.length;)mu(this,this.a[0]);this.b=!0},(e=yu.prototype).set=function(e,t){var n=this,r=!1;return wu(this,(function(t){return Eu((t=ku(Su(t,!0))).get(e))})).then((function(i){return wu(n,(function(o){if(o=ku(Su(o,!0)),i)return i.value=t,Eu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Eu(o.add(a))}))})).then((function(){return n.c[e]=t,Ru(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return wu(this,(function(t){return Eu(ku(Su(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return wu(this,(function(r){return n=!0,t.b++,Eu(ku(Su(r,!0)).delete(e))})).then((function(){return delete t.c[e],Ru(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Iu(e),function t(){e.f=setTimeout((function(){e.l=Tu(e).then((function(t){0<t.length&&q(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Iu(this)},(e=xu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Au.prototype).get=function(e){return Rt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Rt()},e.U=function(e){return delete this.a[e],Rt()},e.ca=function(){},e.ia=function(){},(e=Ou.prototype).get=function(e){var t=this;return Rt().then((function(){return Pr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Rt().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Rt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&sn(a.window,"storage",e)},e.ia=function(e){a.window&&ln(a.window,"storage",e)},(e=Pu.prototype).get=function(){return Rt(null)},e.set=function(){return Rt()},e.U=function(){return Rt()},e.ca=function(){},e.ia=function(){},(e=Du.prototype).get=function(e){var t=this;return Rt().then((function(){return Pr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Rt().then((function(){var r=Or(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Rt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var ju,Qu,Lu={F:Ou,cb:Du},Uu={F:Ou,cb:Du},Vu={F:lu,cb:Pu},Bu={F:Ou,cb:Pu},qu={rd:"local",NONE:"none",td:"session"};function Hu(){var e=!(Mr(Sr())||!gr()),t=Ar(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},ju||(ju=new Fu),e=ju;try{this.g=!ar()&&Ur()||!a.indexedDB?new e.a.F:new xu(br()?new Au:new e.a.F)}catch(r){this.g=new Au,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Au}this.v=new Au,this.f=_(this.Zb,this),this.b={}}function Gu(){return Qu||(Qu=new Hu),Qu}function zu(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Ku(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Wu(e,t,n){return n=Ku(t,n),"local"==t.F&&(e.b[n]=null),zu(e,t.F).U(n)}function Yu(e){e.c&&(clearInterval(e.c),e.c=null)}function Zu(e){this.a=e,this.b=Gu()}(e=Hu.prototype).get=function(e,t){return zu(this,e.F).get(Ku(e,t))},e.set=function(e,t,n){var r=Ku(e,n),i=this,o=zu(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Ku(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),de(this.a)&&(zu(this,"local").ca(this.f),this.h||(ar()||!Ur())&&a.indexedDB||!this.l||function(e){Yu(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Yt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ku(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),de(this.a)&&(zu(this,"local").ia(this.f),Yu(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?zu(this,"local").ia(this.f):Yu(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},We&&ot&&10==ot&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else q(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&q(this.a[e],(function(e){e()}))};var $u,Xu={name:"authEvent",F:"local"};function Ju(){this.a=Gu()}function ec(e,t){this.b=tc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=a.Int32Array?new Int32Array(cc):cc),this.reset()}k(ec,(function(){this.b=-1}));for(var tc=64,rc=tc-1,ic=[],oc=0;oc<rc;oc++)ic[oc]=0;var ac=Z(128,ic);function sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|$u[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function uc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(sc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(sc(e),i=0)}}e.c=i,e.g+=n}ec.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):$(this.h)};var cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){ec.call(this,8,hc)}k(lc,ec);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new Ju,this.g=new Zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(e){return new E("invalid-cordova-configuration",e)}function pc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function vc(e){return e.f||(e.f=e.ma().then((function(){return new yt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),gc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Ji(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pr(Fn(o=jn(i),"firebaseError")||null))?R(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pc(e,i)}))}var n=new Mo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=Sn(500).then((function(){return gc(e).then((function(){r||pc(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Er("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Lo||(Lo=new jo),function(e){var t=Lo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Er("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function gc(e){var t=null;return function(e){return e.b.get(Xu,e.a).then((function(e){return Fo(e)}))}(e.g).then((function(n){return t=n,Wu((n=e.g).b,Xu,n.a)})).then((function(){return t}))}function bc(e){this.a=e,this.b=Gu()}(e=fc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?pr().then((function(){return new yt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Tt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",a))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",a))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",a))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",a))throw dc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},e.Pb=function(e,t){return t(new E("operation-not-supported-in-this-environment")),Rt()},e.Nb=function(){return Tt(new E("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Tt(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Rt().then((function(){return Do(t),vc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Mo(t,r,null,o,new E("no-auth-event"),null,i),u=Er("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Er("BuildInfo.displayName",a),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Sr().toLowerCase().match(/android/))return Tt(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new lc;uc(t,e),e=[];var n=8*t.g;uc(t,ac,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=cu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(Xu,s.w(),t)})).then((function(){var t=Er("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new E("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");t=Sr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new yt((function(e,t){u=function(){var t=Er("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Qr()&&c()},o.addEventListener("resume",c=function(){s||(s=Sn(2e3).then((function(){t(new E("redirect-cancelled-by-user"))})))},!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return gc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),vc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Mo("unknown",null,null,null,new E("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var mc={name:"pendingRedirect",F:"session"};function yc(e){return Wu(e.b,mc,e.a)}function _c(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Mc,this.C=new Uc,this.g=new bc(Pc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wc(this.D,this.v,this.m,T,this.J)}function wc(e,t,n,r,i){var o=nc.default.SDK_VERSION||null;return vr()?new fc(e,t,n,o,r,i):new ou(e,t,n,o,r,i)}function Cc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function kc(e){e.a.Yb()&&Cc(e).o((function(t){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));xc(t)&&e.s(n)})),e.a.Ub()||Fc(e.b)}function Sc(e,t){K(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(mc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?yc(e.g).then((function(){Cc(e).o((function(t){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));xc(t)&&e.s(n)}))})):kc(e)})).o((function(){kc(e)}))}function Ec(e,t){Y(e.h,(function(e){return e==t}))}_c.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wc(this.D,this.v,this.m,null,this.J),this.i={}},_c.prototype.s=function(e){if(!e)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Fc(this.b),t};var Rc=new jr(2e3,1e4),Tc=new jr(3e4,6e4);function Ic(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function xc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Ac(e,t,n,r,i){var o;return function(e){return e.b.set(mc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(xc(t))throw new E("operation-not-supported-in-this-environment");return o=t,yc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new yt((function(){})):yc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Oc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Rc.get())}_c.prototype.ra=function(){return this.b.ra()};var Nc={};function Pc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Dc(e,t,n,r){var i=Pc(t,n,r);return Nc[i]||(Nc[i]=new _c(e,t,n,r)),Nc[i]}function Mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fc(e){e.g||(e.g=!0,Lc(e,!1,null,null))}function jc(e){e.g&&!e.i&&Lc(e,!1,null,null)}function Qc(e,t){if(e.b=function(){return Rt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Lc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Tt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Qc(e,n):Qc(e,{user:null}),e.f=[],e.c=[]}function Uc(){}function Vc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Bc(e,t){this.a=t,Gr(this,"verificationId",e)}function qc(e,t,n,r){return new Oo(e).gb(t,n).then((function(e){return new Bc(e,r)}))}function Hc(e){var t=Li(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:e,expirationTime:Lr(1e3*t.exp),authTime:Lr(1e3*t.auth_time),issuedAtTime:Lr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Gc(e,t,n){var r=t&&t[Kc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=pe(t),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;q(t[zc]||[],(function(e){(e=Zr(e))&&i.b.push(e)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Lc(this,!0,null,e.a),Rt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Lc(e,s,t,null)})).o((function(t){Lc(e,s,null,t)}))}(this,e,t):Tt(new E("invalid-auth-event")):(Lc(this,!1,null,null),Rt())}else Tt(new E("invalid-auth-event"))},Mc.prototype.ra=function(){var e=this;return new yt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new E("timeout");e.a&&e.a.cancel(),e.a=Sn(Tc.get()).then((function(){e.b||(e.g=!0,Lc(e,!0,null,t))}))}(e))}))},Uc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Rt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Tt(new E("invalid-auth-event"))}else Tt(new E("invalid-auth-event"))},Bc.prototype.confirm=function(e){return e=No(this.verificationId,e),this.a(e)};var zc="mfaInfo",Kc="mfaPendingCredential";function Wc(e,t,n,r){E.call(this,"multi-factor-auth-required",r,t),this.b=new Gc(e,t,n),Gr(this,"resolver",this.b)}function Yc(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Wc(t,e.serverResponse,n,e.message)}catch(r){}return null}function Zc(){}function $c(e){Gr(this,"factorId",e.fa),this.a=e}function Xc(e){if($c.call(this,e),this.a.fa!=Oo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jc(e,t){for(var n in Wt.call(this,e),t)this[n]=t[n]}function el(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&q(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[Jr]=e.uid),e.displayName&&(r[$r]=e.displayName),e.enrollmentTime&&(r[Xr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ei]=e.phoneNumber);try{t=new ti(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),tl(this,n)}function tl(e,t){e.b=t,Gr(e,"enrolledFactors",t)}function nl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function il(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function ol(e,t){e.b=Qi(t[Ha]||""),e.a=t.refreshToken,il(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function al(e,t){this.a=e||null,this.b=t||null,zr(this,{lastSignInTime:Lr(t||null),creationTime:Lr(e||null)})}function sl(e,t,n,r,i,o){zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function ul(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=nc.default.SDK_VERSION?kr(nc.default.SDK_VERSION):null;this.a=new Ba(this.l,O(T),r),(this.u=e.emulatorConfig||null)&&Za(this.a,this.u),this.h=new rl(this.a),bl(this,t[Ha]),ol(this.h,t),Gr(this,"refreshToken",this.h.a),_l(this,n||{}),yn.call(this),this.P=!1,this.s&&Tr()&&(this.b=Dc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new nl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){cl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){fl(i,e.f)},this.ja=null,this.S=new el(this,n),Gr(this,"multiFactor",this.S)}function cl(e,t){e.u=t,Za(e.a,t),e.b&&(t=e.b,e.b=Dc(e.s,e.l,e.m,e.u),e.P&&(Ec(t,e),Sc(e.b,e)))}function ll(e,t){e.qa&&ln(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&sn(t,"languageCodeChanged",e.Pa)}function hl(e,t){e.$&&ln(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&sn(t,"emulatorConfigChanged",e.Ba)}function fl(e,t){e.aa=t,Xa(e.a,nc.default.SDK_VERSION?kr(nc.default.SDK_VERSION,e.aa):null)}function dl(e,t){e.ja&&ln(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&sn(t,"frameworkChanged",e.Oa)}function pl(e){try{return nc.default.app(e.m).auth()}catch(t){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function vl(e){e.J||e.D.b||(e.D.start(),ln(e,"tokenChanged",e.ba),sn(e,"tokenChanged",e.ba))}function gl(e){ln(e,"tokenChanged",e.ba),e.D.stop()}function bl(e,t){e.Aa=t,Gr(e,"_lat",t)}function ml(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return xt(t).then((function(){return e}))}function yl(e){e.b&&!e.P&&(e.P=!0,Sc(e.b,e))}function _l(e,t){zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new al(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function wl(){}function Cl(e){return Rt().then((function(){if(e.J)throw new E("app-deleted")}))}function kl(e){return G(e.providerData,(function(e){return e.providerId}))}function Sl(e,t){t&&(El(e,t.providerId),e.providerData.push(t))}function El(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Rl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Gr(e,t,n)}function Tl(e,t){e!=t&&(zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Gr(e,"metadata",t.metadata?function(e){return new al(e.a,e.b)}(t.metadata):new al),q(t.providerData,(function(t){Sl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Gr(e,"refreshToken",e.h.a),tl(e.S,t.S.b))}function Il(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return Ws(e.a,Es,{idToken:t}).then(_(e.Kc,e))}(e,t).then((function(){return n||Rl(e,"isAnonymous",!1),t}))}))}function xl(e,t){t[Ha]&&e.Aa!=t[Ha]&&(ol(e.h,t),e.dispatchEvent(new Jc("tokenChanged")),bl(e,t[Ha]),Rl(e,"refreshToken",e.h.a))}function Al(e,t){return Il(e).then((function(){if(K(kl(e),t))return ml(e).then((function(){throw new E("provider-already-linked")}))}))}function Ol(e,t,n){return Kr({user:e,credential:Po(t),additionalUserInfo:t=Hi(t),operationType:n})}function Nl(e,t){return xl(e,t),e.reload().then((function(){return e}))}function Pl(e,t,n,r,i){if(!Tr())return Tt(new E("operation-not-supported-in-this-environment"));if(e.i&&!i)return Tt(e.i);var o=qi(n.providerId),a=Dr(e.uid+":::"),s=null;(!Ar()||gr())&&e.s&&n.isOAuthProvider&&(s=cu(e.s,e.l,e.m,t,n,null,a,nc.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=hr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Ml(e),!i)return e.I().then((function(){}))})).then((function(){return Ic(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new yt((function(n,r){e.na(t,null,new E("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Oc(e.b,e,t,u,a)}))})).then((function(e){return u&&lr(u),e?Kr(e):null})).o((function(e){throw u&&lr(u),e})),Fl(e,r,i)}function Dl(e,t,n,r,i){if(!Tr())return Tt(new E("operation-not-supported-in-this-environment"));if(e.i&&!i)return Tt(e.i);var o=null,a=Dr(e.uid+":::");return r=r().then((function(){if(Ml(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,ml(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Ll,e.w(),t.a)),t})).then((function(){return Ac(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Ul(e.ha);throw o})).then((function(){if(o)throw o})),Fl(e,r,i)}function Ml(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Fl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Tt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new Jc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){W(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Yc(t.w(),pl(e),_(e.jc,e))),n||t}))}function jl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ha]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(t,n,e);return e.providerData&&q(e.providerData,(function(e){e&&Sl(i,Kr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Ql(e){this.a=e,this.b=Gu()}Gc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=pe(t.f);return delete n[zc],delete n[Kc],ge(n,e),t.g(n)}))},k(Wc,E),Zc.prototype.tb=function(e,t,n){return t.type==to?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ge(n,{phoneVerificationInfo:Ao(e.a)}),Ws(t,ks,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:Ao(e.a)}),Ws(t,Ss,n)}))}(this,e,t)},k($c,Zc),k(Xc,$c),k(Jc,Wt),(e=el.prototype).yc=function(e){tl(this,function(e){var t=[];return q(e.mfaInfo||[],(function(e){(e=Zr(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new eo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return xl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ws(r,Ks,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return tl(t,r),xl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(e){return e.w()}))}}},nl.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=Sn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=a.document,t=null;return Qr()||!e?Rt():new yt((function(n){t=function(){Qr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Tt(new E("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new yt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Ja(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Zs(e)):e.access_token&&e.refresh_token?n(e):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Yn(t).toString(),e.g,e.m.get()):r(new E("internal-error"))}))}(e.f,t).then((function(t){return e.b=Qi(t.access_token),e.a=t.refresh_token,il(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Rt(null):Rt({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(ul,yn),ul.prototype.xa=function(e){this.za=e,Ya(this.a,e)},ul.prototype.la=function(){return this.za},ul.prototype.Ga=function(){return $(this.aa)},ul.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Gr(ul.prototype,"providerId","firebase"),(e=ul.prototype).reload=function(){var e=this;return Fl(this,Cl(this).then((function(){return Il(e).then((function(){return ml(e)})).then(wl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Hc(e)}))},e.I=function(e){var t=this;return Fl(this,Cl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new E("internal-error");return e.accessToken!=t.Aa&&(bl(t,e.accessToken),t.dispatchEvent(new Jc("tokenChanged"))),Rl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new E("internal-error");_l(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,(function(e){return new sl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Sl(this,t[n]);Rl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jc("userReloaded",{hd:e}))},e.Lc=function(e){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Fl(this,e.c(this.a,this.uid).then((function(e){return xl(t,e),n=Ol(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Fl(this,Al(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ol(t,e,"link"),Nl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Fl(this,Al(this,"phone").then((function(){return qc(pl(n),e,t,_(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Fl(this,Rt().then((function(){return qc(pl(n),e,t,_(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Fl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return xl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Fl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return xl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Fl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return xl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Cl(this);var t=this;return Fl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return xl(t,e),Rl(t,"displayName",e.displayName||null),Rl(t,"photoURL",e.photoUrl||null),q(t.providerData,(function(e){"password"===e.providerId&&(Gr(e,"displayName",t.displayName),Gr(e,"photoURL",t.photoURL))})),ml(t)})).then(wl))},e.cd=function(e){var t=this;return Fl(this,Il(this).then((function(n){return K(kl(t),e)?function(e,t,n){return Ws(e,_s,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return q(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),q(kl(t),(function(e){n[e]||El(t,e)})),n[Oo.PROVIDER_ID]||Gr(t,"phoneNumber",null),ml(t)})):ml(t).then((function(){throw new E("no-such-provider")}))})))},e.delete=function(){var e=this;return Fl(this,this.I().then((function(t){return Ws(e.a,ys,{idToken:t})})).then((function(){e.dispatchEvent(new Jc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");ll(e,null),hl(e,null),dl(e,null),e.N=[],e.J=!0,gl(e),Gr(e,"refreshToken",null),e.b&&Ec(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return Pl(this,"linkViaPopup",e,(function(){return Al(t,e.providerId).then((function(){return ml(t)}))}),!1)},e.Nc=function(e){return Pl(this,"reauthViaPopup",e,(function(){return Rt()}),!0)},e.Fc=function(e){var t=this;return Dl(this,"linkViaRedirect",e,(function(){return Al(t,e.providerId)}),!1)},e.Oc=function(e){return Dl(this,"reauthViaRedirect",e,(function(){return Rt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fl(this,this.I().then((function(n){return fs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ol(i,e,"link"),Nl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Fl(this,Rt().then((function(){return io(ds(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ol(i,e,"reauthenticate"),xl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Fl(this,this.I().then((function(t){return n=t,void 0===e||de(e)?{}:Mi(new Ei(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Fl(this,this.I().then((function(e){return r=e,void 0===t||de(t)?{}:Mi(new Ei(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Fl(this,e=io(Rt(e),n.uid).then((function(e){return t=Ol(n,e,"reauthenticate"),xl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),q(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.S.w()),e};var Ll={name:"redirectUser",F:"session"};function Ul(e){return Wu(e.b,Ll,e.a)}function Vl(e){this.a=e,this.b=Gu(),this.c=null,this.f=function(e){var t=Hl("local"),n=Hl("session"),r=Hl("none");return function(e,t,n){var r=Ku(t,n),i=zu(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Pr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ql,e.a).then((function(e){return e?Hl(e):t}))}))}))})).then((function(t){return e.c=t,Bl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Hl("local"),this.a,_(this.g,this))}function Bl(e,t){var n,r=[];for(n in qu)qu[n]!==t&&r.push(Wu(e.b,Hl(qu[n]),e.a));return r.push(Wu(e.b,ql,e.a)),function(e){return new yt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)It(e[s],w(o,s),a);else t(i)}))}(r)}Vl.prototype.g=function(){var e=this,t=Hl("local");Wl(this,(function(){return Rt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Bl(e,"local").then((function(){e.c=t}))}))}))};var ql={name:"persistence",F:"session"};function Hl(e){return{name:"authUser",F:e}}function Gl(e,t){return Wl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function zl(e){return Wl(e,(function(){return Wu(e.b,e.c,e.a)}))}function Kl(e,t,n){return Wl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),jl(e||{})}))}))}function Wl(e,t){return e.f=e.f.then(t,t),e.f}function Yl(e){if(this.l=!1,Gr(this,"settings",new Vc),Gr(this,"app",e),!rh(this).options||!rh(this).options.apiKey)throw new E("invalid-api-key");e=nc.default.SDK_VERSION?kr(nc.default.SDK_VERSION):null,this.a=new Ba(rh(this).options&&rh(this).options.apiKey,O(T),e),this.P=[],this.s=[],this.N=[],this.Pa=nc.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=nc.default.INTERNAL.createSubscribe(_(this.Ac,this)),th(this,null),this.i=new Vl(rh(this).options.apiKey+":"+rh(this).name),this.D=new Ql(rh(this).options.apiKey+":"+rh(this).name),this.$=sh(this,function(e){var t=rh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Ll,e.a).then((function(e){return e&&t&&(e.authDomain=t),jl(e||{})}))}(e.D,rh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Ul(e.D)}));return sh(e,t)}(e).then((function(){return Kl(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Gl(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:zl(e.i)}))):null})).then((function(t){th(e,t||null)}));return sh(e,n)}(this)),this.h=sh(this,function(e){return e.$.then((function(){return eh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Hl("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=rh(e).options.authDomain,n=rh(e).options.apiKey;t&&Tr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Dc(t,n,rh(e).name,e.R),Sc(e.b,e),ih(e)&&yl(ih(e)),e.m){yl(e.m);var r=e.m;r.xa(e.la()),ll(r,e),fl(r=e.m,e.J),dl(r,e),cl(r=e.m,e.R),hl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,yn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=jn(this.R.url);e=Kr({protocol:e.c,host:e.a,port:e.g,options:Kr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function Zl(e){Wt.call(this,"languageCodeChanged"),this.h=e}function $l(e){Wt.call(this,"emulatorConfigChanged"),this.c=e}function Xl(e){Wt.call(this,"frameworkChanged"),this.f=e}function Jl(e){return e.Oa||Tt(new E("auth-domain-config-required"))}function eh(e){if(!Tr())return Tt(new E("operation-not-supported-in-this-environment"));var t=Jl(e).then((function(){return e.b.ra()})).then((function(e){return e?Kr(e):null}));return sh(e,t)}function th(e,t){ih(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(ih(e),e.Ba),ln(ih(e),"tokenChanged",e.qa),ln(ih(e),"userDeleted",e.za),ln(ih(e),"userInvalidated",e.Aa),gl(ih(e))),t&&(t.W.push(e.Ba),sn(t,"tokenChanged",e.qa),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.u&&vl(t)),Gr(e,"currentUser",t),t&&(t.xa(e.la()),ll(t,e),fl(t,e.J),dl(t,e),cl(t,e.R),hl(t,e))}function nh(e,t){var n=null,r=null;return sh(e,t.then((function(t){return n=Po(t),r=Hi(t),function(e,t){var n={};return n.apiKey=rh(e).options.apiKey,n.authDomain=rh(e).options.authDomain,n.appName=rh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new ul(e,t);return n&&(i.ha=n),r&&fl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return ih(e)&&t.uid==ih(e).uid?(Tl(ih(e),t),e.da(t)):(th(e,t),yl(t),e.da(t))})).then((function(){ah(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Yc(t.w(),e,_(e.kc,e))),n||t})).then((function(){return Kr({user:ih(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(e){return e.app}function ih(e){return e.currentUser}function oh(e){return ih(e)&&ih(e)._lat||null}function ah(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](oh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](oh(e))}}function sh(e,t){return e.P.push(t),t.oa((function(){W(e.P,t)})),t}function uh(){}function ch(){this.a={},this.b=1e12}Vl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");e:{for(r in qu)if(qu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(mr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Cu()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),Wl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Bl(n,e)})).then((function(){if(n.c=Hl(e),t)return n.b.set(n.c,t,n.a)})):Rt()}))},k(Yl,yn),k(Zl,Wt),k($l,Wt),k(Xl,Wt),(e=Yl.prototype).yb=function(e){return sh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Ya(this.a,this.aa),this.dispatchEvent(new Zl(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&pr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,Za(this.a,this.R),this.dispatchEvent(new $l(this.R))}},e.Gc=function(e){this.J.push(e),Xa(this.a,nc.default.SDK_VERSION?kr(nc.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Xl(this.J))},e.Ga=function(){return $(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,hs(i.a,o))}))},e.Xc=function(e){if(!Tr())return Tt(new E("operation-not-supported-in-this-environment"));var t=this,n=qi(e.providerId),r=Dr(),i=null;(!Ar()||gr())&&rh(this).options.authDomain&&e.isOAuthProvider&&(i=cu(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",e,null,r,nc.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=hr(i,n&&n.va,n&&n.ua);return sh(this,n=Jl(this).then((function(n){return Ic(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new yt((function(e,n){t.na("signInViaPopup",null,new E("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Oc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&lr(o),e?Kr(e):null})).o((function(e){throw o&&lr(o),e})))},e.Yc=function(e){if(!Tr())return Tt(new E("operation-not-supported-in-this-environment"));var t=this;return sh(this,Jl(this).then((function(){return function(e){return Wl(e,(function(){return e.b.set(ql,e.c.F,e.a)}))}(t.i)})).then((function(){return Ac(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return eh(this).then((function(t){return e.b&&jc(e.b.b),t})).o((function(t){throw e.b&&jc(e.b.b),t}))},e.dd=function(e){if(!e)return Tt(new E("null-user"));if(this.S!=e.tenantId)return Tt(new E("tenant-id-mismatch"));var t=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Ha]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new ul(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&fl(t,r),Tl(t,e),t}(e,n,t.D,t.Ga());return sh(this,this.h.then((function(){if(rh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return ih(t)&&e.uid==ih(t).uid?(Tl(ih(t),e),t.da(e)):(th(t,r),yl(r),t.da(r))})).then((function(){ah(t)})))},e.Bb=function(){var e=this;return sh(this,this.h.then((function(){return e.b&&jc(e.b.b),ih(e)?(th(e,null),zl(e.i).then((function(){ah(e)}))):Rt()})))},e.Zc=function(){var e=this;return Kl(this.i,rh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=ih(e)&&t){n=ih(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tl(ih(e),t),ih(e).I();(ih(e)||t)&&(th(e,t),t&&(yl(t),t.ha=e.D),e.b&&Sc(e.b,e),ah(e))}}))},e.da=function(e){return Gl(this.i,e)},e.mc=function(){ah(this),this.da(ih(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return nh(t,Rt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(ih(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),sh(e,e.h.then((function(){!e.l&&K(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(oh(e)))})))}(this,(function(){e.next(ih(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(ih(r)):"function"==typeof e.next&&e.next(ih(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(ih(r)):"function"==typeof e.next&&e.next(ih(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return sh(this,this.h.then((function(){return ih(t)?ih(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return nh(t,Ws(t.a,Bs,{token:e}))})).then((function(e){var n=e.user;return Rl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ws(n.a,qs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return nh(n,Ws(n.a,bs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return nh(t,e.ka(t.a))}))},e.Sc=function(e){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=ih(e);if(t&&t.isAnonymous){var n=Kr({providerId:null,isNewUser:!1});return Kr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(e,e.a.Ab()).then((function(t){var n=t.user;return Rl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return ih(this)&&ih(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ih(this)&&vl(ih(this))},e.Pc=function(e){var t=this;q(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&gl(ih(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),sh(this,this.h.then((function(){t.l||K(t.s,e)&&e(oh(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(Hl("local"),e.a,this.ja),this.b&&(Ec(this.b,this),jc(this.b.b)),Promise.resolve()},e.hc=function(e){return sh(this,function(e,t){return Ws(e,ms,{identifier:t,continueUri:Ir()?sr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!To(e)},e.xb=function(e,t){var n=this;return sh(this,Rt().then((function(){var e=new Ei(t);if(!e.c)throw new E("argument-error",Ii+" must be true when sending sign in link to email");return Mi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return sh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return sh(this,this.a.Sa(e).then((function(e){return new ni(e)})))},e.kb=function(e){return sh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return sh(this,Rt().then((function(){return void 0===t||de(t)?{}:Mi(new Ei(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return sh(this,qc(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return sh(this,Rt().then((function(){var r=t||sr(),i=Ro(e,r);if(!(r=To(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.ab(i)})))},uh.prototype.render=function(){},uh.prototype.reset=function(){},uh.prototype.getResponse=function(){},uh.prototype.execute=function(){};var lh=null;function hh(e,t){return(t=fh(t))&&e.a[t]||null}function fh(e){return(e=void 0===e?1e12:e)?e.toString():null}function dh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=st(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function ph(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function vh(){}function gh(){}ch.prototype.render=function(e,t){return this.a[this.b.toString()]=new dh(e,t),this.b++},ch.prototype.reset=function(e){var t=hh(this,e);e=fh(e),t&&e&&(t.delete(),delete this.a[e])},ch.prototype.getResponse=function(e){return(e=hh(this,e))?e.getResponse():null},ch.prototype.execute=function(e){(e=hh(this,e))&&e.execute()},dh.prototype.getResponse=function(){return ph(this),this.b},dh.prototype.execute=function(){ph(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},dh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Gr(vh,"FACTOR_ID","phone"),gh.prototype.g=function(){return lh||(lh=new ch),Rt(lh)},gh.prototype.c=function(){};var bh=null;function mh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new me(Ce,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new jr(3e4,6e4);mh.prototype.g=function(e){var t=this;return new yt((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),_h.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[t.a]},Rt(Ma(Re(yh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},mh.prototype.c=function(){this.b--};var wh=null;function Ch(e,t,n,r,i,o,s){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(bh||(bh=new gh),s=bh):(wh||(wh=new mh),s=wh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Eh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!st(t)||!this.i&&st(t).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ba(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(e){if(Th(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Er(c,a);"function"==typeof t&&t(e)}};var l=this.a[Sh];this.a[Sh]=function(){if(Th(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Er(l,a);"function"==typeof e&&e()}}}var kh="callback",Sh="expired-callback",Eh="sitekey",Rh="size";function Th(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Ih(e,t){return e.h.push(t),t.oa((function(){W(e.h,t)})),t}function xh(e){if(e.J)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(e,t,n){var r=!1;try{this.b=n||nc.default.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=nc.default.SDK_VERSION?kr(nc.default.SDK_VERSION,o):null,Ch.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,O(T),r)}function Oh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Nh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Nh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new E("argument-error",e+" failed: "+r)}(e=Ch.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Ih(this,Rt().then((function(){if(Ir()&&!br())return pr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ws(e.s,Os,{})})).then((function(t){e.a[Eh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){xh(this);var e=this;return Ih(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=st(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!at&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',qe(a.name),'"'),a.type){o.push(' type="',qe(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=dt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ut(o,a)),2<r.length&&ft(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){xh(this);var e=this;return Ih(this,this.render().then((function(t){return new yt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){xh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){xh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=st(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},k(Ah,Ch);var Nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ph(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Dh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Mh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Fh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function jh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Qh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){return!!t&&!(!t.ka||e&&t.providerId!==e)}}}function Lh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Uh(e){return p(e)&&"string"==typeof e.uid}function Vh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Bh(e,t){for(var n in t){var r=t[n].name;e[r]=Gh(r,e[n],t[n].j)}}function qh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){Oh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function Hh(e,t,n,r){e[t]=Gh(t,n,r)}function Gh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Oh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Bh(Yl.prototype,{kb:{name:"applyActionCode",j:[Ph("code")]},Sa:{name:"checkActionCode",j:[Ph("code")]},ob:{name:"confirmPasswordReset",j:[Ph("code"),Ph("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ph("email"),Ph("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ph("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ph("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Vh(Mh(),Fh(),"nextOrObserver"),Fh("opt_error",!0),Fh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Vh(Mh(),Fh(),"nextOrObserver"),Fh("opt_error",!0),Fh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ph("email"),Vh(Mh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ph("email"),Mh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ph("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Qh()]},Tc:{name:"signInWithCustomToken",j:[Ph("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ph("email"),Ph("password")]},Vc:{name:"signInWithEmailLink",j:[Ph("email"),Ph("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Vh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof ul)}},jh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ph("url"),Mh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ph("code")]}}),qh(Yl.prototype,{lc:{name:"languageCode",lb:Vh(Ph(),jh(),"languageCode")},ti:{name:"tenantId",lb:Vh(Ph(),jh(),"tenantId")}}),(Yl.Persistence=qu).LOCAL="local",Yl.Persistence.SESSION="session",Yl.Persistence.NONE="none",Bh(ul.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Dh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Dh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qh()]},rb:{name:"linkWithCredential",j:[Qh()]},Dc:{name:"linkWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qh()]},ub:{name:"reauthenticateWithCredential",j:[Qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Vh(Mh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},cd:{name:"unlink",j:[Ph("provider")]},Cb:{name:"updateEmail",j:[Ph("email")]},Db:{name:"updatePassword",j:[Ph("password")]},ed:{name:"updatePhoneNumber",j:[Qh("phone")]},Eb:{name:"updateProfile",j:[Mh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ph("email"),Vh(Mh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),Bh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bh(yt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qh(Vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Dh("appVerificationDisabledForTesting")}}),Bh(Bc.prototype,{confirm:{name:"confirm",j:[Ph("verificationCode")]}}),Hh(ro,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[lo,So,xo,so],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Vh(Ph(),Mh(),"json")]),Hh(Eo,"credential",(function(e,t){return new ko(e,t)}),[Ph("email"),Ph("password")]),Bh(ko.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(vo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(vo,"credential",go,[Vh(Ph(),Mh(),"token")]),Hh(Eo,"credentialWithLink",Ro,[Ph("email"),Ph("emailLink")]),Bh(bo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(bo,"credential",mo,[Vh(Ph(),Mh(),"token")]),Bh(yo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(yo,"credential",_o,[Vh(Ph(),Vh(Mh(),jh()),"idToken"),Vh(Ph(),jh(),"accessToken",!0)]),Bh(wo.prototype,{Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Hh(wo,"credential",Co,[Vh(Ph(),Mh(),"token"),Ph("secret",!0)]),Bh(po.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},credential:{name:"credential",j:[Vh(Ph(),Vh(Mh(),jh()),"optionsOrIdToken"),Vh(Ph(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mh("customOAuthParameters")]}}),Bh(uo.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(oo.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),Hh(Oo,"credential",No,[Ph("verificationId"),Ph("verificationCode")]),Bh(Oo.prototype,{gb:{name:"verifyPhoneNumber",j:[Vh(Ph(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Lh(e.session,to)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Lh(e.session,no)&&Uh(e.multiFactorHint):e.session&&e.multiFactorUid?Lh(e.session,no)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Bh(Io.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(E.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(Vo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(Uo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(Wc.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),Bh(Gc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),Bh(el.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Ph("displayName",!0)]},bd:{name:"unenroll",j:[Vh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Uh},Ph(),"multiFactorInfoIdentifier")]}}),Bh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(gi,"parseLink",Si,[Ph("link")]),Hh(vh,"assertion",(function(e){return new Xc(e)}),[Qh("phone")]),function(){if(void 0===nc.default||!nc.default.INTERNAL||!nc.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ii,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ri,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yl,AuthCredential:ro,Error:E};Hh(e,"EmailAuthProvider",Eo,[]),Hh(e,"FacebookAuthProvider",vo,[]),Hh(e,"GithubAuthProvider",bo,[]),Hh(e,"GoogleAuthProvider",yo,[]),Hh(e,"TwitterAuthProvider",wo,[]),Hh(e,"OAuthProvider",po,[Ph("providerId")]),Hh(e,"SAMLAuthProvider",fo,[Ph("providerId")]),Hh(e,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Yl)}}]),Hh(e,"RecaptchaVerifier",Ah,[Vh(Ph(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Mh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof nc.default.app.App)}}]),Hh(e,"ActionCodeURL",gi,[]),Hh(e,"PhoneMultiFactorGenerator",vh,[]),nc.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Yl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),nc.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),nc.default.registerVersion("@firebase/auth","0.16.8"),nc.default.INTERNAL.extendNamespace({User:ul})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sv=function(e,t){return(Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ev(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Sv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Rv(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Tv(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function Iv(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var xv=n("q/0M"),Av=function(e,t){return(Av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ov(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Nv,Pv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Dv=Dv||{},Mv=Pv||self;function Fv(){}function jv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Lv="closure_uid_"+(1e9*Math.random()>>>0),Uv=0;function Vv(e,t,n){return e.call.apply(e.bind,arguments)}function Bv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qv(e,t,n){return(qv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vv:Bv).apply(null,arguments)}function Hv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function zv(){this.s=this.s,this.o=this.o}var Kv={};zv.prototype.s=!1,zv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Lv)&&e[Lv]||(e[Lv]=++Uv)}(this);delete Kv[e]}},zv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Wv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Yv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Zv(e){return Array.prototype.concat.apply([],arguments)}function $v(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xv(e){return/^[\s\xa0]*$/.test(e)}var Jv,eg=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tg(e,t){return-1!=e.indexOf(t)}function ng(e,t){return e<t?-1:e>t?1:0}e:{var rg=Mv.navigator;if(rg){var ig=rg.userAgent;if(ig){Jv=ig;break e}}Jv=""}function og(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ag(e){var t={};for(var n in e)t[n]=e[n];return t}var sg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ug(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<sg.length;o++)n=sg[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cg(e){return cg[" "](e),e}cg[" "]=Fv;var lg,hg,fg=tg(Jv,"Opera"),dg=tg(Jv,"Trident")||tg(Jv,"MSIE"),pg=tg(Jv,"Edge"),vg=pg||dg,gg=tg(Jv,"Gecko")&&!(tg(Jv.toLowerCase(),"webkit")&&!tg(Jv,"Edge"))&&!(tg(Jv,"Trident")||tg(Jv,"MSIE"))&&!tg(Jv,"Edge"),bg=tg(Jv.toLowerCase(),"webkit")&&!tg(Jv,"Edge");function mg(){var e=Mv.document;return e?e.documentMode:void 0}e:{var yg="",_g=(hg=Jv,gg?/rv:([^\);]+)(\)|;)/.exec(hg):pg?/Edge\/([\d\.]+)/.exec(hg):dg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hg):bg?/WebKit\/(\S+)/.exec(hg):fg?/(?:Version)[ \/]?(\S+)/.exec(hg):void 0);if(_g&&(yg=_g?_g[1]:""),dg){var wg=mg();if(null!=wg&&wg>parseFloat(yg)){lg=String(wg);break e}}lg=yg}var Cg={},kg=Mv.document&&dg&&(mg()||parseInt(lg,10))||void 0,Sg=function(){if(!Mv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mv.addEventListener("test",Fv,t),Mv.removeEventListener("test",Fv,t)}catch(n){}return e}();function Eg(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Rg(e,t){if(Eg.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gg){e:{try{cg(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Tg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rg.Z.h.call(this)}}Eg.prototype.h=function(){this.defaultPrevented=!0},Gv(Rg,Eg);var Tg={2:"touch",3:"pen",4:"mouse"};Rg.prototype.h=function(){Rg.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ig="closure_listenable_"+(1e6*Math.random()|0),xg=0;function Ag(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++xg,this.ca=this.fa=!1}function Og(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ng(e){this.src=e,this.g={},this.h=0}function Pg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Wv(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Og(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dg(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Ng.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Dg(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Ag(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Mg="closure_lm_"+(1e6*Math.random()|0),Fg={};function jg(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Hg(r),t&&t[Ig]?t.O(n,r,Qv(i)?!!i.capture:!!i,o):Qg(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)jg(e,t[o],n,r,i);return null}return n=Hg(n),e&&e[Ig]?e.N(t,n,Qv(r)?!!r.capture:!!r,i):Qg(e,t,n,!1,r,i)}function Qg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Qv(i)?!!i.capture:!!i,s=Bg(e);if(s||(e[Mg]=s=new Ng(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Vg;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sg||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ug(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lg(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ig])Pg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ug(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bg(t))?(Pg(n,e),0==n.h&&(n.src=null,t[Mg]=null)):Og(e)}}}function Ug(e){return e in Fg?Fg[e]:Fg[e]="on"+e}function Vg(e,t){if(e.ca)e=!0;else{t=new Rg(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Lg(e),e=n.call(r,t)}return e}function Bg(e){return(e=e[Mg])instanceof Ng?e:null}var qg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(e){return"function"==typeof e?e:(e[qg]||(e[qg]=function(t){return e.handleEvent(t)}),e[qg])}function Gg(){zv.call(this),this.i=new Ng(this),this.P=this,this.I=null}function zg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Eg(t,e);else if(t instanceof Eg)t.target=t.target||e;else{var i=t;ug(t=new Eg(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Kg(a,r,!0,t)&&i}if(i=Kg(a=t.g=e,r,!0,t)&&i,i=Kg(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Kg(a=t.g=n[o],r,!1,t)&&i}function Kg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Pg(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Gv(Gg,zv),Gg.prototype[Ig]=!0,Gg.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=Qv(i)?!!i.capture:!!i,r=Hg(r),t&&t[Ig]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=Dg(a=t.g[n],r,i,o))&&(Og(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=Bg(t))&&(n=t.g[n.toString()],t=-1,n&&(t=Dg(n,r,i,o)),(r=-1<t?n[t]:null)&&Lg(r))}(this,e,t,n,r)},Gg.prototype.M=function(){if(Gg.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Og(n[r]);delete t.g[e],t.h--}}this.I=null},Gg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wg=Mv.JSON.stringify;function Yg(){var e=rb,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zg,$g=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Xg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Xg=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())((function(){return new Jg}),(function(e){return e.reset()})),Jg=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function eb(e){Mv.setTimeout((function(){throw e}),0)}function tb(e,t){Zg||function(){var e=Mv.Promise.resolve(void 0);Zg=function(){e.then(ib)}}(),nb||(Zg(),nb=!0),rb.add(e,t)}var nb=!1,rb=new $g;function ib(){for(var e;e=Yg();){try{e.h.call(e.g)}catch(n){eb(n)}var t=Xg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nb=!1}function ob(e,t){Gg.call(this),this.h=e||1,this.g=t||Mv,this.j=qv(this.kb,this),this.l=Date.now()}function ab(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function sb(e,t,n){if("function"==typeof e)n&&(e=qv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qv(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mv.setTimeout(e,t||0)}function ub(e){e.g=sb((function(){e.g=null,e.i&&(e.i=!1,ub(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gv(ob,Gg),(Nv=ob.prototype).da=!1,Nv.S=null,Nv.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zg(this,"tick"),this.da&&(ab(this),this.start()))}},Nv.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nv.M=function(){ob.Z.M.call(this),ab(this),delete this.g};var cb=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Av(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ub(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Mv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(zv);function lb(e){zv.call(this),this.h=e,this.g={}}Gv(lb,zv);var hb=[];function fb(e,t,n,r){Array.isArray(n)||(n&&(hb[0]=n.toString()),n=hb);for(var i=0;i<n.length;i++){var o=jg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function db(e){og(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Lg(e)}),e),e.g={}}function pb(){this.g=!0}function vb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Wg(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}lb.prototype.M=function(){lb.Z.M.call(this),db(this)},lb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pb.prototype.Aa=function(){this.g=!1},pb.prototype.info=function(){};var gb={},bb=null;function mb(){return bb=bb||new Gg}function yb(e){Eg.call(this,gb.Ma,e)}function _b(e){var t=mb();zg(t,new yb(t,e))}function wb(e,t){Eg.call(this,gb.STAT_EVENT,e),this.stat=t}function Cb(e){var t=mb();zg(t,new wb(t,e))}function kb(e,t){Eg.call(this,gb.Na,e),this.size=t}function Sb(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Mv.setTimeout((function(){e()}),t)}gb.Ma="serverreachability",Gv(yb,Eg),gb.STAT_EVENT="statevent",Gv(wb,Eg),gb.Na="timingevent",Gv(kb,Eg);var Eb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Tb(){}function Ib(){}Tb.prototype.h=null;var xb,Ab={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ob(){Eg.call(this,"d")}function Nb(){Eg.call(this,"c")}function Pb(){}function Db(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new lb(this),this.P=Fb,this.W=new ob(e=vg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Mb}function Mb(){this.i=null,this.g="",this.h=!1}Gv(Ob,Eg),Gv(Nb,Eg),Gv(Pb,Tb),Pb.prototype.g=function(){return new XMLHttpRequest},Pb.prototype.i=function(){return{}},xb=new Pb;var Fb=45e3,jb={},Qb={};function Lb(e,t,n){e.K=1,e.v=um(nm(t)),e.s=n,e.U=!0,Ub(e,null)}function Ub(e,t){e.F=Date.now(),Hb(e),e.A=nm(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Mb,e.g=Cy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new cb(qv(e.Ia,e,e.g),e.O)),fb(e.V,e.g,"readystatechange",e.gb),t=e.H?ag(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_b(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Vb(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Bb(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=qb(e,n))==Qb){4==t&&(e.o=4,Cb(14),i=!1),vb(e.j,e.m,null,"[Incomplete Response]");break}if(r==jb){e.o=4,Cb(15),vb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vb(e.j,e.m,r,null),Yb(e,r)}Vb(e)&&r!=Qb&&r!=jb&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Cb(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),py(t),t.L=!0,Cb(11))):(vb(e.j,e.m,n,"[Invalid Chunked Response]"),Wb(e),Kb(e))}function qb(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qb:(n=Number(t.substring(n,r)),isNaN(n)?jb:(r+=1)+n>t.length?Qb:(t=t.substr(r,n),e.C=r+n,t))}function Hb(e){e.Y=Date.now()+e.P,Gb(e,e.P)}function Gb(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sb(qv(e.eb,e),t)}function zb(e){e.B&&(Mv.clearTimeout(e.B),e.B=null)}function Kb(e){0==e.l.G||e.I||by(e.l,e)}function Wb(e){zb(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ab(e.W),db(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yb(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Im(n.i,e)))if(n.I=e.N,!e.J&&Im(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;gy(n),oy(n)}dy(n),Cb(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sb(qv(n.ab,n),6e3));if(1>=Tm(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else yy(n,11)}else if((e.J||n.g==e)&&gy(n),!Xv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(tg(l,"spdy")||tg(l,"quic")||tg(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(xm(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,sm(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=wy(r,r.H?r.la:null,r.W),d.J){Am(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(zb(p),Hb(p)),r.g=d}else fy(r);0<n.l.length&&uy(n)}else"stop"!=o[0]&&"close"!=o[0]||yy(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?yy(n,7):iy(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}_b(4)}catch(o){}}function Zb(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jv(e)||"string"==typeof e)Yv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(jv(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(jv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function $b(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $b)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Xb(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Jb(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Jb(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Jb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Nv=Db.prototype).setTimeout=function(e){this.P=e},Nv.gb=function(e){e=e.target;var t=this.L;t&&3==Jm(e)?t.l():this.Ia(e)},Nv.Ia=function(e){try{if(e==this.g)e:{var t=Jm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||vg||this.g&&(this.h.h||this.g.ga()||ey(this.g)))){this.I||4!=t||7==n||_b(8==n||0>=r?3:2),zb(this);var i=this.g.ba();this.N=i;t:if(Vb(this)){var o=ey(this.g);e="";var a=o.length,s=4==Jm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wb(this),Kb(this);var u="";break t}this.h.i=new Mv.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xv(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Cb(12),Wb(this),Kb(this);break e}vb(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yb(this,i)}this.U?(Bb(this,t,u),vg&&this.i&&3==t&&(fb(this.V,this.W,"tick",this.fb),this.W.start())):(vb(this.j,this.m,u,null),Yb(this,u)),4==t&&Wb(this),this.i&&!this.I&&(4==t?by(this.l,this):(this.i=!1,Hb(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Cb(12)):(this.o=0,Cb(13)),Wb(this),Kb(this)}}}catch(t){}},Nv.fb=function(){if(this.g){var e=Jm(this.g),t=this.g.ga();this.C<t.length&&(zb(this),Bb(this,e,t),this.i&&4!=e&&Hb(this))}},Nv.cancel=function(){this.I=!0,Wb(this)},Nv.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(_b(3),Cb(17)),Wb(this),this.o=2,Kb(this)):Gb(this,this.Y-e)},(Nv=$b.prototype).R=function(){Xb(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Nv.T=function(){return Xb(this),this.g.concat()},Nv.get=function(e,t){return Jb(this.h,e)?this.h[e]:t},Nv.set=function(e,t){Jb(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Nv.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var em=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tm(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof tm){this.g=void 0!==t?t:e.g,rm(this,e.j),this.s=e.s,im(this,e.i),om(this,e.m),this.l=e.l,t=e.h;var n=new bm;n.i=t.i,t.g&&(n.g=new $b(t.g),n.h=t.h),am(this,n),this.o=e.o}else e&&(n=String(e).match(em))?(this.g=!!t,rm(this,n[1]||"",!0),this.s=cm(n[2]||""),im(this,n[3]||"",!0),om(this,n[4]),this.l=cm(n[5]||"",!0),am(this,n[6]||"",!0),this.o=cm(n[7]||"")):(this.g=!!t,this.h=new bm(null,this.g))}function nm(e){return new tm(e)}function rm(e,t,n){e.j=n?cm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function im(e,t,n){e.i=n?cm(t,!0):t}function om(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function am(e,t,n){t instanceof bm?(e.h=t,function(e,t){t&&!e.j&&(mm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ym(this,t),wm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=lm(t,vm)),e.h=new bm(t,e.g))}function sm(e,t,n){e.h.set(t,n)}function um(e){return sm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function cm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lm(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,hm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lm(t,fm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(lm(t,fm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(lm(n,"/"==n.charAt(0)?pm:dm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lm(n,gm)),e.join("")};var fm=/[#\/\?@]/g,dm=/[#\?:]/g,pm=/[#\?]/g,vm=/[#\?@]/g,gm=/#/g;function bm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mm(e){e.g||(e.g=new $b,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ym(e,t){mm(e),t=Cm(e,t),Jb(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Jb((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Xb(e)))}function _m(e,t){return mm(e),t=Cm(e,t),Jb(e.g.h,t)}function wm(e,t,n){ym(e,t),0<n.length&&(e.i=null,e.g.set(Cm(e,t),$v(n)),e.h+=n.length)}function Cm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Nv=bm.prototype).add=function(e,t){mm(this),this.i=null,e=Cm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Nv.forEach=function(e,t){mm(this),this.g.forEach((function(n,r){Yv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Nv.T=function(){mm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Nv.R=function(e){mm(this);var t=[];if("string"==typeof e)_m(this,e)&&(t=Zv(t,this.g.get(Cm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Zv(t,e[n])}return t},Nv.set=function(e,t){return mm(this),this.i=null,_m(this,e=Cm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Nv.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Nv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var km=function(e,t){this.h=e,this.g=t};function Sm(e){this.l=e||Em,e=Mv.PerformanceNavigationTiming?0<(e=Mv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Mv.g&&Mv.g.Ea&&Mv.g.Ea()&&Mv.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Em=10;function Rm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tm(e){return e.h?1:e.g?e.g.size:0}function Im(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xm(e,t){e.g?e.g.add(t):e.h=t}function Am(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Om(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Ov(e.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return $v(e.i)}function Nm(){}function Pm(){this.g=new Nm}function Dm(e,t,n){var r=n||"";try{Zb(e,(function(e,n){var i=e;Qv(e)&&(i=Wg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Gx){throw t.push(r+"type="+encodeURIComponent("_badmap")),Gx}}function Mm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Fm(e){this.l=e.$b||null,this.j=e.ib||!1}function jm(e,t){Gg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sm.prototype.cancel=function(){var e,t;if(this.i=Om(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Ov(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Nm.prototype.stringify=function(e){return Mv.JSON.stringify(e,void 0)},Nm.prototype.parse=function(e){return Mv.JSON.parse(e,void 0)},Gv(Fm,Tb),Fm.prototype.g=function(){return new jm(this.l,this.j)},Fm.prototype.i=function(e){return function(){return e}}({}),Gv(jm,Gg);var Qm=0;function Lm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Um(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vm(e)}function Vm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Nv=jm.prototype).open=function(e,t){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vm(this)},Nv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Mv).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Nv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Um(this)),this.readyState=Qm},Nv.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vm(this)),this.g&&(this.readyState=3,Vm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Nv.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Um(this):Vm(this),3==this.readyState&&Lm(this)}},Nv.Ua=function(e){this.g&&(this.response=this.responseText=e,Um(this))},Nv.Ta=function(e){this.g&&(this.response=e,Um(this))},Nv.ha=function(){this.g&&Um(this)},Nv.setRequestHeader=function(e,t){this.v.append(e,t)},Nv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Nv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bm=Mv.JSON.parse;function qm(e){Gg.call(this),this.headers=new $b,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hm,this.K=this.L=!1}Gv(qm,Gg);var Hm="",Gm=/^https?$/i,zm=["POST","PUT"];function Km(e){return"content-type"==e.toLowerCase()}function Wm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ym(e),$m(e)}function Ym(e){e.D||(e.D=!0,zg(e,"complete"),zg(e,"error"))}function Zm(e){if(e.h&&void 0!==Dv&&(!e.C[1]||4!=Jm(e)||2!=e.ba()))if(e.v&&4==Jm(e))sb(e.Fa,0,e);else if(zg(e,"readystatechange"),4==Jm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(em)[1]||null;if(!o&&Mv.self&&Mv.self.location){var a=Mv.self.location.protocol;o=a.substr(0,a.length-1)}i=!Gm.test(o?o.toLowerCase():"")}t=i}if(t)zg(e,"complete"),zg(e,"success");else{e.m=6;try{var s=2<Jm(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Ym(e)}}finally{$m(e)}}}function $m(e,t){if(e.g){Xm(e);var n=e.g,r=e.C[0]?Fv:null;e.g=null,e.C=null,t||zg(e,"ready");try{n.onreadystatechange=r}catch(Gx){}}}function Xm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Mv.clearTimeout(e.A),e.A=null)}function Jm(e){return e.g?e.g.readyState:0}function ey(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Hm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ty(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return og(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):sm(e,t,n))}function ny(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ry(e){this.za=0,this.l=[],this.h=new pb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ny("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ny("baseRetryDelayMs",5e3,e),this.$a=ny("retryDelaySeedMs",1e4,e),this.Ya=ny("forwardChannelMaxRetries",2,e),this.ra=ny("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Sm(e&&e.concurrentRequestLimit),this.Ca=new Pm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function iy(e){if(ay(e),3==e.G){var t=e.V++,n=nm(e.F);sm(n,"SID",e.J),sm(n,"RID",t),sm(n,"TYPE","terminate"),ly(e,n),(t=new Db(e,e.h,t,void 0)).K=2,t.v=um(nm(n)),n=!1,Mv.navigator&&Mv.navigator.sendBeacon&&(n=Mv.navigator.sendBeacon(t.v.toString(),"")),!n&&Mv.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Hb(t)}_y(e)}function oy(e){e.g&&(py(e),e.g.cancel(),e.g=null)}function ay(e){oy(e),e.u&&(Mv.clearTimeout(e.u),e.u=null),gy(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Mv.clearTimeout(e.m),e.m=null)}function sy(e,t){e.l.push(new km(e.Za++,t)),3==e.G&&uy(e)}function uy(e){Rm(e.i)||e.m||(e.m=!0,tb(e.Ha,e),e.C=0)}function cy(e,t){var n;n=t?t.m:e.V++;var r=nm(e.F);sm(r,"SID",e.J),sm(r,"RID",n),sm(r,"AID",e.U),ly(e,r),e.o&&e.s&&ty(r,e.o,e.s),n=new Db(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=hy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),xm(e.i,n),Lb(n,r,t)}function ly(e,t){e.j&&Zb({},(function(e,n){sm(t,n,e)}))}function hy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?qv(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Dm(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function fy(e){e.g||e.u||(e.Y=1,tb(e.Ga,e),e.A=0)}function dy(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Sb(qv(e.Ga,e),my(e,e.A)),e.A++,0))}function py(e){null!=e.B&&(Mv.clearTimeout(e.B),e.B=null)}function vy(e){e.g=new Db(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=nm(e.oa);sm(t,"RID","rpc"),sm(t,"SID",e.J),sm(t,"CI",e.N?"0":"1"),sm(t,"AID",e.U),ly(e,t),sm(t,"TYPE","xmlhttp"),e.o&&e.s&&ty(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=um(nm(t)),n.s=null,n.U=!0,Ub(n,e)}function gy(e){null!=e.v&&(Mv.clearTimeout(e.v),e.v=null)}function by(e,t){var n=null;if(e.g==t){gy(e),py(e),e.g=null;var r=2}else{if(!Im(e.i,t))return;n=t.D,Am(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zg(r=mb(),new kb(r,n,t,i)),uy(e)}else fy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Tm(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Sb(qv(e.Ha,e,t),my(e,e.C)),e.C++,0)))}(e,t)||2==r&&dy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yy(e,5);break;case 4:yy(e,10);break;case 3:yy(e,6);break;default:yy(e,2)}}function my(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function yy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=qv(e.jb,e);n||(n=new tm("//www.google.com/images/cleardot.gif"),Mv.location&&"http"==Mv.location.protocol||rm(n,"https"),um(n)),function(e,t){var n=new pb;if(Mv.Image){var r=new Image;r.onload=Hv(Mm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hv(Mm,n,r,"TestLoadImage: error",!1,t),r.onabort=Hv(Mm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hv(Mm,n,r,"TestLoadImage: timeout",!1,t),Mv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Cb(2);e.G=0,e.j&&e.j.va(t),_y(e),ay(e)}function _y(e){e.G=0,e.I=-1,e.j&&(0==Om(e.i).length&&0==e.l.length||(e.i.i.length=0,$v(e.l),e.l.length=0),e.j.ua())}function wy(e,t,n){var r=function(e){return e instanceof tm?nm(e):new tm(e,void 0)}(n);if(""!=r.i)t&&im(r,t+"."+r.i),om(r,r.m);else{var i=Mv.location;r=function(e,t,n,r){var i=new tm(null,void 0);return e&&rm(i,e),t&&im(i,t),n&&om(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&og(e.aa,(function(e,t){sm(r,t,e)})),n=e.sa,(t=e.D)&&n&&sm(r,t,n),sm(r,"VER",e.ma),ly(e,r),r}function Cy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new qm(n&&e.Ba&&!e.qa?new Fm({ib:!0}):e.qa)).L=e.H,t}function ky(){}function Sy(){if(dg&&!(10<=Number(kg)))throw Error("Environmental error: no available transport.")}function Ey(e,t){Gg.call(this),this.g=new ry(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Iy(this)}function Ry(e){Ob.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ty(){Nb.call(this),this.status=1}function Iy(e){this.g=e}(Nv=qm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xb.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:xb),this.g.onreadystatechange=qv(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Wm(this,o)}e=n||"";var i=new $b(this.headers);r&&Zb(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Km,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Mv.FormData&&e instanceof Mv.FormData,!(0<=Wv(zm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xm(this),0<this.B&&((this.K=function(e){return dg&&function(){return e=Cg,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=eg(String(lg)).split("."),n=eg("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ng(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ng(0==o[2].length,0==a[2].length)||ng(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qv(this.pa,this)):this.A=sb(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Wm(this,o)}},Nv.pa=function(){void 0!==Dv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zg(this,"timeout"),this.abort(8))},Nv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zg(this,"complete"),zg(this,"abort"),$m(this))},Nv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$m(this,!0)),qm.Z.M.call(this)},Nv.Fa=function(){this.s||(this.F||this.v||this.l?Zm(this):this.cb())},Nv.cb=function(){Zm(this)},Nv.ba=function(){try{return 2<Jm(this)?this.g.status:-1}catch(hg){return-1}},Nv.ga=function(){try{return this.g?this.g.responseText:""}catch(hg){return""}},Nv.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bm(t)}},Nv.Da=function(){return this.m},Nv.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Nv=ry.prototype).ma=8,Nv.G=1,Nv.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Nv.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Db(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ug(n=ag(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hy(this,t,r),sm(i=nm(this.F),"RID",e),sm(i,"CVER",22),this.D&&sm(i,"X-HTTP-Session-Id",this.D),ly(this,i),this.o&&n&&ty(i,this.o,n),xm(this.i,t),this.Ra&&sm(i,"TYPE","init"),this.ja?(sm(i,"$req",r),sm(i,"SID","null"),t.$=!0,Lb(t,i,null)):Lb(t,i,r),this.G=2}}else 3==this.G&&(e?cy(this,e):0==this.l.length||Rm(this.i)||cy(this))},Nv.Ga=function(){if(this.u=null,vy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sb(qv(this.bb,this),e)}},Nv.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cb(10),oy(this),vy(this))},Nv.ab=function(){null!=this.v&&(this.v=null,oy(this),dy(this),Cb(19))},Nv.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Cb(2)):(this.h.info("Failed to ping google.com"),Cb(1))},(Nv=ky.prototype).xa=function(){},Nv.wa=function(){},Nv.va=function(){},Nv.ua=function(){},Nv.Oa=function(){},Sy.prototype.g=function(e,t){return new Ey(e,t)},Gv(Ey,Gg),Ey.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),tb(qv(e.hb,e,t))),Cb(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wy(e,null,e.W),uy(e)},Ey.prototype.close=function(){iy(this.g)},Ey.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,sy(this.g,t)}else this.v?((t={}).__data__=Wg(e),sy(this.g,t)):sy(this.g,e)},Ey.prototype.M=function(){this.g.j=null,delete this.j,iy(this.g),delete this.g,Ey.Z.M.call(this)},Gv(Ry,Ob),Gv(Ty,Nb),Gv(Iy,ky),Iy.prototype.xa=function(){zg(this.g,"a")},Iy.prototype.wa=function(e){zg(this.g,new Ry(e))},Iy.prototype.va=function(e){zg(this.g,new Ty(e))},Iy.prototype.ua=function(){zg(this.g,"b")},Sy.prototype.createWebChannel=Sy.prototype.g,Ey.prototype.send=Ey.prototype.u,Ey.prototype.open=Ey.prototype.m,Ey.prototype.close=Ey.prototype.close,Eb.NO_ERROR=0,Eb.TIMEOUT=8,Eb.HTTP_ERROR=6,Rb.COMPLETE="complete",Ib.EventType=Ab,Ab.OPEN="a",Ab.CLOSE="b",Ab.ERROR="c",Ab.MESSAGE="d",Gg.prototype.listen=Gg.prototype.N,qm.prototype.listenOnce=qm.prototype.O,qm.prototype.getLastError=qm.prototype.La,qm.prototype.getLastErrorCode=qm.prototype.Da,qm.prototype.getStatus=qm.prototype.ba,qm.prototype.getResponseJson=qm.prototype.Qa,qm.prototype.getResponseText=qm.prototype.ga,qm.prototype.send=qm.prototype.ea;var xy=Eb,Ay=Rb,Oy=gb,Ny=Fm,Py=Ib,Dy=qm,My=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();My.o=-1;var Fy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jy=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Ev(t,e),t}(Error),Qy=new xv.Logger("@firebase/firestore");function Ly(){return Qy.logLevel}function Uy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Qy.logLevel<=xv.LogLevel.DEBUG){var r=t.map(qy);Qy.debug.apply(Qy,Iv(["Firestore (8.10.1): "+e],r))}}function Vy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Qy.logLevel<=xv.LogLevel.ERROR){var r=t.map(qy);Qy.error.apply(Qy,Iv(["Firestore (8.10.1): "+e],r))}}function By(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Qy.logLevel<=xv.LogLevel.WARN){var r=t.map(qy);Qy.warn.apply(Qy,Iv(["Firestore (8.10.1): "+e],r))}}function qy(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(Gx){return e}}function Hy(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Vy(t),new Error(t)}function Gy(e,t){e||Hy()}function zy(e,t){return e}function Ky(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Wy=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ky(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Yy(e,t){return e<t?-1:e>t?1:0}function Zy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $y(e){return e+"\0"}var Xy=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Yy(this.nanoseconds,e.nanoseconds):Yy(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Jy=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Xy(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function e_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function t_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function n_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var r_=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Hy(),void 0===n?n=e.length-t:n>e.length-t&&Hy(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),i_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new jy(Fy.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(r_),o_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,a_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return o_.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new jy(Fy.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new jy(Fy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jy(Fy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new jy(Fy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(r_),s_=function(){function e(e){this.fields=e,e.sort(a_.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Zy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),u_=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Yy(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();u_.EMPTY_BYTE_STRING=new u_("");var c_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function l_(e){if(Gy(!!e),"string"==typeof e){var t=0,n=c_.exec(e);if(Gy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:h_(e.seconds),nanos:h_(e.nanos)}}function h_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function f_(e){return"string"==typeof e?u_.fromBase64String(e):u_.fromUint8Array(e)}function d_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function p_(e){var t=l_(e.mapValue.fields.__local_write_time__.timestampValue);return new Xy(t.seconds,t.nanos)}function v_(e){return null==e}function g_(e){return 0===e&&1/e==-1/0}function b_(e){return"number"==typeof e&&Number.isInteger(e)&&!g_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var m_=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(i_.fromString(t))},e.fromName=function(t){return new e(i_.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===i_.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return i_.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new i_(t.slice()))},e}();function y_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?d_(e)?4:10:Hy()}function __(e,t){var n=y_(e);if(n!==y_(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return p_(e).isEqual(p_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=l_(e.timestampValue),r=l_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return f_(e.bytesValue).isEqual(f_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return h_(e.geoPointValue.latitude)===h_(t.geoPointValue.latitude)&&h_(e.geoPointValue.longitude)===h_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return h_(e.integerValue)===h_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=h_(e.doubleValue),r=h_(t.doubleValue);return n===r?g_(n)===g_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zy(e.arrayValue.values||[],t.arrayValue.values||[],__);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(e_(n)!==e_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!__(n[i],r[i])))return!1;return!0}(e,t);default:return Hy()}}function w_(e,t){return void 0!==(e.values||[]).find((function(e){return __(e,t)}))}function C_(e,t){var n=y_(e),r=y_(t);if(n!==r)return Yy(n,r);switch(n){case 0:return 0;case 1:return Yy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=h_(e.integerValue||e.doubleValue),r=h_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return k_(e.timestampValue,t.timestampValue);case 4:return k_(p_(e),p_(t));case 5:return Yy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=f_(e),r=f_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yy(n[i],r[i]);if(0!==o)return o}return Yy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yy(h_(e.latitude),h_(t.latitude));return 0!==n?n:Yy(h_(e.longitude),h_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=C_(n[i],r[i]);if(o)return o}return Yy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Yy(r[a],o[a]);if(0!==s)return s;var u=C_(n[r[a]],i[o[a]]);if(0!==u)return u}return Yy(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Hy()}}function k_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yy(e,t);var n=l_(e),r=l_(t),i=Yy(n.seconds,r.seconds);return 0!==i?i:Yy(n.nanos,r.nanos)}function S_(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=l_(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?f_(t.bytesValue).toBase64():"referenceValue"in t?m_.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):Hy();var n}(e)}function E_(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function R_(e){return!!e&&"integerValue"in e}function T_(e){return!!e&&"arrayValue"in e}function I_(e){return!!e&&"nullValue"in e}function x_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function A_(e){return!!e&&"mapValue"in e}function O_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return t_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=O_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=O_(e.arrayValue.values[r]);return n}return Object.assign({},e)}var N_=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!A_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=O_(t)},e.prototype.setAll=function(e){var t=this,n=a_.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=O_(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());A_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return __(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];A_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){t_(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(O_(this.value))},e}();function P_(e){var t=[];return t_(e.fields,(function(e,n){var r=new a_([e]);if(A_(n)){var i=P_(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new s_(t)}var D_=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Jy.min(),N_.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,N_.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,N_.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=N_.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=N_.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),M_=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function F_(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new M_(e,t,n,r,i,o,a)}function j_(e){var t=zy(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+S_(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),v_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Z_(t.startAt)),t.endAt&&(n+="|ub:",n+=Z_(t.endAt)),t.h=n}return t.h}function Q_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!X_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!__(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ew(e.startAt,t.startAt)&&ew(e.endAt,t.endAt)}function L_(e){return m_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var U_=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Ev(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new V_(e,n,r):"array-contains"===n?new G_(e,r):"in"===n?new z_(e,r):"not-in"===n?new K_(e,r):"array-contains-any"===n?new W_(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new B_(e,n):new q_(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(C_(t,this.value)):null!==t&&y_(this.value)===y_(t)&&this.m(C_(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hy()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),V_=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=m_.fromName(r.referenceValue),i}return Ev(t,e),t.prototype.matches=function(e){var t=m_.comparator(e.key,this.key);return this.m(t)},t}(U_),B_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=H_(0,n),r}return Ev(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(U_),q_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=H_(0,n),r}return Ev(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(U_);function H_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return m_.fromName(e.referenceValue)}))}var G_=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Ev(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return T_(t)&&w_(t.arrayValue,this.value)},t}(U_),z_=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Ev(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&w_(this.value.arrayValue,t)},t}(U_),K_=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Ev(t,e),t.prototype.matches=function(e){if(w_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!w_(this.value.arrayValue,t)},t}(U_),W_=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Ev(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!T_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return w_(t.value.arrayValue,e)}))},t}(U_),Y_=function(e,t){this.position=e,this.before=t};function Z_(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return S_(e)})).join(",")}var $_=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function X_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function J_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?m_.comparator(m_.fromName(a.referenceValue),n.key):C_(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ew(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!__(e.position[n],t.position[n]))return!1;return!0}var tw=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function nw(e,t,n,r,i,o,a,s){return new tw(e,t,n,r,i,o,a,s)}function rw(e){return new tw(e)}function iw(e){return!v_(e.limit)&&"F"===e.limitType}function ow(e){return!v_(e.limit)&&"L"===e.limitType}function aw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sw(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function uw(e){return null!==e.collectionGroup}function cw(e){var t=zy(e);if(null===t.p){t.p=[];var n=sw(t),r=aw(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new $_(n)),t.p.push(new $_(a_.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new $_(a_.keyField(),u))}}}return t.p}function lw(e){var t=zy(e);if(!t.T)if("F"===t.limitType)t.T=F_(t.path,t.collectionGroup,cw(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=cw(t);r<i.length;r++){var o=i[r];n.push(new $_(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new Y_(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Y_(t.startAt.position,!t.startAt.before):null;t.T=F_(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.T}function hw(e,t,n){return new tw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fw(e,t){return Q_(lw(e),lw(t))&&e.limitType===t.limitType}function dw(e){return j_(lw(e))+"|lt:"+e.limitType}function pw(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+S_(t.value);var t})).join(", ")+"]"),v_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Z_(e.startAt)),e.endAt&&(t+=", endAt: "+Z_(e.endAt)),"Target("+t+")"}(lw(e))+"; limitType="+e.limitType+")"}function vw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):m_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!J_(e.startAt,cw(e),t)||e.endAt&&J_(e.endAt,cw(e),t))}(e,t)}function gw(e){return function(t,n){for(var r=!1,i=0,o=cw(e);i<o.length;i++){var a=o[i],s=bw(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function bw(e,t,n){var r=e.field.isKeyField()?m_.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?C_(r,i):Hy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hy()}}function mw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g_(t)?"-0":t}}function yw(e){return{integerValue:""+e}}function _w(e,t){return b_(t)?yw(t):mw(e,t)}var ww=function(){this._=void 0};function Cw(e,t,n){return e instanceof Ew?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rw?Tw(e,t):e instanceof Iw?xw(e,t):function(e,t){var n=Sw(e,t),r=Ow(n)+Ow(e.A);return R_(n)&&R_(e.A)?yw(r):mw(e.R,r)}(e,t)}function kw(e,t,n){return e instanceof Rw?Tw(e,t):e instanceof Iw?xw(e,t):n}function Sw(e,t){return e instanceof Aw?R_(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ew=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t}(ww),Rw=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ev(t,e),t}(ww);function Tw(e,t){for(var n=Nw(t),r=function(e){n.some((function(t){return __(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Iw=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ev(t,e),t}(ww);function xw(e,t){for(var n=Nw(t),r=function(e){n=n.filter((function(t){return!__(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Aw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Ev(t,e),t}(ww);function Ow(e){return h_(e.integerValue||e.doubleValue)}function Nw(e){return T_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pw=function(e,t){this.field=e,this.transform=t},Dw=function(e,t){this.version=e,this.transformResults=t},Mw=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Fw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var jw=function(){};function Qw(e,t,n){e instanceof qw?function(e,t,n){var r=e.value.clone(),i=zw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hw?function(e,t,n){if(Fw(e.precondition,t)){var r=zw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lw(e,t,n){e instanceof qw?function(e,t,n){if(Fw(e.precondition,t)){var r=e.value.clone(),i=Kw(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Bw(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Hw?function(e,t,n){if(Fw(e.precondition,t)){var r=Kw(e.fieldTransforms,n,t),i=t.data;i.setAll(Gw(e)),i.setAll(r),t.convertToFoundDocument(Bw(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Fw(e.precondition,t)&&t.convertToNoDocument(Jy.min())}(e,t)}function Uw(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Sw(o.transform,a||null);null!=s&&(null==n&&(n=N_.empty()),n.set(o.field,s))}return n||null}function Vw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rw&&t instanceof Rw||e instanceof Iw&&t instanceof Iw?Zy(e.elements,t.elements,__):e instanceof Aw&&t instanceof Aw?__(e.A,t.A):e instanceof Ew&&t instanceof Ew}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bw(e){return e.isFoundDocument()?e.version:Jy.min()}var qw=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Ev(t,e),t}(jw),Hw=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Ev(t,e),t}(jw);function Gw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function zw(e,t,n){var r=new Map;Gy(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,kw(a,s,n[i]))}return r}function Kw(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Cw(s,u,t))}return r}var Ww,Yw,Zw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Ev(t,e),t}(jw),$w=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Ev(t,e),t}(jw),Xw=function(e){this.count=e};function Jw(e){switch(e){case Fy.OK:return Hy();case Fy.CANCELLED:case Fy.UNKNOWN:case Fy.DEADLINE_EXCEEDED:case Fy.RESOURCE_EXHAUSTED:case Fy.INTERNAL:case Fy.UNAVAILABLE:case Fy.UNAUTHENTICATED:return!1;case Fy.INVALID_ARGUMENT:case Fy.NOT_FOUND:case Fy.ALREADY_EXISTS:case Fy.PERMISSION_DENIED:case Fy.FAILED_PRECONDITION:case Fy.ABORTED:case Fy.OUT_OF_RANGE:case Fy.UNIMPLEMENTED:case Fy.DATA_LOSS:return!0;default:return Hy()}}function eC(e){if(void 0===e)return Vy("GRPC error has no .code"),Fy.UNKNOWN;switch(e){case Ww.OK:return Fy.OK;case Ww.CANCELLED:return Fy.CANCELLED;case Ww.UNKNOWN:return Fy.UNKNOWN;case Ww.DEADLINE_EXCEEDED:return Fy.DEADLINE_EXCEEDED;case Ww.RESOURCE_EXHAUSTED:return Fy.RESOURCE_EXHAUSTED;case Ww.INTERNAL:return Fy.INTERNAL;case Ww.UNAVAILABLE:return Fy.UNAVAILABLE;case Ww.UNAUTHENTICATED:return Fy.UNAUTHENTICATED;case Ww.INVALID_ARGUMENT:return Fy.INVALID_ARGUMENT;case Ww.NOT_FOUND:return Fy.NOT_FOUND;case Ww.ALREADY_EXISTS:return Fy.ALREADY_EXISTS;case Ww.PERMISSION_DENIED:return Fy.PERMISSION_DENIED;case Ww.FAILED_PRECONDITION:return Fy.FAILED_PRECONDITION;case Ww.ABORTED:return Fy.ABORTED;case Ww.OUT_OF_RANGE:return Fy.OUT_OF_RANGE;case Ww.UNIMPLEMENTED:return Fy.UNIMPLEMENTED;case Ww.DATA_LOSS:return Fy.DATA_LOSS;default:return Hy()}}(Yw=Ww||(Ww={}))[Yw.OK=0]="OK",Yw[Yw.CANCELLED=1]="CANCELLED",Yw[Yw.UNKNOWN=2]="UNKNOWN",Yw[Yw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yw[Yw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yw[Yw.NOT_FOUND=5]="NOT_FOUND",Yw[Yw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yw[Yw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yw[Yw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yw[Yw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yw[Yw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yw[Yw.ABORTED=10]="ABORTED",Yw[Yw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yw[Yw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yw[Yw.INTERNAL=13]="INTERNAL",Yw[Yw.UNAVAILABLE=14]="UNAVAILABLE",Yw[Yw.DATA_LOSS=15]="DATA_LOSS";var tC=function(){function e(e,t){this.comparator=e,this.root=t||rC.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rC.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rC.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new nC(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new nC(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new nC(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new nC(this.root,e,this.comparator,!0)},e}(),nC=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),rC=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Hy();if(this.right.isRed())throw Hy();var e=this.left.check();if(e!==this.right.check())throw Hy();return e+(this.isRed()?0:1)},e}();rC.EMPTY=null,rC.RED=!0,rC.BLACK=!1,rC.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Hy()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new rC(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var iC=function(){function e(e){this.comparator=e,this.data=new tC(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new oC(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new oC(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),oC=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),aC=new tC(m_.comparator);function sC(){return aC}var uC=new tC(m_.comparator);function cC(){return uC}var lC=new tC(m_.comparator);function hC(){return lC}var fC=new iC(m_.comparator);function dC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=fC,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pC=new iC(Yy);function vC(){return pC}var gC=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,bC.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Jy.min(),r,vC(),sC(),dC())},e}(),bC=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(u_.EMPTY_BYTE_STRING,n,dC(),dC(),dC())},e}(),mC=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},yC=function(e,t){this.targetId=e,this.V=t},_C=function(e,t,n,r){void 0===n&&(n=u_.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},wC=function(){function e(){this.S=0,this.D=SC(),this.C=u_.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=dC(),t=dC(),n=dC();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hy()}})),new bC(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=SC()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),CC=function(){function e(e){this.W=e,this.G=new Map,this.H=sC(),this.J=kC(),this.Y=new iC(Yy)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Hy()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(L_(i))if(0===n){var o=new m_(i.path);this.tt(t,o,D_.newNoDocument(o,Jy.min()))}else Gy(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&L_(o.target)){var a=new m_(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,D_.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=dC();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new gC(e,n,this.Y,this.H,r);return this.H=sC(),this.J=kC(),this.Y=new iC(Yy),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new wC,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new iC(Yy),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Uy("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new wC),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function kC(){return new tC(m_.comparator)}function SC(){return new tC(m_.comparator)}var EC={asc:"ASCENDING",desc:"DESCENDING"},RC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TC=function(e,t){this.databaseId=e,this.I=t};function IC(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function xC(e,t){return e.I?t.toBase64():t.toUint8Array()}function AC(e,t){return IC(e,t.toTimestamp())}function OC(e){return Gy(!!e),Jy.fromTimestamp(function(e){var t=l_(e);return new Xy(t.seconds,t.nanos)}(e))}function NC(e,t){return function(e){return new i_(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function PC(e){var t=i_.fromString(e);return Gy(nk(t)),t}function DC(e,t){return NC(e.databaseId,t.path)}function MC(e,t){var n=PC(t);if(n.get(1)!==e.databaseId.projectId)throw new jy(Fy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jy(Fy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new m_(LC(n))}function FC(e,t){return NC(e.databaseId,t)}function jC(e){var t=PC(e);return 4===t.length?i_.emptyPath():LC(t)}function QC(e){return new i_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LC(e){return Gy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function UC(e,t,n){return{name:DC(e,t),fields:n.value.mapValue.fields}}function VC(e,t,n){var r=MC(e,t.name),i=OC(t.updateTime),o=new N_({mapValue:{fields:t.fields}}),a=D_.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function BC(e,t){var n;if(t instanceof qw)n={update:UC(e,t.key,t.value)};else if(t instanceof Zw)n={delete:DC(e,t.key)};else if(t instanceof Hw)n={update:UC(e,t.key,t.data),updateMask:tk(t.fieldMask)};else{if(!(t instanceof $w))return Hy();n={verify:DC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ew)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Iw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Hy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:AC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hy()}(e,t.precondition)),n}function qC(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mw.updateTime(OC(e.updateTime)):void 0!==e.exists?Mw.exists(e.exists):Mw.none()}(t.currentDocument):Mw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(Gy("REQUEST_TIME"===t.setToServerValue),n=new Ew):"appendMissingElements"in t?n=new Rw(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Iw(t.removeAllFromArray.values||[]):"increment"in t?n=new Aw(e,t.increment):Hy();var r=a_.fromServerFormat(t.fieldPath);return new Pw(r,n)}(e,t)})):[];if(t.update){var i=MC(e,t.update.name),o=new N_({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new s_((e.fieldPaths||[]).map((function(e){return a_.fromServerFormat(e)})))}(t.updateMask);return new Hw(i,o,a,n,r)}return new qw(i,o,n,r)}if(t.delete){var s=MC(e,t.delete);return new Zw(s,n)}if(t.verify){var u=MC(e,t.verify);return new $w(u,n)}return Hy()}function HC(e,t){return{documents:[FC(e,t.path)]}}function GC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=FC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=FC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(x_(e.value))return{unaryFilter:{field:$C(e.field),op:"IS_NAN"}};if(I_(e.value))return{unaryFilter:{field:$C(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(x_(e.value))return{unaryFilter:{field:$C(e.field),op:"IS_NOT_NAN"}};if(I_(e.value))return{unaryFilter:{field:$C(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$C(e.field),op:ZC(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$C(e.field),direction:YC(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||v_(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=KC(t.startAt)),t.endAt&&(n.structuredQuery.endAt=KC(t.endAt)),n}function zC(e){var t=jC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gy(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[ek(t)]:void 0!==t.fieldFilter?[JC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):Hy():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new $_(XC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return v_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=WC(n.startAt));var l=null;return n.endAt&&(l=WC(n.endAt)),nw(t,i,s,a,u,"F",c,l)}function KC(e){return{before:e.before,values:e.position}}function WC(e){return new Y_(e.values||[],!!e.before)}function YC(e){return EC[e]}function ZC(e){return RC[e]}function $C(e){return{fieldPath:e.canonicalString()}}function XC(e){return a_.fromServerFormat(e.fieldPath)}function JC(e){return U_.create(XC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hy()}}(e.fieldFilter.op),e.fieldFilter.value)}function ek(e){switch(e.unaryFilter.op){case"IS_NAN":var t=XC(e.unaryFilter.field);return U_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=XC(e.unaryFilter.field);return U_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=XC(e.unaryFilter.field);return U_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=XC(e.unaryFilter.field);return U_.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hy()}}function tk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function nk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function rk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ok(t)),t=ik(e.get(n),t);return ok(t)}function ik(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ok(e){return e+"\x01\x01"}function ak(e){var t=e.length;if(Gy(t>=2),2===t)return Gy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),i_.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Hy(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Hy()}o=a+2}return new i_(r)}var sk=function(e,t){this.seconds=e,this.nanoseconds=t},uk=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};uk.store="owner",uk.key="owner";var ck=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ck.store="mutationQueues",ck.keyPath="userId";var lk=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lk.store="mutations",lk.keyPath="batchId",lk.userMutationsIndex="userMutationsIndex",lk.userMutationsKeyPath=["userId","batchId"];var hk=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,rk(t)]},e.key=function(e,t,n){return[e,rk(t),n]},e}();hk.store="documentMutations",hk.PLACEHOLDER=new hk;var fk=function(e,t){this.path=e,this.readTime=t},dk=function(e,t){this.path=e,this.version=t},pk=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pk.store="remoteDocuments",pk.readTimeIndex="readTimeIndex",pk.readTimeIndexPath="readTime",pk.collectionReadTimeIndex="collectionReadTimeIndex",pk.collectionReadTimeIndexPath=["parentPath","readTime"];var vk=function(e){this.byteSize=e};vk.store="remoteDocumentGlobal",vk.key="remoteDocumentGlobalKey";var gk=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};gk.store="targets",gk.keyPath="targetId",gk.queryTargetsIndexName="queryTargetsIndex",gk.queryTargetsKeyPath=["canonicalId","targetId"];var bk=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};bk.store="targetDocuments",bk.keyPath=["targetId","path"],bk.documentTargetsIndex="documentTargetsIndex",bk.documentTargetsKeyPath=["path","targetId"];var mk=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};mk.key="targetGlobalKey",mk.store="targetGlobal";var yk=function(e,t){this.collectionId=e,this.parent=t};yk.store="collectionParents",yk.keyPath=["collectionId","parent"];var _k=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};_k.store="clientMetadata",_k.keyPath="clientId";var wk=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};wk.store="bundles",wk.keyPath="bundleId";var Ck=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ck.store="namedQueries",Ck.keyPath="name";var kk=Iv(Iv([],Iv(Iv([],Iv(Iv([],Iv(Iv([],[ck.store,lk.store,hk.store,pk.store,gk.store,uk.store,mk.store,bk.store]),[_k.store])),[vk.store])),[yk.store])),[wk.store,Ck.store]),Sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ek=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Rk=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Tk=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Hy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Ik=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Rk,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Ok(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Fk(t.target.error);n.ft.reject(new Ok(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ok(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Uy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Pk(t)},e}(),xk=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(uc.getUA)())&&Vy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Uy("SimpleDb","Removing database:",e),Dk(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(uc.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Rv(this,void 0,void 0,(function(){var t,n=this;return Tv(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Uy("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new Ok(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new jy(Fy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ok(e,n))},i.onupgradeneeded=function(e){Uy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){Uy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Rv(this,void 0,void 0,(function(){var i,o,a,s,u;return Tv(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Tv(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Ik.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Tk.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Uy("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ak=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Dk(this.Pt.delete())},e}(),Ok=function(e){function t(t,n){var r=this;return(r=e.call(this,Fy.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Ev(t,e),t}(jy);function Nk(e){return"IndexedDbTransactionError"===e.name}var Pk=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Uy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Uy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dk(n)},e.prototype.add=function(e){return Uy("SimpleDb","ADD",this.store.name,e,e),Dk(this.store.add(e))},e.prototype.get=function(e){var t=this;return Dk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Uy("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Uy("SimpleDb","DELETE",this.store.name,e),Dk(this.store.delete(e))},e.prototype.count=function(){return Uy("SimpleDb","COUNT",this.store.name),Dk(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Uy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Tk((function(n,r){t.onerror=function(e){var t=Fk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Tk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Ak(i),a=t(i.primaryKey,i.value,o);if(a instanceof Tk){var s=a.catch((function(e){return o.done(),Tk.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Tk.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Dk(e){return new Tk((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Fk(e.target.error);n(t)}}))}var Mk=!1;function Fk(e){var t=xk._t(Object(uc.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new jy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Mk||(Mk=!0,setTimeout((function(){throw r}),0)),r}}return e}var jk=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Ev(t,e),t}(Ek);function Qk(e,t){var n=zy(e);return xk.It(n.Mt,t)}var Lk=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Qw(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Lw(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Lw(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Jy.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dC())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Zy(this.mutations,e.mutations,(function(e,t){return Vw(e,t)}))&&Zy(this.baseMutations,e.baseMutations,(function(e,t){return Vw(e,t)}))},e}(),Uk=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Gy(t.mutations.length===r.length);for(var i=hC(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Vk=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Jy.min()),void 0===o&&(o=Jy.min()),void 0===a&&(a=u_.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Bk=function(e){this.Lt=e};function qk(e,t){if(t.document)return VC(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=m_.fromSegments(t.noDocument.path),r=Wk(t.noDocument.readTime),i=D_.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=m_.fromSegments(t.unknownDocument.path);return r=Wk(t.unknownDocument.version),D_.newUnknownDocument(o,r)}return Hy()}function Hk(e,t,n){var r=Gk(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:DC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:IC(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new pk(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Kk(t.version);return a=t.hasCommittedMutations,new pk(null,new fk(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Kk(t.version);return new pk(new dk(c,l),null,null,!0,r,i)}return Hy()}function Gk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zk(e){var t=new Xy(e[0],e[1]);return Jy.fromTimestamp(t)}function Kk(e){var t=e.toTimestamp();return new sk(t.seconds,t.nanoseconds)}function Wk(e){var t=new Xy(e.seconds,e.nanoseconds);return Jy.fromTimestamp(t)}function Yk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return qC(e.Lt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return qC(e.Lt,t)})),o=Xy.fromMillis(t.localWriteTimeMs);return new Lk(t.batchId,o,n,i)}function Zk(e){var t,n,r=Wk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Wk(e.lastLimboFreeSnapshotVersion):Jy.min();return void 0!==e.query.documents?(Gy(1===(n=e.query).documents.length),t=lw(rw(jC(n.documents[0])))):t=function(e){return lw(zC(e))}(e.query),new Vk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,u_.fromBase64String(e.resumeToken))}function $k(e,t){var n,r=Kk(t.snapshotVersion),i=Kk(t.lastLimboFreeSnapshotVersion);n=L_(t.target)?HC(e.Lt,t.target):GC(e.Lt,t.target);var o=t.resumeToken.toBase64();return new gk(t.targetId,j_(t.target),r,o,t.sequenceNumber,i,n)}function Xk(e){var t=zC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hw(t,t.limit,"L"):t}var Jk=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return eS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Wk(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return eS(e).put({bundleId:(n=t).id,createTime:Kk(OC(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return tS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Xk(t.bundledQuery),readTime:Wk(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return tS(e).put(function(e){return{name:e.name,readTime:Kk(OC(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function eS(e){return Qk(e,wk.store)}function tS(e){return Qk(e,Ck.store)}var nS=function(){function e(){this.Bt=new rS}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Tk.resolve()},e.prototype.getCollectionParents=function(e,t){return Tk.resolve(this.Bt.getEntries(t))},e}(),rS=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new iC(i_.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new iC(i_.comparator)).toArray()},e}(),iS=function(){function e(){this.qt=new rS}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:rk(i)};return oS(e).put(o)}return Tk.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$y(t),""],!1,!0);return oS(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ak(o.parent))}return n}))},e}();function oS(e){return Qk(e,yk.store)}var aS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sS=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function uS(e,t,n){var r=e.store(lk.store),i=e.store(hk.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Gy(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=hk.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Tk.waitFor(o).next((function(){return c}))}function cS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Hy();t=e.noDocument}return JSON.stringify(t).length}sS.DEFAULT_COLLECTION_PERCENTILE=10,sS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sS.DEFAULT=new sS(41943040,sS.DEFAULT_COLLECTION_PERCENTILE,sS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sS.DISABLED=new sS(-1,0,0);var lS=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Gy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fS(e).$t({index:lk.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=dS(e),a=fS(e);return a.add({}).next((function(s){Gy("number"==typeof s);for(var u=new Lk(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return BC(e.Lt,t)})),i=n.mutations.map((function(t){return BC(e.Lt,t)}));return new lk(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new iC((function(e,t){return Yy(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=hk.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,hk.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Tk.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return fS(e).get(t).next((function(e){return e?(Gy(e.userId===n.userId),Yk(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Tk.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fS(e).$t({index:lk.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Gy(t.batchId>=r),o=Yk(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fS(e).$t({index:lk.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fS(e).Nt(lk.userMutationsIndex,n).next((function(e){return e.map((function(e){return Yk(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=hk.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return dS(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[2],c=ak(r[1]);if(s===n.userId&&t.path.isEqual(c))return fS(e).get(u).next((function(e){if(!e)throw Hy();Gy(e.userId===n.userId),o.push(Yk(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new iC(Yy),i=[];return t.forEach((function(t){var o=hk.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=dS(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[2],u=ak(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),Tk.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=hk.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new iC(Yy);return dS(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[2],c=ak(e[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(fS(e).get(t).next((function(e){if(null===e)throw Hy();Gy(e.userId===n.userId),r.push(Yk(n.R,e))})))})),Tk.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return uS(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Tk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Tk.resolve();var r=IDBKeyRange.lowerBound(hk.prefixForUser(t.userId)),i=[];return dS(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=ak(e[1]);i.push(o)}else r.done()})).next((function(){Gy(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return hS(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return pS(e).get(this.userId).next((function(e){return e||new ck(t.userId,-1,"")}))},e}();function hS(e,t,n){var r=hk.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return dS(e).$t({range:o,Ft:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function fS(e){return Qk(e,lk.store)}function dS(e){return Qk(e,hk.store)}function pS(e){return Qk(e,ck.store)}var vS=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),gS=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new vS(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Jy.fromTimestamp(new Xy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return bS(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Gy(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return bS(e).$t((function(a,s){var u=Zk(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Tk.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return bS(e).$t((function(e,n){var r=Zk(n);t(r)}))},e.prototype.Xt=function(e){return mS(e).get(mk.key).next((function(e){return Gy(null!==e),e}))},e.prototype.Zt=function(e,t){return mS(e).put(mk.key,t)},e.prototype.te=function(e,t){return bS(e).put($k(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=j_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bS(e).$t({range:r,index:gk.queryTargetsIndexName},(function(e,n,r){var o=Zk(n);Q_(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=yS(e);return t.forEach((function(t){var a=rk(t.path);i.push(o.put(new bk(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Tk.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=yS(e);return Tk.forEach(t,(function(t){var o=rk(t.path);return Tk.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=yS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yS(e),i=dC();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=ak(e[1]),o=new m_(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=rk(t.path),r=IDBKeyRange.bound([n],[$y(n)],!1,!0),i=0;return yS(e).$t({index:bk.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return bS(e).get(t).next((function(e){return e?Zk(e):null}))},e}();function bS(e){return Qk(e,gk.store)}function mS(e){return Qk(e,mk.store)}function yS(e){return Qk(e,bk.store)}function _S(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){if(e.code!==Fy.FAILED_PRECONDITION||e.message!==Sk)throw e;return Uy("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function wS(e,t){var n=e[1],r=t[1],i=Yy(e[0],t[0]);return 0===i?Yy(n,r):i}var CS=function(){function e(e){this.ne=e,this.buffer=new iC(wS),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),kS=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Uy("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Rv(t,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Nk(t=n.sent())?(Uy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,_S(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),SS=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Tk.resolve(My.o);var r=new CS(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Uy("LruGarbageCollector","Garbage collection skipped; disabled"),Tk.resolve(aS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Uy("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),aS):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Uy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ly()<=xv.LogLevel.DEBUG&&Uy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Tk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),ES=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new SS(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return RS(e,n)},e.prototype.removeReference=function(e,t,n){return RS(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return RS(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return pS(e).Ot((function(r){return hS(e,r,t).next((function(e){return e&&(n=!0),Tk.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),yS(e).delete([0,rk(a.path)])}))}));i.push(u)}})).next((function(){return Tk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return RS(e,t)},e.prototype.we=function(e,t){var n,r=yS(e),i=My.o;return r.$t({index:bk.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==My.o&&t(new m_(ak(n)),i),i=a,n=o):i=My.o})).next((function(){i!==My.o&&t(new m_(ak(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function RS(e,t){return yS(e).put(function(e,t){return new bk(0,rk(e.path),t)}(t,e.currentSequenceNumber))}var TS=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){t_(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return n_(this.inner)},e}(),IS=function(){function e(){this.changes=new TS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Jy.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:D_.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Tk.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),xS=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return NS(e).put(PS(t),n)},e.prototype.removeEntry=function(e,t){var n=NS(e),r=PS(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return NS(e).get(PS(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return NS(e).get(PS(t)).next((function(e){return{document:n.ye(t,e),size:cS(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=sC();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=sC(),i=new tC(m_.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,cS(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Tk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return NS(e).$t({range:r},(function(e,t,r){for(var a=m_.fromSegments(e);o&&m_.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=sC(),o=t.path.length+1,a={};if(n.isEqual(Jy.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Gk(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=pk.collectionReadTimeIndex}return NS(e).$t(a,(function(e,n,a){if(e.length===o){var s=qk(r.R,n);t.path.isPrefixOf(s.key.path)?vw(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new AS(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return OS(e).get(vk.key).next((function(e){return Gy(!!e),e}))},e.prototype.me=function(e,t){return OS(e).put(vk.key,t)},e.prototype.ye=function(e,t){if(t){var n=qk(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Jy.min()))return n}return D_.newInvalidDocument(e)},e}(),AS=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new TS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Ev(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new iC((function(e,t){return Yy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Hk(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=cS(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Hk(t.Ie.R,D_.newNoDocument(o,Jy.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Tk.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(IS);function OS(e){return Qk(e,vk.store)}function NS(e){return Qk(e,pk.store)}function PS(e){return e.path.toArray()}var DS=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Gy(n<r&&n>=0&&r<=11);var o=new Ik("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(uk.store)}(e),function(e){e.createObjectStore(ck.store,{keyPath:ck.keyPath}),e.createObjectStore(lk.store,{keyPath:lk.keyPath,autoIncrement:!0}).createIndex(lk.userMutationsIndex,lk.userMutationsKeyPath,{unique:!0}),e.createObjectStore(hk.store)}(e),MS(e),function(e){e.createObjectStore(pk.store)}(e));var a=Tk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(bk.store),e.deleteObjectStore(gk.store),e.deleteObjectStore(mk.store)}(e),MS(e)),a=a.next((function(){return function(e){var t=e.store(mk.store),n=new mk(0,0,Jy.min().toTimestamp(),0);return t.put(mk.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(lk.store).Nt().next((function(n){e.deleteObjectStore(lk.store),e.createObjectStore(lk.store,{keyPath:lk.keyPath,autoIncrement:!0}).createIndex(lk.userMutationsIndex,lk.userMutationsKeyPath,{unique:!0});var r=t.store(lk.store),i=n.map((function(e){return r.put(e)}));return Tk.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(_k.store,{keyPath:_k.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(vk.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(pk.store);t.createIndex(pk.readTimeIndex,pk.readTimeIndexPath,{unique:!1}),t.createIndex(pk.collectionReadTimeIndex,pk.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(wk.store,{keyPath:wk.keyPath})}(e),function(e){e.createObjectStore(Ck.store,{keyPath:Ck.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(pk.store).$t((function(e,n){t+=cS(n)})).next((function(){var n=new vk(t);return e.store(vk.store).put(vk.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(ck.store),r=e.store(lk.store);return n.Nt().next((function(n){return Tk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(lk.userMutationsIndex,i).next((function(r){return Tk.forEach(r,(function(r){Gy(r.userId===n.userId);var i=Yk(t.R,r);return uS(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(bk.store),n=e.store(pk.store);return e.store(mk.store).get(mk.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new i_(n),a=function(e){return[0,rk(e)]}(o);r.push(t.get(a).next((function(n){return n?Tk.resolve():function(n){return t.put(new bk(0,rk(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Tk.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(yk.store,{keyPath:yk.keyPath});var n=t.store(yk.store),r=new rS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:rk(i)})}};return t.store(pk.store).$t({Ft:!0},(function(e,t){var n=new i_(e);return i(n.popLast())})).next((function(){return t.store(hk.store).$t({Ft:!0},(function(e,t){var n=ak(e[1]);return i(n.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(gk.store);return n.$t((function(e,r){var i=Zk(r),o=$k(t.R,i);return n.put(o)}))},e}();function MS(e){e.createObjectStore(bk.store,{keyPath:bk.keyPath}).createIndex(bk.documentTargetsIndex,bk.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(gk.store,{keyPath:gk.keyPath}).createIndex(gk.queryTargetsIndexName,gk.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(mk.store)}var FS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jS=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new jy(Fy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ES(this,i),this.Le=n+"main",this.R=new Bk(u),this.Be=new xk(this.Le,11,new DS(this.R)),this.qe=new gS(this.referenceDelegate,this.R),this.Ut=new iS,this.Ue=function(e,t){return new xS(e,t)}(this.R,this.Ut),this.Ke=new Jk,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Vy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new jy(Fy.FAILED_PRECONDITION,FS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new My(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Rv(t,void 0,void 0,(function(){return Tv(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Rv(t,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Rv(t,void 0,void 0,(function(){return Tv(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return LS(t).put(new _k(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Nk(t))return Uy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Uy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return QS(e).get(uk.key).next((function(e){return Tk.resolve(t.tn(e))}))},e.prototype.en=function(e){return LS(e).delete(this.clientId)},e.prototype.nn=function(){return Rv(this,void 0,void 0,(function(){var e,t,n,r=this;return Tv(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Qk(e,_k.store);return t.Nt().next((function(e){var n=r.rn(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return Tk.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Tk.resolve(!0):QS(e).get(uk.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new jy(Fy.FAILED_PRECONDITION,FS);return!1}}return!(!t.networkEnabled||!t.inForeground)||LS(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&Uy("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Rv(this,void 0,void 0,(function(){var e=this;return Tv(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[uk.store,_k.store],(function(t){var n=new jk(t,My.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return LS(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return lS.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return Uy("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",kk,(function(o){return r=new jk(o,i.Ne?i.Ne.next():My.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw Vy("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new jy(Fy.FAILED_PRECONDITION,Sk);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return QS(e).get(uk.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new jy(Fy.FAILED_PRECONDITION,FS)}))},e.prototype.Ze=function(e){var t=new uk(this.clientId,this.allowTabSynchronization,Date.now());return QS(e).put(uk.key,t)},e.yt=function(){return xk.yt()},e.prototype.Xe=function(e){var t=this,n=QS(e);return n.get(uk.key).next((function(e){return t.tn(e)?(Uy("IndexedDbPersistence","Releasing primary lease."),n.delete(uk.key)):Tk.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Vy("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),Object(uc.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Uy("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Vy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Vy("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function QS(e){return Qk(e,uk.store)}function LS(e){return Qk(e,_k.store)}function US(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var VS=function(e,t){this.progress=e,this.wn=t},BS=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return m_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):uw(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new m_(t)).next((function(e){var t=cC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=cC();return this.Ut.getCollectionParents(e,i).next((function(a){return Tk.forEach(a,(function(a){var s=function(e,t){return new tw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Rn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=D_.newInvalidDocument(c),r=r.insert(c,l)),Lw(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){vw(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=dC(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Hw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),qS=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=dC(),i=dC(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),HS=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Jy.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(iw(t)||ow(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Ly()<=xv.LogLevel.DEBUG&&Uy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pw(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new iC(gw(e));return t.forEach((function(t,r){vw(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Ly()<=xv.LogLevel.DEBUG&&Uy("QueryEngine","Using full collection scan to execute query:",pw(t)),this.Sn.getDocumentsMatchingQuery(e,t,Jy.min())},e}(),GS=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new tC(Yy),this.Fn=new TS((function(e){return j_(e)}),Q_),this.$n=Jy.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new BS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function zS(e,t,n,r){return new GS(e,t,n,r)}function KS(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o;return Tv(this,(function(a){switch(a.label){case 0:return n=zy(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new BS(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=dC(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function WS(e,t){var n=zy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Tk.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Gy(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function YS(e){var t=zy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function ZS(e,t){var n=zy(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Gy(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=sC();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push($S(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Jy.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Tk.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function $S(e,t,n,r,i){var o=dC();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=sC();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Jy.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Uy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function XS(e,t){var n=zy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function JS(e,t){var n=zy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?Tk.resolve(r=i):n.qe.allocateTargetId(e).next((function(i){return r=new Vk(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function eE(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a;return Tv(this,(function(s){switch(s.label){case 0:r=zy(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Nk(a=s.sent()))throw a;return Uy("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function tE(e,t,n){var r=zy(e),i=Jy.min(),o=dC();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zy(e),i=r.Fn.get(n);return void 0!==i?Tk.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,lw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Jy.min(),n?o:dC())})).next((function(e){return{documents:e,Bn:o}}))}))}function nE(e,t){var n=zy(e),r=zy(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function rE(e){var t=zy(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=zy(e),i=sC(),o=Gk(n),a=NS(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:pk.readTimeIndex,range:s},(function(e,t){var n=qk(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:zk(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn;return t.$n=e.readTime,n}))}function iE(e){return Rv(this,void 0,void 0,(function(){var t;return Tv(this,(function(n){return[2,(t=zy(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=NS(e),n=Jy.min();return t.$t({index:pk.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=zk(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function oE(e,t,n,r){return Rv(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Tv(this,(function(p){switch(p.label){case 0:for(i=zy(e),o=dC(),a=sC(),s=hC(),u=0,c=n;u<c.length;u++)h=t.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,JS(i,function(e){return lw(rw(i_.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $S(e,f,a,Jy.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function aE(e,t,n){return void 0===n&&(n=dC()),Rv(this,void 0,void 0,(function(){var r,i;return Tv(this,(function(o){switch(o.label){case 0:return[4,JS(e,lw(Xk(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=zy(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=OC(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(u_.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var sE=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Tk.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:OC(n.createTime)}),Tk.resolve()},e.prototype.getNamedQuery=function(e,t){return Tk.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Xk(e.bundledQuery),readTime:OC(e.readTime)}}(t)),Tk.resolve()},e}(),uE=function(){function e(){this.Wn=new iC(cE.Gn),this.zn=new iC(cE.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new cE(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new cE(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new m_(new i_([])),r=new cE(n,e),i=new cE(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new m_(new i_([])),n=new cE(t,e),r=new cE(t,e+1),i=dC();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new cE(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),cE=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return m_.comparator(e.key,t.key)||Yy(e.ns,t.ns)},e.Hn=function(e,t){return Yy(e.ns,t.ns)||m_.comparator(e.key,t.key)},e}(),lE=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new iC(cE.Gn)}return e.prototype.checkEmpty=function(e){return Tk.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new Lk(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new cE(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Tk.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Tk.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return Tk.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Tk.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Tk.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new cE(t,0),i=new cE(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Tk.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new iC(Yy);return t.forEach((function(e){var t=new cE(e,0),i=new cE(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Tk.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;m_.isDocumentKey(i)||(i=i.child(""));var o=new cE(new m_(i),0),a=new iC(Yy);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Tk.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Gy(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Tk.forEach(t.mutations,(function(i){var o=new cE(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new cE(t,0),r=this.rs.firstAfterOrEqual(n);return Tk.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return Tk.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),hE=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new tC(m_.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Tk.resolve(n?n.document.clone():D_.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=sC();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():D_.newInvalidDocument(e))})),Tk.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=sC(),i=new m_(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!t.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||vw(t,u)&&(r=r.insert(u.key,u.clone()))}return Tk.resolve(r)},e.prototype.fs=function(e,t){return Tk.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new fE(this)},e.prototype.getSize=function(e){return Tk.resolve(this.size)},e}(),fE=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Ev(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Tk.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(IS),dE=function(){function e(e){this.persistence=e,this.ds=new TS((function(e){return j_(e)}),Q_),this.lastRemoteSnapshotVersion=Jy.min(),this.highestTargetId=0,this.ws=0,this._s=new uE,this.targetCount=0,this.ys=vS.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Tk.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Tk.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Tk.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Tk.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Tk.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new vS(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Tk.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Tk.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Tk.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Tk.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Tk.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Tk.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Tk.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Tk.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Tk.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Tk.resolve(n)},e.prototype.containsKey=function(e,t){return Tk.resolve(this._s.containsKey(t))},e}(),pE=function(){function e(e,t){var n=this;this.gs={},this.Ne=new My(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new dE(this),this.Ut=new nS,this.Ue=function(e,t){return new hE(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Bk(t),this.Ke=new sE(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new lE(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Uy("MemoryPersistence","Starting transaction:",e);var i=new vE(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Tk.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),vE=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Ev(t,e),t}(Ek),gE=function(){function e(e){this.persistence=e,this.As=new uE,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Hy()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Tk.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Tk.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Tk.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tk.forEach(this.vs,(function(r){var i=m_.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Tk.or([function(){return Tk.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),bE=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function mE(e,t){return"firestore_clients_"+e+"_"+t}function yE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function _E(e,t){return"firestore_targets_"+e+"_"+t}bE.UNAUTHENTICATED=new bE(null),bE.GOOGLE_CREDENTIALS=new bE("google-credentials-uid"),bE.FIRST_PARTY=new bE("first-party-uid"),bE.MOCK_USER=new bE("mock-user");var wE=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new jy(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Vy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),CE=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jy(i.error.code,i.error.message)),o?new e(t,i.state,r):(Vy("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),kE=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vC(),a=0;i&&a<r.activeTargetIds.length;++a)i=b_(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Vy("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),SE=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Vy("SharedClientState","Failed to parse online state: "+t),null)},e}(),EE=function(){function e(){this.activeTargetIds=vC()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),RE=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new tC(Yy),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=mE(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new EE),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Rv(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return Tv(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(mE(this.persistenceKey,r)))&&(o=kE.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_E(this.persistenceKey,e));if(n){var r=CE.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(_E(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Uy("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Uy("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Uy("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Uy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Vy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Rv(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Tv(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=My.o;if(null!=e)try{var n=JSON.parse(e);Gy("number"==typeof n),t=n}catch(e){Vy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==My.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new wE(this.currentUser,e,t,n),i=yE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=yE(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=_E(this.persistenceKey,e),i=new CE(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return kE.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return wE.Vs(new bE(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return CE.Vs(r,t)},e.prototype.js=function(e){return SE.Vs(e)},e.prototype.ii=function(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Uy("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=vC();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),TE=function(){function e(){this.li=new EE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new EE,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),IE=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),xE=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Uy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Uy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),AE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},OE=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),NE=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Ev(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Dy;a.listenOnce(Ay.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case xy.NO_ERROR:var t=a.getResponseJson();Uy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case xy.TIMEOUT:Uy("Connection",'RPC "'+e+'" timed out'),o(new jy(Fy.DEADLINE_EXCEEDED,"Request time out"));break;case xy.HTTP_ERROR:var n=a.getStatus();if(Uy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fy).indexOf(t)>=0?t:Fy.UNKNOWN}(r.status);o(new jy(s,r.message))}else o(new jy(Fy.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new jy(Fy.UNAVAILABLE,"Connection failed."));break;default:Hy()}}finally{Uy("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Sy,i=mb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ny({})),this.ki(o.initMessageHeaders,t),Object(uc.isMobileCordova)()||Object(uc.isReactNative)()||Object(uc.isElectron)()||Object(uc.isIE)()||Object(uc.isUWP)()||Object(uc.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Uy("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new OE({Ei:function(e){c?Uy("Connection","Not sending because WebChannel is closed:",e):(u||(Uy("Connection","Opening WebChannel transport."),s.open(),u=!0),Uy("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Py.EventType.OPEN,(function(){c||Uy("Connection","WebChannel transport opened.")})),h(s,Py.EventType.CLOSE,(function(){c||(c=!0,Uy("Connection","WebChannel transport closed"),l.Vi())})),h(s,Py.EventType.ERROR,(function(e){c||(c=!0,By("Connection","WebChannel transport errored:",e),l.Vi(new jy(Fy.UNAVAILABLE,"The operation could not be completed")))})),h(s,Py.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Gy(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){Uy("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Ww[e];if(void 0!==t)return eC(t)}(i),a=r.message;void 0===o&&(o=Fy.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new jy(o,a)),s.close()}else Uy("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Oy.STAT_EVENT,(function(e){10===e.stat?Uy("Connection","Detected buffering proxy"):11===e.stat&&Uy("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Uy("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Uy("RestConnection","Received: ",e),e}),(function(t){throw By("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+AE[e]},e}());function PE(){return"undefined"!=typeof window?window:null}function DE(){return"undefined"!=typeof document?document:null}function ME(e){return new TC(e,!0)}var FE=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Uy("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),jE=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new FE(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Fy.RESOURCE_EXHAUSTED?(Vy(t.toString()),Vy("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Fy.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new jy(Fy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Rv(e,void 0,void 0,(function(){return Tv(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Uy("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Uy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),QE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Ev(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Gy(void 0===t||"string"==typeof t),u_.fromBase64String(t||"")):(Gy(void 0===t||t instanceof Uint8Array),u_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Fy.UNKNOWN:eC(e.code);return new jy(t,e.message||"")}(s);n=new _C(r,i,o,a||null)}else if("documentChange"in t){i=MC(e,(r=t.documentChange).document.name),o=OC(r.document.updateTime);var s=new N_({mapValue:{fields:r.document.fields}}),u=(a=D_.newFoundDocument(i,o,s),r.targetIds||[]);n=new mC(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=MC(e,(r=t.documentDelete).document),o=r.readTime?OC(r.readTime):Jy.min(),s=D_.newNoDocument(i,o),n=new mC([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in t)i=MC(e,(r=t.documentRemove).document),n=new mC([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return Hy();var c=t.filter;i=new Xw(r=c.count||0),n=new yC(o=c.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Jy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Jy.min():t.readTime?OC(t.readTime):Jy.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=QC(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=L_(r)?{documents:HC(e,r)}:{query:GC(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=xC(e,t.resumeToken):t.snapshotVersion.compareTo(Jy.min())>0&&(n.readTime=IC(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=QC(this.R),t.removeTarget=e,this.cr(t)},t}(jE),LE=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Ev(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Gy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Gy(void 0!==t),e.map((function(e){return function(e,t){var n=OC(e.updateTime?e.updateTime:t);return n.isEqual(Jy.min())&&(n=OC(t)),new Dw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=OC(e.commitTime);return this.listener.Tr(n,t)}return Gy(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=QC(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return BC(t.R,e)}))};this.cr(n)},t}(jE),UE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Ev(t,e),t.prototype.br=function(){if(this.Rr)throw new jy(Fy.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fy.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new jy(Fy.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fy.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new jy(Fy.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),VE=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Vy(t),this.Vr=!1):Uy("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),BE=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Rv(o,void 0,void 0,(function(){return Tv(this,(function(e){switch(e.label){case 0:return $E(this)?(Uy("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Rv(this,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return(t=zy(e)).Or.add(4),[4,HE(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,qE(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new VE(n,r)};function qE(e){return Rv(this,void 0,void 0,(function(){var t,n;return Tv(this,(function(r){switch(r.label){case 0:if(!$E(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function HE(e){return Rv(this,void 0,void 0,(function(){var t,n;return Tv(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function GE(e,t){var n=zy(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ZE(n)?YE(n):fR(n).er()&&KE(n,t))}function zE(e,t){var n=zy(e),r=fR(n);n.$r.delete(t),r.er()&&WE(n,t),0===n.$r.size&&(r.er()?r.ir():$E(n)&&n.Br.set("Unknown"))}function KE(e,t){e.qr.U(t.targetId),fR(e).mr(t)}function WE(e,t){e.qr.U(t),fR(e).yr(t)}function YE(e){e.qr=new CC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),fR(e).start(),e.Br.Sr()}function ZE(e){return $E(e)&&!fR(e).tr()&&e.$r.size>0}function $E(e){return 0===zy(e).Or.size}function XE(e){e.qr=void 0}function JE(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){return e.$r.forEach((function(t,n){KE(e,t)})),[2]}))}))}function eR(e,t){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(n){return XE(e),ZE(e)?(e.Br.Nr(t),YE(e)):e.Br.set("Unknown"),[2]}))}))}function tR(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o;return Tv(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof _C&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o;return Tv(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.$r.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Uy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,nR(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof mC?e.qr.X(t):t instanceof yC?e.qr.rt(t):e.qr.et(t),n.isEqual(Jy.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,YS(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(u_.EMPTY_BYTE_STRING,n.snapshotVersion)),WE(e,t);var r=new Vk(n.target,t,1,n.sequenceNumber);KE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Uy("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,nR(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function nR(e,t,n){return Rv(this,void 0,void 0,(function(){var r=this;return Tv(this,(function(i){switch(i.label){case 0:if(!Nk(t))throw t;return e.Or.add(1),[4,HE(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return YS(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Rv(r,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return Uy("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,qE(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function rR(e,t){return t().catch((function(n){return nR(e,n,t)}))}function iR(e){return Rv(this,void 0,void 0,(function(){var t,n,r,i,o;return Tv(this,(function(a){switch(a.label){case 0:t=zy(e),n=dR(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return $E(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,XS(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=dR(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,nR(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return oR(t)&&aR(t),[2]}}))}))}function oR(e){return $E(e)&&!dR(e).tr()&&e.Fr.length>0}function aR(e){dR(e).start()}function sR(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){return dR(e).Ar(),[2]}))}))}function uR(e){return Rv(this,void 0,void 0,(function(){var t,n,r;return Tv(this,(function(i){for(t=dR(e),n=0,r=e.Fr;n<r.length;n++)t.Er(r[n].mutations);return[2]}))}))}function cR(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i;return Tv(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Uk.from(r,t,n),[4,rR(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,iR(e)];case 2:return o.sent(),[2]}}))}))}function lR(e,t){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(n){switch(n.label){case 0:return t&&dR(e).pr?[4,function(e,t){return Rv(this,void 0,void 0,(function(){var n,r;return Tv(this,(function(i){switch(i.label){case 0:return Jw(r=t.code)&&r!==Fy.ABORTED?(n=e.Fr.shift(),dR(e).sr(),[4,rR(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,iR(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return oR(e)&&aR(e),[2]}}))}))}function hR(e,t){return Rv(this,void 0,void 0,(function(){var n;return Tv(this,(function(r){switch(r.label){case 0:return n=zy(e),t?(n.Or.delete(2),[4,qE(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,HE(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function fR(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=zy(e);return r.br(),new QE(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:JE.bind(null,e),Ri:eR.bind(null,e),_r:tR.bind(null,e)}),e.Mr.push((function(n){return Rv(t,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),ZE(e)?YE(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),XE(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function dR(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=zy(e);return r.br(),new LE(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:sR.bind(null,e),Ri:lR.bind(null,e),Ir:uR.bind(null,e),Tr:cR.bind(null,e)}),e.Mr.push((function(n){return Rv(t,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,iR(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Uy("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var pR=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Rk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jy(Fy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function vR(e,t){if(Vy("AsyncQueue",t+": "+e),Nk(e))return new jy(Fy.UNAVAILABLE,t+": "+e);throw e}var gR=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||m_.comparator(t.key,n.key)}:function(e,t){return m_.comparator(e.key,t.key)},this.keyedMap=cC(),this.sortedSet=new tC(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),bR=function(){function e(){this.Qr=new tC(m_.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Hy():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),mR=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,gR.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),yR=function(){this.Wr=void 0,this.listeners=[]},_R=function(){this.queries=new TS((function(e){return dw(e)}),fw),this.onlineState="Unknown",this.Gr=new Set};function wR(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Tv(this,(function(c){switch(c.label){case 0:if(n=zy(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new yR),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=vR(s,"Initialization of query '"+pw(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&ER(n),[2]}}))}))}function CR(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a;return Tv(this,(function(s){return n=zy(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function kR(e,t){for(var n=zy(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&ER(n)}function SR(e,t,n){var r=zy(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function ER(e){e.Gr.forEach((function(e){e.next()}))}var RR=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new mR(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=mR.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),TR=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),IR=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return MC(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?VC(this.R,e.document,!1):D_.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return OC(e)},e}(),xR=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=AR(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new IR(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||dC()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Rv(this,void 0,void 0,(function(){var e,t,n,r,i;return Tv(this,(function(o){switch(o.label){case 0:return[4,oE(this.localStore,new IR(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,aE(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new VS(Object.assign({},this.progress),e))]}}))}))},e}();function AR(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var OR=function(e){this.key=e},NR=function(e){this.key=e},PR=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=dC(),this.mutatedKeys=dC(),this.lo=gw(e),this.fo=new gR(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new bR,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=iw(this.query)&&i.size===this.query.limit?i.last():null,c=ow(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=vw(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),iw(this.query)||ow(this.query))for(;a.size>this.query.limit;){var l=iw(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hy()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new mR(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bR,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=dC(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new NR(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new OR(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=dC();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return mR.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),DR=function(e,t,n){this.query=e,this.targetId=t,this.view=n},MR=function(e){this.key=e,this.bo=!1},FR=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new TS((function(e){return dw(e)}),fw),this.Vo=new Map,this.So=new Set,this.Do=new tC(m_.comparator),this.Co=new Map,this.No=new uE,this.xo={},this.ko=new Map,this.Fo=vS.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function jR(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a;return Tv(this,(function(s){switch(s.label){case 0:return n=fT(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,JS(n.localStore,lw(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,QR(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&GE(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function QR(e,t,n,r){return Rv(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Tv(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Rv(this,void 0,void 0,(function(){var i,o,a;return Tv(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,tE(e.localStore,t.query,!1).then((function(e){return t.view._o(e.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,($R(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,tE(e.localStore,t,!0)];case 1:return i=l.sent(),o=new PR(t,i.Bn),a=o._o(i.documents),s=bC.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),$R(e,n,u.To),c=new DR(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function LR(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i;return Tv(this,(function(o){switch(o.label){case 0:return n=zy(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!fw(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,eE(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),zE(n.remoteStore,r.targetId),YR(n,r.targetId)})).catch(_S)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return YR(n,r.targetId),[4,eE(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function UR(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a;return Tv(this,(function(s){switch(s.label){case 0:r=dT(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=zy(e),i=Xy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),dC());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Uw(c,n.get(c.key));null!=l&&a.push(new Hw(c.key,l,P_(l.value.mapValue),Mw.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new tC(Yy)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,eT(r,i.changes)];case 3:return s.sent(),[4,iR(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=vR(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function VR(e,t){return Rv(this,void 0,void 0,(function(){var n,r;return Tv(this,(function(i){switch(i.label){case 0:n=zy(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ZS(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Gy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Gy(r.bo):e.removedDocuments.size>0&&(Gy(r.bo),r.bo=!1))})),[4,eT(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,_S(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function BR(e,t,n){var r=zy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&ER(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function qR(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Tv(this,(function(c){switch(c.label){case 0:return(r=zy(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new tC(m_.comparator)).insert(o,D_.newNoDocument(o,Jy.min())),s=dC().add(o),u=new gC(Jy.min(),new Map,new iC(Yy),a,s),[4,VR(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),JR(r),[3,4];case 2:return[4,eE(r.localStore,t,!1).then((function(){return YR(r,t,n)})).catch(_S)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function HR(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i;return Tv(this,(function(o){switch(o.label){case 0:n=zy(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,WS(n.localStore,t)];case 2:return i=o.sent(),WR(n,r,null),KR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,eT(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,_S(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function GR(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i;return Tv(this,(function(o){switch(o.label){case 0:r=zy(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=zy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Gy(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),WR(r,t,n),KR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,eT(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,_S(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function zR(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a;return Tv(this,(function(s){switch(s.label){case 0:$E((n=zy(e)).remoteStore)||Uy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=zy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=vR(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function KR(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function WR(e,t,n){var r=zy(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function YR(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||ZR(e,t)}))}function ZR(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(zE(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),JR(e))}function $R(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof OR?(e.No.addReference(o.key,t),XR(e,o)):o instanceof NR?(Uy("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ZR(e,o.key)):Hy()}}function XR(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Uy("SyncEngine","New document in limbo: "+n),e.So.add(r),JR(e))}function JR(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new m_(i_.fromString(t)),r=e.Fo.next();e.Co.set(r,new MR(n)),e.Do=e.Do.insert(n,r),GE(e.remoteStore,new Vk(lw(rw(n.path)),r,2,My.o))}}function eT(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a;return Tv(this,(function(s){switch(s.label){case 0:return r=zy(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=qS.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Tv(this,(function(l){switch(l.label){case 0:n=zy(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Tk.forEach(t,(function(t){return Tk.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Tk.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Nk(r=l.sent()))throw r;return Uy("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.kn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function tT(e,t){return Rv(this,void 0,void 0,(function(){var n,r;return Tv(this,(function(i){switch(i.label){case 0:return(n=zy(e)).currentUser.isEqual(t)?[3,3]:(Uy("SyncEngine","User change. New user:",t.toKey()),[4,KS(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new jy(Fy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,eT(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function nT(e,t){var n=zy(e),r=n.Co.get(t);if(r&&r.bo)return dC().add(r.key);var i=dC(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function rT(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i;return Tv(this,(function(o){switch(o.label){case 0:return[4,tE((n=zy(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&$R(n,t.targetId,i.To),i)]}}))}))}function iT(e){return Rv(this,void 0,void 0,(function(){var t;return Tv(this,(function(n){return[2,rE((t=zy(e)).localStore).then((function(e){return eT(t,e)}))]}))}))}function oT(e,t,n,r){return Rv(this,void 0,void 0,(function(){var i,o;return Tv(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=zy(e),r=zy(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Tk.resolve(null)}))}))}((i=zy(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,iR(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(WR(i,t,r||null),KR(i,t),function(e,t){zy(zy(e)._n).Gt(t)}(i.localStore,t)):Hy(),a.label=4;case 4:return[4,eT(i,o)];case 5:return a.sent(),[3,7];case 6:Uy("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function aT(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Tv(this,(function(c){switch(c.label){case 0:return fT(n=zy(e)),dT(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,sT(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,hR(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)GE(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then((function(){return YR(n,t),eE(n.localStore,t,!0)})),zE(n.remoteStore,t)})),[4,u]);case 4:return c.sent(),[4,sT(n,s)];case 5:return c.sent(),function(e){var t=zy(e);t.Co.forEach((function(e,n){zE(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new tC(m_.comparator)}(n),n.$o=!1,[4,hR(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function sT(e,t,n){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Tv(this,(function(v){switch(v.label){case 0:n=zy(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,JS(n.localStore,lw(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,rT(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nE(n.localStore,s)];case 8:return p=v.sent(),[4,JS(n.localStore,p)];case 9:return u=v.sent(),[4,QR(n,uT(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function uT(e){return nw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function cT(e){var t=zy(e);return zy(zy(t.localStore).persistence).fn()}function lT(e,t,n,r){return Rv(this,void 0,void 0,(function(){var i,o,a;return Tv(this,(function(s){switch(s.label){case 0:return(i=zy(e)).$o?(Uy("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rE(i.localStore)];case 3:return o=s.sent(),a=gC.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,eT(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,eE(i.localStore,t,!0)];case 6:return s.sent(),YR(i,t,r),[3,8];case 7:Hy(),s.label=8;case 8:return[2]}}))}))}function hT(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Tv(this,(function(f){switch(f.label){case 0:if(!(r=fT(e)).$o)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Uy("SyncEngine","Adding an already active target "+a),[3,5]):[4,nE(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,JS(r.localStore,s)];case 3:return u=f.sent(),[4,QR(r,uT(s),u.targetId,!1)];case 4:f.sent(),GE(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Tv(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,eE(r.localStore,e,!1).then((function(){zE(r.remoteStore,e),YR(r,e)})).catch(_S)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function fT(e){var t=zy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=VR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qR.bind(null,t),t.vo._r=kR.bind(null,t.eventManager),t.vo.Mo=SR.bind(null,t.eventManager),t}function dT(e){var t=zy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,t),t}function pT(e,t,n){var r=zy(e);(function(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Tv(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=zy(e),r=OC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(AR(r)),i=new xR(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,eT(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=zy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return By("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var vT=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return this.R=ME(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return zS(this.persistence,new HS,e.initialUser,this.R)},e.prototype.qo=function(e){return new pE(gE.bs,this.R)},e.prototype.Bo=function(e){return new TE},e.prototype.terminate=function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),gT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Ev(t,e),t.prototype.initialize=function(t){return Rv(this,void 0,void 0,(function(){var n=this;return Tv(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,iE(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,dT(this.Qo.syncEngine)];case 4:return r.sent(),[4,iR(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return zS(this.persistence,new HS,e.initialUser,this.R)},t.prototype.Uo=function(e){return new kS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=US(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sS.withCacheSize(this.cacheSizeBytes):sS.DEFAULT;return new jS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,PE(),DE(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new TE},t}(vT),bT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Ev(t,e),t.prototype.initialize=function(t){return Rv(this,void 0,void 0,(function(){var n,r=this;return Tv(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof RE?(this.sharedClientState.syncEngine={ui:oT.bind(null,n),ai:lT.bind(null,n),hi:hT.bind(null,n),fn:cT.bind(null,n),ci:iT.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Rv(r,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return[4,aT(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=PE();if(!RE.yt(t))throw new jy(Fy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=US(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RE(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(gT),mT=function(){function e(){}return e.prototype.initialize=function(e,t){return Rv(this,void 0,void 0,(function(){var n=this;return Tv(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return BR(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tT.bind(null,this.syncEngine),[4,hR(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new _R},e.prototype.createDatastore=function(e){var t=ME(e.databaseInfo.databaseId),n=new NE(e.databaseInfo);return function(e,t,n){return new UE(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return BR(a.syncEngine,e,0)},o=xE.yt()?new xE:new IE,new BE(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new FR(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Rv(this,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return t=zy(e),Uy("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,HE(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function yT(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Rv(this,void 0,void 0,(function(){var r;return Tv(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var _T=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),wT=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Rk,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Rv(this,void 0,void 0,(function(){var e,t,n,r;return Tv(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new TR(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Rv(this,void 0,void 0,(function(){var e,t;return Tv(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Rv(this,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Rv(this,void 0,void 0,(function(){var e,t;return Tv(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),CT=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Rv(this,void 0,void 0,(function(){var t,n=this;return Tv(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new jy(Fy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Tv(this,(function(u){switch(u.label){case 0:return n=zy(e),r=QC(n.R)+"/documents",i={documents:t.map((function(e){return DC(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Gy(!!t.found);var n=MC(e,t.found.name),r=OC(t.found.updateTime),i=new N_({mapValue:{fields:t.found.fields}});return D_.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Gy(!!t.missing),Gy(!!t.readTime);var n=MC(e,t.missing),r=OC(t.readTime);return D_.newNoDocument(n,r)}(e,t):Hy()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Gy(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Zw(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Rv(this,void 0,void 0,(function(){var e,t=this;return Tv(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=m_.fromPath(n);t.mutations.push(new $w(r,t.precondition(r)))})),[4,function(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i;return Tv(this,(function(o){switch(o.label){case 0:return n=zy(e),r=QC(n.R)+"/documents",i={writes:t.map((function(e){return BC(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Hy();t=Jy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new jy(Fy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mw.updateTime(t):Mw.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jy.min()))throw new jy(Fy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mw.updateTime(t)}return Mw.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),kT=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new FE(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Rv(e,void 0,void 0,(function(){var e,t,n=this;return Tv(this,(function(r){return e=new CT(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!v_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Jw(t)}return!1},e}(),ST=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=bE.UNAUTHENTICATED,this.clientId=Wy.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Rv(r,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return Uy("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new jy(Fy.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Rk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Rv(e,void 0,void 0,(function(){var e,n;return Tv(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=vR(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ET(e,t){return Rv(this,void 0,void 0,(function(){var n,r,i=this;return Tv(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Uy("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Rv(i,void 0,void 0,(function(){return Tv(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,KS(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function RT(e,t){return Rv(this,void 0,void 0,(function(){var n,r;return Tv(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,TT(e)];case 1:return n=i.sent(),Uy("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Rv(this,void 0,void 0,(function(){var n,r;return Tv(this,(function(i){switch(i.label){case 0:return(n=zy(e)).asyncQueue.verifyOperationInProgress(),Uy("RemoteStore","RemoteStore received new credentials"),r=$E(n),n.Or.add(3),[4,HE(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,qE(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function TT(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Uy("FirestoreClient","Using default OfflineComponentProvider"),[4,ET(e,new vT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function IT(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Uy("FirestoreClient","Using default OnlineComponentProvider"),[4,RT(e,new mT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function xT(e){return TT(e).then((function(e){return e.persistence}))}function AT(e){return TT(e).then((function(e){return e.localStore}))}function OT(e){return IT(e).then((function(e){return e.remoteStore}))}function NT(e){return IT(e).then((function(e){return e.syncEngine}))}function PT(e){return Rv(this,void 0,void 0,(function(){var t,n;return Tv(this,(function(r){switch(r.label){case 0:return[4,IT(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=jR.bind(null,t.syncEngine),n.onUnlisten=LR.bind(null,t.syncEngine),n)]}}))}))}function DT(e,t,n){var r=this;void 0===n&&(n={});var i=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(r,void 0,void 0,(function(){var r;return Tv(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new _T({next:function(o){t.enqueueAndForget((function(){return CR(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new jy(Fy.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new jy(Fy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new RR(rw(n.path),o,{includeMetadataChanges:!0,so:!0});return wR(e,a)},[4,PT(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function MT(e,t,n){var r=this;void 0===n&&(n={});var i=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(r,void 0,void 0,(function(){var r;return Tv(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new _T({next:function(n){t.enqueueAndForget((function(){return CR(e,a)})),n.fromCache&&"server"===r.source?i.reject(new jy(Fy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new RR(n,o,{includeMetadataChanges:!0,so:!0});return wR(e,a)},[4,PT(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var FT=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},jT=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),QT=new Map,LT=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},UT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(bE.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),VT=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),BT=function(){function e(e){var t=this;this.currentUser=bE.UNAUTHENTICATED,this.oc=new Rk,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Uy("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Uy("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Uy("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Gy("string"==typeof n.accessToken),new LT(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Rv(n,void 0,void 0,(function(){return Tv(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Gy(null===e||"string"==typeof e),new bE(e)},e}(),qT=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=bE.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),HT=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new qT(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(bE.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function GT(e,t,n){if(!n)throw new jy(Fy.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function zT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jy(Fy.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function KT(e,t,n,r){if(!0===t&&!0===r)throw new jy(Fy.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function WT(e){if(!m_.isDocumentKey(e))throw new jy(Fy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function YT(e){if(m_.isDocumentKey(e))throw new jy(Fy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ZT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Hy()}function $T(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jy(Fy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ZT(e);throw new jy(Fy.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function XT(e,t){if(t<=0)throw new jy(Fy.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var JT=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new jy(Fy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jy(Fy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),eI=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JT({}),this._settingsFrozen=!1,e instanceof jT?(this._databaseId=e,this._credentials=new UT):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jy(Fy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jT(e.options.projectId)}(e),this._credentials=new BT(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new jy(Fy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new jy(Fy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JT(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new UT;switch(e.type){case"gapi":var t=e.client;return Gy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new HT(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new jy(Fy.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=QT.get(this))&&(Uy("ComponentProvider","Removing Datastore"),QT.delete(this),e.terminate()),Promise.resolve();var e},e}(),tI=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rI(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),nI=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),rI=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,rw(r))||this)._path=r,i.type="collection",i}return Ev(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new tI(this.firestore,null,new m_(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(nI);function iI(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(uc.getModularInstance)(e),GT("collection","path",t),e instanceof eI)return YT(n=i_.fromString.apply(i_,Iv([t],r))),new rI(e,null,n);if(!(e instanceof tI||e instanceof rI))throw new jy(Fy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return YT(n=i_.fromString.apply(i_,Iv([e.path],r)).child(i_.fromString(t))),new rI(e.firestore,null,n)}function oI(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(uc.getModularInstance)(e),1===arguments.length&&(t=Wy.u()),GT("doc","path",t),e instanceof eI)return WT(n=i_.fromString.apply(i_,Iv([t],r))),new tI(e,null,new m_(n));if(!(e instanceof tI||e instanceof rI))throw new jy(Fy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return WT(n=e._path.child(i_.fromString.apply(i_,Iv([t],r)))),new tI(e.firestore,e instanceof rI?e.converter:null,new m_(n))}function aI(e,t){return e=Object(uc.getModularInstance)(e),t=Object(uc.getModularInstance)(t),(e instanceof tI||e instanceof rI)&&(t instanceof tI||t instanceof rI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sI(e,t){return e=Object(uc.getModularInstance)(e),t=Object(uc.getModularInstance)(t),e instanceof nI&&t instanceof nI&&e.firestore===t.firestore&&fw(e._query,t._query)&&e.converter===t.converter}var uI=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new FE(this,"async_queue_retry"),this.Ic=function(){var t=DE();t&&Uy("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=DE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=DE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Rk;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return Rv(this,void 0,void 0,(function(){var e,t=this;return Tv(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Nk(e=n.sent()))throw e;return Uy("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Vy("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=pR.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Hy()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Rv(this,void 0,void 0,(function(){var e;return Tv(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function cI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var lI=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Rk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),hI=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new uI,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Ev(t,e),t.prototype._terminate=function(){return this._firestoreClient||dI(this),this._firestoreClient.terminate()},t}(eI);function fI(e){return e._firestoreClient||dI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new FT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ST(e._credentials,e._queue,r)}function pI(e,t,n){var r=this,i=new Rk;return e.asyncQueue.enqueue((function(){return Rv(r,void 0,void 0,(function(){var r;return Tv(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ET(e,n)];case 1:return o.sent(),[4,RT(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Fy.FAILED_PRECONDITION||e.code===Fy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function vI(e){if(e._initialized||e._terminated)throw new jy(Fy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gI=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new jy(Fy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new a_(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),bI=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(u_.fromBase64String(t))}catch(t){throw new jy(Fy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(u_.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),mI=function(e){this._methodName=e},yI=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new jy(Fy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new jy(Fy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Yy(this._lat,e._lat)||Yy(this._long,e._long)},e}(),_I=/^__.*__$/,wI=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Hw(e,this.data,this.fieldMask,t,this.fieldTransforms):new qw(e,this.data,t,this.fieldTransforms)},e}(),CI=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Hw(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function kI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hy()}}var SI=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return HI(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(kI(this.Nc)&&_I.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),EI=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||ME(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new SI({Nc:e,methodName:t,qc:n,path:a_.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function RI(e){var t=e._freezeSettings(),n=ME(e._databaseId);return new EI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TI(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);UI("Data must be an object, but it was:",a,r);var s,u,c=QI(r,a);if(o.merge)s=new s_(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=VI(t,f[h],n);if(!a.contains(d))throw new jy(Fy.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");GI(l,d)||l.push(d)}s=new s_(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new wI(new N_(c),s,u)}var II=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(mI);function xI(e,t,n){return new SI({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var AI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype._toFieldTransform=function(e){return new Pw(e.path,new Ew)},t.prototype.isEqual=function(e){return e instanceof t},t}(mI),OI=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Ev(t,e),t.prototype._toFieldTransform=function(e){var t=xI(this,e,!0),n=this.Kc.map((function(e){return jI(e,t)})),r=new Rw(n);return new Pw(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(mI),NI=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Ev(t,e),t.prototype._toFieldTransform=function(e){var t=xI(this,e,!0),n=this.Kc.map((function(e){return jI(e,t)})),r=new Iw(n);return new Pw(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(mI),PI=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Ev(t,e),t.prototype._toFieldTransform=function(e){var t=new Aw(e.R,_w(e.R,this.Qc));return new Pw(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(mI);function DI(e,t,n,r){var i=e.Uc(1,t,n);UI("Data must be an object, but it was:",i,r);var o=[],a=N_.empty();t_(r,(function(e,r){var s=qI(t,e,n);r=Object(uc.getModularInstance)(r);var u=i.Oc(s);if(r instanceof II)o.push(s);else{var c=jI(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new s_(o);return new CI(a,s,i.fieldTransforms)}function MI(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[VI(t,r,n)],u=[i];if(o.length%2!=0)throw new jy(Fy.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(VI(t,o[c])),u.push(o[c+1]);for(var l=[],h=N_.empty(),f=s.length-1;f>=0;--f)if(!GI(l,s[f])){var d=s[f],p=u[f];p=Object(uc.getModularInstance)(p);var v=a.Oc(d);if(p instanceof II)l.push(d);else{var g=jI(p,v);null!=g&&(l.push(d),h.set(d,g))}}var b=new s_(l);return new CI(h,b,a.fieldTransforms)}function FI(e,t,n,r){return void 0===r&&(r=!1),jI(n,e.Uc(r?4:3,t))}function jI(e,t){if(LI(e=Object(uc.getModularInstance)(e)))return UI("Unsupported field value:",t,e),QI(e,t);if(e instanceof mI)return function(e,t){if(!kI(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=jI(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(uc.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _w(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xy.fromDate(e);return{timestampValue:IC(t.R,n)}}if(e instanceof Xy)return n=new Xy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:IC(t.R,n)};if(e instanceof yI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bI)return{bytesValue:xC(t.R,e._byteString)};if(e instanceof tI){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:NC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+ZT(e))}(e,t)}function QI(e,t){var n={};return n_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):t_(e,(function(e,r){var i=jI(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xy||e instanceof yI||e instanceof bI||e instanceof tI||e instanceof mI)}function UI(e,t,n){if(!LI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ZT(n);throw t.Lc("an object"===r?e+" a custom object":e+" "+r)}}function VI(e,t,n){if((t=Object(uc.getModularInstance)(t))instanceof gI)return t._internalPath;if("string"==typeof t)return qI(e,t);throw HI("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var BI=new RegExp("[~\\*/\\[\\]]");function qI(e,t,n){if(t.search(BI)>=0)throw HI("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(gI.bind.apply(gI,Iv([void 0],t.split(".")))))._internalPath}catch(Gx){throw HI("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function HI(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new jy(Fy.INVALID_ARGUMENT,(s+=". ")+e+u)}function GI(e,t){return e.some((function(e){return e.isEqual(t)}))}var zI=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new tI(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new KI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(WI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),KI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(zI);function WI(e,t){return"string"==typeof t?qI(e,t):t instanceof gI?t._internalPath:t._delegate._internalPath}var YI=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),ZI=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Ev(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new $I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(WI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(zI),$I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(ZI),XI=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new YI(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $I(n._firestore,n._userDataWriter,r.key,r,new YI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jy(Fy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $I(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $I(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:JI(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function JI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hy()}}function ex(e,t){return e instanceof ZI&&t instanceof ZI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof XI&&t instanceof XI&&e._firestore===t._firestore&&sI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function tx(e){if(ow(e)&&0===e.explicitOrderBy.length)throw new jy(Fy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nx=function(){};function rx(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var ix=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Ev(t,e),t.prototype._apply=function(e){var t=RI(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new jy(Fy.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hx(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(lx(r,e,l[c]));s={arrayValue:{values:u}}}else s=lx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hx(a,o),s=FI(n,"where",a,"in"===o||"not-in"===o);var h=U_.create(i,o,s);return function(e,t){if(t.g()){var n=sw(e);if(null!==n&&!n.isEqual(t.field))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=aw(e);null!==r&&fx(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new jy(Fy.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new nI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new tw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(nx),ox=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Ev(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $_(t,n);return function(e,t){if(null===aw(e)){var n=sw(e);null!==n&&fx(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new nI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new tw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(nx),ax=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Ev(t,e),t.prototype._apply=function(e){return new nI(e.firestore,e.converter,hw(e._query,this.Hc,this.Jc))},t}(nx),sx=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Ev(t,e),t.prototype._apply=function(e){var t=cx(e,this.type,this.Yc,this.Xc);return new nI(e.firestore,e.converter,function(e,t){return new tw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(nx),ux=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Ev(t,e),t.prototype._apply=function(e){var t=cx(e,this.type,this.Yc,this.Xc);return new nI(e.firestore,e.converter,function(e,t){return new tw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(nx);function cx(e,t,n,r){if(n[0]=Object(uc.getModularInstance)(n[0]),n[0]instanceof zI)return function(e,t,n,r,i){if(!r)throw new jy(Fy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=cw(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(E_(t,r.key));else{var c=r.data.field(u.field);if(d_(c))throw new jy(Fy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Y_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=RI(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new jy(Fy.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!uw(e)&&-1!==c.indexOf("/"))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(i_.fromString(c));if(!m_.isDocumentKey(l))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new m_(l);s.push(E_(t,h))}else{var f=FI(n,r,c);s.push(f)}}return new Y_(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function lx(e,t,n){if("string"==typeof(n=Object(uc.getModularInstance)(n))){if(""===n)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uw(t)&&-1!==n.indexOf("/"))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(i_.fromString(n));if(!m_.isDocumentKey(r))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return E_(e,new m_(r))}if(n instanceof tI)return E_(e,n._key);throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ZT(n)+".")}function hx(e,t){if(!Array.isArray(e)||0===e.length)throw new jy(Fy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new jy(Fy.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function fx(e,t,n){if(!n.isEqual(t))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var dx=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),y_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return h_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(f_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hy()}},e.prototype.convertObject=function(e,t){var n=this,r={};return t_(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new yI(h_(e.latitude),h_(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return d_(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(p_(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=l_(e);return new Xy(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=i_.fromString(e);Gy(nk(n));var r=new jT(n.get(1),n.get(3)),i=new m_(n.popFirst(5));return r.isEqual(t)||Vy("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function px(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ev(t,e),t.prototype.convertBytes=function(e){return new bI(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tI(this.firestore,null,t)},t}(dx),gx=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=RI(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=bx(e,this._firestore),i=px(r.converter,t,n),o=TI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Mw.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=bx(e,this._firestore);return o="string"==typeof(t=Object(uc.getModularInstance)(t))||t instanceof gI?MI(this._dataReader,"WriteBatch.update",a._key,t,n,r):DI(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Mw.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=bx(e,this._firestore);return this._mutations=this._mutations.concat(new Zw(t._key,Mw.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new jy(Fy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function bx(e,t){if((e=Object(uc.getModularInstance)(e)).firestore!==t)throw new jy(Fy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var mx=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ev(t,e),t.prototype.convertBytes=function(e){return new bI(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tI(this.firestore,null,t)},t}(dx);function yx(e,t,n){e=$T(e,tI);var r=$T(e.firestore,hI),i=px(e.converter,t,n);return Cx(r,[TI(RI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mw.none())])}function _x(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=$T(e,tI);var o=$T(e.firestore,hI),a=RI(o);return Cx(o,[("string"==typeof(t=Object(uc.getModularInstance)(t))||t instanceof gI?MI(a,"updateDoc",e._key,t,n,r):DI(a,"updateDoc",e._key,t)).toMutation(e._key,Mw.exists(!0))])}function wx(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(uc.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||cI(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(cI(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof tI)c=$T(e.firestore,hI),l=rw(e._key.path),u={next:function(t){i[s]&&i[s](kx(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=$T(e,nI);c=$T(d.firestore,hI),l=d._query;var p=new mx(c);u={next:function(e){i[s]&&i[s](new XI(c,p,d,e))},error:i[s+1],complete:i[s+2]},tx(e._query)}return function(e,t,n,r){var i=this,o=new _T(r),a=new RR(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Rv(i,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return t=wR,[4,PT(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Rv(i,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return t=CR,[4,PT(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(fI(c),l,h,u)}function Cx(e,t){return function(e,t){var n=this,r=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(n,void 0,void 0,(function(){var n;return Tv(this,(function(i){switch(i.label){case 0:return n=UR,[4,NT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(fI(e),t)}function kx(e,t,n){var r=n.docs.get(t._key),i=new mx(e);return new ZI(e,i,t._key,r,new YI(n.hasPendingWrites,n.fromCache),t.converter)}var Sx=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Ev(t,e),t.prototype.get=function(t){var n=this,r=bx(t,this._firestore),i=new mx(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new ZI(n._firestore,i,r._key,e._document,new YI(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=RI(e)}return e.prototype.get=function(e){var t=this,n=bx(e,this._firestore),r=new vx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Hy();var i=e[0];if(i.isFoundDocument())return new zI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zI(t._firestore,r,n._key,null,n.converter);throw Hy()}))},e.prototype.set=function(e,t,n){var r=bx(e,this._firestore),i=px(r.converter,t,n),o=TI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=bx(e,this._firestore);return o="string"==typeof(t=Object(uc.getModularInstance)(t))||t instanceof gI?MI(this._dataReader,"Transaction.update",a._key,t,n,r):DI(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=bx(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Ex(){if("undefined"==typeof Uint8Array)throw new jy(Fy.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rx(){if("undefined"==typeof atob)throw new jy(Fy.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Tx=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Rx(),new e(bI.fromBase64String(t))},e.fromUint8Array=function(t){return Ex(),new e(bI.fromUint8Array(t))},e.prototype.toBase64=function(){return Rx(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Ex(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Ix=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){vI(e=$T(e,hI));var n=fI(e),r=e._freezeSettings(),i=new mT;return pI(n,i,new gT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){vI(e=$T(e,hI));var t=fI(e),n=e._freezeSettings(),r=new mT;return pI(t,r,new bT(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new jy(Fy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Rk;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Rv(t,void 0,void 0,(function(){var t;return Tv(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Rv(this,void 0,void 0,(function(){return Tv(this,(function(t){switch(t.label){case 0:return xk.yt()?[4,xk.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(US(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),xx=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof jT||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||By("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=$T(e,eI))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&By("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=bE.MOCK_USER;else{a=Object(uc.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new jy(Fy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new bE(u)}e._credentials=new VT(new LT(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Rv(t,void 0,void 0,(function(){var t,n;return Tv(this,(function(r){switch(r.label){case 0:return[4,xT(e)];case 1:return t=r.sent(),[4,OT(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=zy(e);return t.Or.delete(0),qE(t)}(n))]}}))}))}))}(fI($T(this._delegate,hI)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Rv(t,void 0,void 0,(function(){var t,n;return Tv(this,(function(r){switch(r.label){case 0:return[4,xT(e)];case 1:return t=r.sent(),[4,OT(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Rv(this,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return(t=zy(e)).Or.add(0),[4,HE(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(fI($T(this._delegate,hI)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&KT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(t,void 0,void 0,(function(){var t;return Tv(this,(function(r){switch(r.label){case 0:return t=zR,[4,NT(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(fI($T(this._delegate,hI)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new _T(t);return e.asyncQueue.enqueueAndForget((function(){return Rv(n,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return t=function(e,t){zy(e).Gr.add(t),t.next()},[4,PT(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Rv(n,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return t=function(e,t){zy(e).Gr.delete(t)},[4,PT(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(fI(e=$T(e,hI)),cI(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new jy(Fy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new qx(this,iI(this._delegate,e))}catch(e){throw Mx(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Dx(this,oI(this._delegate,e))}catch(e){throw Mx(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Ux(this,function(e,t){if(e=$T(e,eI),GT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jy(Fy.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nI(e,null,function(e){return new tw(i_.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Mx(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(n,void 0,void 0,(function(){var n;return Tv(this,(function(i){switch(i.label){case 0:return[4,function(e){return IT(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new kT(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(fI(e),(function(n){return t(new Sx(e,n))}))}(this._delegate,(function(n){return e(new Ox(t,n))}))},e.prototype.batch=function(){var e=this;return fI(this._delegate),new Nx(new gx(this._delegate,(function(t){return Cx(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new jy(Fy.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new jy(Fy.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ax=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ev(t,e),t.prototype.convertBytes=function(e){return new Tx(new bI(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Dx.eu(t,this.firestore,null)},t}(dx),Ox=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ax(e)}return e.prototype.get=function(e){var t=this,n=Hx(e);return this._delegate.get(n).then((function(e){return new Qx(t._firestore,new ZI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Hx(e);return n?(zT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Hx(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Iv([a,t,n],i)),this},e.prototype.delete=function(e){var t=Hx(e);return this._delegate.delete(t),this},e}(),Nx=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Hx(e);return n?(zT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Hx(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Iv([a,t,n],i)),this},e.prototype.delete=function(e){var t=Hx(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Px=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new $I(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lx(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Ax(t),n),i.set(n,o)),o},e}();Px.su=new WeakMap;var Dx=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ax(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new jy(Fy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new tI(n._delegate,r,new m_(t)))},e.eu=function(t,n,r){return new e(n,new tI(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new qx(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new qx(this.firestore,iI(this._delegate,e))}catch(e){throw Mx(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(uc.getModularInstance)(e))instanceof tI&&aI(this._delegate,e)},e.prototype.set=function(e,t){t=zT("DocumentReference.set",t);try{return t?yx(this._delegate,e,t):yx(this._delegate,e)}catch(e){throw Mx(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?_x(this._delegate,e):_x.apply(void 0,Iv([this._delegate,e,t],n))}catch(e){throw Mx(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Cx($T((e=this._delegate).firestore,hI),[new Zw(e._key,Mw.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fx(t),i=jx(t,(function(t){return new Qx(e.firestore,new ZI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return wx(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=$T(e,tI);var t=$T(e.firestore,hI),n=fI(t),r=new mx(t);return function(e,t){var n=this,r=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(n,void 0,void 0,(function(){var n;return Tv(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i;return Tv(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=zy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new jy(Fy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=vR(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,AT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new ZI(t,r,e._key,n,new YI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=$T(e,tI);var t=$T(e.firestore,hI);return DT(fI(t),e._key,{source:"server"}).then((function(n){return kx(t,e,n)}))}(this._delegate):function(e){e=$T(e,tI);var t=$T(e.firestore,hI);return DT(fI(t),e._key).then((function(n){return kx(t,e,n)}))}(this._delegate)).then((function(e){return new Qx(t.firestore,new ZI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Px.nu(this.firestore,t):null))},e}();function Mx(e,t,n){return e.message=e.message.replace(t,n),e}function Fx(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!cI(r))return r}return{}}function jx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cI(e[0])?e[0]:cI(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Qx=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Dx(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return ex(this._delegate,e._delegate)},e}(),Lx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ev(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Qx),Ux=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ax(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,rx(this._delegate,function(e,t,n){var r=t,i=WI("where",e);return new ix(i,r,n)}(t,n,r)))}catch(t){throw Mx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,rx(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=WI("orderBy",e);return new ox(r,n)}(t,n)))}catch(t){throw Mx(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,rx(this._delegate,function(e){return XT("limit",e),new ax("limit",e,"F")}(t)))}catch(t){throw Mx(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,rx(this._delegate,function(e){return XT("limitToLast",e),new ax("limitToLast",e,"L")}(t)))}catch(t){throw Mx(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rx(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sx("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw Mx(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rx(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sx("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw Mx(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rx(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ux("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw Mx(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,rx(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ux("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw Mx(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return sI(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=$T(e,nI);var t=$T(e.firestore,hI),n=fI(t),r=new mx(t);return function(e,t){var n=this,r=new Rk;return e.asyncQueue.enqueueAndForget((function(){return Rv(n,void 0,void 0,(function(){var n;return Tv(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Rv(this,void 0,void 0,(function(){var r,i,o,a,s;return Tv(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,tE(e,t,!0)];case 1:return s=u.sent(),r=new PR(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=vR(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,AT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new XI(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=$T(e,nI);var t=$T(e.firestore,hI),n=fI(t),r=new mx(t);return MT(n,e._query,{source:"server"}).then((function(n){return new XI(t,r,e,n)}))}(this._delegate):function(e){e=$T(e,nI);var t=$T(e.firestore,hI),n=fI(t),r=new mx(t);return tx(e._query),MT(n,e._query).then((function(n){return new XI(t,r,e,n)}))}(this._delegate)).then((function(e){return new Bx(t.firestore,new XI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fx(t),i=jx(t,(function(t){return new Bx(e.firestore,new XI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return wx(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Px.nu(this.firestore,t):null))},e}(),Vx=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Lx(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Bx=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ux(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Lx(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Vx(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Lx(n._firestore,r))}))},e.prototype.isEqual=function(e){return ex(this._delegate,e._delegate)},e}(),qx=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Ev(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Dx(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Dx(this.firestore,void 0===e?oI(this._delegate):oI(this._delegate,e))}catch(e){throw Mx(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=$T(e.firestore,hI),r=oI(e),i=px(e.converter,t);return Cx(n,[TI(RI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Dx(t.firestore,e)}))},t.prototype.isEqual=function(e){return aI(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Px.nu(this.firestore,e):null))},t}(Ux);function Hx(e){return $T(e,tI)}var Gx,zx,Kx=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(gI.bind.apply(gI,Iv([void 0],e)))}return e.documentId=function(){return new e(a_.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(uc.getModularInstance)(e))instanceof gI&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Wx=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new AI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new II("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new OI("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new NI("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new PI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Yx={Firestore:xx,GeoPoint:yI,Timestamp:Xy,Blob:Tx,Transaction:Ox,WriteBatch:Nx,DocumentReference:Dx,DocumentSnapshot:Qx,Query:Ux,QueryDocumentSnapshot:Lx,QuerySnapshot:Bx,CollectionReference:qx,FieldPath:Kx,FieldValue:Wx,setLogLevel:function(e){Qy.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new cc.Component("firestore",(function(e){return function(e,t){return new xx(e,new hI(e,t),new Ix)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Yx)))})(Gx=nc.default),Gx.registerVersion("@firebase/firestore","2.4.1"),(zx=xx).prototype.loadBundle=function(e){return function(e,t){var n=fI(e=$T(e,hI)),r=new lI;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new wT(e,t)}(function(e,t){if(e instanceof Uint8Array)return yT(e,t);if(e instanceof ArrayBuffer)return yT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ME(t));e.asyncQueue.enqueueAndForget((function(){return Rv(i,void 0,void 0,(function(){var t;return Tv(this,(function(n){switch(n.label){case 0:return t=pT,[4,NT(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)},zx.prototype.namedQuery=function(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Rv(n,void 0,void 0,(function(){var n;return Tv(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=zy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,AT(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(fI(t=$T(t,hI)),n).then((function(e){return e?new nI(t,null,e.query):null}))).then((function(e){return e?new Ux(r,e):null}))};var Zx=function(e,t){return(Zx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $x(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Xx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var Jx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},eA=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zx(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),tA=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return $x(this,void 0,void 0,(function(){var e;return Xx(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return $x(this,void 0,void 0,(function(){return Xx(this,(function(e){switch(e.label){case 0:if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return $x(this,void 0,void 0,(function(){var e,t;return Xx(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function nA(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var rA=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return nA(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?nA(e,(function(e){return t.decode(e)})):e},e}(),iA=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new rA,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new tA(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Gx){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return $x(this,void 0,void 0,(function(){var r,i,o;return Xx(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return $x(this,void 0,void 0,(function(){var e;return Xx(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return $x(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Xx(this,(function(d){switch(d.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new eA("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(n.timeout||7e4),u=s.timer,c=s.promise,[4,Promise.race([oA(u,this.postJSON(r,i,o)),c,oA(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new eA("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!Jx[s])return new eA("internal","internal");r=Jx[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Gx){}return"ok"===r?null:new eA(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new eA("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new eA("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}}))}))},e}();function oA(e,t){return $x(this,void 0,void 0,(function(){var n;return Xx(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:iA};e.INTERNAL.registerComponent(new cc.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new iA(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(nc.default,fetch.bind(self)),nc.default.registerVersion("@firebase/functions","0.6.16");var aA=function(){return(aA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function sA(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function uA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function cA(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var lA,hA=n("nbvr"),fA=((lA={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',lA["not-registered"]="Firebase Installation is not registered.",lA["installation-not-found"]="Firebase Installation not found.",lA["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',lA["app-offline"]="Could not process request. Application offline.",lA["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",lA),dA=new uc.ErrorFactory("installations","Installations",fA);function pA(e){return e instanceof uc.FirebaseError&&e.code.includes("request-failed")}function vA(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function gA(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function bA(e,t){return sA(this,void 0,void 0,(function(){var n,r;return uA(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,dA.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function mA(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function yA(e,t){var n=t.refreshToken,r=mA(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function _A(e){return sA(this,void 0,void 0,(function(){var t;return uA(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function wA(e,t){var n=t.fid;return sA(this,void 0,void 0,(function(){var t,r,i,o,a;return uA(this,(function(s){switch(s.label){case 0:return t=vA(e),r=mA(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.32"})},[4,_A((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:gA(a.authToken)}];case 3:return[4,bA("Create Installation",o)];case 4:throw s.sent()}}))}))}function CA(e){return new Promise((function(t){setTimeout(t,e)}))}var kA=/^[cdef][\w-]{21}$/;function SA(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return kA.test(t)?t:""}catch(n){return""}}function EA(e){return e.appName+"!"+e.appId}var RA=new Map;function TA(e,t){var n=EA(e);IA(n,t),function(e,t){var n=AA();n&&n.postMessage({key:e,fid:t}),OA()}(n,t)}function IA(e,t){var n,r,i=RA.get(e);if(i)try{for(var o=cA(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var xA=null;function AA(){return!xA&&"BroadcastChannel"in self&&((xA=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){IA(e.data.key,e.data.fid)}),xA}function OA(){0===RA.size&&xA&&(xA.close(),xA=null)}var NA="firebase-installations-store",PA=null;function DA(){return PA||(PA=Object(hA.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(NA)}}))),PA}function MA(e,t){return sA(this,void 0,void 0,(function(){var n,r,i,o,a;return uA(this,(function(s){switch(s.label){case 0:return n=EA(e),[4,DA()];case 1:return r=s.sent(),i=r.transaction(NA,"readwrite"),[4,(o=i.objectStore(NA)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||TA(e,t.fid),[2,t]}}))}))}function FA(e){return sA(this,void 0,void 0,(function(){var t,n,r;return uA(this,(function(i){switch(i.label){case 0:return t=EA(e),[4,DA()];case 1:return n=i.sent(),[4,(r=n.transaction(NA,"readwrite")).objectStore(NA).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function jA(e,t){return sA(this,void 0,void 0,(function(){var n,r,i,o,a,s;return uA(this,(function(u){switch(u.label){case 0:return n=EA(e),[4,DA()];case 1:return r=u.sent(),i=r.transaction(NA,"readwrite"),[4,(o=i.objectStore(NA)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||TA(e,s.fid),[2,s]}}))}))}function QA(e){return sA(this,void 0,void 0,(function(){var t,n,r;return uA(this,(function(i){switch(i.label){case 0:return[4,jA(e,(function(n){var r=function(e){return VA(e||{fid:SA(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dA.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return sA(this,void 0,void 0,(function(){var n,r;return uA(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,wA(e,t)];case 1:return n=i.sent(),[2,MA(e,n)];case 2:return pA(r=i.sent())&&409===r.customData.serverCode?[4,FA(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,MA(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:LA(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function LA(e){return sA(this,void 0,void 0,(function(){var t,n,r,i;return uA(this,(function(o){switch(o.label){case 0:return[4,UA(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,CA(100)];case 3:return o.sent(),[4,UA(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,QA(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function UA(e){return jA(e,(function(e){if(!e)throw dA.create("installation-not-found");return VA(e)}))}function VA(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function BA(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return sA(this,void 0,void 0,(function(){var e,i,o,a,s;return uA(this,(function(u){switch(u.label){case 0:return e=function(e,t){var n=t.fid;return vA(e)+"/"+n+"/authTokens:generate"}(n,t),i=yA(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.32"}})},[4,_A((function(){return fetch(e,a)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,gA(u.sent())];case 3:return[4,bA("Generate Auth Token",s)];case 4:throw u.sent()}}))}))}function qA(e,t){return void 0===t&&(t=!1),sA(this,void 0,void 0,(function(){var n,r,i;return uA(this,(function(o){switch(o.label){case 0:return[4,jA(e.appConfig,(function(r){if(!GA(r))throw dA.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===o.requestStatus)return n=function(e,t){return sA(this,void 0,void 0,(function(){var n,r;return uA(this,(function(i){switch(i.label){case 0:return[4,HA(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,CA(100)];case 3:return i.sent(),[4,HA(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,qA(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw dA.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return aA(aA({},e),{authToken:t})}(r);return n=function(e,t){return sA(this,void 0,void 0,(function(){var n,r,i;return uA(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,BA(e,t)];case 1:return n=o.sent(),i=aA(aA({},t),{authToken:n}),[4,MA(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!pA(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,FA(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=aA(aA({},t),{authToken:{requestStatus:0}}),[4,MA(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function HA(e){return jA(e,(function(e){if(!GA(e))throw dA.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?aA(aA({},e),{authToken:{requestStatus:0}}):e}))}function GA(e){return void 0!==e&&2===e.registrationStatus}function zA(e){return sA(this,void 0,void 0,(function(){var t;return uA(this,(function(n){switch(n.label){case 0:return[4,QA(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function KA(e,t){return sA(this,void 0,void 0,(function(){var n,r,i,o;return uA(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return vA(e)+"/"+n}(e,t),r=yA(e,t),i={method:"DELETE",headers:r},[4,_A((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,bA("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function WA(e){return dA.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new cc.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw WA("App Configuration");if(!e.name)throw WA("App Name");try{for(var r=cA(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw WA(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return sA(this,void 0,void 0,(function(){var t,n,r;return uA(this,(function(i){switch(i.label){case 0:return[4,QA(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):qA(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),sA(this,void 0,void 0,(function(){return uA(this,(function(n){switch(n.label){case 0:return[4,zA(e.appConfig)];case 1:return n.sent(),[4,qA(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return sA(this,void 0,void 0,(function(){var t,n;return uA(this,(function(r){switch(r.label){case 0:return[4,jA(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw dA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw dA.create("app-offline");case 3:return[4,KA(t,n)];case 4:return r.sent(),[4,FA(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){AA();var n=EA(e),r=RA.get(n);r||(r=new Set,RA.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=EA(e),r=RA.get(n);r&&(r.delete(t),0===r.size&&RA.delete(n),OA())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.32")}(nc.default);var YA,ZA=function(){return(ZA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function $A(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function XA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function JA(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var eO=((YA={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',YA["only-available-in-window"]="This method is available in a Window context.",YA["only-available-in-sw"]="This method is available in a service worker context.",YA["permission-default"]="The notification permission was not granted and dismissed instead.",YA["permission-blocked"]="The notification permission was not granted and blocked instead.",YA["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",YA["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",YA["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",YA["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",YA["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",YA["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",YA["token-update-no-token"]="FCM returned no token when updating the user to push.",YA["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",YA["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",YA["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",YA["invalid-vapid-key"]="The public VAPID key must be a string.",YA["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",YA),tO=new uc.ErrorFactory("messaging","Messaging",eO),nO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rO=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function iO(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oO(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function aO(e){return $A(this,void 0,void 0,(function(){var t,n=this;return XA(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return t=null,[4,Object(hA.openDb)("fcm_token_details_db",5,(function(r){return $A(n,void 0,void 0,(function(){var n,i,o,a;return XA(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:iO(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:iO(o.auth),p256dh:iO(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:iO(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(hA.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(hA.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(hA.deleteDb)("undefined")];case 6:return r.sent(),[2,sO(t)?t:null]}}))}))}function sO(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var uO=null;function cO(){return uO||(uO=Object(hA.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}}))),uO}function lO(e){return $A(this,void 0,void 0,(function(){var t,n,r;return XA(this,(function(i){switch(i.label){case 0:return t=dO(e),[4,cO()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,aO(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,hO(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function hO(e,t){return $A(this,void 0,void 0,(function(){var n,r,i;return XA(this,(function(o){switch(o.label){case 0:return n=dO(e),[4,cO()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function fO(e){return $A(this,void 0,void 0,(function(){var t,n,r;return XA(this,(function(i){switch(i.label){case 0:return t=dO(e),[4,cO()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function dO(e){return e.appConfig.appId}function pO(e,t){return $A(this,void 0,void 0,(function(){var n,r,i,o,a;return XA(this,(function(s){switch(s.label){case 0:return[4,mO(e)];case 1:n=s.sent(),r=yO(t),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(bO(e.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),tO.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw tO.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw tO.create("token-subscribe-no-token");return[2,o.token]}}))}))}function vO(e,t){return $A(this,void 0,void 0,(function(){var n,r,i,o,a;return XA(this,(function(s){switch(s.label){case 0:return[4,mO(e)];case 1:n=s.sent(),r=yO(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(bO(e.appConfig)+"/"+t.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),tO.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw tO.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw tO.create("token-update-no-token");return[2,o.token]}}))}))}function gO(e,t){return $A(this,void 0,void 0,(function(){var n,r,i,o;return XA(this,(function(a){switch(a.label){case 0:return[4,mO(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(bO(e.appConfig)+"/"+t,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw tO.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),tO.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function bO(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function mO(e){var t=e.appConfig,n=e.installations;return $A(this,void 0,void 0,(function(){var e;return XA(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function yO(e){var t=e.vapidKey,n={web:{endpoint:e.endpoint,auth:e.auth,p256dh:e.p256dh}};return t!==nO&&(n.web.applicationPubKey=t),n}function _O(e,t,n){return $A(this,void 0,void 0,(function(){var r,i,o,a;return XA(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw tO.create("permission-blocked");return[4,SO(t,n)];case 1:return r=s.sent(),[4,lO(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:iO(r.getKey("auth")),p256dh:iO(r.getKey("p256dh"))},i?[3,3]:[2,kO(e,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,gO(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,kO(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,CO({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l}))}))}function wO(e,t){return $A(this,void 0,void 0,(function(){var n,r;return XA(this,(function(i){switch(i.label){case 0:return[4,lO(e)];case 1:return(n=i.sent())?[4,gO(e,n.token)]:[3,4];case 2:return i.sent(),[4,fO(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function CO(e,t,n){return $A(this,void 0,void 0,(function(){var r,i,o;return XA(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,vO(t,e)];case 1:return r=a.sent(),i=ZA(ZA({},e),{token:r,createTime:Date.now()}),[4,hO(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,wO(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function kO(e,t){return $A(this,void 0,void 0,(function(){var n,r;return XA(this,(function(i){switch(i.label){case 0:return[4,pO(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,hO(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function SO(e,t){return $A(this,void 0,void 0,(function(){var n;return XA(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oO(t)})]}}))}))}function EO(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function RO(e){return new Promise((function(t){setTimeout(t,e)}))}var TO=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw tO.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return $A(this,void 0,void 0,(function(){var n;return XA(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,lO(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:nO,r.label=2;case 2:return[2,_O(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return wO(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw tO.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw tO.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw tO.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw tO.create("only-available-in-window")},e.prototype.onMessage=function(){throw tO.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw tO.create("only-available-in-window")},e.prototype.onPush=function(e){return $A(this,void 0,void 0,(function(){var t,n,r,i;return XA(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,OO()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,AO(n,t)]:(r=!1,t.notification?[4,NO(IO(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,RO(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return $A(this,void 0,void 0,(function(){var r;return XA(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,wO(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,lO(this.firebaseDependencies)];case 3:return r=i.sent(),[4,wO(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,_O(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:nO)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return $A(this,void 0,void 0,(function(){var r,i,o,a,s;return XA(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(EO(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,xO(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,RO(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=rO.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function IO(e){var t,n=ZA({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function xO(e){return $A(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return XA(this,(function(u){switch(u.label){case 0:return[4,OO()];case 1:t=u.sent();try{for(n=JA(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function AO(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=rO.PUSH_RECEIVED;try{for(var i=JA(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function OO(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function NO(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var PO=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return $A(this,void 0,void 0,(function(){var t,n;return XA(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===rO.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),EO(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return $A(this,void 0,void 0,(function(){return XA(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw tO.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,_O(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return $A(this,void 0,void 0,(function(){return XA(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=nO),[2]}))}))},e.prototype.updateSwReg=function(e){return $A(this,void 0,void 0,(function(){return XA(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw tO.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return $A(this,void 0,void 0,(function(){var e,t;return XA(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),tO.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return $A(this,void 0,void 0,(function(){return XA(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,wO(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return $A(this,void 0,void 0,(function(){var e;return XA(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw tO.create("denied"===e?"permission-blocked":"permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw tO.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw tO.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw tO.create("invalid-sw-registration");if(this.swRegistration)throw tO.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw tO.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw tO.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return $A(this,void 0,void 0,(function(){var n;return XA(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case rO.NOTIFICATION_CLICKED:return"notification_open";case rO.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function DO(e){return tO.create("missing-app-config-values",{valueName:e})}var MO={isSupported:FO};function FO(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}nc.default.INTERNAL.registerComponent(new cc.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw DO("App Configuration Object");if(!e.name)throw DO("App Name");var r=e.options;try{for(var i=JA(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw DO(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!FO())throw tO.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new TO(n):new PO(n)}),"PUBLIC").setServiceProps(MO));var jO=function(){return(jO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function QO(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var LO,UO,VO,BO=((LO={})["trace started"]="Trace {$traceName} was started before.",LO["trace stopped"]="Trace {$traceName} is not running.",LO["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",LO["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",LO["no window"]="Window is not available.",LO["no app id"]="App id is not available.",LO["no project id"]="Project id is not available.",LO["no api key"]="Api key is not available.",LO["invalid cc log"]="Attempted to queue invalid cc event",LO["FB not default"]="Performance can only start when Firebase app instance is the default one.",LO["RC response not ok"]="RC response is not ok",LO["invalid attribute name"]="Attribute name {$attributeName} is invalid.",LO["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",LO["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",LO["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",LO),qO=new uc.ErrorFactory("performance","Performance",BO),HO=new xv.Logger("Performance");HO.logLevel=xv.LogLevel.INFO;var GO,zO=function(){function e(e){if(this.window=e,!e)throw qO.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(uc.isIndexedDBAvailable)()||(HO.info("IndexedDB is not supported by current browswer"),!1):(HO.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===UO&&(UO=new e(VO)),UO},e}();function KO(e,t){var n=e.length-t.length;if(n<0||n>1)throw qO.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var WO,YO=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=KO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=KO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw qO.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw qO.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw qO.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===GO&&(GO=new e),GO},e}();function ZO(){return WO}var $O=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e}({}),XO=["firebase_","google_","ga_"],JO=new RegExp("^[a-zA-Z]\\w*$");function eN(){var e=zO.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function tN(){switch(zO.getInstance().document.visibilityState){case"visible":return $O.VISIBLE;case"hidden":return $O.HIDDEN;default:return $O.UNKNOWN}}function nN(){var e=zO.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function rN(e){if(!e)return e;var t=YO.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=iN(t.tracesSamplingRate),t.logNetworkAfterSampling=iN(t.networkRequestsSamplingRate),e}function iN(e){return Math.random()<=e}var oN,aN=1;function sN(){return aN=2,oN=oN||function(){var e=zO.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){e.addEventListener("readystatechange",(function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())}))}else t()}))}().then((function(){return(e=YO.getInstance().installationsService.getId()).then((function(e){WO=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=zO.getInstance().localStorage;if(e){var t=e.getItem("@firebase/performance/configexpire");if(t&&Number(t)>Date.now()){var n=e.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return t?(rN(t),Promise.resolve()):function(e){return(t=YO.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+YO.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+YO.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:YO.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw qO.create("RC response not ok")}))})).catch((function(){HO.info("Could not fetch config, will use default configs")}));var t}(e).then(rN).then((function(e){return function(e){var t=zO.getInstance().localStorage;e&&t&&(t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*YO.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return uN()}),(function(){return uN()}))}function uN(){aN=3}var cN,lN=3,hN=[],fN=!1;function dN(e){if(!e.eventTime||!e.message)throw qO.create("invalid cc log");hN=QO(QO([],hN),[e])}function pN(e,t){var n;cN||(n=bN,cN=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.apply(void 0,e);dN({message:r,eventTime:Date.now()})}),cN(e,t)}function vN(e){var t=YO.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&zO.getInstance().requiredApisAvailable()&&(e.isAuto&&tN()!==$O.VISIBLE||(3===aN?gN(e):sN().then((function(){return gN(e)}),(function(){return gN(e)}))))}function gN(e){if(ZO()){var t=YO.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return pN(e,1)}),0)}}function bN(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:mN(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:mN(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function mN(){return{google_app_id:YO.getInstance().getAppId(),app_instance_id:ZO(),web_app_info:{sdk_version:"0.4.18",page_url:zO.getInstance().getUrl(),service_worker_status:eN(),visibility_state:tN(),effective_connection_type:nN()},application_process_state:0}}var yN=["_fp","_fcp","_fid"],_N=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=zO.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw qO.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw qO.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),vN(this)},e.prototype.record=function(e,t,n){if(e<=0)throw qO.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw qO.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=jO({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}vN(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(o=this.name,0===(i=e).length||i.length>100||!(o&&o.startsWith("_wt_")&&yN.indexOf(i)>-1)&&i.startsWith("_"))throw qO.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&HO.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||XO.some((function(e){return n.startsWith(e)}))||!n.match(JO)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw qO.create("invalid attribute name",{attributeName:e});if(!i)throw qO.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return jO({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=zO.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*zO.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}vN(o)}},e.createUserTimingTrace=function(t){vN(new e(t,!1,t))},e}();function wN(e){var t=e;if(t&&void 0!==t.responseStart){var n=zO.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=YO.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return pN(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function CN(){ZO()&&(setTimeout((function(){return function(){var e=zO.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){_N.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),_N.createOobTrace(t,n,e))}))}else _N.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=zO.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)wN(n[t]);e.setupObserver("resource",wN)}()}),0),setTimeout((function(){return function(){for(var e=zO.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)kN(n[t]);e.setupObserver("measure",kN)}()}),0))}function kN(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&_N.createUserTimingTrace(t)}var SN=function(){function e(e){this.app=e,zO.getInstance().requiredApisAvailable()&&Object(uc.validateIndexedDBOpenable)().then((function(e){e&&(fN||(function e(t){setTimeout((function(){var t,n;if(0!==lN)return hN.length?(n=(t=hN.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(t,n){return function(e){var t=YO.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(t).then((function(e){return e.ok||HO.info("Call to Firebase backend failed."),e.json()})).then((function(t){var r=Number(t.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(hN=QO(QO([],n),hN),HO.info("Retry transport request later.")),lN=3,e(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:YO.getInstance().logSource,log_event:n},t).catch((function(){hN=QO(QO([],t),hN),lN--,HO.info("Tries left: "+lN+"."),e(1e4)}))):e(1e4)}),t)}(5500),fN=!0),sN().then(CN,CN))})).catch((function(e){HO.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new _N(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return YO.getInstance().instrumentationEnabled},set:function(e){YO.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return YO.getInstance().dataCollectionEnabled},set:function(e){YO.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new cc.Component("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw qO.create("FB not default");if("undefined"==typeof window)throw qO.create("no window");return function(e){VO=e}(window),YO.getInstance().firebaseAppInstance=e,YO.getInstance().installationsService=t,new SN(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.18")}(nc.default);var EN=function(){return(EN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function RN(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function TN(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var IN,xN="https://www.googletagmanager.com/gtag/js",AN=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),ON=function(e){return e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),NN=new xv.Logger("@firebase/analytics");function PN(e,t,n,r,i,o){return RN(this,void 0,void 0,(function(){var a,s,u,c;return TN(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),NN.error(c),[3,8];case 8:return e(AN.CONFIG,i,o),[2]}}))}))}function DN(e,t,n,r,i){return RN(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return TN(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(AN.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),NN.error(h),[3,5];case 5:return[2]}}))}))}var MN=((IN={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",IN["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",IN["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",IN["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",IN["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",IN["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",IN["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",IN["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',IN["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',IN),FN=new uc.ErrorFactory("analytics","Analytics",MN),jN=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function QN(e){var t;return RN(this,void 0,void 0,(function(){var n,r,i,o,a,s;return TN(this,(function(u){switch(u.label){case 0:return n=e.appId,r={method:"GET",headers:(c=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return s=u.sent(),(null===(t=s.error)||void 0===t?void 0:t.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw FN.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var c}))}))}function LN(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=jN),RN(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return TN(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,UN(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return NN.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,QN(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof uc.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return NN.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?Object(uc.calculateBackoffMillis)(o,r.intervalMillis,30):Object(uc.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),NN.debug("Calling attemptFetch again in "+l+" millis"),[2,LN(e,h,n,r)];case 7:return[2]}}))}))}function UN(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(FN.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var VN,BN,qN=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),HN={},GN=[],zN={},KN="dataLayer",WN="gtag",YN=!1;function ZN(e){if(YN)throw FN.create("already-initialized");e.dataLayerName&&(KN=e.dataLayerName),e.gtagName&&(WN=e.gtagName)}function $N(){return RN(this,void 0,void 0,(function(){return TN(this,(function(e){switch(e.label){case 0:if(Object(uc.isBrowserExtension)())return[2,!1];if(!Object(uc.areCookiesEnabled)())return[2,!1];if(!Object(uc.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(uc.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new cc.Component("analytics",(function(e){return function(e,t){!function(){var e=[];if(Object(uc.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(uc.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=FN.create("invalid-analytics-context",{errorInfo:t});NN.warn(n.message)}}();var n,r,i=e.options.appId;if(!i)throw FN.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw FN.create("no-api-key");NN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=HN[i])throw FN.create("already-exists",{id:i});if(!YN){n=KN,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return RN(this,void 0,void 0,(function(){var s;return TN(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==AN.EVENT?[3,2]:[4,DN(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==AN.CONFIG?[3,4]:[4,PN(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(AN.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),NN.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(HN,GN,zN,KN,WN);BN=o.wrappedGtag,VN=o.gtagCore,YN=!0}return HN[i]=function(e,t,n,r,i,o){return RN(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return TN(this,(function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=jN),RN(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return TN(this,(function(c){if(i=(n=e.options).apiKey,o=n.measurementId,!(r=n.appId))throw FN.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw FN.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new qN,setTimeout((function(){return RN(u,void 0,void 0,(function(){return TN(this,(function(e){return s.abort(),[2]}))}))}),6e4),[2,LN({appId:r,apiKey:i,measurementId:o},a,s,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&NN.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return NN.error(e)})),t.push(a),s=function(){return RN(this,void 0,void 0,(function(){var e;return TN(this,(function(t){switch(t.label){case 0:return Object(uc.isIndexedDBAvailable)()?[3,1]:(NN.warn(FN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(uc.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),NN.warn(FN.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(xN))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=xN+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(AN.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}(e,GN,zN,t,VN,KN),{app:e,logEvent:function(e,t,n){(function(e,t,n,r,i){return RN(this,void 0,void 0,(function(){var o,a;return TN(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(AN.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=EN(EN({},r),{send_to:o}),e(AN.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(BN,HN[i],e,t,n).catch((function(e){return NN.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return RN(this,void 0,void 0,(function(){var i;return TN(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(AN.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(AN.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(BN,HN[i],e,t).catch((function(e){return NN.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return RN(this,void 0,void 0,(function(){var i;return TN(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(AN.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(AN.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(BN,HN[i],e,t).catch((function(e){return NN.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return RN(this,void 0,void 0,(function(){var i,o,a,s,u;return TN(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return e(AN.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(AN.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(BN,HN[i],e,t).catch((function(e){return NN.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return RN(this,void 0,void 0,(function(){var n;return TN(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(HN[i],e).catch((function(e){return NN.error(e)}))},INTERNAL:{delete:function(){return delete HN[i],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ZN,EventName:ON,isSupported:$N})),e.INTERNAL.registerComponent(new cc.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(Gx){throw FN.create("interop-component-reg-failed",{reason:Gx})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(nc.default);var XN=function(){return(XN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function JN(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Gx){o(Gx)}}function s(e){try{u(r.throw(e))}catch(Gx){o(Gx)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function eP(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Gx){s=[6,Gx],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var tP,nP=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return JN(this,void 0,void 0,(function(){var t,n,r,i,o;return eP(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),rP=((tP={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",tP["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",tP["registration-api-key"]="Undefined API key. Check Firebase app initialization.",tP["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",tP["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",tP["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",tP["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",tP["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",tP["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",tP["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',tP["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',tP["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",tP["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",tP),iP=new uc.ErrorFactory("remoteconfig","Remote Config",rP),oP=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return JN(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,g;return eP(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return b.sent(),[4,a];case 4:return u=b.sent(),[3,6];case 5:throw c=b.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),iP.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,u.json()];case 8:return v=b.sent(),[3,10];case 9:throw g=b.sent(),iP.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:d=v.entries,p=v.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw iP.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var m}))}))},e}(),aP=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),sP=["1","true","t","yes","y","on"],uP=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&sP.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),cP=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=xv.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=xv.LogLevel.SILENT;break;default:this._logger.logLevel=xv.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return JN(this,void 0,void 0,(function(){var e,t,n;return eP(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),n=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return JN(this,void 0,void 0,(function(){var e,t,n,r=this;return eP(this,(function(i){switch(i.label){case 0:e=new aP,setTimeout((function(){return JN(r,void 0,void 0,(function(){return eP(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof uc.FirebaseError&&-1!==e.code.indexOf("fetch-throttle")}(t)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return JN(this,void 0,void 0,(function(){return eP(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(XN(XN({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new uP("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new uP("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new uP("static"))},e}();function lP(e,t){var n=e.target.error||void 0;return iP.create(t,{originalErrorMessage:n&&n.message})}var hP=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(lP(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return JN(this,void 0,void 0,(function(){var t,n=this;return eP(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(lP(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Gx){i(iP.create("storage-get",{originalErrorMessage:Gx&&Gx.message}))}}))]}}))}))},e.prototype.set=function(e,t){return JN(this,void 0,void 0,(function(){var n,r=this;return eP(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(lP(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Gx){o(iP.create("storage-set",{originalErrorMessage:Gx&&Gx.message}))}}))]}}))}))},e.prototype.delete=function(e){return JN(this,void 0,void 0,(function(){var t,n=this;return eP(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(lP(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Gx){i(iP.create("storage-delete",{originalErrorMessage:Gx&&Gx.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),fP=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return JN(this,void 0,void 0,(function(){var e,t,n,r,i,o;return eP(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function dP(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(iP.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var pP,vP=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return JN(this,void 0,void 0,(function(){var t;return eP(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return JN(this,void 0,void 0,(function(){var t,i,o;return eP(this,(function(a){switch(a.label){case 0:return[4,dP(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof uc.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(uc.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}();(pP=nc.default).INTERNAL.registerComponent(new cc.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw iP.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw iP.create("registration-project-id");if(!s)throw iP.create("registration-api-key");if(!u)throw iP.create("registration-app-id");var c=new hP(u,r.name,n=n||"firebase"),l=new fP(c),h=new xv.Logger("@firebase/remote-config");h.logLevel=xv.LogLevel.ERROR;var f=new oP(i,pP.SDK_VERSION,n,a,s,u),d=new vP(f,c),p=new nP(d,c,l,h),v=new cP(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),pP.registerVersion("@firebase/remote-config","0.1.43"),n("X8/r"),nc.default.registerVersion("firebase","8.10.1","app"),nc.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),nc.default.registerVersion("firebase","8.10.1");var gP=n("EcEN"),bP=nc.default.initializeApp;function mP(e,t){if(1&e&&(r.Rb(0,"textarea",15),r.sc(1),r.Qb()),2&e){var n=r.bc().$implicit;r.Ab(1),r.uc("        ",n.message,"\n      ")}}function yP(e,t){if(1&e&&(r.Rb(0,"textarea",16),r.sc(1),r.Qb()),2&e){var n=r.bc().$implicit;r.Ab(1),r.uc("        ",n.message,"\n      ")}}function _P(e,t){if(1&e&&(r.Rb(0,"div",11),r.Rb(1,"span",12),r.sc(2),r.cc(3,"date"),r.Qb(),r.rc(4,mP,2,1,"textarea",13),r.rc(5,yP,2,1,"textarea",14),r.Qb()),2&e){var n=t.$implicit;r.Ab(2),r.tc(r.ec(3,3,n.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.fc("ngIf","admin"===n.username),r.Ab(1),r.fc("ngIf","user"===n.username)}}function wP(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",17),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(1,"input",18),r.Rb(2,"button",19),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(3,"i",20),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.form),r.Ab(2),r.fc("disabled",!i.form.valid)}}var CP,kP=((CP=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.title="firechat",this.username="user",this.message="",this.chats=[],this.app=bP(i.firebaseConfig),this.form=this.formBuilder.group({message:["",[Jo.required]],username:["user"]})}return _createClass(e,[{key:"onChatSubmit",value:function(e){var t=e;t.timestamp=(new Date).toString(),t.id=Object(gP.v4)(),this.chats=[],nc.default.database().ref("chat").push(t),console.log(this.chats),this.form=this.formBuilder.group({message:["",[Jo.required]],username:[t.username]}),this.heiht(),this.autoScroll()}},{key:"ngOnInit",value:function(){var e=this;nc.default.database().ref("/chat").on("value",(function(t){e.chats=[];var n=t.val();for(var r in n)e.chats.push(n[r]);e.autoScroll()}))}},{key:"openForm",value:function(){document.getElementById("myForm").style.display="block",this.autoScroll()}},{key:"closeForm",value:function(){document.getElementById("myForm").style.display="none"}},{key:"autoScroll",value:function(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),100)}},{key:"heiht",value:function(){setTimeout((function(){document.querySelectorAll("textarea").forEach((function(e){console.log("height",e.scrollHeight),e.setAttribute("style","height:"+e.scrollHeight+"px;overflow-y:hidden;")}))}))}}]),e}()).\u0275fac=function(e){return new(e||CP)(r.Mb(Qs))},CP.\u0275cmp=r.Gb({type:CP,selectors:[["app-chat-user"]],decls:15,vars:2,consts:[["type","button",1,"open-chatbox",3,"click"],[1,"fa-solid","fa-message",2,"font-size","24px"],["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],[3,"click"],["id","minimize",1,"fa-solid","fa-window-minimize"],["action","","id","scroll",1,"chatbox__body"],[1,"admin__message"],["class","me__box",4,"ngFor","ngForOf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"me__box"],[1,"date-time"],["readonly","","class","admin__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"admin__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","L\u1eddi nh\u1eafn c\u1ee7a b\u1ea1n..",1,"input__mesage"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(e,t){1&e&&(r.Rb(0,"button",0),r.Zb("click",(function(){return t.openForm()})),r.Nb(1,"i",1),r.Qb(),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"p"),r.sc(5,"H\u1ed7 tr\u1ee3 0957465734"),r.Qb(),r.Rb(6,"span",4),r.Zb("click",(function(){return t.closeForm()})),r.Nb(7,"i",5),r.Qb(),r.Qb(),r.Rb(8,"div",6),r.Rb(9,"div",7),r.Rb(10,"p"),r.sc(11,"C0622G1 xin ch\xe0o, b\u1ea5t c\u1ee9 m\u1ed9t l\u1eddi nh\u1eafn n\xe0o, h\xe3y g\u1eedi cho ch\xfang t\xf4i"),r.Qb(),r.Qb(),r.rc(12,_P,6,6,"div",8),r.Qb(),r.Rb(13,"div",9),r.rc(14,wP,4,2,"form",10),r.Qb(),r.Qb()),2&e&&(r.Ab(12),r.fc("ngForOf",t.chats),r.Ab(2),r.fc("ngIf",t.form))},directives:[ye,we,bs,Wo,_s,Qo,Ko,Ds],pipes:[Fe],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{display:none;right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.admin__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),CP),SP=nc.default.initializeApp;function EP(e,t){if(1&e&&(r.Rb(0,"textarea",10),r.sc(1),r.Qb()),2&e){var n=r.bc().$implicit;r.Ab(1),r.uc("        ",n.message,"\n      ")}}function RP(e,t){if(1&e&&(r.Rb(0,"textarea",11),r.sc(1),r.Qb()),2&e){var n=r.bc().$implicit;r.Ab(1),r.uc("        ",n.message,"\n      ")}}function TP(e,t){if(1&e&&(r.Rb(0,"div",6),r.Rb(1,"span",7),r.sc(2),r.cc(3,"date"),r.Qb(),r.rc(4,EP,2,1,"textarea",8),r.rc(5,RP,2,1,"textarea",9),r.Qb()),2&e){var n=t.$implicit;r.Ab(2),r.tc(r.ec(3,3,n.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.fc("ngIf","user"===n.username),r.Ab(1),r.fc("ngIf","admin"===n.username)}}function IP(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",12),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(1,"input",13),r.Rb(2,"button",14),r.Zb("click",(function(){r.mc(n);var e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(3,"i",15),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.form),r.Ab(2),r.fc("disabled",!i.form.valid)}}function xP(e,t){if(1&e&&(r.Rb(0,"div"),r.Nb(1,"img",76),r.Qb()),2&e){var n=t.$implicit;r.Ab(1),r.gc("src",n,r.oc)}}function AP(e,t){if(1&e){var n=r.Sb();r.Rb(0,"form",1),r.Zb("ngSubmit",(function(){r.mc(n);var e=r.bc();return e.updateUser(e.id)})),r.Rb(1,"div",2),r.Rb(2,"div",3),r.Rb(3,"div",4),r.Rb(4,"div",5),r.Rb(5,"div",6),r.Rb(6,"div",7),r.Nb(7,"div",8),r.Qb(),r.Rb(8,"div",9),r.Rb(9,"div",10),r.Rb(10,"div",11),r.Rb(11,"div",12),r.Rb(12,"h3"),r.sc(13,"S\u1eeda h\u1ed3 s\u01a1 c\xe1 nh\xe2n"),r.Qb(),r.Qb(),r.Qb(),r.Nb(14,"div",13),r.Qb(),r.Nb(15,"div",14),r.Rb(16,"div",10),r.Rb(17,"div",15),r.Rb(18,"input",16,17),r.Zb("change",(function(e){return r.mc(n),r.bc().showPreview(e)})),r.Qb(),r.Qb(),r.rc(20,xP,2,1,"div",18),r.Qb(),r.Nb(21,"div",19),r.Rb(22,"div",10),r.Rb(23,"div",20),r.Rb(24,"div",21),r.Rb(25,"div",22),r.Nb(26,"input",23),r.Rb(27,"label",24),r.sc(28,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(29,"span",25),r.Nb(30,"i",26),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",20),r.Rb(32,"div",21),r.Rb(33,"div",22),r.Nb(34,"input",27),r.Rb(35,"label",28),r.sc(36,"T\xean"),r.Qb(),r.Qb(),r.Rb(37,"span",29),r.Nb(38,"i",26),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(39,"div",10),r.Rb(40,"div",20),r.Rb(41,"div",21),r.Rb(42,"div",22),r.Nb(43,"input",30),r.Rb(44,"label",31),r.sc(45,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(46,"span",32),r.Nb(47,"i",26),r.Qb(),r.Qb(),r.Qb(),r.Rb(48,"div",20),r.Rb(49,"div",21),r.Rb(50,"div",22),r.Nb(51,"input",33),r.Rb(52,"label",34),r.sc(53,"Email"),r.Qb(),r.Qb(),r.Rb(54,"span",35),r.Nb(55,"i",36),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(56,"div",10),r.Rb(57,"div",20),r.Rb(58,"div",21),r.Rb(59,"div",22),r.Nb(60,"input",37),r.Rb(61,"label",38),r.sc(62,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(63,"span",39),r.Nb(64,"i",40),r.Qb(),r.Qb(),r.Qb(),r.Rb(65,"div",20),r.Rb(66,"div",21),r.Rb(67,"div",22),r.Nb(68,"input",41),r.Rb(69,"label",42),r.sc(70,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(71,"span",43),r.Nb(72,"i",44),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(73,"div",10),r.Rb(74,"div",45),r.Rb(75,"div"),r.Rb(76,"select",46),r.Rb(77,"option",47),r.sc(78,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(79,"div",45),r.Rb(80,"div"),r.Rb(81,"select",48),r.Rb(82,"option",49),r.sc(83,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(84,"div",45),r.Rb(85,"div"),r.Rb(86,"select",50),r.Rb(87,"option",49),r.sc(88,"Ch\u1ecdn ph\u01b0\u1eddng x\xe3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(89,"div",51),r.Rb(90,"div",20),r.Rb(91,"div",21),r.Rb(92,"div",22),r.Nb(93,"input",52),r.Rb(94,"label",53),r.sc(95,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(96,"span",54),r.Nb(97,"i",55),r.Qb(),r.Qb(),r.Qb(),r.Rb(98,"div",20),r.Rb(99,"div",21),r.Rb(100,"div",22),r.Nb(101,"input",56),r.Rb(102,"label",57),r.sc(103,"CMND"),r.Qb(),r.Qb(),r.Rb(104,"span",58),r.Nb(105,"i",59),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(106,"div",10),r.Rb(107,"div",60),r.Rb(108,"div",21),r.Rb(109,"div",22),r.Nb(110,"input",61),r.Rb(111,"label",62),r.sc(112,"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i"),r.Qb(),r.Qb(),r.Rb(113,"span",63),r.Nb(114,"i",64),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(115,"div",10),r.Rb(116,"div",20),r.Rb(117,"div",21),r.Rb(118,"div",22),r.Nb(119,"input",65),r.Rb(120,"label",66),r.sc(121,"M\u1eadt kh\u1ea9u m\u1edbi"),r.Qb(),r.Qb(),r.Rb(122,"span",67),r.Nb(123,"i",68),r.Qb(),r.Qb(),r.Qb(),r.Rb(124,"div",20),r.Rb(125,"div",21),r.Rb(126,"div",22),r.Nb(127,"input",69),r.Rb(128,"label",70),r.sc(129,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(130,"span",71),r.Nb(131,"i",72),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(132,"div",14),r.Rb(133,"div",10),r.Rb(134,"div",73),r.Rb(135,"button",74),r.sc(136,"C\u1eadp nh\u1eadt"),r.Qb(),r.Rb(137,"button",75),r.sc(138,"\u0110\u1eb7t l\u1ea1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){var i=r.bc();r.fc("formGroup",i.updateUserForm),r.Ab(20),r.fc("ngForOf",i.imgs)}}var OP,NP,PP,DP,MP,FP=[{path:"products",component:Id},{path:"products/review/:id",component:Md},{path:"product/create",component:Gh},{path:"product/edit/:id",component:mf},{path:"home",component:qf},{path:"",component:qf},{path:"transaction",component:xf},{path:"aa",component:xf},{path:"transaction",component:xf},{path:"home",component:qf},{path:"user/list",component:Xf},{path:"user/edit/:id",component:ad},{path:"guide",component:Vs},{path:"user-add",component:sd},{path:"user/add",component:sd},{path:"user/lockaccount",component:ud},{path:"product/add",component:Gh},{path:"guide",component:Vs},{path:"auction/:productId",component:Hu},{path:"product/add",component:Gh},{path:"guide",component:Vs},{path:"auction/product/add",component:Dp},{path:"guide",component:Vs},{path:"auction/:productId",component:Hu},{path:"confirmAddress",component:fp},{path:"methodPayment",component:dp},{path:"login",component:ev},{path:"methodPayment",component:dp},{path:"login",component:ev},{path:"product/add",component:Gh},{path:"guide",component:Vs},{path:"guide/edit/:id",component:kv},{path:"guide/add",component:hv},{path:"auction/:productId",component:Hu},{path:"auction/chat/user",component:kP},{path:"auction/chat/support",component:(PP=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.title="firechat",this.username="admin",this.message="",this.chats=[],this.app=SP(i.firebaseConfig),this.form=this.formBuilder.group({message:["",[Jo.required]],username:["admin"]})}return _createClass(e,[{key:"onChatSubmit",value:function(e){var t=e;t.timestamp=(new Date).toString(),t.id=Object(gP.v4)(),this.chats=[],nc.default.database().ref("chat").push(t),console.log(this.chats),this.form=this.formBuilder.group({message:["",[Jo.required]],username:[t.username]}),this.autoScroll(),this.heiht()}},{key:"ngOnInit",value:function(){var e=this;nc.default.database().ref("/chat").on("value",(function(t){e.chats=[];var n=t.val();for(var r in n)e.chats.push(n[r]);e.autoScroll(),e.heiht(),console.log(e.chats)}))}},{key:"autoScroll",value:function(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),100)}},{key:"heiht",value:function(){setTimeout((function(){document.querySelectorAll("textarea").forEach((function(e){console.log("height",e.scrollHeight),e.setAttribute("style","height:"+e.scrollHeight+"px;overflow-y:hidden;")}))}))}}]),e}(),PP.\u0275fac=function(e){return new(e||PP)(r.Mb(Qs))},PP.\u0275cmp=r.Gb({type:PP,selectors:[["app-chat-admin"]],decls:8,vars:2,consts:[["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],["action","","id","scroll",1,"chatbox__body"],["class","me__box",4,"ngFor","ngForOf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"me__box"],[1,"date-time"],["readonly","","class","user__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"user__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","L\u1eddi nh\u1eafn c\u1ee7a b\u1ea1n..",1,"input__mesage"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"p"),r.sc(3,"T\u01b0 v\u1ea5n vi\xean"),r.Qb(),r.Qb(),r.Rb(4,"div",2),r.rc(5,TP,6,6,"div",3),r.Qb(),r.Rb(6,"div",4),r.rc(7,IP,4,2,"form",5),r.Qb(),r.Qb()),2&e&&(r.Ab(5),r.fc("ngForOf",t.chats),r.Ab(2),r.fc("ngIf",t.form))},directives:[ye,we,bs,Wo,_s,Qo,Ko,Ds],pipes:[Fe],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.user__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),PP)},{path:"auction/:productId",component:Hu},{path:"user/create",component:(NP=function(){function e(t,n,r,i){_classCallCheck(this,e),this.userService=t,this.router=n,this.formBuilder=r,this._storage=i,this.selectedImages=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.userCreateForm=this.formBuilder.group({firstName:[],lastName:[],username:[],avatar:[],email:[],phone:[],birthDay:[],city:[],district:[],town:[],country:["viet nam"],idCard:[],password:[],pointDedication:[10],statusLock:[!0],deleteStatus:[!0],userTypeId:[5]})}},{key:"submitCreateUser",value:function(){var e=this;this.userService.createUser(this.userCreateForm.value).subscribe((function(t){e.router.navigateByUrl("")}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(var n=function(e){var n=t.selectedImages[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.userCreateForm.patchValue({avatar:e})}))}))).subscribe((function(){}))},r=0;r<this.selectedImages.length;r++)n(r)}},{key:"generate",value:function(){var e;document.getElementById("submit").setAttribute("value",""),e=document.getElementById("image"),this.captchaString="";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=1;n<6;n++)this.captchaString+=t.charAt(Math.random()*t.length);e.innerHTML=this.captchaString}},{key:"printd",value:function(){var e=$("#submit").val();console.log(e),e==this.captchaString?(document.getElementById("key").innerHTML="M\xe3 ch\xednh x\xe1c",this.generate()):(document.getElementById("key").innerHTML="M\xe3 kh\xf4ng ch\xednh x\xe1c",this.generate())}}]),e}(),NP.\u0275fac=function(e){return new(e||NP)(r.Mb(Yu),r.Mb(Zi),r.Mb(Qs),r.Mb(Pl))},NP.\u0275cmp=r.Gb({type:NP,selectors:[["app-user-create"]],decls:159,vars:2,consts:[[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","",1,"d-block","w-100"],[1,"w-50"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["type","file","id","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",2,"font-size","35px","width","3em","height","3em","border-radius","50%","background","#008578",3,"change"],["userPhoto",""],[2,"height","200px","width","200px",3,"src"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthday",1,"form-control"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["id","city","aria-label",".form-select-sm",1,"form-control"],["value","","selected",""],["id","district","aria-label",".form-select-sm",1,"form-control"],["id","ward","aria-label",".form-select-sm",1,"form-control"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingPassword","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword",1,"form-control"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-key"],[1,"col-lg-5"],["id","user-input",1,"floating"],[1,"col-lg-8"],["type","text","id","submit","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["type","button","id","btn",1,"btn","btn-gray",3,"click"],[1,"col-lg-7"],["id","image","selectable","False",2,"margin-top","0"],[1,"col-lg-1",2,"margin-top","10px"],[2,"cursor","pointer",3,"click"],[1,"fas","fa-sync"],[2,"font-size","17px","color","blue","margin-top","6px"],["id","key"],[1,"col-lg-12"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["href",""],["type","submit",1,"btn","btn-primary"]],template:function(e,t){1&e&&(r.sc(0,"/**\n* Create by: TruongLH\n* Date created: 16/12/2022\n* Function: to create user componet\n*/\n"),r.Rb(1,"form",0),r.Zb("ngSubmit",(function(){return t.submitCreateUser()})),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Nb(8,"img",7),r.Qb(),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Rb(11,"div",10),r.Rb(12,"div",11),r.Rb(13,"h3"),r.sc(14,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Qb(),r.Qb(),r.Qb(),r.Nb(15,"div",12),r.Qb(),r.Nb(16,"div",13),r.Rb(17,"div",9),r.Rb(18,"div",14),r.Rb(19,"input",15,16),r.Zb("change",(function(e){return t.showPreview(e)})),r.Qb(),r.Qb(),r.Rb(21,"div"),r.Nb(22,"img",17),r.Qb(),r.Qb(),r.Nb(23,"div",18),r.Rb(24,"div",9),r.Rb(25,"div",19),r.Rb(26,"div",20),r.Rb(27,"div",21),r.Nb(28,"input",22),r.Rb(29,"label",23),r.sc(30,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(31,"span",24),r.Nb(32,"i",25),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",19),r.Rb(34,"div",20),r.Rb(35,"div",21),r.Nb(36,"input",26),r.Rb(37,"label",27),r.sc(38,"T\xean"),r.Qb(),r.Qb(),r.Rb(39,"span",28),r.Nb(40,"i",25),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(41,"div",9),r.Rb(42,"div",19),r.Rb(43,"div",20),r.Rb(44,"div",21),r.Nb(45,"input",29),r.Rb(46,"label",30),r.sc(47,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(48,"span",31),r.Nb(49,"i",25),r.Qb(),r.Qb(),r.Qb(),r.Rb(50,"div",19),r.Rb(51,"div",20),r.Rb(52,"div",21),r.Nb(53,"input",32),r.Rb(54,"label",33),r.sc(55,"Email"),r.Qb(),r.Qb(),r.Rb(56,"span",34),r.Nb(57,"i",35),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(58,"div",9),r.Rb(59,"div",19),r.Rb(60,"div",20),r.Rb(61,"div",21),r.Nb(62,"input",36),r.Rb(63,"label",37),r.sc(64,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(65,"span",38),r.Nb(66,"i",39),r.Qb(),r.Qb(),r.Qb(),r.Rb(67,"div",19),r.Rb(68,"div",20),r.Rb(69,"div",21),r.Nb(70,"input",40),r.Rb(71,"label",41),r.sc(72,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(73,"span",42),r.Nb(74,"i",43),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(75,"div",9),r.Rb(76,"div",44),r.Rb(77,"div"),r.Rb(78,"select",45),r.Rb(79,"option",46),r.sc(80,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(81,"div",44),r.Rb(82,"div"),r.Rb(83,"select",47),r.Rb(84,"option",46),r.sc(85,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(86,"div",44),r.Rb(87,"div"),r.Rb(88,"select",48),r.Rb(89,"option",46),r.sc(90,"Ch\u1ecdn ph\u01b0\u1eddng x\xe3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(91,"div",49),r.Rb(92,"div",19),r.Rb(93,"div",20),r.Rb(94,"div",21),r.Nb(95,"input",50),r.Rb(96,"label",51),r.sc(97,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(98,"span",52),r.Nb(99,"i",53),r.Qb(),r.Qb(),r.Qb(),r.Rb(100,"div",19),r.Rb(101,"div",20),r.Rb(102,"div",21),r.Nb(103,"input",54),r.Rb(104,"label",55),r.sc(105,"CMND"),r.Qb(),r.Qb(),r.Rb(106,"span",56),r.Nb(107,"i",57),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(108,"div",9),r.Rb(109,"div",19),r.Rb(110,"div",20),r.Rb(111,"div",21),r.Nb(112,"input",58),r.Rb(113,"label",59),r.sc(114,"M\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(115,"span",60),r.Nb(116,"i",61),r.Qb(),r.Qb(),r.Qb(),r.Rb(117,"div",19),r.Rb(118,"div",20),r.Rb(119,"div",21),r.Nb(120,"input",62),r.Rb(121,"label",63),r.sc(122,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(123,"span",64),r.Nb(124,"i",65),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(125,"div",9),r.Rb(126,"div",66),r.Rb(127,"div"),r.Rb(128,"div",67),r.Rb(129,"div",9),r.Rb(130,"div",68),r.Nb(131,"input",69),r.Qb(),r.Rb(132,"div",44),r.Rb(133,"button",70),r.Zb("click",(function(){return t.printd()})),r.sc(134,"G\u1eedi"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(135,"div",71),r.Rb(136,"div",9),r.Rb(137,"div",44),r.Nb(138,"div",72),r.Qb(),r.Rb(139,"div",73),r.Rb(140,"div",74),r.Zb("click",(function(){return t.generate()})),r.Nb(141,"i",75),r.Qb(),r.Qb(),r.Rb(142,"div",71),r.Rb(143,"div",76),r.Nb(144,"p",77),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(145,"div",49),r.Rb(146,"div",78),r.Rb(147,"div",79),r.Nb(148,"input",80),r.Rb(149,"label",81),r.sc(150," \u0110\u1ed3ng \xfd "),r.Rb(151,"a",82),r.sc(152,"\u0111i\u1ec1u kho\u1ea3n"),r.Qb(),r.sc(153," c\u1ee7a website "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(154,"div",13),r.Rb(155,"div",9),r.Rb(156,"div",78),r.Rb(157,"button",83),r.sc(158,"\u0110\u0103ng k\xfd"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(1),r.fc("formGroup",t.userCreateForm),r.Ab(21),r.gc("src",t.imgs,r.oc))},directives:[bs,Wo,_s,Qo,Ko,Ds,Ea,Oa],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),NP)},{path:"user/update/:id",component:(OP=function(){function e(t,n,r,i){_classCallCheck(this,e),this._userService=t,this._activatedRoute=n,this._builder=r,this._storage=i,this.selectedImages=[],this.imgs=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;console.log("ok1"),this._activatedRoute.paramMap.subscribe((function(t){e.id=+t.get("id"),e.getUserUpdate(e.id)}))}},{key:"getUserUpdate",value:function(e){var t=this;return console.log("ok2"),this._userService.findUserByIdServer(e).subscribe((function(n){console.log("ok3"),console.log(n),t.updateUserForm=t._builder.group({id:[e],firstName:[n.firstName],lastName:[n.lastName],username:[n.account.username],avatar:[n.avatar],email:[n.email],phone:[n.phone],birthDay:[n.birthDay],city:[n.address.city],district:[n.address.district],town:[n.address.town],country:["viet nam"],idCard:[n.idCard],password:[n.account.password],pointDedication:[10],statusLock:[!0],deleteStatus:[!0],userTypeId:[5]})}))}},{key:"updateUser",value:function(e){this._userService.updateUser(e,this.updateUserForm.value).subscribe((function(e){}))}},{key:"showPreview",value:function(e){var t=this;if(e.target.files&&e.target.files[0]?((new FileReader).readAsDataURL(e.target.files[0]),this.selectedImages=e.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(var n=function(e){var n=t.selectedImages[e],r="RoomsImages/"+Date.now(),i=t._storage.ref(r);t._storage.upload(r,n).snapshotChanges().pipe(xn((function(){i.getDownloadURL().subscribe((function(e){t.updateUserForm.patchValue({avatar:e})}))}))).subscribe((function(){}))},r=0;r<this.selectedImages.length;r++)n(r)}}]),e}(),OP.\u0275fac=function(e){return new(e||OP)(r.Mb(Yu),r.Mb(Ur),r.Mb(Qs),r.Mb(Pl))},OP.\u0275cmp=r.Gb({type:OP,selectors:[["app-user-update"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"profile",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],[1,"h-100","w-100",2,"background-size","cover","background","url('https://i.pinimg.com/736x/43/69/a0/4369a065ab04219b041ef2cd23387255.jpg') no-repeat","border-top-left-radius","20px","border-bottom-left-radius","20px"],[1,"w-50","p-3"],[1,"row"],[1,"text-center"],[1,"row","mb-3",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["type","file","id","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",2,"font-size","35px","width","3em","height","3em","border-radius","50%","background","#008578",3,"change"],["userPhoto",""],[4,"ngFor","ngForOf"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","firstName",1,"form-control"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["id","city","aria-label",".form-select-sm",1,"form-control"],["formControlName","city","value","city","selected",""],["id","district","aria-label",".form-select-sm",1,"form-control"],["value","","selected",""],["id","ward","aria-label",".form-select-sm",1,"form-control"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],[1,"col-lg-12"],["type","password","id","floatingPassword","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2","formControlName","password",1,"form-control"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingVerification","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","floatingVerification"],["id","basic-addon10",1,"input-group-text"],[1,"fa-solid","fa-key"],["type","password","id","floatingConfirmVerification","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["for","floatingConfirmVerification"],["id","basic-addon11",1,"input-group-text"],[1,"fa-solid","fa-circle-check"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","mx-2"],["type","reset",1,"btn","btn-warning"],[2,"height","200px","width","200px",3,"src"]],template:function(e,t){1&e&&r.rc(0,AP,139,2,"form",0),2&e&&r.fc("ngIf",t.updateUserForm)},directives:[we,bs,Wo,_s,ye,Qo,Ko,Ds,Ea,Oa],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.profile[_ngcontent-%COMP%]{padding:0!important;margin-top:32px;display:flex;box-shadow:1px 1px 17px rgba(0,0,0,.35)}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),OP)},{path:"login",component:ev},{path:"registerWithGoogle/:email",component:hp}],jP=((MP=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:MP}),MP.\u0275inj=r.Jb({factory:function(e){return new(e||MP)},imports:[[bo.forRoot(FP)],bo]}),MP),QP=((DP=function(){function e(t){_classCallCheck(this,e),this._toastService=t,this.title="Auction"}return _createClass(e,[{key:"showMessage",value:function(){console.log("alo"),this._toastService.success("hello","info",{timeOut:3e3,positionClass:"toast-top-right"})}}]),e}()).\u0275fac=function(e){return new(e||DP)(r.Mb(gh))},DP.\u0275cmp=r.Gb({type:DP,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r.Nb(0,"router-outlet")},directives:[oo],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),DP);function LP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function UP(e){switch(e.length){case 0:return new Hl;case 1:return e[0];default:return new Gl(e)}}function VP(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function BP(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&qP(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&qP(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&qP(n,"destroy",e))}))}}function qP(e,t,n){var r=n.totalTime,i=HP(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function HP(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function GP(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function zP(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var KP=function(e,t){return!1},WP=function(e,t){return!1},YP=function(e,t,n){return[]},ZP=LP();(ZP||"undefined"!=typeof Element)&&(KP=function(e,t){return e.contains(t)},WP=function(){if(ZP||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:WP}(),YP=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var $P=null,XP=!1;function JP(e){$P||($P=("undefined"!=typeof document?document.body:null)||{},XP=!!$P.style&&"WebkitAppearance"in $P.style);var t=!0;return $P.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in $P.style)&&XP)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in $P.style),t}var eD=WP,tD=KP,nD=YP;function rD(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var iD,oD=((iD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return JP(e)}},{key:"matchesElement",value:function(e,t){return eD(e,t)}},{key:"containsElement",value:function(e,t){return tD(e,t)}},{key:"query",value:function(e,t,n){return nD(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Hl(n,r)}}]),e}()).\u0275fac=function(e){return new(e||iD)},iD.\u0275prov=r.Ib({token:iD,factory:iD.\u0275fac}),iD),aD=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.NOOP=new oD,e}();function sD(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uD(parseFloat(t[1]),t[2])}function uD(e,t){switch(t){case"s":return 1e3*e;default:return e}}function cD(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=uD(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=uD(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function lD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function hD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else lD(e,n);return n}function fD(e,t,n){return n?t+":"+n+";":""}function dD(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=fD(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=fD(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function pD(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=CD(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),LP()&&dD(e))}function vD(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=CD(t);e.style[n]=""})),LP()&&dD(e))}function gD(e){return Array.isArray(e)?1==e.length?e[0]:Ll(e):e}var bD=new RegExp("{{\\s*(.+?)\\s*}}","g");function mD(e){var t=[];if("string"==typeof e){for(var n;n=bD.exec(e);)t.push(n[1]);bD.lastIndex=0}return t}function yD(e,t,n){var r=e.toString(),i=r.replace(bD,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function _D(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var wD=/-+([a-z0-9])/g;function CD(e){return e.replace(wD,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function kD(e,t){return 0===e||0===t}function SD(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=RD(e,t)}))},s=1;s<t.length;s++)a()}return t}function ED(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function RD(e,t){return window.getComputedStyle(e)[t]}var TD=new Set(["true","1"]),ID=new Set(["false","0"]);function xD(e,t){var n=TD.has(e)||ID.has(e),r=TD.has(t)||ID.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?TD.has(e):ID.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?TD.has(t):ID.has(t)),a&&s}}var AD=new RegExp("s*:selfs*,?","g");function OD(e,t,n){return new ND(e).build(t,n)}var ND=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new PD(t);return this._resetContextStyleTimingState(n),ED(this,gD(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(DD(e)){var t=e;Object.keys(t).forEach((function(e){mD(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=_D(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=ED(this,gD(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(xD(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(xD(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:MD(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return ED(n,e,t)})),options:MD(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=ED(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:MD(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return FD(cD(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=FD(0,0,"");return i.dynamic=!0,i.strValue=r,i}return FD((n=n||cD(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Ul({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Ul(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(DD(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,c=s.params||{},(l=mD(a)).length&&l.forEach((function(e){c.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(DD(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(DD(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:ED(this,gD(e.animation),t),options:MD(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:MD(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:MD(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(AD,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,GP(t.collectedStyles,t.currentQuerySelector,{});var s=ED(this,gD(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:MD(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:cD(e.timings,t.errors,!0);return{type:12,animation:ED(this,gD(e.animation),t),timings:n,options:null}}}]),e}(),PD=_createClass((function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}));function DD(e){return!Array.isArray(e)&&"object"==typeof e}function MD(e){var t;return e?(e=lD(e)).params&&(e.params=(t=e.params)?lD(t):null):e={},e}function FD(e,t,n){return{duration:e,delay:t,easing:n}}function jD(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var QD=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),LD=new RegExp(":enter","g"),UD=new RegExp(":leave","g");function VD(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new BD).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var BD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new QD;var l=new HD(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),ED(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[jD(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?sD(n.duration):null,o=null!=n.delay?sD(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ED(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qD);var a=sD(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return ED(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?sD(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),ED(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return cD(t.params?yD(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?sD(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qD);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),ED(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;ED(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),qD={},HD=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new GD(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=sD(r.duration)),null!=r.delay&&(i.delay=sD(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=yD(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=qD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new zD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(LD,"."+this._enterClassName)).replace(UD,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),GD=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):hD(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=yD(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=hD(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?_D(t.values()):[],a=n.size?_D(n.values()):[];if(r){var s=i[0],u=lD(s);s.offset=0,u.offset=1,i=[s,u]}return jD(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),zD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=hD(e[0],!1);u.offset=0,o.push(u);var c=hD(e[0],!1);c.offset=KD(s),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=hD(e[h],!1);f.offset=KD((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return jD(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(GD);function KD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var WD=_createClass((function e(){_classCallCheck(this,e)})),YD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return CD(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(ZD[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(WD),ZD=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function $D(e,t,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var XD={},JD=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||XD,f=this.buildStyles(n,a&&a.params||XD,l),d=s&&s.params||XD,p=this.buildStyles(r,d,l),v=new Set,g=new Map,b=new Map,m="void"===r,y={params:Object.assign(Object.assign({},h),d)},_=c?[]:VD(e,t,this.ast.animation,i,o,f,p,y,u,l),w=0;if(_.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),l.length)return $D(t,this._triggerName,n,r,m,f,p,[],[],g,b,w,l);_.forEach((function(e){var n=e.element,r=GP(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=GP(b,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var C=_D(v.values());return $D(t,this._triggerName,n,r,m,f,p,_,C,g,b,w)}}]),e}(),eM=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=lD(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=yD(o,r,t)),n[e]=o}))}})),n}}]),e}(),tM=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new eM(e.style,e.options&&e.options.params||{})})),nM(this.states,"true","1"),nM(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new JD(t,e,r.states))})),this.fallbackTransition=new JD(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function nM(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var rM=new QD,iM=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=OD(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=VP(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=VD(this._driver,t,a,"ng-enter","ng-leave",{},{},i,rM,o)).forEach((function(e){var t=GP(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=UP(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=HP(t,"","","");return BP(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),oM=[],aM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=lD(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}}]),e}(),cM=new uM("void"),lM=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bM(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=GP(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=GP(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(bM(e,"ng-trigger"),bM(e,"ng-trigger-"+t),u[t]=cM),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new fM(this.id,t,e),s=this._engine.statesByElement.get(e);s||(bM(e,"ng-trigger"),bM(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new uM(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=cM),"void"===c.value||u.value!==c.value){var l=GP(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(bM(e,"ng-animate-queued"),a.onStart((function(){mM(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){vD(e,p),pD(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&UP(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||cM,s=new uM("void"),u=new fM(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==aM||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){bM(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=HP(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,BP(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),hM=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}},{key:"createNamespace",value:function(e,t){var n=new lM(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(dM(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(dM(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bM(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mM(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(dM(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return dM(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return UP(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=aM,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)bM(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?UP(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new QD,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=gM(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return bM(e,n)}))}));for(var g=[],b=new Set,m=new Set,y=0;y<this.collectedLeaveElements.length;y++){var _=this.collectedLeaveElements[y],w=_.__ng_removed;w&&w.setForRemoval&&(g.push(_),b.add(_),w.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach((function(e){return b.add(e)})):m.add(_))}var C=new Map,k=gM(f,Array.from(b));k.forEach((function(e,t){var n="ng-leave"+v++;C.set(t,n),e.forEach((function(e){return bM(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return mM(e,n)}))})),k.forEach((function(e,t){var n=C.get(t);e.forEach((function(e){return mM(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],E=[],R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=C.get(o),v=p.get(o),g=n._buildInstruction(e,r,v,d,f);if(g.errors&&g.errors.length)E.push(g);else{if(f)return t.onStart((function(){return vD(o,g.fromStyles)})),t.onDestroy((function(){return pD(o,g.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return vD(o,g.fromStyles)})),t.onDestroy((function(){return pD(o,g.toStyles)})),void i.push(t);g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,g.timelines),a.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return GP(s,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(E.length){var T=[];E.forEach((function(e){T.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return T.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(T)}var I=new Map,x=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(x.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){GP(I,t,[]).push(e),e.destroy()}))}));var A=g.filter((function(e){return _M(e,u,c)})),O=new Map;vM(O,this.driver,m,c,"*").forEach((function(e){_M(e,u,c)&&A.push(e)}));var N=new Map;d.forEach((function(e,t){vM(N,n.driver,new Set(e),u,"!")})),A.forEach((function(e){var t=O.get(e),n=N.get(e);O.set(e,Object.assign(Object.assign({},t),n))}));var P=[],D=[],M={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(l.has(t))return a.onDestroy((function(){return pD(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=M;if(x.size>1){for(var c=t,h=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(e){return x.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,N,O);if(a.setRealPlayer(d),u===M)P.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=UP(p)),i.push(a)}}else vD(t,s.fromStyles),a.onDestroy((function(){return pD(t,s.toStyles)})),D.push(a),l.has(t)&&i.push(a)})),D.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=UP(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var F=0;F<g.length;F++){var j=g[F],Q=j.__ng_removed;if(mM(j,"ng-leave"),!Q||!Q.hasAnimation){var L=[];if(s.size){var U=s.get(j);U&&U.length&&L.push.apply(L,_toConsumableArray(U));for(var V=this.driver.query(j,".ng-animating",!0),B=0;B<V.length;B++){var q=s.get(V[B]);q&&q.length&&L.push.apply(L,_toConsumableArray(q))}}var H=L.filter((function(e){return!e.destroyed}));H.length?yM(this,j,H):this.processLeaveNode(j)}}return g.length=0,P.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=GP(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}vD(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Hl(t.duration,t.delay);var p,v,g=f!==u,b=(p=(n.get(f)||oM).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof Gl?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),m=i.get(f),y=o.get(f),_=VP(0,a._normalizer,0,t.keyframes,m,y),w=a._buildPlayer(t,_,b);if(t.subTimeline&&r&&h.add(f),g){var C=new fM(e,s,f);C.setRealPlayer(w),c.push(C)}return w}));c.forEach((function(e){GP(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return bM(e,"ng-animating")}));var d=UP(f);return d.onDestroy((function(){l.forEach((function(e){return mM(e,"ng-animating")})),pD(u,t.toStyles)})),h.forEach((function(e){GP(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Hl(e.duration,e.delay)}}]),e}(),fM=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Hl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return BP(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){GP(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function dM(e){return e&&1===e.nodeType}function pM(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function vM(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(pM(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=sM,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return pM(e,o[s++])})),a}function gM(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function bM(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function mM(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function yM(e,t,n){UP(n).onDone((function(){return e.processLeaveNode(t)}))}function _M(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var wM=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new hM(t,n,r),this._timelineEngine=new iM(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=OD(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new tM(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(zP(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(zP(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function CM(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=SM(t[0]),t.length>1&&(r=SM(t[t.length-1]))):t&&(n=SM(t)),n||r?new kM(e,n,r):null}var kM=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&pD(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(pD(this._element,this._initialStyles),this._endStyles&&(pD(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(vD(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vD(this._element,this._endStyles),this._endStyles=null),pD(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function SM(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];EM(i)&&((t=t||{})[i]=e[i])}return t}function EM(e){return"display"===e||"position"===e}var RM=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=NM(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),OM(e,"",t),AM(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){TM(this._element,this._name,"paused")}},{key:"resume",value:function(){TM(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=IM(this._element,this._name);this._position=e*this._duration,OM(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),AM(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=NM(e,"").split(","),r=xM(n,t);r>=0&&(n.splice(r,1),OM(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function TM(e,t,n){OM(e,"PlayState",n,IM(e,t))}function IM(e,t){var n=NM(e,"");return n.indexOf(",")>0?xM(n.split(","),t):xM([n],t)}function xM(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function AM(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function OM(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function NM(e,t){return e.style["animation"+t]}var PM=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new RM(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:RD(e.element,r))}))}this.currentSnapshot=t}}]),e}(),DM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=rD(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Hl),MM=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return JP(e)}},{key:"matchesElement",value:function(e,t){return eD(e,t)}},{key:"containsElement",value:function(e,t){return tD(e,t)}},{key:"query",value:function(e,t,n){return nD(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return rD(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof PM})),u={};kD(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=SD(e,t,u));if(0==n)return new DM(e,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=CM(e,t),d=new PM(e,t,l,n,r,i,c,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),FM=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:RD(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),jM=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(QM().toString()),this._cssKeyframesDriver=new MM}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return JP(e)}},{key:"matchesElement",value:function(e,t){return eD(e,t)}},{key:"containsElement",value:function(e,t){return tD(e,t)}},{key:"query",value:function(e,t,n){return nD(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(e){return e instanceof FM}));kD(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=CM(e,t=SD(e,t=t.map((function(e){return hD(e,!1)})),u));return new FM(e,t,s,l)}}]),e}();function QM(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var LM,UM=((LM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(i.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Ll(e):e;return qM(this._renderer,null,t,"register",[n]),new VM(t,this._renderer)}}]),n}(jl)).\u0275fac=function(e){return new(e||LM)(r.Vb(r.E),r.Vb(u))},LM.\u0275prov=r.Ib({token:LM,factory:LM.\u0275fac}),LM),VM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new BM(this._id,e,t||{},this._renderer)}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}()),BM=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qM(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function qM(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var HM,GM,zM,KM,WM=((HM=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new YM("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new ZM(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||HM)(r.Vb(r.E),r.Vb(wM),r.Vb(r.z))},HM.\u0275prov=r.Ib({token:HM,factory:HM.\u0275fac}),HM),YM=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),ZM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(YM),$M=((GM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return _createClass(n)}(wM)).\u0275fac=function(e){return new(e||GM)(r.Vb(u),r.Vb(aD),r.Vb(WD))},GM.\u0275prov=r.Ib({token:GM,factory:GM.\u0275fac}),GM),XM=[{provide:aD,useFactory:function(){return"function"==typeof QM()?new jM:new MM}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:jl,useClass:UM},{provide:WD,useFactory:function(){return new YD}},{provide:wM,useClass:$M},{provide:r.E,useFactory:function(e,t,n){return new WM(e,t,n)},deps:[st,wM,r.z]}],JM=((zM=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:zM}),zM.\u0275inj=r.Jb({factory:function(e){return new(e||zM)},providers:XM,imports:[Ct]}),zM),eF={scope:"profile email",plugin_name:"login"},tF=((KM=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r.Kb({type:KM,bootstrap:[QP]}),KM.\u0275inj=r.Jb({factory:function(e){return new(e||KM)},providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Vp.PROVIDER_ID,provider:new Vp("360980124241-cu5j4vb8mfob7il8h62oa320t8ldoi7l.apps.googleusercontent.com",eF)}]}}],imports:[[Us,Ct,jP,Ls,Ou,JM,yh.forRoot(),Ml,tc.a.initializeApp(i.firebaseConfig),qp]]}),KM);i.production&&Object(r.S)(),_t().bootstrapModule(tF).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);