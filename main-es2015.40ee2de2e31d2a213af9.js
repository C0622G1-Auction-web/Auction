(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+Ewk":function(t,e,n){"use strict";var r=n("P7XM"),i=n("96lO"),o=n("+fXv"),s=n("v0om");function a(t){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",s,o)}r(a,i),a.enabled=function(){return!!global.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,t.exports=a},"+R4f":function(t,e,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter,o=n("yjSe");function s(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){e.emit("message",decodeURI(t.data))},n.onerror=function(t){var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(s,i),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},s.prototype._close=function(t){var e=this;setTimeout((function(){e.emit("close",null,t),e.removeAllListeners()}),200)},t.exports=s},"+fXv":function(t,e,n){"use strict";var r=n("8fj+"),i=n("JYLm"),o=n("JqAl"),s=n("Yh+D"),a=n("P7XM"),c=n("raCH").EventEmitter;function l(t){var e=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var n=s.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));global[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout((function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))}),l.timeout)}a(l,c),l.prototype.abort=function(){if(global[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},l.timeout=35e3,l.scriptErrorTimeout=1e3,l.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},l.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},l.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete global[r.WPrefix][this.id]},l.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout((function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))}),l.scriptErrorTimeout))},l.prototype._createScript=function(t){var e,n=this,r=this.script=global.document.createElement("script");if(r.id="a"+i.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){n._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){n.loadedOkay=!0;try{r.onclick()}catch(t){}}r&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&global.document.attachEvent)if(o.isOpera())(e=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=e.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(a){}r.async=!0}void 0!==r.async&&(r.async=!0);var s=global.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),e&&s.insertBefore(e,s.firstChild)},t.exports=l},"+z1p":function(t,e,n){(function(t){!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,t.exports=(()=>{"use strict";var n={3062:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const a=s},903:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const a=s},3143:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},4717:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const a=s},9315:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const a=s},8733:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3508:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},2640:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const a=s},5083:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},4036:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const a=s},3773:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const a=s},3689:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const a=s},1905:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},9773:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const a=s},2347:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},7754:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},4652:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const a=s},7442:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},9292:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},1613:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const a=s},6306:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const a=s},3881:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},6945:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},4906:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},5332:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},6781:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const a=s},5485:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3949:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7686:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7339:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const a=s},9688:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},8847:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const a=s},6574:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},4879:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},3662:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const a=s},2577:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},1046:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},8793:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},4650:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7676:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},5868:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},6764:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},9695:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const a=s},5542:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3332:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const a=s},4793:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const a=s},3488:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},8506:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const a=s},4921:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(1799),i=n.n(r),o=n(2609),s=n.n(o)()(i());s.push([t.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const a=s},2609:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]=c[2]?"".concat(n," and ").concat(c[2]):n),e.push(c))}},e}},1799:t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n=e(t,4),r=n[1],i=n[3];if(!i)return r;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[r].concat(c).concat([a]).join("\n")}return[r].join("\n")}},6062:(t,e,n)=>{var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},r=[],i=0;i<t.length;i++){var a=t[i],c=e.base?a[0]+e.base:a[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:g(h,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,p=0;function g(t,e){var n,r,i;if(e.singleton){var o=p++;n=f||(f=c(e)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=c(e),r=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var c=a(t,e),l=0;l<n.length;l++){var u=s(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,exports:{}};return n[t](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0;var o={};return(()=>{i.d(o,{default:()=>dy});const n=function(){try{return navigator.userAgent.toLowerCase()}catch(n){return""}}(),r=u(n),s=(function(t){t.indexOf("windows")}(n),function(t){return!!t.match(/gecko\/\d+/)}(n)),a=function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(n),c=(function(t){t.match(/iphone|ipad/i)||u(t)&&navigator}(n),function(t){return t.indexOf("android")>-1}(n)),l=function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(n);function u(t){return t.indexOf("macintosh")>-1}function d(t,e,n,r){n=n||function(t,e){return t===e};const i=Array.isArray(t)?t:Array.prototype.slice.call(t),o=Array.isArray(e)?e:Array.prototype.slice.call(e),s=function(t,e,n){const r=h(t,e,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=h(f(t,r),f(e,r),n);return{firstIndex:r,lastIndexOld:t.length-i,lastIndexNew:e.length-i}}(i,o,n);return r?function(t,e){const{firstIndex:n,lastIndexOld:r,lastIndexNew:i}=t;if(-1===n)return Array(e).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),i-n>0&&(o=o.concat(Array(i-n).fill("insert"))),r-n>0&&(o=o.concat(Array(r-n).fill("delete"))),i<e&&(o=o.concat(Array(e-i).fill("equal"))),o}(s,o.length):function(t,e){const n=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:o}=e;return o-r>0&&n.push({index:r,type:"insert",values:t.slice(r,o)}),i-r>0&&n.push({index:r+(o-r),type:"delete",howMany:i-r}),n}(o,s)}function h(t,e,n){for(let r=0;r<Math.max(t.length,e.length);r++)if(void 0===t[r]||void 0===e[r]||!n(t[r],e[r]))return r;return-1}function f(t,e){return t.slice(e).reverse()}function p(t,e,n){n=n||function(t,e){return t===e};const r=t.length,i=e.length;if(r>200||i>200||r+i>300)return p.fastDiff(t,e,n,!0);let o,s;if(i<r){const n=t;t=e,e=n,o="delete",s="insert"}else o="insert",s="delete";const a=t.length,c=e.length,l=c-a,u={},d={};function h(r){const i=(void 0!==d[r-1]?d[r-1]:-1)+1,l=void 0!==d[r+1]?d[r+1]:-1,h=i>l?-1:1;u[r+h]&&(u[r]=u[r+h].slice(0)),u[r]||(u[r]=[]),u[r].push(i>l?o:s);let f=Math.max(i,l),p=f-r;for(;p<a&&f<c&&n(t[p],e[f]);)p++,f++,u[r].push("equal");return f}let f,g=0;do{for(f=-g;f<l;f++)d[f]=h(f);for(f=l+g;f>l;f--)d[f]=h(f);d[l]=h(l),g++}while(d[l]!==c);return u[l].slice(1)}function g(t,...e){e.forEach(e=>{const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);n.concat(r).forEach(n=>{if(n in t.prototype)return;if("function"==typeof e&&("length"==n||"name"==n||"prototype"==n))return;const r=Object.getOwnPropertyDescriptor(e,n);r.enumerable=!1,Object.defineProperty(t.prototype,n,r)})})}!function(){let t=!1;try{t=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(t){}}(),p.fastDiff=d;class m{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=function t(){t.called=!0},this.off=function t(){t.called=!0}}}const b=new Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));function v(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+b[t>>0&255]+b[t>>8&255]+b[t>>16&255]+b[t>>24&255]+b[e>>0&255]+b[e>>8&255]+b[e>>16&255]+b[e>>24&255]+b[n>>0&255]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]+b[r>>0&255]+b[r>>8&255]+b[r>>16&255]+b[r>>24&255]}const y={get(t="normal"){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function _(t,e){const n=y.get(e.priority);for(let r=0;r<t.length;r++)if(y.get(t[r].priority)<n)return void t.splice(r,0,e);t.push(e)}class w extends Error{constructor(t,e,n){super(function(t,e){const n=new WeakSet;return t+(e?" "+JSON.stringify(e,(t,e)=>{if("object"==typeof e&&null!==e){if(n.has(e))return`[object ${e.constructor.name}]`;n.add(e)}return e}):"")+A(t)}(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new w(t.message,e);throw n.stack=t.stack,n}}function k(t,e){console.warn(...E(t,e))}function C(t,e){console.error(...E(t,e))}function A(t){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-"+t}function E(t,e){const n=A(t);return e?[t,e,n]:[t,n]}const x="object"==typeof window?window:i.g;if(x.CKEDITOR_VERSION)throw new w("ckeditor-duplicated-modules",null);x.CKEDITOR_VERSION="35.4.0";const S=Symbol("listeningTo"),I=Symbol("emitterId"),T=Symbol("delegations"),D=R(Object);function R(t){return t?class extends t{on(t,e,n){this.listenTo(this,t,e,n)}once(t,e,n){let r=!1;this.listenTo(this,t,(t,...n)=>{r||(r=!0,t.off(),e.call(this,t,...n))},n)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,n,r={}){let i,o;this[S]||(this[S]={});const s=this[S];N(t)||O(t);const a=N(t);(i=s[a])||(i=s[a]={emitter:t,callbacks:{}}),(o=i.callbacks[e])||(o=i.callbacks[e]=[]),o.push(n),function(t,e,n,r,i){e._addEventListener?e._addEventListener(n,r,i):t._addEventListener.call(e,n,r,i)}(this,t,e,n,r)}stopListening(t,e,n){const r=this[S];let i=t&&N(t);const o=r&&i?r[i]:void 0,s=o&&e?o.callbacks[e]:void 0;if(!(!r||t&&!o||e&&!s))if(n)j(this,t,e,n),-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[e]:j(this,t,e,n));else if(s){for(;n=s.pop();)j(this,t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[S]}}fire(t,...e){try{const n=t instanceof m?t:new m(this,t),r=n.name;let i=function t(e,n){let r;return e._events&&(r=e._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null}(this,r);if(n.path.push(this),i){const t=[n,...e];i=Array.from(i);for(let e=0;e<i.length&&(i[e].callback.apply(this,t),n.off.called&&(delete n.off.called,this._removeEventListener(r,i[e].callback)),!n.stop.called);e++);}const o=this[T];if(o){const t=o.get(r),i=o.get("*");t&&L(t,n,e),i&&L(i,n,e)}return n.return}catch(t){w.rethrowUnexpectedError(t,this)}}delegate(...t){return{to:(e,n)=>{this[T]||(this[T]=new Map),t.forEach(t=>{const r=this[T].get(t);r?r.set(e,n):this[T].set(t,new Map([[e,n]]))})}}}stopDelegating(t,e){if(this[T])if(t)if(e){const n=this[T].get(t);n&&n.delete(e)}else this[T].delete(t);else this[T].clear()}_addEventListener(t,e,n){!function(t,e){const n=P(t);if(n[e])return;let r=e,i=null;const o=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},o.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const t of o)t.callbacks=n[r].callbacks.slice();n[r].childEvents.push(i)}}(this,t);const r=M(this,t),i={callback:e,priority:y.get(n.priority)};for(const o of r)_(o,i)}_removeEventListener(t,e){const n=M(this,t);for(const r of n)for(let t=0;t<r.length;t++)r[t].callback==e&&(r.splice(t,1),t--)}}:D}function O(t,e){t[I]||(t[I]=e||v())}function N(t){return t[I]}function P(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function M(t,e){const n=P(t)[e];if(!n)return[];let r=[n.callbacks];for(let i=0;i<n.childEvents.length;i++){const e=M(t,n.childEvents[i]);r=r.concat(e)}return r}function L(t,e,n){for(let[r,i]of t){i?"function"==typeof i&&(i=i(e.name)):i=e.name;const t=new m(e.source,i);t.path=[...e.path],r.fire(t,...n)}}function j(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{R[t]=D.prototype[t]});const F=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},B=Symbol("observableProperties"),z=Symbol("boundObservables"),Q=Symbol("boundProperties"),V=Symbol("decoratedMethods"),U=Symbol("decoratedOriginal"),q=H(R());function H(t){return t?class extends t{set(t,e){if(F(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);G(this);const n=this[B];if(t in this&&!n.has(t))throw new w("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const r=n.get(t);let i=this.fire("set:"+t,t,e,r);void 0===i&&(i=e),r===i&&n.has(t)||(n.set(t,i),this.fire("change:"+t,t,i,r))}}),this[t]=e}bind(...t){if(!t.length||!$(t))throw new w("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new w("observable-bind-duplicate-properties",this);G(this);const e=this[Q];t.forEach(t=>{if(e.has(t))throw new w("observable-bind-rebind",this)});const n=new Map;return t.forEach(t=>{const r={property:t,to:[]};e.set(t,r),n.set(t,r)}),{to:W,toMany:K,_observable:this,_bindProperties:t,_to:[],_bindings:n}}unbind(...t){if(!this[B])return;const e=this[Q],n=this[z];if(t.length){if(!$(t))throw new w("observable-unbind-wrong-properties",this);t.forEach(t=>{const r=e.get(t);r&&(r.to.forEach(([t,e])=>{const i=n.get(t),o=i[e];o.delete(r),o.size||delete i[e],Object.keys(i).length||(n.delete(t),this.stopListening(t,"change"))}),e.delete(t))})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()}decorate(t){G(this);const e=this[t];if(!e)throw new w("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)},this[t][U]=e,this[V]||(this[V]=[]),this[V].push(t)}stopListening(t,e,n){if(!t&&this[V]){for(const t of this[V])this[t]=this[t][U];delete this[V]}super.stopListening(t,e,n)}}:q}function G(t){t[B]||(Object.defineProperty(t,B,{value:new Map}),Object.defineProperty(t,z,{value:new Map}),Object.defineProperty(t,Q,{value:new Map}))}function W(...t){const e=function(...t){if(!t.length)throw new w("observable-bind-to-parse-error",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new w("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new w("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new w("observable-bind-to-extra-callback",this);var i;e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==r)throw new w("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),i=this._observable,this._to.forEach(t=>{const e=i[z];let n;e.get(t.observable)||i.listenTo(t.observable,"change",(r,o)=>{n=e.get(t.observable)[o],n&&n.forEach(t=>{Y(i,t.property)})})}),function(t){let e;t._bindings.forEach((n,r)=>{t._to.forEach(i=>{e=i.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([i.observable,e]),function(t,e,n,r){const i=t[z],o=i.get(n),s=o||{};s[r]||(s[r]=new Set),s[r].add(e),o||i.set(n,s)}(t._observable,n,i.observable,e)})})}(this),this._bindProperties.forEach(t=>{Y(this._observable,t)})}function K(t,e,n){if(this._bindings.size>1)throw new w("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function $(t){return t.every(t=>"string"==typeof t)}function Y(t,e){const n=t[Q].get(e);let r;n.callback?r=n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=r:t.set(e,r)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{H[t]=q.prototype[t]});class Z{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}function J(t){let e=0;for(const n of t)e++;return e}function X(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}function tt(t){return!(!t||!t[Symbol.iterator])}const et="object"==typeof global&&global&&global.Object===Object&&global;var nt="object"==typeof self&&self&&self.Object===Object&&self;const rt=et||nt||Function("return this")(),it=rt.Symbol;var ot=Object.prototype,st=ot.hasOwnProperty,at=ot.toString,ct=it?it.toStringTag:void 0,lt=Object.prototype.toString,ut=it?it.toStringTag:void 0;const dt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ut&&ut in Object(t)?function(t){var e=st.call(t,ct),n=t[ct];try{t[ct]=void 0;var r=!0}catch(t){}var i=at.call(t);return r&&(e?t[ct]=n:delete t[ct]),i}(t):function(t){return lt.call(t)}(t)},ht=Array.isArray,ft=function(t){return null!=t&&"object"==typeof t},pt=function(t){return"string"==typeof t||!ht(t)&&ft(t)&&"[object String]"==dt(t)};function gt(t,e,n={},r=[]){const i=n&&n.xmlns,o=i?t.createElementNS(i,e):t.createElement(e);for(const s in n)o.setAttribute(s,n[s]);!pt(r)&&tt(r)||(r=[r]);for(let s of r)pt(s)&&(s=t.createTextNode(s)),o.appendChild(s);return o}const mt=function(t,e){return function(n){return t(e(n))}},bt=mt(Object.getPrototypeOf,Object);var vt=Function.prototype.toString,yt=Object.prototype.hasOwnProperty,_t=vt.call(Object);const wt=function(t){if(!ft(t)||"[object Object]"!=dt(t))return!1;var e=bt(t);if(null===e)return!0;var n=yt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&vt.call(n)==_t},kt=function(t,e){return t===e||t!=t&&e!=e},Ct=function(t,e){for(var n=t.length;n--;)if(kt(t[n][0],e))return n;return-1};var At=Array.prototype.splice;function Et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Et.prototype.clear=function(){this.__data__=[],this.size=0},Et.prototype.delete=function(t){var e=this.__data__,n=Ct(e,t);return!(n<0||(n==e.length-1?e.pop():At.call(e,n,1),--this.size,0))},Et.prototype.get=function(t){var e=this.__data__,n=Ct(e,t);return n<0?void 0:e[n][1]},Et.prototype.has=function(t){return Ct(this.__data__,t)>-1},Et.prototype.set=function(t,e){var n=this.__data__,r=Ct(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const xt=Et,St=function(t){if(!F(t))return!1;var e=dt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},It=rt["__core-js_shared__"];var Tt=function(){var t=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Dt=Function.prototype.toString;const Rt=function(t){if(null!=t){try{return Dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Ot=/^\[object .+?Constructor\]$/,Nt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Pt=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!F(t)||function(t){return!!Tt&&Tt in t}(t))&&(St(t)?Nt:Ot).test(Rt(t))}(n)?n:void 0},Mt=Pt(rt,"Map"),Lt=Pt(Object,"create");var jt=Object.prototype.hasOwnProperty,Ft=Object.prototype.hasOwnProperty;function Bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bt.prototype.clear=function(){this.__data__=Lt?Lt(null):{},this.size=0},Bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Bt.prototype.get=function(t){var e=this.__data__;if(Lt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return jt.call(e,t)?e[t]:void 0},Bt.prototype.has=function(t){var e=this.__data__;return Lt?void 0!==e[t]:Ft.call(e,t)},Bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Lt&&void 0===e?"__lodash_hash_undefined__":e,this};const zt=Bt,Qt=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function Vt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vt.prototype.clear=function(){this.size=0,this.__data__={hash:new zt,map:new(Mt||xt),string:new zt}},Vt.prototype.delete=function(t){var e=Qt(this,t).delete(t);return this.size-=e?1:0,e},Vt.prototype.get=function(t){return Qt(this,t).get(t)},Vt.prototype.has=function(t){return Qt(this,t).has(t)},Vt.prototype.set=function(t,e){var n=Qt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const Ut=Vt;function qt(t){var e=this.__data__=new xt(t);this.size=e.size}qt.prototype.clear=function(){this.__data__=new xt,this.size=0},qt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qt.prototype.get=function(t){return this.__data__.get(t)},qt.prototype.has=function(t){return this.__data__.has(t)},qt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xt){var r=n.__data__;if(!Mt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ut(r)}return n.set(t,e),this.size=n.size,this};const Ht=qt,Gt=function(){try{var t=Pt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Wt=function(t,e,n){"__proto__"==e&&Gt?Gt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Kt=Object.prototype.hasOwnProperty;const $t=function(t,e,n){var r=t[e];Kt.call(t,e)&&kt(r,n)&&(void 0!==n||e in t)||Wt(t,e,n)},Yt=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?Wt(n,a,c):$t(n,a,c)}return n},Zt=function(t){return ft(t)&&"[object Arguments]"==dt(t)};var Jt=Object.prototype,Xt=Jt.hasOwnProperty,te=Jt.propertyIsEnumerable;const ee=Zt(function(){return arguments}())?Zt:function(t){return ft(t)&&Xt.call(t,"callee")&&!te.call(t,"callee")};var ne=e&&!e.nodeType&&e,re=ne&&"object"==typeof t&&t&&!t.nodeType&&t,ie=re&&re.exports===ne?rt.Buffer:void 0;const oe=(ie?ie.isBuffer:void 0)||function(){return!1};var se=/^(?:0|[1-9]\d*)$/;const ae=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&se.test(t))&&t>-1&&t%1==0&&t<e},ce=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var le={};le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;const ue=function(t){return function(e){return t(e)}};var de=e&&!e.nodeType&&e,he=de&&"object"==typeof t&&t&&!t.nodeType&&t,fe=he&&he.exports===de&&et.process;const pe=function(){try{return he&&he.require&&he.require("util").types||fe&&fe.binding&&fe.binding("util")}catch(n){}}();var ge=pe&&pe.isTypedArray;const me=ge?ue(ge):function(t){return ft(t)&&ce(t.length)&&!!le[dt(t)]};var be=Object.prototype.hasOwnProperty;const ve=function(t,e){var n=ht(t),r=!n&&ee(t),i=!n&&!r&&oe(t),o=!n&&!r&&!i&&me(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var l in t)!e&&!be.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ae(l,c))||a.push(l);return a};var ye=Object.prototype;const _e=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ye)},we=mt(Object.keys,Object);var ke=Object.prototype.hasOwnProperty;const Ce=function(t){return null!=t&&ce(t.length)&&!St(t)},Ae=function(t){return Ce(t)?ve(t):function(t){if(!_e(t))return we(t);var e=[];for(var n in Object(t))ke.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)};var Ee=Object.prototype.hasOwnProperty;const xe=function(t){return Ce(t)?ve(t,!0):function(t){if(!F(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=_e(t),n=[];for(var r in t)("constructor"!=r||!e&&Ee.call(t,r))&&n.push(r);return n}(t)};var Se=e&&!e.nodeType&&e,Ie=Se&&"object"==typeof t&&t&&!t.nodeType&&t,Te=Ie&&Ie.exports===Se?rt.Buffer:void 0,De=Te?Te.allocUnsafe:void 0;const Re=function(t,e){if(e)return t.slice();var n=t.length,r=De?De(n):new t.constructor(n);return t.copy(r),r},Oe=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Ne=function(){return[]};var Pe=Object.prototype.propertyIsEnumerable,Me=Object.getOwnPropertySymbols;const Le=Me?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s)&&(o[i++]=s)}return o}(Me(t),(function(e){return Pe.call(t,e)})))}:Ne,je=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Fe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)je(e,Le(t)),t=bt(t);return e}:Ne,Be=function(t,e,n){var r=e(t);return ht(t)?r:je(r,n(t))},ze=function(t){return Be(t,Ae,Le)},Qe=function(t){return Be(t,xe,Fe)},Ve=Pt(rt,"DataView"),Ue=Pt(rt,"Promise"),qe=Pt(rt,"Set"),He=Pt(rt,"WeakMap");var Ge="[object Map]",We="[object Promise]",Ke="[object Set]",$e="[object WeakMap]",Ye="[object DataView]",Ze=Rt(Ve),Je=Rt(Mt),Xe=Rt(Ue),tn=Rt(qe),en=Rt(He),nn=dt;(Ve&&nn(new Ve(new ArrayBuffer(1)))!=Ye||Mt&&nn(new Mt)!=Ge||Ue&&nn(Ue.resolve())!=We||qe&&nn(new qe)!=Ke||He&&nn(new He)!=$e)&&(nn=function(t){var e=dt(t),n="[object Object]"==e?t.constructor:void 0,r=n?Rt(n):"";if(r)switch(r){case Ze:return Ye;case Je:return Ge;case Xe:return We;case tn:return Ke;case en:return $e}return e});const rn=nn;var on=Object.prototype.hasOwnProperty;const sn=rt.Uint8Array,an=function(t){var e=new t.constructor(t.byteLength);return new sn(e).set(new sn(t)),e};var cn=/\w*$/,ln=it?it.prototype:void 0,un=ln?ln.valueOf:void 0;const dn=function(t,e){var n=e?an(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var hn=Object.create;const fn=function(){function t(){}return function(e){if(!F(e))return{};if(hn)return hn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),pn=function(t){return"function"!=typeof t.constructor||_e(t)?{}:fn(bt(t))};var gn=pe&&pe.isMap;const mn=gn?ue(gn):function(t){return ft(t)&&"[object Map]"==rn(t)};var bn=pe&&pe.isSet;const vn=bn?ue(bn):function(t){return ft(t)&&"[object Set]"==rn(t)};var yn="[object Arguments]",_n="[object Function]",wn="[object Object]",kn={};kn[yn]=kn["[object Array]"]=kn["[object ArrayBuffer]"]=kn["[object DataView]"]=kn["[object Boolean]"]=kn["[object Date]"]=kn["[object Float32Array]"]=kn["[object Float64Array]"]=kn["[object Int8Array]"]=kn["[object Int16Array]"]=kn["[object Int32Array]"]=kn["[object Map]"]=kn["[object Number]"]=kn[wn]=kn["[object RegExp]"]=kn["[object Set]"]=kn["[object String]"]=kn["[object Symbol]"]=kn["[object Uint8Array]"]=kn["[object Uint8ClampedArray]"]=kn["[object Uint16Array]"]=kn["[object Uint32Array]"]=!0,kn["[object Error]"]=kn[_n]=kn["[object WeakMap]"]=!1;const Cn=function t(e,n,r,i,o,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),void 0!==a)return a;if(!F(e))return e;var d=ht(e);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&on.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!c)return Oe(e,a)}else{var h=rn(e),f=h==_n||"[object GeneratorFunction]"==h;if(oe(e))return Re(e,c);if(h==wn||h==yn||f&&!o){if(a=l||f?{}:pn(e),!c)return l?function(t,e){return Yt(t,Fe(t),e)}(e,function(t,e){return t&&Yt(e,xe(e),t)}(a,e)):function(t,e){return Yt(t,Le(t),e)}(e,function(t,e){return t&&Yt(e,Ae(e),t)}(a,e))}else{if(!kn[h])return o?e:{};a=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return an(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function(t,e){var n=e?an(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return dn(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,cn.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return un?Object(un.call(t)):{}}(t)}}(e,h,c)}}s||(s=new Ht);var p=s.get(e);if(p)return p;s.set(e,a),vn(e)?e.forEach((function(i){a.add(t(i,n,r,i,e,s))})):mn(e)&&e.forEach((function(i,o){a.set(o,t(i,n,r,o,e,s))}));var g=d?void 0:(u?l?Qe:ze:l?xe:Ae)(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n););}(g||e,(function(i,o){g&&(i=e[o=i]),$t(a,o,t(i,n,r,o,e,s))})),a},An=function(t,e){return Cn(t,5,e="function"==typeof e?e:void 0)},En=function(t){return ft(t)&&1===t.nodeType&&!wt(t)};class xn{constructor(t,e){this._config={},e&&this.define(Sn(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,r=!1){if(wt(e))return void this._setObjectToTarget(t,e,r);const i=e.split(".");e=i.pop();for(const o of i)wt(t[o])||(t[o]={}),t=t[o];if(wt(n))return wt(t[e])||(t[e]={}),void this._setObjectToTarget(t=t[e],n,r);r&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const r of n){if(!wt(t[r])){t=null;break}t=t[r]}return t?Sn(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(r=>{this._setToTarget(t,r,e[r],n)})}}function Sn(t){return An(t,In)}function In(t){return En(t)?t:void 0}function Tn(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Dn(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}const Rn=On(R());function On(t){return t?class extends t{listenTo(t,e,n,r={}){if(Tn(t)||Dn(t)){const i={capture:!!r.useCapture,passive:!!r.usePassive},o=this._getProxyEmitter(t,i)||new Nn(t,i);this.listenTo(o,e,n,r)}else super.listenTo(t,e,n,r)}stopListening(t,e,n){if(Tn(t)||Dn(t)){const r=this._getAllProxyEmitters(t);for(const t of r)this.stopListening(t,e,n)}else super.stopListening(t,e,n)}_getProxyEmitter(t,e){return function(t,e){const n=t[S];return n&&n[e]?n[e].emitter:null}(this,Pn(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(e=>this._getProxyEmitter(t,e)).filter(t=>!!t)}}:Rn}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(t=>{On[t]=Rn.prototype[t]});class Nn extends(R()){constructor(t,e){super(),O(this,Pn(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),R().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){R().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=e=>{this.fire(t,e)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function Pn(t,e){let n=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=v())}(t);for(const r of Object.keys(e).sort())e[r]&&(n+="-"+r);return n}let Mn;try{Mn={window,document}}catch(n){Mn={window:{},document:{}}}const Ln=Mn;function jn(t){const e=[];let n=t;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}function Fn(t){return"[object Text]"==Object.prototype.toString.call(t)}function Bn(t){return"[object Range]"==Object.prototype.toString.apply(t)}function zn(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const Qn=["top","right","bottom","left","width","height"];class Vn{constructor(t){const e=Bn(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Hn(t)||e)if(e){const e=Vn.getDomRangeRects(t);Un(this,Vn.getBoundingRect(e))}else Un(this,t.getBoundingClientRect());else if(Dn(t)){const{innerWidth:e,innerHeight:n}=t;Un(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Un(this,t)}clone(){return new Vn(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new Vn(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!qn(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!qn(n);){const t=new Vn(n),r=e.getIntersection(t);if(!r)return null;r.getArea()<e.getArea()&&(e=r),n=n.parentNode}}return e}isEqual(t){for(const e of Qn)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,r;if(Dn(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,r=t.getComputedStyle(t.document.documentElement).direction;else{const i=zn(t);e=t.offsetWidth-t.clientWidth-i.left-i.right,n=t.offsetHeight-t.clientHeight-i.top-i.bottom,r=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===r?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const r of n)e.push(new Vn(r));else{let n=t.startContainer;Fn(n)&&(n=n.parentNode);const r=new Vn(n.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const r of t)n++,e.left=Math.min(e.left,r.left),e.top=Math.min(e.top,r.top),e.right=Math.max(e.right,r.right),e.bottom=Math.max(e.bottom,r.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Vn(e))}}function Un(t,e){for(const n of Qn)t[n]=e[n]}function qn(t){return!!Hn(t)&&t===t.ownerDocument.body}function Hn(t){return null!==t&&"object"==typeof t&&1===t.nodeType&&"function"==typeof t.getBoundingClientRect}class Gn{constructor(t,e){Gn._observerInstance||Gn._createObserver(),this._element=t,this._callback=e,Gn._addElementCallback(t,e),Gn._observerInstance.observe(t)}destroy(){Gn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Gn._elementCallbacks||(Gn._elementCallbacks=new Map);let n=Gn._elementCallbacks.get(t);n||(n=new Set,Gn._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=Gn._getElementCallbacks(t);n&&(n.delete(e),n.size||(Gn._elementCallbacks.delete(t),Gn._observerInstance.unobserve(t))),Gn._elementCallbacks&&!Gn._elementCallbacks.size&&(Gn._observerInstance=null,Gn._elementCallbacks=null)}static _getElementCallbacks(t){return Gn._elementCallbacks?Gn._elementCallbacks.get(t):null}static _createObserver(){Gn._observerInstance=new Ln.window.ResizeObserver(t=>{for(const e of t){const t=Gn._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}}function Wn(t){return e=>e+t}function Kn(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function $n(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Yn(t){return t&&t.nodeType===Node.COMMENT_NODE}function Zn(t){return!!(t&&t.getClientRects&&t.getClientRects().length)}function Jn({element:t,target:e,positions:n,limiter:r,fitInViewport:i,viewportOffsetConfig:o}){St(e)&&(e=e()),St(r)&&(r=r());const s=function(t){return t&&t.parentNode?t.offsetParent===Ln.document.body?null:t.offsetParent:null}(t),a=new Vn(t),c=new Vn(e);let l;const u=i&&function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Vn(Ln.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}(o)||null,d={targetRect:c,elementRect:a,positionedElementAncestor:s,viewportRect:u};if(r||i){const t=r&&new Vn(r).getVisible();Object.assign(d,{limiterRect:t,viewportRect:u}),l=function(t,e){const{elementRect:n}=e,r=n.getArea(),i=t.map(t=>new tr(t,e)).filter(t=>!!t.name);let o=0,s=null;for(const a of i){const{limiterIntersectionArea:t,viewportIntersectionArea:e}=a;if(t===r)return a;const n=e**2+t**2;n>o&&(o=n,s=a)}return s}(n,d)||new tr(n[0],d)}else l=new tr(n[0],d);return l}function Xn(t){const{scrollX:e,scrollY:n}=Ln.window;return t.clone().moveBy(e,n)}Gn._observerInstance=null,Gn._elementCallbacks=null;class tr{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect);if(!n)return;const{left:r,top:i,name:o,config:s}=n;this.name=o,this.config=s,this._positioningFunctionCorrdinates={left:r,top:i},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const e=this._options.viewportRect;if(!e)return t.getIntersectionArea(this._rect);{const n=t.getIntersection(e);if(n)return n.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Xn(this._rect),this._options.positionedElementAncestor&&function(t,e){const n=Xn(new Vn(e)),r=zn(e);let i=0,o=0;i-=n.left,o-=n.top,i+=e.scrollLeft,o+=e.scrollTop,i-=r.left,o-=r.top,t.moveBy(i,o)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function er(t){const e=t.parentNode;e&&e.removeChild(t)}function nr(t,e,n){const r=e.clone().moveBy(0,n),i=e.clone().moveBy(0,-n),o=new Vn(t).excludeScrollbarsAndBorders();if(![i,r].every(t=>o.contains(t))){let{scrollX:s,scrollY:a}=t;or(i,o)?a-=o.top-e.top+n:ir(r,o)&&(a+=e.bottom-o.bottom+n),sr(e,o)?s-=o.left-e.left+n:ar(e,o)&&(s+=e.right-o.right+n),t.scrollTo(s,a)}}function rr(t,e){const n=cr(t);let r,i;for(;t!=n.document.body;)i=e(),r=new Vn(t).excludeScrollbarsAndBorders(),r.contains(i)||(or(i,r)?t.scrollTop-=r.top-i.top:ir(i,r)&&(t.scrollTop+=i.bottom-r.bottom),sr(i,r)?t.scrollLeft-=r.left-i.left:ar(i,r)&&(t.scrollLeft+=i.right-r.right)),t=t.parentNode}function ir(t,e){return t.bottom>e.bottom}function or(t,e){return t.top<e.top}function sr(t,e){return t.left<e.left}function ar(t,e){return t.right>e.right}function cr(t){return Bn(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function lr(t){if(Bn(t)){let e=t.commonAncestorContainer;return Fn(e)&&(e=e.parentNode),e}return t.parentNode}function ur(t,e){const n=cr(t),r=new Vn(t);if(n===e)return r;{let t=n;for(;t!=e;){const e=new Vn(t.frameElement).excludeScrollbarsAndBorders();r.moveBy(e.left,e.top),t=t.parent}}return r}const dr={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},hr={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},fr=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)t[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;for(const e of"`-=[];',./\\")t[e]=e.charCodeAt(0);return t}(),pr=Object.fromEntries(Object.entries(fr).map(([t,e])=>[e,t.charAt(0).toUpperCase()+t.slice(1)]));function gr(t){let e;if("string"==typeof t){if(e=fr[t.toLowerCase()],!e)throw new w("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?fr.alt:0)+(t.ctrlKey?fr.ctrl:0)+(t.shiftKey?fr.shift:0)+(t.metaKey?fr.cmd:0);return e}function mr(t){return"string"==typeof t&&(t=function(t){return t.split("+").map(t=>t.trim())}(t)),t.map(t=>"string"==typeof t?function(t){if(t.endsWith("!"))return gr(t.slice(0,-1));const e=gr(t);return r&&e==fr.ctrl?fr.cmd:e}(t):t).reduce((t,e)=>e+t,0)}function br(t){let e=mr(t);return Object.entries(r?dr:hr).reduce((t,[n,r])=>(0!=(e&fr[n])&&(e&=~fr[n],t+=r),t),"")+(e?pr[e]:"")}function vr(t,e){const n="ltr"===e;switch(t){case fr.arrowleft:return n?"left":"right";case fr.arrowright:return n?"right":"left";case fr.arrowup:return"up";case fr.arrowdown:return"down"}}function yr(t){return Array.isArray(t)?t:[t]}Ln.window.CKEDITOR_TRANSLATIONS||(Ln.window.CKEDITOR_TRANSLATIONS={});const _r=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function wr(t){return _r.includes(t)?"rtl":"ltr"}class kr{constructor({uiLanguage:t="en",contentLanguage:e}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=wr(this.uiLanguage),this.contentLanguageDirection=wr(this.contentLanguage),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){return e=yr(e),"string"==typeof t&&(t={string:t}),function(t,e){return t.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}(function(t,e,n=1){if("number"!=typeof n)throw new w("translation-service-quantity-not-a-number",null,{quantity:n});const r=Object.keys(Ln.window.CKEDITOR_TRANSLATIONS).length;1===r&&(t=Object.keys(Ln.window.CKEDITOR_TRANSLATIONS)[0]);const i=e.id||e.string;if(0===r||!function(t,e){return!!Ln.window.CKEDITOR_TRANSLATIONS[t]&&!!Ln.window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}(t,i))return 1!==n?e.plural:e.string;const o=Ln.window.CKEDITOR_TRANSLATIONS[t].dictionary[i];return"string"==typeof o?o:o[Number((Ln.window.CKEDITOR_TRANSLATIONS[t].getPluralForm||(t=>1===t?0:1))(n))]}(this.uiLanguage,t,t.plural?e[0]:1),e)}}class Cr extends(R()){constructor(t={},e={}){super();const n=tt(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const r of t)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new w("collection-add-item-invalid-index",this);let n=0;for(const r of t){const t=this._getItemIdBeforeAdding(r),i=e+n;this._items.splice(i,0,r),this._itemMap.set(t,r),this.fire("add",r,i),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new w("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new w("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{this._setUpBindToBinding("function"==typeof t?t:e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,r,i)=>{const o=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(r);if(o&&s)this._bindToExternalToInternalMap.set(r,s),this._bindToInternalToExternalMap.set(s,r);else{const n=t(r);if(!n)return void this._skippedIndexesFromExternal.push(i);let o=i;for(const t of this._skippedIndexesFromExternal)i>t&&o--;for(const t of e._skippedIndexesFromExternal)o>=t&&o++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,o);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)o<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const r of e)n(0,r,e.getIndex(r));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const r=this._bindToExternalToInternalMap.get(e);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new w("collection-add-invalid-id",this);if(this.get(n))throw new w("collection-add-item-already-exists",this)}else t[e]=n=v();return n}_remove(t){let e,n,r,i=!1;const o=this._idProperty;if("string"==typeof t?(n=t,r=this._itemMap.get(n),i=!r,r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,r=this._items[e],i=!r,r&&(n=r[o])):(r=t,n=r[o],e=this._items.indexOf(r),i=-1==e||!this._itemMap.get(n)),i)throw new w("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,e),[r,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ar(t){const e=t.next();return e.done?null:e.value}class Er extends(On(H())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new w("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class xr{constructor(){this._listener=new(On())}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+gr(e),e)})}set(t,e,n={}){const r=mr(t);this._listener.listenTo(this._listener,"_keydown:"+r,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:n.priority})}press(t){return!!this._listener.fire("_keydown:"+gr(t),t)}destroy(){this._listener.stopListening()}}function Sr(t){return tt(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}function Ir(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function Tr(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}const Dr=function(){const t=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(t=>t.source).join("|")+")";return new RegExp(`${t}|${e}(?:\u200d${e})*`,"ug")}();function Rr(t,e){const n=String(t).matchAll(Dr);return Array.from(n).some(t=>t.index<e&&e<t.index+t[0].length)}class Or extends(H()){constructor(t){super(),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Nr,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Nr),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Nr(t){t.return=!1,t.stop()}class Pr extends(H()){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Mr,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Mr),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Mr(t){t.return=!1,t.stop()}class Lr extends Pr{constructor(t){super(t),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){_(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return t&&t.command}}class jr extends(R()){constructor(t,e=[],n=[]){super(),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(const r of e)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,i]of n)this._contextPlugins.set(r,i),this._contextPlugins.set(i,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new w("plugincollection-plugin-not-loaded",this._context,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const r=this,i=this._context;!function t(e,n=new Set){e.forEach(e=>{a(e)&&(n.has(e)||(n.add(e),e.pluginName&&!r._availablePlugins.has(e.pluginName)&&r._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n)))})}(t),d(t);const o=[...function t(e,n=new Set){return e.map(t=>a(t)?t:r._availablePlugins.get(t)).reduce((e,r)=>n.has(r)?e:(n.add(r),r.requires&&(d(r.requires,r),t(r.requires,n).forEach(t=>e.add(t))),e.add(r)),new Set)}(t.filter(t=>!l(t,e)))];!function(t,e){for(const n of e){if("function"!=typeof n)throw new w("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const e=n.pluginName;if(!e)throw new w("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new w("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:e});const i=r._availablePlugins.get(e);if(!i)throw new w("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:e});const o=t.indexOf(i);if(-1===o){if(r._contextPlugins.has(i))return;throw new w("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:e})}if(i.requires&&i.requires.length)throw new w("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:e});t.splice(o,1,n),r._availablePlugins.set(e,n)}}(o,n);const s=function(t){return t.map(t=>{let e=r._contextPlugins.get(t);return e=e||new t(i),r._add(t,e),e})}(o);return h(s,"init").then(()=>h(s,"afterInit")).then(()=>s);function a(t){return"function"==typeof t}function c(t){return a(t)&&t.isContextPlugin}function l(t,e){return e.some(e=>e===t||u(t)===e||u(e)===t)}function u(t){return a(t)?t.pluginName||t.name:t}function d(t,n=null){t.map(t=>a(t)?t:r._availablePlugins.get(t)||t).forEach(t=>{!function(t,e){if(!a(t)){if(e)throw new w("plugincollection-soft-required",i,{missingPlugin:t,requiredBy:u(e)});throw new w("plugincollection-plugin-not-found",i,{plugin:t})}}(t,n),function(t,e){if(c(e)&&!c(t))throw new w("plugincollection-context-required",i,{plugin:u(t),requiredBy:u(e)})}(t,n),function(t,n){if(n&&l(t,e))throw new w("plugincollection-required",i,{plugin:u(t),requiredBy:u(n)})}(t,n)})}function h(t,e){return t.reduce((t,n)=>n[e]?r._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t,Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new w("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}class Fr{constructor(t){this.config=new xn(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new jr(this,e);const n=this.config.get("language")||{};this.locale=new kr({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Cr,this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if("function"!=typeof n)throw new w("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new w("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new w("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}class Br extends(H()){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var zr=i(6062),Qr=i.n(zr),Vr=i(4717);Qr()(Vr.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ur=new WeakMap;function qr(t){const{view:e,element:n,text:r,isDirectHost:i=!0,keepOnFocus:o=!1}=t,s=e.document;Ur.has(s)||(Ur.set(s,new Map),s.registerPostFixer(t=>Hr(s,t)),s.on("change:isComposing",()=>{e.change(t=>Hr(s,t))},{priority:"high"})),Ur.get(s).set(n,{text:r,isDirectHost:i,keepOnFocus:o,hostElement:i?n:null}),e.change(t=>Hr(s,t))}function Hr(t,e){const n=Ur.get(t),r=[];let i=!1;for(const[o,s]of n)s.isDirectHost&&(r.push(o),Gr(e,o,s)&&(i=!0));for(const[o,s]of n){if(s.isDirectHost)continue;const t=Wr(o);t&&(r.includes(t)||(s.hostElement=t,Gr(e,o,s)&&(i=!0)))}return i}function Gr(t,e,n){const{text:r,isDirectHost:i,hostElement:o}=n;let s=!1;return o.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,o),s=!0),(i||1==e.childCount)&&function(t,e){if(!t.isAttached())return!1;if(Array.from(t.getChildren()).some(t=>!t.is("uiElement")))return!1;const n=t.document,r=n.selection.anchor;return!(n.isComposing&&r&&r.parent===t||!e&&n.isFocused&&(!r||r.parent===t))}(o,n.keepOnFocus)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,o)&&(s=!0):function(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}(t,o)&&(s=!0),s}function Wr(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Kr{is(){throw new Error("is() method is abstract")}}const $r=function(t){return Cn(t,4)};class Yr extends(R(Kr)){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new w("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),r=t.getAncestors(e);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),r=X(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=$r(this);return delete t.parent,t}}Yr.prototype.is=function(t){return"node"===t||"view:node"===t};class Zr extends Yr{constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Zr&&(this===t||this.data===t.data)}_clone(){return new Zr(this.document,this.data)}}Zr.prototype.is=function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t};class Jr extends Kr{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.data.length)throw new w("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new w("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}Jr.prototype.is=function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t};class Xr{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=ti(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const r=ti(n,t);r&&e.push({element:n,pattern:t,match:r})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function ti(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?!!e.match(t):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=new Set(e.getAttributeKeys());return wt(t)?(void 0!==t.style&&k("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&k("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),ei(t,n,t=>e.getAttribute(t))}(e.attributes,t),!n.attributes)||e.classes&&(n.classes=function(t,e){return ei(t,e.getClassNames(),()=>{})}(e.classes,t),!n.classes)||e.styles&&(n.styles=function(t,e){return ei(t,e.getStyleNames(!0),t=>e.getStyle(t))}(e.styles,t),!n.styles)?null:n}function ei(t,e,n){const r=function(t){return Array.isArray(t)?t.map(t=>wt(t)?(void 0!==t.key&&void 0!==t.value||k("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]):wt(t)?Object.entries(t):[[t,!0]]}(t),i=Array.from(e),o=[];if(r.forEach(([t,e])=>{i.forEach(r=>{(function(t,e){return!0===t||t===e||t instanceof RegExp&&e.match(t)})(t,r)&&function(t,e,n){if(!0===t)return!0;const r=n(e);return t===r||t instanceof RegExp&&!!String(r).match(t)}(e,r,n)&&o.push(r)})}),r.length&&!(o.length<r.length))return o}const ni=function(t){return"symbol"==typeof t||ft(t)&&"[object Symbol]"==dt(t)};var ri=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ii=/^\w*$/;function oi(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(oi.Cache||Ut),n}oi.Cache=Ut;const si=oi;var ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ci=/\\(\\)?/g;const li=function(t){var e=si((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ai,(function(t,n,r,i){e.push(r?i.replace(ci,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}();var ui=it?it.prototype:void 0,di=ui?ui.toString:void 0;const hi=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(ht(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,t)+"";if(ni(e))return di?di.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)},fi=function(t,e){return ht(t)?t:function(t,e){if(ht(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ni(t))||ii.test(t)||!ri.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:li(hi(t))},pi=function(t){if("string"==typeof t||ni(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},gi=function(t,e){for(var n=0,r=(e=fi(e,t)).length;null!=t&&n<r;)t=t[pi(e[n++])];return n&&n==r?t:void 0},mi=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o},bi=function(t,e,n){var r=null==t?void 0:gi(t,e);return void 0===r?n:r},vi=function(t,e,n){(void 0!==n&&!kt(t[e],n)||void 0===n&&!(e in t))&&Wt(t,e,n)},yi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},_i=function(t){return t},wi=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var ki=Math.max;const Ci=function(t){return function(){return t}};var Ai=Date.now;const Ei=function(t){var e=0,n=0;return function(){var r=Ai(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Gt?function(t,e){return Gt(t,"toString",{configurable:!0,enumerable:!1,value:Ci(e),writable:!0})}:_i),xi=function(t){return function(t,e){return Ei(function(t,e,n){return e=ki(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ki(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),wi(t,this,a)}}(t,void 0,_i),t+"")}((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&function(t,e,n){if(!F(n))return!1;var r=typeof e;return!!("number"==r?Ce(n)&&ae(e,n.length):"string"==r&&e in n)&&kt(n[e],t)}(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))},Si=xi((function(t,e,n){!function t(e,n,r,i,o){e!==n&&function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var a=o[++r];if(!1===e(i[a],a))break}}(n,(function(s,a){if(o||(o=new Ht),F(s))!function(t,e,n,r,i,o,s){var a=yi(t,n),c=yi(e,n),l=s.get(c);if(l)vi(t,n,l);else{var u=o?o(a,c,n+"",t,e,s):void 0,d=void 0===u;if(d){var h=ht(c),f=!h&&oe(c),p=!h&&!f&&me(c);u=c,h||f||p?ht(a)?u=a:function(t){return ft(t)&&Ce(t)}(a)?u=Oe(a):f?(d=!1,u=Re(c,!0)):p?(d=!1,u=dn(c,!0)):u=[]:wt(c)||ee(c)?(u=a,ee(a)?u=function(t){return Yt(t,xe(t))}(a):F(a)&&!St(a)||(u=pn(c))):d=!1}d&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),vi(t,n,u)}}(e,n,a,r,t,i,o);else{var c=i?i(yi(e,a),s,a+"",e,n,o):void 0;void 0===c&&(c=s),vi(e,a,c)}}),xe)}(t,e,n)}));class Ii{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(function(t){let e=null,n=0,r=0,i=null;const o=new Map;if(""===t)return o;";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(null===e)switch(a){case":":i||(i=t.substr(n,s-n),r=s+1);break;case'"':case"'":e=a;break;case";":{const e=t.substr(r,s-r);i&&o.set(i.trim(),e.trim()),i=null,n=s+1;break}}else a===e&&(e=null)}return o}(t).entries());for(const[n,r]of e)this._styleProcessor.toNormalizedForm(n,r,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(e)}set(t,e){if(F(t))for(const[n,r]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,r,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=Di(t);(function(t,e){null==t||function(t,e){null==(t=function(t,e){return e.length<2?t:gi(t,mi(e,0,-1))}(t,e=fi(e,t)))||delete t[pi(function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(e))]}(t,e)})(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!F(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),r=bi(this._styles,n);r&&!Array.from(Object.keys(r)).length&&this.remove(n)}}class Ti{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(F(e))Ri(n,Di(t),e);else if(this._normalizers.has(t)){const r=this._normalizers.get(t),{path:i,value:o}=r(e);Ri(n,i,o)}else Ri(n,t,e)}getNormalized(t,e){if(!t)return Si({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return bi(e,n);const r=n(t,e);if(r)return r}return bi(e,Di(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter(e=>{const n=this.getNormalized(e,t);return n&&"object"==typeof n?Object.keys(n).length:n}),n=new Set([...e,...Object.keys(t)]);return Array.from(n.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function Di(t){return t.replace("-",".")}function Ri(t,e,n){let r=n;F(n)&&(r=Si({},bi(t,e),n)),function(t,e,n){null==t||function(t,e,n,r){if(!F(t))return t;for(var i=-1,o=(e=fi(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var c=pi(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var u=a[c];void 0===(l=void 0)&&(l=F(u)?u:ae(e[i+1])?[]:{})}$t(a,c,l),a=a[c]}}(t,e,n)}(t,e,r)}class Oi extends Yr{constructor(t,e,n,r){if(super(t),this.name=e,this._attrs=function(t){const e=Sr(t);for(const[n,r]of e)null===r?e.delete(n):"string"!=typeof r&&e.set(n,String(r));return e}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");Ni(this._classes,t),this._attrs.delete("class")}this._styles=new Ii(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Oi))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new Xr(...t);let n=this.parent;for(;n&&!n.is("documentFragment");){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":" "+n)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const r of this.getChildren())e.push(r._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const r=function(t,e){return"string"==typeof e?[new Zr(t,e)]:(tt(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Zr(t,e):e instanceof Jr?new Zr(t,e.data):e))}(this.document,e);for(const i of r)null!==i.parent&&i._remove(),i.parent=this,i.document=this.document,this._children.splice(t,0,i),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?Ni(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of yr(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of yr(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),wt(t)?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of yr(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Ni(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}Oi.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Pi extends Oi{constructor(...t){super(...t),this.getFillerOffset=Mi}}function Mi(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}Pi.prototype.is=function(t,e){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Li extends(H(Pi)){constructor(...t){super(...t);const e=t[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",t=>t&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Li.prototype.is=function(t,e){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};const ji=Symbol("rootName");class Fi extends Li{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(ji)}set rootName(t){this._setCustomProperty(ji,t)}set _name(t){this.name=t}}Fi.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Bi{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new w("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new w("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,this.position=zi._createAt(t.startPosition?t.startPosition:t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,r;do{r=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(n instanceof Zr){if(t.isAtEnd)return this.position=zi._createAfter(n),this._next();r=n.data[t.offset]}else r=n.getChild(t.offset);if(r instanceof Oi)return this.shallow?t.offset++:t=new zi(r,0),this.position=t,this._formatReturnValue("elementStart",r,e,t,1);if(r instanceof Zr){if(this.singleCharacters)return t=new zi(r,0),this.position=t,this._next();{let n,i=r.data.length;return r==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new Jr(r,0,i),t=zi._createAfter(n)):(n=new Jr(r,0,r.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof r){let r;r=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const i=new Jr(n,t.offset,r);return t.offset+=r,this.position=t,this._formatReturnValue("text",i,e,t,r)}return t=zi._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(n instanceof Zr){if(t.isAtStart)return this.position=zi._createBefore(n),this._previous();r=n.data[t.offset-1]}else r=n.getChild(t.offset-1);if(r instanceof Oi)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",r,e,t,1)):(t=new zi(r,r.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,e,t));if(r instanceof Zr){if(this.singleCharacters)return t=new zi(r,r.data.length),this.position=t,this._previous();{let n,i=r.data.length;if(r==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new Jr(r,e,r.data.length-e),i=n.data.length,t=zi._createBefore(n)}else n=new Jr(r,0,r.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof r){let r;r=this.singleCharacters?1:t.offset-(n===this._boundaryStartParent?this.boundaries.start.offset:0),t.offset-=r;const i=new Jr(n,t.offset,r);return this.position=t,this._formatReturnValue("text",i,e,t,r)}return t=zi._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,r,i){return e instanceof Jr&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=zi._createAfter(e.textNode):(r=zi._createAfter(e.textNode),this.position=r)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=zi._createBefore(e.textNode):(r=zi._createBefore(e.textNode),this.position=r))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}}class zi extends Kr{constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Li);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=zi._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Bi(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let r=0;for(;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const r=X(e,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return e[r]<n[r]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Bi(t)}clone(){return new zi(this.parent,this.offset)}static _createAt(t,e){if(t instanceof zi)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new w("view-createpositionat-offset-required",n)}return new zi(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new zi(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new w("view-position-after-root",t,{root:t});return new zi(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new zi(t.textNode,t.offsetInText);if(!t.parent)throw new w("view-position-before-root",t,{root:t});return new zi(t.parent,t.index)}}zi.prototype.is=function(t){return"position"===t||"view:position"===t};class Qi extends Kr{constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Bi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Vi,{direction:"backward"}),e=this.end.getLastMatchingPosition(Vi);return t.parent.is("$text")&&t.isAtStart&&(t=zi._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=zi._createAfter(e.parent)),new Qi(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Vi);if(t.isAfter(this.end)||t.isEqual(this.end))return new Qi(t,t);let e=this.end.getLastMatchingPosition(Vi,{direction:"backward"});const n=t.nodeAfter,r=e.nodeBefore;return n&&n.is("$text")&&(t=new zi(n,0)),r&&r.is("$text")&&(e=new zi(r,r.data.length)),new Qi(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Qi(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Qi(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Qi(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Bi(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new Qi(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Bi(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Bi(t);yield e.position;for(const n of e)yield n.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,r){return new this(new zi(t,e),new zi(n,r))}static _createFromPositionAndShift(t,e){const n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(zi._createBefore(t),e)}}function Vi(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}Qi.prototype.is=function(t){return"range"===t||"view:range"===t};class Ui extends(R(Kr)){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const r of t._ranges)if(e.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=J(this.getRanges());if(e!=J(t.getRanges()))return!1;if(0==e)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let e=!1;for(let r of t.getRanges())if(r=r.getTrimmed(),n.start.isEqual(r.start)&&n.end.isEqual(r.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,n,r]=t;if("object"==typeof n&&(r=n,n=void 0),null===e)this._setRanges([]),this._setFakeOptions(r);else if(e instanceof Ui||e instanceof qi)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Qi)this._setRanges([e],r&&r.backward),this._setFakeOptions(r);else if(e instanceof zi)this._setRanges([new Qi(e)]),this._setFakeOptions(r);else if(e instanceof Yr){const t=!!r&&!!r.backward;let i;if(void 0===n)throw new w("view-selection-setto-required-second-parameter",this);i="in"==n?Qi._createIn(e):"on"==n?Qi._createOn(e):new Qi(zi._createAt(e,n)),this._setRanges([i],t),this._setFakeOptions(r)}else{if(!tt(e))throw new w("view-selection-setto-not-selectable",this);this._setRanges(e,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new w("view-selection-setfocus-no-ranges",this);const n=zi._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new Qi(n,r),!0):this._addRange(new Qi(r,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Qi))throw new w("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new w("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new Qi(t.start,t.end))}}Ui.prototype.is=function(t){return"selection"===t||"view:selection"===t};class qi extends(R(Kr)){constructor(...t){super(),this._selection=new Ui,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}qi.prototype.is=function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t};class Hi extends m{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Gi=Symbol("bubbling contexts");function Wi(t){return class extends t{fire(t,...e){try{const n=t instanceof m?t:new m(this,t),r=Zi(this);if(!r.size)return;if(Ki(n,"capturing",this),$i(r,"$capture",n,...e))return n.return;const i=n.startRange||this.selection.getFirstRange(),o=i?i.getContainedElement():null,s=!!o&&Boolean(Yi(r,o));let a=o||function(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,r=e.getPath(),i=n.getPath();return r.length>i.length?e:n}(i);if(Ki(n,"atTarget",a),!s){if($i(r,"$text",n,...e))return n.return;Ki(n,"bubbling",a)}for(;a;){if(a.is("rootElement")){if($i(r,"$root",n,...e))return n.return}else if(a.is("element")&&$i(r,a.name,n,...e))return n.return;if($i(r,a,n,...e))return n.return;a=a.parent,Ki(n,"bubbling",a)}return Ki(n,"bubbling",this),$i(r,"$document",n,...e),n.return}catch(t){w.rethrowUnexpectedError(t,this)}}_addEventListener(t,e,n){const r=yr(n.context||"$document"),i=Zi(this);for(const o of r){let r=i.get(o);r||(r=new(R()),i.set(o,r)),this.listenTo(r,t,e,n)}}_removeEventListener(t,e){const n=Zi(this);for(const r of n.values())this.stopListening(r,t,e)}}}{const t=Wi(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Wi[e]=t.prototype[e]})}function Ki(t,e,n){t instanceof Hi&&(t._eventPhase=e,t._currentTarget=n)}function $i(t,e,n,...r){const i="string"==typeof e?t.get(e):Yi(t,e);return!!i&&(i.fire(n,...r),n.stop.called)}function Yi(t,e){for(const[n,r]of t)if("function"==typeof n&&n(e))return r;return null}function Zi(t){return t[Gi]||(t[Gi]=new Map),t[Gi]}class Ji extends(Wi(H())){constructor(t){super(),this.selection=new qi,this.roots=new Cr({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("_isFocusChanging",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}class Xi extends Oi{constructor(...t){super(...t),this.getFillerOffset=to,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new w("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function to(){if(eo(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(eo(t)>1)return null;t=t.parent}return!t||eo(t)>1?null:this.childCount}function eo(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}Xi.DEFAULT_PRIORITY=10,Xi.prototype.is=function(t,e){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class no extends Oi{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=ro}_insertChild(t,e){if(e&&(e instanceof Yr||Array.from(e).length>0))throw new w("view-emptyelement-cannot-add",[this,e]);return 0}}function ro(){return null}no.prototype.is=function(t,e){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class io extends Oi{constructor(...t){super(...t),this.getFillerOffset=oo}_insertChild(t,e){if(e&&(e instanceof Yr||Array.from(e).length>0))throw new w("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function oo(){return null}io.prototype.is=function(t,e){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class so extends Oi{constructor(...t){super(...t),this.getFillerOffset=ao}_insertChild(t,e){if(e&&(e instanceof Yr||Array.from(e).length>0))throw new w("view-rawelement-cannot-add",[this,e]);return 0}render(){}}function ao(){return null}so.prototype.is=function(t,e){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class co extends(R(Kr)){constructor(t,e){super(),this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const r=function(t,e){return"string"==typeof e?[new Zr(t,e)]:(tt(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Zr(t,e):e instanceof Jr?new Zr(t,e.data):e))}(this.document,e);for(const i of r)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(t,0,i),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}co.prototype.is=function(t){return"documentFragment"===t||"view:documentFragment"===t};class lo{constructor(t){this.document=t,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(...t){this.document.selection._setFocus(...t)}createDocumentFragment(t){return new co(this.document,t)}createText(t){return new Zr(this.document,t)}createAttributeElement(t,e,n={}){const r=new Xi(this.document,t,e);return"number"==typeof n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createContainerElement(t,e,n={},r={}){let i=null;wt(n)?r=n:i=n;const o=new Pi(this.document,t,e,i);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(t,e,n={}){const r=new Li(this.document,t,e);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createEmptyElement(t,e,n={}){const r=new no(this.document,t,e);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createUIElement(t,e,n){const r=new io(this.document,t,e);return n&&(r.render=n),r}createRawElement(t,e,n,r={}){const i=new so(this.document,t,e);return n&&(i.render=n),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){wt(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof zi?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new w("view-writer-break-non-container-element",this.document);if(!e.parent)throw new w("view-writer-break-root",this.document);if(t.isAtStart)return zi._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(zi._createAfter(e),n);const r=new Qi(t,zi._createAt(e,"end")),i=new zi(n,0);this.move(r,i)}return zi._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new zi(t,e))}const r=n.getChild(e-1),i=n.getChild(e);if(!r||!i)return t;if(r.is("$text")&&i.is("$text"))return go(r,i);if(r.is("attributeElement")&&i.is("attributeElement")&&r.isSimilar(i)){const t=r.childCount;return r._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new zi(r,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new w("view-writer-merge-containers-invalid-position",this.document);const r=e.getChild(e.childCount-1),i=zi._createAt(r instanceof Zr?r:e,"end");return this.move(Qi._createIn(n),zi._createAt(e,"end")),this.remove(Qi._createOn(n)),i}insert(t,e){!function t(e,n){for(const r of e){if(!mo.some(t=>r instanceof t))throw new w("view-writer-insert-invalid-node-type",n);r.is("$text")||t(r.getChildren(),n)}}(e=tt(e)?[...e]:[e],this.document);const n=e.reduce((t,e)=>{const n=t[t.length-1],r=!e.is("uiElement");return n&&n.breakAttributes==r?n.nodes.push(e):t.push({breakAttributes:r,nodes:[e]}),t},[]);let r=null,i=t;for(const{nodes:o,breakAttributes:s}of n){const t=this._insertNodes(i,o,s);r||(r=t.start),i=t.end}return r?new Qi(r,i):new Qi(t)}remove(t){const e=t instanceof Qi?t:Qi._createOn(t);if(vo(e,this.document),e.isCollapsed)return new co(this.document);const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent._removeChildren(n.offset,r.offset-n.offset);for(const s of i)this._removeFromClonedElementsGroup(s);const o=this.mergeAttributes(n);return e.start=o,e.end=o.clone(),new co(this.document,i)}clear(t,e){vo(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const n=r.item;let i;if(n.is("element")&&e.isSimilar(n))i=Qi._createOn(n);else if(!r.nextPosition.isAfter(t.start)&&n.is("$textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(i=Qi._createIn(t))}i&&(i.end.isAfter(t.end)&&(i.end=t.end),i.start.isBefore(t.start)&&(i.start=t.start),this.remove(i))}}move(t,e){let n;if(e.isAfter(t.end)){const r=(e=this._breakAttributes(e,!0)).parent,i=r.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=r.childCount-i}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof Xi))throw new w("view-writer-wrap-invalid-attribute",this.document);if(vo(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!Array.from(n.parent.getChildren()).some(t=>!t.is("uiElement"))&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Qi(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof Xi))throw new w("view-writer-unwrap-invalid-attribute",this.document);if(vo(t,this.document),t.isCollapsed)return t;const{start:n,end:r}=this._breakAttributesRange(t,!0),i=this._unwrapChildren(n.parent,n.offset,r.offset,e),o=this.mergeAttributes(i.start);o.isEqual(i.start)||i.end.offset--;const s=this.mergeAttributes(i.end);return new Qi(o,s)}rename(t,e){const n=new Pi(this.document,t,e.getAttributes());return this.insert(zi._createAfter(e),n),this.move(Qi._createIn(e),zi._createAt(n,0)),this.remove(Qi._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return zi._createAt(t,e)}createPositionAfter(t){return zi._createAfter(t)}createPositionBefore(t){return zi._createBefore(t)}createRange(...t){return new Qi(...t)}createRangeOn(t){return Qi._createOn(t)}createRangeIn(t){return Qi._createIn(t)}createSelection(...t){return new Ui(...t)}createSlot(t){if(!this._slotFactory)throw new w("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let r,i;if(r=n?uo(t):t.parent.is("$text")?t.parent.parent:t.parent,!r)throw new w("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(t,!0):t.parent.is("$text")?po(t):t;const o=r._insertChild(i.offset,e);for(const l of e)this._addToClonedElementsGroup(l);const s=i.getShiftedBy(o),a=this.mergeAttributes(i);a.isEqual(i)||s.offset--;const c=this.mergeAttributes(s);return new Qi(a,c)}_wrapChildren(t,e,n,r){let i=e;const o=[];for(;i<n;){const e=t.getChild(i),n=e.is("$text"),s=e.is("attributeElement");if(s&&this._wrapAttributeElement(r,e))o.push(new zi(t,i));else if(n||!s||ho(r,e)){const n=r._clone();e._remove(),n._appendChild(e),t._insertChild(i,n),this._addToClonedElementsGroup(n),o.push(new zi(t,i))}else this._wrapChildren(e,0,e.childCount,r);i++}let s=0;for(const a of o)a.offset-=s,a.offset!=e&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Qi._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,r){let i=e;const o=[];for(;i<n;){const e=t.getChild(i);if(e.is("attributeElement"))if(e.isSimilar(r)){const r=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(i,r),this._removeFromClonedElementsGroup(e),o.push(new zi(t,i),new zi(t,i+s)),i+=s,n+=s-1}else this._unwrapAttributeElement(r,e)?(o.push(new zi(t,i),new zi(t,i+1)),i++):(this._unwrapChildren(e,0,e.childCount,r),i++);else i++}let s=0;for(const a of o)a.offset-=s,a.offset!=e&&a.offset!=n&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Qi._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:r}=this._breakAttributesRange(t,!0),i=this._wrapChildren(n.parent,n.offset,r.offset,e),o=this.mergeAttributes(i.start);o.isEqual(i.start)||i.end.offset--;const s=this.mergeAttributes(i.end);return new Qi(o,s)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return fo(t.clone());t.parent.is("$text")&&(t=po(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const r=new Qi(t,t.getShiftedBy(1));this.wrap(r,e);const i=new zi(n.parent,n.index);n._remove();const o=i.nodeBefore,s=i.nodeAfter;return o instanceof Zr&&s instanceof Zr?go(o,s):fo(i)}_wrapAttributeElement(t,e){if(!yo(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!yo(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,r=t.end;if(vo(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new Qi(n,n)}const i=this._breakAttributes(r,e),o=i.parent.childCount,s=this._breakAttributes(n,e);return i.offset+=i.parent.childCount-o,new Qi(s,i)}_breakAttributes(t,e=!1){const n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new w("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new w("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new w("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&bo(r.parent))return t.clone();if(bo(r))return t.clone();if(r.is("$text"))return this._breakAttributes(po(t),e);if(n==r.childCount){const t=new zi(r.parent,r.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new zi(r.parent,r.index);return this._breakAttributes(t,e)}{const t=r.index+1,i=r._clone();r.parent._insertChild(t,i),this._addToClonedElementsGroup(i);const o=r._removeChildren(n,r.childCount-n);i._appendChild(o);const s=new zi(r.parent,t);return this._breakAttributes(s,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const r of t.getChildren())this._addToClonedElementsGroup(r);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const r of t.getChildren())this._removeFromClonedElementsGroup(r);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function uo(t){let e=t.parent;for(;!bo(e);){if(!e)return;e=e.parent}return e}function ho(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function fo(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new zi(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new zi(n,0):t}function po(t){if(t.offset==t.parent.data.length)return new zi(t.parent.parent,t.parent.index+1);if(0===t.offset)return new zi(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new Zr(t.root.document,e)),new zi(t.parent.parent,t.parent.index+1)}function go(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new zi(t,n)}const mo=[Zr,Xi,Pi,no,so,io];function bo(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function vo(t,e){const n=uo(t.start),r=uo(t.end);if(!n||!r||n!==r)throw new w("view-writer-invalid-range-container",e)}function yo(t,e){return null===t.id&&null===e.id}const _o=t=>t.createTextNode("\xa0"),wo=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xa0",e},ko=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e},Co="\u2060".repeat(7);function Ao(t){return Fn(t)&&t.data.substr(0,7)===Co}function Eo(t){return 7==t.data.length&&Ao(t)}function xo(t){return Ao(t)?t.data.slice(7):t.data}function So(t,e){if(e.keyCode==fr.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;Ao(e)&&n<=7&&t.collapse(e,0)}}}var Io=i(9315);Qr()(Io.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class To extends(H()){constructor(t,e){super(),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.set("isFocused",!1),this.set("_isFocusChanging",!1),this.set("isSelecting",!1),l&&!c&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new w("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){if(this.isComposing&&!c)return;let t=null;const e=!(l&&!c&&this.isSelecting);for(const n of this.markedChildren)this._updateChildrenMappings(n);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=zi._createBefore(t.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:t});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:t});if(e)if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;this._inlineFiller=Ao(e.parent)?e.parent:Do(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){if(!this.domConverter.mapViewToDom(t))return;const e=Array.from(this.domConverter.mapViewToDom(t).childNodes),n=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),r=this._diffNodeLists(e,n),i=this._findReplaceActions(r,e,n);if(-1!==i.indexOf("replace")){const r={equal:0,insert:0,delete:0};for(const o of i)if("replace"===o){const i=r.equal+r.insert,o=r.equal+r.delete,s=t.getChild(i);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,e[o]),er(n[i]),r.equal++}else r[o]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?zi._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Fn(e.parent)&&Ao(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Ao(t))throw new w("view-renderer-filler-was-lost",this);Eo(t)?t.remove():t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;const r=t.nodeBefore,i=t.nodeAfter;return!(r instanceof Zr||i instanceof Zr||c&&(r||i))}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t);let r=this.domConverter.viewToDom(t).data;const i=e.inlineFillerPosition;i&&i.parent==t.parent&&i.offset==t.index&&(r=Co+r),Po(n,r)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),r=t.getAttributeKeys();for(const i of r)this.domConverter.setDomElementAttribute(e,i,t.getAttribute(i),t);for(const i of n)t.hasAttribute(i)||this.domConverter.removeDomElementAttribute(e,i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;if(c){let t=null;for(const e of Array.from(n.childNodes)){if(t&&Fn(t)&&Fn(e)){n.normalize();break}t=e}}const r=e.inlineFillerPosition,i=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));r&&r.parent===t&&Do(n.ownerDocument,o,r.offset);const s=this._diffNodeLists(i,o),a=c?this._findReplaceActions(s,i,o,{replaceText:!0}):s;let l=0;const u=new Set;for(const c of a)"delete"===c?(u.add(i[l]),er(i[l])):"equal"!==c&&"replace"!==c||l++;l=0;for(const c of a)"insert"===c?($n(n,l,o[l]),l++):"replace"===c?(Po(i[l],o[l].data),l++):"equal"===c&&(this._markDescendantTextToSync(this.domConverter.domToView(o[l])),l++);for(const c of u)c.parentNode||this.domConverter.unbindDomElement(c)}_diffNodeLists(t,e){return p(t=function(t,e){const n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),e,No.bind(null,this.domConverter))}_findReplaceActions(t,e,n,r={}){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],o=[],s=[];const a={equal:0,insert:0,delete:0};for(const c of t)"insert"===c?s.push(n[a.equal+a.insert]):"delete"===c?o.push(e[a.equal+a.delete]):(i=i.concat(p(o,s,r.replaceText?Oo:Ro).map(t=>"equal"===t?"replace":t)),i.push("equal"),o=[],s=[]),a[c]++;return i.concat(p(o,s,r.replaceText?Oo:Ro).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(l&&!c&&this.isSelecting&&!this.markedChildren.size)return;if(this._isFocusChanging)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&c||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="\xa0",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const r=e.getSelection(),i=e.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(r.parent,r.offset),s&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const r=n.childNodes[t.offset];r&&"BR"==r.tagName&&e.addRange(e.getRangeAt(0))}(r,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const n=t.activeElement,r=this.domConverter.mapDomToView(n);n&&r&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Do(t,e,n){const r=e instanceof Array?e:e.childNodes,i=r[n];if(Fn(i))return i.data=Co+i.data,i;{const i=t.createTextNode(Co);return Array.isArray(e)?r.splice(n,0,i):$n(e,n,i),i}}function Ro(t,e){return Tn(t)&&Tn(e)&&!Fn(t)&&!Fn(e)&&!Yn(t)&&!Yn(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Oo(t,e){return Tn(t)&&Tn(e)&&Fn(t)&&Fn(e)}function No(t,e,n){return e===n||(Fn(e)&&Fn(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}function Po(t,e){const n=t.data;if(n==e)return;const r=d(n,e);for(const i of r)"insert"===i.type?t.insertData(i.index,i.values.join("")):t.deleteData(i.index,i.howMany)}const Mo=ko(Ln.document),Lo=_o(Ln.document),jo=wo(Ln.document),Fo="data-ck-unsafe-attribute-",Bo="data-ck-unsafe-element";class zo{constructor(t,e={}){this.document=t,this.renderingMode=e.renderingMode||"editing",this.blockFillerMode=e.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Ln.document:Ln.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Xr,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Ui(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.children))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return"data"===this.renderingMode||!(t=t.toLowerCase()).startsWith("on")&&("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===t||"srcset"===t)||"source"===n&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if("data"===this.renderingMode)return void(t.innerHTML=e);const n=(new DOMParser).parseFromString(e,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);const o=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=o.nextNode();)s.push(a);for(const c of s){for(const e of c.getAttributeNames())this.setDomElementAttribute(c,e,c.getAttribute(e));const t=c.tagName.toLowerCase();this._shouldRenameElement(t)&&(Uo(t),c.replaceWith(this._createReplacementDomElement(t,c)))}for(;t.firstChild;)t.firstChild.remove();t.append(r)}viewToDom(t,e={}){if(t.is("$text")){const e=this._processDataFromViewText(t);return this._domDocument.createTextNode(e)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let n;if(t.is("documentFragment"))n=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return n="$comment"===t.name?this._domDocument.createComment(t.getCustomProperty("$rawContent")):t.render(this._domDocument,this),e.bind&&this.bindElements(n,t),n;this._shouldRenameElement(t.name)?(Uo(t.name),n=this._createReplacementDomElement(t.name)):n=t.hasAttribute("xmlns")?this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(n,this),e.bind&&this.bindElements(n,t);for(const e of t.getAttributeKeys())this.setDomElementAttribute(n,e,t.getAttribute(e),t)}if(!1!==e.withChildren)for(const r of this.viewChildrenToDom(t,e))n.appendChild(r);return n}}setDomElementAttribute(t,e,n,r){const i=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(e);i||k("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),t.hasAttribute(e)&&!i?t.removeAttribute(e):t.hasAttribute(Fo+e)&&i&&t.removeAttribute(Fo+e),t.setAttribute(i?e:Fo+e,n)}removeDomElementAttribute(t,e){e!=Bo&&(t.removeAttribute(e),t.removeAttribute(Fo+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let r=0;for(const i of t.getChildren()){n===r&&(yield this._getBlockFiller());const t=i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering");t&&"data"==this.renderingMode?yield*this.viewChildrenToDom(i,e):(t&&k("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:i}),yield this.viewToDom(i,e)),r++}n===r&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),r=this._domDocument.createRange();return r.setStart(e.parent,e.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let r=t.offset;return Ao(n)&&(r+=7),{parent:n,offset:r}}{let n,r,i;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;i=n.childNodes[0]}else{const e=t.nodeBefore;if(r=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(e),!r)return null;n=r.parentNode,i=r.nextSibling}return Fn(i)&&Ao(i)?{parent:i,offset:7}:{parent:n,offset:r?Kn(r)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(Yn(t)&&e.skipComments)return null;if(Fn(t)){if(Eo(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new Zr(this.document,e)}}{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new co(this.document),e.bind&&this.bindDocumentFragments(t,n);else{n=this._createViewElement(t,e),e.bind&&this.bindElements(t,n);const r=t.attributes;if(r)for(let t=r.length,e=0;e<t;e++)n._setAttribute(r[e].name,r[e].value);if(this._isViewElementWithRawContent(n,e)||Yn(t)){const e=Yn(t)?t.data:t.innerHTML;return n._setCustomProperty("$rawContent",e),this._encounteredRawContentDomNodes.add(t),n}}if(!1!==e.withChildren)for(const r of this.domChildrenToView(t,e))n._appendChild(r);return n}}*domChildrenToView(t,e){for(let n=0;n<t.childNodes.length;n++){const r=this.domToView(t.childNodes[n],e);null!==r&&(yield r)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Fn(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let r=0;r<t.rangeCount;r++){const e=t.getRangeAt(r),i=this.domRangeToView(e);i&&n.push(i)}return new Ui(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Qi(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Kn(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return zi._createBefore(n);if(Fn(t)){if(Eo(t))return this.domPositionToView(t.parentNode,Kn(t));const n=this.findCorrespondingViewText(t);let r=e;return n?(Ao(t)&&(r-=7,r=r<0?0:r),new zi(n,r)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new zi(e,0)}else{const n=t.childNodes[e-1];if(Fn(n)&&Eo(n))return this.domPositionToView(n.parentNode,Kn(n));const r=Fn(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new zi(r.parent,r.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Eo(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){const e=t.nextSibling;return e instanceof Zr?e:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof Zr?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=Ln.window,r=[];Qo(e,t=>{const{scrollLeft:e,scrollTop:n}=t;r.push([e,n])}),e.focus(),Qo(e,t=>{const[e,n]=r.shift();t.scrollLeft=e,t.scrollTop=n}),Ln.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(Mo):!("BR"!==t.tagName||!Vo(t,this.blockElements)||1!==t.parentNode.childNodes.length)||t.isEqualNode(jo)||function(t,e){return t.isEqualNode(Lo)&&Vo(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch(t){return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=jn(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return _o(this._domDocument);case"markedNbsp":return wo(this._domDocument);case"br":return ko(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Fn(t)&&Ao(t)&&e<7)return!1;if(this.isElement(t)&&Ao(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e="\xa0"+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingInlineViewNode(t,!0),r=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=e.charAt(e.length-2)&&n&&!r||(e=e.substr(0,e.length-1)+"\xa0")}return e.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(function(t,e){return jn(t).some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}(t,this.preElements))return xo(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),r=this._getTouchingInlineDomNode(t,!0),i=this._checkShouldLeftTrimDomText(t,n),o=this._checkShouldRightTrimDomText(t,r);i&&(e=e.replace(/^ /,"")),o&&(e=e.replace(/ $/,"")),e=xo(new Text(e)),e=e.replace(/ \u00A0/g,"  ");const s=r&&this.isElement(r)&&"BR"!=r.tagName,a=r&&Fn(r)&&" "==r.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!r||s||a)&&(e=e.replace(/\u00A0$/," ")),(i||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!Ao(t)}_getTouchingInlineViewNode(t,e){const n=new Bi({startPosition:e?zi._createAfter(t):zi._createBefore(t),direction:e?"forward":"backward"});for(const r of n){if(r.item.is("element")&&this.inlineObjectElements.includes(r.item.name))return r.item;if(r.item.is("containerElement"))return null;if(r.item.is("element","br"))return null;if(r.item.is("$textProxy"))return r.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"firstChild":"lastChild",r=e?"nextSibling":"previousSibling";let i=!0,o=t;do{if(!i&&o[n]?o=o[n]:o[r]?(o=o[r],i=!1):(o=o.parentNode,i=!0),!o||this._isBlockElement(o))return null}while(!Fn(o)&&"BR"!=o.tagName&&!this._isInlineObjectElement(o));return o}_isBlockElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isInlineObjectElement(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}_createViewElement(t,e){if(Yn(t))return new io(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Oi(this.document,n)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(Bo,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const t of e.getAttributeNames())n.setAttribute(t,e.getAttribute(t))}return n}}function Qo(t,e){let n=t;for(;n;)e(n),n=n.parentElement}function Vo(t,e){const n=t.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function Uo(t){"script"===t&&k("domconverter-unsafe-script-element-detected"),"style"===t&&k("domconverter-unsafe-style-element-detected")}class qo extends(On()){constructor(t){super(),this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Ho=xi((function(t,e){Yt(e,xe(e),t)}));class Go{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Ho(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Wo extends qo{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Go(this.view,e,n))}}class Ko extends Wo{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return gr(this)}})}}const $o=function(){return rt.Date.now()};var Yo=/\s/,Zo=/^\s+/,Jo=/^[-+]0x[0-9a-f]+$/i,Xo=/^0b[01]+$/i,ts=/^0o[0-7]+$/i,es=parseInt;const ns=function(t){if("number"==typeof t)return t;if(ni(t))return NaN;if(F(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=F(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Yo.test(t.charAt(e)););return e}(t)+1).replace(Zo,""):t}(t);var n=Xo.test(t);return n||ts.test(t)?es(t.slice(2),n?2:8):Jo.test(t)?NaN:+t};var rs=Math.max,is=Math.min;const os=function(t,e,n){var r,i,o,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function p(t){return l=t,a=setTimeout(m,e),u?f(t):s}function g(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=o}function m(){var t=$o();if(g(t))return b(t);a=setTimeout(m,function(t){var n=e-(t-c);return d?is(n,o-(t-l)):n}(t))}function b(t){return a=void 0,h&&r?f(t):(r=i=void 0,s)}function v(){var t=$o(),n=g(t);if(r=arguments,i=this,c=t,n){if(void 0===a)return p(c);if(d)return clearTimeout(a),a=setTimeout(m,e),f(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=ns(e)||0,F(n)&&(u=!!n.leading,o=(d="maxWait"in n)?rs(ns(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=i=a=void 0},v.flush=function(){return void 0===a?s:b($o())},v};class ss extends qo{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=os(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const t=this.document;t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new Ui(e.getRanges(),{backward:e.isBackward,fake:!1});t!=fr.arrowleft&&t!=fr.arrowup||n.setTo(n.getFirstPosition()),t!=fr.arrowright&&t!=fr.arrowdown||n.setTo(n.getLastPosition());const r={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}function as(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ut;++e<n;)this.add(t[e])}as.prototype.add=as.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},as.prototype.has=function(t){return this.__data__.has(t)};const cs=as,ls=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},us=function(t,e){return t.has(e)},ds=function(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var d=-1,h=!0,f=2&n?new cs:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(r)var m=s?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!ls(e,(function(t,e){if(!us(f,e)&&(p===t||i(p,t,n,r,o)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},hs=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},fs=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var ps=it?it.prototype:void 0,gs=ps?ps.valueOf:void 0,ms=Object.prototype.hasOwnProperty,bs="[object Arguments]",vs="[object Array]",ys="[object Object]",_s=Object.prototype.hasOwnProperty;const ws=function t(e,n,r,i,o){return e===n||(null==e||null==n||!ft(e)&&!ft(n)?e!=e&&n!=n:function(t,e,n,r,i,o){var s=ht(t),a=ht(e),c=s?vs:rn(t),l=a?vs:rn(e),u=(c=c==bs?ys:c)==ys,d=(l=l==bs?ys:l)==ys,h=c==l;if(h&&oe(t)){if(!oe(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Ht),s||me(t)?ds(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new sn(t),new sn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return kt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=hs;case"[object Set]":if(a||(a=fs),t.size!=e.size&&!(1&r))return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=ds(a(t),a(e),r,i,o,s);return s.delete(t),l;case"[object Symbol]":if(gs)return gs.call(t)==gs.call(e)}return!1}(t,e,c,n,r,i,o);if(!(1&n)){var f=u&&_s.call(t,"__wrapped__"),p=d&&_s.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return o||(o=new Ht),i(g,m,n,r,o)}}return!!h&&(o||(o=new Ht),function(t,e,n,r,i,o){var s=1&n,a=ze(t),c=a.length;if(c!=ze(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:ms.call(e,u)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<c;){var g=t[u=a[l]],m=e[u];if(r)var b=s?r(m,g,u,e,t,o):r(g,m,u,t,e,o);if(!(void 0===b?g===m||i(g,m,n,r,o):b)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}(e,n,r,i,t,o))},ks=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?ws(t,e,void 0,n):!!r};class Cs extends qo{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Set,r=new Set;for(const o of t){const t=e.mapDomToView(o.target);t&&(t.is("uiElement")||t.is("rawElement")||"childList"!==o.type||this._isBogusBrMutation(o)||r.add(t))}for(const o of t){const t=e.mapDomToView(o.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===o.type){const t=e.findCorrespondingViewText(o.target);t&&!r.has(t.parent)?n.add(t):!t&&Ao(o.target)&&r.add(e.mapDomToView(o.target.parentNode))}}let i=!1;for(const o of n)i=!0,this.renderer.markToSync("text",o);for(const o of r){const t=e.mapViewToDom(o),n=Array.from(o.getChildren()),r=Array.from(e.domChildrenToView(t,{withChildren:!1}));ks(n,r,As)||(i=!0,this.renderer.markToSync("children",o))}i&&this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function As(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}class Es extends qo{constructor(t){super(t),this.mutationObserver=t.getObserver(Cs),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=os(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=os(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",(t,n)=>{this.document.isComposing&&!c||(this._handleSelectionChange(n,e),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(n);if(0!=r.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(r))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:r,domSelection:n};this.document._isFocusChanging=!1,this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class xs extends Wo{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,e._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{e._isFocusChanging=!1,t.change(()=>{})},50)}),e.on("blur",(n,r)=>{const i=e.selection.editableElement;null!==i&&i!==r.target||(e.isFocused=!1,t.change(()=>{}))})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Ss extends Wo{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0},{priority:"low"}),e.on("compositionend",()=>{e.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class Is{constructor(t){this.files=function(t){const e=Array.from(t.files||[]),n=Array.from(t.items||[]);return e.length?e:n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class Ts extends Wo{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){const e=t.getTargetRanges(),n=this.view,r=n.document;let i=null,o=null,s=[];if(t.dataTransfer&&(i=new Is(t.dataTransfer)),null!==t.data?o=t.data:i&&(o=i.getData("text/plain")),r.selection.isFake)s=Array.from(r.selection.getRanges());else if(e.length)s=e.map(t=>n.domConverter.domRangeToView(t));else if(c){const e=t.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(e).getRanges())}if(c&&"insertCompositionText"==t.inputType&&o&&o.endsWith("\n"))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});else if("insertText"==t.inputType&&o&&o.includes("\n")){const e=o.split(/\n{1,2}/g);let n=s;for(let o=0;o<e.length;o++){const s=e[o];""!=s&&(this.fire(t.type,t,{data:s,dataTransfer:i,targetRanges:n,inputType:t.inputType,isComposing:t.isComposing}),n=[r.selection.getFirstRange()]),o+1<e.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:n}),n=[r.selection.getFirstRange()])}}else this.fire(t.type,t,{data:o,dataTransfer:i,targetRanges:s,inputType:t.inputType,isComposing:t.isComposing})}}class Ds extends qo{constructor(t){super(t),this.document.on("keydown",(t,e)=>{if(this.isEnabled&&((n=e.keyCode)==fr.arrowright||n==fr.arrowleft||n==fr.arrowup||n==fr.arrowdown)){const n=new Hi(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,e),n.stop.called&&t.stop()}var n})}observe(){}}class Rs extends qo{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(!this.isEnabled||n.keyCode!=fr.tab||n.ctrlKey)return;const r=new Hi(e,"tab",e.selection.getFirstRange());e.fire(r,n),r.stop.called&&t.stop()})}observe(){}}class Os extends(H()){constructor(t){super(),this.document=new Ji(t),this.domConverter=new zo(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new To(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing","_isFocusChanging").to(this.document,"isFocused","isSelecting","isComposing","_isFocusChanging"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new lo(this.document),this.addObserver(Cs),this.addObserver(Es),this.addObserver(xs),this.addObserver(Ko),this.addObserver(ss),this.addObserver(Ss),this.addObserver(Ds),this.addObserver(Ts),this.addObserver(Rs),this.document.on("arrowKey",So,{priority:"low"}),function(t){t.document.on("arrowKey",(e,n)=>function(t,e,n){if(e.keyCode==fr.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),r=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(r||e.shiftKey){const e=n.domPositionToView(t.focusNode,t.focusOffset);if(null===e)return;let i=!1;const o=e.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(i=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(i){const e=n.viewPositionToDom(o);r?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const r={};for(const{name:o,value:s}of Array.from(t.attributes))r[o]=s,"class"===o?this._writer.addClass(s.split(" "),n):this._writer.setAttribute(o,s,n);this._initialDomRootAttributes.set(t,r);const i=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(i)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const r in n)e.setAttribute(r,n[r]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,r]of this.domRoots)e.observe(r,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&function({target:t,viewportOffset:e=0}){const n=cr(t);let r=n,i=null;for(;r;){let o;o=lr(r==n?t:i),rr(o,()=>ur(t,r));const s=ur(t,r);if(nr(r,s,e),r.parent!=r){if(i=r.frameElement,r=r.parent,!i)return}else r=null}}({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new w("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){w.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.document._isFocusChanging=!1,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return zi._createAt(t,e)}createPositionAfter(t){return zi._createAfter(t)}createPositionBefore(t){return zi._createBefore(t)}createRange(...t){return new Qi(...t)}createRangeOn(t){return Qi._createOn(t)}createRangeIn(t){return Qi._createIn(t)}createSelection(...t){return new Ui(...t)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Ns{is(){throw new Error("is() method is abstract")}}class Ps extends Ns{constructor(t){super(),this.parent=null,this._attrs=Sr(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new w("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new w("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),r=t.getAncestors(e);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),r=X(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}_clone(t){return new Ps(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Sr(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}Ps.prototype.is=function(t){return"node"===t||"model:node"===t};class Ms{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new w("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new w("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof Ps))throw new w("model-nodelist-insertnodes-not-node",this);this._nodes=function(t,e,n,r){if(Math.max(e.length,t.length)>1e4)return t.slice(0,n).concat(e).concat(t.slice(n+0,t.length));{const r=Array.from(t);return r.splice(n,0,...e),r}}(this._nodes,Array.from(e),t)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Ls extends Ps{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Ls(this.data,this.getAttributes())}static fromJSON(t){return new Ls(t.data,t.attributes)}}Ls.prototype.is=function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t};class js extends Ns{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new w("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new w("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}js.prototype.is=function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t};class Fs extends Ps{constructor(t,e,n){super(e),this.name=t,this._children=new Ms,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):void 0;return new Fs(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new Ls(t)]:(tt(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Ls(t):t instanceof js?new Ls(t.data,t.getAttributes()):t))}(e);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const r of n)r.parent=null;return n}static fromJSON(t){let e;if(t.children){e=[];for(const n of t.children)e.push(n.name?Fs.fromJSON(n):Ls.fromJSON(n))}return new Fs(t.name,t.attributes,e)}}Fs.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t};class Bs{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new w("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new w("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,this.position=t.startPosition?t.startPosition.clone():Qs._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,r,i;do{r=this.position,i=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=r,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=Vs(e,n),i=r||Us(e,n,r);if(i instanceof Fs)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,zs("elementStart",i,t,e,1);if(i instanceof Ls){let r;if(this.singleCharacters)r=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),r=t-e.offset}const o=new js(i,e.offset-i.startOffset,r);return e.offset+=r,this.position=e,zs("text",o,t,e,r)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():zs("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=e.parent,i=Vs(e,r),o=i||qs(e,r,i);if(o instanceof Fs)return e.offset--,this.shallow?(this.position=e,zs("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this.position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():zs("elementEnd",o,t,e));if(o instanceof Ls){let r;if(this.singleCharacters)r=1;else{let t=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),r=e.offset-t}const i=new js(o,e.offset-o.startOffset-r,r);return e.offset-=r,this.position=e,zs("text",i,t,e,r)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,zs("elementStart",n,t,e,1)}}function zs(t,e,n,r,i){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:i}}}class Qs extends Ns{constructor(t,e,n="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new w("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new w("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new w("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new w("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Vs(this,this.parent)}get nodeAfter(){const t=this.parent;return Us(this,t,Vs(this,t))}get nodeBefore(){const t=this.parent;return qs(this,t,Vs(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=X(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Bs(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=X(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let r=0;for(;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let n=0;n<e;n++){const e=this.path[n]-t.path[n];if(e<-1||e>1)return!1;if(1===e)return Hs(t,this,n);if(-1===e)return Hs(this,t,n)}return this.path.length===t.path.length||Gs(this.path.length>t.path.length?this.path:t.path,e)}hasSameParentAs(t){return this.root===t.root&&"same"==X(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Qs._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Qs._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=Qs._createAt(this);if(this.root!=t.root)return n;if("same"==X(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==X(t.getParentPath(),this.getParentPath())){const r=t.path.length-1;if(t.offset<=this.path[r]){if(t.offset+e>this.path[r])return null;n.path[r]-=e}}return n}_getTransformedByInsertion(t,e){const n=Qs._createAt(this);if(this.root!=t.root)return n;if("same"==X(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==X(t.getParentPath(),this.getParentPath())){const r=t.path.length-1;t.offset<=this.path[r]&&(n.path[r]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Qs._createAt(this);const r=this._getTransformedByDeletion(t,n);return null===r||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):r._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,r=Qs._createAt(e);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-t.offset,r.path=[...r.path,...this.path.slice(n+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof Qs)return new Qs(t.root,t.path,t.stickiness);{const r=t;if("end"==e)e=r.maxOffset;else{if("before"==e)return this._createBefore(r,n);if("after"==e)return this._createAfter(r,n);if(0!==e&&!e)throw new w("model-createpositionat-offset-required",[this,t])}if(!r.is("element")&&!r.is("documentFragment"))throw new w("model-position-parent-incorrect",[this,t]);const i=r.getPath();return i.push(e),new this(r.root,i,n)}}static _createAfter(t,e){if(!t.parent)throw new w("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new w("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new Qs(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new w("model-position-fromjson-no-root",e,{rootName:t.root});return new Qs(e.getRoot(t.root),t.path,t.stickiness)}}function Vs(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function Us(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function qs(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}function Hs(t,e,n){return n+1!==t.path.length&&!!Gs(e.path,n+1)&&!!function(t,e){let n=t.parent,r=t.path.length-1,i=0;for(;r>=e;){if(t.path[r]+i!==n.maxOffset)return!1;i=1,r--,n=n.parent}return!0}(t,n+1)}function Gs(t,e){for(;e<t.length;){if(0!==t[e])return!1;e++}return!0}Qs.prototype.is=function(t){return"position"===t||"model:position"===t};class Ws extends Ns{constructor(t,e){super(),this.start=Qs._createAt(t),this.end=Qs._createAt(e||t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Bs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==X(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}containsItem(t){const e=Qs._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Ws(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Ws(t.end,this.end))):e.push(new Ws(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Ws(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let r=this.start,i=this.end;return t.start.isBefore(r)&&(r=t.start),t.end.isAfter(i)&&(i=t.end),new Ws(r,i)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=Qs._createAt(this.start);let r=n.parent;for(;n.path.length>e+1;){const e=r.maxOffset-n.offset;0!==e&&t.push(new Ws(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],r=e-n.offset;0!==r&&t.push(new Ws(n,n.getShiftedBy(r))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Bs(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Bs(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Bs(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Ws(this.start,this.end)]}getTransformedByOperations(t){const e=[new Ws(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const r=e[t].getTransformedByOperation(n);e.splice(t,1,...r),t+=r.length-1}for(let n=0;n<e.length;n++){const t=e[n];for(let r=n+1;r<e.length;r++){const n=e[r];(t.containsRange(n)||n.containsRange(t)||t.isEqual(n))&&e.splice(r,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Ws(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Ws(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Qs._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new Ws(e,n)):new Ws(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new Ws(this.start,t),new Ws(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new Ws(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,r=!1){if(this.isCollapsed){const r=this.start._getTransformedByMove(t,e,n);return[new Ws(r)]}const i=Ws._createFromPositionAndShift(t,n),o=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!r&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const r=this.start._getTransformedByMove(t,e,n),i=this.end._getTransformedByMove(t,e,n);return[new Ws(r,i)]}let s;const a=this.getDifference(i);let c=null;const l=this.getIntersection(i);if(1==a.length?c=new Ws(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new Ws(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(o,n,null!==l||r):[],l){const t=new Ws(l.start._getCombined(i.start,o),l.end._getCombined(i.start,o));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),r=this.end._getTransformedByDeletion(t,e);return null==n&&null==r?null:(null==n&&(n=t),null==r&&(r=t),new Ws(n,r))}static _createFromPositionAndShift(t,e){const n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}static _createIn(t){return new this(Qs._createAt(t,0),Qs._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(Qs._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new w("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),r=new this(e.start,e.end);if(n>0)for(let i=n-1;t[i].end.isEqual(r.start);i++)r.start=Qs._createAt(t[i].start);for(let i=n+1;i<t.length&&t[i].start.isEqual(r.end);i++)r.end=Qs._createAt(t[i].end);return r}static fromJSON(t,e){return new this(Qs.fromJSON(t.start,e),Qs.fromJSON(t.end,e))}}Ws.prototype.is=function(t){return"range"===t||"model:range"===t};class Ks extends(R()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new w("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),r=this._viewToModelMapping.get(n),i=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Qs._createAt(r,i)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const r of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(r);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const r=this._elementToMarkerNames.get(t)||new Set;r.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,r)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const r=this._elementToMarkerNames.get(t);r&&(r.delete(e),0==r.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Ws(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Qi(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const r of e)if(r.is("attributeElement"))for(const t of r.getElementsWithSameId())n.add(t);else n.add(r);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let r=0;for(let i=0;i<e;i++)r+=this.getModelLength(t.getChild(i));return r}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,r=0,i=0,o=0;if(t.is("$text"))return new zi(t,e);for(;i<e;)n=t.getChild(o),r=this.getModelLength(n),i+=r,o++;return i==e?this._moveViewPositionToTextNode(new zi(t,o)):this.findPositionIn(n,e-(i-r))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof Zr?new zi(e,e.data.length):n instanceof Zr?new zi(n,0):t}}class $s{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=Ys(e),t instanceof js&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Ys(e),t instanceof js&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=Ys(e),t instanceof js&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const r=n.get(e);return void 0===r?null:r}revert(t,e){e=Ys(e),t instanceof js&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}verifyAllConsumed(t){const e=[];for(const[n,r]of this._consumable)for(const[i,o]of r){const r=i.split(":")[0];o&&t==r&&e.push({event:i,item:n.name||n.description})}if(e.length)throw new w("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const r=n.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,r=t.parent,i=Symbol("$textProxy:"+t.data);let o,s;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(r,i),i}}function Ys(t){const e=t.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}class Zs extends(R()){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const r=this._createConversionApi(n,t.getRefreshedItems());for(const o of t.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,r);const i=this._reduceChanges(t.getChanges());for(const o of i)"insert"===o.type?this._convertInsert(Ws._createFromPositionAndShift(o.position,o.length),r):"reinsert"===o.type?this._convertReinsert(Ws._createFromPositionAndShift(o.position,o.length),r):"remove"===o.type?this._convertRemove(o.position,o.length,o.name,r):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,r);for(const o of r.mapper.flushUnboundMarkerNames()){const t=e.get(o).getRange();this._convertMarkerRemove(o,t,r),this._convertMarkerAdd(o,t,r)}for(const o of t.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,r);r.mapper.flushDeferredBindings(),r.consumable.verifyAllConsumed("insert")}convert(t,e,n,r={}){const i=this._createConversionApi(n,void 0,r);this._convertInsert(t,i);for(const[o,s]of e)this._convertMarkerAdd(o,s,i);i.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const r=Array.from(e.getMarkersAtPosition(t.getFirstPosition())),i=this._createConversionApi(n);if(this._addConsumablesForSelection(i.consumable,t,r),this.fire("selection",{selection:t},i),t.isCollapsed){for(const e of r){const n=e.getRange();if(!Js(t.getFirstPosition(),e,i.mapper))continue;const r={item:t,markerName:e.name,markerRange:n};i.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,r,i)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};i.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire(`attribute:${n.attributeKey}:$text`,n,i)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,Array.from(t));for(const r of Array.from(t.getWalker({shallow:!0})).map(Xs))this._testAndFire("insert",r,e)}_convertRemove(t,e,n,r){this.fire("remove:"+n,{position:t,length:e},r)}_convertAttribute(t,e,n,r,i){this._addConsumablesForRange(i.consumable,t,"attribute:"+e);for(const o of t){const t={item:o.item,range:Ws._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:"+e,t,i)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const r of n.map(Xs))this._testAndFire("insert",{...r,reconversion:!0},e)}_convertMarkerAdd(t,e,n){if("$graveyard"==e.root.rootName)return;const r="addMarker:"+t;if(n.consumable.add(e,r),this.fire(r,{markerName:t,markerRange:e},n),n.consumable.consume(e,r)){this._addConsumablesForRange(n.consumable,e,r);for(const i of e.getItems()){if(!n.consumable.test(i,r))continue;const o={item:i,range:Ws._createOn(i),markerName:t,markerRange:e};this.fire(r,o,n)}}}_convertMarkerRemove(t,e,n){"$graveyard"!=e.root.rootName&&this.fire("removeMarker:"+t,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const e=n.item;if(null===t.test(e,"insert")){t.add(e,"insert");for(const n of e.getAttributeKeys())t.add(e,"attribute:"+n)}}return t}_addConsumablesForRange(t,e,n){for(const r of e.getItems())t.add(r,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const r of n)t.add(e,"addMarker:"+r.name);for(const r of e.getAttributeKeys())t.add(e,"attribute:"+r);return t}_testAndFire(t,e,n){const r=function(t,e){return`${t}:${e.item.is("element")?e.item.name:"$text"}`}(t,e),i=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,o=this._firedEventsMap.get(n),s=o.get(i);if(s){if(s.has(r))return;s.add(r)}else o.set(i,new Set([r]));this.fire(r,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:Ws._createOn(t)};for(const r of n.item.getAttributeKeys())n.attributeKey=r,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(r),this._testAndFire("attribute:"+r,n,e)}_createConversionApi(t,e=new Set,n={}){const r={...this._conversionApi,consumable:new $s,writer:t,options:n,convertItem:t=>this._convertInsert(Ws._createOn(t),r),convertChildren:t=>this._convertInsert(Ws._createIn(t),r,{doNotAddConsumables:!0}),convertAttributes:t=>this._testAndFireAddAttributes(t,r),canReuseView:t=>!e.has(r.mapper.toModelElement(t))};return this._firedEventsMap.set(r,new Map),r}}function Js(t,e,n){const r=e.getRange(),i=Array.from(t.getAncestors());return i.shift(),i.reverse(),!i.some(t=>{if(r.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")})}function Xs(t){return{item:t.item,range:Ws._createFromPositionAndShift(t.previousPosition,t.length)}}class ta extends(R(Ns)){constructor(...t){super(),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const r of t._ranges)if(e.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Ws(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new Ws(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new Ws(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,n,r]=t;if("object"==typeof n&&(r=n,n=void 0),null===e)this._setRanges([]);else if(e instanceof ta)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Ws)this._setRanges([e],!!r&&!!r.backward);else if(e instanceof Qs)this._setRanges([new Ws(e)]);else if(e instanceof Ps){const t=!!r&&!!r.backward;let i;if("in"==n)i=Ws._createIn(e);else if("on"==n)i=Ws._createOn(e);else{if(void 0===n)throw new w("model-selection-setto-required-second-parameter",[this,e]);i=new Ws(Qs._createAt(e,n))}this._setRanges([i],t)}else{if(!tt(e))throw new w("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,r&&!!r.backward)}}_setRanges(t,e=!1){const n=Array.from(t),r=n.some(e=>{if(!(e instanceof Ws))throw new w("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(t=>!t.isEqual(e))});(n.length!==this._ranges.length||r)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(null===this.anchor)throw new w("model-selection-setfocus-no-ranges",[this,t]);const n=Qs._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new Ws(n,r)),this._lastRangeBackward=!0):(this._pushRange(new Ws(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=ra(e.start,t);n&&ia(n,e)&&(yield n);for(const i of e.getWalker()){const n=i.item;"elementEnd"==i.type&&na(n,t,e)&&(yield n)}const r=ra(e.end,t);r&&!e.end.isTouching(Qs._createAt(r,0))&&ia(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=Qs._createAt(t,0),n=Qs._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Ws(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new w("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function ea(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function na(t,e,n){return ea(t,e)&&ia(t,n)}function ra(t,e){const n=t.parent.root.document.model.schema,r=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const o=r.find(t=>!i&&(i=n.isLimit(t),!i&&ea(t,e)));return r.forEach(t=>e.add(t)),o}function ia(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(Ws._createOn(n),!0)}ta.prototype.is=function(t){return"selection"===t||"model:selection"===t};class oa extends(R(Ws)){constructor(t,e){super(t,e),sa.call(this)}detach(){this.stopListening()}toRange(){return new Ws(this.start,this.end)}static fromRange(t){return new oa(t.start,t.end)}}function sa(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&aa.call(this,n)},{priority:"low"})}function aa(t){const e=this.getTransformedByOperation(t),n=Ws._createFromRanges(e),r=!n.isEqual(this),i=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}oa.prototype.is=function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t};const ca="selection:";class la extends(R(Ns)){constructor(t){super(),this._selection=new ua(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return ca+t}static _isStoreAttributeKey(t){return t.startsWith(ca)}}la.prototype.is=function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t};class ua extends ta{constructor(t){super(),this.markers=new Cr({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,e,n,r)=>{this._updateMarker(e,r)}),this.listenTo(this._document,"change",(t,e)=>{!function(t,e){const n=t.document.differ;for(const r of n.getChanges()){if("insert"!=r.type)continue;const n=r.position.parent;r.length===n.maxOffset&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith(ca));for(const r of e)t.removeAttribute(r,n)})}}(this._model,e)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){this._setAttribute(t,e)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}removeAttribute(t){this._removeAttribute(t)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}overrideGravity(){const t=v();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new w("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new w("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=oa.fromRange(t);return e.on("change:range",(t,n,r)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}}),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const r of this._model.markers){const e=r.name.split(":",1)[0];if(!this._observedMarkers.has(e))continue;const n=r.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&t.push(r)}const n=Array.from(this.markers);for(const r of t)this.markers.has(r)||(this.markers.add(r),e=!0);for(const r of Array.from(this.markers))t.includes(r)||(this.markers.remove(r),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let r=!1;const i=Array.from(this.markers),o=this.markers.has(t);if(e){let n=!1;for(const t of this.getRanges())if(e.containsRange(t,!t.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(t),r=!0):!n&&o&&(this.markers.remove(t),r=!0)}else o&&(this.markers.remove(t),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateAttributes(t){const e=Sr(this._getSurroundingAttributes()),n=Sr(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[i,o]of this._attributePriority)"low"==o&&(this._attrs.delete(i),this._attributePriority.delete(i));this._setAttributesTo(e);const r=[];for(const[i,o]of this.getAttributes())n.has(i)&&n.get(i)===o||r.push(i);for(const[i]of n)this.hasAttribute(i)||r.push(i);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(t,e,n=!0){const r=n?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(t))&&super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,r),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[n,r]of this.getAttributes())t.get(n)!==r&&this._removeAttribute(n,!1);for(const[n,r]of t)this._setAttribute(n,r,!1)&&e.add(n);return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(ca)){const n=e.substr(ca.length);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const r=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=da(r)),n||(n=da(i)),!this.isGravityOverridden&&!n){let t=r;for(;t&&!e.isInline(t)&&!n;)t=t.previousSibling,n=da(t)}if(!n){let t=i;for(;t&&!e.isInline(t)&&!n;)t=t.nextSibling,n=da(t)}n||(n=this.getStoredAttributes())}else{const t=this.getFirstRange();for(const r of t){if(r.item.is("element")&&e.isObject(r.item))break;if("text"==r.type){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function da(t){return t instanceof js||t instanceof Ls?t.getAttributes():null}class ha{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}const fa=function(t){return Cn(t,5)};class pa extends ha{elementToElement(t){return this.add(function(t){const e=ba(t.model),n=va(t.view,"container");return e.attributes.length&&(e.children=!0),r=>{r.on("insert:"+e.name,function(t,e=xa){return(n,r,i)=>{if(!e(r.item,i.consumable,{preflight:!0}))return;const o=t(r.item,i,r);if(!o)return;e(r.item,i.consumable);const s=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(s,o),i.convertAttributes(r.item),Aa(o,r.item.getChildren(),i,{reconversion:r.reconversion})}}(n,Ca(e)),{priority:t.converterPriority||"normal"}),(e.children||e.attributes.length)&&r.on("reduceChanges",ka(e),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(t){const e=ba(t.model),n=va(t.view,"container");return e.children=!0,r=>{if(r._conversionApi.schema.checkChild(e.name,"$text"))throw new w("conversion-element-to-structure-disallowed-text",r,{elementName:e.name});var i,o;r.on("insert:"+e.name,(i=n,o=Ca(e),(t,e,n)=>{if(!o(e.item,n.consumable,{preflight:!0}))return;const r=new Map;n.writer._registerSlotFactory(function(t,e,n){return(r,i="children")=>{const o=r.createContainerElement("$slot");let s=null;if("children"===i)s=Array.from(t.getChildren());else{if("function"!=typeof i)throw new w("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:i});s=Array.from(t.getChildren()).filter(t=>i(t))}return e.set(o,s),o}}(e.item,r,n));const s=i(e.item,n,e);if(n.writer._clearSlotFactory(),!s)return;!function(t,e,n){const r=Array.from(e.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new w("conversion-slot-filter-overlap",n.dispatcher,{element:t});if(i.size!=t.childCount)throw new w("conversion-slot-filter-incomplete",n.dispatcher,{element:t})}(e.item,r,n),o(e.item,n.consumable);const a=n.mapper.toViewPosition(e.range.start);n.mapper.bindElements(e.item,s),n.writer.insert(a,s),n.convertAttributes(e.item),function(t,e,n,r){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let i=null,o=null;for([i,o]of e)Aa(t,o,n,r),n.writer.move(n.writer.createRangeIn(i),n.writer.createPositionBefore(i)),n.writer.remove(i);function s(t,e){const n=o.indexOf(e.modelPosition.nodeAfter);n<0||(e.viewPosition=e.mapper.findPositionIn(i,n))}n.mapper.off("modelToViewPosition",s)}(s,r,n,{reconversion:e.reconversion})}),{priority:t.converterPriority||"normal"}),r.on("reduceChanges",ka(e),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(t){let e=(t=fa(t)).model;"string"==typeof e&&(e={key:e});let n="attribute:"+e.key;if(e.name&&(n+=":"+e.name),e.values)for(const i of e.values)t.view[i]=va(t.view[i],"attribute");else t.view=va(t.view,"attribute");const r=ya(t);return e=>{e.on(n,function(t){return(e,n,r)=>{if(!r.consumable.test(n.item,e.name))return;const i=t(n.attributeOldValue,r,n),o=t(n.attributeNewValue,r,n);if(!i&&!o)return;r.consumable.consume(n.item,e.name);const s=r.writer;if(n.item instanceof ta||n.item instanceof la)s.wrap(s.document.selection.getFirstRange(),o);else{let t=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(t=s.unwrap(t,i)),null!==n.attributeNewValue&&o&&s.wrap(t,o)}}}(r),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=(t=fa(t)).model;"string"==typeof e&&(e={key:e});let n="attribute:"+e.key;if(e.name&&(n+=":"+e.name),e.values)for(const i of e.values)t.view[i]=_a(t.view[i]);else t.view=_a(t.view);const r=ya(t);return e=>{var i;e.on(n,(i=r,(t,e,n)=>{if(!n.consumable.test(e.item,t.name))return;const r=i(e.attributeOldValue,n,e),o=i(e.attributeNewValue,n,e);if(!r&&!o)return;n.consumable.consume(e.item,t.name);const s=n.mapper.toViewElement(e.item),a=n.writer;if(!s)throw new w("conversion-attribute-to-attribute-on-text",n.dispatcher,e);if(null!==e.attributeOldValue&&r)if("class"==r.key){const t=yr(r.value);for(const e of t)a.removeClass(e,s)}else if("style"==r.key){const t=Object.keys(r.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(r.key,s);if(null!==e.attributeNewValue&&o)if("class"==o.key){const t=yr(o.value);for(const e of t)a.addClass(e,s)}else if("style"==o.key){const t=Object.keys(o.value);for(const e of t)a.setStyle(e,o.value[e],s)}else a.setAttribute(o.key,o.value,s)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){const e=va(t.view,"ui");return n=>{var r;n.on("addMarker:"+t.model,(r=e,(t,e,n)=>{e.isOpening=!0;const i=r(e,n);e.isOpening=!1;const o=r(e,n);if(!i||!o)return;const s=e.markerRange;if(s.isCollapsed&&!n.consumable.consume(s,t.name))return;for(const r of s)if(!n.consumable.consume(r.item,t.name))return;const a=n.mapper,c=n.writer;c.insert(a.toViewPosition(s.start),i),n.mapper.bindElementToMarker(i,e.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),o),n.mapper.bindElementToMarker(o,e.markerName)),t.stop()}),{priority:t.converterPriority||"normal"}),n.on("removeMarker:"+t.model,(t,e,n)=>{const r=n.mapper.markerNameToElements(e.markerName);if(r){for(const t of r)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}},{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,r)=>{if(!e.item)return;if(!(e.item instanceof ta||e.item instanceof la||e.item.is("$textProxy")))return;const i=wa(n,e,r);if(!i)return;if(!r.consumable.consume(e.item,t.name))return;const o=r.writer,s=ga(o,i);if(e.item instanceof ta||e.item instanceof la)o.wrap(o.document.selection.getFirstRange(),s);else{const t=r.mapper.toViewRange(e.range),n=o.wrap(t,s);for(const i of n.getItems())if(i.is("attributeElement")&&i.isSimilar(s)){r.mapper.bindElementToMarker(i,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,r)=>{if(!n.item)return;if(!(n.item instanceof Fs))return;const i=wa(t,n,r);if(!i)return;if(!r.consumable.test(n.item,e.name))return;const o=r.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);for(const t of Ws._createIn(n.item))r.consumable.consume(t.item,e.name);o.getCustomProperty("addHighlight")(o,i,r.writer),r.mapper.bindElementToMarker(o,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,r)=>{if(n.markerRange.isCollapsed)return;const i=wa(t,n,r);if(!i)return;const o=ga(r.writer,i),s=r.mapper.markerNameToElements(n.markerName);if(s){for(const t of s)r.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(t),o):t.getCustomProperty("removeHighlight")(t,i.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){const e=(t=fa(t)).model;let n=t.view;return n||(n=n=>({group:e,name:n.substr(t.model.length+1)})),r=>{var i;r.on("addMarker:"+e,(i=n,(t,e,n)=>{const r=i(e.markerName,n);if(!r)return;const o=e.markerRange;n.consumable.consume(o,t.name)&&(ma(o,!1,n,e,r),ma(o,!0,n,e,r),t.stop())}),{priority:t.converterPriority||"normal"}),r.on("removeMarker:"+e,function(t){return(e,n,r)=>{const i=t(n.markerName,r);if(!i)return;const o=r.mapper.markerNameToElements(n.markerName);if(o){for(const t of o)r.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("containerElement")?(s(`data-${i.group}-start-before`,t),s(`data-${i.group}-start-after`,t),s(`data-${i.group}-end-before`,t),s(`data-${i.group}-end-after`,t)):r.writer.clear(r.writer.createRangeOn(t),t);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}function s(t,e){if(e.hasAttribute(t)){const n=new Set(e.getAttribute(t).split(","));n.delete(i.name),0==n.size?r.writer.removeAttribute(t,e):r.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(n),{priority:t.converterPriority||"normal"})}}(t))}}function ga(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function ma(t,e,n,r,i){const o=e?t.start:t.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let t,o;e&&s||!e&&!a?(t=s,o=!0):(t=a,o=!1);const c=n.mapper.toViewElement(t);if(c)return void function(t,e,n,r,i,o){const s=`data-${o.group}-${e?"start":"end"}-${n?"before":"after"}`,a=t.hasAttribute(s)?t.getAttribute(s).split(","):[];a.unshift(o.name),r.writer.setAttribute(s,a.join(","),t),r.mapper.bindElementToMarker(t,i.markerName)}(c,e,o,n,r,i)}!function(t,e,n,r,i){const o=n.writer.createUIElement(`${i.group}-${e?"start":"end"}`,i.name?{name:i.name}:null);n.writer.insert(t,o),n.mapper.bindElementToMarker(o,r.markerName)}(n.mapper.toViewPosition(o),e,n,r,i)}function ba(t){return"string"==typeof t&&(t={name:t}),t.attributes?Array.isArray(t.attributes)||(t.attributes=[t.attributes]):t.attributes=[],t.children=!!t.children,t}function va(t,e){return"function"==typeof t?t:(n,r)=>function(t,e,n){let r;"string"==typeof t&&(t={name:t});const i=e.writer,o=Object.assign({},t.attributes);if(r="container"==n?i.createContainerElement(t.name,o):"attribute"==n?i.createAttributeElement(t.name,o,{priority:t.priority||Xi.DEFAULT_PRIORITY}):i.createUIElement(t.name,o),t.styles){const e=Object.keys(t.styles);for(const n of e)i.setStyle(n,t.styles[n],r)}if(t.classes){const e=t.classes;if("string"==typeof e)i.addClass(e,r);else for(const t of e)i.addClass(t,r)}return r}(t,r,e)}function ya(t){return t.model.values?(e,n,r)=>{const i=t.view[e];return i?i(e,n,r):null}:t.view}function _a(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function wa(t,e,n){const r="function"==typeof t?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function ka(t){const e=function(t){return(e,n)=>{if(!e.is("element",t.name))return!1;if("attribute"==n.type){if(t.attributes.includes(n.attributeKey))return!0}else if(t.children)return!0;return!1}}(t);return(t,n)=>{const r=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const i of n.changes){const t="attribute"==i.type?i.range.start.nodeAfter:i.position.parent;if(t&&e(t,i)){if(!n.reconvertedElements.has(t)){n.reconvertedElements.add(t);const e=Qs._createBefore(t);r.push({type:"remove",name:t.name,position:e,length:1},{type:"reinsert",name:t.name,position:e,length:1})}}else r.push(i)}n.changes=r}}function Ca(t){return(e,n,r={})=>{const i=["insert"];for(const o of t.attributes)e.hasAttribute(o)&&i.push("attribute:"+o);return!!i.every(t=>n.test(e,t))&&(r.preflight||i.forEach(t=>n.consume(e,t)),!0)}}function Aa(t,e,n,r){for(const i of e)Ea(t.root,i,n,r)||n.convertItem(i)}function Ea(t,e,n,r){const{writer:i,mapper:o}=n;if(!r.reconversion)return!1;const s=o.toViewElement(e);return!(!s||s.root==t||!n.canReuseView(s)||(i.move(i.createRangeOn(s),o.toViewPosition(Qs._createBefore(e))),0))}function xa(t,e,{preflight:n}={}){return n?e.test(t,"insert"):e.consume(t,"insert")}function Sa(t){const{schema:e,document:n}=t.model;for(const r of n.getRootNames()){const i=n.getRoot(r);if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}return!1}function Ia(t,e,n){const r=n.createContext(t);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),e)}function Ta(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}class Da extends ha{elementToElement(t){return this.add(Ra(t))}elementToAttribute(t){return this.add(function(t){Pa(t=fa(t));const e=Ma(t,!1),n=Oa(t.view),r=n?"element:"+n:"element";return n=>{n.on(r,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=fa(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;return n="class"==e||"style"==e?{["class"==e?"classes":"styles"]:t.view.value}:{attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}},t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),Pa(t,e);const n=Ma(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){const e=function(t){return(e,n)=>{const r="string"==typeof t?t:t(e,n);return n.writer.createElement("$marker",{"data-name":r})}}(t.model);return Ra({...t,model:e})}(t))}dataToMarker(t){return this.add(function(t){(t=fa(t)).model||(t.model=e=>e?t.view+":"+e:t.view);const e={view:t.view,model:t.model},n=Na(La(e,"start")),r=Na(La(e,"end"));return i=>{i.on(`element:${t.view}-start`,n,{priority:t.converterPriority||"normal"}),i.on(`element:${t.view}-end`,r,{priority:t.converterPriority||"normal"});const o=y.get("low"),s=y.get("highest"),a=y.get(t.converterPriority)/s;i.on("element",function(t){return(e,n,r)=>{const i="data-"+t.view;function o(e,i){for(const o of i){const i=t.model(o,r),s=r.writer.createElement("$marker",{"data-name":i});r.writer.insert(s,e),n.modelCursor=n.modelCursor.isEqual(e)?n.modelCursor.getShiftedBy(1):n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}(r.consumable.test(n.viewItem,{attributes:i+"-end-after"})||r.consumable.test(n.viewItem,{attributes:i+"-start-after"})||r.consumable.test(n.viewItem,{attributes:i+"-end-before"})||r.consumable.test(n.viewItem,{attributes:i+"-start-before"}))&&(n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(",")))}}(e),{priority:o+a})}}(t))}}function Ra(t){const e=Na(t=fa(t)),n=Oa(t.view),r=n?"element:"+n:"element";return n=>{n.on(r,e,{priority:t.converterPriority||"normal"})}}function Oa(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function Na(t){const e=new Xr(t.view);return(n,r,i)=>{const o=e.match(r.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!i.consumable.test(r.viewItem,s))return;const a=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,s),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function Pa(t,e=null){const n=null===e||(t=>t.getAttribute(e));t.model={key:"object"!=typeof t.model?t.model:t.model.key,value:"object"!=typeof t.model||void 0===t.model.value?n:t.model.value}}function Ma(t,e){const n=new Xr(t.view);return(r,i,o)=>{if(!i.modelRange&&e)return;const s=n.match(i.viewItem);if(!s)return;if(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!Oa(n)||n.classes||n.attributes||n.styles)}(t.view,i.viewItem)?s.match.name=!0:delete s.match.name,!o.consumable.test(i.viewItem,s.match))return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(i.viewItem,o):t.model.value;null!==c&&(i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor)),function(t,e,n,r){let i=!1;for(const o of Array.from(t.getItems({shallow:n})))r.schema.checkAttribute(o,e.key)&&(i=!0,o.hasAttribute(e.key)||r.writer.setAttribute(e.key,e.value,o));return i}(i.modelRange,{key:a,value:c},e,o)&&(o.consumable.test(i.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(i.viewItem,s.match)))}}function La(t,e){return{view:`${t.view}-${e}`,model:(e,n)=>{const r=e.getAttribute("name"),i=t.model(r,n);return n.writer.createElement("$marker",{"data-name":i})}}}class ja extends(H()){constructor(t,e){super(),this.model=t,this.view=new Os(e),this.mapper=new Ks,this.downcastDispatcher=new Zs({mapper:this.mapper,schema:t.schema});const n=this.model.document,r=n.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(n.differ,i,t),this.downcastDispatcher.convertSelection(r,i,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,r)=>{const i=r.newSelection,o=[];for(const t of i.getRanges())o.push(e.toModelRange(t));const s=t.createSelection(o,{backward:i.isBackward});s.isEqual(t.document.selection)||t.change(t=>{t.setSelection(s)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,i=n.mapper.toViewPosition(e.range.start),o=r.createText(e.item.data);r.insert(i,o)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(t,e,n)=>{n.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||n.convertChildren(e.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(t,e,n)=>{const r=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),o=n.mapper.toViewPosition(i,{isPhantom:!0}),s=n.writer.createRange(r,o),a=n.writer.remove(s.getTrimmed());for(const c of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(c,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const r=n.writer,i=r.document.selection;for(const o of i.getRanges())o.isCollapsed&&o.end.parent.isAttached()&&n.writer.mergeAttributes(o.start);r.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const r=e.selection;if(r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=[];for(const o of r.getRanges())i.push(n.mapper.toViewRange(o));n.writer.setSelection(i,{backward:r.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const r=e.selection;if(!r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=n.writer,o=r.getFirstPosition(),s=n.mapper.toViewPosition(o),a=i.breakAttributes(s);i.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new Fi(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e="string"==typeof t?t:t.name,n=this.model.markers.get(e);if(!n)throw new w("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class Fa{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new za(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const o of n)"style"!=o&&"class"!=o&&e.attributes.push(o);const r=t.getClassNames();for(const o of r)e.classes.push(o);const i=t.getStyleNames();for(const o of i)e.styles.push(o);return e}static createFrom(t,e){if(e||(e=new Fa),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,Fa.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Fa.createFrom(n,e);return e}}const Ba=["attributes","classes","styles"];class za{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of Ba)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of Ba)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of Ba)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of Ba)e in t&&this._revert(e,t[e])}_add(t,e){const n=ht(e)?e:[e],r=this._consumables[t];for(const i of n){if("attributes"===t&&("class"===i||"style"===i))throw new w("viewconsumable-invalid-attribute",this);if(r.set(i,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(i))r.set(t,!0)}}_test(t,e){const n=ht(e)?e:[e],r=this._consumables[t];for(const i of n)if("attributes"!==t||"class"!==i&&"style"!==i){const t=r.get(i);if(void 0===t)return null;if(!t)return!1}else{const t="class"==i?"classes":"styles",e=this._test(t,[...this._consumables[t].keys()]);if(!0!==e)return e}return!0}_consume(t,e){const n=ht(e)?e:[e],r=this._consumables[t];for(const i of n)if("attributes"!==t||"class"!==i&&"style"!==i){if(r.set(i,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(i))r.set(t,!1)}else{const t="class"==i?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=ht(e)?e:[e],r=this._consumables[t];for(const i of n)if("attributes"!==t||"class"!==i&&"style"!==i)!1===r.get(i)&&r.set(i,!0);else{const t="class"==i?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Qa extends(H()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new Va(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new Va(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new w("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new w("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!(!e||!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!(!e||!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof Qs){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof Fs))throw new w("schema-check-merge-no-element-before",this);if(!(n instanceof Fs))throw new w("schema-check-merge-no-element-after",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,r])=>{if(!r)return;const i=t(n,r);"boolean"==typeof i&&(e.stop(),e.return=i)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,r])=>{const i=t(n,r);"boolean"==typeof i&&(e.stop(),e.return=i)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof Qs?t.parent:(t instanceof Ws?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new Ls("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new Ws(t);let n,r;const i=t.getAncestors().reverse().find(t=>this.isLimit(t))||t.root;"both"!=e&&"backward"!=e||(n=new Bs({boundaries:Ws._createIn(i),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(r=new Bs({boundaries:Ws._createIn(i),startPosition:t}));for(const o of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,r)){const t=o.value;if(t.type==(o.walker==n?"elementEnd":"elementStart")&&this.isObject(t.item))return Ws._createOn(t.item);if(this.checkChild(t.nextPosition,"$text"))return new Ws(t.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(t,e,n){const r=n.model;for(const[i,o]of Object.entries(e))r.schema.checkAttribute(t,i)&&n.setAttribute(i,o,t)}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))ec(this,n,e);else{const t=Ws._createIn(n).getPositions();for(const n of t)ec(this,n.nodeBefore||n.parent,e)}}getAttributesWithProperty(t,e,n){const r={};for(const[i,o]of t.getAttributes()){const t=this.getAttributeProperties(i);void 0!==t[e]&&(void 0!==n&&n!==t[e]||(r[i]=o))}return r}createContext(t){return new Va(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const r of n)t[r]=Ua(e[r],r);for(const r of n)qa(t,r);for(const r of n)Ha(t,r);for(const r of n)Ga(t,r);for(const r of n)Wa(t,r),Ka(t,r);for(const r of n)$a(t,r),Ya(t,r),Za(t,r);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const r=e.getItem(n);if(t.allowIn.includes(r.name)){if(0==n)return!0;{const t=this.getDefinition(r);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,r=t.start;for(const i of t.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(Ws._createIn(i),e)),this.checkAttribute(i,e)||(n.isEqual(r)||(yield new Ws(n,r)),n=Qs._createAfter(i)),r=Qs._createAfter(i);n.isEqual(r)||(yield new Ws(n,r))}}class Va{constructor(t){if(t instanceof Va)return t;let e;e="string"==typeof t?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(tc)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Va([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Ua(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const r of t)e[r]=!!n[r]}}(t,n),Ja(t,n,"allowIn"),Ja(t,n,"allowContentOf"),Ja(t,n,"allowWhere"),Ja(t,n,"allowAttributes"),Ja(t,n,"allowAttributesOf"),Ja(t,n,"allowChildren"),Ja(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function qa(t,e){const n=t[e];for(const r of n.allowChildren){const n=t[r];n&&n.allowIn.push(e)}n.allowChildren.length=0}function Ha(t,e){for(const n of t[e].allowContentOf)t[n]&&Xa(t,n).forEach(t=>{t.allowIn.push(e)});delete t[e].allowContentOf}function Ga(t,e){for(const n of t[e].allowWhere){const r=t[n];r&&t[e].allowIn.push(...r.allowIn)}delete t[e].allowWhere}function Wa(t,e){for(const n of t[e].allowAttributesOf){const r=t[n];r&&t[e].allowAttributes.push(...r.allowAttributes)}delete t[e].allowAttributesOf}function Ka(t,e){const n=t[e];for(const r of n.inheritTypesFrom){const e=t[r];if(e){const t=Object.keys(e).filter(t=>t.startsWith("is"));for(const r of t)r in n||(n[r]=e[r])}}delete n.inheritTypesFrom}function $a(t,e){const n=t[e],r=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(r))}function Ya(t,e){const n=t[e];for(const r of n.allowIn)t[r].allowChildren.push(e)}function Za(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Ja(t,e,n){for(const r of t){const t=r[n];"string"==typeof t?e[n].push(t):Array.isArray(t)&&e[n].push(...t)}}function Xa(t,e){const n=t[e];return(r=t,Object.keys(r).map(t=>r[t])).filter(t=>t.allowIn.includes(n.name));var r}function tc(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function ec(t,e,n){for(const r of e.getAttributeKeys())t.checkAttribute(e,r)||n.removeAttribute(r,e)}class nc extends(R()){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(t,e)=>this._convertItem(t,e),convertChildren:(t,e)=>this._convertChildren(t,e),safeInsert:(t,e)=>this._safeInsert(t,e),updateConversionResult:(t,e)=>this._updateConversionResult(t,e),splitToAllowedParent:(t,e)=>this._splitToAllowedParent(t,e),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const r of new Va(t)){const t={};for(const e of r.getAttributeKeys())t[e]=r.getAttribute(e);const i=e.createElement(r.name,t);n&&e.insert(i,n),n=Qs._createAt(i,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Fa.createFrom(t),this.conversionApi.store={};const{modelRange:r}=this._convertItem(t,this._modelCursor),i=e.createDocumentFragment();if(r){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,i);i.markers=function(t,e){const n=new Set,r=new Map,i=Ws._createIn(t).getItems();for(const o of i)o.is("element","$marker")&&n.add(o);for(const o of n){const t=o.getAttribute("data-name"),n=e.createPositionBefore(o);r.has(t)?r.get(t).end=n.clone():r.set(t,new Ws(n.clone())),e.remove(o)}return r}(i,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(t,e){const n={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Ws))throw new w("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:Qs._createAt(e,0);const r=new Ws(n);for(const i of Array.from(t.getChildren())){const t=this._convertItem(i,n);t.modelRange instanceof Ws&&(r.end=t.modelRange.end,n=t.modelCursor)}return{modelRange:r,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),r=this.conversionApi.writer;e.modelRange||(e.modelRange=r.createRange(r.createPositionBefore(t),r.createPositionAfter(n[n.length-1])));const i=this._cursorParents.get(t);e.modelCursor=i?r.createPositionAt(i,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:r}=this.conversionApi;let i=n.findAllowedParent(e,t);if(i){if(i===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return Ia(e,t,n)?{position:Ta(e,r)}:null;const o=this.conversionApi.writer.split(e,i),s=[];for(const c of o.range.getWalker())if("elementEnd"==c.type)s.push(c.item);else{const t=s.pop();this._registerSplitPair(t,c.item)}const a=o.range.end.parent;return this._cursorParents.set(t,a),{position:o.position,cursorParent:a}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&!this._emptyElementsToKeep.has(e)&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}class rc{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class ic{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new zo(t,{renderingMode:"data"}),this.htmlWriter=new rc}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),r=e.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}class oc extends(R()){constructor(t,e){super(),this.model=t,this.mapper=new Ks,this.downcastDispatcher=new Zs({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,i=n.mapper.toViewPosition(e.range.start),o=r.createText(e.item.data);r.insert(i,o)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(t,e,n)=>{n.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||n.convertChildren(e.item)},{priority:"lowest"}),this.upcastDispatcher=new nc({schema:t.schema}),this.viewDocument=new Ji(e),this.stylesProcessor=e,this.htmlProcessor=new ic(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new lo(this.viewDocument),this.upcastDispatcher.on("text",(t,e,{schema:n,consumable:r,writer:i})=>{let o=e.modelCursor;if(!r.test(e.viewItem))return;if(!n.checkChild(o,"$text")){if(!Ia(o,"$text",n))return;if(0==e.viewItem.data.trim().length)return;o=Ta(o,i)}r.consume(e.viewItem);const s=i.createText(e.viewItem.data);i.insert(s,o),e.modelRange=i.createRange(o,o.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=r}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=r}},{priority:"lowest"}),H().prototype.decorate.call(this,"init"),H().prototype.decorate.call(this,"set"),H().prototype.decorate.call(this,"get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Sa)},{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new w("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r,t):""}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const i=Ws._createIn(t),o=new co(n);this.mapper.bindElements(t,o);const s=t.is("documentFragment")?t.markers:function(t){const e=[],n=t.root.document;if(!n)return new Map;const r=Ws._createIn(t);for(const i of n.model.markers){const t=i.getRange(),n=t.isCollapsed,o=t.start.isEqual(r.start)||t.end.isEqual(r.end);if(n&&o)e.push([i.name,t]);else{const n=r.getIntersection(t);n&&e.push([i.name,n])}}return e.sort(([t,e],[n,r])=>{if("after"!==e.end.compareWith(r.start))return 1;if("before"!==e.start.compareWith(r.end))return-1;switch(e.start.compareWith(r.start)){case"before":return 1;case"after":return-1;default:switch(e.end.compareWith(r.end)){case"before":return 1;case"after":return-1;default:return n.localeCompare(t)}}}),new Map(e)}(t);return this.downcastDispatcher.convert(i,s,r,e),o}init(t){if(this.model.document.version)throw new w("datacontroller-init-document-not-empty",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new w("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},t=>{for(const n of Object.keys(e)){const r=this.model.document.getRoot(n);t.insert(this.parse(e[n],r),r,0)}}),Promise.resolve()}set(t,e={}){let n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new w("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const e of Object.keys(n)){const r=this.model.document.getRoot(e);t.remove(t.createRangeIn(r)),t.insert(this.parse(n[e],r),r,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}class sc{constructor(t,e){this._helpers=new Map,this._downcast=yr(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=yr(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new w("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new w("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of ac(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of ac(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of ac(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new w("conversion-group-exists",this);const r=n?new pa(e):new Da(e);this._helpers.set(t,r)}}function*ac(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},r=t.view[e],i=t.upcastAlso?t.upcastAlso[e]:void 0;yield*cc(n,r,i)}else yield*cc(t.model,t.view,t.upcastAlso)}function*cc(t,e,n){if(yield{model:t,view:e},n)for(const r of yr(n))yield{model:t,view:r}}class lc{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function uc(t,e){const n=fc(e),r=n.reduce((t,e)=>t+e.offsetSize,0),i=t.parent;gc(t);const o=t.index;return i._insertChild(o,n),pc(i,o+n.length),pc(i,o),new Ws(t,t.getShiftedBy(r))}function dc(t){if(!t.isFlat)throw new w("operation-utils-remove-range-not-flat",this);const e=t.start.parent;gc(t.start),gc(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return pc(e,t.start.index),n}function hc(t,e){if(!t.isFlat)throw new w("operation-utils-move-range-not-flat",this);const n=dc(t);return uc(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function fc(t){const e=[];!function t(n){if("string"==typeof n)e.push(new Ls(n));else if(n instanceof js)e.push(new Ls(n.data,n.getAttributes()));else if(n instanceof Ps)e.push(n);else if(tt(n))for(const e of n)t(e)}(t);for(let n=1;n<e.length;n++){const t=e[n],r=e[n-1];t instanceof Ls&&r instanceof Ls&&mc(t,r)&&(e.splice(n-1,2,new Ls(r.data+t.data,r.getAttributes())),n--)}return e}function pc(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&mc(n,r)){const i=new Ls(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,i)}}function gc(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,i=e.index;n._removeChildren(i,1);const o=new Ls(e.data.substr(0,r),e.getAttributes()),s=new Ls(e.data.substr(r),e.getAttributes());n._insertChild(i,[o,s])}}function mc(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const i of n){if(i[1]!==e.getAttribute(i[0]))return!1;r.next()}return r.next().done}class bc extends lc{constructor(t,e,n,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new bc(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new bc(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new w("move-operation-nodes-do-not-exist",this);if(t===e&&n<r&&r<n+this.howMany)throw new w("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==X(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new w("move-operation-node-into-itself",this)}}_execute(){hc(Ws._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=Qs.fromJSON(t.sourcePosition,e),r=Qs.fromJSON(t.targetPosition,e);return new this(n,t.howMany,r,t.baseVersion)}}class vc extends lc{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new Ms(fc(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new Ms([...this.nodes].map(t=>t._clone(!0))),e=new vc(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=new Qs(this.position.root.document.graveyard,[0]);return new bc(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new w("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new Ms([...t].map(t=>t._clone(!0))),uc(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const i of t.nodes)n.push(i.name?Fs.fromJSON(i):Ls.fromJSON(i));const r=new vc(Qs.fromJSON(t.position,e),n,t.baseVersion);return r.shouldReceiveAttributes=t.shouldReceiveAttributes,r}}class yc extends lc{constructor(t,e,n,r,i,o){super(o),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=i,this._markers=r}get type(){return"marker"}clone(){return new yc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new yc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new yc(t.name,t.oldRange?Ws.fromJSON(t.oldRange,e):null,t.newRange?Ws.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}const _c=function(t,e){return ws(t,e)};class wc extends lc{constructor(t,e,n,r,i){super(i),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new wc(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new wc(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new w("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!_c(t.getAttribute(this.key),this.oldValue))throw new w("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new w("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){_c(this.oldValue,this.newValue)||function(t,e,n){gc(t.start),gc(t.end);for(const r of t.getItems({shallow:!0})){const t=r.is("$textProxy")?r.textNode:r;null!==n?t._setAttribute(e,n):t._removeAttribute(e),pc(t.parent,t.index)}pc(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new wc(Ws.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class kc extends lc{get type(){return"noop"}clone(){return new kc(this.baseVersion)}getReversed(){return new kc(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Cc extends lc{constructor(t,e,n,r){super(r),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Cc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Cc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Fs))throw new w("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new w("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Cc(Qs.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Ac extends lc{constructor(t,e,n,r,i){super(i),this.root=t,this.key=e,this.oldValue=n,this.newValue=r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new Ac(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ac(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new w("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new w("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new w("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new w("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new Ac(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ec extends lc{constructor(t,e,n,r,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new Qs(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ws(this.sourcePosition,t)}clone(){return new Ec(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Qs(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new xc(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new w("merge-operation-source-position-invalid",this);if(!e.parent)throw new w("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new w("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;hc(Ws._createIn(t),this.targetPosition),hc(Ws._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=Qs.fromJSON(t.sourcePosition,e),r=Qs.fromJSON(t.targetPosition,e),i=Qs.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,r,i,t.baseVersion)}}class xc extends lc{constructor(t,e,n,r,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new Qs(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ws(this.splitPosition,t)}clone(){return new xc(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=new Qs(this.splitPosition.root.document.graveyard,[0]);return new Ec(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent;if(!t||t.maxOffset<this.splitPosition.offset)throw new w("split-operation-position-invalid",this);if(!t.parent)throw new w("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new w("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new w("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)hc(Ws._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();uc(this.insertionPosition,e)}hc(new Ws(Qs._createAt(t,this.splitPosition.offset),Qs._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new Qs(t.root,e,"toPrevious")}static fromJSON(t,e){const n=Qs.fromJSON(t.splitPosition,e),r=Qs.fromJSON(t.insertionPosition,e),i=t.graveyardPosition?Qs.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,r,i,t.baseVersion)}}const Sc={};Sc[wc.className]=wc,Sc[vc.className]=vc,Sc[yc.className]=yc,Sc[bc.className]=bc,Sc[kc.className]=kc,Sc[lc.className]=lc,Sc[Cc.className]=Cc,Sc[Ac.className]=Ac,Sc[xc.className]=xc,Sc[Ec.className]=Ec;const Ic=new Map;function Tc(t,e,n){let r=Ic.get(t);r||(r=new Map,Ic.set(t,r)),r.set(e,n)}function Dc(t){return[t]}function Rc(t,e,n={}){const r=function(t,e){const n=Ic.get(t);return n&&n.has(e)?n.get(e):Dc}(t.constructor,e.constructor);try{return r(t=t.clone(),e,n)}catch(t){throw t}}function Oc(t,e,n){t=t.slice(),e=e.slice();const r=new Nc(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);const i=r.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:i};const o=new WeakMap;for(const c of t)o.set(c,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const n=t[a],i=o.get(n);if(i==e.length){a++;continue}const s=e[i],c=Rc(n,s,r.getContext(n,s,!0)),l=Rc(s,n,r.getContext(s,n,!1));r.updateRelation(n,s),r.setOriginalOperations(c,n),r.setOriginalOperations(l,s);for(const t of c)o.set(t,i+l.length);t.splice(a,1,...c),e.splice(i,1,...l)}if(n.padWithNoOps){const n=t.length-s.originalOperationsACount,r=e.length-s.originalOperationsBCount;Mc(t,r-n),Mc(e,n-r)}return Pc(t,s.nextBaseVersionB),Pc(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:i}}class Nc{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const r of t)this.originalOperations.set(r,n||r)}updateRelation(t,e){if(t instanceof bc)e instanceof Ec?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof bc&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof xc){if(e instanceof Ec)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof bc)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=Ws._createFromPositionAndShift(e.sourcePosition,e.howMany);t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)&&this._setRelation(t,e,{howMany:n.end.offset-t.splitPosition.offset,offset:t.splitPosition.offset-n.start.offset})}}else if(t instanceof Ec)e instanceof Ec?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof xc&&t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource");else if(t instanceof yc){const n=t.newRange;if(!n)return;if(e instanceof bc){const r=Ws._createFromPositionAndShift(e.sourcePosition,e.howMany),i=r.containsPosition(n.start)||r.start.isEqual(n.start),o=r.containsPosition(n.end)||r.end.isEqual(n.end);!i&&!o||r.containsRange(n)||this._setRelation(t,e,{side:i?"left":"right",path:i?n.start.path.slice():n.end.path.slice()})}else if(e instanceof Ec){const r=n.start.isEqual(e.targetPosition),i=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(r||i||o||s)&&this._setRelation(t,e,{wasInLeftElement:r,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),r=this._history.getUndoneOperation(n);if(!r)return null;const i=this.originalOperations.get(t),o=this._relations.get(i);return o&&o.get(r)||null}_setRelation(t,e,n){const r=this.originalOperations.get(t),i=this.originalOperations.get(e);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(i,n)}}function Pc(t,e){for(const n of t)n.baseVersion=e++}function Mc(t,e){for(let n=0;n<e;n++)t.push(new kc(0))}function Lc(t,e,n){const r=t.nodes.getNode(0).getAttribute(e);if(r==n)return null;const i=new Ws(t.position,t.position.getShiftedBy(t.howMany));return new wc(i,e,r,n,0)}function jc(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Fc(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=new bc(i.start,i.end.offset-i.start.offset,e,0);n.push(o);for(let e=r+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Tc(wc,wc,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(e=>new wc(e,t.key,t.oldValue,t.newValue,0)),i=t.range.getIntersection(e.range);return i&&n.aIsStrong&&r.push(new wc(i,e.key,e.newValue,t.newValue,0)),0==r.length?[new kc(0)]:r}return[t]}),Tc(wc,vc,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new wc(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const r=Lc(e,t.key,t.oldValue);r&&n.unshift(r)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),Tc(wc,Ec,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(Ws._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(e=>new wc(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),Tc(wc,bc,(t,e)=>function(t,e){const n=Ws._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,i=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(i=t.getDifference(n),r=t.getIntersection(n)):i=[t];const o=[];for(let s of i){s=s._getTransformedByDeletion(e.sourcePosition,e.howMany);const t=e.getMovedRangeStart(),n=s.start.hasSameParentAs(t),r=s._getTransformedByInsertion(t,e.howMany,n);o.push(...r)}return r&&o.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),o}(t.range,e).map(e=>new wc(e,t.key,t.oldValue,t.newValue,t.baseVersion))),Tc(wc,xc,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new Ws(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),Tc(vc,wc,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=Lc(t,e.key,e.newValue);r&&n.push(r)}return n}),Tc(vc,vc,(t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t])),Tc(vc,bc,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),Tc(vc,xc,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),Tc(vc,Ec,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),Tc(yc,vc,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),Tc(yc,yc,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new kc(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),Tc(yc,Ec,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),Tc(yc,bc,(t,e,n)=>{if(t.oldRange&&(t.oldRange=Ws._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const r=Ws._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.end=r.end,t.newRange.start.path=n.abRelation.path,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=Ws._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),Tc(yc,xc,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Qs._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=Qs._createAt(e.moveTargetPosition)),t.newRange.end=t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?Qs._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?Qs._createAt(e.insertionPosition):r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),Tc(Ec,vc,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),Tc(Ec,Ec,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new Qs(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new kc(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const r="$graveyard"==t.targetPosition.root.rootName,i="$graveyard"==e.targetPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),r=t.targetPosition._getTransformedByMergeOperation(e);return[new bc(n,t.howMany,r,0)]}return[new kc(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),Tc(Ec,bc,(t,e,n)=>{const r=Ws._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new kc(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),Tc(Ec,xc,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const r=0!=e.howMany,i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),Tc(bc,vc,(t,e)=>{const n=Ws._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),Tc(bc,bc,(t,e,n)=>{const r=Ws._createFromPositionAndShift(t.sourcePosition,t.howMany),i=Ws._createFromPositionAndShift(e.sourcePosition,e.howMany);let o,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jc(t,e)&&jc(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Fc([r],o);if(i.containsPosition(t.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Fc([r],o);const c=X(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Fc([r],o);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const l=[],u=r.getDifference(i);for(const h of u){h.start=h.start._getTransformedByDeletion(e.sourcePosition,e.howMany),h.end=h.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const t="same"==X(h.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=h._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,t);l.push(...n)}const d=r.getIntersection(i);return null!==d&&s&&(d.start=d.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.end=d.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(d):1==l.length?i.start.isBefore(r.start)||i.start.isEqual(r.start)?l.unshift(d):l.push(d):l.splice(1,0,d)),0===l.length?[new kc(t.baseVersion)]:Fc(l,o)}),Tc(bc,xc,(t,e,n)=>{let r=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=t.targetPosition._getTransformedBySplitOperation(e));const i=Ws._createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let t=new Ws(e.splitPosition,i.end);return t=t._getTransformedBySplitOperation(e),Fc([new Ws(i.start,e.splitPosition),t],r)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(r=t.targetPosition);const o=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);t.howMany>1&&r&&!n.aWasUndone&&o.push(Ws._createFromPositionAndShift(e.insertionPosition,1))}return Fc(o,r)}),Tc(bc,Ec,(t,e,n)=>{const r=Ws._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new kc(0)]}else if(!n.aWasUndone){const n=[];let r=e.graveyardPosition.clone(),i=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new bc(t.sourcePosition,t.howMany-1,t.targetPosition,0)),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const o=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),s=new bc(r,1,o,0),a=s.getMovedRangeStart().path.slice();a.push(0);const c=new Qs(s.targetPosition.root,a);i=i._getTransformedByMove(r,o,1);const l=new bc(i,e.howMany,c,0);return n.push(s),n.push(l),n}const i=Ws._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),Tc(Cc,vc,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),Tc(Cc,Ec,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),Tc(Cc,bc,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),Tc(Cc,Cc,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new kc(0)];t.oldName=e.newName}return[t]}),Tc(Cc,xc,(t,e)=>{if("same"==X(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new Cc(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),Tc(Ac,Ac,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new kc(0)];t.oldValue=e.newValue}return[t]}),Tc(xc,vc,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t])),Tc(xc,Ec,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const r=new Qs(e.graveyardPosition.root,n),i=xc.getInsertionPosition(new Qs(e.graveyardPosition.root,n)),o=new xc(r,0,i,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=xc.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=xc.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),Tc(xc,bc,(t,e,n)=>{const r=Ws._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&i){const n=t.splitPosition._getTransformedByMoveOperation(e),r=t.graveyardPosition._getTransformedByMoveOperation(e),i=r.path.slice();i.push(0);const o=new Qs(r.root,i);return[new bc(n,t.howMany,o,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const i=t.splitPosition.isEqual(e.targetPosition);if(i&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=xc.getInsertionPosition(t.splitPosition),[t];if(i&&n.abRelation&&n.abRelation.howMany){const{howMany:e,offset:r}=n.abRelation;return t.howMany+=e,t.splitPosition=t.splitPosition.getShiftedBy(r),[t]}return t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)?(t.howMany-=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=xc.getInsertionPosition(t.splitPosition),[t]):(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.insertionPosition=t.graveyardPosition?t.insertionPosition._getTransformedByMoveOperation(e):xc.getInsertionPosition(t.splitPosition),[t])}),Tc(xc,xc,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new kc(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new kc(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r="$graveyard"==t.splitPosition.root.rootName,i="$graveyard"==e.splitPosition.root.rootName;if(i&&!r||(!r||i)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new bc(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new bc(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new kc(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const r=new Qs(e.insertionPosition.root,n);return[t,new bc(t.insertionPosition,1,r,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=xc.getInsertionPosition(t.splitPosition),[t]});class Bc extends(R(Qs)){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new w("model-liveposition-root-not-rootelement",t);zc.call(this)}detach(){this.stopListening()}toPosition(){return new Qs(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function zc(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&Qc.call(this,n)},{priority:"low"})}function Qc(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Bc.prototype.is=function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t};class Vc{constructor(t={}){"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},k("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:r=!1,isTyping:i=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=r,this.isTyping=i}get type(){return k("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Uc{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),n=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),n||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=Ws._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}break}case"split":{const t=e.splitPosition.parent;this._isInInsertedElement(t)||this._markRemove(t,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1);const n=e.targetPosition.parent;this._isInInsertedElement(n)||this._markInsert(n,e.targetPosition.offset,t.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){const r=this._changedMarkers.get(t);r?(r.newMarkerData=n,null==r.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{newMarkerData:n,oldMarkerData:e})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldMarkerData.range&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newMarkerData.range&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,r=!t.range&&e.range,i=t.range&&e.range&&!t.range.isEqual(e.range);if(n||r||i)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const t=this._changesInElement.get(n).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),r=this._elementSnapshots.get(n),i=qc(n.getChildren()),o=Hc(r.length,t);let s=0,a=0;for(const c of o)if("i"===c)e.push(this._getInsertDiff(n,s,i[s])),s++;else if("r"===c)e.push(this._getRemoveDiff(n,s,r[a])),a++;else if("a"===c){const t=i[s].attributes,o=r[a].attributes;let c;if("$text"==i[s].name)c=new Ws(Qs._createAt(n,s),Qs._createAt(n,s+1));else{const t=n.offsetToIndex(s);c=new Ws(Qs._createAt(n,s),Qs._createAt(n.getChild(t),0))}e.push(...this._getAttributesDiff(c,o,t)),s++,a++}else s++,a++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1);for(let n=1,r=0;n<e.length;n++){const t=e[r],i=e[n],o="remove"==t.type&&"remove"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.isEqual(i.position),s="insert"==t.type&&"insert"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.parent==i.position.parent&&t.position.offset+t.length==i.position.offset,a="attribute"==t.type&&"attribute"==i.type&&t.position.parent==i.position.parent&&t.range.isFlat&&i.range.isFlat&&t.position.offset+t.length==i.position.offset&&t.attributeKey==i.attributeKey&&t.attributeOldValue==i.attributeOldValue&&t.attributeNewValue==i.attributeNewValue;o||s||a?(t.length++,a&&(t.range.end=t.range.end.getShiftedBy(1)),e[n]=null):r=n}e=e.filter(t=>t);for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Gc),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const e=Ws._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const t=n.getData();this.bufferMarkerChange(n.name,t,t)}this._cachedChanges=null}_markInsert(t,e,n){const r={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r)}_markRemove(t,e,n){const r={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,qc(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const r=t.offset+t.howMany,i=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<i&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<i){const i=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:r,howMany:i-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(r<=n.offset)n.offset-=t.howMany;else if(r<=i)if(t.offset<n.offset){const e=r-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<i){const e=i-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(r<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(r<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=r-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<i)if(r<=i){const r=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:t.offset,howMany:r-n.howMany-t.nodesToHandle,count:this._changeCount++})}else n.howMany-=i-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&r>n.offset){if(r>i){const t={type:"attribute",offset:i,howMany:r-i,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<i&&(r>i?(t.nodesToHandle=r-i,t.offset=i):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&r>n.offset){const i={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(i,e),e.push(i),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&r<=i?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&r>=i&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:Qs._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:Qs._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const r=[];n=new Map(n);for(const[i,o]of e){const e=n.has(i)?n.get(i):null;e!==o&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:i,attributeOldValue:o,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(i)}for(const[i,o]of n)r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return r}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),r=t.startOffset;if(n)for(const i of n)if("insert"==i.type&&r>=i.offset&&r<i.offset+i.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const r=new Ws(Qs._createAt(t,e),Qs._createAt(t,e+n));for(const i of r.getItems({shallow:!0}))i.is("element")&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}function qc(t){const e=[];for(const n of t)if(n.is("$text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function Hc(t,e){const n=[];let r=0,i=0;for(const o of e){if(o.offset>r){for(let t=0;t<o.offset-r;t++)n.push("e");i+=o.offset-r}if("insert"==o.type){for(let t=0;t<o.howMany;t++)n.push("i");r=o.offset+o.howMany}else if("remove"==o.type){for(let t=0;t<o.howMany;t++)n.push("r");r=o.offset,i+=o.howMany}else n.push(..."a".repeat(o.howMany).split("")),r=o.offset+o.howMany,i+=o.howMany}if(i<t)for(let o=0;o<t-i-r;o++)n.push("e");return n}function Gc(t){return!("position"in t&&"$graveyard"==t.position.root.rootName||"range"in t&&"$graveyard"==t.range.root.rootName)}class Wc{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new w("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];void 0===t&&(t=n.baseVersion);let r=e-1;for(const[s,a]of this._gaps)t>s&&t<a&&(t=a),r>s&&r<a&&(r=s-1);if(r<n.baseVersion||t>this.lastOperation.baseVersion)return[];let i=this._baseVersionToOperationIndex.get(t);void 0===i&&(i=0);let o=this._baseVersionToOperationIndex.get(r);return void 0===o&&(o=this._operations.length-1),this._operations.slice(i,o+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(void 0!==e)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Kc extends Fs{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}toJSON(){return this.rootName}}Kc.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t};const $c="$graveyard";class Yc extends(R()){constructor(t){super(),this.model=t,this.history=new Wc,this.selection=new la(this),this.roots=new Cr({idProperty:"rootName"}),this.differ=new Uc(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",$c),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.history.addOperation(n)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,r,i)=>{const o={...e.getData(),range:r};this.differ.bufferMarkerChange(e.name,i,o),null===n&&e.on("change",(t,n)=>{const r=e.getData();this.differ.bufferMarkerChange(e.name,{...r,range:n},r)})})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot($c)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new w("model-document-createroot-name-exists",this,{name:e});const n=new Kc(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=$c)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=$r(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,r=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(r)||e.createRange(r)}_validateSelectionRange(t){return Zc(t.start)&&Zc(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function Zc(t){const e=t.textNode;if(e){const n=e.data,r=t.offset-e.startOffset;return!Ir(n,r)&&!Tr(n,r)}return!0}class Jc extends(R()){constructor(){super(),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t instanceof Xc?t.name:t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,r=!1){const i=t instanceof Xc?t.name:t;if(i.includes(","))throw new w("markercollection-incorrect-marker-name",this);const o=this._markers.get(i);if(o){const t=o.getData(),s=o.getRange();let a=!1;return s.isEqual(e)||(o._attachLiveRange(oa.fromRange(e)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"==typeof r&&r!=o.affectsData&&(o._affectsData=r,a=!0),a&&this.fire("update:"+i,o,s,e,t),o}const s=oa.fromRange(e),a=new Xc(i,s,n,r);return this._markers.set(i,a),this.fire("update:"+i,a,null,e,{...a.getData(),range:null}),a}_remove(t){const e=t instanceof Xc?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof Xc?t.name:t,n=this._markers.get(e);if(!n)throw new w("markercollection-refresh-marker-not-exists",this);const r=n.getRange();this.fire("update:"+e,n,r,r,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class Xc extends(R(Ns)){constructor(t,e,n,r){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new w("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Xc.prototype.is=function(t){return"marker"===t||"model:marker"===t};class tl extends lc{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new w("detach-operation-on-document-node",this)}_execute(){dc(Ws._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class el extends Ns{constructor(t){super(),this.markers=new Map,this._children=new Ms,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)e.push(n.name?Fs.fromJSON(n):Ls.fromJSON(n));return new el(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new Ls(t)]:(tt(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Ls(t):t instanceof js?new Ls(t.data,t.getAttributes()):t))}(e);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const r of n)r.parent=null;return n}}el.prototype.is=function(t){return"documentFragment"===t||"model:documentFragment"===t};class nl{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Ls(t,e)}createElement(t,e){return new Fs(t,e)}createDocumentFragment(){return new el}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Ls&&""==t.data)return;const r=Qs._createAt(e,n);if(t.parent){if(al(t.root,r.root))return void this.move(Ws._createOn(t),r);if(t.root.document)throw new w("model-writer-insert-forbidden-move",this);this.remove(t)}const i=new vc(r,t,r.root.document?r.root.document.version:null);if(t instanceof Ls&&(i.shouldReceiveAttributes=!0),this.batch.addOperation(i),this.model.applyOperation(i),t instanceof el)for(const[o,s]of t.markers){const t=Qs._createAt(s.root,0),e={range:new Ws(s.start._getCombined(t,r),s.end._getCombined(t,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(o)?this.updateMarker(o,e):this.addMarker(o,e)}}insertText(t,e,n,r){e instanceof el||e instanceof Fs||e instanceof Qs?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,r)}insertElement(t,e,n,r){e instanceof el||e instanceof Fs||e instanceof Qs?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,r)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof el||e instanceof Fs?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof el||e instanceof Fs?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Ws){const r=n.getMinimalFlatRanges();for(const n of r)rl(this,t,e,n)}else il(this,t,e,n)}setAttributes(t,e){for(const[n,r]of Sr(t))this.setAttribute(n,r,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Ws){const n=e.getMinimalFlatRanges();for(const e of n)rl(this,t,null,e)}else il(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof Ws)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Ws))throw new w("writer-move-invalid-range",this);if(!t.isFlat)throw new w("writer-move-range-not-flat",this);const r=Qs._createAt(e,n);if(r.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!al(t.root,r.root))throw new w("writer-move-different-document",this);const i=new bc(t.start,t.end.offset-t.start.offset,r,t.root.document?t.root.document.version:null);this.batch.addOperation(i),this.model.applyOperation(i)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof Ws?t:Ws._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),sl(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Fs))throw new w("writer-merge-no-element-before",this);if(!(n instanceof Fs))throw new w("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(Ws._createIn(n),Qs._createAt(e,"end")),this.remove(n)}_merge(t){const e=Qs._createAt(t.nodeBefore,"end"),n=Qs._createAt(t.nodeAfter,0),r=new Qs(t.root.document.graveyard,[0]),i=new Ec(n,t.nodeAfter.maxOffset,e,r,t.root.document.version);this.batch.addOperation(i),this.model.applyOperation(i)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Fs))throw new w("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,r=new Cc(Qs._createBefore(t),t.name,e,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(t,e){this._assertWriterUsedCorrectly();let n,r,i=t.parent;if(!i.parent)throw new w("writer-split-element-no-parent",this);if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new w("writer-split-invalid-limit-element",this);do{const e=i.root.document?i.root.document.version:null,o=i.maxOffset-t.offset,s=xc.getInsertionPosition(t),a=new xc(t,o,s,null,e);this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=i,r=t.parent.nextSibling),i=(t=this.createPositionAfter(t.parent)).parent}while(i!==e);return{position:t,range:new Ws(Qs._createAt(n,"end"),Qs._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new w("writer-wrap-range-not-flat",this);const n=e instanceof Fs?e:new Fs(e);if(n.childCount>0)throw new w("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new w("writer-wrap-element-attached",this);this.insert(n,t.start);const r=new Ws(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,Qs._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new w("writer-unwrap-element-no-parent",this);this.move(Ws._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new w("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,r=e.range,i=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new w("writer-addmarker-marker-exists",this);if(!r)throw new w("writer-addmarker-no-range",this);return n?(ol(this,t,null,r,i),this.model.markers.get(t)):this.model.markers._set(t,r,n,i)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,r=this.model.markers.get(n);if(!r)throw new w("writer-updatemarker-marker-not-exists",this);if(!e)return k("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(r);const i="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,s=o?e.affectsData:r.affectsData;if(!i&&!e.range&&!o)throw new w("writer-updatemarker-wrong-options",this);const a=r.getRange(),c=e.range?e.range:a;i&&e.usingOperation!==r.managedUsingOperations?e.usingOperation?ol(this,n,null,c,s):(ol(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):r.managedUsingOperations?ol(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new w("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);n.managedUsingOperations?ol(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[n,r]of Sr(t))this._setSelectionAttribute(n,r)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=la._getStoreAttributeKey(t);this.setAttribute(r,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=la._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new w("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let i=!1;if("move"===t){const t=e;i=t.containsPosition(r.start)||t.start.isEqual(r.start)||t.containsPosition(r.end)||t.end.isEqual(r.end)}else{const t=e.nodeAfter,n=r.end.parent==t&&0==r.end.offset,o=r.end.nodeAfter==t,s=r.start.nodeAfter==t;i=r.start.parent==e.nodeBefore&&r.start.isAtEnd||n||o||s}i&&this.updateMarker(n.name,{range:r})}}}function rl(t,e,n,r){const i=t.model,o=i.document;let s,a,c,l=r.start;for(const d of r.getWalker({shallow:!0}))c=d.item.getAttribute(e),s&&a!=c&&(a!=n&&u(),l=s),s=d.nextPosition,a=c;function u(){const r=new Ws(l,s),c=new wc(r,e,a,n,r.root.document?o.version:null);t.batch.addOperation(c),i.applyOperation(c)}s instanceof Qs&&s!=l&&a!=n&&u()}function il(t,e,n,r){const i=t.model,o=i.document,s=r.getAttribute(e);let a,c;s!=n&&(r.root===r?c=new Ac(r,e,s,n,r.document?o.version:null):(a=new Ws(Qs._createBefore(r),t.createPositionAfter(r)),c=new wc(a,e,s,n,a.root.document?o.version:null)),t.batch.addOperation(c),i.applyOperation(c))}function ol(t,e,n,r,i){const o=t.model,s=new yc(e,n,r,o.markers,!!i,o.document.version);t.batch.addOperation(s),o.applyOperation(s)}function sl(t,e,n,r){let i;if(t.root.document){const n=r.document,o=new Qs(n.graveyard,[0]);i=new bc(t,e,o,n.version)}else i=new tl(t,e);n.addOperation(i),r.applyOperation(i)}function al(t,e){return t===e||t instanceof Kc&&e instanceof Kc}function cl(t,e){return t.isCollapsed?function(t,e){const n=t.start,r=e.getNearestSelectionRange(n);if(!r){const t=n.getAncestors().reverse().find(t=>e.isObject(t));return t?Ws._createOn(t):null}if(!r.isCollapsed)return r;const i=r.start;return n.isEqual(i)?null:new Ws(i)}(t,e):function(t,e){const{start:n,end:r}=t,i=e.checkChild(n,"$text"),o=e.checkChild(r,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(r);if(s===a){if(i&&o)return null;if(function(t,e,n){const r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||i}(n,r,e)){const t=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),i=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward");return new Ws(t?t.start:n,i?i.end:r)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,i=c&&(!t||!ul(n.nodeAfter,e)),o=l&&(!t||!ul(r.nodeBefore,e));let u=n,d=r;return i&&(u=Qs._createBefore(ll(s,e))),o&&(d=Qs._createAfter(ll(a,e))),new Ws(u,d)}return null}(t,e)}function ll(t,e){let n=t,r=n;for(;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function ul(t,e){return t&&e.isSelectable(t)}function dl(t,e,n){const r=e.parent,i=n.parent;return r!=i&&!t.isLimit(r)&&!t.isLimit(i)&&function(t,e,n){const r=new Ws(t,e);for(const i of r.getWalker())if(n.isLimit(i.item))return!1;return!0}(e,n,t)}function hl(t,e,n,r={}){const i=t.createElement("paragraph");t.model.schema.setAllowedAttributes(i,r,t),t.insert(i,e),fl(t,n,t.createPositionAt(i,0))}function fl(t,e,n){e instanceof la?t.setSelection(n):e.setTo(n)}function pl(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}class gl{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new w("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Ws._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Ws(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Bc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new w("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this._nodeToSelect=this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?t:null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Bc.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Bc.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof Fs))return;if(!this._canMergeLeft(t))return;const e=Bc._createBefore(t);e.stickiness="toNext";const n=Bc.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Bc._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Bc._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof Fs))return;if(!this._canMergeRight(t))return;const e=Bc._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new w("insertcontent-invalid-insertion-position",this);this.position=Qs._createAt(e.nodeBefore,"end");const n=Bc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Bc._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Bc._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof Fs&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof Fs&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function ml(t,e,n="auto"){const r=t.getSelectedElement();if(r&&e.schema.isObject(r)&&!e.schema.isInline(r))return"before"==n||"after"==n?e.createRange(e.createPositionAt(r,n)):e.createRangeOn(r);const i=Ar(t.getSelectedBlocks());if(!i)return e.createRange(t.focus);if(i.isEmpty)return e.createRange(e.createPositionAt(i,0));const o=e.createPositionAfter(i);return t.focus.isTouching(o)?e.createRange(o):e.createRange(e.createPositionBefore(i))}function bl(t,e){const{isForward:n,walker:r,unit:i,schema:o,treatEmojiAsSingleUnit:s}=t,{type:a,item:c,nextPosition:l}=e;if("text"==a)return"word"===t.unit?function(t,e){let n=t.position.textNode;for(n||(n=e?t.position.nodeAfter:t.position.nodeBefore);n&&n.is("$text");){const r=t.position.offset-n.startOffset;if(_l(n,r,e))n=e?t.position.nodeAfter:t.position.nodeBefore;else{if(yl(n.data,r,e))break;t.next()}}return t.position}(r,n):function(t,e,n){const r=t.position.textNode;if(r){const i=r.data;let o=t.position.offset-r.startOffset;for(;Ir(i,o)||"character"==e&&Tr(i,o)||n&&Rr(i,o);)t.next(),o=t.position.offset-r.startOffset}return t.position}(r,i,s);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(c))return Qs._createAt(c,n?"after":"before");if(o.checkChild(l,"$text"))return l}else{if(o.isLimit(c))return void r.skip(()=>!0);if(o.checkChild(l,"$text"))return l}}function vl(t,e){const n=Qs._createAt(t.root,e?"end":0);return e?new Ws(t,n):new Ws(n,t)}function yl(t,e,n){return' ,.?!:;"-()'.includes(t.charAt(e+(n?0:-1)))}function _l(t,e,n){return e===(n?t.offsetSize:0)}class wl extends(H()){constructor(){super(),this.markers=new Jc,this.document=new Yc(this),this.schema=new Qa,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.selection,r=e.schema,i=[];let o=!1;for(const s of n.getRanges()){const t=cl(s,r);t&&!t.isEqual(s)?(i.push(t),o=!0):i.push(s)}return o&&t.setSelection(function(t){const e=[...t],n=new Set;let r=1;for(;r<e.length;){const t=e[r],i=e.slice(0,r);for(const[o,s]of i.entries())if(!n.has(o))if(t.isEqual(s))n.add(o);else if(t.isIntersecting(s)){n.add(o),n.add(r);const i=t.getJoined(s);e.push(i)}r++}return e.filter((t,e)=>!n.has(e))}(i),{backward:n.isBackward}),!1}(e,t))}(this),this.document.registerPostFixer(Sa)}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Vc,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){w.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{t?"function"==typeof t?(e=t,t=new Vc):t instanceof Vc||(t=new Vc(t)):t=new Vc,this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){w.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return function(t,e,n,r){return t.change(i=>{let o;o=n?n instanceof ta||n instanceof la?n:i.createSelection(n,r):t.document.selection,o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});const s=new gl(t,i,o.anchor),a=[];let c;if(e.is("documentFragment")){if(e.markers.size){const t=[];for(const[n,r]of e.markers){const{start:e,end:i}=r,o=e.isEqual(i);t.push({position:e,name:n,isCollapsed:o},{position:i,name:n,isCollapsed:o})}t.sort(({position:t},{position:e})=>t.isBefore(e)?1:-1);for(const{position:n,name:r,isCollapsed:o}of t){let t=null,s=null;const c=n.parent===e&&n.isAtStart,l=n.parent===e&&n.isAtEnd;c||l?o&&(s=c?"start":"end"):(t=i.createElement("$marker"),i.insert(t,n)),a.push({name:r,element:t,collapsed:s})}}c=e.getChildren()}else c=[e];s.handleNodes(c);let l=s.getSelectionRange();if(e.is("documentFragment")&&a.length){const t=l?oa.fromRange(l):null,e={};for(let n=a.length-1;n>=0;n--){const{name:t,element:r,collapsed:o}=a[n],c=!e[t];if(c&&(e[t]=[]),r){const n=i.createPositionAt(r,"before");e[t].push(n),i.remove(r)}else{const n=s.getAffectedRange();if(!n){o&&e[t].push(s.position);continue}e[t].push(o?n[o]:c?n.start:n.end)}}for(const[n,[r,o]]of Object.entries(e))r&&o&&r.root===o.root&&i.addMarker(n,{usingOperation:!0,affectsData:!0,range:new Ws(r,o)});t&&(l=t.toRange(),t.detach())}l&&(o instanceof la?i.setSelection(l):o.setTo(l));const u=s.getAffectedRange()||t.createRange(o.anchor);return s.destroy(),u})}(this,t,e,n)}insertObject(t,e,n,r){return function(t,e,n,r,i={}){if(!t.schema.isObject(e))throw new w("insertobject-element-not-an-object",t,{object:e});let o;o=n?n instanceof ta||n instanceof la?n:t.createSelection(n,r):t.document.selection;let s=o;i.findOptimalPosition&&t.schema.isBlock(e)&&(s=t.createSelection(ml(o,t,i.findOptimalPosition)));const a=Ar(o.getSelectedBlocks()),c={};return a&&Object.assign(c,t.schema.getAttributesWithProperty(a,"copyOnReplace",!0)),t.change(n=>{s.isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0});let r=e;const o=s.anchor.parent;!t.schema.checkChild(o,e)&&t.schema.checkChild(o,"paragraph")&&t.schema.checkChild("paragraph",e)&&(r=n.createElement("paragraph"),n.insert(e,r)),t.schema.setAllowedAttributes(r,c,n);const a=t.insertContent(r,s);return a.isCollapsed||i.setSelection&&function(t,e,n,r){const i=t.model;if("on"==n)return void t.setSelection(e,"on");if("after"!=n)throw new w("insertobject-invalid-place-parameter-value",i);let o=e.nextSibling;i.schema.isInline(e)?t.setSelection(e,"after"):(!(o&&i.schema.checkChild(o,"$text"))&&i.schema.checkChild(e.parent,"paragraph")&&(o=t.createElement("paragraph"),i.schema.setAllowedAttributes(o,r,t),i.insertContent(o,t.createPositionAfter(e))),o&&t.setSelection(o,0))}(n,e,i.setSelection,c),a})}(this,t,e,n,r)}deleteContent(t,e){!function(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if("$graveyard"==r.root.rootName)return;const i=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const r=e.getFirstRange();return r.start.parent!=r.end.parent&&t.checkChild(n,"paragraph")}(i,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),hl(t,t.createPositionAt(n,0),e)}(t,e);const o={};if(!n.doNotAutoparagraph){const t=e.getSelectedElement();t&&Object.assign(o,i.getAttributesWithProperty(t,"copyOnReplace",!0))}const[s,a]=function(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const n=function(t){const e=t.parent,n=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(n.isLimit(i))return null;if(n.isBlock(i))return i}}(r);if(n&&r.isTouching(e.createPositionAt(n,0))){const n=e.createSelection(t);e.modifySelection(n,{direction:"backward"});const i=n.getLastPosition(),o=e.createRange(i,r);e.hasContent(o,{ignoreMarkers:!0})||(r=i)}}return[Bc.fromPosition(n,"toPrevious"),Bc.fromPosition(r,"toNext")]}(r);s.isTouching(a)||t.remove(t.createRange(s,a)),n.leaveUnmerged||(function(t,e,n){const r=t.model;if(!dl(t.model.schema,e,n))return;const[i,o]=function(t,e){const n=t.getAncestors(),r=e.getAncestors();let i=0;for(;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}(e,n);i&&o&&(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(o,{ignoreMarkers:!0})?function t(e,n,r,i){const o=n.parent,s=r.parent;if(o!=i&&s!=i){for(n=e.createPositionAfter(o),(r=e.createPositionBefore(s)).isEqual(n)||e.insert(o,r);n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}r=e.createPositionBefore(s),function(t,e){const n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(r.getAttributes()),n),t.merge(e)}(e,r),dl(e.model.schema,n,r)&&t(e,n,r,i)}}(t,e,n,i.parent):function t(e,n,r,i){const o=n.parent,s=r.parent;if(o!=i&&s!=i){for(n=e.createPositionAfter(o),(r=e.createPositionBefore(s)).isEqual(n)||e.insert(s,n),e.merge(n);r.parent.isEmpty;){const t=r.parent;r=e.createPositionBefore(t),e.remove(t)}dl(e.model.schema,n,r)&&t(e,n,r,i)}}(t,e,n,i.parent))}(t,s,a),i.removeDisallowedAttributes(s.parent.getChildren(),t)),fl(t,e,s),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}(i,s)&&hl(t,s,e,o),s.detach(),a.detach()})}(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const r=t.schema,i="backward"!=n.direction,o=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=new Bs({boundaries:vl(e.focus,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:a,schema:r,isForward:i,unit:o,treatEmojiAsSingleUnit:s};let l;for(;l=a.next();){if(l.done)return;const n=bl(c,l.value);if(n)return void(e instanceof la?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;const i=r.start.root,o=r.start.getCommonPath(r.end),s=i.getNodeByPath(o);let a;a=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(s,r.start.path[o.length]),t.createPositionAt(s,r.end.path[o.length]+1));const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(t.cloneElement(e,!0),n);if(a!=r){const e=r._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],i=t.createRange(t.createPositionAt(n,0),e.start);pl(t.createRange(e.end,t.createPositionAt(n,"end")),t),pl(i,t)}return n})}(this,t)}hasContent(t,e={}){const n=t instanceof Ws?t:Ws._createIn(t);if(n.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:i=!1}=e;if(!i)for(const o of this.markers.getMarkersIntersectingRange(n))if(o.affectsData)return!0;for(const o of n.getItems())if(this.schema.isContent(o)){if(!o.is("$textProxy"))return!0;if(!r)return!0;if(-1!==o.data.search(/\S/))return!0}return!1}createPositionFromPath(t,e,n){return new Qs(t,e,n)}createPositionAt(t,e){return Qs._createAt(t,e)}createPositionAfter(t){return Qs._createAfter(t)}createPositionBefore(t){return Qs._createBefore(t)}createRange(t,e){return new Ws(t,e)}createRangeIn(t){return Ws._createIn(t)}createRangeOn(t){return Ws._createOn(t)}createSelection(...t){return new ta(...t)}createBatch(t){return new Vc(t)}createOperationFromJSON(t){return class{static fromJSON(t,e){return Sc[t.__className].fromJSON(t,e)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new nl(this,this._pendingChanges[0].batch);const e=this._pendingChanges[0].callback(this._currentWriter);t.push(e),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}class kl extends Wo{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class Cl extends Wo{constructor(t){super(t),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class Al{constructor(t){this.document=t}createDocumentFragment(t){return new co(this.document,t)}createElement(t,e,n){return new Oi(this.document,t,e,n)}createText(t){return new Zr(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const r=n.getChildIndex(t);return this.removeChildren(r,1,n),this.insertChild(r,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Oi(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){wt(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return zi._createAt(t,e)}createPositionAfter(t){return zi._createAfter(t)}createPositionBefore(t){return zi._createBefore(t)}createRange(t,e){return new Qi(t,e)}createRangeOn(t){return Qi._createOn(t)}createRangeIn(t){return Qi._createIn(t)}createSelection(...t){return new Ui(...t)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class El{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new w("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class xl extends xr{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}class Sl extends(H()){constructor(t={}){super();const e=this.constructor;this._context=t.context||new Fr({language:t.language||e.defaultConfig&&e.defaultConfig.language}),this._context._addEditor(this,!t.context);const n=Array.from(e.builtinPlugins||[]);this.config=new xn(t,e.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new jr(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new El,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new wl;const r=new Ti;this.data=new oc(this.model,r),this.editing=new ja(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new sc([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new xl(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new w("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new w("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new w("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],r=t.get("extraPlugins")||[],i=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(r),n,i)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(t){w.rethrowUnexpectedError(t,this)}}focus(){this.editing.view.focus()}}class Il{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(Tl(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new w("componentfactory-item-missing",this,{name:t});return this._components.get(Tl(t)).callback(this.editor.locale)}has(t){return this._components.has(Tl(t))}}function Tl(t){return String(t).toLowerCase()}class Dl extends Cr{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(t,e,n)=>{this._renderViewIntoCollectionParent(e,n)}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every(t=>"string"==typeof t))throw new w("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const r of t)n.delegate(r).to(e);this.on("add",(n,r)=>{for(const i of t)r.delegate(i).to(e)}),this.on("remove",(n,r)=>{for(const i of t)r.stopDelegating(i,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}class Rl extends(R()){constructor(t){super(),Object.assign(this,Ql(zl(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new w("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)Gl(n)?yield n:Wl(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,r)=>new Nl({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:r}),if:(n,r,i)=>new Pl({observable:t,emitter:e,attribute:n,valueIfTrue:r,callback:i})}}static extend(t,e){if(t._isRendered)throw new w("template-extend-render",[this,t]);!function t(e,n){if(n.attributes&&(e.attributes||(e.attributes={}),ql(e.attributes,n.attributes)),n.eventListeners&&(e.eventListeners||(e.eventListeners={}),ql(e.eventListeners,n.eventListeners)),n.text&&e.text.push(...n.text),n.children&&n.children.length){if(e.children.length!=n.children.length)throw new w("ui-template-extend-children-mismatch",e);let r=0;for(const i of n.children)t(e.children[r++],i)}}(t,Ql(zl(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new w("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Ml(this.text)?this._bindToObservable({schema:this.text,updater:jl(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const r in this.attributes){const i=e.getAttribute(r),o=this.attributes[r];n&&(n.attributes[r]=i);const s=$l(o)?o[0].ns:null;if(Ml(o)){const a=$l(o)?o[0].value:o;n&&Yl(r)&&a.unshift(i),this._bindToObservable({schema:a,updater:Fl(e,r,s),data:t})}else if("style"==r&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],t);else{n&&i&&Yl(r)&&o.unshift(i);const t=o.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(Ul,"");Hl(t)||e.setAttributeNS(s,r,t)}}}_renderStyleAttribute(t,e){const n=e.node;for(const r in t){const i=t[r];Ml(i)?this._bindToObservable({schema:[i],updater:Bl(n,r),data:e}):n.style[r]=i}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,r=t.isApplying;let i=0;for(const o of this.children)if(Kl(o)){if(!r){o.setParent(e);for(const t of o)n.appendChild(t.element)}}else if(Gl(o))r||(o.isRendered||o.render(),n.appendChild(o.element));else if(Tn(o))n.appendChild(o);else if(r){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),o._renderNode({intoFragment:!1,node:n.childNodes[i++],isApplying:!0,revertData:e})}else n.appendChild(o.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[r,i]=e.split("@");return n.activateDomEventListener(r,i,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const r=n.revertData;Ll(t,e,n);const i=t.filter(t=>!Hl(t)).filter(t=>t.observable).map(r=>r.activateAttributeListener(t,e,n));r&&r.bindings.push(i)}_revertTemplateFromNode(t,e){for(const r of e.bindings)for(const t of r)t();if(e.text)return void(t.textContent=e.text);const n=t;for(const r in e.attributes){const t=e.attributes[r];null===t?n.removeAttribute(r):n.setAttribute(r,t)}for(let r=0;r<e.children.length;++r)this._revertTemplateFromNode(n.childNodes[r],e.children[r])}}class Ol{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const r=()=>Ll(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,r)}}}class Nl extends Ol{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const r=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,r),()=>{this.emitter.stopListening(n.node,t,r)}}}class Pl extends Ol{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!Hl(super.getValue(t))&&(this.valueIfTrue||!0)}}function Ml(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Ml):t instanceof Ol)}function Ll(t,e,{node:n}){const r=function(t,e){return t.map(t=>t instanceof Ol?t.getValue(e):t)}(t,n);let i;i=1==t.length&&t[0]instanceof Pl?r[0]:r.reduce(Ul,""),Hl(i)?e.remove():e.set(i)}function jl(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function Fl(t,e,n){return{set(r){t.setAttributeNS(n,e,r)},remove(){t.removeAttributeNS(n,e)}}}function Bl(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function zl(t){return An(t,t=>{if(t&&(t instanceof Ol||Wl(t)||Gl(t)||Kl(t)))return t})}function Ql(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=yr(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)Vl(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=yr(t[e].value)),Vl(t,e)}(t.attributes);const e=[];if(t.children)if(Kl(t.children))e.push(t.children);else for(const n of t.children)Wl(n)||Gl(n)||Tn(n)?e.push(n):e.push(new Rl(n));t.children=e}return t}function Vl(t,e){t[e]=yr(t[e])}function Ul(t,e){return Hl(e)?t:Hl(t)?e:`${t} ${e}`}function ql(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function Hl(t){return!t&&0!==t}function Gl(t){return t instanceof Jl}function Wl(t){return t instanceof Rl}function Kl(t){return t instanceof Dl}function $l(t){return F(t[0])&&t[0].ns}function Yl(t){return"class"==t||"style"==t}var Zl=i(4793);Qr()(Zl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Jl extends(On(H())){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Cr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t,n.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Rl.bind(this,this)}createCollection(t){const e=new Dl(t);return this._viewCollections.add(e),e}registerChild(t){tt(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){tt(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Rl(t)}extendTemplate(t){Rl.extend(this.template,t)}render(){if(this.isRendered)throw new w("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var Xl=i(8793);Qr()(Xl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const tu=Wn("px"),eu=Ln.document.body;class nu extends Jl{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>"ck-balloon-panel_"+t),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",tu),left:e.to("left",tu)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=nu.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:eu,fitInViewport:!0},t),r=nu._getOptimalPosition(n),i=parseInt(r.left),o=parseInt(r.top),s=r.name,a=r.config||{},{withArrow:c=!0}=a;this.top=o,this.left=i,this.position=s,this.withArrow=c}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=ru(t.target),n=t.limiter?ru(t.limiter):eu;this.listenTo(Ln.document,"scroll",(r,i)=>{const o=i.target,s=e&&o.contains(e),a=n&&o.contains(n);!s&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Ln.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Ln.document,"scroll"),this.stopListening(Ln.window,"resize")}}function ru(t){return En(t)?t:Bn(t)?t.commonAncestorContainer:"function"==typeof t?ru(t()):null}function iu(t={}){const{sideOffset:e=nu.arrowSideOffset,heightOffset:n=nu.arrowHeightOffset,stickyVerticalOffset:r=nu.stickyVerticalOffset,config:i}=t;return{northWestArrowSouthWest:(t,n)=>({top:o(t,n),left:t.left-e,name:"arrow_sw",...i&&{config:i}}),northWestArrowSouthMiddleWest:(t,n)=>({top:o(t,n),left:t.left-.25*n.width-e,name:"arrow_smw",...i&&{config:i}}),northWestArrowSouth:(t,e)=>({top:o(t,e),left:t.left-e.width/2,name:"arrow_s",...i&&{config:i}}),northWestArrowSouthMiddleEast:(t,n)=>({top:o(t,n),left:t.left-.75*n.width+e,name:"arrow_sme",...i&&{config:i}}),northWestArrowSouthEast:(t,n)=>({top:o(t,n),left:t.left-n.width+e,name:"arrow_se",...i&&{config:i}}),northArrowSouthWest:(t,n)=>({top:o(t,n),left:t.left+t.width/2-e,name:"arrow_sw",...i&&{config:i}}),northArrowSouthMiddleWest:(t,n)=>({top:o(t,n),left:t.left+t.width/2-.25*n.width-e,name:"arrow_smw",...i&&{config:i}}),northArrowSouth:(t,e)=>({top:o(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s",...i&&{config:i}}),northArrowSouthMiddleEast:(t,n)=>({top:o(t,n),left:t.left+t.width/2-.75*n.width+e,name:"arrow_sme",...i&&{config:i}}),northArrowSouthEast:(t,n)=>({top:o(t,n),left:t.left+t.width/2-n.width+e,name:"arrow_se",...i&&{config:i}}),northEastArrowSouthWest:(t,n)=>({top:o(t,n),left:t.right-e,name:"arrow_sw",...i&&{config:i}}),northEastArrowSouthMiddleWest:(t,n)=>({top:o(t,n),left:t.right-.25*n.width-e,name:"arrow_smw",...i&&{config:i}}),northEastArrowSouth:(t,e)=>({top:o(t,e),left:t.right-e.width/2,name:"arrow_s",...i&&{config:i}}),northEastArrowSouthMiddleEast:(t,n)=>({top:o(t,n),left:t.right-.75*n.width+e,name:"arrow_sme",...i&&{config:i}}),northEastArrowSouthEast:(t,n)=>({top:o(t,n),left:t.right-n.width+e,name:"arrow_se",...i&&{config:i}}),southWestArrowNorthWest:t=>({top:s(t),left:t.left-e,name:"arrow_nw",...i&&{config:i}}),southWestArrowNorthMiddleWest:(t,n)=>({top:s(t),left:t.left-.25*n.width-e,name:"arrow_nmw",...i&&{config:i}}),southWestArrowNorth:(t,e)=>({top:s(t),left:t.left-e.width/2,name:"arrow_n",...i&&{config:i}}),southWestArrowNorthMiddleEast:(t,n)=>({top:s(t),left:t.left-.75*n.width+e,name:"arrow_nme",...i&&{config:i}}),southWestArrowNorthEast:(t,n)=>({top:s(t),left:t.left-n.width+e,name:"arrow_ne",...i&&{config:i}}),southArrowNorthWest:t=>({top:s(t),left:t.left+t.width/2-e,name:"arrow_nw",...i&&{config:i}}),southArrowNorthMiddleWest:(t,n)=>({top:s(t),left:t.left+t.width/2-.25*n.width-e,name:"arrow_nmw",...i&&{config:i}}),southArrowNorth:(t,e)=>({top:s(t),left:t.left+t.width/2-e.width/2,name:"arrow_n",...i&&{config:i}}),southArrowNorthMiddleEast:(t,n)=>({top:s(t),left:t.left+t.width/2-.75*n.width+e,name:"arrow_nme",...i&&{config:i}}),southArrowNorthEast:(t,n)=>({top:s(t),left:t.left+t.width/2-n.width+e,name:"arrow_ne",...i&&{config:i}}),southEastArrowNorthWest:t=>({top:s(t),left:t.right-e,name:"arrow_nw",...i&&{config:i}}),southEastArrowNorthMiddleWest:(t,n)=>({top:s(t),left:t.right-.25*n.width-e,name:"arrow_nmw",...i&&{config:i}}),southEastArrowNorth:(t,e)=>({top:s(t),left:t.right-e.width/2,name:"arrow_n",...i&&{config:i}}),southEastArrowNorthMiddleEast:(t,n)=>({top:s(t),left:t.right-.75*n.width+e,name:"arrow_nme",...i&&{config:i}}),southEastArrowNorthEast:(t,n)=>({top:s(t),left:t.right-n.width+e,name:"arrow_ne",...i&&{config:i}}),westArrowEast:(t,e)=>({top:t.top+t.height/2-e.height/2,left:t.left-e.width-n,name:"arrow_e",...i&&{config:i}}),eastArrowWest:(t,e)=>({top:t.top+t.height/2-e.height/2,left:t.right+n,name:"arrow_w",...i&&{config:i}}),viewportStickyNorth:(t,e,n)=>t.getIntersection(n)?{top:n.top+r,left:t.left+t.width/2-e.width/2,name:"arrowless",config:{withArrow:!1,...i}}:null};function o(t,e){return t.top-e.height-n}function s(t){return t.bottom+n}}nu.arrowSideOffset=25,nu.arrowHeightOffset=10,nu.stickyVerticalOffset=20,nu._getOptimalPosition=Jn,nu.defaultPositions=iu();var ou=i(3332);Qr()(ou.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const su="ck-tooltip";class au extends(On()){constructor(t){if(super(),au._editors.add(t),au._instance)return au._instance;au._instance=this,this.tooltipTextView=new Jl(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new nu(t.locale),this.balloonPanelView.class=su,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=os(this._pinTooltip,600),this.listenTo(Ln.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ln.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ln.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ln.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ln.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;au._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),au._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),au._instance=null)}static getPositioningFunctions(t){const e=au.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:e}){const n=cu(e);var r;n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,{text:(r=n).dataset.ckeTooltipText,position:r.dataset.ckeTooltipPosition||"s",cssClass:r.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(t,{target:e,relatedTarget:n}){if("mouseleave"===t.name){if(!En(e))return;if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const t=cu(e),r=cu(n);t&&t!==r&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:n,cssClass:r}){const i=Ar(au._editors.values()).ui.view.body;i.has(this.balloonPanelView)||i.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:t,positions:au.getPositioningFunctions(n)}),this._resizeObserver=new Gn(t,()=>{Zn(t)||this._unpinTooltip()}),this.balloonPanelView.class=[su,r].filter(t=>t).join(" ");for(const o of au._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of au._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Zn(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:au.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function cu(t){return En(t)?t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}au.defaultBalloonPositions=iu({heightOffset:5,sideOffset:13}),au._editors=new Set,au._instance=null;class lu extends(H()){constructor(t){super(),this.editor=t,this.componentFactory=new Il(t),this.focusTracker=new Er,this.tooltipManager=new au(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const n=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?n():this.once("ready",n)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const t=this.editor,e=t.editing.view;let n,r;t.keystrokes.set("Alt+F10",(t,i)=>{const o=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(o)&&!Array.from(e.domRoots.values()).includes(o)&&(n=o);const s=this._getCurrentFocusedToolbarDefinition();s&&r||(r=this._getFocusableCandidateToolbarDefinitions());for(let e=0;e<r.length;e++){const t=r.shift();if(r.push(t),t!==s&&this._focusFocusableCandidateToolbar(t)){s&&s.options.afterBlur&&s.options.afterBlur();break}}i()}),t.keystrokes.set("Esc",(e,r)=>{const i=this._getCurrentFocusedToolbarDefinition();i&&(n?(n.focus(),n=null):t.editing.view.focus(),i.options.afterBlur&&i.options.afterBlur(),r())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:n,options:r}=e;(Zn(n.element)||r.beforeFocus)&&t.push(e)}return t.sort((t,e)=>uu(t)-uu(e)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:n}}=t;return n&&n(),!!Zn(e.element)&&(e.focus(),!0)}}function uu(t){const{toolbarView:e,options:n}=t;let r=10;return Zn(e.element)&&r--,n.isContextual&&r--,r}function du(t){return class extends t{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const t=du(Object);du.setData=t.prototype.setData,du.getData=t.prototype.getData}function hu(t){return class extends t{updateSourceElement(t=this.data.get()){if(!this.sourceElement)throw new w("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;!function(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}(this.sourceElement,e||n?t:"")}}}hu.updateSourceElement=hu(Object).prototype.updateSourceElement;class fu extends Br{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Cr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new w("pendingactions-add-invalid-message",this);const e=new(H());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const pu={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};function gu({emitter:t,activator:e,callback:n,contextElements:r}){t.listenTo(document,"mousedown",(t,i)=>{if(!e())return;const o="function"==typeof i.composedPath?i.composedPath():[];for(const e of r)if(e.contains(i.target)||o.includes(e))return;n()})}function mu(t){const e=t;e.set("_isCssTransitionsDisabled",!1),e.disableCssTransitions=()=>{e._isCssTransitionsDisabled=!0},e.enableCssTransitions=()=>{e._isCssTransitionsDisabled=!1},e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function bu({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}class vu extends Dl{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new Rl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=gt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}var yu=i(6574);Qr()(yu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _u extends Jl{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:n,value:r}of Array.from(t.attributes))_u.presentationalAttributeNames.includes(n)&&this.element.setAttribute(n,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}_u.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var wu=i(4906);Qr()(wu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ku extends Jl{constructor(t){super(t);const e=this.bindTemplate,n=v();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(n),this.iconView=new _u,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+n,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.to("isOn",t=>!!this.isToggleable&&String(!!t)),"data-cke-tooltip-text":e.to("_tooltipString"),"data-cke-tooltip-position":e.to("tooltipPosition")},children:this.children,on:{click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}};a&&(r.on.mousedown=e.to(t=>{this.focus(),t.preventDefault()})),this.setTemplate(r)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(t){const e=new Jl;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new Jl;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>br(t))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=br(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var Cu=i(5332);Qr()(Cu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Au extends ku{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Jl;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var Eu=i(6781);Qr()(Eu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const xu='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Su extends ku{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new _u;return t.content=xu,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}var Iu=i(7686);Qr()(Iu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Tu extends Jl{constructor(t){super(t);const e=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new xr,this.focusTracker=new Er,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",t=>!t),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new ku;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new ku,e=t.bindTemplate;return t.icon=xu,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",t=>String(t))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}class Du extends Jl{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>"ck-dropdown__panel_"+t),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){if(this.children.length){const t=this.children.first;"function"==typeof t.focus?t.focus():k("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}var Ru=i(5485);Qr()(Ru.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ou extends Jl{constructor(t,e,n){super(t);const r=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new xr,this.focusTracker=new Er,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",t=>!t)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,e,n)=>{n&&(this.panelView.position="auto"===this.panelPosition?Ou._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:r,northEast:i,northWest:o,southMiddleEast:s,southMiddleWest:a,northMiddleEast:c,northMiddleWest:l}=Ou.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,r,s,a,t,i,o,c,l,e]:[r,n,a,s,t,o,i,l,c,e]}}Ou.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},Ou._getOptimalPosition=Jn;class Nu{constructor(t){if(this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const r of n)t.keystrokeHandler.set(r,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(Pu)||null}get last(){return this.focusables.filter(Pu).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const r=e.element===this.focusTracker.focusedElement;return r&&(t=n),r}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let r=(e+n+t)%n;do{const e=this.focusables.get(r);if(Pu(e))return e;r=(r+n+t)%n}while(r!==e);return null}}function Pu(t){return!(!t.focus||!Zn(t.element))}class Mu extends Jl{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Lu extends Jl{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function ju(t){return Array.isArray(t)?{items:t,removeItems:[]}:t?Object.assign({items:[],removeItems:[]},t):{items:[],removeItems:[]}}var Fu=i(5542);Qr()(Fu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:Bu}=pu,zu={alignLeft:pu.alignLeft,bold:pu.bold,importExport:pu.importExport,paragraph:pu.paragraph,plus:pu.plus,text:pu.text,threeVerticalDots:pu.threeVerticalDots};class Qu extends Jl{constructor(t,e){super(t);const n=this.bindTemplate,r=this.t;this.options=e||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Er,this.keystrokes=new xr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Vu(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const i="rtl"===t.uiLanguageDirection;this._focusCycler=new Nu({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[i?"arrowright":"arrowleft","arrowup"],focusNext:[i?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to(t=>{t.target===s.element&&t.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new qu(this):new Uu(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,n){const r=ju(t),i=n||r.removeItems,o=this._cleanItemsConfiguration(r.items,e,i).map(t=>F(t)?this._createNestedToolbarDropdown(t,e,i):"|"===t?new Mu:"-"===t?new Lu:e.create(t)).filter(t=>!!t);this.items.addMany(o)}_cleanItemsConfiguration(t,e,n){const r=t.filter((t,r,i)=>"|"===t||-1===n.indexOf(t)&&("-"===t?!this.options.shouldGroupWhenFull||(k("toolbarview-line-break-ignored-when-grouping-items",i),!1):!(!F(t)&&!e.has(t)&&(k("toolbarview-item-unavailable",{item:t}),1))));return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(t){const e=t=>"-"!==t&&"|"!==t,n=t.length,r=t.findIndex(e);if(-1===r)return[];const i=n-t.slice().reverse().findIndex(e);return t.slice(r,i).filter((t,n,r)=>!!e(t)||!(n>0&&r[n-1]===t))}_createNestedToolbarDropdown(t,e,n){let{label:r,icon:i,items:o,tooltip:s=!0,withText:a=!1}=t;if(o=this._cleanItemsConfiguration(o,e,n),!o.length)return null;const c=Zu(this.locale);return r||k("toolbarview-nested-toolbar-dropdown-missing-label",t),c.class="ck-toolbar__nested-toolbar-dropdown",c.buttonView.set({label:r,tooltip:s,withText:!!a}),!1!==i?c.buttonView.icon=zu[i]||i||Bu:c.buttonView.withText=!0,Ju(c,[]),c.toolbarView.fillFromConfig(o,e,n),c}}class Vu extends Jl{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Uu{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(t=>t),t.focusables.bindTo(t.items).using(t=>t),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class qu{constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(t,e)=>{const n=e.index,r=Array.from(e.added);for(const i of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(i):this.ungroupedItems.remove(i);for(let i=n;i<n+r.length;i++){const t=r[i-n];i>this.ungroupedItems.length?this.groupedItems.add(t,i-this.ungroupedItems.length):this.ungroupedItems.add(t,i)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Zn(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Vn(t.lastChild),r=new Vn(t);if(!this.cachedPadding){const n=Ln.window.getComputedStyle(t);this.cachedPadding=Number.parseInt(n["ltr"===e?"paddingRight":"paddingLeft"])}return"ltr"===e?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new Gn(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Mu),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Zu(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",Ju(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:Bu}),n.toolbarView.items.bindTo(this.groupedItems).using(t=>t),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Hu=i(1046);Qr()(Hu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Gu extends Jl{constructor(t){super(t),this.items=this.createCollection(),this.focusTracker=new Er,this.keystrokes=new xr,this._focusCycler=new Nu({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Wu extends Jl{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",t=>!t)]},children:this.children})}focus(){this.children.first.focus()}}class Ku extends Jl{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var $u=i(7339);Qr()($u.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Yu=i(3949);function Zu(t,e=Su){const n=new e(t),r=new Du(t),i=new Ou(t,n,r);return n.bind("isEnabled").to(i),n instanceof Tu?n.arrowView.bind("isOn").to(i,"isOpen"):n.bind("isOn").to(i,"isOpen"),function(t){(function(t){t.on("render",()=>{gu({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof Au||(t.isOpen=!1)})}(t),function(t){t.focusTracker.on("change:isFocused",(e,n,r)=>{t.isOpen&&!r&&(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t),function(t){t.on("change:isOpen",(e,n,r)=>{r||t.panelView.element.contains(Ln.document.activeElement)&&t.buttonView.focus()})}(t),function(t){t.on("change:isOpen",(e,n,r)=>{r&&t.panelView.focus()},{priority:"low"})}(t)}(i),i}function Ju(t,e,n={}){const r=t.locale,i=r.t,o=t.toolbarView=new Qu(r);o.set("ariaLabel",i("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(t=>o.items.add(t)),n.enableActiveItemFocusOnDropdownOpen&&td(t,()=>o.items.find(t=>t.isOn)),t.panelView.children.add(o),o.items.delegate("execute").to(t)}function Xu(t,e){const n=t.locale,r=t.listView=new Gu(n);r.items.bindTo(e).using(t=>{if("separator"===t.type)return new Ku(n);if("button"===t.type||"switchbutton"===t.type){const e=new Wu(n);let r;return r="button"===t.type?new ku(n):new Au(n),r.bind(...Object.keys(t.model)).to(t.model),r.delegate("execute").to(e),e.children.add(r),e}return null}),t.panelView.children.add(r),r.items.delegate("execute").to(t),td(t,()=>r.items.find(t=>t instanceof Wu&&t.children.first.isOn))}function td(t,e){t.on("change:isOpen",()=>{if(!t.isOpen)return;const n=e();n&&("function"==typeof n.focus?n.focus():k("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))},{priority:y.low-10})}Qr()(Yu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ed=i(9688);Qr()(ed.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class nd extends Jl{constructor(t){super(t),this.body=new vu(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var rd=i(3662);Qr()(rd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class id extends Jl{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id="ck-editor__label_"+v();const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class od extends nd{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new id;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class sd extends Jl{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const r=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",r)})}t.isRenderingInProgress?function n(r){t.once("change:isRenderingInProgress",(t,i,o)=>{o?n(r):e(r)})}(this):e(this)}}class ad extends sd{constructor(t,e,n,r={}){super(t,e,n);const i=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=r.label||(()=>i("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(e=>{const n=t.document.getRoot(this.name);e.setAttribute("aria-label",this._generateLabel(this),n)})}}var cd=i(8847);Qr()(cd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var ld=i(4879);Qr()(ld.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ud extends Jl{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Er,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),inputmode:e.to("inputMode"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to((...t)=>{this.fire("input",...t),this._updateIsEmpty()}),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}class dd extends ud{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var hd=i(2577);Qr()(hd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class fd extends Jl{constructor(t,e){super(t);const n="ck-labeled-field-view-"+v(),r="ck-labeled-field-view-status-"+v();this.fieldView=e(this,n,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",t=>!t),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new id(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new Jl(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}function pd(t,e,n){const r=new dd(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",t=>!t),r.bind("hasError").to(t,"errorText",t=>!!t),r.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused","placeholder").to(r),r}class gd extends Br{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){this.fire(t.namespace?`show:${t.type}:${t.namespace}`:"show:"+t.type,{message:t.message,type:t.type,title:t.title||""})}}class md extends(H()){constructor(t,e){super(),e&&Ho(this,e),t&&this.set(t)}}var bd=i(4650);Qr()(bd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var vd=i(7676);Qr()(vd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const yd=Wn("px");class _d extends Or{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new nu(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}destroy(){super.destroy(),this.view.destroy(),this._rotatorView.destroy(),this._fakePanelsView.destroy()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new w("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new w("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new w("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new wd(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(t,n)=>{if(n<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[r,n])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new kd(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>=2?Math.min(t-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class wd extends Jl{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Er,this.buttonPrevView=this._createButtonView(e("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",t=>t?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new ku(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class kd extends Jl{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",t=>t?"":"ck-hidden")],style:{top:n.to("top",yd),left:n.to("left",yd),width:n.to("width",yd),height:n.to("height",yd)}},children:this.content}),this.on("change:numberOfPanels",(t,e,n,r)=>{n>r?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()})}_addPanels(t){for(;t--;){const t=new Jl;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:r}=new Vn(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:r})}}}var Cd=i(5868);Qr()(Cd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ad=Wn("px");class Ed extends Jl{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Rl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>t?Ad(this._panelRect.height):null)}}}).render(),this._contentPanel=new Rl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>t?Ad(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",t=>t?Ad(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",t=>t?Ad(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Ln.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Ad(-Ln.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}Wn("px");var xd=i(9695);Qr()(xd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Wn("px"),Wn("px");class Sd extends lu{constructor(t,e){super(t),this.view=e,this._toolbarConfig=ju(t.config.get("toolbar")),this._elementReplacer=new Z}get element(){return this.view.element}init(t){const e=this.view,n=this.editor.editing.view,r=e.editable,i=n.document.getRoot();r.name=i.rootName,e.render();const o=r.element;this.setEditableElement(r.name,o),e.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),r=t.sourceElement,i=t.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");i&&qr({view:e,element:n,text:i,isDirectHost:!1,keepOnFocus:!0})}}var Id=i(3143);Qr()(Id.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Td extends od{constructor(t,e,n={}){super(t),this.stickyPanel=new Ed(t),this.toolbar=new Qu(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new ad(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Dd extends(du(hu(Sl))){constructor(t,e={}){if(!Rd(t)&&void 0!==e.initialData)throw new w("editor-create-initial-data",null);super(e),void 0===this.config.get("initialData")&&this.config.set("initialData",function(t){return Rd(t)?(e=t)instanceof HTMLTextAreaElement?e.value:e.innerHTML:t;var e}(t)),Rd(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new Td(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new Sd(this,r),function(t){if(!St(t.updateSourceElement))throw new w("attachtoform-missing-elementapi-interface",t);const e=t.sourceElement;if(function(t){return!!t&&"textarea"===t.tagName.toLowerCase()}(e)&&e.form){let n;const r=e.form,i=()=>t.updateSourceElement();St(r.submit)&&(n=r.submit,r.submit=()=>{i(),n.apply(r)}),r.addEventListener("submit",i),t.on("destroy",()=>{r.removeEventListener("submit",i),n&&(r.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const r=new this(t,e);n(r.initPlugins().then(()=>r.ui.init(Rd(t)?t:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}}function Rd(t){return En(t)}class Od extends Wo{constructor(t){super(t);const e=this.document;function n(t){return(n,r)=>{r.preventDefault();const i=r.dropRange?[r.dropRange]:null,o=new m(e,t);e.fire(o,{dataTransfer:r.dataTransfer,method:n.name,targetRanges:i,target:r.target}),o.stop.called&&r.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Is("clipboardData"in t?t.clipboardData:t.dataTransfer)};"drop"!=t.type&&"dragover"!=t.type||(e.dropRange=function(t,e){const n=e.target.ownerDocument,r=e.clientX,i=e.clientY;let o;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,i)?o=n.caretRangeFromPoint(r,i):e.rangeParent&&(o=n.createRange(),o.setStart(e.rangeParent,e.rangeOffset),o.collapse(!0)),o?t.domConverter.domRangeToView(o):null}(this.view,t)),this.fire(t.type,t,e)}}const Nd=["figcaption","li"];class Pd extends Or{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Od),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,r=n.document;this.listenTo(r,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(t,e)=>{const r=e.dataTransfer;let i;if(e.content)i=e.content;else{let t="";r.getData("text/html")?t=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1==e.length?" ":e).replace(/<!--[\s\S]*?-->/g,"")}(r.getData("text/html")):r.getData("text/plain")&&(((o=(o=r.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),t=o),i=this.editor.data.htmlProcessor.toView(t)}var o;const s=new m(this,"inputTransformation");this.fire(s,{content:i,dataTransfer:r,targetRanges:e.targetRanges,method:e.method}),s.stop.called&&t.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,n)=>{if(n.content.isEmpty)return;const r=this.editor.data.toModel(n.content,"$clipboardHolder");0!=r.childCount&&(t.stop(),e.change(()=>{this.fire("contentInsertion",{content:r,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(t,n)=>{n.resultRange=e.insertContent(n.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,n=t.editing.view.document,r=(r,i)=>{const o=i.dataTransfer;i.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));n.fire("clipboardOutput",{dataTransfer:o,content:s,method:r.name})};this.listenTo(n,"copy",r,{priority:"low"}),this.listenTo(n,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():r(e,n)},{priority:"low"}),this.listenTo(n,"clipboardOutput",(n,r)=>{r.content.isEmpty||(r.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("$text")||e.is("$textProxy"))n=e.data;else if(e.is("element","img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else if(e.is("element","br"))n="\n";else{let r=null;for(const i of e.getChildren()){const e=t(i);r&&(r.is("containerElement")||i.is("containerElement"))&&(Nd.includes(r.name)||Nd.includes(i.name)?n+="\n":n+="\n\n"),n+=e,r=i}}return n}(r.content))),"cut"==r.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class Md{constructor(t,e=20){this._batch=null,this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(t,e)=>{e.isLocal&&e.isUndoable&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class Ld extends Pr{constructor(t,e){super(t),this._buffer=new Md(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,r=t.text||"",i=r.length;let o=n.selection;t.selection?o=t.selection:t.range&&(o=e.createSelection(t.range));const s=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{this._buffer.lock(),e.deleteContent(o),r&&e.insertContent(t.createText(r,n.selection.getAttributes()),o),s?t.setSelection(s):o.is("documentSelection")||t.setSelection(o),this._buffer.unlock(),this._buffer.input(i)})}}const jd=["insertText","insertReplacementText"];class Fd extends qo{constructor(t){super(t),c&&jd.push("insertCompositionText");const e=t.document;e.on("beforeinput",(n,r)=>{if(!this.isEnabled)return;const{data:i,targetRanges:o,inputType:s,domEvent:a}=r;if(!jd.includes(s))return;const c=new m(e,"insertText");e.fire(c,new Go(t,a,{text:i,selection:t.createSelection(o)})),c.stop.called&&n.stop()}),e.on("compositionend",(n,{data:r,domEvent:i})=>{this.isEnabled&&!c&&r&&e.fire("insertText",new Go(t,i,{text:r,selection:e.selection}))},{priority:"lowest"})}observe(){}}class Bd extends Or{static get pluginName(){return"Input"}init(){const t=this.editor,e=t.model,n=t.editing.view,r=e.document.selection;n.addObserver(Fd);const i=new Ld(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",i),t.commands.add("input",i),this.listenTo(n.document,"insertText",(r,i)=>{n.document.isComposing||i.preventDefault();const{text:o,selection:s,resultRange:a}=i,l=Array.from(s.getRanges()).map(e=>t.editing.mapper.toModelRange(e));let u=o;if(c){const t=Array.from(l[0].getItems()).reduce((t,e)=>t+(e.is("$textProxy")?e.data:""),"");t&&(t.length<=u.length?u.startsWith(t)&&(u=u.substring(t.length),l[0].start=l[0].start.getShiftedBy(t.length)):t.startsWith(u)&&(l[0].start=l[0].start.getShiftedBy(u.length),u=""))}const d={text:u,selection:e.createSelection(l)};a&&(d.resultRange=t.editing.mapper.toModelRange(a)),t.execute("insertText",d)}),c?this.listenTo(n.document,"keydown",(t,o)=>{!r.isCollapsed&&229==o.keyCode&&n.document.isComposing&&zd(e,i)}):this.listenTo(n.document,"compositionstart",()=>{r.isCollapsed||zd(e,i)})}}function zd(t,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),t.enqueueChange(n.batch,()=>{t.deleteContent(t.document.selection)}),n.unlock()}class Qd extends Pr{constructor(t,e){super(t),this.direction=e,this._buffer=new Md(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const i=r.createSelection(t.selection||n.selection),o=t.sequence||1,s=i.isCollapsed;if(i.isCollapsed&&e.modifySelection(i,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(r);if(this._shouldReplaceFirstBlockWithParagraph(i,o))return void this.editor.execute("paragraph",{selection:i});if(i.isCollapsed)return;let a=0;i.getFirstRange().getMinimalFlatRanges().forEach(t=>{a+=J(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(i,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),r.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,r=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!e.schema.checkChild(r,"paragraph"))return!1;const i=r.getChild(0);return!i||!i.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.schema.getLimitElement(e.document.selection),r=t.createElement("paragraph");t.remove(t.createRangeIn(n)),t.insert(r,n),t.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;const r=t.getFirstPosition(),i=n.schema.getLimitElement(r),o=i.getChild(0);return r.parent==o&&!!t.containsEntireContent(o)&&!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=o.name}}const Vd="selection",Ud="backward",qd="forward",Hd={deleteContent:{unit:Vd,direction:Ud},deleteContentBackward:{unit:"codePoint",direction:Ud},deleteWordBackward:{unit:"word",direction:Ud},deleteHardLineBackward:{unit:Vd,direction:Ud},deleteSoftLineBackward:{unit:Vd,direction:Ud},deleteContentForward:{unit:"character",direction:qd},deleteWordForward:{unit:"word",direction:qd},deleteHardLineForward:{unit:Vd,direction:qd},deleteSoftLineForward:{unit:Vd,direction:qd}};class Gd extends qo{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",()=>{n++}),e.on("keyup",()=>{n=0}),e.on("beforeinput",(r,i)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:s,inputType:a}=i,l=Hd[a];if(!l)return;const u={direction:l.direction,unit:l.unit,sequence:n};u.unit==Vd&&(u.selectionToRemove=t.createSelection(o[0])),c&&"deleteContentBackward"===a&&(u.sequence=1,1!=o.length||o[0].start.parent==o[0].end.parent&&o[0].start.offset+1==o[0].end.offset||(u.unit=Vd,u.selectionToRemove=t.createSelection(o)));const d=new Hi(e,"delete",o[0]);e.fire(d,new Go(t,s,u)),d.stop.called&&r.stop()}),l&&function(t){const e=t.view,n=e.document;let r=null,i=!1;function o(t){return t==fr.backspace||t==fr.delete}function s(t){return t==fr.backspace?Ud:qd}n.on("keydown",(t,{keyCode:e})=>{r=e,i=!1}),n.on("keyup",(a,{keyCode:c,domEvent:l})=>{const u=n.selection,d=t.isEnabled&&c==r&&o(c)&&!u.isCollapsed&&!i;if(r=null,d){const t=u.getFirstRange(),r=new Hi(n,"delete",t),i={unit:Vd,direction:s(c),selectionToRemove:u};n.fire(r,new Go(e,l,i))}}),n.on("beforeinput",(t,{inputType:e})=>{const n=Hd[e];o(r)&&n&&n.direction==s(r)&&(i=!0)},{priority:"high"}),n.on("beforeinput",(t,{inputType:e,data:n})=>{r==fr.delete&&"insertText"==e&&"\x7f"==n&&t.stop()},{priority:"high"})}(this)}observe(){}}class Wd extends Or{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document,r=t.model.document;e.addObserver(Gd),this._undoOnBackspace=!1;const i=new Qd(t,"forward");t.commands.add("deleteForward",i),t.commands.add("forwardDelete",i),t.commands.add("delete",new Qd(t,"backward")),this.listenTo(n,"delete",(r,i)=>{n.isComposing||i.preventDefault();const{direction:o,sequence:s,selectionToRemove:a,unit:c}=i,l="forward"===o?"deleteForward":"delete",u={sequence:s};if("selection"==c){const e=Array.from(a.getRanges()).map(e=>t.editing.mapper.toModelRange(e));u.selection=t.model.createSelection(e)}else u.unit=c;t.execute(l,u),e.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(e,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,t.execute("undo"),n.preventDefault(),e.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Kd extends Or{static get requires(){return[Bd,Wd]}static get pluginName(){return"Typing"}}function $d(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,r)=>r.is("$text")||r.is("$textProxy")?t+r.data:(n=e.createPositionAfter(r),""),""),range:e.createRange(n,t.end)}}class Yd extends(H()){constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(t,e)=>{!e.isUndo&&e.isLocal&&this._evaluateTextBeforeSelection("data",{batch:e})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,r=n.document.selection,i=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:o,range:s}=$d(i,n),a=this.testCallback(o);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const n=Object.assign(e,{text:o,range:s});"object"==typeof a&&Object.assign(n,a),this.fire("matched:"+t,n)}}}class Zd extends Or{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.locale,n=t.model.document.selection;this.listenTo(t.editing.view.document,"arrowKey",(t,r)=>{if(!n.isCollapsed)return;if(r.shiftKey||r.altKey||r.ctrlKey)return;const i=r.keyCode==fr.arrowright,o=r.keyCode==fr.arrowleft;if(!i&&!o)return;const s=e.contentLanguageDirection;let a=!1;a="ltr"===s&&i||"rtl"===s&&o?this._handleForwardMovement(r):this._handleBackwardMovement(r),!0===a&&t.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(n,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&eh(n.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model.document.selection,r=n.getFirstPosition();return!(this._isGravityOverridden||r.isAtStart&&Jd(n,e)||!eh(r,e)||(th(t),this._overrideGravity(),0))}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return this._isGravityOverridden?(th(t),this._restoreGravity(),Xd(n,e,i),!0):i.isAtStart?!!Jd(r,e)&&(th(t),Xd(n,e,i),!0):!!function(t,e){return eh(t.getShiftedBy(-1),e)}(i,e)&&(i.isAtEnd&&!Jd(r,e)&&eh(i,e)?(th(t),Xd(n,e,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Jd(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function Xd(t,e,n){const r=n.nodeBefore;t.change(t=>{r?t.setSelectionAttribute(r.getAttributes()):t.removeSelectionAttribute(e)})}function th(t){t.preventDefault()}function eh(t,e){const{nodeBefore:n,nodeAfter:r}=t;for(const i of e){const t=n?n.getAttribute(i):void 0;if((r?r.getAttribute(i):void 0)!==t)return!0}return!1}var nh=/[\\^$.*+?()[\]{}|]/g,rh=RegExp(nh.source);const ih={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:uh('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:uh("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:uh("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:uh('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:uh('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:uh("'"),to:[null,"\u201a",null,"\u2019"]}},oh={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},sh=["symbols","mathematical","typography","quotes"];function ah(t){return"string"==typeof t?new RegExp(`(${function(t){return(t=hi(t))&&rh.test(t)?t.replace(nh,"\\$&"):t}(t)})$`):t}function ch(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function lh(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function uh(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}function dh(t,e,n,r){return r.createRange(hh(t,e,n,!0,r),hh(t,e,n,!1,r))}function hh(t,e,n,r,i){let o=t.textNode||(r?t.nodeBefore:t.nodeAfter),s=null;for(;o&&o.getAttribute(e)==n;)s=o,o=r?o.previousSibling:o.nextSibling;return s?i.createPositionAt(s,r?"before":"after"):t}function*fh(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class ph extends Pr{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,n=e.document.selection,r=e.schema,i=n.isCollapsed,o=n.getFirstRange(),s=o.start.parent,a=o.end.parent;if(r.isLimit(s)||r.isLimit(a))return i||s!=a||e.deleteContent(n),!1;if(i){const e=fh(t.model.schema,n.getAttributes());return gh(t,o.start),t.setSelectionAttribute(e),!0}{const r=!(o.start.isAtStart&&o.end.isAtEnd),i=s==a;if(e.deleteContent(n,{leaveUnmerged:r}),r){if(i)return gh(t,n.focus),!0;t.setSelection(a,0)}}return!1}}function gh(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}const mh={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class bh extends qo{constructor(t){super(t);const e=this.document;e.on("beforeinput",(n,r)=>{if(!this.isEnabled)return;const i=r.domEvent,o=mh[r.inputType];if(!o)return;const s=new Hi(e,"enter",r.targetRanges[0]);e.fire(s,new Go(t,i,{isSoft:o.isSoft})),s.stop.called&&n.stop()})}observe(){}}class vh extends Or{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(bh),t.commands.add("enter",new ph(t)),this.listenTo(n,"enter",(r,i)=>{n.isComposing||i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class yh extends Pr{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const r=n.isCollapsed,i=n.getFirstRange(),o=i.end.parent,s=i.start.parent==o;if(r){const r=fh(t.schema,n.getAttributes());_h(t,e,i.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(r)}else{const r=!(i.start.isAtStart&&i.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:r}),s?_h(t,e,n.focus):r&&e.setSelection(o,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const r=e.getFirstRange(),i=r.start.parent,o=r.end.parent;return!wh(i,t)&&!wh(o,t)||i===o}(t.schema,t.document.selection)}}function _h(t,e,n){const r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function wh(t,e){return!t.is("rootElement")&&(e.isLimit(t)||wh(t.parent,e))}class kh extends Or{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.conversion,n=t.editing.view,r=n.document;t.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:(t,{writer:e})=>e.createEmptyElement("br")}),n.addObserver(bh),t.commands.add("shiftEnter",new yh(t)),this.listenTo(r,"enter",(e,i)=>{r.isComposing||i.preventDefault(),i.isSoft&&(t.execute("shiftEnter"),n.scrollToTheSelection())},{priority:"low"})}}class Ch extends(R()){constructor(){super(),this._stack=[]}add(t,e){const n=this._stack,r=n[0];this._insertDescriptor(t);const i=n[0];r===i||Ah(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:e})}remove(t,e){const n=this._stack,r=n[0];this._removeDescriptor(t);const i=n[0];r===i||Ah(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(Ah(t,e[n]))return;n>-1&&e.splice(n,1);let r=0;for(;e[r]&&Eh(e[r],t);)r++;e.splice(r,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function Ah(t,e){return t&&e&&t.priority==e.priority&&xh(t.classes)==xh(e.classes)}function Eh(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&xh(t.classes)>xh(e.classes)}function xh(t){return Array.isArray(t)?t.sort().join(","):t}const Sh="ck-widget_selected";function Ih(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function Th(t,e,n={}){if(!t.is("containerElement"))throw new w("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Mh,e.setCustomProperty("widgetLabel",[],t),n.label&&function(t,e){t.getCustomProperty("widgetLabel").push(e)}(t,n.label),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),n=new _u;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),Oh(t,e),t}function Dh(t,e,n){if(e.classes&&n.addClass(yr(e.classes),t),e.attributes)for(const r in e.attributes)n.setAttribute(r,e.attributes[r],t)}function Rh(t,e,n){if(e.classes&&n.removeClass(yr(e.classes),t),e.attributes)for(const r in e.attributes)n.removeAttribute(r,t)}function Oh(t,e,n=Dh,r=Rh){const i=new Ch;i.on("change:top",(e,i)=>{i.oldDescriptor&&r(t,i.oldDescriptor,i.writer),i.newDescriptor&&n(t,i.newDescriptor,i.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>i.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>i.remove(e,n),t)}function Nh(t,e,n={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("role","textbox",t),n.label&&e.setAttribute("aria-label",n.label,t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,r,i)=>{e.setAttribute("contenteditable",i?"false":"true",t)}),t.on("change:isFocused",(n,r,i)=>{i?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),Oh(t,e),t}function Ph(t,e){const n=t.getSelectedElement();if(n){const r=Fh(t);if(r)return e.createRange(e.createPositionAt(n,r))}return ml(t,e)}function Mh(){return null}const Lh="widget-type-around";function jh(t,e,n){return!!t&&Ih(t)&&!n.isInline(e)}function Fh(t){return t.getAttribute(Lh)}var Bh=i(4921);Qr()(Bh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const zh=["before","after"],Qh=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Vh="ck-widget__type-around_disabled";class Uh extends Or{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[vh,Wd]}constructor(t){super(t),this._currentFakeCaretModelElement=null}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",(n,r,i)=>{e.change(t=>{for(const n of e.document.roots)i?t.removeClass(Vh,n):t.addClass(Vh,n)}),i||t.model.change(t=>{t.removeSelectionAttribute(Lh)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,r=n.editing.view,i=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(t,e),attributes:i}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(t,e,n,r){this.listenTo(t,e,(...t)=>{this.isEnabled&&n(...t)},r)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=Fh(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(t,i,o)=>{const s=o.mapper.toViewElement(i.item);s&&jh(s,i.item,e)&&(function(t,e,n){const r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){const n=this.toDomElement(t);return function(t,e){for(const n of zh){const r=new Rl({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+n],title:e[n],"aria-hidden":"true"},children:[t.ownerDocument.importNode(Qh,!0)]});t.appendChild(r.render())}}(n,e),function(t){const e=new Rl({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(n),n}));t.insert(t.createPositionAt(n,"end"),r)}(o.writer,r,s),s.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,r=e.schema;function i(t){return"ck-widget_type-around_show-fake-caret_"+t}this._listenToIfEnabled(t.editing.view.document,"arrowKey",(t,e)=>{this._handleArrowKeyPress(t,e)},{context:[Ih,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(e,n)=>{n.directChange&&t.model.change(t=>{t.removeSelectionAttribute(Lh)})}),this._listenToIfEnabled(e.document,"change:data",()=>{const e=n.getSelectedElement();e&&jh(t.editing.mapper.toViewElement(e),e,r)||t.model.change(t=>{t.removeSelectionAttribute(Lh)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(t,e,n)=>{const o=n.writer;if(this._currentFakeCaretModelElement){const t=n.mapper.toViewElement(this._currentFakeCaretModelElement);t&&(o.removeClass(zh.map(i),t),this._currentFakeCaretModelElement=null)}const s=e.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!jh(a,s,r))return;const c=Fh(e.selection);c&&(o.addClass(i(c),a),this._currentFakeCaretModelElement=s)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(e,n,r)=>{r||t.model.change(t=>{t.removeSelectionAttribute(Lh)})})}_handleArrowKeyPress(t,e){const n=this.editor,r=n.model,i=r.document.selection,o=r.schema,s=n.editing.view,a=function(t,e){const n=vr(t,e);return"down"===n||"right"===n}(e.keyCode,n.locale.contentLanguageDirection),c=s.document.selection.getSelectedElement();let l;jh(c,n.editing.mapper.toModelElement(c),o)?l=this._handleArrowKeyPressOnSelectedWidget(a):i.isCollapsed?l=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):e.shiftKey||(l=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),l&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=Fh(e.document.selection);return e.change(e=>n?n!==(t?"after":"before")&&(e.removeSelectionAttribute(Lh),!0):(e.setSelectionAttribute(Lh,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,r=n.schema,i=e.plugins.get("Widget"),o=i._getObjectElementNextToSelection(t);return!!jh(e.editing.mapper.toViewElement(o),o,r)&&(n.change(e=>{i._setSelectionOverElement(o),e.setSelectionAttribute(Lh,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,r=n.schema,i=e.editing.mapper,o=n.document.selection,s=t?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!jh(i.toViewElement(s),s,r)&&(n.change(e=>{e.setSelection(s,"on"),e.setSelectionAttribute(Lh,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(n,r)=>{const i=r.domTarget.closest(".ck-widget__type-around__button");if(!i)return;const o=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(i),s=function(t,e){const n=t.closest(".ck-widget");return e.mapDomToView(n)}(i,e.domConverter),a=t.editing.mapper.toModelElement(s);this._insertParagraph(a,o),r.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection;this._listenToIfEnabled(t.editing.view.document,"enter",(n,r)=>{if("atTarget"!=n.eventPhase)return;const i=e.getSelectedElement(),o=t.editing.mapper.toViewElement(i),s=t.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:jh(o,i,s)&&(this._insertParagraph(i,r.isSoft?"before":"after"),a=!0),a&&(r.preventDefault(),n.stop())},{context:Ih})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(e,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=t.selection)},{priority:"high"}),c?this._listenToIfEnabled(t,"keydown",(t,e)=>{229==e.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.model,n=e.schema;this._listenToIfEnabled(t.editing.view.document,"delete",(r,i)=>{if("atTarget"!=r.eventPhase)return;const o=Fh(e.document.selection);if(!o)return;const s=i.direction,a=e.document.selection.getSelectedElement(),c="forward"==s;if("before"===o===c)t.execute("delete",{selection:e.createSelection(a,"on")});else{const r=n.getNearestSelectionRange(e.createPositionAt(a,o),s);if(r)if(r.isCollapsed){const i=e.createSelection(r.start);if(e.modifySelection(i,{direction:s}),i.focus.isEqual(r.start)){const t=function(t,e){let n=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||t.isLimit(r))break;n=r}return n}(n,r.start.parent);e.deleteContent(e.createSelection(t,"on"),{doNotAutoparagraph:!0})}else e.change(e=>{e.setSelection(r),t.execute(c?"deleteForward":"delete")})}else e.change(e=>{e.setSelection(r),t.execute(c?"deleteForward":"delete")})}i.preventDefault(),r.stop()},{context:Ih})}_enableInsertContentIntegration(){const t=this.editor.model,e=t.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(n,[r,i])=>{if(i&&!i.is("documentSelection"))return;const o=Fh(e);return o?(n.stop(),t.change(n=>{const i=e.getSelectedElement(),s=t.createPositionAt(i,o),a=n.createSelection(s),c=t.insertContent(r,a);return n.setSelection(a),c})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(e,n)=>{const[,r,,i={}]=n;if(r&&!r.is("documentSelection"))return;const o=Fh(t);o&&(i.findOptimalPosition=o,n[3]=i)},{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(e,[n])=>{n&&!n.is("documentSelection")||Fh(t)&&e.stop()},{priority:"high"})}}function qh(t,e,n){const r=t.schema,i=t.createRangeIn(e.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:c}of i.getWalker({startPosition:e,direction:n})){if(r.isLimit(a)&&!r.isInline(a))return s;if(c==o&&r.isBlock(a))return null}return null}function Hh(t,e,n){const r="backward"==n?e.end:e.start;if(t.checkChild(r,"$text"))return r;for(const{nextPosition:i}of e.getWalker({direction:n}))if(t.checkChild(i,"$text"))return i;return null}var Gh=i(3488);Qr()(Gh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Wh extends Or{static get pluginName(){return"Widget"}static get requires(){return[Uh,Wd]}init(){const t=this.editor,e=t.editing.view,n=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(e,n,r)=>{const i=r.writer,o=n.selection;if(o.isCollapsed)return;const s=o.getSelectedElement();if(!s)return;const a=t.editing.mapper.toViewElement(s);var c;Ih(a)&&r.consumable.consume(o,"selection")&&i.setSelection(i.createRangeOn(a),{fake:!0,label:(c=a,c.getCustomProperty("widgetLabel").reduce((t,e)=>"function"==typeof e?t?t+". "+e():e():t?t+". "+e:e,""))})}),this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,i=r.document.selection;let o=null;for(const s of i.getRanges())for(const t of s){const e=t.item;Ih(e)&&!Kh(e,o)&&(r.addClass(Sh,e),this._previouslySelected.add(e),o=e)}},{priority:"low"}),e.addObserver(Cl),this.listenTo(n,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(n,"arrowKey",(...t)=>{this._handleSelectionChangeOnArrowKeyPress(...t)},{context:[Ih,"$text"]}),this.listenTo(n,"arrowKey",(...t)=>{this._preventDefaultOnArrowKeyPress(...t)},{context:"$root"}),this.listenTo(n,"arrowKey",function(t){const e=t.model;return(n,r)=>{const i=r.keyCode==fr.arrowdown,o=r.shiftKey,s=e.document.selection;if(r.keyCode!=fr.arrowup&&!i)return;const a=i;if(o&&function(t,e){return!t.isCollapsed&&t.isBackward==e}(s,a))return;const c=function(t,e,n){const r=t.model;if(n){const t=e.isCollapsed?e.focus:e.getLastPosition(),n=qh(r,t,"forward");if(!n)return null;const i=r.createRange(t,n),o=Hh(r.schema,i,"backward");return o?r.createRange(t,o):null}{const t=e.isCollapsed?e.focus:e.getFirstPosition(),n=qh(r,t,"backward");if(!n)return null;const i=r.createRange(n,t),o=Hh(r.schema,i,"forward");return o?r.createRange(o,t):null}}(t,s,a);if(c){if(c.isCollapsed){if(s.isCollapsed)return;if(o)return}(c.isCollapsed||function(t,e,n){const r=t.model,i=t.view.domConverter;if(n){const t=r.createSelection(e.start);r.modifySelection(t),t.focus.isAtEnd||e.start.isEqual(t.focus)||(e=r.createRange(t.focus,e.end))}const o=t.mapper.toViewRange(e),s=i.viewRangeToDom(o),a=Vn.getDomRangeRects(s);let c;for(const l of a)if(void 0!==c){if(Math.round(l.top)>=c)return!1;c=Math.max(c,Math.round(l.bottom))}else c=Math.round(l.bottom);return!0}(t,c,a))&&(e.change(t=>{const n=a?c.end:c.start;if(o){const r=e.createSelection(s.anchor);r.setFocus(n),t.setSelection(r)}else t.setSelection(n)}),n.stop(),r.preventDefault(),r.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{context:"$root"})}_onMousedown(t,e){const n=this.editor,r=n.editing.view,i=r.document;let o=e.target;if(function(t){let e=t;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Ih(e))return!1;e=e.parent}return!1}(o)){if((a||s)&&e.domEvent.detail>=3){const t=n.editing.mapper,r=o.is("attributeElement")?o.findAncestor(t=>!t.is("attributeElement")):o,i=t.toModelElement(r);e.preventDefault(),this.editor.model.change(t=>{t.setSelection(i,"in")})}return}if(!Ih(o)&&(o=o.findAncestor(Ih),!o))return;c&&e.preventDefault(),i.isFocused||r.focus();const l=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(l)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,r=this.editor.model,i=r.schema,o=r.document.selection,s=o.getSelectedElement(),a=vr(n,this.editor.locale.contentLanguageDirection),c="down"==a||"right"==a,l="up"==a||"down"==a;if(s&&i.isObject(s)){const n=c?o.getLastPosition():o.getFirstPosition(),s=i.getNearestSelectionRange(n,c?"forward":"backward");return void(s&&(r.change(t=>{t.setSelection(s)}),e.preventDefault(),t.stop()))}if(!o.isCollapsed&&!e.shiftKey){const n=o.getFirstPosition(),s=o.getLastPosition(),a=n.nodeAfter,l=s.nodeBefore;return void((a&&i.isObject(a)||l&&i.isObject(l))&&(r.change(t=>{t.setSelection(c?s:n)}),e.preventDefault(),t.stop()))}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(c);if(u&&i.isObject(u)){if(i.isInline(u)&&l)return;this._setSelectionOverElement(u),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,r=n.schema,i=n.document.selection.getSelectedElement();i&&r.isObject(i)&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let r=e.anchor.parent;for(;r.isEmpty;){const e=r;r=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,r=e.document.selection,i=e.createSelection(r);if(e.modifySelection(i,{direction:t?"forward":"backward"}),i.isEqual(r))return null;const o=t?i.focus.nodeBefore:i.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(Sh,e);this._previouslySelected.clear()}}function Kh(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class $h extends Or{static get requires(){return[_d]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{(function(t){const e=t.getSelectedElement();return!(!e||!Ih(e))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:r,balloonClassName:i="ck-toolbar-container"}){if(!n.length)return void k("widget-toolbar-no-items",{toolbarId:t});const o=this.editor,s=o.t,a=new Qu(o.locale);if(a.ariaLabel=e||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new w("widget-toolbar-duplicated",this,{toolbarId:t});a.fillFromConfig(n,o.ui.componentFactory);const c={view:a,getRelatedElement:r,balloonClassName:i};o.ui.addToolbar(a,{isContextual:!0,beforeFocus:()=>{const t=r(o.editing.view.document.selection);t&&this._showToolbar(c,t)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(t,c)}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const r of this._toolbarDefinitions.values()){const i=r.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&i)if(this.editor.ui.focusTracker.isFocused){const o=i.getAncestors().length;o>t&&(t=o,e=i,n=r)}else this._isToolbarVisible(r)&&this._hideToolbar(r);else this._isToolbarInBalloon(r)&&this._hideToolbar(r)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?Yh(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Zh(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);Yh(this.editor,e)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function Yh(t,e){const n=t.plugins.get("ContextualBalloon"),r=Zh(t,e);n.updatePosition(r)}function Zh(t,e){const n=nu.defaultPositions;return{target:t.editing.view.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}H(),H();var Jh=i(8506);Qr()(Jh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Xh=i(903);Qr()(Xh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class tf extends Or{static get pluginName(){return"DragDrop"}static get requires(){return[Pd,Wh]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=function(t,e,n){var r=!0,i=!0;return F(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),os(t,40,{leading:r,maxWait:40,trailing:i})}(t=>this._updateDropMarker(t)),this._removeDropMarkerDelayed=rf(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=rf(()=>this._clearDraggableAttributes(),40),e.addObserver(Od),e.addObserver(Cl),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(t,e,n)=>{n||this._finalizeDragging(!1)}),c&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,n=e.document,r=t.editing.view,i=r.document;this.listenTo(i,"dragstart",(r,o)=>{const s=n.selection;if(o.target&&o.target.is("editableElement"))return void o.preventDefault();const a=o.target?of(o.target):null;if(a){const n=t.editing.mapper.toModelElement(a);this._draggedRange=oa.fromRange(e.createRangeOn(n)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!i.selection.isCollapsed){const t=i.selection.getSelectedElement();t&&Ih(t)||(this._draggedRange=oa.fromRange(s.getFirstRange()))}if(!this._draggedRange)return void o.preventDefault();this._draggingUid=v(),o.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",o.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const c=e.createSelection(this._draggedRange.toRange()),l=t.data.toView(e.getSelectedContent(c));i.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:l,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(i,"dragend",(t,e)=>{this._finalizeDragging(!e.dataTransfer.isCanceled&&"move"==e.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(i,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(i,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(i,"dragging",(e,n)=>{if(!this.isEnabled)return void(n.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const r=ef(t,n.targetRanges,n.target);this._draggedRange||(n.dataTransfer.dropEffect="copy"),s||("copy"==n.dataTransfer.effectAllowed?n.dataTransfer.dropEffect="copy":["all","copyMove"].includes(n.dataTransfer.effectAllowed)&&(n.dataTransfer.dropEffect="move")),r&&this._updateDropMarkerThrottled(r)},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if("drop"!=n.method)return;const r=ef(t,n.targetRanges,n.target);return this._removeDropMarker(),r?(this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==nf(n.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(r,!0)?(this._finalizeDragging(!1),void e.stop()):void(n.targetRanges=[t.editing.mapper.toViewRange(r)])):(this._finalizeDragging(!1),void e.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(Pd);t.on("contentInsertion",(t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const n=e.targetRanges.map(t=>this.editor.editing.mapper.toModelRange(t));this.editor.model.change(t=>t.setSelection(n))},{priority:"high"}),t.on("contentInsertion",(t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const n="move"==nf(e.dataTransfer);this._finalizeDragging((!e.resultRange||!e.resultRange.isCollapsed)&&n)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",(r,i)=>{if(c||!i)return;this._clearDraggableAttributesDelayed.cancel();let o=of(i.target);if(l&&!t.isReadOnly&&!o&&!n.selection.isCollapsed){const t=n.selection.getSelectedElement();t&&Ih(t)||(o=n.selection.editableElement)}o&&(e.change(t=>{t.setAttribute("draggable","true",o)}),this._draggableElement=t.editing.mapper.toModelElement(o))}),this.listenTo(n,"mouseup",()=>{c||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(e=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(t){const e=this.toDomElement(t);return e.append("\u2060",t.createElement("span"),"\u2060"),e}))}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change(e=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(t){const e=this.editor,n=e.model;this._removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function ef(t,e,n){const r=t.model,i=t.editing.mapper;let o=null;const a=e?e[0].start:null;if(n.is("uiElement")&&(n=n.parent),o=function(t,e){const n=t.model,r=t.editing.mapper;if(Ih(e))return n.createRangeOn(r.toModelElement(e));if(!e.is("editableElement")){const t=e.findAncestor(t=>Ih(t)||t.is("editableElement"));if(Ih(t))return n.createRangeOn(r.toModelElement(t))}return null}(t,n),o)return o;const c=function(t,e){const n=t.editing.mapper,r=t.editing.view,i=n.toModelElement(e);if(i)return i;const o=r.createPositionBefore(e),s=n.findMappedViewAncestor(o);return n.toModelElement(s)}(t,n),l=a?i.toModelPosition(a):null;return l?(o=function(t,e,n){const r=t.model;if(!r.schema.checkChild(n,"$block"))return null;const i=r.createPositionAt(n,0),o=e.path.slice(0,i.path.length),s=r.createPositionFromPath(e.root,o).nodeAfter;return s&&r.schema.isObject(s)?r.createRangeOn(s):null}(t,l,c),o||(o=r.schema.getNearestSelectionRange(l,s?"forward":"backward"),o||function(t,e){const n=t.model;let r=e;for(;r;){if(n.schema.isObject(r))return n.createRangeOn(r);r=r.parent}return null}(t,l.parent))):function(t,e){const n=t.model,r=n.schema,i=n.createPositionAt(e,0);return r.getNearestSelectionRange(i,"forward")}(t,c)}function nf(t){return s?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function rf(t,e){let n;function r(...i){r.cancel(),n=setTimeout(()=>t(...i),e)}return r.cancel=()=>{clearTimeout(n)},r}function of(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(Ih);if(Ih(t))return t;const e=t.findAncestor(t=>Ih(t)||t.is("editableElement"));return Ih(e)?e:null}class sf extends Or{static get pluginName(){return"PastePlainText"}static get requires(){return[Pd]}init(){const t=this.editor,e=t.model,n=t.editing.view,r=n.document,i=e.document.selection;let o=!1;n.addObserver(Od),this.listenTo(r,"keydown",(t,e)=>{o=e.shiftKey}),t.plugins.get(Pd).on("contentInsertion",(t,n)=>{(o||function(t,e){if(t.childCount>1)return!1;const n=t.getChild(0);return!e.isObject(n)&&0==Array.from(n.getAttributeKeys()).length}(n.content,e.schema))&&e.change(t=>{const r=Array.from(i.getAttributes()).filter(([t])=>e.schema.getAttributeProperties(t).isFormatting);i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0}),r.push(...i.getAttributes());const o=t.createRangeIn(n.content);for(const e of o.getItems())e.is("$textProxy")&&t.setAttributes(r,e)})})}}class af extends Or{static get pluginName(){return"Clipboard"}static get requires(){return[Pd,tf,sf]}}class cf extends Pr{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!lf(t.schema,n))do{if(n=n.parent,!n)return}while(!lf(t.schema,n));t.change(t=>{t.setSelection(n,"in")})}}function lf(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}const uf=mr("Ctrl+A");class df extends Or{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new cf(t)),this.listenTo(e,"keydown",(e,n)=>{gr(n)===uf&&(t.execute("selectAll"),n.preventDefault())})}}class hf extends Or{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",e=>{const n=t.commands.get("selectAll"),r=new ku(e);return r.set({label:(0,e.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),r.bind("isEnabled").to(n,"isEnabled"),this.listenTo(r,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),r})}}class ff extends Or{static get requires(){return[df,hf]}static get pluginName(){return"SelectAll"}}class pf extends Pr{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(t.data,"set",(t,e)=>{e[1]={...e[1]};const n=e[1];n.batchType||(n.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(t,e)=>{e[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const r=this.editor.model,i=r.document,o=[],s=t.map(t=>t.getTransformedByOperations(n)),a=s.flat();for(const c of s){const t=c.filter(t=>t.root!=i.graveyard).filter(t=>!mf(t,a));t.length&&(gf(t),o.push(t[0]))}o.length&&r.change(t=>{t.setSelection(o,{backward:e})})}_undo(t,e){const n=this.editor.model,r=n.document;this._createdBatches.add(e);const i=t.operations.slice().filter(t=>t.isDocumentOperation);i.reverse();for(const o of i){const t=Array.from(r.history.getOperations(o.baseVersion+1)),i=Oc([o.getReversed()],t,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const s of i)e.addOperation(s),n.applyOperation(s),r.history.setOperationAsUndone(o,s)}}}function gf(t){t.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let e=1;e<t.length;e++){const n=t[e-1].getJoined(t[e],!0);n&&(e--,t.splice(e,2,n))}}function mf(t,e){return e.some(e=>e!==t&&e.containsRange(t,!0))}class bf extends pf{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(n.batch,r);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,r)}),this.refresh()}}class vf extends pf{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const n=this.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);this._restoreSelection(t.selection.ranges,t.selection.isBackward,n),this._undo(t.batch,e)}),this.refresh()}}class yf extends Or{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new bf(t),this._redoCommand=new vf(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const r=n.batch,i=this._redoCommand._createdBatches.has(r),o=this._undoCommand._createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(i?this._undoCommand.addBatch(r):o||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const _f='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',wf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class kf extends Or{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?_f:wf,i="ltr"==e.uiLanguageDirection?wf:_f;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",i)}_addButton(t,e,n,r){const i=this.editor;i.ui.componentFactory.add(t,o=>{const s=i.commands.get(t),a=new ku(o);return a.set({label:e,icon:r,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>{i.execute(t),i.editing.view.focus()}),a})}}class Cf extends Or{static get requires(){return[yf,kf]}static get pluginName(){return"Undo"}}class Af extends(H()){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,r)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{r("error")},e.onabort=()=>{r("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class Ef extends Or{static get pluginName(){return"FileRepository"}static get requires(){return[fu]}init(){this.loaders=new Cr,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return k("filerepository-no-upload-adapter"),null;const e=new xf(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(t=>{this._loadersMap.set(t,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof xf?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((t,n)=>{t===e&&this._loadersMap.delete(n)})}_updatePendingAction(){const t=this.editor.plugins.get(fu);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("Upload in progress")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}class xf extends(H()){constructor(t,e){super(),this.id=v(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new Af,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new w("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t}).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t})}upload(){if("idle"!=this.status)throw new w("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,r)=>{e.rejecter=r,e.isFulfilled=!1,t.then(t=>{e.isFulfilled=!0,n(t)}).catch(t=>{e.isFulfilled=!0,r(t)})}),e}}class Sf extends Jl{constructor(t){super(t),this.buttonView=new ku(t),this._fileInputView=new If(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class If extends Jl{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Tf="abcdefghijklmnopqrstuvwxyz0123456789";class Df{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const r=this.xhr,i=this.loader,o=(0,this.t)("Cannot upload file:")+` ${n.name}.`;r.addEventListener("error",()=>e(o)),r.addEventListener("abort",()=>e()),r.addEventListener("load",()=>{const n=r.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:o);t({default:n.url})}),r.upload&&r.upload.addEventListener("progress",t=>{t.lengthComputable&&(i.uploadTotal=t.total,i.uploaded=t.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===t)return decodeURIComponent(e[1])}return null}("ckCsrfToken");var e;return t&&40==t.length||(t=function(t){let e="";const n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let r=0;r<n.length;r++){const t=Tf.charAt(n[r]%Tf.length);e+=Math.random()>.5?t.toUpperCase():t}return e}(),e=t,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(e)}}function Rf(t,e,n,r){let i,o=null;"function"==typeof r?i=r:(o=t.commands.get(r),i=()=>{t.execute(r)}),t.model.document.on("change:data",(s,a)=>{if(o&&!o.isEnabled||!e.isEnabled)return;const c=Ar(t.model.document.selection.getRanges());if(!c.isCollapsed)return;if(a.isUndo||!a.isLocal)return;const l=Array.from(t.model.document.differ.getChanges()),u=l[0];if(1!=l.length||"insert"!==u.type||"$text"!=u.name||1!=u.length)return;const d=u.position.parent;if(d.is("element","codeBlock"))return;if(d.is("element","listItem")&&"function"!=typeof r&&!["numberedList","bulletedList","todoList"].includes(r))return;if(o&&!0===o.value)return;const h=d.getChild(0),f=t.model.createRangeOn(h);if(!f.containsRange(c)&&!c.end.isEqual(f.end))return;const p=n.exec(h.data.substr(0,c.end.offset));p&&t.model.enqueueChange(e=>{const n=e.createPositionAt(d,0),r=e.createPositionAt(d,p[0].length),o=new oa(n,r);if(!1!==i({match:p})){e.remove(o);const n=t.model.document.selection.getFirstRange(),r=e.createRangeIn(d);!d.isEmpty||r.isEqual(n)||r.containsRange(n,!0)||e.remove(d)}o.detach(),t.model.enqueueChange(()=>{t.plugins.get("Delete").requestUndoOnBackspace()})})})}function Of(t,e,n,r){let i,o;n instanceof RegExp?i=n:o=n,o=o||(t=>{let e;const n=[],r=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:o,3:s}=e;t+=e[0].length-(i+o+s).length;const a=[t+i.length+o.length,t+i.length+o.length+s.length];n.push([t,t+i.length]),n.push(a),r.push([t+i.length,t+i.length+o.length])}return{remove:n,format:r}}),t.model.document.on("change:data",(n,i)=>{if(i.isUndo||!i.isLocal||!e.isEnabled)return;const s=t.model,a=s.document.selection;if(!a.isCollapsed)return;const c=Array.from(s.document.differ.getChanges()),l=c[0];if(1!=c.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const u=a.focus,d=u.parent,{text:h,range:f}=function(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,r)=>!r.is("$text")&&!r.is("$textProxy")||r.getAttribute("code")?(n=e.createPositionAfter(r),""):t+r.data,""),range:e.createRange(n,t.end)}}(s.createRange(s.createPositionAt(d,0),u),s),p=o(h),g=Nf(f.start,p.format,s),m=Nf(f.start,p.remove,s);g.length&&m.length&&s.enqueueChange(e=>{if(!1!==r(e,g)){for(const t of m.reverse())e.remove(t);s.enqueueChange(()=>{t.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Nf(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}function Pf(t,e){return(n,r)=>{if(!t.commands.get(e).isEnabled)return!1;const i=t.model.schema.getValidRanges(r,e);for(const t of i)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class Mf extends Pr{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,r=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)r?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const i=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of i)r?t.setAttribute(this.attributeKey,r,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const r of n.getRanges())for(const t of r.getItems())if(e.checkAttribute(t,this.attributeKey))return t.hasAttribute(this.attributeKey);return!1}}const Lf="bold";class jf extends Or{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Lf}),t.model.schema.setAttributeProperties(Lf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Lf,view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add(Lf,new Mf(t,Lf)),t.keystrokes.set("CTRL+B",Lf)}}const Ff="bold";class Bf extends Or{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Ff,n=>{const r=t.commands.get(Ff),i=new ku(n);return i.set({label:e("Bold"),icon:pu.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(i,"execute",()=>{t.execute(Ff),t.editing.view.focus()}),i})}}const zf="italic";class Qf extends Or{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:zf}),t.model.schema.setAttributeProperties(zf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:zf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(zf,new Mf(t,zf)),t.keystrokes.set("CTRL+I",zf)}}const Vf="italic";class Uf extends Or{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Vf,n=>{const r=t.commands.get(Vf),i=new ku(n);return i.set({label:e("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(i,"execute",()=>{t.execute(Vf),t.editing.view.focus()}),i})}}class qf extends Pr{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,r=Array.from(e.document.selection.getSelectedBlocks()),i=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(i){const e=r.filter(t=>Hf(t)||Wf(n,t));this._applyQuote(t,e)}else this._removeQuote(t,r.filter(Hf))})}_getValue(){const t=Ar(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Hf(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=Ar(this.editor.model.document.selection.getSelectedBlocks());return!!e&&Wf(t,e)}_removeQuote(t,e){Gf(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];Gf(t,e).reverse().forEach(e=>{let r=Hf(e.start);r||(r=t.createElement("blockQuote"),t.wrap(e,r)),n.push(r)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n)}}function Hf(t){return"blockQuote"==t.parent.name?t.parent:null}function Gf(t,e){let n,r=0;const i=[];for(;r<e.length;){const o=e[r],s=e[r+1];n||(n=t.createPositionBefore(o)),s&&o.nextSibling==s||(i.push(t.createRange(n,t.createPositionAfter(o))),n=null),r++}return i}function Wf(t,e){const n=t.checkChild(e.parent,"blockQuote"),r=t.checkChild(["$root","blockQuote"],e);return n&&r}class Kf extends Or{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[vh,Wd]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new qf(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const r=t.model.document.differ.getChanges();for(const t of r)if("insert"==t.type){const r=t.position.nodeAfter;if(!r)continue;if(r.is("element","blockQuote")&&r.isEmpty)return n.remove(r),!0;if(r.is("element","blockQuote")&&!e.checkChild(t.position,r))return n.unwrap(r),!0;if(r.is("element")){const t=n.createRangeIn(r);for(const r of t.getItems())if(r.is("element","blockQuote")&&!e.checkChild(n.createPositionBefore(r),r))return n.unwrap(r),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("element","blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1});const n=this.editor.editing.view.document,r=t.model.document.selection,i=t.commands.get("blockQuote");this.listenTo(n,"enter",(e,n)=>{r.isCollapsed&&i.value&&r.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(e,n)=>{if("backward"!=n.direction||!r.isCollapsed||!i.value)return;const o=r.getLastPosition().parent;o.isEmpty&&!o.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())},{context:"blockquote"})}}var $f=i(3062);Qr()($f.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Yf extends Or{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const r=t.commands.get("blockQuote"),i=new ku(n);return i.set({label:e("Block quote"),icon:pu.quote,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(i,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),i})}}class Zf extends Or{static get pluginName(){return"CKBoxUI"}afterInit(){const t=this.editor;if(!t.commands.get("ckbox"))return;const e=t.t;t.ui.componentFactory.add("ckbox",n=>{const r=t.commands.get("ckbox"),i=new ku(n);return i.set({label:e("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),i.bind("isOn","isEnabled").to(r,"value","isEnabled"),i.on("execute",()=>{t.execute("ckbox")}),i})}}function Jf({token:t,id:e,origin:n,width:r,extension:i}){const o=Xf(t),s=function(t){const e=Math.floor(Math.max(10*t/100,80)),n=[Math.min(t,4e3)];let r=n[0];for(;r-e>=e;)r-=e,n.unshift(r);return n}(r),a=function(t){return"bmp"===t||"tiff"===t||"jpg"===t?"jpeg":t}(i);return{imageFallbackUrl:tp({environmentId:o,id:e,origin:n,width:r,extension:a}),imageSources:[{srcset:s.map(t=>`${tp({environmentId:o,id:e,origin:n,width:t,extension:"webp"})} ${t}w`).join(","),sizes:`(max-width: ${r}px) 100vw, ${r}px`,type:"image/webp"}]}}function Xf(t){const[,e]=t.value.split(".");return JSON.parse(atob(e)).aud}function tp({environmentId:t,id:e,origin:n,width:r,extension:i}){return new URL(`${t}/assets/${e}/images/${r}.${i}`,n).toString()}class ep extends Pr{constructor(t){super(t),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");return!(!t.isEnabled&&!e.isEnabled)}_prepareOptions(){const t=this.editor.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,assetsOrigin:t.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const t=this.editor,e=t.model,n=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=gt(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(r,i)=>{if(!this.isEnabled)return;const o=t.commands.get("insertImage"),s=t.commands.get("link"),a=t.plugins.get("CKBoxEditing"),c=function({assets:t,origin:e,token:n,isImageAllowed:r,isLinkAllowed:i}){return t.map(t=>({id:t.data.id,type:rp(t)?"image":"link",attributes:np(t,n,e)})).filter(t=>"image"===t.type?r:i)}({assets:i,origin:t.config.get("ckbox.assetsOrigin"),token:a.getToken(),isImageAllowed:o.isEnabled,isLinkAllowed:s.isEnabled});0!==c.length&&e.change(t=>{for(const e of c)this._insertAsset(e,e===c[c.length-1],t),n&&(setTimeout(()=>this._chosenAssets.delete(e),1e3),this._chosenAssets.add(e))})}),this.listenTo(t,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(t,e,n){const r=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),"image"===t.type?this._insertImage(t):this._insertLink(t,n),e||n.setSelection(r.getLastPosition())}_insertImage(t){const e=this.editor,{imageFallbackUrl:n,imageSources:r,imageTextAlternative:i}=t.attributes;e.execute("insertImage",{source:{src:n,sources:r,alt:i}})}_insertLink(t,e){const n=this.editor,r=n.model,i=r.document.selection,{linkName:o,linkHref:s}=t.attributes;if(i.isCollapsed){const t=Sr(i.getAttributes()),n=e.createText(o,t),s=r.insertContent(n);e.setSelection(s)}n.execute("link",s)}}function np(t,e,n){if(rp(t)){const{imageFallbackUrl:r,imageSources:i}=Jf({token:e,origin:n,id:t.data.id,width:t.data.metadata.width,extension:t.data.extension});return{imageFallbackUrl:r,imageSources:i,imageTextAlternative:t.data.metadata.description||""}}return{linkName:t.data.name,linkHref:ip(t,e,n)}}function rp(t){const e=t.data.metadata;return!!e&&e.width&&e.height}function ip(t,e,n){const r=Xf(e),i=new URL(`${r}/assets/${t.data.id}/file`,n);return i.searchParams.set("download","true"),i.toString()}class op extends Or{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ef,cp]}static get pluginName(){return"CKBoxUploadAdapter"}async afterInit(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;const r=t.plugins.get(Ef),i=t.plugins.get(cp);r.createUploadAdapter=e=>new sp(e,i.getToken(),t);const o=!t.config.get("ckbox.ignoreDataId"),s=t.plugins.get("ImageUploadEditing");o&&s.on("uploadComplete",(e,{imageElement:n,data:r})=>{t.model.change(t=>{t.setAttribute("ckboxImageId",r.ckboxImageId,n)})})}}class sp{constructor(t,e,n){this.loader=t,this.token=e,this.editor=n,this.controller=new AbortController,this.serviceOrigin=n.config.get("ckbox.serviceOrigin"),this.assetsOrigin=n.config.get("ckbox.assetsOrigin")}async getAvailableCategories(t=0){const e=new URL("categories",this.serviceOrigin);return e.searchParams.set("limit",50..toString()),e.searchParams.set("offset",t.toString()),this._sendHttpRequest({url:e}).then(async e=>{if(e.totalCount-(t+50)>0){const n=await this.getAvailableCategories(t+50);return[...e.items,...n]}return e.items}).catch(()=>{this.controller.signal.throwIfAborted(),C("ckbox-fetch-category-http-error")})}async getCategoryIdForFile(t){const e=ap(t.name),n=await this.getAvailableCategories();if(!n)return null;const r=this.editor.config.get("ckbox.defaultUploadCategories");if(r){const t=Object.keys(r).find(t=>r[t].includes(e));if(t){const e=n.find(e=>e.id===t||e.name===t);return e?e.id:null}}const i=n.find(t=>t.extensions.includes(e));return i?i.id:null}async upload(){const t=this.editor.t,e=t("Cannot determine a category for the uploaded file."),n=await this.loader.file,r=await this.getCategoryIdForFile(n);if(!r)return Promise.reject(e);const i=new URL("assets",this.serviceOrigin),o=new FormData;return o.append("categoryId",r),o.append("file",n),this._sendHttpRequest({method:"POST",url:i,data:o,onUploadProgress:t=>{t.lengthComputable&&(this.loader.uploadTotal=t.total,this.loader.uploaded=t.loaded)}}).then(async t=>{const e=await this._getImageWidth(),r=ap(n.name),i=Jf({token:this.token,id:t.id,origin:this.assetsOrigin,width:e,extension:r});return{ckboxImageId:t.id,default:i.imageFallbackUrl,sources:i.imageSources}}).catch(()=>{const e=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(e)})}abort(){this.controller.abort()}_sendHttpRequest(t){const{url:e,data:n,onUploadProgress:r}=t,i=t.method||"GET",o=this.controller.signal,s=new XMLHttpRequest;s.open(i,e.toString(),!0),s.setRequestHeader("Authorization",this.token.value),s.setRequestHeader("CKBox-Version","CKEditor 5"),s.responseType="json";const a=()=>{s.abort()};return new Promise((t,e)=>{o.addEventListener("abort",a),s.addEventListener("loadstart",()=>{o.addEventListener("abort",a)}),s.addEventListener("loadend",()=>{o.removeEventListener("abort",a)}),s.addEventListener("error",()=>{e()}),s.addEventListener("abort",()=>{e()}),s.addEventListener("load",async()=>{const n=s.response;return!n||n.statusCode>=400?e(n&&n.message):t(n)}),r&&s.upload.addEventListener("progress",t=>{r(t)}),s.send(n)})}_getImageWidth(){return new Promise(t=>{const e=new Image;e.onload=()=>{URL.revokeObjectURL(e.src),t(e.width)},e.src=this.loader.data})}}function ap(t){return t.match(/\.(?<ext>[^.]+)$/).groups.ext}class cp extends Or{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",op]}async init(){const t=this.editor,e=!!t.config.get("ckbox"),n=!!window.CKBox;if(!e&&!n)return;this._initConfig();const r=t.plugins.get("CloudServicesCore"),i=t.config.get("ckbox.tokenUrl"),o=t.config.get("cloudServices.tokenUrl");this._token=i===o?t.plugins.get("CloudServices").token:await r.createToken(i).init(),t.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),n&&t.commands.add("ckbox",new ep(t))}getToken(){return this._token}_initConfig(){const t=this.editor;if(t.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:t.locale.uiLanguage,theme:"default",tokenUrl:t.config.get("cloudServices.tokenUrl")}),!t.config.get("ckbox.tokenUrl"))throw new w("ckbox-plugin-missing-token-url",this);t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||C("ckbox-plugin-image-feature-missing",t)}_initSchema(){const t=this.editor.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"}),t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.addAttributeCheck((t,e)=>{if(!t.last.getAttribute("linkHref")&&"ckboxLinkId"===e)return!1})}_initConversion(){const t=this.editor;t.conversion.for("downcast").add(t=>{t.on("attribute:ckboxLinkId:imageBlock",(t,e,n)=>{const{writer:r,mapper:i,consumable:o}=n;if(!o.consume(e.item,t.name))return;const s=[...i.toViewElement(e.item).getChildren()].find(t=>"a"===t.name);s&&(e.item.hasAttribute("ckboxLinkId")?r.setAttribute("data-ckbox-resource-id",e.item.getAttribute("ckboxLinkId"),s):r.removeAttribute("data-ckbox-resource-id",s))},{priority:"low"}),t.on("attribute:ckboxLinkId",(t,e,n)=>{const{writer:r,mapper:i,consumable:o}=n;if(o.consume(e.item,t.name)){if(e.attributeOldValue){const t=up(r,e.attributeOldValue);r.unwrap(i.toViewRange(e.range),t)}if(e.attributeNewValue){const t=up(r,e.attributeNewValue);e.item.is("selection")?r.wrap(r.document.selection.getFirstRange(),t):r.wrap(i.toViewRange(e.range),t)}}},{priority:"low"})}),t.conversion.for("upcast").add(t=>{t.on("element:a",(t,e,n)=>{const{writer:r,consumable:i}=n;if(!e.viewItem.getAttribute("href"))return;if(!i.consume(e.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const o=e.viewItem.getAttribute("data-ckbox-resource-id");if(o)if(e.modelRange)for(let s of e.modelRange.getItems())s.is("$textProxy")&&(s=s.textNode),dp(s)&&r.setAttribute("ckboxLinkId",o,s);else r.setAttribute("ckboxLinkId",o,e.modelCursor.nodeBefore||e.modelCursor.parent)},{priority:"low"})}),t.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),t.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const t=this.editor,e=t.model,n=e.document.selection;e.document.registerPostFixer(function(t){return e=>{let n=!1;const r=t.model,i=t.commands.get("ckbox");if(!i)return n;for(const t of r.document.differ.getChanges()){if("insert"!==t.type&&"attribute"!==t.type)continue;const r="insert"===t.type?new Ws(t.position,t.position.getShiftedBy(t.length)):t.range,o="attribute"===t.type&&"linkHref"===t.attributeKey&&null===t.attributeNewValue;for(const t of r.getItems()){if(o&&t.hasAttribute("ckboxLinkId")){e.removeAttribute("ckboxLinkId",t),n=!0;continue}const r=lp(t,i._chosenAssets);for(const i of r){const r="image"===i.type?"ckboxImageId":"ckboxLinkId";i.id!==t.getAttribute(r)&&(e.setAttribute(r,i.id,t),n=!0)}}}return n}}(t)),e.document.registerPostFixer(function(t){return e=>{!t.hasAttribute("linkHref")&&t.hasAttribute("ckboxLinkId")&&e.removeSelectionAttribute("ckboxLinkId")}}(n))}}function lp(t,e){const n=t.is("element","imageInline")||t.is("element","imageBlock"),r=t.hasAttribute("linkHref");return[...e].filter(e=>"image"===e.type&&n?e.attributes.imageFallbackUrl===t.getAttribute("src"):"link"===e.type&&r?e.attributes.linkHref===t.getAttribute("linkHref"):void 0)}function up(t,e){const n=t.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return t.setCustomProperty("link",!0,n),n}function dp(t){return!!t.is("$text")||!(!t.is("element","imageInline")&&!t.is("element","imageBlock"))}class hp extends Or{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("ckfinder",n=>{const r=t.commands.get("ckfinder"),i=new ku(n);return i.set({label:e("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),i.bind("isEnabled").to(r),i.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),i})}}class fp extends Pr{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new w("ckfinder-unknown-openermethod",t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const r=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=e=>{r&&r(e),e.on("files:choose",n=>{const r=n.data.files.toArray(),i=r.filter(t=>!t.isImage()),o=r.filter(t=>t.isImage());for(const e of i)t.execute("link",e.getUrl());const s=[];for(const t of o){const n=t.getUrl();s.push(n||e.request("file:getProxyUrl",{file:t}))}s.length&&pp(t,s)}),e.on("file:choose:resizedImage",e=>{const n=e.data.resizedUrl;if(n)pp(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not obtain resized image URL."),{title:n("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[e](n)}}function pp(t,e){if(t.commands.get("insertImage").isEnabled)t.execute("insertImage",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class gp extends Or{static get pluginName(){return"CKFinderEditing"}static get requires(){return[gd,"LinkEditing"]}init(){const t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new w("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new fp(t))}}class mp extends Or{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ef]}init(){const t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,r=e.uploadUrl;n&&(this._uploadGateway=t.plugins.get("CloudServicesCore").createUploadGateway(n,r),t.plugins.get(Ef).createUploadAdapter=t=>new bp(this._uploadGateway,t))}}class bp{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class vp extends Pr{refresh(){const t=this.editor.model,e=Ar(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&yp(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(r=>{const i=(t.selection||n.selection).getSelectedBlocks();for(const t of i)!t.is("element","paragraph")&&yp(t,e.schema)&&r.rename(t,"paragraph")})}}function yp(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class _p extends Pr{execute(t){const e=this.editor.model,n=t.attributes;let r=t.position;e.change(t=>{const i=t.createElement("paragraph");if(n&&e.schema.setAllowedAttributes(i,n,t),!e.schema.checkChild(r.parent,i)){const n=e.schema.findAllowedParent(r,i);if(!n)return;r=t.split(r,n).position}e.insertContent(i,r),t.setSelection(i,"in")})}}class wp extends Or{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new vp(t)),t.commands.add("insertParagraph",new _p(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,{writer:e})=>wp.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}wp.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class kp extends Pr{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Ar(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>Cp(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,r=t.value;e.change(t=>{const i=Array.from(n.selection.getSelectedBlocks()).filter(t=>Cp(t,r,e.schema));for(const e of i)e.is("element",r)||t.rename(e,r)})}}function Cp(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const Ap="paragraph";class Ep extends Or{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[wp]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const r of e)r.model!==Ap&&(t.model.schema.register(r.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(r),n.push(r.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new kp(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,r)=>{const i=t.model.document.selection.getFirstPosition().parent;n.some(t=>i.is("element",t.model))&&!i.is("element",Ap)&&0===i.childCount&&r.writer.rename(i,Ap)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:y.get("low")+1})}}var xp=i(8733);Qr()(xp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sp extends Or{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t})}(t),r=e("Choose heading"),i=e("Heading");t.ui.componentFactory.add("heading",e=>{const o={},s=new Cr,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new md({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),o[t.model]=t.title}const u=Zu(e);return Xu(u,s),u.buttonView.set({isOn:!1,withText:!0,tooltip:i}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(l,"isEnabled",(...t)=>t.some(t=>t)),u.buttonView.bind("label").to(a,"value",c,"value",(t,e)=>{const n=t||e&&"paragraph";return o[n]?o[n]:r}),this.listenTo(u,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),u})}}class Ip extends Pr{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.value=!(!this.isEnabled||!t.hasAttribute("alt"))&&t.getAttribute("alt")}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),r=e.model,i=n.getClosestSelectedImageElement(r.document.selection);r.change(e=>{e.setAttribute("alt",t.newValue,i)})}}function Tp(t){return t.createContainerElement("figure",{class:"image"},[t.createEmptyElement("img"),t.createSlot()])}function Dp(t,e){const n=t.plugins.get("ImageUtils"),r=t.plugins.has("ImageInlineEditing")&&t.plugins.has("ImageBlockEditing");return t=>n.isInlineImageView(t)?r&&("block"==t.getStyle("display")||t.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:function(t){const e={name:!0};return t.hasAttribute("src")&&(e.attributes=["src"]),e}(t):null}function Rp(t,e){const n=Ar(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}class Op extends Or{static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null){const r=this.editor,i=r.model,o=i.document.selection;n=Np(r,e||o,n),t={...Object.fromEntries(o.getAttributes()),...t};for(const s in t)i.schema.checkAttribute(n,s)||delete t[s];return i.change(r=>{const o=r.createElement(n,t);return i.insertObject(o,e,null,{setSelection:"on",findOptimalPosition:!e&&"imageInline"!=n}),o.parent?o:null})}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const n=t.getSelectedElement();if(n&&this.isImageWidget(n))return n;let r=e.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return function(t,e){if("imageBlock"==Np(t,e)){const n=function(t,e){const n=Ph(t,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(e,t.model);if(t.model.schema.checkChild(n,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(t){return[...t.focus.getAncestors()].every(t=>!t.is("element","imageBlock"))}(t)}toImageWidget(t,e,n){return e.setCustomProperty("image",!0,t),Th(t,e,{label:()=>{const e=this.findViewImgElement(t).getAttribute("alt");return e?`${e} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&Ih(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}}function Np(t,e,n){const r=t.model.schema,i=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||("inline"===i?"imageInline":"block"===i?"imageBlock":e.is("selection")?Rp(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Pp extends Or{static get requires(){return[Op]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Ip(this.editor))}}var Mp=i(1905);Qr()(Mp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Lp=i(6764);Qr()(Lp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jp extends Jl{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Er,this.keystrokes=new xr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),pu.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),pu.cancel,"ck-button-cancel","cancel"),this._focusables=new Dl,this._focusCycler=new Nu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),mu(this)}render(){super.render(),this.keystrokes.listenTo(this.element),bu({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,r){const i=new ku(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createLabeledInputView(){const t=this.locale.t,e=new fd(this.locale,pd);return e.label=t("Text alternative"),e}}function Fp(t){const e=t.editing.view,n=nu.defaultPositions,r=t.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class Bp extends Or{static get requires(){return[_d]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const r=t.commands.get("imageTextAlternative"),i=new ku(n);return i.set({label:e("Change image text alternative"),icon:pu.lowVision,tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",t=>!!t),this.listenTo(i,"execute",()=>{this._showForm()}),i})}_createForm(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new jp(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{n.getClosestSelectedImageWidget(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){const n=Fp(t);e.updatePosition(n)}}(t):this._hideForm(!0)}),gu({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Fp(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class zp extends Or{static get requires(){return[Pp,Bp]}static get pluginName(){return"ImageTextAlternative"}}function Qp(t,e){return t=>{t.on("attribute:srcset:"+e,n)};function n(e,n,r){if(!r.consumable.consume(n.item,e.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=t.findViewImgElement(o);if(null===n.attributeNewValue){const t=n.attributeOldValue;t.data&&(i.removeAttribute("srcset",s),i.removeAttribute("sizes",s),t.width&&i.removeAttribute("width",s))}else{const t=n.attributeNewValue;t.data&&(i.setAttribute("srcset",t.data,s),i.setAttribute("sizes","100vw",s),t.width&&i.setAttribute("width",t.width,s))}}}function Vp(t,e,n){return t=>{t.on(`attribute:${n}:${e}`,r)};function r(e,n,r){if(!r.consumable.consume(n.item,e.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=t.findViewImgElement(o);i.setAttribute(n.attributeKey,n.attributeNewValue||"",s)}}class Up extends qo{observe(t){this.listenTo(t,"load",(t,e)=>{const n=e.target;this.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&this._fireEvents(e)},{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class qp extends Pr{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||"block"===e&&k("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||"inline"===e&&k("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(t){const e=yr(t.source),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());e.forEach((t,e)=>{const o=n.getSelectedElement();if("string"==typeof t&&(t={src:t}),e&&o&&r.isImage(o)){const e=this.editor.model.createPositionAfter(o);r.insertImage({...t,...i},e)}else r.insertImage({...t,...i})})}}class Hp extends Or{static get requires(){return[Op]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(Up),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}});const n=new qp(t);t.commands.add("insertImage",n),t.commands.add("imageInsert",n)}}class Gp extends Pr{constructor(t,e){super(t),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?t.isInlineImage(e):t.isBlockImage(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get("ImageUtils"),n=e.getClosestSelectedImageElement(t.document.selection),r=Object.fromEntries(n.getAttributes());return r.src||r.uploadId?t.change(i=>{const o=Array.from(t.markers).filter(t=>t.getRange().containsItem(n)),s=e.insertImage(r,t.createSelection(n,"on"),this._modelElementName);if(!s)return null;const a=i.createRangeOn(s);for(const t of o){const e=t.getRange(),n="$graveyard"!=e.root.rootName?e.getJoined(a,!0):a;i.updateMarker(t,{range:n})}return{oldElement:n,newElement:s}}):null}}class Wp extends Or{static get requires(){return[Hp,Op,Pd]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new Gp(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,r=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(t,{writer:e})=>Tp(e)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(t,{writer:n})=>r.toImageWidget(Tp(n),n,e("image widget"))}),n.for("downcast").add(Vp(r,"imageBlock","src")).add(Vp(r,"imageBlock","alt")).add(Qp(r,"imageBlock")),n.for("upcast").elementToElement({view:Dp(t,"imageBlock"),model:(t,{writer:e})=>e.createElement("imageBlock",t.hasAttribute("src")?{src:t.getAttribute("src")}:null)}).add(function(t){return t=>{t.on("element:figure",e)};function e(e,n,r){if(!r.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const i=t.findViewImgElement(n.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(n.viewItem,{name:!0,classes:"image"});const o=Ar(r.convertItem(i,n.modelCursor).modelRange.getItems());o?(r.convertChildren(n.viewItem,o),r.updateConversionResult(o,n)):r.consumable.revert(n.viewItem,{name:!0,classes:"image"})}}(r))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,r=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(i,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(r.isInlineImageView))return;a=o.targetRanges?t.editing.mapper.toModelRange(o.targetRanges[0]):e.document.selection.getFirstRange();const c=e.createSelection(a);if("imageBlock"===Rp(e.schema,c)){const t=new Al(n.document),e=s.map(e=>t.createElement("figure",{class:"image"},e));o.content=t.createDocumentFragment(e)}})}}var Kp=i(3508);Qr()(Kp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $p extends Or{static get requires(){return[Wp,Wh,zp]}static get pluginName(){return"ImageBlock"}}class Yp extends Or{static get requires(){return[Hp,Op,Pd]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,e=t.model.schema;e.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),e.addChildCheck((t,e)=>{if(t.endsWith("caption")&&"imageInline"===e.name)return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new Gp(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,r=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(t,{writer:e})=>e.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(t,{writer:n})=>r.toImageWidget(function(t){return t.createContainerElement("span",{class:"image-inline"},t.createEmptyElement("img"))}(n),n,e("image widget"))}),n.for("downcast").add(Vp(r,"imageInline","src")).add(Vp(r,"imageInline","alt")).add(Qp(r,"imageInline")),n.for("upcast").elementToElement({view:Dp(t,"imageInline"),model:(t,{writer:e})=>e.createElement("imageInline",t.hasAttribute("src")?{src:t.getAttribute("src")}:null)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,r=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(i,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(r.isBlockImageView))return;a=o.targetRanges?t.editing.mapper.toModelRange(o.targetRanges[0]):e.document.selection.getFirstRange();const c=e.createSelection(a);if("imageInline"===Rp(e.schema,c)){const t=new Al(n.document),e=s.map(e=>1===e.childCount?(Array.from(e.getAttributes()).forEach(n=>t.setAttribute(...n,r.findViewImgElement(e))),e.getChild(0)):e);o.content=t.createDocumentFragment(e)}})}}class Zp extends Or{static get requires(){return[Yp,Wh,zp]}static get pluginName(){return"ImageInline"}}class Jp extends Pr{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils");if(!t.plugins.has(Wp))return this.isEnabled=!1,void(this.value=!1);const n=t.model.document.selection,r=n.getSelectedElement();if(!r){const t=e.getCaptionFromModelSelection(n);return this.isEnabled=!!t,void(this.value=!!t)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(r),this.value=!!this.isEnabled&&!!e.getCaptionFromImageModelElement(r)}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(t=>{this.value?this._hideImageCaption(t):this._showImageCaption(t,e)})}_showImageCaption(t,e){const n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing");let i=n.getSelectedElement();const o=r._getSavedCaption(i);this.editor.plugins.get("ImageUtils").isInlineImage(i)&&(this.editor.execute("imageTypeBlock"),i=n.getSelectedElement());const s=o||t.createElement("caption");t.append(s,i),e&&t.setSelection(s,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,r=e.plugins.get("ImageCaptionEditing"),i=e.plugins.get("ImageCaptionUtils");let o,s=n.getSelectedElement();s?o=i.getCaptionFromImageModelElement(s):(o=i.getCaptionFromModelSelection(n),s=o.parent),r._saveCaption(s,o),t.setSelection(s,"on"),t.remove(o)}}class Xp extends Or{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Op]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return"figcaption"==t.name&&e.isBlockImageView(t.parent)?{name:!0}:null}}class tg extends Or{static get requires(){return[Op,Xp]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Jp(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),r=t.plugins.get("ImageCaptionUtils"),i=t.t;t.conversion.for("upcast").elementToElement({view:t=>r.matchImageCaptionViewElement(t),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(t,{writer:e})=>n.isBlockImage(t.parent)?e.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(t,{writer:r})=>{if(!n.isBlockImage(t.parent))return null;const o=r.createEditableElement("figcaption");r.setCustomProperty("imageCaption",!0,o),qr({view:e,element:o,text:i("Enter image caption"),keepOnFocus:!0});const s=t.parent.getAttribute("alt");return Nh(o,r,{label:s?i("Caption for image: %0",[s]):i("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),r=t.commands.get("imageTypeInline"),i=t.commands.get("imageTypeBlock"),o=t=>{if(!t.return)return;const{oldElement:r,newElement:i}=t.return;if(!r)return;if(e.isBlockImage(r)){const t=n.getCaptionFromImageModelElement(r);if(t)return void this._saveCaption(i,t)}const o=this._getSavedCaption(r);o&&this._saveCaption(i,o)};r&&this.listenTo(r,"execute",o,{priority:"low"}),i&&this.listenTo(i,"execute",o,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?Fs.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,n=t.plugins.get("ImageUtils"),r=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",()=>{const i=e.document.differ.getChanges();for(const e of i){if("alt"!==e.attributeKey)continue;const i=e.range.start.nodeAfter;if(n.isBlockImage(i)){const e=r.getCaptionFromImageModelElement(i);if(!e)return;t.editing.reconvertItem(e)}}})}}class eg extends Or{static get requires(){return[Xp]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),r=t.t;t.ui.componentFactory.add("toggleImageCaption",i=>{const o=t.commands.get("toggleImageCaption"),s=new ku(i);return s.set({icon:pu.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.bind("label").to(o,"value",t=>r(t?"Toggle caption off":"Toggle caption on")),this.listenTo(s,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const r=n.getCaptionFromModelSelection(t.model.document.selection);if(r){const n=t.editing.mapper.toViewElement(r);e.scrollToTheSelection(),e.change(t=>{t.addClass("image__caption_highlighted",n)})}t.editing.view.focus()}),s})}}var ng=i(2640);Qr()(ng.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class rg extends Pr{constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map(t=>{if(t.isDefault)for(const e of t.modelElements)this._defaultStyles[e]=t.name;return[t.name,t]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.value=!!this.isEnabled&&(t.hasAttribute("imageStyle")?t.getAttribute("imageStyle"):this._defaultStyles[t.name])}execute(t={}){const e=this.editor,n=e.model,r=e.plugins.get("ImageUtils");n.change(e=>{const i=t.value;let o=r.getClosestSelectedImageElement(n.document.selection);i&&this.shouldConvertImageType(i,o)&&(this.editor.execute(r.isBlockImage(o)?"imageTypeInline":"imageTypeBlock"),o=r.getClosestSelectedImageElement(n.document.selection)),!i||this._styles.get(i).isDefault?e.removeAttribute("imageStyle",o):e.setAttribute("imageStyle",i,o)})}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const{objectFullWidth:ig,objectInline:og,objectLeft:sg,objectRight:ag,objectCenter:cg,objectBlockLeft:lg,objectBlockRight:ug}=pu,dg={get inline(){return{name:"inline",title:"In line",icon:og,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:sg,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:lg,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:cg,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:ag,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:ug,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:cg,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:ag,modelElements:["imageBlock"],className:"image-style-side"}}},hg={full:ig,left:lg,right:ug,center:cg,inlineLeft:sg,inlineRight:ag,inline:og},fg=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function pg(t){k("image-style-configuration-definition-invalid",t)}const gg={normalizeStyles:function(t){return(t.configuredStyles.options||[]).map(t=>function(t){return"string"==typeof(t="string"==typeof t?dg[t]?{...dg[t]}:{name:t}:function(t,e){const n={...e};for(const r in t)Object.prototype.hasOwnProperty.call(e,r)||(n[r]=t[r]);return n}(dg[t.name],t)).icon&&(t.icon=hg[t.icon]||t.icon),t}(t)).filter(e=>function(t,{isBlockPluginLoaded:e,isInlinePluginLoaded:n}){const{modelElements:r,name:i}=t;if(!(r&&r.length&&i))return pg({style:t}),!1;{const i=[e?"imageBlock":null,n?"imageInline":null];if(!r.some(t=>i.includes(t)))return k("image-style-missing-dependency",{style:t,missingPlugins:r.map(t=>"imageBlock"===t?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,t))},getDefaultStylesConfiguration:function(t,e){return t&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:t?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(t){return t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")?[...fg]:[]},warnInvalidStyle:pg,DEFAULT_OPTIONS:dg,DEFAULT_ICONS:hg,DEFAULT_DROPDOWN_DEFINITIONS:fg};function mg(t,e){for(const n of e)if(n.name===t)return n}class bg extends Or{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Op]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=gg,n=this.editor,r=n.plugins.has("ImageBlockEditing"),i=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(r,i)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:i}),this._setupConversion(r,i),this._setupPostFixer(),n.commands.add("imageStyle",new rg(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,r=n.model.schema,i=(o=this.normalizedStyles,(t,e,n)=>{if(!n.consumable.consume(e.item,t.name))return;const r=mg(e.attributeNewValue,o),i=mg(e.attributeOldValue,o),s=n.mapper.toViewElement(e.item),a=n.writer;i&&a.removeClass(i.className,s),r&&a.addClass(r.className,s)});var o;const s=function(t){const e={imageInline:t.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:t.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,n,r)=>{if(!n.modelRange)return;const i=n.viewItem,o=Ar(n.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle"))for(const s of e[o.name])r.consumable.consume(i,{classes:s.className})&&r.writer.setAttribute("imageStyle",s.name,o)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",i),n.data.downcastDispatcher.on("attribute:imageStyle",i),t&&(r.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",s,{priority:"low"})),e&&(r.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",s,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(Op),r=new Map(this.normalizedStyles.map(t=>[t.name,t]));e.registerPostFixer(t=>{let i=!1;for(const o of e.differ.getChanges())if("insert"==o.type||"attribute"==o.type&&"imageStyle"==o.attributeKey){let e="insert"==o.type?o.position.nodeAfter:o.range.start.nodeAfter;if(e&&e.is("element","paragraph")&&e.childCount>0&&(e=e.getChild(0)),!n.isImage(e))continue;const s=e.getAttribute("imageStyle");if(!s)continue;const a=r.get(s);a&&a.modelElements.includes(e.name)||(t.removeAttribute("imageStyle",e),i=!0)}return i})}}var vg=i(5083);Qr()(vg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class yg extends Or{static get requires(){return[bg]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=_g(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const i of n)this._createButton(i);const r=_g([...e.filter(F),...gg.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const i of r)this._createDropdown(i,n)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,r=>{let i;const{defaultItem:o,items:s,title:a}=t,c=s.filter(t=>e.find(({name:e})=>wg(e)===t)).map(t=>{const e=n.create(t);return t===o&&(i=e),e});s.length!==c.length&&gg.warnInvalidStyle({dropdown:t});const l=Zu(r,Tu),u=l.buttonView,d=u.arrowView;return Ju(l,c,{enableActiveItemFocusOnDropdownOpen:!0}),u.set({label:kg(a,i.label),class:null,tooltip:!0}),d.unbind("label"),d.set({label:a}),u.bind("icon").toMany(c,"isOn",(...t)=>{const e=t.findIndex(_i);return e<0?i.icon:c[e].icon}),u.bind("label").toMany(c,"isOn",(...t)=>{const e=t.findIndex(_i);return kg(a,e<0?i.label:c[e].label)}),u.bind("isOn").toMany(c,"isOn",(...t)=>t.some(_i)),u.bind("class").toMany(c,"isOn",(...t)=>t.some(_i)?"ck-splitbutton_flatten":null),u.on("execute",()=>{c.some(({isOn:t})=>t)?l.isOpen=!l.isOpen:i.fire("execute")}),l.bind("isEnabled").toMany(c,"isEnabled",(...t)=>t.some(_i)),this.listenTo(l,"execute",()=>{this.editor.editing.view.focus()}),l})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(wg(e),n=>{const r=this.editor.commands.get("imageStyle"),i=new ku(n);return i.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",t=>t===e),i.on("execute",this._executeCommand.bind(this,e)),i})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function _g(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}function wg(t){return"imageStyle:"+t}function kg(t,e){return(t?t+": ":"")+e}function Cg(t){const e=t.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Ag(t){return new Promise((e,n)=>{const r=t.getAttribute("src");fetch(r).then(t=>t.blob()).then(t=>{const n=Eg(t,r),i=n.replace("image/",""),o=new File([t],"image."+i,{type:n});e(o)}).catch(t=>t&&"TypeError"===t.name?function(t){return function(t){return new Promise((e,n)=>{const r=Ln.document.createElement("img");r.addEventListener("load",()=>{const t=Ln.document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0),t.toBlob(t=>t?e(t):n())}),r.addEventListener("error",()=>n()),r.src=t})}(t).then(e=>{const n=Eg(e,t),r=n.replace("image/","");return new File([e],"image."+r,{type:n})})}(r).then(e).catch(n):n(t))})}function Eg(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class xg extends Or{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,e=t.t,n=n=>{const r=new Sf(n),i=t.commands.get("uploadImage"),o=t.config.get("image.upload.types"),s=Cg(o);return r.set({acceptedType:o.map(t=>"image/"+t).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:e("Insert image"),icon:pu.image,tooltip:!0}),r.buttonView.bind("isEnabled").to(i),r.on("done",(e,n)=>{const r=Array.from(n).filter(t=>s.test(t.type));r.length&&(t.execute("uploadImage",{file:r}),t.editing.view.focus())}),r};t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n)}}var Sg=i(3689);Qr()(Sg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Ig=i(4036);Qr()(Ig.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Tg=i(3773);Qr()(Tg.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Dg extends Or{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...t)=>this.uploadStatusChange(...t)),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const r=this.editor,i=e.item,o=i.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=r.plugins.get("ImageUtils"),a=r.plugins.get(Ef),c=o?e.attributeNewValue:null,l=this.placeholder,u=r.editing.mapper.toViewElement(i),d=n.writer;if("reading"==c)return Rg(u,d),void Og(s,l,u,d);if("uploading"==c){const t=a.loaders.get(o);return Rg(u,d),void(t?(Ng(u,d),function(t,e,n,r){const i=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),i),n.on("change:uploadedPercent",(t,e,n)=>{r.change(t=>{t.setStyle("width",n+"%",i)})})}(u,d,t,r.editing.view),function(t,e,n,r){if(r.data){const i=t.findViewImgElement(e);n.setAttribute("src",r.data,i)}}(s,u,d,t)):Og(s,l,u,d))}"complete"==c&&a.loaders.get(o)&&function(t,e,n){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout(()=>{n.change(t=>t.remove(t.createRangeOn(r)))},3e3)}(u,d,r.editing.view),function(t,e){Mg(t,e,"progressBar")}(u,d),Ng(u,d),function(t,e){e.removeClass("ck-appear",t)}(u,d)}}function Rg(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Og(t,e,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);const i=t.findViewImgElement(n);i.getAttribute("src")!==e&&r.setAttribute("src",e,i),Pg(n,"placeholder")||r.insert(r.createPositionAfter(i),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(r))}function Ng(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),Mg(t,e,"placeholder")}function Pg(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function Mg(t,e,n){const r=Pg(t,n);r&&e.remove(e.createRangeOn(r))}class Lg extends Pr{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=yr(t.file),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());e.forEach((t,e)=>{const o=n.getSelectedElement();if(e&&o&&r.isImage(o)){const e=this.editor.model.createPositionAfter(o);this._uploadImage(t,i,e)}else this._uploadImage(t,i)})}_uploadImage(t,e,n){const r=this.editor,i=r.plugins.get(Ef).createLoader(t),o=r.plugins.get("ImageUtils");i&&o.insertImage({...e,uploadId:i.id},n)}}class jg extends Or{static get requires(){return[Ef,gd,Pd,Op]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,e=t.model.document,n=t.conversion,r=t.plugins.get(Ef),i=t.plugins.get("ImageUtils"),o=Cg(t.config.get("image.upload.types")),s=new Lg(t);t.commands.add("uploadImage",s),t.commands.add("imageUpload",s),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(r=n.dataTransfer,Array.from(r.types).includes("text/html")&&""!==r.getData("text/html"))return;var r;const i=Array.from(n.dataTransfer.files).filter(t=>!!t&&o.test(t.type));i.length&&(e.stop(),t.model.change(e=>{n.targetRanges&&e.setSelection(n.targetRanges.map(e=>t.editing.mapper.toModelRange(e))),t.model.enqueueChange(()=>{t.execute("uploadImage",{file:i})})}))}),this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(e,n)=>{const o=Array.from(t.editing.view.createRangeIn(n.content)).filter(t=>function(t,e){return!(!t.isInlineImageView(e)||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))}(i,t.item)&&!t.item.getAttribute("uploadProcessed")).map(t=>({promise:Ag(t.item),imageElement:t.item}));if(!o.length)return;const s=new Al(t.editing.view.document);for(const t of o){s.setAttribute("uploadProcessed",!0,t.imageElement);const e=r.createLoader(t.promise);e&&(s.setAttribute("src","",t.imageElement),s.setAttribute("uploadId",e.id,t.imageElement))}}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),i=new Set;for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,o="$graveyard"==e.position.root.rootName;for(const e of Fg(t,n)){const t=e.getAttribute("uploadId");if(!t)continue;const n=r.loaders.get(t);n&&(o?i.has(t)||n.abort():(i.add(t),this._uploadImageElements.set(t,e),"idle"==n.status&&this._readAndUpload(n)))}}}),this.on("uploadComplete",(t,{imageElement:e,data:n})=>{const r=n.urls?n.urls:n;this.editor.model.change(t=>{t.setAttribute("src",r.default,e),this._parseAndSetSrcsetAttributeOnImage(r,e,t)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const e=this.editor,n=e.model,r=e.locale.t,i=e.plugins.get(Ef),o=e.plugins.get(gd),s=e.plugins.get("ImageUtils"),c=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},e=>{e.setAttribute("uploadStatus","reading",c.get(t.id))}),t.read().then(()=>{const r=t.upload(),i=c.get(t.id);if(a){const t=e.editing.mapper.toViewElement(i),n=s.findViewImgElement(t);e.editing.view.once("render",()=>{if(!n.parent)return;const t=e.editing.view.domConverter.mapViewToDom(n.parent);if(!t)return;const r=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=r})}return n.enqueueChange({isUndoable:!1},t=>{t.setAttribute("uploadStatus","uploading",i)}),r}).then(e=>{n.enqueueChange({isUndoable:!1},n=>{const r=c.get(t.id);n.setAttribute("uploadStatus","complete",r),this.fire("uploadComplete",{data:e,imageElement:r})}),l()}).catch(e=>{if("error"!==t.status&&"aborted"!==t.status)throw e;"error"==t.status&&e&&o.showWarning(e,{title:r("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},e=>{e.remove(c.get(t.id))}),l()});function l(){n.enqueueChange({isUndoable:!1},e=>{const n=c.get(t.id);e.removeAttribute("uploadId",n),e.removeAttribute("uploadStatus",n),c.delete(t.id)}),i.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let r=0;const i=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return r=Math.max(r,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:r},e)}}function Fg(t,e){const n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter(t=>n.isImage(t.item)).map(t=>t.item)}class Bg extends Or{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Lr(t)),t.commands.add("outdent",new Lr(t))}}const zg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Qg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Vg extends Or{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?zg:Qg,i="ltr"==e.uiLanguageDirection?Qg:zg;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),i)}_defineButton(t,e,n){const r=this.editor;r.ui.componentFactory.add(t,i=>{const o=r.commands.get(t),s=new ku(i);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(s,"execute",()=>{r.execute(t),r.editing.view.focus()}),s})}}class Ug{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(t=>this._definitions.add(t)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;if(!e.item.is("selection")&&!n.schema.isInline(e.item))return;const r=n.writer,i=r.document.selection;for(const o of this._definitions){const t=r.createAttributeElement("a",o.attributes,{priority:5});o.classes&&r.addClass(o.classes,t);for(const e in o.styles)r.setStyle(e,o.styles[e],t);r.setCustomProperty("link",!0,t),o.callback(e.attributeNewValue)?e.item.is("selection")?r.wrap(i.getFirstRange(),t):r.wrap(n.mapper.toViewRange(e.range),t):r.unwrap(n.mapper.toViewRange(e.range),t)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(t,e,{writer:n,mapper:r})=>{const i=r.toViewElement(e.item),o=Array.from(i.getChildren()).find(t=>"a"===t.name);for(const s of this._definitions){const t=Sr(s.attributes);if(s.callback(e.attributeNewValue)){for(const[e,r]of t)"class"===e?n.addClass(r,o):n.setAttribute(e,r,o);s.classes&&n.addClass(s.classes,o);for(const t in s.styles)n.setStyle(t,s.styles[t],o)}else{for(const[e,r]of t)"class"===e?n.removeClass(r,o):n.removeAttribute(e,o);s.classes&&n.removeClass(s.classes,o);for(const t in s.styles)n.removeStyle(t,o)}}})}}}var qg=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Hg=function(t){return qg.test(t)};var Gg="\\ud800-\\udfff",Wg="["+Gg+"]",Kg="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$g="\\ud83c[\\udffb-\\udfff]",Yg="[^"+Gg+"]",Zg="(?:\\ud83c[\\udde6-\\uddff]){2}",Jg="[\\ud800-\\udbff][\\udc00-\\udfff]",Xg="(?:"+Kg+"|"+$g+")?",tm="[\\ufe0e\\ufe0f]?",em=tm+Xg+"(?:\\u200d(?:"+[Yg,Zg,Jg].join("|")+")"+tm+Xg+")*",nm="(?:"+[Yg+Kg+"?",Kg,Zg,Jg,Wg].join("|")+")",rm=RegExp($g+"(?="+$g+")|"+nm+em,"g");const im=function(t){t=hi(t);var e=Hg(t)?function(t){return Hg(t)?function(t){return t.match(rm)||[]}(t):function(t){return t.split("")}(t)}(t):void 0,n=e?e[0]:t.charAt(0),r=e?function(t,e,n){return mi(t,1,n=void 0===n?t.length:n)}(e).join(""):t.slice(1);return n.toUpperCase()+r},om=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sm=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,am=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,cm=/^((\w+:(\/{2,})?)|(\W))/i,lm="Ctrl+K";function um(t,{writer:e}){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function dm(t){return function(t){return t.replace(om,"").match(sm)}(t=String(t))?t:"#"}function hm(t,e){return!!t&&e.checkAttribute(t.name,"linkHref")}function fm(t,e){const n=am.test(t)?"mailto:":e,r=!!n&&!pm(t);return t&&r?n+t:t}function pm(t){return cm.test(t)}function gm(t){window.open(t,"_blank","noopener")}class mm extends Pr{constructor(t){super(t),this.manualDecorators=new Cr,this.automaticDecorators=new Ug}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||Ar(e.getSelectedBlocks());hm(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(t,e={}){const n=this.editor.model,r=n.document.selection,i=[],o=[];for(const s in e)e[s]?i.push(s):o.push(s);n.change(e=>{if(r.isCollapsed){const s=r.getFirstPosition();if(r.hasAttribute("linkHref")){const a=dh(s,"linkHref",r.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,a),i.forEach(t=>{e.setAttribute(t,!0,a)}),o.forEach(t=>{e.removeAttribute(t,a)}),e.setSelection(e.createPositionAfter(a.end.nodeBefore))}else if(""!==t){const o=Sr(r.getAttributes());o.set("linkHref",t),i.forEach(t=>{o.set(t,!0)});const{end:a}=n.insertContent(e.createText(t,o),s);e.setSelection(a)}["linkHref",...i,...o].forEach(t=>{e.removeSelectionAttribute(t)})}else{const s=n.schema.getValidRanges(r.getRanges(),"linkHref"),a=[];for(const t of r.getSelectedBlocks())n.schema.checkAttribute(t,"linkHref")&&a.push(e.createRangeOn(t));const c=a.slice();for(const t of s)this._isRangeToUpdate(t,a)&&c.push(t);for(const n of c)e.setAttribute("linkHref",t,n),i.forEach(t=>{e.setAttribute(t,!0,n)}),o.forEach(t=>{e.removeAttribute(t,n)})}})}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,r=n.getSelectedElement();return hm(r,e.schema)?r.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}}class bm extends Pr{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();this.isEnabled=hm(n,t.schema)?t.schema.checkAttribute(n,"linkHref"):t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor.model,e=t.document.selection,n=this.editor.commands.get("link");t.change(r=>{const i=e.isCollapsed?[dh(e.getFirstPosition(),"linkHref",e.getAttribute("linkHref"),t)]:t.schema.getValidRanges(e.getRanges(),"linkHref");for(const t of i)if(r.removeAttribute("linkHref",t),n)for(const e of n.manualDecorators)r.removeAttribute(e.id,t)})}}class vm{constructor({id:t,label:e,attributes:n,classes:r,styles:i,defaultValue:o}){this.id=t,this.set("value"),this.defaultValue=o,this.label=e,this.attributes=n,this.classes=r,this.styles=i}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}g(vm,H);var ym=i(9773);Qr()(ym.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const _m="automatic",wm=/^(https?:)?\/\//;class km extends Or{static get pluginName(){return"LinkEditing"}static get requires(){return[Zd,Bd,Pd]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:um}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>um(dm(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new mm(t)),t.commands.add("unlink",new bm(t));const e=function(t,e){const n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach(t=>(t.label&&n[t.label]&&(t.label=n[t.label]),t)),e}(t.t,function(t){const e=[];if(t)for(const[n,r]of Object.entries(t)){const t=Object.assign({},r,{id:"link"+im(n)});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter(t=>t.mode===_m)),this._enableManualDecorators(e.filter(t=>"manual"===t.mode)),t.plugins.get(Zd).registerAttribute("linkHref"),function(t,e,n,r){const i=t.editing.view,o=new Set;i.document.registerPostFixer(n=>{const i=t.model.document.selection;let s=!1;if(i.hasAttribute(e)){const a=dh(i.getFirstPosition(),e,i.getAttribute(e),t.model),c=t.editing.mapper.toViewRange(a);for(const t of c.getItems())t.is("element","a")&&!t.hasClass(r)&&(n.addClass(r,t),o.add(t),s=!0)}return s}),t.conversion.for("editingDowncast").add(t=>{function e(){i.change(t=>{for(const e of o.values())t.removeClass(r,e),o.delete(e)})}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})})}(t,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:_m,callback:t=>wm.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach(t=>{e.model.schema.extend("$text",{allowAttributes:t.id}),t=new vm(t),n.add(t),e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,{writer:n,schema:r},{item:i})=>{if((i.is("selection")||r.isInline(i))&&e){const e=n.createAttributeElement("a",t.attributes,{priority:5});t.classes&&n.addClass(t.classes,e);for(const r in t.styles)n.setStyle(r,t.styles[r],e);return n.setCustomProperty("link",!0,e),e}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...t._createPattern()},model:{key:t.id}})})}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(t,e)=>{if(!(r?e.domEvent.metaKey:e.domEvent.ctrlKey))return;let n=e.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const i=n.getAttribute("href");i&&(t.stop(),e.preventDefault(),gm(i))},{context:"$capture"}),this.listenTo(e,"keydown",(e,n)=>{const r=t.commands.get("link").value;r&&n.keyCode===fr.enter&&n.altKey&&(e.stop(),gm(r))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(t,"insertContent",()=>{const n=e.anchor.nodeBefore,r=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(r&&r.hasAttribute("linkHref")||t.change(e=>{Cm(e,Em(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.model;t.editing.view.addObserver(Cl);let n=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const t=e.document.selection;if(!t.isCollapsed)return;if(!t.hasAttribute("linkHref"))return;const r=t.getFirstPosition(),i=dh(r,"linkHref",t.getAttribute("linkHref"),e);(r.isTouching(i.start)||r.isTouching(i.end))&&e.change(t=>{Cm(t,Em(e.schema))})})}_enableTypingOverLink(){const t=this.editor;let e,n;this.listenTo(t.editing.view.document,"delete",()=>{n=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const r=t.model.document.selection;r.isCollapsed||(n?n=!1:Am(t)&&function(t){const e=t.document.selection,n=e.getFirstPosition(),r=e.getLastPosition(),i=n.nodeAfter;return!!i&&!!i.is("$text")&&!!i.hasAttribute("linkHref")&&(i===(r.textNode||r.nodeBefore)||dh(n,"linkHref",i.getAttribute("linkHref"),t).containsRange(t.createRange(n,r),!0))}(t.model)&&(e=r.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(r,[i])=>{n=!1,Am(t)&&e&&(t.model.change(t=>{for(const[n,r]of e)t.setAttribute(n,r,i)}),e=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,n=e.document.selection;let r=!1,i=!1;this.listenTo(t.editing.view.document,"delete",(t,e)=>{i="backward"===e.direction},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{r=!1;const t=n.getFirstPosition(),i=n.getAttribute("linkHref");if(!i)return;const o=dh(t,"linkHref",i,e);r=o.containsPosition(t)||o.end.isEqual(t)},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{i&&(i=!1,r||t.model.enqueueChange(t=>{Cm(t,Em(e.schema))}))},{priority:"low"})}}function Cm(t,e){t.removeSelectionAttribute("linkHref");for(const n of e)t.removeSelectionAttribute(n)}function Am(t){return t.model.change(t=>t.batch).isTyping}function Em(t){return t.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var xm=i(7754);Qr()(xm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sm extends Jl{constructor(t,e){super(t);const n=t.t;this.focusTracker=new Er,this.keystrokes=new xr,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),pu.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),pu.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusables=new Dl,this._focusCycler=new Nu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const r=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&r.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:this.children}),mu(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),bu({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new fd(this.locale,pd);return e.label=t("Link URL"),e}_createButton(t,e,n,r){const i=new ku(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const r=new Au(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,t],"value",(t,e)=>void 0===e&&void 0===t?n.defaultValue:t),r.on("execute",()=>{n.set("value",!r.isOn)}),e.add(r)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Jl;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}var Im=i(2347);Qr()(Im.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Tm extends Jl{constructor(t){super(t);const e=t.t;this.focusTracker=new Er,this.keystrokes=new xr,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("Edit link"),pu.pencil,"edit"),this.set("href"),this._focusables=new Dl,this._focusCycler=new Nu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const r=new ku(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const t=new ku(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&dm(t)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",t=>t||n("This link has no URL")),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}const Dm="link-ui";class Rm extends Or{static get requires(){return[_d]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(kl),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(_d),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),t.conversion.for("editingDowncast").markerToHighlight({model:Dm,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:Dm,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new Tm(t.locale),n=t.commands.get("link"),r=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set(lm,(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),r=new Sm(t.locale,e);return r.urlInputView.fieldView.bind("value").to(e,"value"),r.urlInputView.bind("isReadOnly").to(e,"isEnabled",t=>!t),r.saveButtonView.bind("isEnabled").to(e),this.listenTo(r,"submit",()=>{const{value:e}=r.urlInputView.fieldView.element,i=fm(e,n);t.execute("link",i,r.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(t,e)=>{this._closeFormView(),e()}),r}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(lm,(t,n)=>{n(),e.isEnabled&&this._showUI(!0)}),t.ui.componentFactory.add("link",t=>{const r=new ku(t);return r.isEnabled=!0,r.label=n("Link"),r.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',r.keystroke=lm,r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(e,"isEnabled"),r.bind("isOn").to(e,"value",t=>!!t),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),gu({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),r=o();const i=()=>{const t=this._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,r=e};function o(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document;let n=null;if(this.editor.model.markers.has(Dm)){const e=Array.from(this.editor.editing.mapper.markerNameToElements(Dm)),r=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1]));n=t.domConverter.viewRangeToDom(r)}else n=()=>{const n=this._getSelectedLinkElement();return n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())};return{target:n}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&Ih(n))return Om(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),r=Om(n.start),i=Om(n.end);return r&&r==i&&t.createRangeIn(r).getTrimmed().isEqual(n)?r:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(Dm))e.updateMarker(Dm,{range:n});else if(n.start.isAtEnd){const r=n.start.getLastMatchingPosition(({item:e})=>!t.schema.isContent(e),{boundaries:n});e.addMarker(Dm,{usingOperation:!1,affectsData:!1,range:e.createRange(r,n.end)})}else e.addMarker(Dm,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(Dm)&&t.change(t=>{t.removeMarker(Dm)})}}function Om(t){return t.getAncestors().find(t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e})}const Nm=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Pm extends Or{static get requires(){return[Wd]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,e=new Yd(t.model,t=>{if(!function(t){return t.length>4&&" "===t[t.length-1]&&" "!==t[t.length-2]}(t))return;const e=Mm(t.substr(0,t.length-1));return e?{url:e}:void 0});e.on("matched:data",(e,n)=>{const{batch:r,range:i,url:o}=n;if(!r.isTyping)return;const s=i.end.getShiftedBy(-1),a=s.getShiftedBy(-o.length),c=t.model.createRange(a,s);this._applyAutoLink(o,c)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",()=>{const t=e.document.selection.getFirstPosition();if(!t.parent.previousSibling)return;const n=e.createRangeIn(t.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",()=>{const t=e.document.selection.getFirstPosition(),n=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:r}=$d(t,e),i=Mm(n);if(i){const t=e.createRange(r.end.getShiftedBy(-i.length),r.end);this._applyAutoLink(i,t)}}_applyAutoLink(t,e){const n=this.editor.model,r=fm(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}(e,n)&&pm(r)&&!function(t){const e=t.start.nodeAfter;return e&&e.hasAttribute("linkHref")}(e)&&this._persistAutoLink(r,e)}_persistAutoLink(t,e){const n=this.editor.model,r=this.editor.plugins.get("Delete");n.enqueueChange(i=>{i.setAttribute("linkHref",t,e),n.enqueueChange(()=>{r.requestUndoOnBackspace()})})}}function Mm(t){const e=Nm.exec(t);return e?e[2]:null}class Lm extends Pr{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=Array.from(e.document.selection.getSelectedBlocks()).filter(t=>Fm(t,e.schema)),r=void 0!==t.forceValue?!t.forceValue:this.value;e.change(t=>{if(r){let e=n[n.length-1].nextSibling,r=Number.POSITIVE_INFINITY,i=[];for(;e&&"listItem"==e.name&&0!==e.getAttribute("listIndent");){const t=e.getAttribute("listIndent");t<r&&(r=t),i.push({element:e,listIndent:t-r}),e=e.nextSibling}i=i.reverse();for(const n of i)t.setAttribute("listIndent",n.listIndent,n.element)}if(!r){let t=Number.POSITIVE_INFINITY;for(const e of n)e.is("element","listItem")&&e.getAttribute("listIndent")<t&&(t=e.getAttribute("listIndent"));t=0===t?1:t,jm(n,!0,t),jm(n,!1,t)}for(const e of n.reverse())r&&"listItem"==e.name?t.rename(e,"paragraph"):r||"listItem"==e.name?r||"listItem"!=e.name||e.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,e):(t.setAttributes({listType:this.type,listIndent:0},e),t.rename(e,"listItem"));this.fire("_executeCleanup",n)})}_getValue(){const t=Ar(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=Ar(this.editor.model.document.selection.getSelectedBlocks());return!!e&&Fm(e,t)}}function jm(t,e,n){const r=e?t[0]:t[t.length-1];if(r.is("element","listItem")){let i=r[e?"previousSibling":"nextSibling"],o=r.getAttribute("listIndent");for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=n;)o>i.getAttribute("listIndent")&&(o=i.getAttribute("listIndent")),i.getAttribute("listIndent")==o&&t[e?"unshift":"push"](i),i=i[e?"previousSibling":"nextSibling"]}}function Fm(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class Bm extends Pr{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;let e=Array.from(t.document.selection.getSelectedBlocks());t.change(t=>{const n=e[e.length-1];let r=n.nextSibling;for(;r&&"listItem"==r.name&&r.getAttribute("listIndent")>n.getAttribute("listIndent");)e.push(r),r=r.nextSibling;this._indentBy<0&&(e=e.reverse());for(const i of e){const e=i.getAttribute("listIndent")+this._indentBy;e<0?t.rename(i,"paragraph"):t.setAttribute("listIndent",e,i)}this.fire("_executeCleanup",e)})}_checkEnabled(){const t=Ar(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let r=t.previousSibling;for(;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=e;){if(r.getAttribute("listIndent")==e)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}function zm(t,e,n,r){const i=e.parent,o=n.mapper,s=n.writer;let a=o.toViewPosition(r.createPositionBefore(t));const c=Um(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=o.toViewElement(c);a=s.breakContainer(s.createPositionAfter(t))}else if(l&&"listItem"==l.name){a=o.toViewPosition(r.createPositionAt(l,"end"));const t=o.findMappedViewAncestor(a),e=function(t){for(const e of t.getChildren())if("ul"==e.name||"ol"==e.name)return e;return null}(t);a=e?s.createPositionBefore(e):s.createPositionAt(t,"end")}else a=o.toViewPosition(r.createPositionBefore(t));if(a=Vm(a),s.insert(a,i),l&&"listItem"==l.name){const t=o.toViewElement(l),n=s.createRange(s.createPositionAt(t,0),a).getWalker({ignoreElementEnd:!0});for(const r of n)if(r.item.is("element","li")){const t=s.breakContainer(s.createPositionBefore(r.item)),i=r.item.parent,o=s.createPositionAt(e,"end");Qm(s,o.nodeBefore,o.nodeAfter),s.move(s.createRangeOn(i),o),n.position=t}}else{const n=i.nextSibling;if(n&&(n.is("element","ul")||n.is("element","ol"))){let r=null;for(const e of n.getChildren()){const n=o.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;r=e}r&&(s.breakContainer(s.createPositionAfter(r)),s.move(s.createRangeOn(r.parent),s.createPositionAt(e,"end")))}}Qm(s,i,i.nextSibling),Qm(s,i.previousSibling,i)}function Qm(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function Vm(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}function Um(t,e){const n=!!e.sameIndent,r=!!e.smallerIndent,i=e.listIndent;let o=t;for(;o&&"listItem"==o.name;){const t=o.getAttribute("listIndent");if(n&&i==t||r&&i>t)return o;o="forward"===e.direction?o.nextSibling:o.previousSibling}return null}function qm(t,e,n,r){t.ui.componentFactory.add(e,i=>{const o=t.commands.get(e),s=new ku(i);return s.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",()=>{t.execute(e),t.editing.view.focus()}),s})}function Hm(t,e){const n=[],r=t.parent,i={ignoreElementEnd:!1,startPosition:t,shallow:!0,direction:e},o=r.getAttribute("listIndent"),s=[...new Bs(i)].filter(t=>t.item.is("element")).map(t=>t.item);for(const a of s){if(!a.is("element","listItem"))break;if(a.getAttribute("listIndent")<o)break;if(!(a.getAttribute("listIndent")>o)){if(a.getAttribute("listType")!==r.getAttribute("listType"))break;if(a.getAttribute("listStyle")!==r.getAttribute("listStyle"))break;if(a.getAttribute("listReversed")!==r.getAttribute("listReversed"))break;if(a.getAttribute("listStart")!==r.getAttribute("listStart"))break;"backward"===e?n.unshift(a):n.push(a)}}return n}const Gm=["disc","circle","square"],Wm=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function Km(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:Mi.call(this)}class $m extends Or{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return function(t){return Gm.includes(t)?"bulleted":Wm.includes(t)?"numbered":null}(t)}getSelectedListItems(t){return function(t){let e=[...t.document.selection.getSelectedBlocks()].filter(t=>t.is("element","listItem")).map(e=>{const n=t.change(t=>t.createPositionAt(e,0));return[...Hm(n,"backward"),...Hm(n,"forward")]}).flat();return e=[...new Set(e)],e}(t)}getSiblingNodes(t,e){return Hm(t,e)}}function Ym(t){return(e,n,r)=>{const i=r.consumable;if(!i.test(n.item,"insert")||!i.test(n.item,"attribute:listType")||!i.test(n.item,"attribute:listIndent"))return;i.consume(n.item,"insert"),i.consume(n.item,"attribute:listType"),i.consume(n.item,"attribute:listIndent");const o=n.item;zm(o,function(t,e){const n=e.mapper,r=e.writer,i="numbered"==t.getAttribute("listType")?"ol":"ul",o=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=Km,e}(r),s=r.createContainerElement(i,null);return r.insert(r.createPositionAt(s,0),o),n.bindElements(t,o),o}(o,r),r,t)}}function Zm(t,e,n){if(!n.consumable.test(e.item,t.name))return;const r=n.mapper.toViewElement(e.item),i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r)),i.rename("numbered"==e.attributeNewValue?"ol":"ul",r.parent)}function Jm(t,e,n){n.consumable.consume(e.item,t.name);const r=n.mapper.toViewElement(e.item).parent,i=n.writer;Qm(i,r,r.nextSibling),Qm(i,r.previousSibling,r)}function Xm(t,e,n){if(n.consumable.test(e.item,t.name)&&"listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const r=n.writer,i=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&(t=r.breakContainer(t),"li"==t.parent.name);){const e=t,n=r.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=r.remove(r.createRange(e,n));i.push(t)}t=r.createPositionAfter(t.parent)}if(i.length>0){for(let e=0;e<i.length;e++){const n=t.nodeBefore;if(t=r.insert(t,i[e]).end,e>0){const e=Qm(r,n,n.nextSibling);e&&e.parent==n&&t.offset--}}Qm(r,t.nodeBefore,t.nodeAfter)}}}function tb(t,e,n){const r=n.mapper.toViewPosition(e.position);Qm(n.writer,r.nodeBefore,r.nodeAfter)}function eb(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,r=t.createElement("listItem"),i=function(t){let e=0,n=t.parent;for(;n;){if(n.is("element","li"))e++;else{const t=n.previousSibling;t&&t.is("element","li")&&e++}n=n.parent}return e}(e.viewItem);if(t.setAttribute("listIndent",i,r),t.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",r),!n.safeInsert(r,e.modelCursor))return;const o=function(t,e,n){const{writer:r,schema:i}=n;let o=r.createPositionAfter(t);for(const s of e)if("ul"==s.name||"ol"==s.name)o=n.convertItem(s,o).modelCursor;else{const e=n.convertItem(s,r.createPositionAt(t,"end")),a=e.modelRange.start.nodeAfter;a&&a.is("element")&&!i.checkChild(t,a.name)&&(t=e.modelCursor.parent.is("element","listItem")?e.modelCursor.parent:sb(e.modelCursor),o=r.createPositionAfter(t))}return o}(r,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,o),n.updateConversionResult(r,e)}}function nb(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)!e.is("element","li")&&!cb(e)&&e._remove()}}function rb(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1;for(const e of t)n&&!cb(e)&&e._remove(),cb(e)&&(n=!0)}}function ib(t){return(e,n)=>{if(n.isPhantom)return;const r=n.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){const e=n.mapper.toViewElement(r),i=e.getAncestors().find(cb),o=t.createPositionAt(e,0).getWalker();for(const t of o){if("elementStart"==t.type&&t.item.is("element","li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==i){n.viewPosition=t.nextPosition;break}}}}}function ob(t,[e,n,r]){let i,o=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n,r):this.document.selection,o&&o.is("element","listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("element","listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;o&&o.is("element","listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+t),o=o.nextSibling}}}function sb(t){const e=new Bs({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("element","listItem"));return n.value.item}function ab(t,e,n,r,i,o){const s=Um(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=i.mapper,c=i.writer,l=s?s.getAttribute("listIndent"):null;let u;if(s)if(l==t){const t=a.toViewElement(s).parent;u=c.createPositionAfter(t)}else{const t=o.createPositionAt(s,"end");u=a.toViewPosition(t)}else u=n;u=Vm(u);for(const d of[...r.getChildren()])cb(d)&&(u=c.move(c.createRangeOn(d),u).end,Qm(c,d,d.nextSibling),Qm(c,d.previousSibling,d))}function cb(t){return t.is("element","ol")||t.is("element","ul")}class lb extends Or{static get pluginName(){return"ListEditing"}static get requires(){return[vh,Wd,$m]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;var r;t.model.document.registerPostFixer(e=>function(t,e){const n=t.document.differ.getChanges(),r=new Map;let i=!1;for(const c of n)if("insert"==c.type&&"listItem"==c.name)o(c.position);else if("insert"==c.type&&"listItem"!=c.name){if("$text"!=c.name){const n=c.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),i=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),i=!0),n.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",n),i=!0),n.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",n),i=!0),n.hasAttribute("listStart")&&(e.removeAttribute("listStart",n),i=!0);for(const e of Array.from(t.createRangeIn(n)).filter(t=>t.item.is("element","listItem")))o(e.previousPosition)}o(c.position.getShiftedBy(c.length))}else"remove"==c.type&&"listItem"==c.name?o(c.position):("attribute"==c.type&&"listIndent"==c.attributeKey||"attribute"==c.type&&"listType"==c.attributeKey)&&o(c.range.start);for(const c of r.values())s(c),a(c);return i;function o(t){const e=t.nodeBefore;if(e&&e.is("element","listItem")){let t=e;if(r.has(t))return;for(let e=t.previousSibling;e&&e.is("element","listItem");e=t.previousSibling)if(t=e,r.has(t))return;r.set(e,t)}else{const e=t.nodeAfter;e&&e.is("element","listItem")&&r.set(e,e)}}function s(t){let n=0,r=null;for(;t&&t.is("element","listItem");){const o=t.getAttribute("listIndent");if(o>n){let s;null===r?(r=o-n,s=n):(r>o&&(r=o),s=o-r),e.setAttribute("listIndent",s,t),i=!0}else r=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],r=null;for(;t&&t.is("element","listItem");){const o=t.getAttribute("listIndent");if(r&&r.getAttribute("listIndent")>o&&(n=n.slice(0,o+1)),0!=o)if(n[o]){const r=n[o];t.getAttribute("listType")!=r&&(e.setAttribute("listType",r,t),i=!0)}else n[o]=t.getAttribute("listType");r=t,t=t.nextSibling}}}(t.model,e)),n.mapper.registerViewToModelLength("li",ub),e.mapper.registerViewToModelLength("li",ub),n.mapper.on("modelToViewPosition",ib(n.view)),n.mapper.on("viewToModelPosition",(r=t.model,(t,e)=>{const n=e.viewPosition,i=n.parent,o=e.mapper;if("ul"==i.name||"ol"==i.name){if(n.isAtEnd){const t=o.toModelElement(n.nodeBefore),i=o.getModelLength(n.nodeBefore);e.modelPosition=r.createPositionBefore(t).getShiftedBy(i)}else{const t=o.toModelElement(n.nodeAfter);e.modelPosition=r.createPositionBefore(t)}t.stop()}else if("li"==i.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const s=o.toModelElement(i);let a=1,c=n.nodeBefore;for(;c&&cb(c);)a+=o.getModelLength(c),c=c.previousSibling;e.modelPosition=r.createPositionBefore(s).getShiftedBy(a),t.stop()}})),e.mapper.on("modelToViewPosition",ib(n.view)),t.conversion.for("editingDowncast").add(e=>{e.on("insert",Xm,{priority:"high"}),e.on("insert:listItem",Ym(t.model)),e.on("attribute:listType:listItem",Zm,{priority:"high"}),e.on("attribute:listType:listItem",Jm,{priority:"low"}),e.on("attribute:listIndent:listItem",function(t){return(e,n,r)=>{if(!r.consumable.consume(n.item,"attribute:listIndent"))return;const i=r.mapper.toViewElement(n.item),o=r.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));const s=i.parent,a=s.previousSibling,c=o.createRangeOn(s);o.remove(c),a&&a.nextSibling&&Qm(o,a,a.nextSibling),ab(n.attributeOldValue+1,n.range.start,c.start,i,r,t),zm(n.item,i,r,t);for(const t of n.item.getChildren())r.consumable.consume(t,"insert")}}(t.model)),e.on("remove:listItem",function(t){return(e,n,r)=>{const i=r.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("element","li")).nodeAfter,o=r.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));const s=i.parent,a=s.previousSibling,c=o.createRangeOn(s),l=o.remove(c);a&&a.nextSibling&&Qm(o,a,a.nextSibling),ab(r.mapper.toModelElement(i).getAttribute("listIndent")+1,n.position,c.start,i,r,t);for(const t of o.createRangeIn(l).getItems())r.mapper.unbindViewElement(t);e.stop()}}(t.model)),e.on("remove",tb,{priority:"low"})}),t.conversion.for("dataDowncast").add(e=>{e.on("insert",Xm,{priority:"high"}),e.on("insert:listItem",Ym(t.model))}),t.conversion.for("upcast").add(t=>{t.on("element:ul",nb,{priority:"high"}),t.on("element:ol",nb,{priority:"high"}),t.on("element:li",rb,{priority:"high"}),t.on("element:li",eb)}),t.model.on("insertContent",ob,{priority:"high"}),t.commands.add("numberedList",new Lm(t,"numbered")),t.commands.add("bulletedList",new Lm(t,"bulleted")),t.commands.add("indentList",new Bm(t,"forward")),t.commands.add("outdentList",new Bm(t,"backward"));const i=n.view.document;this.listenTo(i,"enter",(t,e)=>{const n=this.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())},{context:"li"}),this.listenTo(i,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const r=n.getFirstPosition();if(!r.isAtStart)return;const i=r.parent;"listItem"===i.name&&(i.previousSibling&&"listItem"===i.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(e,n)=>{const r=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(t.execute(r),n.stopPropagation(),n.preventDefault(),e.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function ub(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=ub(t);return e}class db extends Or{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;qm(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),qm(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function hb(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,r,i){if(!i.consumable.consume(r.item,n.name))return;const o=r.attributeNewValue,s=i.writer,a=i.mapper.toViewElement(r.item),c=[...a.getChildren()].find(t=>t.getCustomProperty("media-content"));s.remove(c);const l=t.getMediaViewElement(s,o,e);s.insert(s.createPositionAt(a,0),l)}}function fb(t,e,n,r){return t.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(t,n,r),t.createSlot()])}function pb(t){const e=t.getSelectedElement();return e&&e.is("element","media")?e:null}function gb(t,e,n,r){t.change(i=>{const o=i.createElement("media",{url:e});t.insertObject(o,n,null,{setSelection:"on",findOptimalPosition:r})})}class mb extends Pr{refresh(){const t=this.editor.model,e=t.document.selection,n=pb(e);this.value=n?n.getAttribute("url"):null,this.isEnabled=function(t){const e=t.getSelectedElement();return!!e&&"media"===e.name}(e)||function(t,e){let n=Ph(t,e).start.parent;return n.isEmpty&&!e.schema.isLimit(n)&&(n=n.parent),e.schema.checkChild(n,"media")}(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,r=pb(n);r?e.change(e=>{e.setAttribute("url",t,r)}):gb(e,t,n,!0)}}class bb{constructor(t,e){const n=e.providers,r=e.extraProviders||[],i=new Set(e.removeProviders),o=n.concat(r).filter(t=>{const e=t.name;return e?!i.has(e):(k("media-embed-no-provider-name",{provider:t}),!1)});this.locale=t,this.providerDefinitions=o}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new vb(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,r=yr(e.url);for(const e of r){const r=this._getUrlMatches(t,e);if(r)return new vb(this.locale,t,r,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let r=t.replace(/^https?:\/\//,"");return n=r.match(e),n||(r=r.replace(/^www\./,""),n=r.match(e),n||null)}}class vb{constructor(t,e,n,r){this.url=this._getValidUrl(e),this._locale=t,this._match=n,this._previewRenderer=r}getViewElement(t,e){const n={};let r;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);r=t.createRawElement("div",n,(t,e)=>{e.setContentOf(t,i)})}else this.url&&(n.url=this.url),r=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new _u,e=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new Rl({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var yb=i(7442);Qr()(yb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _b extends Or{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const e=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t[1]}${e?"?start="+e:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new bb(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,r=t.conversion,i=t.config.get("mediaEmbed.previewsInData"),o=t.config.get("mediaEmbed.elementName"),s=this.registry;t.commands.add("mediaEmbed",new mb(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),r.for("dataDowncast").elementToStructure({model:"media",view:(t,{writer:e})=>{const n=t.getAttribute("url");return fb(e,s,n,{elementName:o,renderMediaPreview:n&&i})}}),r.for("dataDowncast").add(hb(s,{elementName:o,renderMediaPreview:i})),r.for("editingDowncast").elementToStructure({model:"media",view:(t,{writer:e})=>{const r=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty("media",!0,t),Th(t,e,{label:n})}(fb(e,s,r,{elementName:o,renderForEditingView:!0}),e,n("media widget"))}}),r.for("editingDowncast").add(hb(s,{elementName:o,renderForEditingView:!0})),r.for("upcast").elementToElement({view:t=>["oembed",o].includes(t.name)&&t.getAttribute("url")?{name:!0}:null,model:(t,{writer:e})=>{const n=t.getAttribute("url");if(s.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,{writer:e})=>{const n=t.getAttribute("data-oembed-url");if(s.hasMedia(n))return e.createElement("media",{url:n})}}).add(t=>{t.on("element:figure",(function(t,e,n){if(!n.consumable.consume(e.viewItem,{name:!0,classes:"media"}))return;const{modelRange:r,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=r,e.modelCursor=i,Ar(r.getItems())||n.consumable.revert(e.viewItem,{name:!0,classes:"media"})}))})}}const wb=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class kb extends Or{static get requires(){return[af,Wd,Cf]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=Bc.fromPosition(t.start);n.stickiness="toPrevious";const r=Bc.fromPosition(t.end);r.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,r),n.detach(),r.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ln.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,r=n.plugins.get(_b).registry,i=new oa(t,e),o=i.getWalker({ignoreElementEnd:!0});let s="";for(const a of o)a.item.is("$textProxy")&&(s+=a.item.data);s=s.trim(),s.match(wb)&&r.hasMedia(s)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Bc.fromPosition(t),this._timeoutId=Ln.window.setTimeout(()=>{n.model.change(t=>{let e;this._timeoutId=null,t.remove(i),i.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),gb(n.model,s,e,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)):i.detach()}}var Cb=i(9292);Qr()(Cb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ab extends Jl{constructor(t,e){super(e);const n=e.t;this.focusTracker=new Er,this.keystrokes=new xr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),pu.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",t=>!!t),this.cancelButtonView=this._createButton(n("Cancel"),pu.cancel,"ck-button-cancel","cancel"),this._focusables=new Dl,this._focusCycler=new Nu({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),mu(this)}render(){super.render(),bu({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new fd(this.locale,pd),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),e}_createButton(t,e,n,r){const i=new ku(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}}class Eb extends Or{static get requires(){return[_b]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(_b).registry;t.ui.componentFactory.add("mediaEmbed",r=>{const i=Zu(r),o=new Ab(function(t,e){return[e=>{if(!e.url.length)return t("The URL must not be empty.")},n=>{if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}(t.t,n),t.locale);return this._setUpDropdown(i,o,e,t),this._setUpForm(i,o,e),i})}_setUpDropdown(t,e,n){const r=this.editor,i=r.t,o=t.buttonView;t.bind("isEnabled").to(n),t.panelView.children.add(e),o.set({label:i("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),o.on("open",()=>{e.disableCssTransitions(),e.url=n.value||"",e.urlInputView.fieldView.select(),e.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(r.execute("mediaEmbed",e.url),r.editing.view.focus())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>{r.editing.view.focus()})}_setUpForm(t,e,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t)}}var xb=i(4652);function Sb(t,e,n,{blockElements:r,inlineObjectElements:i}){let o=n.createPositionAt(t,"forward"==e?"after":"before");return o=o.getLastMatchingPosition(({item:t})=>t.is("element")&&!r.includes(t.name)&&!i.includes(t.name),{direction:e}),"forward"==e?o.nodeAfter:o.nodeBefore}function Ib(t,e){return!!t&&t.is("element")&&e.includes(t.name)}function Tb(t){if(t.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(t){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function Db(t,e,n){const r=e.parent,i=n.createElement(t.type),o=r.getChildIndex(e)+1;return n.insertChild(o,i,r),t.style&&n.setStyle("list-style-type",t.style,i),t.startIndex&&t.startIndex>1&&n.setAttribute("start",t.startIndex,i),i}function Rb(t){const e={},n=t.getStyle("mso-list");if(n){const t=n.match(/(^|\s{1,100})l(\d+)/i),r=n.match(/\s{0,100}lfo(\d+)/i),i=n.match(/\s{0,100}level(\d+)/i);t&&r&&i&&(e.id=t[2],e.order=r[1],e.indent=i[1])}return e}Qr()(xb.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Ob=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Nb{constructor(t){this.document=t}isActive(t){return Ob.test(t)}execute(t){const e=new Al(this.document),{body:n}=t._parsedData;!function(t,e){for(const n of t.getChildren())if(n.is("element","b")&&"normal"===n.getStyle("font-weight")){const r=t.getChildIndex(n);e.remove(n),e.insertChild(r,n.getChildren(),t)}}(n,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("element","li")){const n=t.getChild(0);n&&n.is("element","p")&&e.unwrapElement(n)}}}(n,e),function(t,e){const n=new Ji(e.document.stylesProcessor),r=new zo(n,{renderingMode:"data"}),i=r.blockElements,o=r.inlineObjectElements,s=[];for(const a of e.createRangeIn(t)){const t=a.item;if(t.is("element","br")){const n=Sb(t,"forward",e,{blockElements:i,inlineObjectElements:o}),r=Sb(t,"backward",e,{blockElements:i,inlineObjectElements:o}),a=Ib(n,i);(Ib(r,i)||a)&&s.push(t)}}for(const a of s)a.hasClass("Apple-interchange-newline")?e.remove(a):e.replace(a,e.createElement("p"))}(n,e),t.content=n}}function Pb(t){return btoa(t.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}const Mb=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Lb=/xmlns:o="urn:schemas-microsoft-com/i;class jb{constructor(t){this.document=t}isActive(t){return Mb.test(t)||Lb.test(t)}execute(t){const{body:e,stylesString:n}=t._parsedData;(function(t,e){if(!t.childCount)return;const n=new Al(t.document),r=function(t,e){const n=e.createRangeIn(t),r=new Xr({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),i=[];for(const o of n)if("elementStart"===o.type&&r.match(o.item)){const t=Rb(o.item);i.push({element:o.item,id:t.id,order:t.order,indent:t.indent})}return i}(t,n);if(!r.length)return;let i=null,o=1;r.forEach((t,s)=>{const a=function(t,e){if(!t)return!0;if(t.id!==e.id)return e.indent-t.indent!=1;const n=e.element.previousSibling;return!n||!((r=n).is("element","ol")||r.is("element","ul"));var r}(r[s-1],t),c=(u=t,(l=a?null:r[s-1])?u.indent-l.indent:u.indent-1);var l,u;if(a&&(i=null,o=1),!i||0!==c){const r=function(t,e){const n=/mso-level-number-format:([^;]{0,100});/gi,r=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,i=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi").exec(e);let o="decimal",s="ol",a=null;if(i&&i[1]){const e=n.exec(i[1]);if(e&&e[1]&&(o=e[1].trim(),s="bullet"!==o&&"image"!==o?"ol":"ul"),"bullet"===o){const e=function(t){const e=function(t){if(t.getChild(0).is("$text"))return null;for(const e of t.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);return t.is("$text")?t:t.getChild(0)}}(t);if(!e)return null;const n=e._data;return"o"===n?"circle":"\xb7"===n?"disc":"\xa7"===n?"square":null}(t.element);e&&(o=e)}else{const t=r.exec(i[1]);t&&t[1]&&(a=parseInt(t[1]))}}return{type:s,startIndex:a,style:Tb(o)}}(t,e);if(i)if(t.indent>o){const t=i.getChild(i.childCount-1),e=t.getChild(t.childCount-1);i=Db(r,e,n),o+=1}else t.indent<o&&(i=function(t,e){const n=t.getAncestors({parentFirst:!0});let r=null,i=0;for(const o of n)if("ul"!==o.name&&"ol"!==o.name||i++,i===e){r=o;break}return r}(i,o-t.indent),o=parseInt(t.indent));else i=Db(r,t.element,n);t.indent<=o&&(i.is("element",r.type)||(i=n.rename(r.type,i)))}const d=function(t,e){return function(t,e){const n=new Xr({name:"span",styles:{"mso-list":"Ignore"}}),r=e.createRangeIn(t);for(const i of r)"elementStart"===i.type&&n.match(i.item)&&e.remove(i.item)}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(d,i)})})(e,n),function(t,e){if(!t.childCount)return;const n=new Al;!function(t,e,n){const r=n.createRangeIn(e),i=new Xr({name:"img"}),o=[];for(const s of r)if(i.match(s.item)){const e=s.item,n=e.getAttribute("v:shapes")?e.getAttribute("v:shapes").split(" "):[];n.length&&n.every(e=>t.indexOf(e)>-1)?o.push(e):e.getAttribute("src")||o.push(e)}for(const s of o)n.remove(s)}(function(t,e){const n=e.createRangeIn(t),r=new Xr({name:/v:(.+)/}),i=[];for(const o of n){if("elementStart"!=o.type)continue;const t=o.item,e=t.previousSibling&&t.previousSibling.name||null;r.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==e&&i.push(o.item.getAttribute("id"))}return i}(t,n),t,n),function(t,e){const n=e.createRangeIn(t),r=new Xr({name:/v:(.+)/}),i=[];for(const o of n)"elementStart"==o.type&&r.match(o.item)&&i.push(o.item);for(const o of i)e.remove(o)}(t,n);const r=function(t,e){const n=e.createRangeIn(t),r=new Xr({name:"img"}),i=[];for(const o of n)r.match(o.item)&&o.item.getAttribute("src").startsWith("file://")&&i.push(o.item);return i}(t,n);r.length&&function(t,e,n){if(t.length===e.length)for(let r=0;r<t.length;r++){const i=`data:${e[r].type};base64,${Pb(e[r].hex)}`;n.setAttribute("src",i,t[r])}}(r,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),r=t.match(n),i=[];if(r)for(const o of r){let t=!1;o.includes("\\pngblip")?t="image/png":o.includes("\\jpegblip")&&(t="image/jpeg"),t&&i.push({hex:o.replace(e,"").replace(/[^\da-fA-F]/g,""),type:t})}return i}(e),n)}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function Fb(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1===e.length?" ":Array(e.length+1).join("\xa0 ").substr(0,e.length))}function Bb(t,e,n,r,i=1){e>i?r.setAttribute(t,e,n):r.removeAttribute(t,n)}function zb(t,e,n={}){const r=t.createElement("tableCell",n);return t.insertElement("paragraph",r),t.insert(r,e),r}function Qb(t,e){const n=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:r}=t.getCellLocation(e);return!!n&&r<n}function Vb(t){return e=>{e.on("element:"+t,(t,e,n)=>{if(e.modelRange&&e.viewItem.isEmpty){const t=n.writer.createPositionAt(e.modelRange.start.nodeAfter,0);n.writer.insertElement("paragraph",t)}},{priority:"low"})}}function Ub(t){let e=0,n=0;const r=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);for(;n<r.length&&"th"===r[n].name;)e+=parseInt(r[n].getAttribute("colspan")||1),n++;return e}class qb{constructor(t,e={}){this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const n=t.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const r=parseInt(n.getAttribute("colspan")||1),i=parseInt(n.getAttribute("rowspan")||1);(r>1||i>1)&&this._recordSpans(n,i,r),this._shouldSkipSlot()||(e=this._formatOutValue(n)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new Hb(this,t,e,n)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const r={cell:t,row:this._row,column:this._column};for(let i=this._row;i<this._row+e;i++)for(let t=this._column;t<this._column+n;t++)i==this._row&&t==this._column||this._markSpannedCell(i,t,r)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}class Hb{constructor(t,e,n,r){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Gb(t,e={}){return(n,{writer:r})=>{const i=n.getAttribute("headingRows")||0,o=[];i>0&&o.push(r.createContainerElement("thead",null,r.createSlot(t=>t.is("element","tableRow")&&t.index<i))),i<t.getRows(n)&&o.push(r.createContainerElement("tbody",null,r.createSlot(t=>t.is("element","tableRow")&&t.index>=i)));const s=r.createContainerElement("figure",{class:"table"},[r.createContainerElement("table",null,o),r.createSlot(t=>!t.is("element","tableRow"))]);return e.asWidget?function(t,e){return e.setCustomProperty("table",!0,t),Th(t,e,{hasSelectionHandle:!0})}(s,r):s}}function Wb(t={}){return(e,{writer:n})=>{const r=e.parent,i=r.parent,o=i.getChildIndex(r),s=new qb(i,{row:o}),a=i.getAttribute("headingRows")||0,c=i.getAttribute("headingColumns")||0;for(const l of s)if(l.cell==e){const e=l.row<a||l.column<c?"th":"td";return t.asWidget?Nh(n.createEditableElement(e),n):n.createContainerElement(e)}}}function Kb(t={}){return(e,{writer:n,consumable:r,mapper:i})=>{if(e.parent.is("element","tableCell")&&$b(e))return t.asWidget?n.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):(r.consume(e,"insert"),void i.bindElements(e,i.toViewElement(e.parent)))}}function $b(t){return 1==t.parent.childCount&&![...t.getAttributeKeys()].length}class Yb extends Pr{refresh(){const t=this.editor.model;this.isEnabled=function(t,e){const n=t.getFirstPosition().parent;return e.checkChild(n===n.root?n:n.parent,"table")}(t.document.selection,t.schema)}execute(t={}){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),r=this.editor.config.get("table"),i=r.defaultHeadings.rows,o=r.defaultHeadings.columns;void 0===t.headingRows&&i&&(t.headingRows=i),void 0===t.headingColumns&&o&&(t.headingColumns=o),e.change(r=>{const i=n.createTable(r,t);e.insertObject(i,null,null,{findOptimalPosition:"auto"}),r.setSelection(r.createPositionAt(i.getNodeByPath([0,0,0]),0))})}}class Zb extends Pr{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="above"===this.order,i=n.getSelectionAffectedTableCells(e),o=n.getRowIndexes(i),s=r?o.first:o.last,a=i[0].findAncestor("table");n.insertRows(a,{at:r?s:s+1,copyStructureFromAbove:!r})}}class Jb extends Pr{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="left"===this.order,i=n.getSelectionAffectedTableCells(e),o=n.getColumnIndexes(i),s=r?o.first:o.last,a=i[0].findAncestor("table");n.insertColumns(a,{columns:1,at:r?s:s+1})}}class Xb extends Pr{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function tv(t,e,n){const{startRow:r,startColumn:i,endRow:o,endColumn:s}=e,a=n.createElement("table"),c=o-r+1;for(let u=0;u<c;u++)n.insertElement("tableRow",a,"end");const l=[...new qb(t,{startRow:r,endRow:o,startColumn:i,endColumn:s,includeAllSlots:!0})];for(const{row:u,column:d,cell:h,isAnchor:f,cellAnchorRow:p,cellAnchorColumn:g}of l){const t=a.getChild(u-r);if(f){const e=n.cloneElement(h);n.append(e,t),ov(e,u,d,o,s,n)}else(p<r||g<i)&&zb(n,n.createPositionAt(t,"end"))}return function(t,e,n,r,i){const o=parseInt(e.getAttribute("headingRows")||0);o>0&&Bb("headingRows",o-n,t,i,0);const s=parseInt(e.getAttribute("headingColumns")||0);s>0&&Bb("headingColumns",s-r,t,i,0)}(a,t,r,i,n),a}function ev(t,e,n=0){const r=[],i=new qb(t,{startRow:n,endRow:e-1});for(const o of i){const{row:t,cellHeight:n}=o;t<e&&e<=t+n-1&&r.push(o)}return r}function nv(t,e,n){const r=t.parent,i=r.parent,o=r.index,s=e-o,a={},c=parseInt(t.getAttribute("rowspan"))-s;c>1&&(a.rowspan=c);const l=parseInt(t.getAttribute("colspan")||1);l>1&&(a.colspan=l);const u=o+s,d=[...new qb(i,{startRow:o,endRow:u,includeAllSlots:!0})];let h,f=null;for(const p of d){const{row:e,column:r,cell:i}=p;i===t&&void 0===h&&(h=r),void 0!==h&&h===r&&e===u&&(f=zb(n,p.getPositionBefore(),a))}return Bb("rowspan",s,t,n),f}function rv(t,e){const n=[],r=new qb(t);for(const i of r){const{column:t,cellWidth:r}=i;t<e&&e<=t+r-1&&n.push(i)}return n}function iv(t,e,n,r){const i=n-e,o={},s=parseInt(t.getAttribute("colspan"))-i;s>1&&(o.colspan=s);const a=parseInt(t.getAttribute("rowspan")||1);a>1&&(o.rowspan=a);const c=zb(r,r.createPositionAfter(t),o);return Bb("colspan",i,t,r),c}function ov(t,e,n,r,i,o){const s=parseInt(t.getAttribute("colspan")||1),a=parseInt(t.getAttribute("rowspan")||1);n+s-1>i&&Bb("colspan",i-n+1,t,o,1),e+a-1>r&&Bb("rowspan",r-e+1,t,o,1)}function sv(t,e){const n=e.getColumns(t),r=new Array(n).fill(0);for(const{column:o}of new qb(t))r[o]++;const i=r.reduce((t,e,n)=>e?t:[...t,n],[]);return i.length>0&&(e.removeColumns(t,{at:i[i.length-1]}),!0)}function av(t,e){const n=[],r=e.getRows(t);for(let i=0;i<r;i++)t.getChild(i).isEmpty&&n.push(i);return n.length>0&&(e.removeRows(t,{at:n[n.length-1]}),!0)}function cv(t,e){sv(t,e)||av(t,e)}function lv(t,e){const n=Array.from(new qb(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));return n.every(({cellHeight:t})=>1===t)?e.lastRow:e.lastRow+(n[0].cellHeight-1)}function uv(t,e){const n=Array.from(new qb(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));return n.every(({cellWidth:t})=>1===t)?e.lastColumn:e.lastColumn+(n[0].cellWidth-1)}class dv extends Pr{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],r=this.value,i=this.direction;t.change(t=>{const e="right"==i||"down"==i,o=e?n:r,s=e?r:n,a=s.parent;!function(t,e,n){hv(t)||(hv(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(s,o,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(n.getAttribute(c)||1),u=parseInt(r.getAttribute(c)||1);t.setAttribute(c,l+u,o),t.setSelection(t.createRangeIn(o));const d=this.editor.plugins.get("TableUtils");cv(a.findAncestor("table"),d)})}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),n=e.getTableCellsContainingSelection(t.selection)[0];if(!n)return;const r=this.isHorizontal?function(t,e,n){const r="right"==e?t.nextSibling:t.previousSibling,i=(t.parent.parent.getAttribute("headingColumns")||0)>0;if(!r)return;const o="right"==e?t:r,s="right"==e?r:t,{column:a}=n.getCellLocation(o),{column:c}=n.getCellLocation(s),l=parseInt(o.getAttribute("colspan")||1),u=Qb(n,o),d=Qb(n,s);return i&&u!=d?void 0:a+l===c?r:void 0}(n,this.direction,e):function(t,e,n){const r=t.parent,i=r.parent,o=i.getChildIndex(r);if("down"==e&&o===n.getRows(i)-1||"up"==e&&0===o)return;const s=parseInt(t.getAttribute("rowspan")||1),a=i.getAttribute("headingRows")||0;if(a&&("down"==e&&o+s===a||"up"==e&&o===a))return;const c=parseInt(t.getAttribute("rowspan")||1),l="down"==e?o+c:o,u=[...new qb(i,{endRow:l})],d=u.find(e=>e.cell===t).column,h=u.find(({row:t,cellHeight:n,column:r})=>r===d&&("down"==e?t===l:l===t+n));return h&&h.cell}(n,this.direction,e);if(!r)return;const i=this.isHorizontal?"rowspan":"colspan",o=parseInt(n.getAttribute(i)||1);return parseInt(r.getAttribute(i)||1)===o?r:void 0}}function hv(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}class fv extends Pr{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const r=n.findAncestor("table"),i=this.editor.plugins.get("TableUtils").getRows(r)-1,o=t.getRowIndexes(e);this.isEnabled=!(0===o.first&&o.last===i)}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),r=e.getRowIndexes(n),i=n[0],o=i.findAncestor("table"),s=e.getCellLocation(i).column;t.change(t=>{e.removeRows(o,{at:r.first,rows:r.last-r.first+1});const n=function(t,e,n,r){const i=t.getChild(Math.min(e,r-1));let o=i.getChild(0),s=0;for(const a of i.getChildren()){if(s>n)return o;o=a,s+=parseInt(a.getAttribute("colspan")||1)}return o}(o,r.first,s,e.getRows(o));t.setSelection(t.createPositionAt(n,0))})}}class pv extends Pr{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const r=n.findAncestor("table"),i=t.getColumns(r),{first:o,last:s}=t.getColumnIndexes(e);this.isEnabled=s-o<i-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=function(t,e){const n=e.getSelectionAffectedTableCells(t),r=n[0],i=n.pop(),o=[r,i];return r.isBefore(i)?o:o.reverse()}(this.editor.model.document.selection,t),r=e.parent.parent,i=[...new qb(r)],o={first:i.find(t=>t.cell===e).column,last:i.find(t=>t.cell===n).column},s=function(t,e,n,r){return parseInt(n.getAttribute("colspan")||1)>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:r.first?t.reverse().find(({column:t})=>t<r.first).cell:t.reverse().find(({column:t})=>t>r.last).cell}(i,e,n,o);this.editor.model.change(t=>{const e=o.last-o.first+1;this.editor.plugins.get("TableUtils").removeColumns(r,{at:o.first,columns:e}),t.setSelection(t.createPositionAt(s,0))})}}class gv extends Pr{refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),e=t.length>0;this.isEnabled=e,this.value=e&&t.every(t=>this._isInHeading(t,t.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=e.getSelectionAffectedTableCells(n.document.selection),i=r[0].findAncestor("table"),{first:o,last:s}=e.getRowIndexes(r),a=this.value?o:s+1,c=i.getAttribute("headingRows")||0;n.change(t=>{if(a){const e=ev(i,a,a>c?c:0);for(const{cell:n}of e)nv(n,a,t)}Bb("headingRows",a,i,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}class mv extends Pr{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),r=n.length>0;this.isEnabled=r,this.value=r&&n.every(t=>Qb(e,t))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,r=e.getSelectionAffectedTableCells(n.document.selection),i=r[0].findAncestor("table"),{first:o,last:s}=e.getColumnIndexes(r),a=this.value?o:s+1;n.change(t=>{if(a){const e=rv(i,a);for(const{cell:n,column:r}of e)iv(n,r,a,t)}Bb("headingColumns",a,i,t,0)})}}class bv extends Or{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,r=n.getChildIndex(e),i=new qb(n,{row:r});for(const{cell:o,row:s,column:a}of i)if(o===t)return{row:s,column:a}}createTable(t,e){const n=t.createElement("table"),r=parseInt(e.rows)||2,i=parseInt(e.columns)||2;return vv(t,n,0,r,i),e.headingRows&&Bb("headingRows",Math.min(e.headingRows,r),n,t,0),e.headingColumns&&Bb("headingColumns",Math.min(e.headingColumns,i),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,r=e.at||0,i=e.rows||1,o=void 0!==e.copyStructureFromAbove,s=e.copyStructureFromAbove?r-1:r,a=this.getRows(t),c=this.getColumns(t);if(r>a)throw new w("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change(e=>{const n=t.getAttribute("headingRows")||0;if(n>r&&Bb("headingRows",n+i,t,e,0),!o&&(0===r||r===a))return void vv(e,t,r,i,c);const l=o?Math.max(r,s):r,u=new qb(t,{endRow:l}),d=new Array(c).fill(1);for(const{row:t,column:a,cellHeight:c,cellWidth:h,cell:f}of u){const n=t+c-1,l=t<=s&&s<=n;t<r&&r<=n?(e.setAttribute("rowspan",c+i,f),d[a]=-h):o&&l&&(d[a]=h)}for(let o=0;o<i;o++){const n=e.createElement("tableRow");e.insert(n,t,r);for(let t=0;t<d.length;t++){const r=d[t],i=e.createPositionAt(n,"end");r>0&&zb(e,i,r>1?{colspan:r}:null),t+=Math.abs(r)-1}}})}insertColumns(t,e={}){const n=e.at||0,r=e.columns||1;this.editor.model.change(e=>{const i=t.getAttribute("headingColumns");n<i&&e.setAttribute("headingColumns",i+r,t);const o=this.getColumns(t);if(0===n||o===n){for(const i of t.getChildren())i.is("element","tableRow")&&yv(r,e,e.createPositionAt(i,n?"end":0));return}const s=new qb(t,{column:n,includeAllSlots:!0});for(const t of s){const{row:i,cell:o,cellAnchorColumn:a,cellAnchorRow:c,cellWidth:l,cellHeight:u}=t;if(a<n){e.setAttribute("colspan",l+r,o);const t=c+u-1;for(let e=i;e<=t;e++)s.skipRow(e)}else yv(r,e,t.getPositionBefore())}})}removeRows(t,e){const n=this.editor.model,r=e.rows||1,i=this.getRows(t),o=e.at,s=o+r-1;if(s>i-1)throw new w("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change(e=>{const{cellsToMove:n,cellsToTrim:r}=function(t,e,n){const r=new Map,i=[];for(const{row:o,column:s,cellHeight:a,cell:c}of new qb(t,{endRow:n})){const t=o+a-1;if(o>=e&&o<=n&&t>n&&r.set(s,{cell:c,rowspan:a-(n-o+1)}),o<e&&t>=e){let r;r=t>=n?n-e+1:t-e+1,i.push({cell:c,rowspan:a-r})}}return{cellsToMove:r,cellsToTrim:i}}(t,o,s);n.size&&function(t,e,n,r){const i=[...new qb(t,{includeAllSlots:!0,row:e})],o=t.getChild(e);let s;for(const{column:a,cell:c,isAnchor:l}of i)if(n.has(a)){const{cell:t,rowspan:e}=n.get(a),i=s?r.createPositionAfter(s):r.createPositionAt(o,0);r.move(r.createRangeOn(t),i),Bb("rowspan",e,t,r),s=t}else l&&(s=c)}(t,s+1,n,e);for(let i=s;i>=o;i--)e.remove(t.getChild(i));for(const{rowspan:t,cell:i}of r)Bb("rowspan",t,i,e);!function(t,e,n,r){const i=t.getAttribute("headingRows")||0;e<i&&Bb("headingRows",n<i?i-(n-e+1):e,t,r,0)}(t,o,s,e),sv(t,this)||av(t,this)})}removeColumns(t,e){const n=e.at,r=e.at+(e.columns||1)-1;this.editor.model.change(e=>{!function(t,e,n){const r=t.getAttribute("headingColumns")||0;if(r&&e.first<r){const i=Math.min(r-1,e.last)-e.first+1;n.setAttribute("headingColumns",r-i,t)}}(t,{first:n,last:r},e);for(let i=r;i>=n;i--)for(const{cell:n,column:r,cellWidth:o}of[...new qb(t)])r<=i&&o>1&&r+o>i?Bb("colspan",o-1,n,e):r===i&&e.remove(n);av(t,this)||sv(t,this)})}splitCellVertically(t,e=2){const n=this.editor.model,r=t.parent.parent,i=parseInt(t.getAttribute("rowspan")||1),o=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(o>1){const{newCellsSpan:r,updatedSpan:s}=_v(o,e);Bb("colspan",s,t,n);const a={};r>1&&(a.colspan=r),i>1&&(a.rowspan=i),yv(o>e?e-1:o-1,n,n.createPositionAfter(t),a)}if(o<e){const s=e-o,a=[...new qb(r)],{column:c}=a.find(({cell:e})=>e===t),l=a.filter(({cell:e,cellWidth:n,column:r})=>e!==t&&r===c||r<c&&r+n>c);for(const{cell:t,cellWidth:e}of l)n.setAttribute("colspan",e+s,t);const u={};i>1&&(u.rowspan=i),yv(s,n,n.createPositionAfter(t),u);const d=r.getAttribute("headingColumns")||0;d>c&&Bb("headingColumns",d+s,r,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,r=t.parent,i=r.parent,o=i.getChildIndex(r),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(s>1){const r=[...new qb(i,{startRow:o,endRow:o+s-1,includeAllSlots:!0})],{newCellsSpan:c,updatedSpan:l}=_v(s,e);Bb("rowspan",l,t,n);const{column:u}=r.find(({cell:e})=>e===t),d={};c>1&&(d.rowspan=c),a>1&&(d.colspan=a);for(const t of r){const{column:e,row:r}=t;r>=o+l&&e===u&&(r+o+l)%c==0&&yv(1,n,t.getPositionBefore(),d)}}if(s<e){const r=e-s,c=[...new qb(i,{startRow:0,endRow:o})];for(const{cell:e,cellHeight:i,row:s}of c)e!==t&&s+i>o&&n.setAttribute("rowspan",i+r,e);const l={};a>1&&(l.colspan=a),vv(n,i,o+1,r,1,l);const u=i.getAttribute("headingRows")||0;u>o&&Bb("headingRows",u+r,i,n)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((t,e)=>t+parseInt(e.getAttribute("colspan")||1),0)}getRows(t){return Array.from(t.getChildren()).reduce((t,e)=>e.is("element","tableRow")?t+1:t,0)}createTableWalker(t,e={}){return new qb(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const t=n.getContainedElement();t&&t.is("element","tableCell")&&e.push(t)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const t=n.start.findAncestor("tableCell");t&&e.push(t)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(t=>t.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),n=[...new qb(e)].filter(e=>t.includes(e.cell)).map(t=>t.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let r=0;for(const i of t){const{row:t,column:o}=this.getCellLocation(i),s=parseInt(i.getAttribute("rowspan")||1),a=parseInt(i.getAttribute("colspan")||1);e.add(t),n.add(o),s>1&&e.add(t+s-1),a>1&&n.add(o+a-1),r+=s*a}return function(t,e){const n=Array.from(t.values()),r=Array.from(e.values());return(Math.max(...n)-Math.min(...n)+1)*(Math.max(...r)-Math.min(...r)+1)}(e,n)==r}sortRanges(t){return Array.from(t).sort(wv)}_getFirstLastIndexesObject(t){const e=t.sort((t,e)=>t-e);return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),r=parseInt(e.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(n,r))return!1;const i=parseInt(e.getAttribute("headingColumns")||0),o=this.getColumnIndexes(t);return this._areIndexesInSameSection(o,i)}_areIndexesInSameSection({first:t,last:e},n){return t<n==e<n}}function vv(t,e,n,r,i,o={}){for(let s=0;s<r;s++){const r=t.createElement("tableRow");t.insert(r,e,n),yv(i,t,t.createPositionAt(r,"end"),o)}}function yv(t,e,n,r={}){for(let i=0;i<t;i++)zb(e,n,r)}function _v(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function wv(t,e){return t.start.isBefore(e.start)?-1:1}class kv extends Pr{refresh(){const t=this.editor.plugins.get(bv),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e,this.editor.plugins.get(bv))}execute(){const t=this.editor.model,e=this.editor.plugins.get(bv);t.change(n=>{const r=e.getSelectedTableCells(t.document.selection),i=r.shift(),{mergeWidth:o,mergeHeight:s}=function(t,e,n){let r=0,i=0;for(const a of e){const{row:t,column:e}=n.getCellLocation(a);r=Ev(a,e,r,"colspan"),i=Ev(a,t,i,"rowspan")}const{row:o,column:s}=n.getCellLocation(t);return{mergeWidth:r-s,mergeHeight:i-o}}(i,r,e);Bb("colspan",o,i,n),Bb("rowspan",s,i,n);for(const t of r)Cv(t,i,n);cv(i.findAncestor("table"),e),n.setSelection(i,"in")})}}function Cv(t,e,n){Av(t)||(Av(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function Av(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}function Ev(t,e,n,r){const i=parseInt(t.getAttribute(r)||1);return Math.max(n,e+i)}class xv extends Pr{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),r=e.getRowIndexes(n),i=n[0].findAncestor("table"),o=[];for(let s=r.first;s<=r.last;s++)for(const e of i.getChild(s).getChildren())o.push(t.createRangeOn(e));t.change(t=>{t.setSelection(o)})}}class Sv extends Pr{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),r=n[0],i=n.pop(),o=r.findAncestor("table"),s=t.getCellLocation(r),a=t.getCellLocation(i),c=Math.min(s.column,a.column),l=Math.max(s.column,a.column),u=[];for(const d of new qb(o,{startColumn:c,endColumn:l}))u.push(e.createRangeOn(d.cell));e.change(t=>{t.setSelection(u)})}}function Iv(t,e){let n=!1;const r=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=Array.from(t.getChildren()).reduce((t,e)=>e.is("element","tableRow")?t+1:t,0),r=[];for(const{row:i,cell:o,cellHeight:s}of new qb(t)){if(s<2)continue;const t=i<e?e:n;i+s>t&&r.push({cell:o,rowspan:t-i})}return r}(t);if(r.length){n=!0;for(const t of r)Bb("rowspan",t.rowspan,t.cell,e,1)}return n}function Tv(t,e){let n=!1;const r=function(t){const e=new Array(t.childCount).fill(0);for(const{rowIndex:n}of new qb(t,{includeAllSlots:!0}))e[n]++;return e}(t),i=[];for(const[a,c]of r.entries())!c&&t.getChild(a).is("element","tableRow")&&i.push(a);if(i.length){n=!0;for(const n of i.reverse())e.remove(t.getChild(n)),r.splice(n,1)}const o=r.filter((e,n)=>t.getChild(n).is("element","tableRow")),s=o[0];if(!o.every(t=>t===s)){const r=o.reduce((t,e)=>e>t?e:t,0);for(const[i,s]of o.entries()){const o=r-s;if(o){for(let n=0;n<o;n++)zb(e,e.createPositionAt(t.getChild(i),"end"));n=!0}}}return n}function Dv(t){const e=t.attributeKey;return"attribute"===t.type&&("headingRows"===e||"colspan"===e||"rowspan"===e)}function Rv(t,e){let n=!1;for(const r of t.getChildren())r.is("element","tableRow")&&(n=Ov(r,e)||n);return n}function Ov(t,e){let n=!1;for(const r of t.getChildren())n=Nv(r,e)||n;return n}function Nv(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(t=>t.is("$text"));for(const r of n)e.wrap(e.createRangeOn(r),"paragraph");return!!n.length}function Pv(t){return!(!t.position||!t.position.parent.is("element","tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function Mv(t,e){if(!t.is("element","paragraph"))return!1;const n=e.toViewElement(t);return!!n&&$b(t)!==n.is("element","span")}var Lv=i(3881);Qr()(Lv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class jv extends Or{static get pluginName(){return"TableEditing"}static get requires(){return[bv]}init(){const t=this.editor,e=t.model,n=e.schema,r=t.conversion,i=t.plugins.get(bv);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add(t=>{t.on("element:figure",(t,e,n)=>{if(!n.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const r=function(t){for(const e of t.getChildren())if(e.is("element","table"))return e}(e.viewItem);if(!r||!n.consumable.test(r,{name:!0}))return;n.consumable.consume(e.viewItem,{name:!0,classes:"table"});const i=Ar(n.convertItem(r,e.modelCursor).modelRange.getItems());i?(n.convertChildren(e.viewItem,n.writer.createPositionAt(i,"end")),n.updateConversionResult(i,e)):n.consumable.revert(e.viewItem,{name:!0,classes:"table"})})}),r.for("upcast").add(t=>{t.on("element:table",(t,e,n)=>{const r=e.viewItem;if(!n.consumable.test(r,{name:!0}))return;const{rows:i,headingRows:o,headingColumns:s}=function(t){const e={headingRows:0,headingColumns:0},n=[],r=[];let i;for(const o of Array.from(t.getChildren()))if("tbody"===o.name||"thead"===o.name||"tfoot"===o.name){"thead"!==o.name||i||(i=o);const t=Array.from(o.getChildren()).filter(t=>t.is("element","tr"));for(const o of t)if("thead"===o.parent.name&&o.parent===i)e.headingRows++,n.push(o);else{r.push(o);const t=Ub(o);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...r],e}(r),a={};s&&(a.headingColumns=s),o&&(a.headingRows=o);const c=n.writer.createElement("table",a);if(n.safeInsert(c,e.modelCursor)){if(n.consumable.consume(r,{name:!0}),i.forEach(t=>n.convertItem(t,n.writer.createPositionAt(c,"end"))),n.convertChildren(r,n.writer.createPositionAt(c,"end")),c.isEmpty){const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(c,"end")),zb(n.writer,n.writer.createPositionAt(t,"end"))}n.updateConversionResult(c,e)}})}),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Gb(i,{asWidget:!0})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Gb(i)}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(t=>{t.on("element:tr",(t,e)=>{e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()},{priority:"high"})}),r.for("downcast").elementToElement({model:"tableRow",view:(t,{writer:e})=>t.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(Vb("td")),r.for("upcast").add(Vb("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:Wb({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:Wb()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:Kb({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:Kb(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:Fv("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Fv("rowspan")},view:"rowspan"}),t.data.mapper.on("modelToViewPosition",(t,e)=>{const n=e.modelPosition.parent,r=e.modelPosition.nodeBefore;if(!n.is("element","tableCell"))return;if(!r||!r.is("element","paragraph"))return;const i=e.mapper.toViewElement(r),o=e.mapper.toViewElement(n);i===o&&(e.viewPosition=e.mapper.findPositionIn(o,r.maxOffset))}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new Yb(t)),t.commands.add("insertTableRowAbove",new Zb(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Zb(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new Jb(t,{order:"left"})),t.commands.add("insertTableColumnRight",new Jb(t,{order:"right"})),t.commands.add("removeTableRow",new fv(t)),t.commands.add("removeTableColumn",new pv(t)),t.commands.add("splitTableCellVertically",new Xb(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Xb(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new kv(t)),t.commands.add("mergeTableCellRight",new dv(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new dv(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new dv(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new dv(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new mv(t)),t.commands.add("setTableRowHeader",new gv(t)),t.commands.add("selectTableRow",new xv(t)),t.commands.add("selectTableColumn",new Sv(t)),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.differ.getChanges();let r=!1;const i=new Set;for(const o of n){let e;"table"==o.name&&"insert"==o.type&&(e=o.position.nodeAfter),"tableRow"!=o.name&&"tableCell"!=o.name||(e=o.position.findAncestor("table")),Dv(o)&&(e=o.range.start.findAncestor("table")),e&&!i.has(e)&&(r=Iv(e,t)||r,r=Tv(e,t)||r,i.add(e))}return r}(e,t))}(e),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.differ.getChanges();let r=!1;for(const i of n)"insert"==i.type&&"table"==i.name&&(r=Rv(i.position.nodeAfter,t)||r),"insert"==i.type&&"tableRow"==i.name&&(r=Ov(i.position.nodeAfter,t)||r),"insert"==i.type&&"tableCell"==i.name&&(r=Nv(i.position.nodeAfter,t)||r),Pv(i)&&(r=Nv(i.position.parent,t)||r);return r}(e,t))}(e),this.listenTo(e.document,"change:data",()=>{!function(t,e){const n=t.document.differ;for(const r of n.getChanges()){let t,n=!1;if("attribute"==r.type){const e=r.range.start.nodeAfter;if(!e||!e.is("element","table"))continue;if("headingRows"!=r.attributeKey&&"headingColumns"!=r.attributeKey)continue;t=e,n="headingRows"==r.attributeKey}else"tableRow"!=r.name&&"tableCell"!=r.name||(t=r.position.findAncestor("table"),n="tableRow"==r.name);if(!t)continue;const i=t.getAttribute("headingRows")||0,o=t.getAttribute("headingColumns")||0,s=new qb(t);for(const r of s){const t=r.row<i||r.column<o?"th":"td",s=e.mapper.toViewElement(r.cell);s&&s.is("element")&&s.name!=t&&e.reconvertItem(n?r.cell.parent:r.cell)}}}(e,t.editing),function(t,e){const n=t.document.differ,r=new Set;for(const i of n.getChanges()){const t="attribute"==i.type?i.range.start.parent:i.position.parent;t.is("element","tableCell")&&r.add(t)}for(const i of r.values()){const t=Array.from(i.getChildren()).filter(t=>Mv(t,e.mapper));for(const n of t)e.reconvertItem(n)}}(e,t.editing)})}}function Fv(t){return e=>{const n=parseInt(e.getAttribute(t));return Number.isNaN(n)||n<=0?null:n}}var Bv=i(1613);Qr()(Bv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class zv extends Jl{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new xr,this.focusTracker=new Er,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} \xd7 ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}}),this.on("boxover",(t,e)=>{const{row:n,column:r}=e.target.dataset;this.items.get(10*(parseInt(n,10)-1)+(parseInt(r,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(t,e,n)=>{if(!n)return;const{row:r,column:i}=n.dataset;this.set({rows:parseInt(r),columns:parseInt(i)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:t,focusTracker:e,gridItems:n,numberOfColumns:r,uiLanguageDirection:i}){const o="number"==typeof r?()=>r:r;function s(t){return r=>{const i=n.find(t=>t.element===e.focusedElement),o=n.getIndex(i),s=t(o,n);n.get(s).focus(),r.stopPropagation(),r.preventDefault()}}function a(t,e){return t===e-1?0:t+1}function c(t,e){return 0===t?e-1:t-1}t.set("arrowright",s((t,e)=>"rtl"===i?c(t,e.length):a(t,e.length))),t.set("arrowleft",s((t,e)=>"rtl"===i?a(t,e.length):c(t,e.length))),t.set("arrowup",s((t,e)=>{let n=t-o();return n<0&&(n=t+o()*Math.floor(e.length/o()),n>e.length-1&&(n-=o())),n})),t.set("arrowdown",s((t,e)=>{let n=t+o();return n>e.length-1&&(n=t%o()),n}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,r)=>{const i=Math.floor(r/10)<t&&r%10<e;n.set("isOn",i)})}_createGridButton(t,e,n,r){const i=new ku(t);return i.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),i.extendTemplate({attributes:{"data-row":e,"data-column":n}}),i}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),r=e%10;t.push(this._createGridButton(this.locale,n+1,r+1,`${n+1} \xd7 ${r+1}`))}return this.createCollection(t)}}class Qv extends Or{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",n=>{const r=t.commands.get("insertTable"),i=Zu(n);let o;return i.bind("isEnabled").to(r),i.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("Insert table"),tooltip:!0}),i.on("change:isOpen",()=>{o||(o=new zv(n),i.panelView.children.add(o),o.delegate("execute").to(i),i.on("execute",()=>{t.execute("insertTable",{rows:o.rows,columns:o.columns}),t.editing.view.focus()}))}),i}),t.ui.componentFactory.add("tableColumn",t=>{const r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const r=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,t)})}_prepareDropdown(t,e,n,r){const i=this.editor,o=Zu(r),s=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:t,icon:e,tooltip:!0}),o.bind("isEnabled").toMany(s,"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(o,"execute",t=>{i.execute(t.source.commandName),t.source instanceof Au||i.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(t,e,n,r){const i=this.editor,o=Zu(r,Tu),s="mergeTableCells",a=i.commands.get(s),c=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([a,...c],"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(o.buttonView,"execute",()=>{i.execute(s),i.editing.view.focus()}),this.listenTo(o,"execute",t=>{i.execute(t.source.commandName),i.editing.view.focus()}),o}_fillDropdownWithListOptions(t,e){const n=this.editor,r=[],i=new Cr;for(const o of e)Vv(o,n,r,i);return Xu(t,i),r}}function Vv(t,e,n,r){const i=t.model=new md(t.model),{commandName:o,bindIsOn:s}=t.model;if("button"===t.type||"switchbutton"===t.type){const t=e.commands.get(o);n.push(t),i.set({commandName:o}),i.bind("isEnabled").to(t),s&&i.bind("isOn").to(t,"value")}i.set({withText:!0}),r.add(t)}var Uv=i(6945);Qr()(Uv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class qv extends Or{static get pluginName(){return"TableSelection"}static get requires(){return[bv,bv]}init(){const t=this.editor,e=t.editing.view;this.listenTo(t.model,"deleteContent",(t,e)=>this._handleDeleteContent(t,e),{priority:"high"}),this.listenTo(e.document,"insertText",(t,e)=>this._handleInsertTextEvent(t,e),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(bv).getSelectedTableCells(this.editor.model.document.selection);return 0==t.length?null:t}getSelectionAsFragment(){const t=this.editor.plugins.get(bv),e=this.getSelectedTableCells();return e?this.editor.model.change(n=>{const r=n.createDocumentFragment(),{first:i,last:o}=t.getColumnIndexes(e),{first:s,last:a}=t.getRowIndexes(e),c=e[0].findAncestor("table");let l=a,u=o;if(t.isSelectionRectangular(e)){const t={firstColumn:i,lastColumn:o,firstRow:s,lastRow:a};l=lv(c,t),u=uv(c,t)}const d=tv(c,{startRow:s,startColumn:i,endRow:l,endColumn:u},n);return n.insert(d,r,0),r}):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change(t=>{t.setSelection(n.cells.map(e=>t.createRangeOn(e)),{backward:n.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=Ar(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(t=>t.on("selection",(t,n,r)=>{const i=r.writer;!function(t){for(const n of e)t.removeClass("ck-editor__editable_selected",n);e.clear()}(i);const o=this.getSelectedTableCells();if(!o)return;for(const a of o){const t=r.mapper.toViewElement(a);i.addClass("ck-editor__editable_selected",t),e.add(t)}const s=r.mapper.toViewElement(o[o.length-1]);i.setSelection(s,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(n=>{const r=n.createPositionAt(e[0],0),i=t.model.schema.getNearestSelectionRange(r);n.setSelection(i)})}})}_handleDeleteContent(t,e){const n=this.editor.plugins.get(bv),[r,i]=e,o=this.editor.model,s=!i||"backward"==i.direction,a=n.getSelectedTableCells(r);a.length&&(t.stop(),o.change(t=>{const e=a[s?a.length-1:0];o.change(t=>{for(const e of a)o.deleteContent(t.createSelection(e,"in"))});const n=o.schema.getNearestSelectionRange(t.createPositionAt(e,0));r.is("documentSelection")?t.setSelection(n):r.setTo(n)}))}_handleInsertTextEvent(t,e){const n=this.editor,r=this.getSelectedTableCells(n.model.document.selection);if(!r)return;const i=n.editing.view,o=n.editing.mapper,s=r.map(t=>i.createRangeOn(o.toViewElement(t)));e.selection=i.createSelection(s)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(t),i=n.getCellLocation(e),o=Math.min(r.row,i.row),s=Math.max(r.row,i.row),a=Math.min(r.column,i.column),c=Math.max(r.column,i.column),l=new Array(s-o+1).fill(null).map(()=>[]),u={startRow:o,endRow:s,startColumn:a,endColumn:c};for(const{row:f,cell:p}of new qb(t.findAncestor("table"),u))l[f-o].push(p);const d=i.row<r.row,h=i.column<r.column;return d&&l.reverse(),h&&l.forEach(t=>t.reverse()),{cells:l.flat(),backward:d||h}}}class Hv extends Or{static get pluginName(){return"TableClipboard"}static get requires(){return[qv,bv]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(t,e)=>this._onCopyCut(t,e)),this.listenTo(e,"cut",(t,e)=>this._onCopyCut(t,e)),this.listenTo(t.model,"insertContent",(t,e)=>this._onInsertContent(t,...e),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.plugins.get(qv);if(!n.getSelectedTableCells())return;if("cut"==t.name&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const r=this.editor.editing.view.document,i=this.editor.data.toView(n.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:i,method:t.name})}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const r=this.editor.model,i=this.editor.plugins.get(bv);let o=Gv(e,r);if(!o)return;const s=i.getSelectionAffectedTableCells(r.document.selection);s.length?(t.stop(),r.change(t=>{const e={width:i.getColumns(o),height:i.getRows(o)},n=function(t,e,n,r){const i=t[0].findAncestor("table"),o=r.getColumnIndexes(t),s=r.getRowIndexes(t),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},c=1===t.length;return c&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,function(t,e,n,r){const i=r.getColumns(t),o=r.getRows(t);n>i&&r.insertColumns(t,{at:i,columns:n-i}),e>o&&r.insertRows(t,{at:o,rows:e-o})}(i,a.lastRow+1,a.lastColumn+1,r)),c||!r.isSelectionRectangular(t)?function(t,e,n){const{firstRow:r,lastRow:i,firstColumn:o,lastColumn:s}=e,a={first:r,last:i},c={first:o,last:s};Kv(t,o,a,n),Kv(t,s+1,a,n),Wv(t,r,c,n),Wv(t,i+1,c,n,r)}(i,a,n):(a.lastRow=lv(i,a),a.lastColumn=uv(i,a)),a}(s,e,t,i),r=n.lastColumn-n.firstColumn+1,a={startRow:0,startColumn:0,endRow:Math.min(n.lastRow-n.firstRow+1,e.height)-1,endColumn:Math.min(r,e.width)-1};o=tv(o,a,t);const c=s[0].findAncestor("table"),l=this._replaceSelectedCellsWithPasted(o,e,c,n,t);if(this.editor.plugins.get("TableSelection").isEnabled){const e=i.sortRanges(l.map(e=>t.createRangeOn(e)));t.setSelection(e)}else t.setSelection(l[0],0)})):cv(o,i)}_replaceSelectedCellsWithPasted(t,e,n,r,i){const{width:o,height:s}=e,a=function(t,e,n){const r=new Array(n).fill(null).map(()=>new Array(e).fill(null));for(const{column:i,row:o,cell:s}of new qb(t))r[o][i]=s;return r}(t,o,s),c=[...new qb(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],l=[];let u;for(const p of c){const{row:t,column:e}=p;e===r.firstColumn&&(u=p.getPositionBefore());const n=a[(t-r.firstRow)%s][(e-r.firstColumn)%o],c=n?i.cloneElement(n):null,d=this._replaceTableSlotCell(p,c,u,i);d&&(ov(d,t,e,r.lastRow,r.lastColumn,i),l.push(d),u=i.createPositionAfter(d))}const d=parseInt(n.getAttribute("headingRows")||0),h=parseInt(n.getAttribute("headingColumns")||0),f=r.firstColumn<h&&h<=r.lastColumn;if(r.firstRow<d&&d<=r.lastRow){const t=Wv(n,d,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow);l.push(...t)}if(f){const t=Kv(n,h,{first:r.firstRow,last:r.lastRow},i);l.push(...t)}return l}_replaceTableSlotCell(t,e,n,r){const{cell:i,isAnchor:o}=t;return o&&r.remove(i),e?(r.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){return Gv(t,e)}}function Gv(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);const n=e.createRangeIn(t);for(const r of n.getItems())if(r.is("element","table")){const t=e.createRange(n.start,e.createPositionBefore(r));if(e.hasContent(t,{ignoreWhitespaces:!0}))return null;const i=e.createRange(e.createPositionAfter(r),n.end);return e.hasContent(i,{ignoreWhitespaces:!0})?null:r}return null}function Wv(t,e,n,r,i=0){if(!(e<1))return ev(t,e,i).filter(({column:t,cellWidth:e})=>$v(t,e,n)).map(({cell:t})=>nv(t,e,r))}function Kv(t,e,n,r){if(!(e<1))return rv(t,e).filter(({row:t,cellHeight:e})=>$v(t,e,n)).map(({cell:t,column:n})=>iv(t,n,e,r))}function $v(t,e,n){const r=t+e-1,{first:i,last:o}=n;return t>=i&&t<=o||t<i&&r>=i}class Yv extends Or{static get pluginName(){return"TableKeyboard"}static get requires(){return[qv,bv]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...t)=>this._onArrowKey(...t),{context:"table"}),this.listenTo(t,"tab",(...t)=>this._handleTabOnSelectedTable(...t),{context:"figure"}),this.listenTo(t,"tab",(...t)=>this._handleTab(...t),{context:["th","td"]})}_handleTabOnSelectedTable(t,e){const n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),n.model.change(t=>{t.setSelection(t.createRangeIn(r.getChild(0).getChild(0)))}))}_handleTab(t,e){const n=this.editor,r=this.editor.plugins.get(bv),i=!e.shiftKey;let o=r.getTableCellsContainingSelection(n.model.document.selection)[0];if(o||(o=this.editor.plugins.get("TableSelection").getFocusCell()),!o)return;e.preventDefault(),e.stopPropagation(),t.stop();const s=o.parent,a=s.parent,c=a.getChildIndex(s),l=s.getChildIndex(o),u=0===l;if(!i&&u&&0===c)return void n.model.change(t=>{t.setSelection(t.createRangeOn(a))});const d=l===s.childCount-1,h=c===r.getRows(a)-1;if(i&&h&&d&&(n.execute("insertTableRowBelow"),c===r.getRows(a)-1))return void n.model.change(t=>{t.setSelection(t.createRangeOn(a))});let f;if(i&&d){const t=a.getChild(c+1);f=t.getChild(0)}else if(!i&&u){const t=a.getChild(c-1);f=t.getChild(t.childCount-1)}else f=s.getChild(l+(i?1:-1));n.model.change(t=>{t.setSelection(t.createRangeIn(f))})}_onArrowKey(t,e){const n=vr(e.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(n,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(bv),r=this.editor.model,i=r.document.selection,o=["right","down"].includes(t),s=n.getSelectedTableCells(i);if(s.length){let n;return n=e?this.editor.plugins.get("TableSelection").getFocusCell():o?s[s.length-1]:s[0],this._navigateFromCellInDirection(n,t,e),!0}const a=i.focus.findAncestor("tableCell");if(!a)return!1;if(!i.isCollapsed)if(e){if(i.isBackward==o&&!i.containsEntireContent(a))return!1}else{const t=i.getSelectedElement();if(!t||!r.schema.isObject(t))return!1}return!!this._isSelectionAtCellEdge(i,a,o)&&(this._navigateFromCellInDirection(a,t,e),!0)}_isSelectionAtCellEdge(t,e,n){const r=this.editor.model,i=this.editor.model.schema,o=n?t.getLastPosition():t.getFirstPosition();if(!i.getLimitElement(o).is("element","tableCell"))return r.createPositionAt(e,n?"end":0).isTouching(o);const s=r.createSelection(o);return r.modifySelection(s,{direction:n?"forward":"backward"}),o.isEqual(s.focus)}_navigateFromCellInDirection(t,e,n=!1){const r=this.editor.model,i=t.findAncestor("table"),o=[...new qb(i,{includeAllSlots:!0})],{row:s,column:a}=o[o.length-1],c=o.find(({cell:e})=>e==t);let{row:l,column:u}=c;switch(e){case"left":u--;break;case"up":l--;break;case"right":u+=c.cellWidth;break;case"down":l+=c.cellHeight}if(l<0||l>s||u<0&&l<=0||u>a&&l>=s)return void r.change(t=>{t.setSelection(t.createRangeOn(i))});u<0?(u=n?0:a,l--):u>a&&(u=n?a:0,l++);const d=o.find(t=>t.row==l&&t.column==u).cell,h=["right","down"].includes(e),f=this.editor.plugins.get("TableSelection");if(n&&f.isEnabled){const e=f.getAnchorCell()||t;f.setCellSelection(e,d)}else{const t=r.createPositionAt(d,h?0:"end");r.change(e=>{e.setSelection(t)})}}}class Zv extends Wo{constructor(t){super(t),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class Jv extends Or{static get pluginName(){return"TableMouse"}static get requires(){return[qv,bv]}init(){this.editor.editing.view.addObserver(Zv),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(bv);let n=!1;const r=t.plugins.get(qv);this.listenTo(t.editing.view.document,"mousedown",(i,o)=>{const s=t.model.document.selection;if(!this.isEnabled||!r.isEnabled)return;if(!o.domEvent.shiftKey)return;const a=r.getAnchorCell()||e.getTableCellsContainingSelection(s)[0];if(!a)return;const c=this._getModelTableCellFromDomEvent(o);c&&Xv(a,c)&&(n=!0,r.setCellSelection(a,c),o.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(t.editing.view.document,"selectionChange",t=>{n&&t.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,r=!1,i=!1;const o=t.plugins.get(qv);this.listenTo(t.editing.view.document,"mousedown",(t,n)=>{this.isEnabled&&o.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(n)))}),this.listenTo(t.editing.view.document,"mousemove",(t,s)=>{if(!s.domEvent.buttons)return;if(!e)return;const a=this._getModelTableCellFromDomEvent(s);a&&Xv(e,a)&&(n=a,r||n==e||(r=!0)),r&&(i=!0,o.setCellSelection(e,n),s.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{r=!1,i=!1,e=null,n=null}),this.listenTo(t.editing.view.document,"selectionChange",t=>{i&&t.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=this.editor.editing.view.createPositionAt(t.target,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}function Xv(t,e){return t.parent.parent==e.parent.parent}var ty=i(6306);function ey(t){const e=t.getSelectedElement();return e&&ry(e)?e:null}function ny(t){const e=t.getFirstPosition();if(!e)return null;let n=e.parent;for(;n;){if(n.is("element")&&ry(n))return n;n=n.parent}return null}function ry(t){return!!t.getCustomProperty("table")&&Ih(t)}Qr()(ty.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const iy={autoRefresh:!0};class oy{constructor(t,e=iy){if(!t)throw new w("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e),r.addEventListener("load",()=>{const e=r.status,i=r.response;return e<200||e>299?n(new w("token-cannot-download-new-token",null)):t(i)}),r.addEventListener("error",()=>n(new Error("Network Error"))),r.addEventListener("abort",()=>n(new Error("Abort"))),r.send()});var e},this._options=Object.assign({},iy,e)}init(){return new Promise((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)})}refreshToken(){return this._refresh().then(t=>{this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e="string"==typeof t,n=!/^".*"$/.test(t),r=e&&3===t.split(".").length;if(!n||!r)throw new w("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));return e?Math.floor((1e3*e-Date.now())/2):36e5}catch(n){return 36e5}}static create(t,e=iy){return new oy(t,e).init()}}g(oy,H);const sy=oy,ay=/^data:(\S*?);base64,/;class cy{constructor(t,e,n){if(!t)throw new w("fileuploader-missing-file",null);if(!e)throw new w("fileuploader-missing-token",null);if(!n)throw new w("fileuploader-missing-api-address",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(ay);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(ay)[1],r=atob(t.replace(ay,"")),i=[];for(let t=0;t<r.length;t+=e){const n=r.slice(t,t+e),o=new Array(n.length);for(let t=0;t<n.length;t++)o[t]=n.charCodeAt(t);i.push(new Uint8Array(o))}return new Blob(i,{type:n})}catch(t){throw new w("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,r)=>{e.addEventListener("load",()=>{const t=e.status,i=e.response;return t<200||t>299?r(i.message?new w("fileuploader-uploading-data-failed",this,{message:i.message}):i.error):n(i)}),e.addEventListener("error",()=>r(new Error("Network Error"))),e.addEventListener("abort",()=>r(new Error("Abort"))),e.send(t)})}}g(cy,R);class ly{constructor(t,e){if(!t)throw new w("uploadgateway-missing-token",null);if(!e)throw new w("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new cy(t,this._token,this._apiAddress)}}class uy extends Br{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new sy(t,e)}createUploadGateway(t,e){return new ly(t,e)}}class dy extends Dd{}dy.builtinPlugins=[class extends Or{static get requires(){return[af,vh,ff,kh,Kd,Cf]}static get pluginName(){return"Essentials"}},class extends Or{static get requires(){return[Ef]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Ef).createUploadAdapter=e=>new Df(e,t,this.editor.t))}},class extends Or{static get requires(){return[Wd]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&Rf(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&Rf(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&Rf(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&Rf(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=Pf(this.editor,"bold");Of(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Of(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=Pf(this.editor,"italic");Of(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Of(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=Pf(this.editor,"code");Of(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=Pf(this.editor,"strikethrough");Of(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=new RegExp(`^(#{${e[7]}})\\s$`);Rf(this.editor,this,n,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Rf(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&Rf(t,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Rf(this.editor,this,/^---$/,"horizontalLine")}},class extends Or{static get requires(){return[jf,Bf]}static get pluginName(){return"Bold"}},class extends Or{static get requires(){return[Qf,Uf]}static get pluginName(){return"Italic"}},class extends Or{static get requires(){return[Kf,Yf]}static get pluginName(){return"BlockQuote"}},class extends Or{static get pluginName(){return"CKBox"}static get requires(){return[cp,Zf]}},class extends Or{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",gp,hp]}},class extends Br{static get pluginName(){return"CloudServices"}static get requires(){return[uy]}init(){const t=this.context.config.get("cloudServices")||{};for(const e in t)this[e]=t[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(t){if(this._tokens.has(t))return Promise.resolve(this.getTokenFor(t));const e=this.context.plugins.get("CloudServicesCore").createToken(t);return this._tokens.set(t,e),e.init()}getTokenFor(t){const e=this._tokens.get(t);if(!e)throw new w("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const t of this._tokens.values())t.destroy()}},class extends Or{static get requires(){return[mp,"ImageUpload"]}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||k("easy-image-image-feature-missing",t)}static get pluginName(){return"EasyImage"}},class extends Or{static get requires(){return[Ep,Sp]}static get pluginName(){return"Heading"}},class extends Or{static get requires(){return[$p,Zp]}static get pluginName(){return"Image"}},class extends Or{static get requires(){return[tg,eg]}static get pluginName(){return"ImageCaption"}},class extends Or{static get requires(){return[bg,yg]}static get pluginName(){return"ImageStyle"}},class extends Or{static get requires(){return[$h,Op]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get($h),r=t.plugins.get("ImageUtils");var i;n.register("image",{ariaLabel:e("Image toolbar"),items:(i=t.config.get("image.toolbar")||[],i.map(t=>F(t)?t.name:t)),getRelatedElement:t=>r.getClosestSelectedImageWidget(t)})}},class extends Or{static get pluginName(){return"ImageUpload"}static get requires(){return[jg,xg,Dg]}},class extends Or{static get pluginName(){return"Indent"}static get requires(){return[Bg,Vg]}},class extends Or{static get requires(){return[km,Rm,Pm]}static get pluginName(){return"Link"}},class extends Or{static get requires(){return[lb,db]}static get pluginName(){return"List"}},class extends Or{static get requires(){return[_b,Eb,kb,Wh]}static get pluginName(){return"MediaEmbed"}},wp,class extends Or{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Pd]}init(){const t=this.editor,e=t.editing.view.document,n=[];n.push(new jb(e)),n.push(new Nb(e)),t.plugins.get("ClipboardPipeline").on("inputTransformation",(r,i)=>{if(i._isTransformedWithPasteFromOffice)return;if(t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const o=i.dataTransfer.getData("text/html"),s=n.find(t=>t.isActive(o));s&&(i._parsedData=function(t,e){const n=new DOMParser,r=function(t){return Fb(Fb(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){const e="</body>",n=t.indexOf(e);if(n<0)return t;const r=t.indexOf("</html>",n+e.length);return t.substring(0,n+e.length)+(r>=0?t.substring(r):"")}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=n.parseFromString(r,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t.innerText.length||0;t.innerText=Array(e+1).join("\xa0 ").substr(0,e)})}(i);const o=i.body.innerHTML,s=function(t,e){const n=new Ji(e),r=new zo(n,{renderingMode:"data"}),i=t.createDocumentFragment(),o=t.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return r.domToView(i,{skipComments:!0})}(i,e),a=function(t){const e=[],n=[],r=Array.from(t.getElementsByTagName("style"));for(const i of r)i.sheet&&i.sheet.cssRules&&i.sheet.cssRules.length&&(e.push(i.sheet),n.push(i.innerHTML));return{styles:e,stylesString:n.join(" ")}}(i);return{body:s,bodyString:o,styles:a.styles,stylesString:a.stylesString}}(o,e.stylesProcessor),s.execute(i),i._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Or{static get requires(){return[Hp,Op]}static get pluginName(){return"PictureEditing"}afterInit(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),t.plugins.has("ImageInlineEditing")&&t.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const t=this.editor,e=t.conversion,n=t.plugins.get("ImageUtils");e.for("upcast").add(function(t){const e=["srcset","media","type","sizes"];return t=>{t.on("element:picture",n)};function n(n,r,i){const o=r.viewItem;if(!i.consumable.test(o,{name:!0}))return;const s=new Map;for(const t of o.getChildren())if(t.is("element","source")){const n={};for(const r of e)t.hasAttribute(r)&&i.consumable.test(t,{attributes:r})&&(n[r]=t.getAttribute(r));Object.keys(n).length&&s.set(t,n)}const a=t.findViewImgElement(o);if(!a)return;let c=r.modelCursor.parent;if(!c.is("element","imageBlock")){const t=i.convertItem(a,r.modelCursor);r.modelRange=t.modelRange,r.modelCursor=t.modelCursor,c=Ar(t.modelRange.getItems())}i.consumable.consume(o,{name:!0});for(const[t,e]of s)i.consumable.consume(t,{attributes:Object.keys(e)});s.size&&i.writer.setAttribute("sources",Array.from(s.values()),c),i.convertChildren(o,c)}}(n)),e.for("downcast").add(function(t){return t=>{t.on("attribute:sources:imageBlock",e),t.on("attribute:sources:imageInline",e)};function e(e,n,r){if(!r.consumable.consume(n.item,e.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=t.findViewImgElement(o);if(n.attributeNewValue&&n.attributeNewValue.length){const t=i.createContainerElement("picture",null,n.attributeNewValue.map(t=>i.createEmptyElement("source",t))),e=[];let r=s.parent;for(;r&&r.is("attributeElement");){const t=r.parent;i.unwrap(i.createRangeOn(s),r),e.unshift(r),r=t}i.insert(i.createPositionBefore(s),t),i.move(i.createRangeOn(s),i.createPositionAt(t,"end"));for(const n of e)i.wrap(i.createRangeOn(t),n)}else if(s.parent.is("element","picture")){const t=s.parent;i.move(i.createRangeOn(s),i.createPositionBefore(t)),i.remove(t)}}}(n))}_setupImageUploadEditingIntegration(){const t=this.editor;t.plugins.has("ImageUploadEditing")&&this.listenTo(t.plugins.get("ImageUploadEditing"),"uploadComplete",(e,{imageElement:n,data:r})=>{const i=r.sources;i&&t.model.change(t=>{t.setAttributes({sources:i},n)})})}},class extends Or{static get requires(){return[jv,Qv,qv,Jv,Yv,Hv,Wh]}static get pluginName(){return"Table"}},class extends Or{static get requires(){return[$h]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get($h),r=t.config.get("table.contentToolbar"),i=t.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:ny}),i&&n.register("table",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:ey})}},class extends Or{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:sh}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Delete"),r=function(t){const e=t.remove||[],n=t=>!e.includes(t);return function(t){const e=new Set;for(const n of t)if("string"==typeof n&&oh[n])for(const t of oh[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(t.extra||[]).filter(n)).filter(n).map(t=>"string"==typeof t&&ih[t]?ih[t]:t).filter(t=>"object"==typeof t).map(t=>({from:ah(t.from),to:ch(t.to)}))}(t.config.get("typing.transformations")),i=new Yd(t.model,t=>{for(const e of r)if(e.from.test(t))return{normalizedTransformation:e}});i.on("matched:data",(t,r)=>{if(!r.batch.isTyping)return;const{from:i,to:o}=r.normalizedTransformation,s=i.exec(r.text),a=o(s.slice(1)),c=r.range;let l=s.index;e.enqueueChange(t=>{for(let n=1;n<s.length;n++){const r=s[n],i=a[n-1];if(null==i){l+=r.length;continue}const o=c.start.getShiftedBy(l),u=e.createRange(o,o.getShiftedBy(r.length)),d=lh(o);e.insertContent(t.createText(i,d),u),l+=i.length}e.enqueueChange(()=>{n.requestUndoOnBackspace()})})}),i.bind("isEnabled").to(this)}}],dy.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),o.default})()}).call(this,n("YuTi")(t))},"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}n.r(e);var s=n("qOnz");n.d(e,"Component",(function(){return a})),n.d(e,"ComponentContainer",(function(){return l})),n.d(e,"Provider",(function(){return c}));var a=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(d){}try{for(var o=r(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=i(s.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(d){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=r(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var d=i(u.value,2),h=d[1];a===this.normalizeInstanceIdentifier(d[0])&&h.resolve(c)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=r(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,e)}catch(l){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"1eVo":function(t,e,n){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},"2Naf":function(t,e,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("woL0"),s=n("Yh+D"),a=global.XMLHttpRequest;function c(t,e,n,i){var o=this;r.call(this),setTimeout((function(){o._start(t,e,n,i)}),0)}i(c,r),c.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new a}catch(u){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=s.addQuery(e,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(d){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),r&&r.headers)for(var l in r.headers)this.xhr.setRequestHeader(l,r.headers[l]);this.xhr.onreadystatechange=function(){if(i.xhr){var t,e,n=i.xhr;switch(n.readyState){case 3:try{e=n.status,t=n.responseText}catch(d){}1223===e&&(e=204),200===e&&t&&t.length>0&&i.emit("chunk",e,t);break;case 4:1223===(e=n.status)&&(e=204),12005!==e&&12029!==e||(e=0),i.emit("finish",e,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(d){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!a;var l=["Active"].concat("Object").join("X");!c.enabled&&l in global&&(c.enabled=!!new(a=function(){try{return new global[l]("Microsoft.XMLHTTP")}catch(t){return null}}));var u=!1;try{u="withCredentials"in new a}catch(d){}c.supportsCORS=u,t.exports=c},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3/ER":function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n("3UD+")(t))},"3N8a":function(t,e,n){"use strict";var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return o}));class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3wkl":function(t,e,n){"use strict";var r=n("P7XM"),i=n("2Naf");function o(t,e,n,r){i.call(this,t,e,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,t.exports=o},"42Jg":function(t,e,n){"use strict";var r=n("P7XM"),i=n("moM4");function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),t.exports=o},"4fRq":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},"4rNY":function(t,e,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("FUii"),s=n("3wkl"),a=n("c6pU");function c(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}r(c,i),c.enabled=function(t){return!t.nullOrigin&&(!(!a.enabled||!t.sameOrigin)||s.enabled)},c.transportName="xhr-polling",c.roundTrips=2,t.exports=c},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5Vaj":function(t,e,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("sYUk"),s=n("FUii"),a=n("nX0T");function c(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}r(c,i),c.enabled=o.enabled,c.transportName="xdr-polling",c.roundTrips=2,t.exports=c},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mAIw"),s=n("q/0M"),a="";function c(t){a=t}var l,u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new d},f=h("localStorage"),p=h("sessionStorage"),g=new s.Logger("@firebase/database"),m=(l=1,function(){return l++}),b=function(t){var e=Object(i.stringToByteArray)(t),n=new i.Sha1;n.update(e);var r=n.digest();return i.base64.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=v.apply(null,o):n+="object"==typeof o?Object(i.stringify)(o):o,n+=" "}return n},y=null,_=!0,w=function(t,e){Object(i.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.LogLevel.VERBOSE,y=g.log.bind(g),e&&p.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,p.remove("logging_enabled"))},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=v.apply(null,t);y(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];k.apply(void 0,Object(o.f)([t],Object(o.e)(e)))}},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(o.f)([],Object(o.e)(t)));throw g.error(n),new Error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",T="[MAX_NAME]",D=function(t,e){if(t===e)return 0;if(t===I||e===T)return-1;if(e===I||t===T)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.stringify)(e))},N=function(t){if("object"!=typeof t||null===t)return Object(i.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.stringify)(e[o]),r+=":",r+=N(t[e[o]]);return r+"}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L=function(t){var e,n,r,o,s;Object(i.assert)(!S(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),l="";for(s=0;s<64;s+=8){var u=parseInt(c.substr(s,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(j.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},B=function(t){try{t()}catch(e){setTimeout((function(){throw x("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},z=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),V=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';x(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),U=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),q=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function G(t,e,n){var r;if(Object(i.assert)("string"==typeof e,"typeof type must == string"),Object(i.assert)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return M(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var W=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},t}(),K={},$={};function Y(t){var e=t.toString();return K[e]||(K[e]=new W),K[e]}var Z=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&B((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),J=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Y(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),G(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(i.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new X((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.base64Encode)(e),r=P(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),X=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){k("frame writing exception"),c.stack&&k(c.stack),k(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||k("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){k("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),tt=null;"undefined"!=typeof MozWebSocket?tt=MozWebSocket:"undefined"!=typeof WebSocket&&(tt=WebSocket);var et=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Y(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&q.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),G(t,"websocket",o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new tt(this.connURL,[],r)}else this.mySock=new tt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tt&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[J,et]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=et&&et.isAvailable(),s=i&&!et.previouslyFailed();if(e.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[et];else{var a=this.transports_=[];try{for(var c=Object(o.g)(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),rt=function(){function t(t,e,n,r,i,o,s,a,c,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new nt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=z((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O("t",t),n=O("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?A("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),z((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),it=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ot=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.assert)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),st=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ot),at=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new at("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ut(t){return t.pieces_.length-t.pieceNum_}function dt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function ht(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ft(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function pt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function gt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new at(n,0)}function mt(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){var n=lt(t),r=lt(e);if(null===n)return e;if(n===r)return bt(dt(t),dt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vt(t,e){for(var n=ft(t,0),r=ft(e,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yt(t,e){if(ut(t)!==ut(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _t(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ut(t)>ut(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var wt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=ft(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);kt(this)}}();function kt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ct(t))}function Ct(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var At,Et,xt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ot),St=function(t){function e(n,r,o,s,a,c,l,u){var d=t.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=o,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=c,d.appCheckTokenProvider_=l,d.authOverride_=u,d.id=e.nextPersistentConnectionId_++,d.log_=C("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=1e3,d.maxReconnectDelay_=3e5,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,u&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return xt.getInstance().on("visible",d.onVisible_,d),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",d.onOnline_,d),d}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r,a:t,b:e};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.Deferred,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.contains)(t,"w")){var n=Object(i.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):A("Unrecognized action received from server: "+Object(i.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,s,a,c,l,u,d,h,f,p,g,m=this;return Object(o.d)(this,(function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,this.realtime_={close:u=function(){l?l.close():(c=!0,r())},sendRequest:function(t){Object(i.assert)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return h=o.e.apply(void 0,[b.sent(),2]),f=h[0],p=h[1],c?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new rt(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){x(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),[3,4];case 3:return g=b.sent(),this.log_("Failed to get token: "+g),c||(this.repoInfo_.nodeAdmin&&x(g),u()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){k("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){k("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new at(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){k("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){k("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var c=(n=void 0,Object(o.g)(a.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?t["framework.cordova"]=1:Object(i.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=st.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(it),It=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Tt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new It(I,t),r=new It(I,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return It.MIN},t}(),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return At},set:function(t){At=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return D(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return It.MIN},e.prototype.maxPost=function(){return new It(T,At)},e.prototype.makePost=function(t,e){return Object(i.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new It(t,At)},e.prototype.toString=function(){return".key"},e}(Tt),Rt=new Dt,Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Mt.EMPTY_NODE,this.right=null!=o?o:Mt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Mt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Mt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Pt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Mt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Pt,t}();function Lt(t,e){return D(t.name,e.name)}function jt(t,e){return D(t,e)}var Ft,Bt,zt,Qt,Vt,Ut=function(t){return"number"==typeof t?"number:"+L(t):"string:"+t},qt=function(t){if(t.isLeafNode()){var e=t.val();Object(i.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.contains)(e,".sv"),"Priority must be a string or number.")}else Object(i.assert)(t===Et||t.isEmpty(),"priority of unexpected type.");Object(i.assert)(t===Et||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ht=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),qt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ft},set:function(t){Ft=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return mt(e)?this:".priority"===lt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=lt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===ut(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(dt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ut(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?L(this.value_):this.value_,this.lazyHash_=b(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return It.MIN},e.prototype.maxPost=function(){return new It(T,new Ht("[PRIORITY-POST]",zt))},e.prototype.makePost=function(t,e){var n=Bt(t);return new It(e,new Ht("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Tt)),Wt=Math.log(2),Kt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Wt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),$t=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Nt(s,o.node,Nt.BLACK,null,null);var c=parseInt(a/2,10)+e,l=i(e,c),u=i(c+1,r);return o=t[c],s=n?n(o):o,new Nt(s,o.node,Nt.BLACK,l,u)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var l=i(o+1,a),u=t[o],d=n?n(u):u;c(new Nt(d,u.node,r,null,l))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var u=e.nextBitIsOne(),d=Math.pow(2,e.count-(l+1));u?a(d,Nt.BLACK):(a(d,Nt.BLACK),a(d,Nt.RED))}return o}(new Kt(t.length));return new Mt(r||e,o)},Yt={},Zt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.assert)(Yt&&Gt,"ChildrenNode.ts has not been loaded"),Qt=Qt||new t({".priority":Yt},{".priority":Gt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mt?e:null},t.prototype.hasIndex=function(t){return Object(i.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.assert)(e!==Rt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(It.Wrap),l=c.getNext();l;)a=a||e.isDefinedOn(l.node),s.push(l),l=c.getNext();r=a?$t(s,e.getCompare()):Yt;var u=e.toString(),d=Object(o.a)({},this.indexSet_);d[u]=e;var h=Object(o.a)({},this.indexes_);return h[u]=r,new t(h,d)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.map)(this.indexes_,(function(t,o){var s=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(s,"Missing index implementation for "+o),t===Yt){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(It.Wrap),l=c.getNext();l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),$t(a,s.getCompare())}return Yt}var u=n.get(e.name),d=t;return u&&(d=d.remove(new It(e.name,u))),d.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.map)(this.indexes_,(function(t){if(t===Yt)return t;var r=n.get(e.name);return r?t.remove(new It(e.name,r)):t})),this.indexSet_)},t}(),Jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qt(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Vt||(Vt=new t(new Mt(jt),null,Zt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Vt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Vt:e},t.prototype.getChild=function(t){var e=lt(t);return null===e?this:this.getImmediateChild(e).getChild(dt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new It(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?Vt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=lt(t);if(null===n)return e;Object(i.assert)(".priority"!==lt(t)||1===ut(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(dt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Gt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ut(this.getPriority().val())+":"),this.forEachChild(Gt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":b(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new It(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new It(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new It(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,It.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,It.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xt?-1:0},t.prototype.withIndex=function(e){if(e===Rt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Rt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Gt),r=e.getIterator(Gt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Rt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xt=new(function(t){function e(){return t.call(this,new Mt(jt),Jt.EMPTY_NODE,Zt.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Jt));function te(t,e){if(void 0===e&&(e=null),null===t)return Jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Ht(t,te(e));if(t instanceof Array){var n=Jt.EMPTY_NODE;return M(t,(function(e,r){if(Object(i.contains)(t,e)&&"."!==e.substring(0,1)){var o=te(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(te(e))}var r=[],o=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=te(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new It(t,n)))}})),0===r.length)return Jt.EMPTY_NODE;var s=$t(r,Lt,(function(t){return t.name}),jt);if(o){var a=$t(r,Gt.getCompare());return new Jt(s,te(e),new Zt({".priority":a},{".priority":Gt}))}return new Jt(s,te(e),Zt.Default)}Object.defineProperties(It,{MIN:{value:new It(I,Jt.EMPTY_NODE)},MAX:{value:new It(T,Xt)}}),Dt.__EMPTY_NODE=Jt.EMPTY_NODE,Ht.__childrenNodeConstructor=Jt,Et=Xt,function(t){zt=t}(Xt),function(t){Bt=t}(te);var ee,ne,re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.assert)(!mt(e)&&".priority"!==lt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=te(t),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new It(e,r)},e.prototype.maxPost=function(){var t=Jt.EMPTY_NODE.updateChild(this.indexPath_,Xt);return new It(T,t)},e.prototype.toString=function(){return ft(this.indexPath_,0).join("/")},e}(Tt),ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?D(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return It.MIN},e.prototype.maxPost=function(){return It.MAX},e.prototype.makePost=function(t,e){var n=te(t);return new It(e,n)},e.prototype.toString=function(){return".value"},e}(Tt)),oe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",se=(ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=oe.charAt(t%64),t=Math.floor(t/64);Object(i.assert)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=oe.charAt(ne[e]);return Object(i.assert)(20===o.length,"nextPushId: Length should be 20."),o}),ae=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=oe.charAt(oe.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ce=function(t){if("-2147483648"===t)return I;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=oe.charAt(oe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function le(t){return{type:"value",snapshotNode:t}}function ue(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function de(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function he(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(de(e,a)):Object(i.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ue(e,n)):s.trackChildChange(he(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Gt,(function(t,r){e.hasChild(t)||n.trackChildChange(de(t,r))})),e.isLeafNode()||e.forEachChild(Gt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(he(e,r,i))}else n.trackChildChange(ue(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),pe=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new It(e,n))||(n=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Jt.EMPTY_NODE);var i=this;return e.forEachChild(Gt,(function(t,e){i.matches(new It(t,e))||(r=r.updateImmediateChild(t,Jt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ge=function(){function t(t){this.rangedFilter_=new pe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new It(e,n))||(n=Jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Jt.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var d=!1;i.hasNext();)s=i.getNext(),!d&&l(a,s)<=0&&(d=!0),d&&o<this.limit_&&l(s,c)<=0?o++:r=r.updateImmediateChild(s.name,Jt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(i.assert)(c.numChildren()===this.limit_,"");var l=new It(e,n),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var h=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,u,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,l);if(d&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(he(e,n,h)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(de(e,h));var g=c.updateImmediateChild(e,Jt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(ue(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:d&&s(u,l)>=0?(null!=o&&(o.trackChildChange(de(u.name,u.node)),o.trackChildChange(ue(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(u.name,Jt.EMPTY_NODE)):t},t}(),me=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Gt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function be(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ve(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ye(t,e){var n=t.copy();return n.index_=e,n}function _e(t){var e,n={};return t.isDefault()||(t.index_===Gt?e="$priority":t.index_===ie?e="$value":t.index_===Rt?e="$key":(Object(i.assert)(t.index_ instanceof re,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.stringify)(e),t.startSet_&&(n.startAt=Object(i.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function we(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Gt&&(e.i=t.index_.toString()),e}var ke=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),l={};this.listens_[c]=l;var u=_e(t._queryParams);this.restRequest_(a+".json",u,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.safeGet)(s.listens_,c)===l&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=_e(t._queryParams),r=t._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,(function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(s){var a=Object(o.e)(s,2),c=a[0],l=a[1];c&&c.accessToken&&(e.auth=c.accessToken),l&&l.token&&(e.ac=l.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(e);r.log_("Sending REST request for "+u);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(n&&4===d.readyState){r.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);var t=null;if(d.status>=200&&d.status<300){try{t=Object(i.jsonEval)(d.responseText)}catch(e){x("Failed to parse JSON response for "+u+": "+d.responseText)}n(null,t)}else 401!==d.status&&404!==d.status&&x("Got unsuccessful REST response for "+u+" Status: "+d.status),n(d.status);n=null}},d.open("GET",u,!0),d.send()}))},e}(it),Ce=function(){function t(){this.rootNode_=Jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ae(){return{value:null,children:new Map}}function Ee(t,e,n){if(mt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=lt(e);t.children.has(r)||t.children.set(r,Ae()),Ee(t.children.get(r),e=dt(e),n)}}function xe(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){xe(r,new at(e.toString()+"/"+t),n)}))}var Se=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ie=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Se(t);var n=1e4+2e4*Math.random();z(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,o){o>0&&Object(i.contains)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Te=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function De(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Re,Oe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Te.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(mt(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new at(e));return new t(ct(),n,this.revert)}return Object(i.assert)(lt(this.path)===e,"operationForChild called for unrelated child."),new t(dt(this.path),this.affectedTree,this.revert)},t}(),Ne=function(){function t(t,e){this.source=t,this.path=e,this.type=Te.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,ct()):new t(this.source,dt(this.path))},t}(),Pe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Te.OVERWRITE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,dt(this.path),this.snap)},t}(),Me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Te.MERGE}return t.prototype.operationForChild=function(e){if(mt(this.path)){var n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new Pe(this.source,ct(),n.value):new t(this.source,ct(),n)}return Object(i.assert)(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,dt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Le=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;var e=lt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),je=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Fe(t,e,n,r,o,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new It(e.childName,e.snapshotNode),o=new It(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Be(t,e){return{eventCache:t,serverCache:e}}function ze(t,e,n,r){return Be(new Le(e,n,r),t.serverCache)}function Qe(t,e,n,r){return Be(t.eventCache,new Le(e,n,r))}function Ve(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ue(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var qe=function(){function t(t,e){void 0===e&&(Re||(Re=new Mt(R)),e=Re),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return M(e,(function(t,e){n=n.set(new at(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(mt(t))return null;var n=lt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(dt(t),e);return null!=i?{path:gt(new at(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(mt(e))return this;var n=lt(e),r=this.children.get(n);return null!==r?r.subtree(dt(e)):new t(null)},t.prototype.set=function(e,n){if(mt(e))return new t(n,this.children);var r=lt(e),i=(this.children.get(r)||new t(null)).set(dt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(mt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=lt(e),r=this.children.get(n);if(r){var i=r.remove(dt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(mt(t))return this.value;var e=lt(t),n=this.children.get(e);return n?n.get(dt(t)):null},t.prototype.setTree=function(e,n){if(mt(e))return n;var r,i=lt(e),o=(this.children.get(i)||new t(null)).setTree(dt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(gt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(mt(t))return null;var i=lt(t),o=this.children.get(i);return o?o.findOnPath_(dt(t),gt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(mt(e))return this;this.value&&r(n,this.value);var i=lt(e),o=this.children.get(i);return o?o.foreachOnPath_(dt(e),gt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(gt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),He=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new qe(null))},t}();function Ge(t,e,n){if(mt(e))return new He(new qe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=bt(i,e);return o=o.updateChild(s,n),new He(t.writeTree_.set(i,o))}var a=new qe(n),c=t.writeTree_.setTree(e,a);return new He(c)}function We(t,e,n){var r=t;return M(n,(function(t,n){r=Ge(r,gt(e,t),n)})),r}function Ke(t,e){if(mt(e))return He.empty();var n=t.writeTree_.setTree(e,new qe(null));return new He(n)}function $e(t,e){return null!=Ye(t,e)}function Ye(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function Ze(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Gt,(function(t,n){e.push(new It(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new It(t,n.value))})),e}function Je(t,e){if(mt(e))return t;var n=Ye(t,e);return new He(null!=n?new qe(n):t.writeTree_.subtree(e))}function Xe(t){return t.writeTree_.isEmpty()}function tn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(i.assert)(null!==s.value,"Priority writes must always be leaf nodes"),o=s.value):r=t(gt(e,n),s,r)})),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(gt(e,".priority"),o)),r}(ct(),t.writeTree_,e)}function en(t,e){return fn(e,t)}function nn(t,e){if(t.snap)return _t(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&_t(gt(t.path,n),e))return!0;return!1}function rn(t){return t.visible}function on(t,e,n){for(var r=He.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,c=void 0;if(s.snap)_t(n,a)?r=Ge(r,c=bt(n,a),s.snap):_t(a,n)&&(c=bt(a,n),r=Ge(r,ct(),s.snap.getChild(c)));else{if(!s.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(_t(n,a))r=We(r,c=bt(n,a),s.children);else if(_t(a,n))if(mt(c=bt(a,n)))r=We(r,ct(),s.children);else{var l=Object(i.safeGet)(s.children,lt(c));if(l){var u=l.getChild(dt(c));r=Ge(r,ct(),u)}}}}}return r}function sn(t,e,n,r,i){if(r||i){var o=Je(t.visibleWrites,e);return!i&&Xe(o)?n:i||null!=n||$e(o,ct())?tn(on(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(_t(t.path,e)||_t(e,t.path))}),e),n||Jt.EMPTY_NODE):null}var s=Ye(t.visibleWrites,e);if(null!=s)return s;var a=Je(t.visibleWrites,e);return Xe(a)?n:null!=n||$e(a,ct())?tn(a,n||Jt.EMPTY_NODE):null}function an(t,e,n,r){return sn(t.writeTree,t.treePath,e,n,r)}function cn(t,e){return function(t,e,n){var r=Jt.EMPTY_NODE,i=Ye(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Gt,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Je(t.visibleWrites,e);return n.forEachChild(Gt,(function(t,e){var n=tn(Je(o,new at(t)),e);r=r.updateImmediateChild(t,n)})),Ze(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Ze(Je(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function ln(t,e,n,r){return function(t,e,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=gt(e,n);if($e(t.visibleWrites,s))return null;var a=Je(t.visibleWrites,s);return Xe(a)?o.getChild(n):tn(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function un(t,e){return function(t,e){return Ye(t.visibleWrites,e)}(t.writeTree,gt(t.treePath,e))}function dn(t,e,n){return function(t,e,n,r){var i=gt(e,n),o=Ye(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Je(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function hn(t,e){return fn(gt(t.treePath,e),t.writeTree)}function fn(t,e){return{treePath:t,writeTree:e}}var pn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,he(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,de(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,ue(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,he(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),gn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),mn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Le(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ue(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,c=Je(t.visibleWrites,e),l=Ye(c,ct());if(null!=l)a=l;else{if(null==n)return[];a=tn(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=h.getNext();f&&u.length<1;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function bn(t,e,n,r,o,s){var a=e.eventCache;if(null!=un(r,n))return e;var c=void 0,l=void 0;if(mt(n))if(Object(i.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var u=Ue(e),d=cn(r,u instanceof Jt?u:Jt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var h=an(r,Ue(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var f=lt(n);if(".priority"===f){Object(i.assert)(1===ut(n),"Can't have a priority with additional path components");var p=a.getNode(),g=ln(r,n,p,l=e.serverCache.getNode());c=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=dt(n),b=void 0;if(a.isCompleteForChild(f)){l=e.serverCache.getNode();var v=ln(r,n,a.getNode(),l);b=null!=v?a.getNode().getImmediateChild(f).updateChild(m,v):a.getNode().getImmediateChild(f)}else b=dn(r,f,e.serverCache);c=null!=b?t.filter.updateChild(a.getNode(),f,b,m,o,s):a.getNode()}}return ze(e,c,a.isFullyInitialized()||mt(n),t.filter.filtersNodes())}function vn(t,e,n,r,i,o,s,a){var c,l=e.serverCache,u=s?t.filter:t.filter.getIndexedFilter();if(mt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),d,null)}else{var h=lt(n);if(!l.isCompleteForPath(n)&&ut(n)>1)return e;var f=dt(n),p=l.getNode().getImmediateChild(h).updateChild(f,r);c=".priority"===h?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),h,p,f,gn,null)}var g=Qe(e,c,l.isFullyInitialized()||mt(n),u.filtersNodes());return bn(t,g,n,i,new mn(i,g,o),a)}function yn(t,e,n,r,i,o,s){var a,c,l=e.eventCache,u=new mn(i,e,o);if(mt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=ze(e,c,!0,t.filter.filtersNodes());else{var d=lt(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=ze(e,c,l.isFullyInitialized(),l.isFiltered());else{var h=dt(n),f=l.getNode().getImmediateChild(d),p=void 0;if(mt(h))p=r;else{var g=u.getCompleteChild(d);p=null!=g?".priority"===ht(h)&&g.getChild(pt(h)).isEmpty()?g:g.updateChild(h,r):Jt.EMPTY_NODE}a=f.equals(p)?e:ze(e,t.filter.updateChild(l.getNode(),d,p,h,u,s),l.isFullyInitialized(),t.filter.filtersNodes())}}return a}function _n(t,e){return t.eventCache.isCompleteForChild(e)}function wn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function kn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,l=e;c=mt(n)?r:new qe(null).setTree(n,r);var u=e.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(u.hasChild(n)){var c=wn(0,e.serverCache.getNode().getImmediateChild(n),r);l=vn(t,l,new at(n),c,i,o,s,a)}})),c.children.inorderTraversal((function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!c){var d=wn(0,e.serverCache.getNode().getImmediateChild(n),r);l=vn(t,l,new at(n),d,i,o,s,a)}})),l}var Cn,An=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new fe(r.getIndex()),o=(n=r).loadsAllData()?new fe(n.getIndex()):n.hasLimit()?new ge(n):new pe(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=i.updateFullNode(Jt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),u=new Le(c,s.isFullyInitialized(),i.filtersNodes()),d=new Le(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Be(d,u),this.eventGenerator_=new je(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function En(t,e){var n=Ue(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mt(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function xn(t){return 0===t.eventRegistrations_.length}function Sn(t,e,n){var r=[];if(n){Object(i.assert)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function In(t,e,n,r){e.type===Te.MERGE&&null!==e.source.queryId&&(Object(i.assert)(Ue(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(Ve(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,c=function(t,e,n,r,o){var s,a,c=new pn;if(n.type===Te.OVERWRITE){var l=n;l.source.fromUser?s=yn(t,e,l.path,l.snap,r,o,c):(Object(i.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!mt(l.path),s=vn(t,e,l.path,l.snap,r,o,a,c))}else if(n.type===Te.MERGE){var u=n;u.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,c){var l=gt(n,r);_n(e,lt(l))&&(a=yn(t,a,l,c,i,o,s))})),r.foreach((function(r,c){var l=gt(n,r);_n(e,lt(l))||(a=yn(t,a,l,c,i,o,s))})),a}(t,e,u.path,u.children,r,o,c):(Object(i.assert)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=kn(t,e,u.path,u.children,r,o,a,c))}else if(n.type===Te.ACK_USER_WRITE){var d=n;s=d.revert?function(t,e,n,r,o,s){var a;if(null!=un(r,n))return e;var c=new mn(r,e,o),l=e.eventCache.getNode(),u=void 0;if(mt(n)||".priority"===lt(n)){var d=void 0;if(e.serverCache.isFullyInitialized())d=an(r,Ue(e));else{var h=e.serverCache.getNode();Object(i.assert)(h instanceof Jt,"serverChildren would be complete if leaf node"),d=cn(r,h)}u=t.filter.updateFullNode(l,d=d,s)}else{var f=lt(n),p=dn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),(u=null!=p?t.filter.updateChild(l,f,p,dt(n),c,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(l,f,Jt.EMPTY_NODE,dt(n),c,s):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=an(r,Ue(e))).isLeafNode()&&(u=t.filter.updateFullNode(u,a,s))}return a=e.serverCache.isFullyInitialized()||null!=un(r,ct()),ze(e,u,a,t.filter.filtersNodes())}(t,e,d.path,r,o,c):function(t,e,n,r,i,o,s){if(null!=un(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(mt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return vn(t,e,n,c.getNode().getChild(n),i,o,a,s);if(mt(n)){var l=new qe(null);return c.getNode().forEachChild(Rt,(function(t,e){l=l.set(new at(t),e)})),kn(t,e,n,l,i,o,a,s)}return e}var u=new qe(null);return r.foreach((function(t,e){var r=gt(n,t);c.isCompleteForPath(r)&&(u=u.set(t,c.getNode().getChild(r)))})),kn(t,e,n,u,i,o,a,s)}(t,e,d.path,d.affectedTree,r,o,c)}else{if(n.type!==Te.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return bn(t,Qe(e,o.getNode(),o.isFullyInitialized()||mt(n),o.isFiltered()),n,r,gn,i)}(t,e,n.path,r,c)}var h=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ve(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(le(Ve(e)))}}(e,s,h),{viewCache:s,changes:h}}(t.processor_,a,e,n,r);return o=t.processor_,s=c.viewCache,Object(i.assert)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Tn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Tn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Fe(t,i,"child_removed",e,r,n),Fe(t,i,"child_added",e,r,n),Fe(t,i,"child_moved",o,r,n),Fe(t,i,"child_changed",e,r,n),Fe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Dn,Rn=function(){return function(){this.views=new Map}}();function On(t,e,n,r){var s,a,c=e.source.queryId;if(null!==c){var l=t.views.get(c);return Object(i.assert)(null!=l,"SyncTree gave us an op for an invalid query."),In(l,e,n,r)}var u=[];try{for(var d=Object(o.g)(t.views.values()),h=d.next();!h.done;h=d.next())u=u.concat(In(l=h.value,e,n,r))}catch(f){s={error:f}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}return u}function Nn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=an(n,i?r:null),a=!1;s?a=!0:r instanceof Jt?(s=cn(n,r),a=!1):(s=Jt.EMPTY_NODE,a=!1);var c=Be(new Le(s,a,!1),new Le(r,i,!1));return new An(e,c)}return o}function Pn(t){var e,n,r=[];try{for(var i=Object(o.g)(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Mn(t,e){var n,r,i=null;try{for(var s=Object(o.g)(t.views.values()),a=s.next();!a.done;a=s.next())i=i||En(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function Ln(t,e){return e._queryParams.loadsAllData()?Bn(t):t.views.get(e._queryIdentifier)}function jn(t,e){return null!=Ln(t,e)}function Fn(t){return null!=Bn(t)}function Bn(t){var e,n;try{for(var r=Object(o.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var zn=1,Qn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_={visibleWrites:He.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Vn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Ge(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?Kn(t,new Pe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Un(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&nn(c,r.path)?o=!1:_t(r.path,c.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=on(t.allWrites,rn,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ke(t.visibleWrites,r.path):M(r.children,(function(e){t.visibleWrites=Ke(t.visibleWrites,gt(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var o=new qe(null);return null!=r.snap?o=o.set(ct(),!0):M(r.children,(function(t){o=o.set(new at(t),!0)})),Kn(t,new Oe(r.path,o,n))}return[]}function qn(t,e,n){return Kn(t,new Pe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Hn(t,e,n,r){var s=e._path,a=t.syncPointTree_.get(s),c=[];if(a&&("default"===e._queryIdentifier||jn(a,e))){var l=function(t,e,n,r){var s,a,c=e._queryIdentifier,l=[],u=[],d=Fn(t);if("default"===c)try{for(var h=Object(o.g)(t.views.entries()),f=h.next();!f.done;f=h.next()){var p,g=Object(o.e)(f.value,2),m=g[0];u=u.concat(Sn(p=g[1],n,r)),xn(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||l.push(p.query))}}catch(b){s={error:b}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}else(p=t.views.get(c))&&(u=u.concat(Sn(p,n,r)),xn(p)&&(t.views.delete(c),p.query._queryParams.loadsAllData()||l.push(p.query)));return d&&!Fn(t)&&l.push(new(Object(i.assert)(Cn,"Reference.ts has not been loaded"),Cn)(e._repo,e._path)),{removed:l,events:u}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var u=l.removed;c=l.events;var d=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),h=t.syncPointTree_.findOnPath(s,(function(t,e){return Fn(e)}));if(d&&!h){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&Fn(e))return[Bn(e)];var r=[];return e&&(r=Pn(e)),M(n,(function(t,e){r=r.concat(e)})),r}))}(f),g=0;g<p.length;++g){var m=p[g],b=m.query,v=$n(t,m);t.listenProvider_.startListening(er(b),Yn(t,b),v.hashFn,v.onComplete)}}!h&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(er(e),null):u.forEach((function(e){var n=t.queryToTagMap.get(Zn(e));t.listenProvider_.stopListening(er(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Zn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return c}function Gn(t,e,n){var r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=bt(t,r);o=o||Mn(e,n),s=s||Fn(e)}));var a,c=t.syncPointTree_.get(r);c?(s=s||Fn(c),o=o||Mn(c,ct())):(c=new Rn,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=o?a=!0:(a=!1,o=Jt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Mn(e,ct());n&&(o=o.updateImmediateChild(t,n))})));var l=jn(c,e);if(!l&&!e._queryParams.loadsAllData()){var u=Zn(e);Object(i.assert)(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var d=zn++;t.queryToTagMap.set(u,d),t.tagToQueryMap.set(d,u)}var h=function(t,e,n,r,i,o){var s=Nn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Gt,(function(t,e){r.push(ue(t,e))})),n.isFullyInitialized()&&r.push(le(n.getNode())),Tn(t,r,n.getNode(),e)}(s,n)}(c,e,n,en(t.pendingWriteTree_,r),o,a);if(!l&&!s){var f=Ln(c,e);h=h.concat(function(t,e,n){var r=e._path,o=Yn(t,e),s=$n(t,n),a=t.listenProvider_.startListening(er(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(o)Object(i.assert)(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold((function(t,e,n){if(!mt(t)&&e&&Fn(e))return[Bn(e).query];var r=[];return e&&(r=r.concat(Pn(e).map((function(t){return t.query})))),M(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<l.length;++u){var d=l[u];t.listenProvider_.stopListening(er(d),Yn(t,d))}return a}(t,e,f))}return h}function Wn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Mn(n,bt(t,e));if(r)return r}));return sn(r,e,i,n,!0)}function Kn(t,e){return function t(e,n,r,i){if(mt(e.path))return function t(e,n,r,i){var o=n.get(ct());null==r&&null!=o&&(r=Mn(o,ct()));var s=[];return n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,c=hn(i,n),l=e.operationForChild(n);l&&(s=s.concat(t(l,o,a,c)))})),o&&(s=s.concat(On(o,e,i,r))),s}(e,n,r,i);var o=n.get(ct());null==r&&null!=o&&(r=Mn(o,ct()));var s=[],a=lt(e.path),c=e.operationForChild(a),l=n.children.get(a);if(l&&c){var u=r?r.getImmediateChild(a):null,d=hn(i,a);s=s.concat(t(c,l,u,d))}return o&&(s=s.concat(On(o,e,i,r))),s}(e,t.syncPointTree_,null,en(t.pendingWriteTree_,ct()))}function $n(t,e){var n=e.query,r=Yn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Jt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Jn(t,n);if(r){var i=Xn(r),o=i.path,s=i.queryId,a=bt(o,e);return tr(t,o,new Ne(De(s),a))}return[]}(t,n._path,r):function(t,e){return Kn(t,new Ne({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Hn(t,n,null,i)}}}function Yn(t,e){var n=Zn(e);return t.queryToTagMap.get(n)}function Zn(t){return t._path.toString()+"$"+t._queryIdentifier}function Jn(t,e){return t.tagToQueryMap.get(e)}function Xn(t){var e=t.indexOf("$");return Object(i.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function tr(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),On(r,n,en(t.pendingWriteTree_,e),null)}function er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.assert)(Dn,"Reference.ts has not been loaded"),Dn)(t._repo,t._path):t}var nr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),rr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=gt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Wn(this.syncTree_,this.path_)},t}(),ir=function(t,e,n){return t&&"object"==typeof t?(Object(i.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?or(t[".sv"],e,n):"object"==typeof t[".sv"]?sr(t[".sv"],e):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},or=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.assert)(!1,"Unexpected server value: "+t)}},sr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},ar=function(t,e,n,r){return lr(e,new rr(n,t),r)},cr=function(t,e,n){return lr(t,new nr(e),n)};function lr(t,e,n){var r,i=t.getPriority().val(),o=ir(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ir(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Ht(a,te(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new Ht(o))),c.forEachChild(Gt,(function(t,i){var o=lr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ur=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function dr(t,e){for(var n=e instanceof at?e:new at(e),r=t,o=lt(n);null!==o;){var s=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new ur(o,r,s),o=lt(n=dt(n))}return r}function hr(t){return t.node.value}function fr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var o=function(t){return void 0===hr(t)&&!pr(t)}(r),s=Object(i.contains)(e.node.children,n);o&&s?(delete e.node.children[n],e.node.childCount--,t(e)):o||s||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function pr(t){return t.node.childCount>0}function gr(t,e){M(t.node.children,(function(n,r){e(new ur(n,t,r))}))}function mr(t){return new at(null===t.parent?t.name:mr(t.parent)+"/"+t.name)}var br=/[\[\].#$\/\u0000-\u001F\u007F]/,vr=/[\[\].#$\u0000-\u001F\u007F]/,yr=function(t){return"string"==typeof t&&0!==t.length&&!br.test(t)},_r=function(t){return"string"==typeof t&&0!==t.length&&!vr.test(t)},wr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(i.contains)(t,".sv")},kr=function(t,e,n,r){r&&void 0===e||Cr(Object(i.errorPrefix)(t,"value"),e,n)},Cr=function(t,e,n){var r=n instanceof at?new wt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ct(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ct(r)+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+Ct(r));if("string"==typeof e&&e.length>10485760/3&&Object(i.stringLength)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Ct(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(M(e,(function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!yr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ct(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.stringLength)(e),kt(t)}(r,e),Cr(t,n,r),c=(a=r).parts_.pop(),a.byteLength_-=Object(i.stringLength)(c),a.parts_.length>0&&(a.byteLength_-=1)})),o&&s)throw new Error(t+' contains ".value" child '+Ct(r)+" in addition to actual children.")}},Ar=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];M(e,(function(t,e){var r=new at(t);if(Cr(o,e,gt(n,r)),".priority"===ht(r)&&!wr(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=ft(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(vt);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&_t(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Er=function(t,e,n){if(!n||void 0!==e){if(S(e))throw new Error(Object(i.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wr(e))throw new Error(Object(i.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Sr=function(t,e,n,r){if(!(r&&void 0===n||yr(n)))throw new Error(Object(i.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ir=function(t,e,n,r){if(!(r&&void 0===n||_r(n)))throw new Error(Object(i.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tr=function(t,e){if(".info"===lt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Dr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!yr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_r(t)}(n))throw new Error(Object(i.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Rr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.errorPrefix)(t,e)+"must be a boolean.")},Or=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Nr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||yt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Pr(t,e,n){Nr(t,n),Lr(t,(function(t){return yt(t,e)}))}function Mr(t,e,n){Nr(t,n),Lr(t,(function(t){return _t(t,e)||_t(e,t)}))}function Lr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(jr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function jr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&k("event: "+n.toString()),B(r)}}}var Fr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Or,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ae(),this.transactionQueueTree_=new ur,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Br(t){var e=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function zr(t){return(e=(e={timestamp:Br(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Qr(t,e,n,r,o){t.dataUpdateCount++;var s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(r){var c=Object(i.map)(n,(function(t){return te(t)}));a=function(t,e,n,r){var i=Jn(t,r);if(i){var o=Xn(i),s=o.path,a=o.queryId,c=bt(s,e),l=qe.fromObject(n);return tr(t,s,new Me(De(a),c,l))}return[]}(t.serverSyncTree_,s,c,o)}else{var l=te(n);a=function(t,e,n,r){var i=Jn(t,r);if(null!=i){var o=Xn(i),s=o.path,a=o.queryId,c=bt(s,e);return tr(t,s,new Pe(De(a),c,n))}return[]}(t.serverSyncTree_,s,l,o)}else if(r){var u=Object(i.map)(n,(function(t){return te(t)}));a=function(t,e,n){var r=qe.fromObject(n);return Kn(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{var d=te(n);a=qn(t.serverSyncTree_,s,d)}var h=s;a.length>0&&(h=Xr(t,s)),Mr(t.eventQueue_,h,a)}function Vr(t,e){Ur(t,"connected",e),!1===e&&function(t){$r(t,"onDisconnectEvents");var e=zr(t),n=Ae();xe(t.onDisconnect_,ct(),(function(r,i){var o=ar(r,i,t.serverSyncTree_,e);Ee(n,r,o)}));var r=[];xe(n,ct(),(function(e,n){r=r.concat(qn(t.serverSyncTree_,e,n));var i=ri(t,e);Xr(t,i)})),t.onDisconnect_=Ae(),Mr(t.eventQueue_,ct(),r)}(t)}function Ur(t,e,n){var r=new at("/.info/"+e),i=te(n);t.infoData_.updateSnapshot(r,i);var o=qn(t.infoSyncTree_,r,i);Mr(t.eventQueue_,r,o)}function qr(t){return t.nextWriteId_++}function Hr(t,e,n,r,i){$r(t,"set",{path:e.toString(),value:n,priority:r});var o=zr(t),s=te(n,r),a=Wn(t.serverSyncTree_,e),c=cr(s,a,o),l=qr(t),u=Vn(t.serverSyncTree_,e,c,l,!0);Nr(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||x("set at "+e+" failed: "+n);var s=Un(t.serverSyncTree_,l,!o);Mr(t.eventQueue_,e,s),Yr(0,i,n,r)}));var d=ri(t,e);Xr(t,d),Mr(t.eventQueue_,d,[])}function Gr(t,e,n,r){var i=te(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&Ee(t.onDisconnect_,e,i),Yr(0,r,n,o)}))}function Wr(t,e,n){var r;r=".info"===lt(e._path)?Hn(t.infoSyncTree_,e,n):Hn(t.serverSyncTree_,e,n),Pr(t.eventQueue_,e._path,r)}function Kr(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function $r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),k.apply(void 0,Object(o.f)([r],Object(o.e)(e)))}function Yr(t,e,n,r){e&&B((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Zr(t,e,n){return Wn(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function Jr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ni(t,e),hr(e)){var n=ei(t,e);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),o=Zr(t,e,r),s=o,a=o.hash(),c=0;c<n.length;c++){var l=n[c];Object(i.assert)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var u=bt(e,l.path);s=s.updateChild(u,l.currentOutputSnapshotRaw)}var d=s.val(!0),h=e;t.server_.put(h.toString(),d,(function(r){$r(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Un(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(ni(t,dr(t.transactionQueueTree_,e)),Jr(t,t.transactionQueueTree_),Mr(t.eventQueue_,e,i),a=0;a<o.length;a++)B(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(x("transaction at "+h.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Xr(t,e)}}),a)}(t,mr(e),n)}else pr(e)&&gr(e,(function(e){Jr(t,e)}))}function Xr(t,e){var n=ti(t,e),r=mr(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var c,l=e[a],u=bt(n,l.path),d=!1;if(Object(i.assert)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,c=l.abortReason,o=o.concat(Un(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)d=!0,c="maxretry",o=o.concat(Un(t.serverSyncTree_,l.currentWriteId,!0));else{var h=Zr(t,l.path,s);l.currentInputSnapshot=h;var f=e[a].update(h.val());if(void 0!==f){Cr("transaction failed: Data returned ",f,l.path);var p=te(f);"object"==typeof f&&null!=f&&Object(i.contains)(f,".priority")||(p=p.updatePriority(h.getPriority()));var g=l.currentWriteId,m=zr(t),b=cr(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=qr(t),s.splice(s.indexOf(g),1),o=(o=o.concat(Vn(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally))).concat(Un(t.serverSyncTree_,g,!0))}else d=!0,c="nodata",o=o.concat(Un(t.serverSyncTree_,l.currentWriteId,!0))}Mr(t.eventQueue_,n,o),o=[],d&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(ni(t,t.transactionQueueTree_),c=0;c<r.length;c++)B(r[c]);Jr(t,t.transactionQueueTree_)}}(t,ei(t,n),r),r}function ti(t,e){var n,r=t.transactionQueueTree_;for(n=lt(e);null!==n&&void 0===hr(r);)r=dr(r,n),n=lt(e=dt(e));return r}function ei(t,e){var n=[];return function t(e,n,r){var i=hr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);gr(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ni(t,e){var n=hr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,fr(e,n.length>0?n:void 0)}gr(e,(function(e){ni(t,e)}))}function ri(t,e){var n=mr(ti(t,e)),r=dr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){ii(t,e)})),ii(t,r),function t(e,n,r,i){r&&!i&&n(e),gr(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){ii(t,e)})),n}function ii(t,e){var n=hr(e);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Un(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?fr(e,void 0):n.length=s+1,Mr(t.eventQueue_,mr(e),o),a=0;a<r.length;a++)B(r[a])}}var oi=function(t,e){var n=si(t),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new H(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new at(n.pathString)}},si=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",l=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var d=t.indexOf("/");-1===d&&(d=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(d,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.g)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):x("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(u=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,l=parseInt(e.substring(u+1),10)):u=e.length;var p=e.slice(0,u);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}},ai=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},t}(),ci=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),li=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),ui=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t,e,n,r=new i.Deferred;return t=this._repo,e=this._path,n=r.wrapCallback((function(){})),t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(mt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Gt,(function(t,n){Ee(e,new at(t),n)})),t(e,n)}if(e.children.size>0){var i=lt(n);return n=dt(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),Yr(0,n,r,i)})),r.promise},t.prototype.remove=function(){Tr("OnDisconnect.remove",this._path);var t=new i.Deferred;return Gr(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Tr("OnDisconnect.set",this._path),kr("OnDisconnect.set",t,this._path,!1);var e=new i.Deferred;return Gr(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Tr("OnDisconnect.setWithPriority",this._path),kr("OnDisconnect.setWithPriority",t,this._path,!1),Er("OnDisconnect.setWithPriority",e,!1);var n=new i.Deferred;return function(t,e,n,r,i){var o=te(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&Ee(t.onDisconnect_,e,o),Yr(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Tr("OnDisconnect.update",this._path),Ar("OnDisconnect.update",t,this._path,!1);var e=new i.Deferred;return function(t,e,n,r){if(Object(i.isEmpty)(n))return k("onDisconnect().update() called with empty data.  Don't do anything."),void Yr(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=te(r);Ee(t.onDisconnect_,gt(e,n),i)})),Yr(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),di=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return mt(this._path)?null:ht(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=we(this._queryParams),e=N(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return we(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=yt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function hi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function fi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Rt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Gt){if(null!=e&&!wr(e)||null!=n&&!wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(t.getIndex()instanceof re||t.getIndex()===ie,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var gi=function(t){function e(e,n){return t.call(this,e,n,new me,!1)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=pt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(di),mi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new at(e),r=yi(this.ref,e);return new t(this._node.getChild(n),r,Gt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,yi(n.ref,r),Gt))}))},t.prototype.hasChild=function(t){var e=new at(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function bi(t,e){return(t=Object(i.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?yi(t._root,e):t._root}function vi(t,e){(t=Object(i.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=oi(e,t._repo.repoInfo_.nodeAdmin);Dr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),bi(t,n.path.toString())}function yi(t,e){var n;return null===lt((t=Object(i.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ir("child","path",n,!1)):Ir("child","path",e,!1),new gi(t._repo,gt(t._path,e))}function _i(t,e){t=Object(i.getModularInstance)(t),Tr("push",t._path),kr("push",e,t._path,!0);var n,r=Br(t._repo),o=se(r),s=yi(t,o),a=yi(t,o);return n=null!=e?ki(a,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function wi(t){return Tr("remove",t._path),ki(t,null)}function ki(t,e){t=Object(i.getModularInstance)(t),Tr("set",t._path),kr("set",e,t._path,!1);var n=new i.Deferred;return Hr(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Ci(t,e){t=Object(i.getModularInstance)(t),Tr("setPriority",t._path),Er("setPriority",e,!1);var n=new i.Deferred;return Hr(t._repo,gt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Ai(t,e,n){if(Tr("setWithPriority",t._path),kr("setWithPriority",e,t._path,!1),Er("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.Deferred;return Hr(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Ei(t,e){Ar("update",e,t._path,!1);var n=new i.Deferred;return function(t,e,n,r){$r(t,"update",{path:e.toString(),value:n});var o=!0,s=zr(t),a={};if(M(n,(function(n,r){o=!1,a[n]=ar(gt(e,n),te(r),t.serverSyncTree_,s)})),o)k("update() called with empty data.  Don't do anything."),Yr(0,r,"ok",void 0);else{var c=qr(t),l=function(t,e,n,r){!function(t,e,n,r){Object(i.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=We(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=qe.fromObject(n);return Kn(t,new Me({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,c);Nr(t.eventQueue_,l),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||x("update at "+e+" failed: "+n);var s=Un(t.serverSyncTree_,c,!o),a=s.length>0?Xr(t,e):e;Mr(t.eventQueue_,a,s),Yr(0,r,n,i)})),M(n,(function(n){var r=ri(t,gt(e,n));Xr(t,r)})),Mr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}var xi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ai("value",this,new mi(t.snapshotNode,new gi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ci(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Si=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ci(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.assert)(null!=t.childName,"Child events should have a childName.");var n=yi(new gi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ai(t.type,this,new mi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Ii(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){Wr(t._repo,t,l),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new li(n,o||void 0),l="value"===e?new xi(c):new Si(e,c);return function(t,e,n){var r;r=".info"===lt(e._path)?Gn(t.infoSyncTree_,e,n):Gn(t.serverSyncTree_,e,n),Pr(t.eventQueue_,e._path,r)}(t._repo,t,l),function(){return Wr(t._repo,t,l)}}function Ti(t,e,n,r){return Ii(t,"value",e,n,r)}function Di(t,e,n,r){return Ii(t,"child_added",e,n,r)}function Ri(t,e,n,r){return Ii(t,"child_changed",e,n,r)}function Oi(t,e,n,r){return Ii(t,"child_moved",e,n,r)}function Ni(t,e,n,r){return Ii(t,"child_removed",e,n,r)}function Pi(t,e,n){var r=null,i=n?new li(n):null;"value"===e?r=new xi(i):e&&(r=new Si(e,i)),Wr(t._repo,t,r)}var Mi=function(){return function(){}}(),Li=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){kr("endAt",this._value,t._path,!0);var e=ve(t._queryParams,this._value,this._key);if(pi(e),fi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)},e}(Mi);function ji(t,e){return Sr("endAt","key",e,!0),new Li(t,e)}var Fi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){kr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Rt?("string"==typeof n&&(n=ce(n)),i=ve(e,n,r)):i=ve(e,n,null==r?I:ce(r)),i.endBeforeSet_=!0,i);if(pi(o),fi(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(t._repo,t._path,o,t._orderByCalled)},e}(Mi);function Bi(t,e){return Sr("endBefore","key",e,!0),new Fi(t,e)}var zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){kr("startAt",this._value,t._path,!0);var e=be(t._queryParams,this._value,this._key);if(pi(e),fi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new di(t._repo,t._path,e,t._orderByCalled)},e}(Mi);function Qi(t,e){return void 0===t&&(t=null),Sr("startAt","key",e,!0),new zi(t,e)}var Vi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){kr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Rt?("string"==typeof n&&(n=ae(n)),i=be(e,n,r)):i=be(e,n,null==r?T:ae(r)),i.startAfterSet_=!0,i);if(pi(o),fi(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new di(t._repo,t._path,o,t._orderByCalled)},e}(Mi);function Ui(t,e){return Sr("startAfter","key",e,!0),new Vi(t,e)}var qi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Mi);function Hi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qi(t)}var Gi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Mi);function Wi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gi(t)}var Ki=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){hi(t,"orderByChild");var e=new at(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new re(e),r=ye(t._queryParams,n);return fi(r),new di(t._repo,t._path,r,!0)},e}(Mi);function $i(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ir("orderByChild","path",t,!1),new Ki(t)}var Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){hi(t,"orderByKey");var e=ye(t._queryParams,Rt);return fi(e),new di(t._repo,t._path,e,!0)},e}(Mi);function Zi(){return new Yi}var Ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){hi(t,"orderByPriority");var e=ye(t._queryParams,Gt);return fi(e),new di(t._repo,t._path,e,!0)},e}(Mi);function Xi(){return new Ji}var to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){hi(t,"orderByValue");var e=ye(t._queryParams,ie);return fi(e),new di(t._repo,t._path,e,!0)},e}(Mi);function eo(){return new to}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){if(kr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Li(this._value,this._key)._apply(new zi(this._value,this._key)._apply(t))},e}(Mi);function ro(t,e){return Sr("equalTo","key",e,!0),new no(t,e)}function io(t){for(var e,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.getModularInstance)(t);try{for(var c=Object(o.g)(r),l=c.next();!l.done;l=c.next()){var u=l.value;a=u._apply(a)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(i.assert)(!Cn,"__referenceConstructor has already been defined"),Cn=t}(gi),function(t){Object(i.assert)(!Dn,"__referenceConstructor has already been defined"),Dn=t}(gi);var oo={},so=!1;function ao(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=oi(o,i),c=a.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,c=(a=oi(o="http://"+l+"?ns="+c.namespace,i)).repoInfo):s=!a.repoInfo.secure;var u=i&&s?new U(U.OWNER):new V(t.name,t.options,e);Dr("Invalid Firebase Database URL",a),mt(a.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(t,e,n,r){var i=oo[e.name];i||(oo[e.name]=i={});var o=i[t.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Fr(t,so,n,r),i[t.toURLString()]=o,o}(c,t,u,new Q(t.name,n));return new co(d,t)}var co=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Y(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new ke(t.repoInfo_,(function(e,n,r,i){Qr(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return Vr(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new St(t.repoInfo_,e,(function(e,n,r,i){Qr(t,e,n,r,i)}),(function(e){Vr(t,e)}),(function(e){!function(t,e){M(e,(function(e,n){Ur(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=function(){return new Ie(t.stats_,t.server_)},o=t.repoInfo_.toString(),$[o]||($[o]=r()),$[o]),t.infoData_=new Ce,t.infoSyncTree_=new Qn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=qn(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Ur(t,"connected",!1),t.serverSyncTree_=new Qn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Mr(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new gi(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=oo[e=this.app.name])&&n[t.key]===t||E("Database "+e+"("+t.repoInfo_+") has already been deleted."),Kr(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&E("Cannot call "+t+" on a deleted database.")},t}();function lo(t){(t=Object(i.getModularInstance)(t))._checkNotDeleted("goOffline"),Kr(t._repo)}function uo(t){var e;(t=Object(i.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},fo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function po(t,e,n){var r;if(t=Object(i.getModularInstance)(t),Tr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.Deferred,a=Ti(t,(function(){}));return function(e,n,r,o,a,c){$r(e,"transaction on "+n);var l={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new mi(r,new gi(t._repo,t._path),Gt),s.resolve(new fo(n,i)))},status:null,order:m(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Zr(e,n,void 0);l.currentInputSnapshot=u;var d=l.update(u.val());if(void 0===d)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Cr("transaction failed: Data returned ",d,l.path),l.status=0;var h=dr(e.transactionQueueTree_,n),f=hr(h)||[];f.push(l),fr(h,f);var p=void 0;"object"==typeof d&&null!==d&&Object(i.contains)(d,".priority")?(p=Object(i.safeGet)(d,".priority"),Object(i.assert)(wr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Wn(e.serverSyncTree_,n)||Jt.EMPTY_NODE).getPriority().val();var g=zr(e),b=te(d,p),v=cr(b,u,g);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=v,l.currentWriteId=qr(e);var y=Vn(e.serverSyncTree_,n,v,l.currentWriteId,l.applyLocally);Mr(e.eventQueue_,n,y),Jr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var go=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},t}(),mo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Ir("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Ir("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new yo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),vo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var s,a=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,o),l=function(t,e){n.call(c.context,new bo(a.database,t),e)};l.userCallback=n,l.context=c.context;var u=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Ti(this._delegate,l,u),n;case"child_added":return Di(this._delegate,l,u),n;case"child_removed":return Ni(this._delegate,l,u),n;case"child_changed":return Ri(this._delegate,l,u),n;case"child_moved":return Oi(this._delegate,l,u),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),xr("Query.off",t,!0),Object(i.validateCallback)("Query.off","callback",e,!0),Object(i.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Pi(this._delegate,t,r)}else Pi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=bt(t,n);r=r||Mn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Mn(i,ct()):(i=new Rn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Le(r,!0,!1):null;return Ve(Nn(i,e,en(t.pendingWriteTree_,e._path),o?s.getNode():Jt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=te(n).withIndex(e._queryParams.getIndex()),i=qn(t.serverSyncTree_,e._path,r);return Pr(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return $r(t,"get for query "+Object(i.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(i.getModularInstance)(t))._repo,t).then((function(e){return new mi(e,new gi(t._repo,t._path),t._queryParams.getIndex())}))}(this._delegate).then((function(e){return new bo(t.database,e)}))},t.prototype.once=function(e,n,r,o){var s=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),c=new i.Deferred,l=function(t,e){var r=new bo(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};l.userCallback=n,l.context=a.context;var u=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Ti(this._delegate,l,u,{onlyOnce:!0});break;case"child_added":Di(this._delegate,l,u,{onlyOnce:!0});break;case"child_removed":Ni(this._delegate,l,u,{onlyOnce:!0});break;case"child_changed":Ri(this._delegate,l,u,{onlyOnce:!0});break;case"child_moved":Oi(this._delegate,l,u,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,io(this._delegate,Hi(e)))},t.prototype.limitToLast=function(e){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,io(this._delegate,Wi(e)))},t.prototype.orderByChild=function(e){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,io(this._delegate,$i(e)))},t.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,io(this._delegate,Zi()))},t.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,io(this._delegate,Xi()))},t.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,io(this._delegate,eo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,io(this._delegate,Qi(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,io(this._delegate,Ui(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,io(this._delegate,ji(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,io(this._delegate,Bi(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,io(this._delegate,ro(e,n)))},t.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new yo(this.database,new gi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),yo=function(t){function e(e,n){var r=t.call(this,e,new di(n._repo,n._path,new me,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,yi(this._delegate,t))},e.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",e,!0);var n=ki(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tr("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",e,!0);var o=Ei(this._delegate,t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},e.prototype.setWithPriority=function(t,e,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ai(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",t,!0);var e=wi(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(i.validateCallback)("Reference.transaction","onComplete",e,!0),Rr("Reference.transaction","applyLocally",n,!0);var o=po(this._delegate,t,{applyLocally:n}).then((function(t){return new mo(t.committed,new bo(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ci(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=_i(this._delegate,t),s=o.then((function(t){return new e(r.database,t)}));n&&s.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Tr("Reference.onDisconnect",this._delegate._path),new go(new ui(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(vo),_o=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new U(U.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:Object(i.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new U(a)}!function(t,e,n,r){t.repoInfo_=new H(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),t instanceof yo){var e=vi(this._delegate,t.toString());return new yo(this,e)}return e=bi(this._delegate,t),new yo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.validateArgCount)(e,1,1,arguments.length);var n=vi(this._delegate,t);return new yo(this,n)},t.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),lo(this._delegate)},t.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),uo(this._delegate)},t.ServerValue={TIMESTAMP:ho,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),wo=Object.freeze({__proto__:null,forceLongPolling:function(){et.forceDisallow(),J.forceAllow()},forceWebSockets:function(){J.forceDisallow()},isWebSocketsAvailable:function(){return et.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Se(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);M(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var l=new r.Provider("auth-internal",new r.ComponentContainer("database-standalone"));return l.setComponent(new r.Component("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _o(ao(e,l,void 0,n,a),e),namespace:o}}}),ko=St;St.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},St.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Co=Object.freeze({__proto__:null,DataConnection:ko,RealTimeConnection:rt,hijackHash:function(t){var e=St.prototype.put;return St.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){St.prototype.put=e}},ConnectionTarget:H,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){so=t}(t)}}),Ao=_o.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.Component("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new _o(ao(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:yo,Query:vo,Database:_o,DataSnapshot:bo,enableLogging:w,INTERNAL:wo,ServerValue:Ao,TEST_ACCESS:Co}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(i.isNodeSdk)()&&(t.exports=n)}(e.default)}).call(this,n("3UD+")(t))},"6Zju":function(t,e,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter;function o(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(o,i),o.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){e.sendStop=null,e.sendSchedule()}),25)},o.prototype.sendSchedule=function(){var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,(function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=o},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8fj+":function(t,e,n){"use strict";var r=n("woL0"),i=n("kwwM"),o=n("JqAl");t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in global||(global[t.exports.WPrefix]={})},postMessage:function(e,n){global.parent!==global&&global.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*")},createIframe:function(t,e){var n,i,o=global.document.createElement("iframe"),s=function(){clearTimeout(n);try{o.onload=null}catch(t){}o.onerror=null},a=function(){o&&(s(),setTimeout((function(){o&&o.parentNode.removeChild(o),o=null}),0),r.unloadDel(i))},c=function(t){o&&(a(),e(t))};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(n),n=setTimeout((function(){c("onload timeout")}),2e3)},global.document.body.appendChild(o),n=setTimeout((function(){c("timeout")}),15e3),i=r.unloadAdd(a),{post:function(t,e){setTimeout((function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(t,e)}catch(n){}}),0)},cleanup:a,loaded:s}},createHtmlfile:function(e,n){var i,o,s,a=["Active"].concat("Object").join("X"),c=new global[a]("htmlfile"),l=function(){clearTimeout(i),s.onerror=null},u=function(){c&&(l(),r.unloadDel(o),s.parentNode.removeChild(s),s=c=null,CollectGarbage())},d=function(t){c&&(u(),n(t))};c.open(),c.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[t.exports.WPrefix]=global[t.exports.WPrefix];var h=c.createElement("div");return c.body.appendChild(h),s=c.createElement("iframe"),h.appendChild(s),s.src=e,s.onerror=function(){d("onerror")},i=setTimeout((function(){d("timeout")}),15e3),o=r.unloadAdd(u),{post:function(t,e){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}),0)}catch(n){}},cleanup:u,loaded:l}}},t.exports.iframeEnabled=!1,global.document&&(t.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!o.isKonqueror())},"96lO":function(t,e,n){"use strict";var r=n("P7XM"),i=n("Yh+D"),o=n("6Zju"),s=n("Dohz");function a(t,e,n,r,a){var c=i.addPath(t,e),l=this;o.call(this,t,n),this.poll=new s(r,c,a),this.poll.on("message",(function(t){l.emit("message",t)})),this.poll.once("close",(function(t,e){l.poll=null,l.emit("close",t,e),l.close()}))}r(a,o),a.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=a},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},"9wH6":function(t,e,n){"use strict";var r=n("raCH").EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout((function(){t.emit("finish",200,"{}")}),i.timeout)}n("P7XM")(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},AEAD:function(t,e,n){"use strict";t.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach((function(t){t&&("websocket"===t.transportName&&!1===n.websocket||e.length&&-1===e.indexOf(t.transportName)||t.enabled(n)&&(r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)))})),r}}}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function d(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}n.d(e,"a",(function(){return d}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},Dohz:function(t,e,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter;function o(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",(function(e){t.emit("message",e)})),e.once("close",(function(n,r){t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=o},E8Ah:function(t,e,n){"use strict";var r=global.WebSocket||global.MozWebSocket;t.exports=r?function(t){return new r(t)}:void 0},EBWB:function(t,e){t.exports="1.4.0"},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},EcEN:function(t,e,n){var r=n("xDdU"),i=n("xk4V"),o=i;o.v1=r,o.v4=i,t.exports=o},FUii:function(t,e,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter;function o(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(t,e){n._chunkHandler(t,e),n.xo=null,n.emit("close",null,200===t?"network":"permanent"),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=o},GBY4:function(t,e,n){"use strict";var r=n("RA0T"),i=n("nFlj"),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function d(t){return(t||"").toString().replace(o,"")}var h=[["#","hash"],["?","query"],function(t,e){return g(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function p(t){var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n,r={},i=typeof(t=t||e.location||{});if("blob:"===t.protocol)r=new b(unescape(t.pathname),{});else if("string"===i)for(n in r=new b(t,{}),f)delete r[n];else if("object"===i){for(n in t)n in f||(r[n]=t[n]);void 0===r.slashes&&(r.slashes=a.test(t.href))}return r}function g(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function m(t,e){t=(t=d(t)).replace(s,""),e=e||{};var n,r=l.exec(t),i=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],c=0;return o?a?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):a?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===i?c>=2&&(n=n.slice(2)):g(i)?n=r[4]:i?o&&(n=n.slice(2)):c>=2&&g(e.protocol)&&(n=r[4]),{protocol:i,slashes:o||g(i),slashesCount:c,rest:n}}function b(t,e,n){if(t=(t=d(t)).replace(s,""),!(this instanceof b))return new b(t,e,n);var o,a,c,l,f,v,y=h.slice(),_=typeof e,w=this,k=0;for("object"!==_&&"string"!==_&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),o=!(a=m(t||"",e=p(e))).protocol&&!a.slashes,w.slashes=a.slashes||o&&e.slashes,w.protocol=a.protocol||e.protocol||"",t=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||u.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!g(w.protocol)))&&(y[3]=[/(.*)/,"pathname"]);k<y.length;k++)"function"!=typeof(l=y[k])?(v=l[1],(c=l[0])!=c?w[v]=t:"string"==typeof c?~(f="@"===c?t.lastIndexOf(c):t.indexOf(c))&&("number"==typeof l[2]?(w[v]=t.slice(0,f),t=t.slice(f+l[2])):(w[v]=t.slice(f),t=t.slice(0,f))):(f=c.exec(t))&&(w[v]=f[1],t=t.slice(0,f.index)),w[v]=w[v]||o&&l[3]&&e[v]||"",l[4]&&(w[v]=w[v].toLowerCase())):t=l(t,w);n&&(w.query=n(w.query)),o&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(o=!0),n.splice(r,1),s--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(w.pathname,e.pathname)),"/"!==w.pathname.charAt(0)&&g(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(f=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,f),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(f+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&g(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}b.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,c.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";o[t]=e.charAt(0)!==s?s+e:e}else o[t]=e;break;case"username":case"password":o[t]=encodeURIComponent(e);break;case"auth":var a=e.indexOf(":");~a?(o.username=e.slice(0,a),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=e.slice(a+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(e))}for(var l=0;l<h.length;l++){var u=h[l];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&g(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var s=o+(n.protocol&&n.slashes||g(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):"file:"!==n.protocol&&g(n.protocol)&&!r&&"/"!==n.pathname&&(s+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),s+=r+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(s+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(s+=n.hash),s}},b.extractProtocol=m,b.location=p,b.trimLeft=d,b.qs=i,t.exports=b},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),c=n("2fFW");n.d(e,"a",(function(){return l}));let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I2ZF:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return i}));class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},JYLm:function(t,e,n){"use strict";var r=n("z+YZ");t.exports={string:function(t){for(var e="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(t),i=[],o=0;o<t;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[o]%e,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.default})),r.default.registerVersion("firebase","8.10.1","app"),r.default.SDK_VERSION="8.10.1"},JqAl:function(t,e,n){"use strict";t.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(t){return!1}}}},"Ju5/":function(t,e,n){"use strict";var r=n("XqMk"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.a=o},"JuP+":function(t,e,n){"use strict";var r=n("P7XM"),i=n("nzop"),o=n("1eVo");t.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,n){if(!global.document)return!1;var r=o.extend({},n);return r.sameOrigin=!0,t.enabled(r)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}},L3Qv:function(t,e,n){"use strict";e.a=function(){return!1}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},"OX/4":function(t,e,n){"use strict";var r=n("woL0"),i=n("Yh+D"),o=n("P7XM"),s=n("raCH").EventEmitter,a=n("E8Ah");function c(t,e,n){if(!c.enabled())throw new Error("Transport created when disabled");s.call(this);var o=this,l=i.addPath(t,"/websocket");l="https"===l.slice(0,5)?"wss"+l.slice(5):"ws"+l.slice(4),this.url=l,this.ws=new a(this.url,[],n),this.ws.onmessage=function(t){o.emit("message",t.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(t){o.emit("close",t.code,t.reason),o._cleanup()},this.ws.onerror=function(t){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,s),c.prototype.send=function(t){this.ws.send("["+t+"]")},c.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},c.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!a},c.transportName="websocket",c.roundTrips=2,t.exports=c},P7XM:function(t,e){t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},Ph6G:function(t,e,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("FUii"),s=n("3wkl"),a=n("c6pU"),c=n("JqAl");function l(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}r(l,i),l.enabled=function(t){return!t.nullOrigin&&!c.isOpera()&&s.enabled},l.transportName="xhr-streaming",l.roundTrips=2,l.needBody=!!global.document,t.exports=l},QLKV:function(t,e,n){"use strict";var r=n("P7XM"),i=n("VNbE"),o=n("c6pU"),s=n("dXd4");function a(t){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,t,"/htmlfile",i,o)}r(a,s),a.enabled=function(t){return i.enabled&&t.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},"R+Q3":function(t,e,n){"use strict";var r=n("P7XM"),i=n("moM4");function o(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(o,i),t.exports=o},RA0T:function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},SGzc:function(t,e,n){"use strict";n("dyV1");var r,i=n("GBY4"),o=n("P7XM"),s=n("kwwM"),a=n("JYLm"),c=n("hPxs"),l=n("Yh+D"),u=n("woL0"),d=n("AEAD"),h=n("1eVo"),f=n("JqAl"),p=n("SM0v"),g=n("moM4"),m=n("l6Lj"),b=n("oOIF"),v=n("42Jg"),y=n("R+Q3"),_=n("uajq");function w(t,e,n){if(!(this instanceof w))return new w(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=w.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&p.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var o=new i(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var s="https:"===o.protocol;if("https:"===b.protocol&&!s)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var c=e.sort();c.forEach((function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<c.length-1&&t===c[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")}));var u=l.getOrigin(b.href);this._origin=u?u.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this._urlInfo={nullOrigin:!f.hasDomain(),sameOrigin:l.isOriginEqual(this.url,b.href),sameScheme:l.isSchemeEqual(this.url,b.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function k(t){return 1e3===t||t>=3e3&&t<=4999}o(w,m),w.prototype.close=function(t,e){if(t&&!k(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==w.CLOSING&&this.readyState!==w.CLOSED&&this._close(t||1e3,e||"Normal closure",!0)},w.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===w.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===w.OPEN&&this._transport.send(c.quote(t))},w.version=n("EBWB"),w.CONNECTING=0,w.OPEN=1,w.CLOSING=2,w.CLOSED=3,w.prototype._receiveInfo=function(t,e){if(this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=h.extend(t,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._connect()}else this._close(1002,"Cannot connect to server")},w.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(t),void u.attachEvent("load",this._connect.bind(this));var e=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var n=new t(l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[t.transportName]);return n.on("message",this._transportMessage.bind(this)),n.once("close",this._transportClose.bind(this)),n.transportName=t.transportName,void(this._transport=n)}this._close(2e3,"All transports failed",!1)},w.prototype._transportTimeout=function(){this.readyState===w.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},w.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return void this.dispatchEvent(new g("heartbeat"))}if(i)try{e=s.parse(i)}catch(o){}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach((function(t){n.dispatchEvent(new y(t))}));break;case"m":this.dispatchEvent(new y(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},w.prototype._transportClose=function(t,e){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),k(t)||2e3===t||this.readyState!==w.CONNECTING?this._close(t,e):this._connect()},w.prototype._open=function(){this.readyState===w.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=w.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open"))):this._close(1006,"Server lost session")},w.prototype._close=function(t,e,n){var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===w.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=w.CLOSING,setTimeout((function(){this.readyState=w.CLOSED,r&&this.dispatchEvent(new g("error"));var i=new v("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},w.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return r=d(t),n("n6ct")(w,t),w}},SM0v:function(t,e,n){"use strict";var r={};["log","debug","warn"].forEach((function(t){var e;try{e=global.console&&global.console[t]&&global.console[t].apply}catch(n){}r[t]=e?function(){return global.console[t].apply(global.console,arguments)}:"log"===t?function(){}:r.log})),t.exports=r},SeVD:function(t,e,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");n.d(e,"a",(function(){return u}));const u=t=>{if(t&&"function"==typeof t[s.a])return u=t,t=>{const e=u[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},UyXh:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return d})),n.d(e,"__createBinding",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return b})),n.d(e,"__spreadArray",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return k})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return x})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return I})),n.d(e,"__classPrivateFieldIn",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var h=Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function b(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(r){u(o[0][3],r)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var A=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return A(e,t),e}function x(t){return t&&t.__esModule?t:{default:t}}function S(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function I(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}function T(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}},VNbE:function(t,e,n){"use strict";var r=n("P7XM"),i=n("8fj+"),o=n("Yh+D"),s=n("raCH").EventEmitter,a=n("JYLm");function c(t){s.call(this);var e=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),t=o.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id));var n=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;global[i.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=n(t,(function(){e._cleanup(),e._close("permanent")}))}r(c,s),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[i.WPrefix][this.id]},c.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},c.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in global)try{c.htmlfileEnabled=!!new global[l]("htmlfile")}catch(u){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,t.exports=c},WOAq:function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),i=n("L3Qv"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.a.Buffer:void 0;e.a=(a?a.isBuffer:void 0)||i.a}).call(this,n("3UD+")(t))},"X8/r":function(t,e,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("UyXh"),s=n("qOnz"),a=n("q/0M");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l,u=c(r),d=((l={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",l["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",l["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",l["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",l["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",l["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",l["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",l["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",l["recaptcha-error"]="ReCAPTCHA error.",l),h=new s.ErrorFactory("appCheck","AppCheck",d),f=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function m(t){return f.get(t)||p}function b(t,e){f.set(t,e)}function v(){return g}var y="https://content-firebaseappcheck.googleapis.com/v1beta",_=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise((function(t){setTimeout(t,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function w(){return self.grecaptcha}function k(t){if(!m(t).activated)throw h.create("use-before-activation",{appName:t.name})}function C(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,(function(){var t,i,s,a,c,l,u,d,f,p;return o.__generator(this,(function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw c=o.sent(),h.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==a.status)throw h.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return l=o.sent(),[3,8];case 7:throw u=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:u.message});case 8:if(!(d=l.ttl.match(/^([\d.]+)(s)$/))||!d[2]||isNaN(Number(d[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+l.ttl});return f=1e3*Number(d[1]),p=Date.now(),[2,{token:l.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}}))}))}function A(t,e){var n=t.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function E(t,e){var n=t.options;return{url:y+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var x="firebase-app-check-store",S=null;function I(){return S||(S=new Promise((function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(h.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(x,{keyPath:"compositeKey"})}}}catch(r){e(h.create("storage-open",{originalErrorMessage:r.message}))}})))}function T(t){return R(O(t))}function D(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,I()];case 1:return n=o.sent(),r=n.transaction(x,"readwrite"),i=r.objectStore(x),s=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(h.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function R(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,I()];case 1:return e=o.sent(),n=e.transaction(x,"readonly"),r=n.objectStore(x),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(h.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function O(t){return t.options.appId+"-"+t.name}var N=new a.Logger("@firebase/app-check");function P(t,e){return s.isIndexedDBAvailable()?function(t,e){return D(O(t),e)}(t,e).catch((function(t){N.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function M(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){if((t=v()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var L={error:"UNKNOWN_ERROR"};function j(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,c,l,u,d,h,f,p;return o.__generator(this,(function(g){switch(g.label){case 0:return k(t),r=m(t),a=void 0,(i=r.token)?[3,2]:[4,r.cachedTokenPromise];case 1:(c=g.sent())&&Q(c)&&(i=c,b(t,o.__assign(o.__assign({},r),{token:i})),z(t,{token:i.token})),g.label=2;case 2:return!n&&i&&Q(i)?[2,{token:i.token}]:v().enabled?(u=C,d=E,h=[t],[4,M()]):[3,6];case 3:return[4,u.apply(void 0,[d.apply(void 0,h.concat([g.sent()])),e])];case 4:return l=g.sent(),[4,P(t,l)];case 5:return g.sent(),b(t,o.__assign(o.__assign({},r),{token:l})),[2,{token:l.token}];case 6:return g.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=g.sent(),[3,9];case 8:return f=g.sent(),N.error(f),a=f,[3,9];case 9:return i?[3,10]:(p=function(t){return{token:(e=L,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,12]);case 10:return p={token:i.token},b(t,o.__assign(o.__assign({},r),{token:i})),[4,P(t,i)];case 11:g.sent(),g.label=12;case 12:return z(t,p),[2,p]}}))}))}function F(t,e,n,r,i){var s=m(t),a={next:r,error:i,type:n},c=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!c.tokenRefresher){var l=function(t,e){var n=this;return new _((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return m(t).token?[3,2]:[4,j(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,j(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=m(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0}),3e4,96e4)}(t,e);c.tokenRefresher=l}if(!c.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&c.tokenRefresher.start(),s.token&&Q(s.token)){var u=s.token;Promise.resolve().then((function(){return r({token:u.token})})).catch((function(){}))}else null==s.token&&s.cachedTokenPromise.then((function(t){t&&Q(t)&&r({token:t.token})})).catch((function(){}));b(t,c)}function B(t,e){var n=m(t),r=n.tokenObservers.filter((function(t){return t.next!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),b(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function z(t,e){for(var n=0,r=m(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function Q(t){return t.expireTimeMillis-Date.now()>0}function V(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:return k(t),[4,m(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise((function(n,r){var i=m(t).reCAPTCHAState;e.ready((function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function U(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=m(t);b(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var q=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,V(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),h.create("recaptcha-error");case 4:return[2,C(A(this._app,t),this._platformLoggerProvider)]}}))}))},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,function(t,e){var n=m(t),r=new s.Deferred;b(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var c,l,u=w();return u?u.ready((function(){U(t,e,u,i),r.resolve(u)})):(c=function(){var n=w();if(!n)throw new Error("no recaptcha");n.ready((function(){U(t,e,n,i),r.resolve(n)}))},(l=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",l.onload=c,document.head.appendChild(l)),r.promise}(t,this._siteKey).catch((function(){}))},t}(),H=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=r.sent(),e=s.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,o.__assign(o.__assign({},t),{issuedAtTimeMillis:n})]}}))}))},t.prototype.initialize=function(t){this._app=t},t}();!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,r){return function(t,e,n,r){var i=m(t);if(i.activated)throw h.create("already-activated",{appName:t.name});var a=o.__assign(o.__assign({},i),{activated:!0});a.cachedTokenPromise=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,T(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),N.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}(t).then((function(e){return e&&Q(e)&&b(t,o.__assign(o.__assign({},m(t)),{token:e})),e})),a.provider="string"==typeof e?new q(e):e instanceof q||e instanceof H?e:new H({getToken:e.getToken}),a.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,b(t,a),a.provider.initialize(t,n)}(e,t,n,r)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=m(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),b(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,j(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,n,t)},onTokenChanged:function(t,r,i){return function(t,e,n,r,i){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),F(t,e,"EXTERNAL",o,s),function(){return B(t,o)}}(e,n,t,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++)B(e,n[t].next);return Promise.resolve()}}};var e,n}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:q,CustomProvider:H}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){t.getProvider("app-check-internal").initialize()}))),t.INTERNAL.registerComponent(new i.Component("app-check-internal",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return j(e,n,t)},addTokenListener:function(t){return F(e,n,"INTERNAL",t)},removeTokenListener:function(t){return B(e,t)}};var e,n}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.3.2")}(u.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=v();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),D("debug-token",r)).catch((function(t){return N.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r}))}))}())}}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new d(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new d(t,e),t})();class d extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},XqMk:function(t,e,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;e.a=r},"Yh+D":function(t,e,n){"use strict";var r=n("GBY4");t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){return this.getOrigin(t)===this.getOrigin(e)},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},aUWK:function(t,e,n){"use strict";t.exports=[n("OX/4"),n("Ph6G"),n("sYUk"),n("e03l"),n("JuP+")(n("e03l")),n("QLKV"),n("JuP+")(n("QLKV")),n("4rNY"),n("5Vaj"),n("JuP+")(n("4rNY")),n("+Ewk")]},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},c6pU:function(t,e,n){"use strict";var r=n("P7XM"),i=n("2Naf");function o(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,t.exports=o},dXd4:function(t,e,n){"use strict";var r=n("P7XM"),i=n("Yh+D"),o=n("96lO");function s(t,e,n,r){o.call(this,t,e,function(t){return function(e,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(e,"/xhr_send"),a=new t("POST",s,n,o);return a.once("finish",(function(t){if(a=null,200!==t&&204!==t)return r(new Error("http status "+t));r()})),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}(r),n,r)}r(s,o),t.exports=s},dyV1:function(t,e,n){"use strict";var r,i=Array.prototype,o=Object.prototype,s=Function.prototype,a=String.prototype,c=i.slice,l=o.toString,u=function(t){return"[object Function]"===o.toString.call(t)},d=function(t){return"[object String]"===l.call(t)},h=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=h?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var f=function(t,e,n){for(var i in e)o.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},p=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function g(t){var e=+t;return e!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function m(){}f(s,{bind:function(t){var e=this;if(!u(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=c.call(arguments,1),r=function(){if(this instanceof a){var r=e.apply(this,n.concat(c.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(c.call(arguments)))},i=Math.max(0,e.length-n.length),o=[],s=0;s<i;s++)o.push("$"+s);var a=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(m.prototype=e.prototype,a.prototype=new m,m.prototype=null),a}}),f(Array,{isArray:function(t){return"[object Array]"===l.call(t)}});var b,v,y,_=Object("a"),w="a"!==_[0]||!(0 in _);f(i,{forEach:function(t){var e=p(this),n=w&&d(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!u(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},(v=!0,y=!0,(b=i.forEach)&&(b.call("foo",(function(t,e,n){"object"!=typeof n&&(v=!1)})),b.call([1],(function(){y="string"==typeof this}),"x")),!(b&&v&&y)));var k=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);f(i,{indexOf:function(t){var e=w&&d(this)?this.split(""):p(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=g(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in e&&e[r]===t)return r;return-1}},k);var C,A=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(C=void 0===/()??/.exec("")[1],a.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==l.call(t))return A.call(this,t,e);var r,o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0;for(t=new RegExp(t.source,u+"g"),n+="",C||(r=new RegExp("^"+t.source+"$(?!\\s)",u)),e=void 0===e?-1>>>0:e>>>0;(o=t.exec(n))&&!((s=o.index+o[0].length)>d&&(c.push(n.slice(d,o.index)),!C&&o.length>1&&o[0].replace(r,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)})),o.length>1&&o.index<n.length&&i.push.apply(c,o.slice(1)),a=o[0].length,d=s,c.length>=e));)t.lastIndex===o.index&&t.lastIndex++;return d===n.length?!a&&t.test("")||c.push(""):c.push(n.slice(d)),c.length>e?c.slice(0,e):c}):"0".split(void 0,0).length&&(a.split=function(t,e){return void 0===t&&0===e?[]:A.call(this,t,e)});var E=a.substr;f(a,{substr:function(t,e){return E.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},"".substr&&"b"!=="0b".substr(-1))},e03l:function(t,e,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("+R4f"),s=n("3wkl"),a=n("yjSe");function c(t){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,s)}r(c,i),c.enabled=function(){return!!a},c.transportName="eventsource",c.roundTrips=2,t.exports=c},fCBv:function(t,e,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("kwwM"),s=n("woL0"),a=n("nzop"),c=n("xSnx");function l(t,e){var n=this;r.call(this);var i=function(){var r=n.ifr=new a(c.transportName,e,t);r.once("message",(function(t){if(t){var e;try{e=o.parse(t)}catch(r){return n.emit("finish"),void n.close()}n.emit("finish",e[0],e[1])}n.close()})),r.once("close",(function(){n.emit("finish"),n.close()}))};global.document.body?i():s.attachEvent("load",i)}i(l,r),l.enabled=function(){return a.enabled()},l.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=l},fXoL:function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("z+Ro"),a=n("bHdf"),c=n("yCtX"),l=n("7o/Q");function u(){return function(t){return t.lift(new d(t))}}class d{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class h extends l.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class f extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new g(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const p=(()=>{const t=f.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class g extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function m(){return new r.a}function b(t){return{toString:t}.toString()}function v(t,e,n){return b(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}n.d(e,"a",(function(){return wo})),n.d(e,"b",(function(){return Sc})),n.d(e,"c",(function(){return kc})),n.d(e,"d",(function(){return _c})),n.d(e,"e",(function(){return wc})),n.d(e,"f",(function(){return yl})),n.d(e,"g",(function(){return ll})),n.d(e,"h",(function(){return ro})),n.d(e,"i",(function(){return Fc})),n.d(e,"j",(function(){return Xs})),n.d(e,"k",(function(){return Dc})),n.d(e,"l",(function(){return ta})),n.d(e,"m",(function(){return Cn})),n.d(e,"n",(function(){return rc})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return _o})),n.d(e,"s",(function(){return ya})),n.d(e,"t",(function(){return _a})),n.d(e,"u",(function(){return Tc})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return dl})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return il})),n.d(e,"z",(function(){return Vc})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return xc})),n.d(e,"C",(function(){return Ec})),n.d(e,"D",(function(){return ia})),n.d(e,"E",(function(){return na})),n.d(e,"F",(function(){return ra})),n.d(e,"G",(function(){return sa})),n.d(e,"H",(function(){return ur})),n.d(e,"I",(function(){return k})),n.d(e,"J",(function(){return pl})),n.d(e,"K",(function(){return Aa})),n.d(e,"L",(function(){return Yc})),n.d(e,"M",(function(){return ca})),n.d(e,"N",(function(){return aa})),n.d(e,"O",(function(){return xa})),n.d(e,"P",(function(){return Ct})),n.d(e,"Q",(function(){return To})),n.d(e,"R",(function(){return ol})),n.d(e,"S",(function(){return Qn})),n.d(e,"T",(function(){return B})),n.d(e,"U",(function(){return zn})),n.d(e,"V",(function(){return bl})),n.d(e,"W",(function(){return Xc})),n.d(e,"X",(function(){return Ic})),n.d(e,"Y",(function(){return oo})),n.d(e,"Z",(function(){return Va})),n.d(e,"ab",(function(){return cr})),n.d(e,"bb",(function(){return fr})),n.d(e,"cb",(function(){return Hn})),n.d(e,"db",(function(){return Rn})),n.d(e,"eb",(function(){return Nn})),n.d(e,"fb",(function(){return jn})),n.d(e,"gb",(function(){return Mn})),n.d(e,"hb",(function(){return Pn})),n.d(e,"ib",(function(){return Ln})),n.d(e,"jb",(function(){return Fa})),n.d(e,"kb",(function(){return ml})),n.d(e,"lb",(function(){return Ba})),n.d(e,"mb",(function(){return za})),n.d(e,"nb",(function(){return On})),n.d(e,"ob",(function(){return G})),n.d(e,"pb",(function(){return Do})),n.d(e,"qb",(function(){return Zo})),n.d(e,"rb",(function(){return Yo})),n.d(e,"sb",(function(){return Io})),n.d(e,"tb",(function(){return ja})),n.d(e,"ub",(function(){return Wt})),n.d(e,"vb",(function(){return L})),n.d(e,"wb",(function(){return Dn})),n.d(e,"xb",(function(){return Ps})),n.d(e,"yb",(function(){return zs})),n.d(e,"zb",(function(){return Ys})),n.d(e,"Ab",(function(){return Rr})),n.d(e,"Bb",(function(){return Mo})),n.d(e,"Cb",(function(){return fs})),n.d(e,"Db",(function(){return Ds})),n.d(e,"Eb",(function(){return hs})),n.d(e,"Fb",(function(){return gc})),n.d(e,"Gb",(function(){return St})),n.d(e,"Hb",(function(){return Pt})),n.d(e,"Ib",(function(){return x})),n.d(e,"Jb",(function(){return S})),n.d(e,"Kb",(function(){return Rt})),n.d(e,"Lb",(function(){return Mt})),n.d(e,"Mb",(function(){return Bo})),n.d(e,"Nb",(function(){return Go})),n.d(e,"Ob",(function(){return Ko})),n.d(e,"Pb",(function(){return Wo})),n.d(e,"Qb",(function(){return Ho})),n.d(e,"Rb",(function(){return qo})),n.d(e,"Sb",(function(){return $o})),n.d(e,"Tb",(function(){return yn})),n.d(e,"Ub",(function(){return Rs})),n.d(e,"Vb",(function(){return ut})),n.d(e,"Wb",(function(){return zo})),n.d(e,"Xb",(function(){return yc})),n.d(e,"Yb",(function(){return Qo})),n.d(e,"Zb",(function(){return Jo})),n.d(e,"ac",(function(){return mc})),n.d(e,"bc",(function(){return es})),n.d(e,"cc",(function(){return Ja})),n.d(e,"dc",(function(){return Xa})),n.d(e,"ec",(function(){return tc})),n.d(e,"fc",(function(){return Vo})),n.d(e,"gc",(function(){return ns})),n.d(e,"hc",(function(){return rs})),n.d(e,"ic",(function(){return Ka})),n.d(e,"jc",(function(){return $a})),n.d(e,"kc",(function(){return pc})),n.d(e,"lc",(function(){return Fo})),n.d(e,"mc",(function(){return he})),n.d(e,"nc",(function(){return pr})),n.d(e,"oc",(function(){return gr})),n.d(e,"pc",(function(){return Ot})),n.d(e,"qc",(function(){return ds})),n.d(e,"rc",(function(){return jo})),n.d(e,"sc",(function(){return vc})),n.d(e,"tc",(function(){return Es})),n.d(e,"uc",(function(){return xs})),n.d(e,"vc",(function(){return Ss})),n.d(e,"wc",(function(){return Is})),n.d(e,"xc",(function(){return Ts})),n.d(e,"yc",(function(){return Os}));const y=v("Inject",t=>({token:t})),_=v("Optional"),w=v("Self"),k=v("SkipSelf");var C=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function A(t){for(let e in t)if(t[e]===A)return e;throw Error("Could not find renamed property on target object.")}function E(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return T(t,t[R])||T(t,t[P])}function T(t,e){return e&&e.token===t?e:null}function D(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(M))?t[O]:null}const R=A({"\u0275prov":A}),O=A({"\u0275inj":A}),N=A({"\u0275provFallback":A}),P=A({ngInjectableDef:A}),M=A({ngInjectorDef:A});function L(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(L).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const F=A({__forward_ref__:A});function B(t){return t.__forward_ref__=B,t.toString=function(){return L(this())},t}function z(t){return Q(t)?t():t}function Q(t){return"function"==typeof t&&t.hasOwnProperty(F)&&t.__forward_ref__===B}const V="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,G=V||H||U||q,W=A({"\u0275cmp":A}),K=A({"\u0275dir":A}),$=A({"\u0275pipe":A}),Y=A({"\u0275mod":A}),Z=A({"\u0275loc":A}),J=A({"\u0275fac":A}),X=A({__NG_ELEMENT_ID__:A});class tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=x({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=A({provide:String,useValue:A});let ot,st=void 0;function at(t){const e=st;return st=t,e}function ct(t){const e=ot;return ot=t,e}function lt(t,e=C.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?dt(t,void 0,e):st.get(t,e&C.Optional?null:void 0,e)}function ut(t,e=C.Default){return(ot||lt)(z(t),e)}function dt(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${L(t)}]`)}function ht(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=C.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof _||"Optional"===i.ngMetadataName||i===_?n|=C.Optional:i instanceof k||"SkipSelf"===i.ngMetadataName||i===k?n|=C.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=C.Self:t=i instanceof y||i===y?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class ft{get(t,e=nt){if(e===nt){const e=new Error(`NullInjectorError: No provider for ${L(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function mt(t,e){t.forEach(t=>Array.isArray(t)?mt(t,e):e(t))}function bt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yt(t,e,n){let r=wt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _t(t,e){const n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const kt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ct=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),At={},Et=[];let xt=0;function St(t){return b(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||Et,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=xt++,i.inputs=Nt(t.inputs,r),i.outputs=Nt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(It):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Tt):null,i})}function It(t){return Lt(t)||function(t){return t[K]||null}(t)}function Tt(t){return function(t){return t[$]||null}(t)}const Dt={};function Rt(t){const e={type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&b(()=>{Dt[t.id]=t.type}),e}function Ot(t,e){return b(()=>{const n=Ft(t,!0);n.declarations=e.declarations||Et,n.imports=e.imports||Et,n.exports=e.exports||Et})}function Nt(t,e){if(null==t)return At;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Pt=St;function Mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[W]||null}function jt(t,e){return t.hasOwnProperty(J)?t[J]:null}function Ft(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${L(t)} does not have '\u0275mod' property.`);return n}function Bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function zt(t){return Array.isArray(t)&&!0===t[1]}function Qt(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function qt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}let Gt=void 0;function Wt(t){Gt=t}function Kt(){return void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0}function $t(t){return!!t.listen}const Yt={createRenderer:(t,e)=>Kt()};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Zt(e[t+19])}function Xt(t,e){return Zt(e[t.index])}function te(t,e){return t.data[e+19]}function ee(t,e){return t[e+19]}function ne(t,e){const n=e[t];return Bt(n)?n:n[0]}function re(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ie(t){return 4==(4&t[2])}function oe(t){return 128==(128&t[2])}function se(t,e){return null===t||null==e?null:t[e]}function ae(t){t[18]=0}const ce={lFrame:Te(null),bindingsEnabled:!0,checkNoChangesMode:!1};function le(){return ce.bindingsEnabled}function ue(){return ce.lFrame.lView}function de(){return ce.lFrame.tView}function he(t){ce.lFrame.contextLView=t}function fe(){return ce.lFrame.previousOrParentTNode}function pe(t,e){ce.lFrame.previousOrParentTNode=t,ce.lFrame.isParent=e}function ge(){return ce.lFrame.isParent}function me(){ce.lFrame.isParent=!1}function be(){return ce.checkNoChangesMode}function ve(t){ce.checkNoChangesMode=t}function ye(){const t=ce.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _e(){return ce.lFrame.bindingIndex}function we(){return ce.lFrame.bindingIndex++}function ke(t){const e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ce(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function Ae(){return ce.lFrame.currentQueryIndex}function Ee(t){ce.lFrame.currentQueryIndex=t}function xe(t,e){const n=Ie();ce.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){const n=Ie(),r=t[1];ce.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ie(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function De(){const t=ce.lFrame;return ce.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Re=De;function Oe(){const t=De();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(){return ce.lFrame.selectedIndex}function Pe(t){ce.lFrame.selectedIndex=t}function Me(){const t=ce.lFrame;return te(t.tView,t.selectedIndex)}function Le(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function je(t,e,n){ze(t,e,3,n)}function Fe(t,e,n,r){(3&t[2])===n&&ze(t,e,n,r)}function Be(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function ze(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Qe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Qe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class Ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ue(t,e,n){const r=$t(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];He(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function qe(t){return 3===t||4===t||6===t}function He(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||We(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function We(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ke(t){return-1!==t}function $e(t){return 32767&t}function Ye(t){return t>>16}function Ze(t,e){let n=Ye(t),r=e;for(;n>0;)r=r[15],n--;return r}function Je(t){return"string"==typeof t?t:null==t?"":""+t}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Je(t)}const tn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function en(t){return t instanceof Function?t():t}let nn=!0;function rn(t){const e=nn;return nn=t,e}let on=0;function sn(t,e){const n=cn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,an(r.data,t),an(e,null),an(r.blueprint,null));const i=ln(t,e),o=t.injectorIndex;if(Ke(i)){const t=$e(i),n=Ze(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function an(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ln(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function un(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[X]:n.charCodeAt(0)||0;null==r&&(r=n[X]=on++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function dn(t,e,n,r=C.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[X];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){xe(e,t);try{const t=i();if(null!=t||r&C.Optional)return t;throw new Error(`No provider for ${Xe(n)}!`)}finally{Re()}}else if("number"==typeof i){if(-1===i)return new vn(t,e);let o=null,s=cn(t,e),a=-1,c=r&C.Host?e[16][6]:null;for((-1===s||r&C.SkipSelf)&&(a=-1===s?ln(t,e):e[s+8],bn(r,!1)?(o=e[1],s=$e(a),e=Ze(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(mn(i,s,t.data)){const t=fn(s,e,n,o,r,c);if(t!==hn)return t}bn(r,e[1].data[s+8]===c)&&mn(i,s,e)?(o=t,s=$e(a),e=Ze(a,e)):s=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){const t=e[9],o=ct(void 0);try{return t?t.get(n,i,r&C.Optional):dt(n,i,r&C.Optional)}finally{ct(o)}}if(r&C.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Xe(n)}]`)}const hn={};function fn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=pn(a,s,n,null==r?Vt(a)&&nn:r!=s&&3===a.type,i&C.Host&&o===a);return null!==c?gn(e,s,c,a):hn}function pn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,c=t.directiveStart,l=o>>16,u=i?a+l:t.directiveEnd;for(let d=r?a:a+l;d<u;d++){const t=s[d];if(d<c&&n===t||d>=c&&t.type===n)return d}if(i){const t=s[c];if(t&&qt(t)&&t.type===n)return c}return null}function gn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ve){const s=i;if(s.resolving)throw new Error("Circular dep for "+Xe(o[n]));const a=rn(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=ct(s.injectImpl)),xe(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&ct(c),rn(a),s.resolving=!1,Re()}}return i}function mn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function bn(t,e){return!(t&C.Self||t&C.Host&&e)}class vn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return dn(this._tNode,this._lView,t,void 0,e)}}function yn(t){return b(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[J]||function t(e){const n=e;if(Q(e))return()=>{const e=t(z(n));return e?e():null};let r=jt(n);if(null===r){const t=D(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function _n(t){return t.ngDebugContext}function wn(t){return t.ngOriginalError}function kn(t,...e){t.error(...e)}class Cn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||kn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_n(t)?_n(t):this._findContext(wn(t)):null}_findOriginalError(t){let e=wn(t);for(;e&&wn(e);)e=wn(e);return e}}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class En extends An{getTypeName(){return"HTML"}}class xn extends An{getTypeName(){return"Style"}}class Sn extends An{getTypeName(){return"Script"}}class In extends An{getTypeName(){return"URL"}}class Tn extends An{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=On(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function On(t){return t instanceof An&&t.getTypeName()||null}function Nn(t){return new En(t)}function Pn(t){return new xn(t)}function Mn(t){return new Sn(t)}function Ln(t){return new In(t)}function jn(t){return new Tn(t)}let Fn=!0,Bn=!1;function zn(){return Bn=!0,Fn}function Qn(){if(Bn)throw new Error("Cannot enable prod mode after platform setup.");Fn=!1}class Vn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Un=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hn(t){return(t=String(t)).match(Un)||t.match(qn)?t:(zn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Wn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Gn("area,br,col,hr,img,wbr"),$n=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Gn("rp,rt"),Zn=Wn(Yn,$n),Jn=Wn(Kn,Wn($n,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Yn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),Xn=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Gn("srcset"),er=Wn(Xn,tr,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Gn("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!er.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Xn[o]&&(s=Hn(s)),tr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Hn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(ir,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(or,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function cr(t,e){let n=null;try{ar=ar||new Vn(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==o);const s=new rr,a=s.sanitizeChildren(lr(n)||n);return zn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=lr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function lr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ur=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),dr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),hr=/^url\(([^)]+)\)$/;function fr(t){if(!(t=String(t).trim()))return"";const e=t.match(hr);return e&&Hn(e[1])===e[1]||t.match(dr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(zn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function pr(t){const e=mr();return e?e.sanitize(ur.HTML,t)||"":Rn(t,"HTML")?Dn(t):cr(Kt(),Je(t))}function gr(t){const e=mr();return e?e.sanitize(ur.URL,t)||"":Rn(t,"URL")?Dn(t):Hn(Je(t))}function mr(){const t=ue();return t&&t[12]}function br(t,e){t.__ngContext__=e}function vr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function yr(){throw new Error("Cannot mix multi providers and regular providers")}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function kr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Cr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(qe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!kr(t,c,n)||""===c&&1===e.length){if(Ar(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!wr(t.attrs,l,n)){if(Ar(r))return!1;s=!0}continue}const u=Er(8&r?"class":c,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(Ar(r))return!1;s=!0;continue}if(""!==l){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,l,0)||2&r&&l!==t){if(Ar(r))return!1;s=!0}}}}else{if(!s&&!Ar(r)&&!Ar(c))return!1;if(s&&Ar(c))continue;s=!1,r=c|1&r}}return Ar(r)||s}function Ar(t){return 0==(1&t)}function Er(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cr(t,e[r],n))return!0;return!1}function Sr(t,e){return t?":not("+e.trim()+")":e}function Ir(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ar(s)||(e+=Sr(o,i),i=""),r=s,o=o||!Ar(r);n++}return""!==i&&(e+=Sr(o,i)),e}const Tr={};function Dr(t){const e=t[3];return zt(e)?e[3]:e}function Rr(t){Or(de(),ue(),Ne()+t,be())}function Or(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&je(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Fe(e,r,0,n)}Pe(n)}function Nr(t,e){return t<<17|e<<2}function Pr(t){return t>>17&32767}function Mr(t){return 2|t}function Lr(t){return(131068&t)>>2}function jr(t,e){return-131069&t|e<<2}function Fr(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ee(i),n.contentQueries(2,e[o],o)}}}function zr(t,e,n){return $t(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qr(t,e,n,r,i,o,s,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,ae(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Vr(t,e,n,r,i,o){const s=n+19,a=t.data[s]||function(t,e,n,r,i,o){const s=fe(),a=ge(),c=a?s:s&&s.parent,l=t.data[n]=Jr(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=l),s&&(!a||null!=s.child||null===l.parent&&2!==s.type?a||(s.next=l):s.child=l),l}(t,e,s,r,i,o);return pe(a,!0),a}function Ur(t,e,n){Se(e,e[6]);try{const r=t.viewQuery;null!==r&&wi(1,r,n);const i=t.template;null!==i&&Gr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&wi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)mi(t,e[n])}(e,o)}finally{e[2]&=-5,Oe()}}function qr(t,e,n,r){const i=e[2];if(256==(256&i))return;Se(e,e[6]);const o=be();try{ae(e),ce.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Gr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&je(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Fe(e,n,0,null),Be(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(zt(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];oe(n)&&qr(r,n,r.template,n[8])}0!=(1&n)&&pi(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Br(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&je(e,n)}else{const n=t.contentHooks;null!==n&&Fe(e,n,1),Be(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Pe(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Ce(r,i),s(2,e[i])),i++)}}}finally{Pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)gi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&wi(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&je(e,n)}else{const n=t.viewHooks;null!==n&&Fe(e,n,2),Be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{Oe()}}function Hr(t,e,n,r){const i=e[10],o=!be(),s=ie(e);try{o&&!s&&i.begin&&i.begin(),s&&Ur(t,e,r),qr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Gr(t,e,n,r,i){const o=Ne();try{Pe(-1),2&r&&e.length>19&&Or(t,e,0,be()),n(r,i)}finally{Pe(o)}}function Wr(t,e,n){if(Qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Kr(t,e,n){le()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||sn(n,e),br(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=qt(r);o&&ui(e,n,r);const c=gn(e,t,a,n);br(c,e),null!==s&&di(0,a-i,c,r,0,s),o&&(ne(n.index,e)[8]=c)}}(t,e,n,Xt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{Pe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ii(r,i):s&&o.push(null)}}finally{Pe(-1)}}(t,e,n))}function $r(t,e,n=Xt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Yr(t){return t.tView||(t.tView=Zr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Zr(t,e,n,r,i,o,s,a,c,l){const u=19+r,d=u+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}(u,d);return h[1]={type:t,id:e,blueprint:h,template:n,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:l}}function Jr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ti(t,e,n,r,i,o,s,a){const c=Xt(e,n);let l,u=e.inputs;var d;!a&&null!=u&&(l=u[r])?(xi(t,n,l,r,i),Vt(e)&&function(t,e){const n=ne(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(d=r)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,i=null!=s?s(i,e.tagName||"",r):i,$t(o)?o.setProperty(c,r,i):He(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ei(t,e,n,r){let i=!1;if(le()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];xr(n,s.selectors,!1)&&(i||(i=[]),un(sn(n,e),t,s.type),qt(s)?(2&n.flags&&vr(n),si(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,ci(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}oi(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=Ge(n.mergedAttrs,l.hostAttrs),li(t,e,l),ai(t.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),c||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),c=!0),ni(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],e=t.inputs;o.push(null!==i?hi(e,i):null),s=Xr(e,c,s),a=Xr(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ri(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function ni(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ri(t,e,n){for(let r=0;r<n;r++)e.push(Tr),t.blueprint.push(Tr),t.data.push(null)}function ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oi(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qt(e)&&(n[""]=t)}}function ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function li(t,e,n){t.data.push(n);const r=n.factory||(n.factory=jt(n.type)),i=new Ve(r,qt(n),null);t.blueprint.push(i),e.push(i)}function ui(t,e,n){const r=Xt(e,t),i=Yr(n),o=t[10],s=bi(t,Qr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fi(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function pi(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];qr(e,t,e.template,t[8])}}}function gi(t,e){const n=ne(e,t);if(oe(n)&&80&n[2]){const t=n[1];qr(t,n,t.template,n[8])}}function mi(t,e){const n=ne(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ur(r,n,n[8])}function bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vi(t){for(;t;){t[2]|=64;const e=Dr(t);if(Ht(t)&&!e)return t;t=e}return null}function yi(t,e,n){const r=e[10];r.begin&&r.begin();try{qr(t,e,t.template,n)}catch(i){throw Ei(e,i),i}finally{r.end&&r.end()}}function _i(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=re(n),i=r[1];Hr(i,r,i.template,n)}}(t[8])}function wi(t,e,n){Ee(0),e(t,n)}const ki=(()=>Promise.resolve(null))();function Ci(t){return t[7]||(t[7]=[])}function Ai(t){return t.cleanup||(t.cleanup=[])}function Ei(t,e){const n=t[9],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Si(t,e,n){const r=Jt(e,t),i=t[11];$t(i)?i.setValue(r,n):r.textContent=n}function Ii(t,e){const n=e[3];return-1===t.index?zt(n)?n:null:n}function Ti(t,e){const n=Ii(t,e);return n?zi(e[11],n[7]):null}function Di(t,e,n,r,i){if(null!=r){let o,s=!1;zt(r)?o=r:Bt(r)&&(s=!0,r=r[0]);const a=Zt(r);0===t&&null!==n?null==i?Fi(e,n,a):ji(e,n,a,i||null):1===t&&null!==n?ji(e,n,a,i||null):2===t?function(t,e,n){const r=zi(t,e);r&&function(t,e,n,r){$t(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Zt(n)&&Di(e,t,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];qi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ri(t,e,n,r){const i=Ti(t.node,e);i&&qi(t,e,e[11],n?1:2,i,r)}function Oi(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function Ni(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Oi(i,r),e>0&&(t[n-1][4]=r[4]);const o=vt(t,9+e);Ri(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Pi(t,e){if(!(256&e[2])){const n=e[11];$t(n)&&n.destroyNode&&qi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(Bt(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Bt(e)&&Li(e[1],e),e=Mi(e,t);null===e&&(e=t),Bt(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mi(t,e){let n;return Bt(t)&&(n=t[6])&&2===n.type?Ii(n,t):t[3]===e?null:t[3]}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof Ve||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Zt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&$t(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&zt(e[3])){r!==e[3]&&Oi(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function ji(t,e,n,r){$t(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Fi(t,e,n){$t(t)?t.appendChild(e,n):e.appendChild(n)}function Bi(t,e,n,r){null!==r?ji(t,e,n,r):Fi(t,e,n)}function zi(t,e){return $t(t)?t.parentNode(e):e.parentNode}function Qi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ti(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Xt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Ct.ShadowDom&&n!==Ct.Native)return null}return Xt(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=Ii(t,e);return null===n?null:Vi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Xt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Bi(t,i,n[e],o);else Bi(t,i,n,o)}}function Vi(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Xt(n,e);if(0===r)return Vi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return zt(t)?Vi(-1,t):Zt(t)}}{const r=e[16],i=r[6],o=Dr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Ui(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&br(Zt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Ui(t,e,n.child,r,i,o,!1),Di(e,t,i,a,o)):1===c?Hi(t,e,r,n,i,o):Di(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function qi(t,e,n,r,i,o){Ui(n,r,t.node.child,e,i,o,!1)}function Hi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Di(e,t,i,a[c],o);else Ui(t,e,a,s[3],i,o,!0)}function Gi(t,e,n){$t(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wi(t,e,n){$t(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ki{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Zt(s)),zt(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6],s=Dr(e);let a=o.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Pi(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Ci(n=this._lView).push(r),e.firstCreatePass&&Ai(e).push(n[7].length-1,null)}markForCheck(){vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ve(!0);try{yi(t,e,n)}finally{ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,qi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $i extends Ki{constructor(t){super(t),this._view=t}detectChanges(){_i(this._view)}checkNoChanges(){!function(t){ve(!0);try{_i(t)}finally{ve(!1)}}(this._view)}get context(){return null}}let Yi,Zi,Ji;function Xi(t,e,n){return Yi||(Yi=class extends t{}),new Yi(Xt(e,n))}function to(t,e,n,r){return Zi||(Zi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),Ur(e,n,t);const i=new Ki(n);return i._tViewNode=n[6],i}}),0===n.type?new Zi(r,n,Xi(e,n,r)):null}function eo(t,e,n,r){let i;Ji||(Ji=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Xi(e,this._hostTNode,this._hostView)}get injector(){return new vn(this._hostTNode,this._hostView)}get parentInjector(){const t=ln(this._hostTNode,this._hostView),e=Ze(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ye(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Ke(t)&&null!=n?new vn(n,e):new vn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),zt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ji(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],bt(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ri(r,n,!0,Vi(i,this._lContainer)),t.attachToViewContainerRef(this),bt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Ni(t,e);n&&Pi(n[1],n)})(this._lContainer,e),vt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=vt(this._lContainer[8],e)?new Ki(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(zt(o))i=o,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Zt(o);else if(t=r[11].createComment(""),Ht(r)){const e=r[11],i=Xt(n,r);ji(e,zi(e,i),t,function(t,e){return $t(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Qi(r[1],r,t,n);r[n.index]=i=fi(o,r,t,n),bi(r,i)}return new Ji(i,n,r)}function no(t=!1){return function(t,e,n){if(!n&&Vt(t)){const n=ne(t.index,e);return new Ki(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ki(e[16],e):null}(fe(),ue(),t)}let ro=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>io(),t})();const io=no,oo=new tt("Set Injector scope."),so={},ao={},co=[];let lo=void 0;function uo(){return void 0===lo&&(lo=new ft),lo}function ho(t,e=null,n=null,r){return new fo(t,n,e||uo(),r)}class fo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mt(e,n=>this.processProvider(n,t,e)),mt([t],t=>this.processInjectorType(t,[],i)),this.records.set(et,mo(void 0,this));const o=this.records.get(oo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:L(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=nt,n=C.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&C.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tt)&&I(t);e=n&&this.injectableDefInScope(n)?mo(po(t),so):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&C.Self?uo():this.parent).get(t,e=n&C.Optional&&e===nt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(L(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=L(e);if(Array.isArray(e))i=e.map(L).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):L(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(L(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=z(t)))return!1;let r=D(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=D(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{mt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mt(r,t=>this.processProvider(t,n,r||co))}}this.injectorDefTypes.add(o),this.records.set(o,mo(r.factory,so));const a=r.providers;if(null!=a&&!s){const e=t;mt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vo(t=z(t))?t:z(t&&t.provide);const i=function(t,e,n){return bo(t)?mo(void 0,t.useValue):mo(go(t,e,n),so)}(t,e,n);if(vo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&yr()}else{let e=this.records.get(r);e?void 0===e.multi&&yr():(e=mo(void 0,so,!0),e.factory=()=>ht(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ao?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(L(t)):e.value===so&&(e.value=ao,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function po(t){const e=I(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;const r=D(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error(`Token ${L(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${L(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[R]||t[P]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function go(t,e,n){let r=void 0;if(vo(t)){const e=z(t);return jt(e)||po(e)}if(bo(t))r=()=>z(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ht(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${L(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return jt(i)||po(i);r=()=>new i(...ht(t.deps))}var i;return r}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bo(t){return null!==t&&"object"==typeof t&&it in t}function vo(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=ho(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let _o=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=nt,t.NULL=new ft,t.\u0275prov=x({token:t,providedIn:"any",factory:()=>ut(et)}),t.__NG_ELEMENT_ID__=-1,t})();const wo=new tt("AnalyzeForEntryComponents");let ko=new Map;const Co=new Set;function Ao(t){return"string"==typeof t?t:t.text()}function Eo(t,e){let n=t.styles,r=t.classes,i=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=j(r,t):2==i&&(n=j(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let xo=null;function So(){if(!xo){const t=G.Symbol;if(t&&t.iterator)xo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xo=n)}}}return xo}function Io(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class To{constructor(t){this.wrapped=t}static wrap(t){return new To(t)}static unwrap(t){return To.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof To}}function Do(t){return!!Ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function Ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,e,n){return t[e]=n}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Po(t,e,n,r){const i=No(t,e,n);return No(t,e+1,r)||i}function Mo(t,e,n,r){const i=ue();return No(i,we(),e)&&(de(),function(t,e,n,r,i,o){const s=Xt(t,e),a=e[11];if(null==r)$t(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Je(r):i(r,t.tagName||"",n);$t(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Me(),i,t,e,n,r)),Mo}function Lo(t,e,n,r){return No(t,we(),n)?e+Je(n)+r:Tr}function jo(t,e,n,r,i,o,s,a){const c=ue(),l=de(),u=t+19,d=l.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const l=e.consts,u=Vr(e,n[6],t,0,s||null,se(l,a));ei(e,n,u,se(l,c)),Le(e,u);const d=u.tViews=Zr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),h=Jr(0,null,2,-1,null,null);return h.injectorIndex=u.injectorIndex,d.node=h,null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,r,i,o,s):l.data[u];pe(d,!1);const h=c[11].createComment("");Qi(l,c,h,d),br(h,c),bi(c,c[u]=fi(h,c,h,d)),Ut(d)&&Kr(l,c,d),null!=s&&$r(c,d,a)}function Fo(t){return ee(ce.lFrame.contextLView,t)}function Bo(t,e=C.Default){const n=ue();return null==n?ut(t,e):dn(fe(),n,z(t),e)}function zo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(fe(),t)}function Qo(){throw new Error("invalid")}function Vo(t,e,n){const r=ue();return No(r,we(),e)&&ti(de(),Me(),r,t,e,r[11],n,!1),Vo}function Uo(t,e,n,r,i){const o=i?"class":"style";xi(t,n,e.inputs[o],o,r)}function qo(t,e,n,r){const i=ue(),o=de(),s=19+t,a=i[11],c=i[s]=zr(e,a,ce.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=se(a,o),l=Vr(e,n[6],t,3,i,c);return ei(e,n,l,se(a,s)),null!==l.mergedAttrs&&Eo(l,l.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,l),l}(t,o,i,0,e,n,r):o.data[s];pe(l,!0);const u=l.mergedAttrs;null!==u&&Ue(a,c,u);const d=l.classes;null!==d&&Wi(a,c,d);const h=l.styles;null!==h&&Gi(a,c,h),Qi(o,i,c,l),0===ce.lFrame.elementDepthCount&&br(c,i),ce.lFrame.elementDepthCount++,Ut(l)&&(Kr(o,i,l),Wr(o,l,i)),null!==r&&$r(i,l)}function Ho(){let t=fe();ge()?me():(t=t.parent,pe(t,!1));const e=t;ce.lFrame.elementDepthCount--;const n=de();n.firstCreatePass&&(Le(n,t),Qt(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,ue(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,ue(),e.styles,!1)}function Go(t,e,n,r){qo(t,e,n,r),Ho()}function Wo(t,e,n){const r=ue(),i=de(),o=t+19,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=se(o,r),a=Vr(e,n[6],t,4,"ng-container",s);return null!==s&&Eo(a,s),ei(e,n,a,se(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];pe(s,!0);const a=r[o]=r[11].createComment("");Qi(i,r,a,s),br(a,r),Ut(s)&&(Kr(i,r,s),Wr(i,s,r)),null!=n&&$r(r,s)}function Ko(){let t=fe();const e=de();ge()?me():(t=t.parent,pe(t,!1)),e.firstCreatePass&&(Le(e,t),Qt(t)&&e.queries.elementEnd(t))}function $o(){return ue()}function Yo(t){return!!t&&"function"==typeof t.then}function Zo(t){return!!t&&"function"==typeof t.subscribe}function Jo(t,e,n=!1,r){const i=ue(),o=de(),s=fe();return function(t,e,n,r,i,o,s=!1,a){const c=Ut(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Ci(e);let d=!0;if(3===r.type){const h=Xt(r,e),f=a?a(h):At,p=f.target||h,g=u.length,m=a?t=>a(Zt(t[r.index])).target:r.index;if($t(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=ts(r,e,o,!1);const t=n.listen(f.name||p,i,o);u.push(o,t),l&&l.push(i,m,g,g+1)}}else o=ts(r,e,o,!0),p.addEventListener(i,o,s),u.push(o),l&&l.push(i,m,g,s)}const h=r.outputs;let f;if(d&&null!==h&&(f=h[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=u.length;u.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Jo}function Xo(t,e,n){try{return!1!==e(n)}catch(r){return Ei(t,r),!1}}function ts(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ne(t.index,e):e;0==(32&e[2])&&vi(s);let a=Xo(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=Xo(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(ce.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ce.lFrame.contextLView))[8]}(t)}function ns(t,e,n){return rs(t,"",e,"",n),ns}function rs(t,e,n,r,i){const o=ue(),s=Lo(o,e,n,r);return s!==Tr&&ti(de(),Me(),o,t,s,o[11],i,!1),rs}const is=[];function os(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Pr(o):Lr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];ss(t[a],e)&&(c=!0,t[a+1]=r?Fr(n):Mr(n)),a=r?Pr(n):Lr(n)}c&&(t[n+1]=r?Mr(o):Fr(o))}function ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}const as={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cs(t){return t.substring(as.key,as.keyEnd)}function ls(t,e){const n=as.textEnd;return n===e?-1:(e=as.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,as.key=e,n),us(t,e,n))}function us(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ds(t,e,n){return gs(t,e,n,!1),ds}function hs(t,e){return gs(t,e,null,!0),hs}function fs(t){ms(yt,ps,t,!0)}function ps(t,e){for(let n=function(t){return function(t){as.key=0,as.keyEnd=0,as.value=0,as.valueEnd=0,as.textEnd=t.length}(t),ls(t,us(t,0,as.textEnd))}(e);n>=0;n=ls(e,n))yt(t,cs(e),!0)}function gs(t,e,n,r){const i=ue(),o=de(),s=ke(2);if(o.firstUpdatePass&&vs(o,t,s,r),e!==Tr&&No(i,s,e)){let a;null==n&&(a=function(){const t=ce.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),ws(o,o.data[Ne()+19],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=L(Dn(t)))),t}(e,n),r,s)}}function ms(t,e,n,r){const i=de(),o=ke(2);i.firstUpdatePass&&vs(i,null,o,r);const s=ue();if(n!==Tr&&No(s,o,n)){const a=i.data[Ne()+19];if(As(a,r)&&!bs(i,o)){let t=r?a.classes:a.styles;null!==t&&(n=j(t,n||"")),Uo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Tr&&(i=is);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let p=null,g=void 0;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),null!==p&&ws(t,e,n,r,p,g,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return is;const r=[],i=Dn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function bs(t,e){return e>=t.expandoStartIndex}function vs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ne()+19],s=bs(t,n);As(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_s(n=ys(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ys(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Lr(r))return t[Pr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ys(null,t,e,n[1],r),n=_s(n,e.attrs,r),function(t,e,n,r){t[Pr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_s(r,t[o].hostAttrs,n);return _s(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Pr(s),c=Lr(s);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||wt(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=Pr(t[a+1]);t[r+1]=Nr(e,a),0!==e&&(t[e+1]=jr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Nr(a,0),0!==a&&(t[a+1]=jr(t[a+1],r)),a=r;else t[r+1]=Nr(c,0),0===a?a=r:t[c+1]=jr(t[c+1],r),c=r;u&&(t[r+1]=Mr(t[r+1])),os(t,l,r,!0),os(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wt(o,e)>=0&&(n[r+1]=Fr(n[r+1]))}(e,l,t,r,o),s=Nr(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ys(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=_s(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _s(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yt(t,s,!!n||e[++o]))}return void 0===t?null:t}function ws(t,e,n,r,i,o,s,a){if(3!==e.type)return;const c=t.data,l=c[a+1];Cs(1==(1&l)?ks(c,e,n,i,Lr(l),s):void 0)||(Cs(o)||function(t){return 2==(2&t)}(l)&&(o=ks(c,null,n,i,a,s)),function(t,e,n,r,i){const o=$t(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Jt(Ne(),n),i,o))}function ks(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[i+1];u===Tr&&(u=l?is:void 0);let d=l?_t(u,r):c===r?u:void 0;if(o&&!Cs(d)&&(d=_t(e,r)),Cs(d)&&(a=d,s))return a;const h=t[i+1];i=s?Pr(h):Lr(h)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=_t(t,r))}return a}function Cs(t){return void 0!==t}function As(t,e){return 0!=(t.flags&(e?16:32))}function Es(t,e=""){const n=ue(),r=de(),i=t+19,o=r.firstCreatePass?Vr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return $t(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Qi(r,n,s,o),pe(o,!1)}function xs(t){return Ss("",t,""),xs}function Ss(t,e,n){const r=ue(),i=Lo(r,t,e,n);return i!==Tr&&Si(r,Ne(),i),Ss}function Is(t,e,n,r,i){const o=ue(),s=function(t,e,n,r,i,o){const s=Po(t,_e(),n,i);return ke(2),s?e+Je(n)+r+Je(i)+o:Tr}(o,t,e,n,r,i);return s!==Tr&&Si(o,Ne(),s),Is}function Ts(t,e,n,r,i,o,s){const a=ue(),c=function(t,e,n,r,i,o,s,a){const c=function(t,e,n,r,i){const o=Po(t,e,n,r);return No(t,e+2,i)||o}(t,_e(),n,i,s);return ke(3),c?e+Je(n)+r+Je(i)+o+Je(s)+a:Tr}(a,t,e,n,r,i,o,s);return c!==Tr&&Si(a,Ne(),c),Ts}function Ds(t,e,n){ms(yt,ps,Lo(ue(),t,e,n),!0)}function Rs(t,e,n){const r=ue();return No(r,we(),e)&&ti(de(),Me(),r,t,e,r[11],n,!0),Rs}function Os(t,e,n){const r=ue();if(No(r,we(),e)){const i=de(),o=Me();ti(i,o,r,t,e,function(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}(o,r),n,!0)}return Os}function Ns(t,e){const n=re(t)[1],r=n.data.length-1;Le(n,{directiveStart:r,directiveEnd:r+1})}function Ps(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ms(t.inputs),e.declaredInputs=Ms(t.declaredInputs),e.outputs=Ms(t.outputs);const n=i.hostBindings;n&&Fs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ls(t,o),s&&js(t,s),E(t.inputs,i.inputs),E(t.declaredInputs,i.declaredInputs),E(t.outputs,i.outputs),qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ps&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function Ms(t){return t===At?{}:t===Et?[]:t}function Ls(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function js(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Fs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Bs{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function zs(t){t.type.prototype.ngOnChanges&&(t.setInput=Qs,t.onChanges=function(){const t=Vs(this),e=t&&t.current;if(e){const n=t.previous;if(n===At)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Qs(t,e,n,r){const i=Vs(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:At,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Bs(c&&c.currentValue,e,s===At),t[r]=e}function Vs(t){return t.__ngSimpleChanges__||null}function Us(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let o=0;o<t.length;o++)Us(t[o],e,n,r,i);else{const o=de(),s=ue();let a=vo(t)?t:z(t.provide),c=go(t);const l=fe(),u=65535&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>16;if(vo(t)||!t.multi){const r=new Ve(c,i,Bo),f=Gs(a,e,i?u:u+h,d);-1===f?(un(sn(l,s),o,a),qs(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Gs(a,e,u+h,d),p=Gs(a,e,u,u+h),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){un(sn(l,s),o,a);const u=function(t,e,n,r,i){const o=new Ve(t,n,Bo);return o.multi=[],o.index=e,o.componentProviders=0,Hs(o,i,r&&!n),o}(i?Ks:Ws,n.length,i,r,c);!i&&m&&(n[p].providerFactory=u),qs(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(u),s.push(u)}else qs(o,t,f>-1?f:p),Hs(n[i?p:f],c,!i&&r);!i&&r&&m&&n[p].componentProviders++}}}function qs(t,e,n){if(vo(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function Hs(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Gs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ws(t,e,n,r){return $s(this.multi,[])}function Ks(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=gn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),$s(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],$s(i,o);return o}function $s(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ys(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=de();if(r.firstCreatePass){const i=qt(t);Us(n,r.data,r.blueprint,i,!0),Us(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}zs.ngInherit=!0;class Zs{}class Js{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${L(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Xs=(()=>{class t{}return t.NULL=new Js,t})(),ta=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ea(t),t})();const ea=function(t){return Xi(t,fe(),ue())};class na{}const ra=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oa(),t})();const oa=function(){const t=ue(),e=ne(fe().index,t);return function(t){const e=t[11];if($t(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Bt(e)?e:t)};let sa=(()=>{class t{}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>null}),t})();class aa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ca=new aa("9.0.7");class la{constructor(){}supports(t){return Do(t)}create(t){return new da(t)}}const ua=(t,e)=>e;class da{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ua}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ga(n,r,i)?e:n,s=ga(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Do(t))throw new Error(`Error trying to diff '${L(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Io(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Io(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Io(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Io(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Io(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Io(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ha(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new pa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Io(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class pa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ga(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ma{constructor(){}supports(t){return t instanceof Map||Ro(t)}create(){return new ba}}class ba{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ro(t)))throw new Error(`Error trying to diff '${L(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new va(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Io(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class va{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new k,new _]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t([new la])}),t})(),_a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new k,new _]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t([new ma])}),t})();const wa=[new ma],ka=new ya([new la]),Ca=new _a(wa);let Aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ea(t,ta),t})();const Ea=function(t,e){return to(t,e,fe(),ue())};let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Sa(t,ta),t})();const Sa=function(t,e){return eo(t,e,fe(),ue())},Ia={};class Ta extends Xs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Lt(t);return new Oa(e,this.ngModule)}}function Da(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ra=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tn});class Oa extends Zs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ir).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Da(this.componentDef.inputs)}get outputs(){return Da(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ia,i);return o!==Ia||r===Ia?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(na,Yt),s=i.get(sa,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if($t(t))return t.selectRootElement(e,n===Ct.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:tn,clean:ki,playerHandler:null,flags:0},f=Zr(0,-1,null,1,0,null,null,null,null,null),p=Qr(null,f,h,u,null,null,o,a,s,i);let g,m;Se(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[19]=t;const a=Vr(s,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Eo(a,c),null!==t&&(Ue(i,t,c),null!==a.classes&&Wi(i,t,a.classes),null!==a.styles&&Gi(i,t,a.styles)));const l=r.createRenderer(t,e),u=Qr(n,Yr(e),null,e.onPush?64:16,n[19],a,r,l,void 0);return s.firstCreatePass&&(un(sn(a,n),s,e.type),si(s,a),ci(a,n.length,1)),bi(n,u),n[19]=u}(l,this.componentDef,p,o,a);if(l)if(n)Ue(a,l,["ng-version",ca.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ar(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ue(a,l,t),e&&e.length>0&&Wi(a,l,e.join(" "))}m=te(p[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),oi(t,r,1),li(t,e,n));const i=gn(e,t,e.length-1,r);br(i,e);const o=Xt(r,e);return o&&br(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=fe();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Pe(a.index-19);const t=n[1];ni(t,e),ri(t,n,e.hostVars),ii(e,s)}return s}(t,this.componentDef,p,h,[Ns]),Ur(f,p,null)}finally{Oe()}const b=new Na(this.componentType,g,Xi(ta,m,p),p,m);return n&&!d||(b.hostView._tViewNode.child=m),b}}class Na extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new $i(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Jr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new vn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Pa=void 0;var Ma=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let La={};function ja(t,e,n){"string"!=typeof e&&(n=e,e=t[Va.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),La[e]=t,n&&(La[e][Va.ExtraData]=n)}function Fa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Qa(e);if(n)return n;const r=e.split("-")[0];if(n=Qa(r),n)return n;if("en"===r)return Ma;throw new Error(`Missing locale data for the locale "${t}".`)}function Ba(t){return Fa(t)[Va.CurrencyCode]||null}function za(t){return Fa(t)[Va.PluralCase]}function Qa(t){return t in La||(La[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),La[t]}const Va=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ua="en-US";function qa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ua=t.toLowerCase().replace(/_/g,"-"))}const Ha=new Map;class Ga extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ta(this);const n=Ft(t),r=t[Z]||null;r&&qa(r),this._bootstrapComponents=en(n.bootstrap),this._r3Injector=ho(t,e,[{provide:pt,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],L(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=_o.THROW_IF_NOT_FOUND,n=C.Default){return t===_o||t===pt||t===et?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wa extends gt{constructor(t){super(),this.moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${L(e)} vs ${L(e.name)}`)})(t,Ha.get(t),e),Ha.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ga(this.moduleType,t)}}function Ka(t,e,n){const r=ye()+t,i=ue();return i[r]===Tr?Oo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function $a(t,e,n,r){return Za(ue(),ye(),t,e,n,r)}function Ya(t,e){const n=t[e];return n===Tr?void 0:n}function Za(t,e,n,r,i,o){const s=e+n;return No(t,s,i)?Oo(t,s+1,o?r.call(o,i):r(i)):Ya(t,s+1)}function Ja(t,e){const n=de();let r;const i=t+19;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=jt(r.type)),s=ct(Bo),a=o();return ct(s),function(t,e,n,r){const i=n+19;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ue(),t,a),a}function Xa(t,e,n){const r=ue(),i=ee(r,t);return nc(r,ec(r,t)?Za(r,ye(),e,i.transform,n,i):i.transform(n))}function tc(t,e,n,r){const i=ue(),o=ee(i,t);return nc(i,ec(i,t)?function(t,e,n,r,i,o,s){const a=e+n;return Po(t,a,i,o)?Oo(t,a+2,s?r.call(s,i,o):r(i,o)):Ya(t,a+2)}(i,ye(),e,o.transform,n,r,o):o.transform(n,r))}function ec(t,e){return t[1].data[e+19].pure}function nc(t,e){return To.isWrapped(e)&&(e=To.unwrap(e),t[_e()]=Tr),e}class rc extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function ic(){return this._results[So()]()}class oc{constructor(){this.dirty=!0,this._results=[],this.changes=new rc,this.length=0;const t=So(),e=oc.prototype;e[t]||(e[t]=ic)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class sc{constructor(t){this.queryList=t,this.matches=null}clone(){return new sc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ac{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ac(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bc(t,e).matches&&this.queries[e].setDirty()}}class cc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class lc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new lc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class uc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new uc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,dc(e,n[r]))}else{const n=this.metadata.predicate;n===Aa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,pn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ta||r===xa||r===Aa&&0===e.type)this.addMatch(e.index,-2);else{const n=pn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function dc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Xi(ta,t,e):0===t.type?to(Aa,ta,t,e):null}(e,t):-2===n?function(t,e,n){return n===ta?Xi(ta,e,t):n===Aa?to(Aa,ta,e,t):n===xa?eo(xa,ta,e,t):void 0}(t,e,r):gn(t,t[1],n,e)}function fc(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:hc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function pc(t){const e=ue(),n=de(),r=Ae();Ee(r+1);const i=bc(n,r);if(t.dirty&&ie(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=fc(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):fc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function gc(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new lc),t.queries.track(new uc(e,n))}(t,new cc(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new oc;!function(t,e,n,r){const i=Ci(e);i.push(n),t.firstCreatePass&&Ai(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new ac),e[5].queries.push(new sc(n))}(t,e)}(de(),ue(),e,n,r,0,fe(),t)}function mc(){return t=ue(),e=Ae(),t[5].queries[e].queryList;var t,e}function bc(t,e){return t.queries.getByIndex(e)}function vc(t,e){return to(Aa,ta,t,e)}function yc(t=C.Default){const e=no(!0);if(null!=e||t&C.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const _c=new tt("Application Initializer");let wc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Yo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(_c,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const kc=new tt("AppId"),Cc={provide:kc,useFactory:function(){return`${Ac()}${Ac()}${Ac()}`},deps:[]};function Ac(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ec=new tt("Platform Initializer"),xc=new tt("Platform ID"),Sc=new tt("appBootstrapListener");let Ic=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const Tc=new tt("LocaleId"),Dc=new tt("DefaultCurrencyCode");class Rc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Oc=function(t){return new Wa(t)},Nc=Oc,Pc=function(t){return Promise.resolve(Oc(t))},Mc=function(t){const e=Oc(t),n=en(Ft(t).declarations).reduce((t,e)=>{const n=Lt(e);return n&&t.push(new Oa(n)),t},[]);return new Rc(e,n)},Lc=Mc,jc=function(t){return Promise.resolve(Mc(t))};let Fc=(()=>{class t{constructor(){this.compileModuleSync=Nc,this.compileModuleAsync=Pc,this.compileModuleAndAllComponentsSync=Lc,this.compileModuleAndAllComponentsAsync=jc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();const Bc=new tt("compilerOptions"),zc=(()=>Promise.resolve(0))();function Qc(t){"undefined"==typeof Zone?zc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Vc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rc(!1),this.onMicrotaskEmpty=new rc(!1),this.onStable=new rc(!1),this.onError=new rc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.lastRequestAnimationFrameId=-1,Gc(t),Hc(t)}),Gc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Wc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Kc(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Wc(t),e.invoke(r,i,o,s,a)}finally{Kc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Gc(t),Hc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,qc,Uc,Uc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Uc(){}const qc={};function Hc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Wc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kc(t){t._nesting--,Hc(t)}class $c{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rc,this.onMicrotaskEmpty=new rc,this.onStable=new rc,this.onError=new rc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Yc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vc.assertNotInAngularZone(),Qc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(Vc))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})(),Zc=(()=>{class t{constructor(){this._applications=new Map,el.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return el.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();class Jc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Xc(t){el=t}let tl,el=new Jc,nl=function(t,e,n){const r=new Wa(n);if(0===ko.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Bc,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=_o.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=r.then(Ao))}return e}return ko.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const c=Promise.all(i).then(()=>function(t){Co.delete(t)}(n));e.push(c)}),ko=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const rl=new tt("AllowMultipleToken");class il{constructor(t,e){this.name=t,this.token=e}}function ol(t,e,n=[]){const r="Platform: "+e,i=new tt(r);return(e=[])=>{let o=sl();if(!o||o.injector.get(rl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:oo,useValue:"platform"});!function(t){if(tl&&!tl.destroyed&&!tl.injector.get(rl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tl=t.get(al);const e=t.get(Ec,null);e&&e.forEach(t=>t())}(_o.create({providers:t,name:r}))}return function(t){const e=sl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function sl(){return tl&&!tl.destroyed?tl:null}let al=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $c:("zone.js"===t?void 0:t)||new Vc({enableLongStackTrace:zn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Vc,useValue:n}];return n.run(()=>{const e=_o.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ul(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(wc);return t.runInitializers(),t.donePromise.then(()=>(qa(i.injector.get(Tc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=cl({},e);return nl(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ll);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${L(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(_o))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function cl(t,e){return Array.isArray(e)?e.reduce(cl,t):Object.assign(Object.assign({},t),e)}let ll=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=zn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Vc.assertNotInAngularZone(),Qc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Object(s.a)(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof o.a?t[0]:Object(a.a)(e)(Object(c.a)(t,n))}(d,h.pipe(t=>{return u()((e=m,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,p);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Zs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(_o.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Yc,null);return o&&i.injector.get(Zc).registerApplication(i.location.nativeElement,o),this._loadComponent(i),zn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ul(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Sc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ul(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(Vc),ut(Ic),ut(_o),ut(Cn),ut(Xs),ut(wc))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function ul(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dl{}class hl{}const fl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let pl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||fl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>gl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>gl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(Fc),ut(hl,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t})();function gl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ml=function(t){return null},bl=ol(null,"core",[{provide:xc,useValue:"unknown"},{provide:al,deps:[_o]},{provide:Zc,deps:[]},{provide:Ic,deps:[]}]),vl=[{provide:ll,useClass:ll,deps:[Vc,Ic,_o,Cn,Xs,wc]},{provide:Ra,deps:[Vc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:wc,useClass:wc,deps:[[new _,_c]]},{provide:Fc,useClass:Fc,deps:[]},Cc,{provide:ya,useFactory:function(){return ka},deps:[]},{provide:_a,useFactory:function(){return Ca},deps:[]},{provide:Tc,useFactory:function(t){return qa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(Tc),new _,new k]]},{provide:Dc,useValue:"USD"}];let yl=(()=>{class t{constructor(t){}}return t.\u0275mod=Rt({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(ut(ll))},providers:vl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},hPxs:function(t,e,n){"use strict";var r,i=n("kwwM"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n}(o)),e.replace(o,(function(t){return r[t]}))):e}}},ibx3:function(t,e,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("kwwM"),s=n("1eVo");function a(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",(function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=o.parse(e)}catch(c){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}i(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=a},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kwwM:function(t,e,n){(function(t){var r;(function(){var i=n("PDX0"),o={function:!0,object:!0},s=o[typeof e]&&e&&!e.nodeType&&e,a=o[typeof window]&&window||this,c=s&&o[typeof t]&&t&&!t.nodeType&&"object"==typeof global&&global;function l(t,e){t||(t=a.Object()),e||(e=a.Object());var n=t.Number||a.Number,r=t.String||a.String,i=t.Object||a.Object,s=t.Date||a.Date,c=t.SyntaxError||a.SyntaxError,u=t.TypeError||a.TypeError,d=t.Math||a.Math,h=t.JSON||a.JSON;"object"==typeof h&&h&&(e.stringify=h.stringify,e.parse=h.parse);var f=i.prototype,p=f.toString,g=f.hasOwnProperty;function m(t,e){try{t()}catch(n){e&&e()}}var b=new s(-0xc782b5b800cec);function v(t){if(null!=v[t])return v[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=v("json-stringify")&&v("date-serialization")&&v("json-parse");else if("date-serialization"==t){if(i=v("json-stringify")&&b){var o=e.stringify;m((function(){i='"-271821-04-20T00:00:00.000Z"'==o(new s(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new s(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new s(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new s(-1))}))}}else{var a,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var l="function"==typeof(o=e.stringify);l&&((a=function(){return 1}).toJSON=a,m((function(){l="0"===o(0)&&"0"===o(new n)&&'""'==o(new r)&&void 0===o(p)&&void 0===o(void 0)&&void 0===o()&&"1"===o(a)&&"[1]"==o([a])&&"[null]"==o([void 0])&&"null"==o(null)&&"[null,null,null]"==o([void 0,p,null])&&o({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===o(null,a)&&"[\n 1,\n 2\n]"==o([1,2],null,1)}),(function(){l=!1}))),i=l}if("json-parse"==t){var u,d=e.parse;"function"==typeof d&&m((function(){0!==d("0")||d(!1)||(a=d(c),(u=5==a.a.length&&1===a.a[0])&&(m((function(){u=!d('"\t"')})),u&&m((function(){u=1!==d("01")})),u&&m((function(){u=1!==d("1.")}))))}),(function(){u=!1})),i=u}}return v[t]=!!i}if(m((function(){b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()})),v["bug-string-char-index"]=v["date-serialization"]=v.json=v["json-stringify"]=v["json-parse"]=null,!v("json")){var y=v("bug-string-char-index"),_=function(t,e){var n,r,i,s=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)g.call(r,i)&&s++;return n=r=null,s?_=function(t,e){var n,r,i="[object Function]"==p.call(t);for(n in t)i&&"prototype"==n||!g.call(t,n)||(r="constructor"===n)||e(n);(r||g.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(t,e){var n,i,s="[object Function]"==p.call(t),a=!s&&"function"!=typeof t.constructor&&o[typeof t.hasOwnProperty]&&t.hasOwnProperty||g;for(n in t)s&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];)a.call(t,n)&&e(n)}),_(t,e)};if(!v("json-stringify")&&!v("date-serialization")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k=function(t,e){return("000000"+(e||0)).slice(-t)},C=function(t){var e,n,r,i,o,s,a,c,l;if(b)e=function(t){n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),c=t.getUTCSeconds(),l=t.getUTCMilliseconds()};else{var u=d.floor,h=[0,31,59,90,120,151,181,212,243,273,304,334],f=function(t,e){return h[e]+365*(t-1970)+u((t-1969+(e=+(e>1)))/4)-u((t-1901+e)/100)+u((t-1601+e)/400)};e=function(t){for(i=u(t/864e5),n=u(i/365.2425)+1970-1;f(n+1,0)<=i;n++);for(r=u((i-f(n,0))/30.42);f(n,r+1)<=i;r++);i=1+i-f(n,r),s=u((o=(t%864e5+864e5)%864e5)/36e5)%24,a=u(o/6e4)%60,c=u(o/1e3)%60,l=o%1e3}}return(C=function(t){return t>-1/0&&t<1/0?(e(t),t=(n<=0||n>=1e4?(n<0?"-":"+")+k(6,n<0?-n:n):k(4,n))+"-"+k(2,r+1)+"-"+k(2,i)+"T"+k(2,s)+":"+k(2,a)+":"+k(2,c)+"."+k(3,l)+"Z",n=r=i=s=a=c=l=null):t=null,t})(t)};if(v("json-stringify")&&!v("date-serialization")){function A(t){return C(this)}var E=e.stringify;e.stringify=function(t,e,n){var r=s.prototype.toJSON;s.prototype.toJSON=A;var i=E(t,e,n);return s.prototype.toJSON=r,i}}else{var x=function(t){var e=t.charCodeAt(0);return w[e]||"\\u00"+k(2,e.toString(16))},S=/[\x00-\x1f\x22\x5c]/g,I=function(t){return S.lastIndex=0,'"'+(S.test(t)?t.replace(S,x):t)+'"'},T=function(t,e,n,r,i,o,a){var c,l,d,h,f,g,b,v,y;if(m((function(){c=e[t]})),"object"==typeof c&&c&&(c.getUTCFullYear&&"[object Date]"==p.call(c)&&c.toJSON===s.prototype.toJSON?c=C(c):"function"==typeof c.toJSON&&(c=c.toJSON(t))),n&&(c=n.call(e,t,c)),null==c)return void 0===c?c:"null";switch("object"==(l=typeof c)&&(d=p.call(c)),d||l){case"boolean":case"[object Boolean]":return""+c;case"number":case"[object Number]":return c>-1/0&&c<1/0?""+c:"null";case"string":case"[object String]":return I(""+c)}if("object"==typeof c){for(b=a.length;b--;)if(a[b]===c)throw u();if(a.push(c),h=[],v=o,o+=i,"[object Array]"==d){for(g=0,b=c.length;g<b;g++)f=T(g,c,n,r,i,o,a),h.push(void 0===f?"null":f);y=h.length?i?"[\n"+o+h.join(",\n"+o)+"\n"+v+"]":"["+h.join(",")+"]":"[]"}else _(r||c,(function(t){var e=T(t,c,n,r,i,o,a);void 0!==e&&h.push(I(t)+":"+(i?" ":"")+e)})),y=h.length?i?"{\n"+o+h.join(",\n"+o)+"\n"+v+"}":"{"+h.join(",")+"}":"{}";return a.pop(),y}};e.stringify=function(t,e,n){var r,i,s,a;if(o[typeof e]&&e)if("[object Function]"==(a=p.call(e)))i=e;else if("[object Array]"==a){s={};for(var c,l=0,u=e.length;l<u;)c=e[l++],"[object String]"!=(a=p.call(c))&&"[object Number]"!=a||(s[c]=1)}if(n)if("[object Number]"==(a=p.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return T("",((c={})[""]=t,c),i,s,r,"",[])}}}if(!v("json-parse")){var D,R,O=r.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw D=R=null,c()},M=function(){for(var t,e,n,r,i,o=R,s=o.length;D<s;)switch(i=o.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=y?o.charAt(D):o[D],D++,t;case 34:for(t="@",D++;D<s;)if((i=o.charCodeAt(D))<32)P();else if(92==i)switch(i=o.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=N[i],D++;break;case 117:for(e=++D,n=D+4;D<n;D++)(i=o.charCodeAt(D))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||P();t+=O("0x"+o.slice(e,D));break;default:P()}else{if(34==i)break;for(i=o.charCodeAt(D),e=D;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++D);t+=o.slice(e,D)}if(34==o.charCodeAt(D))return D++,t;P();default:if(e=D,45==i&&(r=!0,i=o.charCodeAt(++D)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(D+1))>=48&&i<=57&&P(),r=!1;D<s&&(i=o.charCodeAt(D))>=48&&i<=57;D++);if(46==o.charCodeAt(D)){for(n=++D;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==D&&P(),D=n}if(101==(i=o.charCodeAt(D))||69==i){for(43!=(i=o.charCodeAt(++D))&&45!=i||D++,n=D;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==D&&P(),D=n}return+o.slice(e,D)}r&&P();var a=o.slice(D,D+4);if("true"==a)return D+=4,!0;if("fals"==a&&101==o.charCodeAt(D+4))return D+=5,!1;if("null"==a)return D+=4,null;P()}return"$"},L=function(t){var e,n;if("$"==t&&P(),"string"==typeof t){if("@"==(y?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());)n?","==t?"]"==(t=M())&&P():P():n=!0,","==t&&P(),e.push(L(t));return e}if("{"==t){for(e={};"}"!=(t=M());)n?","==t?"}"==(t=M())&&P():P():n=!0,","!=t&&"string"==typeof t&&"@"==(y?t.charAt(0):t[0])&&":"==M()||P(),e[t.slice(1)]=L(M());return e}P()}return t},j=function(t,e,n){var r=F(t,e,n);void 0===r?delete t[e]:t[e]=r},F=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==p.call(i))for(r=i.length;r--;)j(p,_,i);else _(i,(function(t){j(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return D=0,R=""+t,n=L(M()),"$"!=M()&&P(),D=R=null,e&&"[object Function]"==p.call(e)?F(((r={})[""]=n,r),"",e):n}}}return e.runInContext=l,e}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c),s&&!i)l(a,s);else{var u=a.JSON,d=a.JSON3,h=!1,f=l(a,a.JSON3={noConflict:function(){return h||(h=!0,a.JSON=u,a.JSON3=d,u=d=null),f}});a.JSON={parse:f.parse,stringify:f.stringify}}i&&(void 0===(r=(function(){return f}).call(e,n,e,t))||(t.exports=r))}).call(this)}).call(this,n("YuTi")(t))},l6Lj:function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mAIw:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return u}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(c){a=[6,c],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},moM4:function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},n6ct:function(t,e,n){"use strict";var r=n("Yh+D"),i=n("woL0"),o=n("kwwM"),s=n("uzES"),a=n("xSnx"),c=n("8fj+"),l=n("oOIF");t.exports=function(t,e){var n,u={};e.forEach((function(t){t.facadeTransport&&(u[t.facadeTransport.transportName]=t.facadeTransport)})),u[a.transportName]=a,t.bootstrap_iframe=function(){var e;c.currentWindowId=l.hash.slice(1),i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var a;try{a=o.parse(i.data)}catch(m){return}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var d;try{d=o.parse(a.data)}catch(m){break}var h=d[0],f=d[1],p=d[2],g=d[3];if(h!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+h+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(p,l.href)||!r.isOriginEqual(g,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+p+", "+g+")");e=new s(new u[f](p,g));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}})),c.postMessage("s")}}},nFlj:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function o(t){try{return encodeURIComponent(t)}catch(e){return null}}e.stringify=function(t,e){e=e||"";var n,i,s=[];for(i in"string"!=typeof e&&(e="?"),t)if(r.call(t,i)){if((n=t[i])||null!=n&&!isNaN(n)||(n=""),i=o(i),n=o(n),null===i||null===n)continue;s.push(i+"="+n)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,r={};e=n.exec(t);){var o=i(e[1]),s=i(e[2]);null===o||null===s||o in r||(r[o]=s)}return r}},nX0T:function(t,e,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("woL0"),s=n("JqAl"),a=n("Yh+D");function c(t,e,n){var i=this;r.call(this),setTimeout((function(){i._start(t,e,n)}),0)}i(c,r),c.prototype._start=function(t,e,n){var r=this,i=new global.XDomainRequest;e=a.addQuery(e,"t="+ +new Date),i.onerror=function(){r._error()},i.ontimeout=function(){r._error()},i.onprogress=function(){r.emit("chunk",200,i.responseText)},i.onload=function(){r.emit("finish",200,i.responseText),r._cleanup(!1)},this.xdr=i,this.unloadRef=o.unloadAdd((function(){r._cleanup(!0)}));try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(s){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!global.XDomainRequest||!s.hasDomain()),t.exports=c},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new u(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function l(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function d(t){this._store=t}function h(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new h(n)}function p(t){this._db=t}o(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(u,"_cursor",["direction","key","primaryKey","value"]),s(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new u(t,e._request)}))}))})})),d.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},d.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(d,"_store",["name","keyPath","indexNames","autoIncrement"]),s(d,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(d,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(d,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new d(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),a(h,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new d(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[d,l].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,d].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},nzop:function(t,e,n){"use strict";var r=n("P7XM"),i=n("kwwM"),o=n("raCH").EventEmitter,s=n("EBWB"),a=n("Yh+D"),c=n("8fj+"),l=n("woL0"),u=n("JYLm");function d(t,e,n){if(!d.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=u.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(i,(function(t){r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()})),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}r(d,o),d.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(t){if(a.isOriginEqual(t.origin,this.origin)){var e;try{e=i.parse(t.data)}catch(r){return}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(r){return}this.emit("close",n[0],n[1]),this.close()}}},d.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},d.prototype.send=function(t){this.postMessage("m",t)},d.enabled=function(){return c.iframeEnabled},d.transportName="iframe",d.roundTrips=2,t.exports=d},oOIF:function(t,e,n){"use strict";t.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},pxpQ:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new l(t,e))}}n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new d(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class d{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return d})),n.d(e,"setLogLevel",(function(){return h})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),u=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},d=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function h(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.r(e);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};n.d(e,"CONSTANTS",(function(){return o})),n.d(e,"Deferred",(function(){return g})),n.d(e,"ErrorFactory",(function(){return N})),n.d(e,"FirebaseError",(function(){return O})),n.d(e,"MAX_VALUE_MILLIS",(function(){return ut})),n.d(e,"RANDOM_FACTOR",(function(){return dt})),n.d(e,"Sha1",(function(){return J})),n.d(e,"areCookiesEnabled",(function(){return D})),n.d(e,"assert",(function(){return s})),n.d(e,"assertionError",(function(){return a})),n.d(e,"async",(function(){return et})),n.d(e,"base64",(function(){return l})),n.d(e,"base64Decode",(function(){return h})),n.d(e,"base64Encode",(function(){return u})),n.d(e,"base64urlEncodeWithoutPadding",(function(){return d})),n.d(e,"calculateBackoffMillis",(function(){return ht})),n.d(e,"contains",(function(){return U})),n.d(e,"createMockUserToken",(function(){return m})),n.d(e,"createSubscribe",(function(){return X})),n.d(e,"decode",(function(){return F})),n.d(e,"deepCopy",(function(){return f})),n.d(e,"deepEqual",(function(){return W})),n.d(e,"deepExtend",(function(){return p})),n.d(e,"errorPrefix",(function(){return it})),n.d(e,"extractQuerystring",(function(){return Z})),n.d(e,"getGlobal",(function(){return R})),n.d(e,"getModularInstance",(function(){return pt})),n.d(e,"getUA",(function(){return b})),n.d(e,"isAdmin",(function(){return V})),n.d(e,"isBrowser",(function(){return _})),n.d(e,"isBrowserExtension",(function(){return w})),n.d(e,"isElectron",(function(){return C})),n.d(e,"isEmpty",(function(){return H})),n.d(e,"isIE",(function(){return A})),n.d(e,"isIndexedDBAvailable",(function(){return I})),n.d(e,"isMobileCordova",(function(){return v})),n.d(e,"isNode",(function(){return y})),n.d(e,"isNodeSdk",(function(){return x})),n.d(e,"isReactNative",(function(){return k})),n.d(e,"isSafari",(function(){return S})),n.d(e,"isUWP",(function(){return E})),n.d(e,"isValidFormat",(function(){return Q})),n.d(e,"isValidTimestamp",(function(){return B})),n.d(e,"issuedAtTime",(function(){return z})),n.d(e,"jsonEval",(function(){return L})),n.d(e,"map",(function(){return G})),n.d(e,"ordinal",(function(){return ft})),n.d(e,"querystring",(function(){return $})),n.d(e,"querystringDecode",(function(){return Y})),n.d(e,"safeGet",(function(){return q})),n.d(e,"stringLength",(function(){return lt})),n.d(e,"stringToByteArray",(function(){return ct})),n.d(e,"stringify",(function(){return j})),n.d(e,"validateArgCount",(function(){return rt})),n.d(e,"validateCallback",(function(){return st})),n.d(e,"validateContextObject",(function(){return at})),n.d(e,"validateIndexedDBOpenable",(function(){return T})),n.d(e,"validateNamespace",(function(){return ot}));var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},c=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=(15&a)<<2|l>>6,d=63&l;c||(d=64,s||(u=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[u],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=c(t);return l.encodeByteArray(e,!0)},d=function(t){return u(t).replace(/\./g,"")},h=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=p(t[n],e[n]));return t}var g=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function m(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(s)),""].join(".")}function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function _(){return"object"==typeof self&&self.self===self}function w(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function k(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){return b().indexOf("Electron/")>=0}function A(){var t=b();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E(){return b().indexOf("MSAppHost/")>=0}function x(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function D(){return!(!navigator||!navigator.cookieEnabled)}function R(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var O=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?P(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new O(i,a,r);return c},t}();function P(t,e){return t.replace(M,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var M=/\{\$([^}]+)}/g;function L(t){return JSON.parse(t)}function j(t){return JSON.stringify(t)}var F=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=L(h(o[0])||""),n=L(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},B=function(t){var e=F(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},z=function(t){var e=F(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},Q=function(t){var e=F(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},V=function(t){var e=F(t).claims;return"object"==typeof e&&!0===e.admin};function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function H(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function G(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function W(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){if(!r.includes(u=o[i]))return!1;var s=t[u],a=e[u];if(K(s)&&K(a)){if(!W(s,a))return!1}else if(s!==a)return!1}for(var c=0,l=r;c<l.length;c++){var u;if(!n.includes(u=l[c]))return!1}return!0}function K(t){return null!==t&&"object"==typeof t}function $(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function Y(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}})),e}function Z(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var J=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((d=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|d>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(c^l),o=1518500249):(i=a^c^l,o=1859775393):r<60?(i=a&c|l&(a|c),o=2400959708):(i=a^c^l,o=3395469782);var d=(s<<5|s>>>27)+i+u+o+n[r]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function X(t,e){var n=new tt(t,e);return n.subscribe.bind(n)}var tt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=nt),void 0===r.error&&(r.error=nt),void 0===r.complete&&(r.complete=nt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function et(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function nt(){}var rt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function it(t,e){return t+" failed: "+e+" argument "}function ot(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(it(t,"namespace")+"must be a valid firebase namespace.")}function st(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(it(t,e)+"must be a valid function.")}function at(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(it(t,e)+"must be a valid context object.")}var ct=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},lt=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},ut=144e5,dt=.5;function ht(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(dt*r*(Math.random()-.5)*2);return Math.min(ut,r+i)}function ft(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function pt(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}n.d(e,"a",(function(){return a}));const a=new s(i)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();n.d(e,"a",(function(){return a}));let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(u){e=u instanceof s?c(u.errors):[u]}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof s?e=e.concat(c(u.errors)):e.push(u)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},raCH:function(t,e,n){"use strict";var r=n("P7XM"),i=n("l6Lj");function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},o.prototype.once=function(t,e){var n=this,r=!1;this.on(t,(function i(){n.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}))},o.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var n=arguments.length,r=new Array(n-1),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,t.exports.EventEmitter=o},sYUk:function(t,e,n){"use strict";var r=n("P7XM"),i=n("dXd4"),o=n("FUii"),s=n("nX0T");function a(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}r(a,i),a.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&s.enabled&&t.sameScheme},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return p}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class d{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class h{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new d(Zone.current)),this.insideAngular=t.run(()=>new d(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new h(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=new c.q("angularfire2.app.options"),m=new c.q("angularfire2.app.nameOrConfig"),b=new c.N("6.1.5");function v(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&y("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const y=(t,...e)=>{Object(c.U)()&&"undefined"!=typeof console&&console[t](...e)};function _(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&y("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const w={provide:class{},useFactory:v,deps:[g,c.z,[new c.A,m]]};let k=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",b.full,t.toString()),l.a.registerVersion("angular",c.M.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:g,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)(c.Vb(c.B))},providers:[w]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const c={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var l=n("3N8a");class u extends l.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var d=n("IjjT");class h extends d.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(u);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}n.d(e,"a",(function(){return m}));class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uajq:function(t,e,n){"use strict";var r=n("raCH").EventEmitter,i=n("P7XM"),o=n("Yh+D"),s=n("nX0T"),a=n("3wkl"),c=n("c6pU"),l=n("9wH6"),u=n("fCBv"),d=n("ibx3");function h(t,e){var n=this;r.call(this),setTimeout((function(){n.doXhr(t,e)}),0)}i(h,r),h._getReceiver=function(t,e,n){return n.sameOrigin?new d(e,c):a.enabled?new d(e,a):s.enabled&&n.sameScheme?new d(e,s):u.enabled()?new u(t,e):new d(e,l)},h.prototype.doXhr=function(t,e){var n=this,r=o.addPath(t,"/info");this.xo=h._getReceiver(t,r,e),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),h.timeout),this.xo.once("finish",(function(t,e){n._cleanup(!0),n.emit("finish",t,e)}))},h.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,t.exports=h},uzES:function(t,e,n){"use strict";var r=n("kwwM"),i=n("8fj+");function o(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},o.prototype._transportMessage=function(t){i.postMessage("t",t)},o.prototype._send=function(t){this._transport.send(t)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},v0om:function(t,e,n){"use strict";var r,i,o=n("JYLm"),s=n("Yh+D");t.exports=function(t,e,n){r||((r=global.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=global.document.createElement("textarea")).name="d",r.appendChild(i),global.document.body.appendChild(r));var a="a"+o.string(8);r.target=a,r.action=s.addQuery(s.addPath(t,"/jsonp_send"),"i="+a);var c=function(t){try{return global.document.createElement('<iframe name="'+t+'">')}catch(n){var e=global.document.createElement("iframe");return e.name=t,e}}(a);c.id=a,c.style.display="none",r.appendChild(c);try{i.value=e}catch(u){}r.submit();var l=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout((function(){c.parentNode.removeChild(c),c=null}),500),i.value="",n(t))};return c.onerror=function(){l()},c.onload=function(){l()},c.onreadystatechange=function(t){"complete"===c.readyState&&l()},function(){l(new Error("Aborted"))}}},vkgz:function(t,e,n){"use strict";var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}n.d(e,"a",(function(){return s}));class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},woL0:function(t,e,n){"use strict";var r=n("JYLm"),i={},o=!1,s=global.chrome&&global.chrome.app&&global.chrome.app.runtime;t.exports={attachEvent:function(t,e){void 0!==global.addEventListener?global.addEventListener(t,e,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+t,e),global.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==global.addEventListener?global.removeEventListener(t,e,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+t,e),global.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}},s||t.exports.attachEvent("unload",(function(){o||(o=!0,t.exports.triggerUnloadCallbacks())}))},xDdU:function(t,e,n){var r,i,o=n("4fRq"),s=n("I2ZF"),a=0,c=0;t.exports=function(t,e,n){var l=e&&n||0,u=e||[],d=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:i;if(null==d||null==h){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=i=16383&(f[6]<<8|f[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:c+1,m=p-a+(g-c)/1e4;if(m<0&&void 0===t.clockseq&&(h=h+1&16383),(m<0||p>a)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=g,i=h;var b=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;u[l++]=b>>>24&255,u[l++]=b>>>16&255,u[l++]=b>>>8&255,u[l++]=255&b;var v=p/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=h>>>8|128,u[l++]=255&h;for(var y=0;y<6;++y)u[l+y]=d[y];return e||s(u)}},xSnx:function(t,e,n){"use strict";var r=n("P7XM"),i=n("raCH").EventEmitter,o=n("kwwM"),s=n("c6pU"),a=n("ibx3");function c(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",(function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))}))}r(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=c},xk4V:function(t,e,n){var r=n("4fRq"),i=n("I2ZF");t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},xutz:function(t,e,n){"use strict";(function(t){var r=n("XqMk"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&r.a.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n("3UD+")(t))},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yjSe:function(t,e){t.exports=global.EventSource},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},"z+YZ":function(t,e,n){"use strict";t.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(t){var e=new Uint8Array(t);return global.crypto.getRandomValues(e),e}:function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zH15:function(t,e,n){"use strict";var r=n("aUWK");t.exports=n("SGzc")(r),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},zIRd:function(t,e,n){"use strict";n.r(e);var r,i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=n("qOnz"),s=n("/6Yf"),a=n("q/0M");n.d(e,"firebase",(function(){return y}));var c,l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new o.ErrorFactory("app","Firebase",l),d=((c={})["@firebase/app"]="fire-core",c["@firebase/analytics"]="fire-analytics",c["@firebase/app-check"]="fire-app-check",c["@firebase/auth"]="fire-auth",c["@firebase/database"]="fire-rtdb",c["@firebase/functions"]="fire-fn",c["@firebase/installations"]="fire-iid",c["@firebase/messaging"]="fire-fcm",c["@firebase/performance"]="fire-perf",c["@firebase/remote-config"]="fire-rc",c["@firebase/storage"]="fire-gcs",c["@firebase/firestore"]="fire-fst",c["fire-js"]="fire-js",c["firebase-wrapper"]="fire-js-all",c),h=new a.Logger("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){h.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(o.contains)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void h.warn(l.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(a.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.contains)(e,t))throw u.create("no-app",{appName:t});return e[t]}function c(s){var a=s.name;if(n.has(a))return h.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.deepExtend)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,s.multipleInstances?t:[])}}for(var l=0,d=Object.keys(e);l<d.length;l++)e[d[l]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=i(i({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.deepExtend)(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.isBrowser)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.isNode)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var v,y=p;(v=y).INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),v.registerVersion("@firebase/app","0.6.30",void 0),v.registerVersion("fire-js",""),e.default=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i="https://trungdc.synology.me:5152/auction",o={production:!1,firebaseConfig:{apiKey:"AIzaSyDV8RZyn7riFw087ES5nA05z4ON5axBO28",authDomain:"test-42050.firebaseapp.com",databaseURL:"https://test-42050-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"test-42050",storageBucket:"test-42050.appspot.com",messagingSenderId:"902879698828",appId:"1:902879698828:web:2d7346b0c1c599d08540a9",measurementId:"G-XEHPX24EFX"},categoryUrl:i+"/api/v1/products/category",priceStepUrl:i+"/api/v1/products/priceStep",transactionUrl:i+"/auction/api/transaction",productSearchUrl:i+"/api/v1/products/search",userUrl:i+"/api/v1/users",urlAddAccountUser:i+"/api/user/v1/add",api_url_products:i+"/api/v1/products",api_url_list_price_step:i+"/api/v1/pricestep",api_url_list_category:i+"/api/v1/category",api_url_list_user:i+"/api/v1/users",api_url_list_img_url:i+"/api/v1/users/{id}",API_URL_AUCTION:i+"/api/v1/auction",api_url_order_status:i+"/api/v1/payments",API_TOP_USER:i+"/api/user/v1/top",api_url_list_price_range:i+"/api/v1/product-properties/price-range",api_url_list_auction_status:i+"/api/v1/product-properties/auction-status",api_url_search_by_list_id:i+"/api/v1/products/find-by-list-id",api_url_remove_products:i+"/api/v1/products/remove",api_url_find_by_id:i+"/api/v1/products/find-by-id/",api_url_review_product:i+"/api/v1/products/review/",api_url_write_reason:i+"/api/v1/products/reason",api_url_get_reason:i+"/api/v1/products/reason/",api_url_do_not_review_product:i+"/api/v1/products/do-not-review/",api_url_get_imgs:i+"/api/v1/products/imgs/",api_url_list_user_list_id:i+"/api/v1/users/find-by-list-id",transactionDeleteUrl:i+"/api/v1/auction/delete",transactionFindByListIdUrl:i+"/api/v1/auction/find-by-list-id",api_url_userType:i+"/api/v1/users/usersType",productUrl:i+"/api/v1/products",imageUrl:i+"/api/v1/products/img",API_URL_GUIDE:i+"/api/v1/guide",SIGN_IN_API:i+"/api/v1/auth/signin",GOOGLE_SIGN_IN_API:i+"/api/v1/auth/google",uri_api_create_user_v1_user:i+"/api/v1/users/create",api_url_create_img_url:i+"/api/v1/products/img/create",uri_api_update_user_v1_user:i+"/api/v1/users/update",uri_api_find_by_id_user_v1_user:i+"/api/v1/users/find/",LOGIN_API:i+"/api/auth/login",GOOGLE_LOGIN_API:i+"/api/auth/google",DIA_GIOI_VIETNAM_API:"https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json"};let s=null;function a(){return s}const c=new r.q("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Vb)(h)}const d=new r.q("Location Initialized");let h=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=Object(r.Ib)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new h(Object(r.Vb)(c))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Vb)(c).location;return new w(Object(r.Vb)(l),e&&e.origin||"")}const _=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(l),r.Vb(_,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(l),r.Vb(_,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(v),r.Vb(l))},t.normalizeQueryParams=b,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Ib)({factory:A,token:t,providedIn:"root"}),t})();function A(){return new C(Object(r.Vb)(v),Object(r.Vb)(l))}function E(t){return t.replace(/\/index.html$/,"")}const x={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},S=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),I=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),T=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),D=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),R=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),O=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function N(t,e){return z(Object(r.jb)(t)[r.Z.DateFormat],e)}function P(t,e){return z(Object(r.jb)(t)[r.Z.TimeFormat],e)}function M(t,e){return z(Object(r.jb)(t)[r.Z.DateTimeFormat],e)}function L(t,e){const n=Object(r.jb)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===O.CurrencyDecimal)return n[r.Z.NumberSymbols][O.Decimal];if(e===O.CurrencyGroup)return n[r.Z.NumberSymbols][O.Group]}return i}function j(t,e){return Object(r.jb)(t)[r.Z.NumberFormats][e]}const F=r.mb;function B(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function z(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Q(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,U={},q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,H=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),G=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),W=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Y(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Z(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case G.FullYear:return e.getFullYear();case G.Month:return e.getMonth();case G.Date:return e.getDate();case G.Hours:return e.getHours();case G.Minutes:return e.getMinutes();case G.Seconds:return e.getSeconds();case G.FractionalSeconds:return e.getMilliseconds();case G.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===G.Hours)0===a&&-12===n&&(a=12);else if(t===G.FractionalSeconds)return c=e,Y(a,3).substr(0,c);var c;const l=L(s,O.MinusSign);return Y(a,e,l,r,i)}}function J(t,e,n=T.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case W.Months:return function(t,e,n){const i=Object(r.jb)(t),o=z([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return z(o,n)}(e,o,i)[t.getMonth()];case W.Days:return function(t,e,n){const i=Object(r.jb)(t),o=z([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return z(o,n)}(e,o,i)[t.getDay()];case W.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(r.jb)(t);return B(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?Q(t):[Q(t[0]),Q(t[1])])}(e),n=function(t,e,n){const i=Object(r.jb)(t);B(i);const o=z([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return z(o,n)||[]}(e,o,i);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:o,minutes:l}=t[1];a>=r&&c>=i&&(a<o||a===o&&c<l)&&(s=n[e])}else{const{hours:r,minutes:i}=t;r===a&&i===c&&(s=n[e])}}),s)return s}return function(t,e,n){const i=Object(r.jb)(t),o=z([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return z(o,n)}(e,o,i)[a<12?0:1];case W.Eras:return function(t,e){return z(Object(r.jb)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(o,s,t,e,n,i)}}function X(t){return function(e,n,r){const i=-1*r,o=L(n,O.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case H.Short:return(i>=0?"+":"")+Y(s,2,o)+Y(Math.abs(i%60),2,o);case H.ShortGMT:return"GMT"+(i>=0?"+":"")+Y(s,1,o);case H.Long:return"GMT"+(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);case H.Extended:return 0===r?"Z":(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function tt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Y(i,t,L(r,O.MinusSign))}}const et={};function nt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function rt(t){return t instanceof Date&&!isNaN(t.valueOf())}const it=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ot(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let l=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(o){const t=o.match(it);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(u=at(e)),null!=n&&(d=at(n)),null!=r?h=at(r):null!=n&&d>h&&(h=d)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=e+t.integerLen,u=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),e>=10?1:0}),0);u&&(r.unshift(u),t.integerLen++)}(l,d,h);let f=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=f.every(t=>!t);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(L(n,r)),m.length&&(a+=L(n,i)+m.join("")),g&&(a+=L(n,O.Exponential)+"+"+g)}else a=L(n,O.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function st(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function at(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ct{}let lt=(()=>{class t extends ct{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(F(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.u))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function ut(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let dt=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.s),r.Mb(r.t),r.Mb(r.l),r.Mb(r.D))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ht{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ht(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new pt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new pt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.O),r.Mb(r.K),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class pt{constructor(t,e){this.record=t,this.view=e}}let gt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.O),r.Mb(r.K))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class mt{constructor(){this.$implicit=null,this.ngIf=null}}function bt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}function vt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}const yt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let _t=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw vt(t,e);return e.replace(yt,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"titlecase",type:t,pure:!0}),t})(),wt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let o=function(t){if(rt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,l),e}(n)}const e=new Date(t);if(!rt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.jb)(t)[r.Z.LocaleId]}(e);if(U[i]=U[i]||{},U[i][n])return U[i][n];let o="";switch(n){case"shortDate":o=N(e,R.Short);break;case"mediumDate":o=N(e,R.Medium);break;case"longDate":o=N(e,R.Long);break;case"fullDate":o=N(e,R.Full);break;case"shortTime":o=P(e,R.Short);break;case"mediumTime":o=P(e,R.Medium);break;case"longTime":o=P(e,R.Long);break;case"fullTime":o=P(e,R.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=K(M(e,R.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=K(M(e,R.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");o=K(M(e,R.Long),[a,c]);break;case"full":const l=t(e,"fullTime"),u=t(e,"fullDate");o=K(M(e,R.Full),[l,u])}return o&&(U[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=q.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let c=o.getTimezoneOffset();i&&(c=nt(i,c),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(nt(e,r)-r))}(o,i));let l="";return a.forEach(t=>{const e=function(t){if(et[t])return et[t];let e;switch(t){case"G":case"GG":case"GGG":e=J(W.Eras,D.Abbreviated);break;case"GGGG":e=J(W.Eras,D.Wide);break;case"GGGGG":e=J(W.Eras,D.Narrow);break;case"y":e=Z(G.FullYear,1,0,!1,!0);break;case"yy":e=Z(G.FullYear,2,0,!0,!0);break;case"yyy":e=Z(G.FullYear,3,0,!1,!0);break;case"yyyy":e=Z(G.FullYear,4,0,!1,!0);break;case"M":case"L":e=Z(G.Month,1,1);break;case"MM":case"LL":e=Z(G.Month,2,1);break;case"MMM":e=J(W.Months,D.Abbreviated);break;case"MMMM":e=J(W.Months,D.Wide);break;case"MMMMM":e=J(W.Months,D.Narrow);break;case"LLL":e=J(W.Months,D.Abbreviated,T.Standalone);break;case"LLLL":e=J(W.Months,D.Wide,T.Standalone);break;case"LLLLL":e=J(W.Months,D.Narrow,T.Standalone);break;case"w":e=tt(1);break;case"ww":e=tt(2);break;case"W":e=tt(1,!0);break;case"d":e=Z(G.Date,1);break;case"dd":e=Z(G.Date,2);break;case"E":case"EE":case"EEE":e=J(W.Days,D.Abbreviated);break;case"EEEE":e=J(W.Days,D.Wide);break;case"EEEEE":e=J(W.Days,D.Narrow);break;case"EEEEEE":e=J(W.Days,D.Short);break;case"a":case"aa":case"aaa":e=J(W.DayPeriods,D.Abbreviated);break;case"aaaa":e=J(W.DayPeriods,D.Wide);break;case"aaaaa":e=J(W.DayPeriods,D.Narrow);break;case"b":case"bb":case"bbb":e=J(W.DayPeriods,D.Abbreviated,T.Standalone,!0);break;case"bbbb":e=J(W.DayPeriods,D.Wide,T.Standalone,!0);break;case"bbbbb":e=J(W.DayPeriods,D.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=J(W.DayPeriods,D.Abbreviated,T.Format,!0);break;case"BBBB":e=J(W.DayPeriods,D.Wide,T.Format,!0);break;case"BBBBB":e=J(W.DayPeriods,D.Narrow,T.Format,!0);break;case"h":e=Z(G.Hours,1,-12);break;case"hh":e=Z(G.Hours,2,-12);break;case"H":e=Z(G.Hours,1);break;case"HH":e=Z(G.Hours,2);break;case"m":e=Z(G.Minutes,1);break;case"mm":e=Z(G.Minutes,2);break;case"s":e=Z(G.Seconds,1);break;case"ss":e=Z(G.Seconds,2);break;case"S":e=Z(G.FractionalSeconds,1);break;case"SS":e=Z(G.FractionalSeconds,2);break;case"SSS":e=Z(G.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(H.Short);break;case"ZZZZZ":e=X(H.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(H.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(H.Long);break;default:return null}return et[t]=e,e}(t);l+=e?e(o,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,o||this.locale,i)}catch(s){throw vt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.u))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),kt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(At(e))return null;r=r||this._locale;try{return function(t,e,n){return ot(t,st(j(e,S.Decimal),L(e,O.MinusSign)),e,O.Group,O.Decimal,n)}(Et(e),r,n)}catch(i){throw vt(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.u))},t.\u0275pipe=r.Lb({name:"number",type:t,pure:!0}),t})(),Ct=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",o,s){if(At(e))return null;s=s||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.jb)(t)[r.Z.Currencies]}(n)[t]||x[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}(a,"symbol"===i?"wide":"narrow",s):i);try{return function(t,e,n,r,i){const o=st(j(e,S.Currency),L(e,O.MinusSign));return o.minFrac=function(t){let e;const n=x[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,ot(t,o,e,O.CurrencyGroup,O.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(Et(e),s,a,n,o)}catch(c){throw vt(t,c.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.u),r.Mb(r.k))},t.\u0275pipe=r.Lb({name:"currency",type:t,pure:!0}),t})();function At(t){return null==t||""===t||t!=t}function Et(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}let xt=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:ct,useClass:lt}]}),t})(),St=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new It(Object(r.Vb)(c),window,Object(r.Vb)(r.m))}),t})();class It{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(kR){this.errorHandler.handleError(kR)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Tt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Tt,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Rt||(Rt=document.querySelector("base"),Rt)?Rt.getAttribute("href"):null;return null==e?null:(n=e,Dt||(Dt=document.createElement("a")),Dt.setAttribute("href",n),"/"===Dt.pathname.charAt(0)?Dt.pathname:"/"+Dt.pathname);var n}resetBaseElement(){Rt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return ut(document.cookie,t)}}let Dt,Rt=null;const Ot=new r.q("TRANSITION_ID"),Nt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ot,c,r.r],multi:!0}];class Pt{static init(){Object(r.W)(new Pt)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Mt=new r.q("EventManagerPlugins");let Lt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Mt),r.Vb(r.z))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class jt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ft=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Bt=(()=>{class t extends Ft{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qt=/%COMP%/g;function Vt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Vt(t,i,n):(i=i.replace(Qt,t),n.push(i))}return n}function Ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let qt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Gt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.P.Native:case r.P.ShadowDom:return new Wt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Vt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Lt),r.Vb(Bt),r.Vb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(zt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=zt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=zt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ut(n)):this.eventManager.addEventListener(t,e,Ut(n))}}class Gt extends Ht{constructor(t,e,n,r){super(t),this.component=n;const i=Vt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Qt,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Qt,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Wt extends Ht{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Vt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kt=(()=>{class t extends jt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const $t=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Xt=(()=>{class t extends jt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if($t.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Zt.hasOwnProperty(e)&&(e=Zt[e]))}return Yt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),$t.forEach(r=>{r!=n&&(0,Jt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),te=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return Object(r.Vb)(ee)},token:t,providedIn:"root"}),t})(),ee=(()=>{class t extends te{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.db)(e,"HTML")?Object(r.wb)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.db)(e,"Style")?Object(r.wb)(e):Object(r.bb)(e);case r.H.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.wb)(e):Object(r.cb)(String(e));case r.H.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=Object(r.Ib)({factory:function(){return t=Object(r.Vb)(r.o),new ee(t.get(c));var t},token:t,providedIn:"root"}),t})();const ne=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Tt.makeCurrent(),Pt.init()},multi:!0},{provide:c,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],re=Object(r.R)(r.V,"browser",ne),ie=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Mt,useClass:Kt,multi:!0,deps:[c,r.z,r.B]},{provide:Mt,useClass:Xt,multi:!0,deps:[c]},[],{provide:qt,useClass:qt,deps:[Lt,Bt,r.c]},{provide:r.E,useExisting:qt},{provide:Ft,useExisting:Bt},{provide:Bt,useClass:Bt,deps:[c]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Lt,useClass:Lt,deps:[Mt,r.z]},[]];let oe=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Ot,useExisting:r.c},Nt]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Vb(t,12))},providers:ie,imports:[xt,r.f]}),t})();function se(){return new ae(Object(r.Vb)(c))}let ae=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=Object(r.Ib)({factory:se,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var ce=n("LRne"),le=n("Cfvw"),ue=n("XNiG"),de=n("9ppp");class he extends ue.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new de.a;return this._value}next(t){super.next(this._value=t)}}var fe=n("HDdC");const pe=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ge=n("z+Ro"),me=n("DH7j"),be=n("l7GE"),ve=n("ZUHj"),ye=n("yCtX");const _e={};class we{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ke(t,this.resultSelector))}}class ke extends be.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(_e),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(ve.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===_e?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Ce=n("EY2u");function Ae(t){return new fe.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(le.a)(n):Object(Ce.b)()).subscribe(e)})}var Ee=n("lJxs"),xe=n("bHdf");function Se(){return Object(xe.a)(1)}var Ie=n("7o/Q");function Te(t,e){return function(n){return n.lift(new De(t,e))}}class De{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Re(t,this.predicate,this.thisArg))}}class Re extends Ie.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Oe=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ne(t){return function(e){return 0===t?Object(Ce.b)():e.lift(new Pe(t))}}class Pe{constructor(t){if(this.total=t,this.total<0)throw new Oe}call(t,e){return e.subscribe(new Me(t,this.total))}}class Me extends Ie.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Le(t=Be){return e=>e.lift(new je(t))}class je{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Fe(t,this.errorFactory))}}class Fe extends Ie.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(kR){t=kR}this.destination.error(t)}}}function Be(){return new pe}function ze(t=null){return e=>e.lift(new Qe(t))}class Qe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ve(t,this.defaultValue))}}class Ve extends Ie.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ue=n("SpAZ");function qe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Te((e,n)=>t(e,n,r)):Ue.a,Ne(1),n?ze(e):Le(()=>new pe))}var He=n("51Dv");function Ge(t){return function(e){const n=new We(t),r=e.lift(n);return n.caught=r}}class We{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ke(t,this.selector,this.caught))}}class Ke extends be.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new He.a(this,void 0,void 0);this.add(r);const i=Object(ve.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function $e(t){return e=>0===t?Object(Ce.b)():e.lift(new Ye(t))}class Ye{constructor(t){if(this.total=t,this.total<0)throw new Oe}call(t,e){return e.subscribe(new Ze(t,this.total))}}class Ze extends Ie.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Je(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Te((e,n)=>t(e,n,r)):Ue.a,$e(1),n?ze(e):Le(()=>new pe))}var Xe=n("5+tZ");class tn{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new en(t,this.predicate,this.thisArg,this.source))}}class en extends Ie.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function nn(t,e){return"function"==typeof e?n=>n.pipe(nn((n,r)=>Object(le.a)(t(n,r)).pipe(Object(Ee.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new rn(t))}class rn{constructor(t){this.project=t}call(t,e){return e.subscribe(new on(t,this.project))}}class on extends be.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new He.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(ve.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function sn(...t){return Se()(Object(ce.a)(...t))}function an(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new cn(t,e,n))}}class cn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ln(t,this.accumulator,this.seed,this.hasSeed))}}class ln extends Ie.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function un(t,e){return Object(Xe.a)(t,e,1)}var dn=n("mCNh"),hn=n("vkgz"),fn=n("quSY");function pn(t){return e=>e.lift(new gn(t))}class gn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mn(t,this.callback))}}class mn extends Ie.a{constructor(t,e){super(t),this.add(new fn.a(e))}}class bn{constructor(t,e){this.id=t,this.url=e}}class vn extends bn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yn extends bn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _n extends bn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wn extends bn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kn extends bn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends bn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends bn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class En extends bn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn extends bn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class In{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Pn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Fi]},encapsulation:2}),t})();class Mn{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ln(t){return new Mn(t)}function jn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Fn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Bn{constructor(t,e){this.routes=t,this.module=e}}function zn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Qn(r,Vn(e,r))}}function Qn(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&zn(t.children,e)}function Vn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Un(t){const e=t.children&&t.children.map(Un),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Pn),n}function qn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Hn(t[i],e[i]))return!1;return!0}function Hn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Gn(t){return Array.prototype.concat.apply([],t)}function Wn(t){return t.length>0?t[t.length-1]:null}function Kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $n(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(le.a)(Promise.resolve(t)):Object(ce.a)(t)}function Yn(t,e,n){return n?function(t,e){return qn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!tr(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Hn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!tr(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!tr(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!tr(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Zn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return ir.serialize(this)}}class Jn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Kn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class Xn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ln(this.parameters)),this._parameterMap}toString(){return dr(this)}}function tr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function er(t,e){let n=[];return Kn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Kn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class nr{}class rr{parse(t){const e=new mr(t);return new Zn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return or(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Kn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=er(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${or(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ar(e)}=${ar(t)}`).join("&"):`${ar(e)}=${ar(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ir=new rr;function or(t){return t.segments.map(t=>dr(t)).join("/")}function sr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ar(t){return sr(t).replace(/%3B/gi,";")}function cr(t){return sr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lr(t){return decodeURIComponent(t)}function ur(t){return lr(t.replace(/\+/g,"%20"))}function dr(t){return`${cr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cr(t)}=${cr(e[t])}`).join("")}`;var e}const hr=/^[^\/()?;=#]+/;function fr(t){const e=t.match(hr);return e?e[0]:""}const pr=/^[^=?&#]+/,gr=/^[^?&#]+/;class mr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Jn(t,e)),n}parseSegment(){const t=fr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xn(lr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=fr(this.remaining);t&&(n=t,this.capture(n))}t[lr(e)]=lr(n)}parseQueryParam(t){const e=function(t){const e=t.match(pr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(gr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ur(e),i=ur(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=fr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Jn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class br{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=vr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=vr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yr(t,this._root).map(t=>t.value)}}function vr(t,e){if(t===e.value)return e;for(const n of e.children){const e=vr(t,n);if(e)return e}return null}function yr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yr(t,n);if(r.length)return r.unshift(e),r}return[]}class _r{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class kr extends br{constructor(t,e){super(t),this.snapshot=e,Ir(this,t)}toString(){return this.snapshot.toString()}}function Cr(t,e){const n=function(t,e){const n=new xr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Sr("",new _r(n,[]))}(t,e),r=new he([new Xn("",{})]),i=new he({}),o=new he({}),s=new he({}),a=new he(""),c=new Ar(r,i,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new kr(new _r(c,[]),n)}class Ar{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ee.a)(t=>Ln(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ee.a)(t=>Ln(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Er(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xr{constructor(t,e,n,r,i,o,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sr extends br{constructor(t,e){super(e),this.url=t,Ir(this,e)}toString(){return Tr(this._root)}}function Ir(t,e){e.value._routerState=t,e.children.forEach(e=>Ir(t,e))}function Tr(t){const e=t.children.length>0?` { ${t.children.map(Tr).join(", ")} } `:"";return`${t.value}${e}`}function Dr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rr(t,e){return qn(t.params,e.params)&&function(t,e){return tr(t,e)&&t.every((t,n)=>qn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rr(t.parent,e.parent))}function Or(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nr(t,e,n,r,i){let o={};return r&&Kn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Zn(n.root===t?e:function t(e,n,r){const i={};return Kn(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Jn(e.segments,i)}(n.root,t,e),o,i)}class Pr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Or(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Wn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Lr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function jr(t,e,n){if(t||(t=new Jn([],{})),0===t.segments.length&&t.hasChildren())return Fr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Lr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Vr(s,a,e))return o;r+=2}else{if(!Vr(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Jn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Jn(t.segments.slice(r.pathIndex),t.children),Fr(e,0,i)}return r.match&&0===i.length?new Jn(t.segments,{}):r.match&&!t.hasChildren()?Br(t,e,n):r.match?Fr(t,0,i):Br(t,e,n)}function Fr(t,e,n){if(0===n.length)return new Jn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Kn(r,(n,r)=>{null!==n&&(i[r]=jr(t.children[r],e,n))}),Kn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Jn(t.segments,i)}}function Br(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=zr(n[i].outlets);return new Jn(r,t)}if(0===i&&Or(n[0])){r.push(new Xn(t.segments[e].path,n[0])),i++;continue}const o=Lr(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Or(s)?(r.push(new Xn(o,Qr(s))),i+=2):(r.push(new Xn(o,{})),i++)}return new Jn(r,{})}function zr(t){const e={};return Kn(t,(t,n)=>{null!==t&&(e[n]=Br(new Jn([],{}),0,t))}),e}function Qr(t){const e={};return Kn(t,(t,n)=>e[n]=""+t),e}function Vr(t,e,n){return t==n.path&&qn(e,n.parameters)}class Ur{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=wr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Kn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=wr(t),i=t.value.component?n.children:e;Kn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=wr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new On(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Dn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),qr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function qr(t){Dr(t.value),t.children.forEach(qr)}function Hr(t){return"function"==typeof t}function Gr(t){return t instanceof Zn}class Wr{constructor(t){this.segmentGroup=t||null}}class Kr{constructor(t){this.urlTree=t}}function $r(t){return new fe.a(e=>e.error(new Wr(t)))}function Yr(t){return new fe.a(e=>e.error(new Kr(t)))}function Zr(t){return new fe.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Jr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Ee.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ge(t=>{if(t instanceof Kr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Wr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Ee.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Ge(t=>{if(t instanceof Wr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Jn([],{primary:t}):t;return new Zn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ee.a)(t=>new Jn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(ce.a)({});const n=[],r=[],i={};return Kn(t,(t,o)=>{const s=e(o,t).pipe(Object(Ee.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),ce.a.apply(null,n.concat(r)).pipe(Se(),qe(),Object(Ee.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(ce.a)(...n).pipe(Object(Ee.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ge(t=>{if(t instanceof Wr)return Object(ce.a)(null);throw t}))),Se(),Je(t=>!!t),Ge((t,n)=>{if(t instanceof pe||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(ce.a)(new Jn([],{}));throw new Wr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ni(r)!==o?$r(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):$r(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yr(i):this.lineralizeSegments(n,i).pipe(Object(Xe.a)(n=>{const i=new Jn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Xr(e,r,i);if(!s)return $r(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Yr(u):this.lineralizeSegments(r,u).pipe(Object(Xe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ee.a)(t=>(n._loadedConfig=t,new Jn(r,{})))):Object(ce.a)(new Jn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Xr(e,n,r);if(!i)return $r(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Xe.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ei(t,e,n)&&"primary"!==ni(n))}(t,n,r)?{segmentGroup:ti(new Jn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==ni(r)&&(n[ni(r)]=new Jn([],{}));return n}(r,new Jn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ei(t,e,n))}(t,n,r)?{segmentGroup:ti(new Jn(t.segments,function(t,e,n,r){const i={};for(const o of n)ei(t,e,o)&&!r[ni(o)]&&(i[ni(o)]=new Jn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ee.a)(t=>new Jn(o,t))):0===r.length&&0===s.length?Object(ce.a)(new Jn(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Ee.a)(t=>new Jn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ce.a)(new Bn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ce.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(le.a)(r).pipe(Object(Ee.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&Hr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Hr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return $n(o)})).pipe(Se(),(i=t=>!0===t,t=>t.lift(new tn(i,void 0,t)))):Object(ce.a)(!0);var i}(t.injector,e,n).pipe(Object(Xe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ee.a)(t=>(e._loadedConfig=t,t))):function(t){return new fe.a(e=>e.error(jn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ce.a)(new Bn([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ce.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Zr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Zn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Kn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Kn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Jn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Fn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ti(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Jn(t.segments.concat(e.segments),e.children)}return t}function ei(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ni(t){return t.outlet||"primary"}class ri{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ii{constructor(t,e){this.component=t,this.route=e}}function oi(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=wr(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!tr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!tr(t.url,e.url)||!qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(t,e)||!qn(t.queryParams,e.queryParams);case"paramsChange":default:return!Rr(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new ri(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),l&&o.canDeactivateChecks.push(new ii(c&&c.outlet&&c.outlet.component||null,a))}else a&&ai(n,c,o),o.canActivateChecks.push(new ri(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Kn(s,(t,e)=>ai(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function si(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ai(t,e,n){const r=wr(t),i=t.value;Kn(r,(t,r)=>{ai(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ii(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const ci=Symbol("INITIAL_VALUE");function li(){return nn(t=>function(...t){let e=null,n=null;return Object(ge.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(me.a)(t[0])&&(t=t[0]),Object(ye.a)(t,n).lift(new we(e))}(...t.map(t=>t.pipe($e(1),function(...t){const e=t[t.length-1];return Object(ge.a)(e)?(t.pop(),n=>sn(t,n,e)):e=>sn(t,e)}(ci)))).pipe(an((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ci)return t;if(r===ci&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Gr(r))return r}return t},t)},ci),Te(t=>t!==ci),Object(Ee.a)(t=>Gr(t)?t:!0===t),$e(1)))}function ui(t,e){return null!==t&&e&&e(new Rn(t)),Object(ce.a)(!0)}function di(t,e){return null!==t&&e&&e(new Tn(t)),Object(ce.a)(!0)}function hi(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ce.a)(!0);const i=r.map(r=>Ae(()=>{const i=si(r,e,n);let o;if(function(t){return t&&Hr(t.canActivate)}(i))o=$n(i.canActivate(e,t));else{if(!Hr(i))throw new Error("Invalid CanActivate guard");o=$n(i(e,t))}return o.pipe(Je())}));return Object(ce.a)(i).pipe(li())}function fi(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ae(()=>{const i=e.guards.map(i=>{const o=si(i,e.node,n);let s;if(function(t){return t&&Hr(t.canActivateChild)}(o))s=$n(o.canActivateChild(r,t));else{if(!Hr(o))throw new Error("Invalid CanActivateChild guard");s=$n(o(r,t))}return s.pipe(Je())});return Object(ce.a)(i).pipe(li())}));return Object(ce.a)(i).pipe(li())}class pi{}class gi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=vi(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new xr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _r(n,e),i=new Sr(this.url,r);return this.inheritParamsAndData(i._root),Object(ce.a)(i)}catch(kR){return new fe.a(e=>e.error(kR))}}inheritParamsAndData(t){const e=t.value,n=Er(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=er(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(kR){if(!(kR instanceof pi))throw kR}if(this.noLeftoversInUrl(e,n,r))return[];throw new pi}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new pi;if((t.outlet||"primary")!==r)throw new pi;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Wn(n).parameters:{};i=new xr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wi(t),r,t.component,t,mi(e),bi(e)+n.length,ki(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new pi;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Fn)(n,t,e);if(!r)throw new pi;const i={};Kn(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new xr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wi(t),r,t.component,t,mi(e),bi(e)+o.length,ki(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=vi(e,o,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new _r(i,t)]}if(0===a.length&&0===l.length)return[new _r(i,[])];const u=this.processSegment(a,c,l,"primary");return[new _r(i,u)]}}function mi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vi(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>yi(t,e,n)&&"primary"!==_i(n))}(t,n,r)){const i=new Jn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==_i(o)){const n=new Jn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[_i(o)]=n}return i}(t,e,r,new Jn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>yi(t,e,n))}(t,n,r)){const o=new Jn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(yi(t,n,a)&&!i[_i(a)]){const n=new Jn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[_i(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Jn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function yi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function _i(t){return t.outlet||"primary"}function wi(t){return t.data||{}}function ki(t){return t.resolve||{}}function Ci(t,e,n,r){const i=si(t,e,r);return $n(i.resolve?i.resolve(e,n):i(e,n))}function Ai(t){return function(e){return e.pipe(nn(e=>{const n=t(e);return n?Object(le.a)(n).pipe(Object(Ee.a)(()=>e)):Object(le.a)([e])}))}}class Ei{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const xi=new r.q("ROUTES");class Si{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ee.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Bn(Gn(r.injector.get(xi)).map(Un),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(le.a)(this.loader.load(t)):$n(t()).pipe(Object(Xe.a)(t=>t instanceof r.v?Object(ce.a)(t):Object(le.a)(this.compiler.compileModuleAsync(t))))}}class Ii{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ti(t){throw t}function Di(t,e,n){return e.parse("/")}function Ri(t,e){return Object(ce.a)(null)}let Oi=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ue.a,this.errorHandler=Ti,this.malformedUriErrorHandler=Di,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ri,afterPreactivation:Ri},this.urlHandlingStrategy=new Ii,this.routeReuseStrategy=new Ei,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const l=o.get(r.z);this.isNgZoneEnabled=l instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Zn(new Jn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Si(s,a,t=>this.triggerEvent(new Sn(t)),t=>this.triggerEvent(new In(t))),this.routerState=Cr(this.currentUrlTree,this.rootComponentType),this.transitions=new he({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Te(t=>0!==t.id),Object(Ee.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),nn(t=>{let n=!1,r=!1;return Object(ce.a)(t).pipe(Object(hn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ce.a)(t).pipe(nn(t=>{const n=this.transitions.getValue();return e.next(new vn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ce.a:[t]}),nn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(nn(t=>function(t,e,n,r,i){return new Jr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ee.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(hn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Xe.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new gi(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ee.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(hn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(hn.a)(t=>{const n=new kn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new vn(n,this.serializeUrl(r),i,o);e.next(a);const c=Cr(r,this.rootComponentType).snapshot;return Object(ce.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ce.a}),Ai(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(hn.a)(t=>{const e=new Cn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ee.a)(t=>Object.assign(Object.assign({},t),{guards:oi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Xe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ce.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(le.a)(t).pipe(Object(Xe.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ce.a)(!0);const s=o.map(o=>{const s=si(o,e,i);let a;if(function(t){return t&&Hr(t.canDeactivate)}(s))a=$n(s.canDeactivate(t,e,n,r));else{if(!Hr(s))throw new Error("Invalid CanDeactivate guard");a=$n(s(t,e,n,r))}return a.pipe(Je())});return Object(ce.a)(s).pipe(li())}(t.component,t.route,n,e,r)),Je(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Xe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(le.a)(e).pipe(un(e=>Object(le.a)([di(e.route.parent,r),ui(e.route,r),fi(t,e.path,n),hi(t,e.route,n)]).pipe(Se(),Je(t=>!0!==t,!0))),Je(t=>!0!==t,!0))}(r,o,t,e):Object(ce.a)(n)),Object(Ee.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(hn.a)(t=>{if(Gr(t.guardsResult)){const e=jn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(hn.a)(t=>{const e=new An(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Te(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new _n(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ai(t=>{if(t.guards.canActivateChecks.length)return Object(ce.a)(t).pipe(Object(hn.a)(t=>{const e=new En(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(Xe.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(le.a)(i).pipe(un(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ce.a)({});if(1===i.length){const o=i[0];return Ci(t[o],e,n,r).pipe(Object(Ee.a)(t=>({[o]:t})))}const o={};return Object(le.a)(i).pipe(Object(Xe.a)(i=>Ci(t[i],e,n,r).pipe(Object(Ee.a)(t=>(o[i]=t,t))))).pipe(qe(),Object(Ee.a)(()=>o))}(t._resolve,t,e,r).pipe(Object(Ee.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Er(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(dn.a)(an(t,e),Ne(1),ze(e))(n)}:function(e){return Object(dn.a)(an((e,n,r)=>t(e,n,r+1)),Ne(1))(e)}}((t,e)=>t),Object(Ee.a)(e=>t)):Object(ce.a)(t)}))}),Object(hn.a)(t=>{const e=new xn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Ai(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ee.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new _r(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Ar(new he((i=n.value).url),new he(i.params),new he(i.queryParams),new he(i.fragment),new he(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new _r(r,o)}}var i}(t,e._root,n?n._root:void 0);return new kr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(hn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Ee.a)(t=>(new Ur(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(hn.a)({next(){n=!0},complete(){n=!0}}),pn(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new _n(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Ge(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Gr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new _n(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new wn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Ce.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){zn(t),this.config=t.map(Un),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:o;let d=null;if(a)switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=s?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return Nr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Pr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Kn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Pr(n,e,r)}(n);if(o.toRoot())return Nr(e.root,new Jn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Mr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Mr(n.snapshot._urlSegment,!0,0);const r=Or(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Mr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Fr(s.segmentGroup,s.index,o.commands):jr(s.segmentGroup,s.index,o.commands);return Nr(s.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,d,u)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Gr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(kR){e=this.malformedUriErrorHandler(kR,this.urlSerializer,t)}return e}isActive(t,e){if(Gr(t))return Yn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Yn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;i?(s=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{s=t,a=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Yb()},t.\u0275dir=r.Hb({type:t}),t})(),Ni=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Oi),r.Mb(Ar),r.Wb("tabindex"),r.Mb(r.D),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Zb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Pi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof yn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mi(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Oi),r.Mb(Ar),r.Mb(v))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Ub("href",e.href,r.oc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function Mi(t){return""===t||!!t}class Li{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ji,this.attachRef=null}}class ji{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Li,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Fi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Bi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ji),r.Mb(r.O),r.Mb(r.j),r.Wb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Bi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ar?this.route:t===ji?this.childContexts:this.parent.get(t,e)}}class zi{}class Qi{preload(t,e){return Object(ce.a)(null)}}let Vi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Si(e,n,e=>t.triggerEvent(new Sn(e)),e=>t.triggerEvent(new In(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Te(t=>t instanceof yn),un(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(le.a)(n).pipe(Object(xe.a)(),Object(Ee.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Xe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Oi),r.Vb(r.w),r.Vb(r.i),r.Vb(r.r),r.Vb(zi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Ui=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Nn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Yb()},t.\u0275dir=r.Hb({type:t}),t})();const qi=new r.q("ROUTER_CONFIGURATION"),Hi=new r.q("ROUTER_FORROOT_GUARD"),Gi=[C,{provide:nr,useClass:rr},{provide:Oi,useFactory:function(t,e,n,r,i,o,s,c={},l,u){const d=new Oi(null,t,e,n,r,i,o,Gn(s));if(l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),c.errorHandler&&(d.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(d.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=a();d.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(d.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(d.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(d.relativeLinkResolution=c.relativeLinkResolution),d},deps:[nr,ji,C,r.r,r.w,r.i,xi,qi,[class{},new r.A],[class{},new r.A]]},ji,{provide:Ar,useFactory:function(t){return t.routerState.root},deps:[Oi]},{provide:r.w,useClass:r.J},Vi,Qi,class{preload(t,e){return e().pipe(Ge(()=>Object(ce.a)(null)))}},{provide:qi,useValue:{enableTracing:!1}}];function Wi(){return new r.y("Router",Oi)}let Ki=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Gi,Ji(e),{provide:Hi,useFactory:Zi,deps:[[Oi,new r.A,new r.I]]},{provide:qi,useValue:n||{}},{provide:v,useFactory:Yi,deps:[l,[new r.p(_),new r.A],qi]},{provide:Ui,useFactory:$i,deps:[Oi,St,qi]},{provide:zi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qi},{provide:r.y,multi:!0,useFactory:Wi},[Xi,{provide:r.d,multi:!0,useFactory:to,deps:[Xi]},{provide:no,useFactory:eo,deps:[Xi]},{provide:r.b,multi:!0,useExisting:no}]]}}static forChild(e){return{ngModule:t,providers:[Ji(e)]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Vb(Hi,8),r.Vb(Oi,8))}}),t})();function $i(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ui(t,e,n)}function Yi(t,e,n={}){return n.useHash?new k(t,e):new w(t,e)}function Zi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ji(t){return[{provide:r.a,multi:!0,useValue:t},{provide:xi,multi:!0,useValue:t}]}let Xi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ue.a}appInitializer(){return this.injector.get(d,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Oi),r=this.injector.get(qi);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(ce.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(qi),n=this.injector.get(Vi),i=this.injector.get(Ui),o=this.injector.get(Oi),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.r))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function to(t){return t.appInitializer.bind(t)}function eo(t){return t.bootstrapListener.bind(t)}const no=new r.q("Router Initializer");class ro{}class io{}class oo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof oo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new oo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof oo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class so{encodeKey(t){return ao(t)}encodeValue(t){return ao(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function ao(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class co{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new so,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new co({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function lo(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function uo(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ho(t){return"undefined"!=typeof FormData&&t instanceof FormData}class fo{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new oo),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new co,this.urlWithParams=e}serializeBody(){return null===this.body?null:lo(this.body)||uo(this.body)||ho(this.body)||"string"==typeof this.body?this.body:this.body instanceof co?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ho(this.body)?null:uo(this.body)?this.body.type||null:lo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof co?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new fo(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const po=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class go{constructor(t,e=200,n="OK"){this.headers=t.headers||new oo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class mo extends go{constructor(t={}){super(t),this.type=po.ResponseHeader}clone(t={}){return new mo({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bo extends go{constructor(t={}){super(t),this.type=po.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new bo({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vo extends go{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function yo(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let _o=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof fo)r=t;else{let i=void 0;i=n.headers instanceof oo?n.headers:new oo(n.headers);let o=void 0;n.params&&(o=n.params instanceof co?n.params:new co({fromObject:n.params})),r=new fo(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(ce.a)(r).pipe(un(t=>this.handler.handle(t)));if(t instanceof fo||"events"===n.observe)return i;const o=i.pipe(Te(t=>t instanceof bo));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Ee.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Ee.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Ee.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Ee.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new co).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,yo(n,e))}post(t,e,n={}){return this.request("POST",t,yo(n,e))}put(t,e,n={}){return this.request("PUT",t,yo(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(ro))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class wo{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ko=new r.q("HTTP_INTERCEPTORS");let Co=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ao=/^\)\]\}',?\n/;class Eo{}let xo=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),So=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new fe.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new oo(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new mo({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Ao,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new bo({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new vo({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new vo({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const l=r=>{c||(e.next(o()),c=!0);let i={type:po.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:po.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:po.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Eo))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Io=new r.q("XSRF_COOKIE_NAME"),To=new r.q("XSRF_HEADER_NAME");class Do{}let Ro=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ut(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c),r.Vb(r.B),r.Vb(Io))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Oo=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Do),r.Vb(To))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),No=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(ko,[]);this.chain=t.reduceRight((t,e)=>new wo(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(io),r.Vb(r.r))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Po=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Oo,useClass:Co}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Io,useValue:e.cookieName}:[],e.headerName?{provide:To,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Oo,{provide:ko,useExisting:Oo,multi:!0},{provide:Do,useClass:Ro},{provide:Io,useValue:"XSRF-TOKEN"},{provide:To,useValue:"X-XSRF-TOKEN"}]}),t})(),Mo=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[_o,{provide:ro,useClass:No},So,{provide:io,useExisting:So},xo,{provide:Eo,useExisting:xo}],imports:[[Po.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Lo=(()=>{class t{constructor(t){this._httpClient=t}create(t){return this._httpClient.post(o.API_URL_GUIDE,t)}update(t){return this._httpClient.put(o.API_URL_GUIDE,t)}getGuideById(t){return this._httpClient.get(o.API_URL_GUIDE+"/find/"+t)}searchByContent(t){return this._httpClient.get(o.API_URL_GUIDE+"?title="+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var jo=n("XoHu");function Fo(t,e){return new fe.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(le.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Bo=new r.q("NgValueAccessor"),zo={provide:Bo,useExisting:Object(r.T)(()=>Qo),multi:!0};let Qo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([zo])]}),t})();const Vo={provide:Bo,useExisting:Object(r.T)(()=>qo),multi:!0},Uo=new r.q("CompositionEventMode");let qo=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l),r.Mb(Uo,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([Vo])]}),t})(),Ho=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),Go=(()=>{class t extends Ho{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Wo(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.xb]}),t})();const Wo=r.Tb(Go);function Ko(){throw new Error("unimplemented")}class $o extends Ho{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Ko()}get asyncValidator(){return Ko()}}class Yo{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Zo=(()=>{class t extends Yo{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($o,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),Jo=(()=>{class t extends Yo{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Go,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();function Xo(t){return null==t||0===t.length}const ts=new r.q("NgValidators"),es=new r.q("NgAsyncValidators"),ns=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rs{static min(t){return e=>{if(Xo(e.value)||Xo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Xo(e.value)||Xo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Xo(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Xo(t.value)||ns.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Xo(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return rs.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Xo(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(is);return 0==e.length?null:function(t){return ss(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(is);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(me.a)(e))return Fo(e,null);if(Object(jo.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Fo(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Fo(t=1===t.length&&Object(me.a)(t[0])?t[0]:t,null).pipe(Object(Ee.a)(t=>e(...t)))}return Fo(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(os)).pipe(Object(Ee.a)(ss))}}}function is(t){return null!=t}function os(t){const e=Object(r.rb)(t)?Object(le.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ss(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function as(t){return t.validate?e=>t.validate(e):t}function cs(t){return t.validate?e=>t.validate(e):t}const ls={provide:Bo,useExisting:Object(r.T)(()=>us),multi:!0};let us=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([ls])]}),t})();const ds={provide:Bo,useExisting:Object(r.T)(()=>fs),multi:!0};let hs=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),fs=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get($o),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l),r.Mb(hs),r.Mb(r.r))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([ds])]}),t})();const ps={provide:Bo,useExisting:Object(r.T)(()=>gs),multi:!0};let gs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([ps])]}),t})();const ms='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',bs='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',vs='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class ys{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+ms)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${bs}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${vs}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+ms)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+bs)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const _s={provide:Bo,useExisting:Object(r.T)(()=>ks),multi:!0};function ws(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ks=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ws(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([_s])]}),t})(),Cs=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ws(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.D),r.Mb(ks,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const As={provide:Bo,useExisting:Object(r.T)(()=>xs),multi:!0};function Es(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let xs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.D),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([As])]}),t})(),Ss=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Es(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Es(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.D),r.Mb(xs,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Is(t,e){return[...e.path,t]}function Ts(t,e){t||Ns(e,"Cannot find control with"),e.valueAccessor||Ns(e,"No value accessor for form control with"),t.validator=rs.compose([t.validator,e.validator]),t.asyncValidator=rs.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ds(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ds(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ds(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Rs(t,e){null==t&&Ns(e,"Cannot find control with"),t.validator=rs.compose([t.validator,e.validator]),t.asyncValidator=rs.composeAsync([t.asyncValidator,e.asyncValidator])}function Os(t){return Ns(t,"There is no FormControl instance attached to form control element with")}function Ns(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Ps(t){return null!=t?rs.compose(t.map(as)):null}function Ms(t){return null!=t?rs.composeAsync(t.map(cs)):null}function Ls(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}const js=[Qo,gs,us,ks,xs,fs];function Fs(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Bs(t,e){if(!e)return null;Array.isArray(e)||Ns(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===qo?n=e:(o=e,js.some(t=>o.constructor===t)?(r&&Ns(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Ns(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Ns(t,"No valid value accessor for form control with"),null)}function zs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qs(t){const e=Us(t)?t.validators:t;return Array.isArray(e)?Ps(e):e||null}function Vs(t,e){const n=Us(e)?e.asyncValidators:t;return Array.isArray(n)?Ms(n):n||null}function Us(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class qs{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Qs(t)}setAsyncValidators(t){this.asyncValidator=Vs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=os(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Gs?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ws&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Us(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Hs extends qs{constructor(t=null,e,n){super(Qs(e),Vs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Gs extends qs{constructor(t,e,n){super(Qs(e),Vs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Hs?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ws extends qs{constructor(t,e,n){super(Qs(e),Vs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Hs?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ks={provide:Go,useExisting:Object(r.T)(()=>Ys)},$s=(()=>Promise.resolve(null))();let Ys=(()=>{class t extends Go{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Gs({},Ps(t),Ms(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$s.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Ts(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$s.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),zs(this._directives,t)})}addFormGroup(t){$s.then(()=>{const e=this._findContainer(t.path),n=new Gs({});Rs(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$s.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){$s.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Fs(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ts,10),r.Mb(es,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Ks]),r.xb]}),t})(),Zs=(()=>{class t extends Go{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Is(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ps(this._validators)}get asyncValidator(){return Ms(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Js(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.xb]}),t})();const Js=r.Tb(Zs);class Xs{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${ms}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${bs}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${vs}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${bs}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${vs}`)}}const ta={provide:Go,useExisting:Object(r.T)(()=>ea)};let ea=(()=>{class t extends Zs{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Ys||Xs.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Go,5),r.Mb(ts,10),r.Mb(es,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([ta]),r.xb]}),t})();const na={provide:$o,useExisting:Object(r.T)(()=>ia)},ra=(()=>Promise.resolve(null))();let ia=(()=>{class t extends $o{constructor(t,e,n,i){super(),this.control=new Hs,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Bs(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ls(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Is(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ps(this._rawValidators)}get asyncValidator(){return Ms(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ts(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ea)&&this._parent instanceof Zs?Xs.formGroupNameException():this._parent instanceof ea||this._parent instanceof Ys||Xs.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Xs.missingNameException()}_updateValue(t){ra.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ra.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Go,9),r.Mb(ts,10),r.Mb(es,10),r.Mb(Bo,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([na]),r.xb,r.yb]}),t})(),oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const sa=new r.q("NgModelWithFormControlWarning"),aa={provide:Go,useExisting:Object(r.T)(()=>ca)};let ca=(()=>{class t extends Go{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ts(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){zs(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Rs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Rs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Fs(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Os(e)),e.valueAccessor.registerOnTouched(()=>Os(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Ts(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Ps(this._validators);this.form.validator=rs.compose([this.form.validator,t]);const e=Ms(this._asyncValidators);this.form.asyncValidator=rs.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||ys.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ts,10),r.Mb(es,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([aa]),r.xb,r.yb]}),t})();const la={provide:Go,useExisting:Object(r.T)(()=>ua)};let ua=(()=>{class t extends Zs{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){fa(this._parent)&&ys.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Go,13),r.Mb(ts,10),r.Mb(es,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([la]),r.xb]}),t})();const da={provide:Go,useExisting:Object(r.T)(()=>ha)};let ha=(()=>{class t extends Go{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Is(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Ps(this._validators)}get asyncValidator(){return Ms(this._asyncValidators)}_checkParentType(){fa(this._parent)&&ys.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Go,13),r.Mb(ts,10),r.Mb(es,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([da]),r.xb]}),t})();function fa(t){return!(t instanceof ua||t instanceof ca||t instanceof ha)}const pa={provide:$o,useExisting:Object(r.T)(()=>ga)};let ga=(()=>{class t extends $o{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Bs(this,i)}set isDisabled(t){ys.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),Ls(e,this.viewModel)&&(function(t,e,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(ys.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Is(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ps(this._rawValidators)}get asyncValidator(){return Ms(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof ua)&&this._parent instanceof Zs?ys.ngModelGroupException():this._parent instanceof ua||this._parent instanceof ca||this._parent instanceof ha||ys.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Go,13),r.Mb(ts,10),r.Mb(es,10),r.Mb(Bo,10),r.Mb(sa,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([pa]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const ma={provide:ts,useExisting:Object(r.T)(()=>ba),multi:!0};let ba=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?rs.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([ma])]}),t})(),va=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),ya=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Gs(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Hs(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ws(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Hs||t instanceof Gs||t instanceof Ws?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_a=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[hs],imports:[va]}),t})(),wa=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:sa,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[ya,hs],imports:[va]}),t})();class ka{}function Ca(t,e){return{type:7,name:t,definitions:e,options:{}}}function Aa(t,e=null){return{type:4,styles:e,timings:t}}function Ea(t,e=null){return{type:2,steps:t,options:e}}function xa(t){return{type:6,styles:t,offset:null}}function Sa(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ia(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ta(t){Promise.resolve(null).then(t)}class Da{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ta(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ra{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ta(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Oa=["toast-component",""];function Na(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",5),r.Zb("click",(function(){return r.mc(t),r.bc().remove()})),r.Rb(1,"span",6),r.tc(2,"\xd7"),r.Qb(),r.Qb()}}function Pa(t,e){if(1&t&&(r.Pb(0),r.tc(1),r.Ob()),2&t){const t=r.bc(2);r.Ab(1),r.vc("[",t.duplicatesCount+1,"]")}}function Ma(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1),r.rc(2,Pa,2,1,"ng-container",4),r.Qb()),2&t){const t=r.bc();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.vc(" ",t.title," "),r.Ab(1),r.fc("ngIf",t.duplicatesCount)}}function La(t,e){if(1&t&&r.Nb(0,"div",7),2&t){const t=r.bc();r.Cb(t.options.messageClass),r.fc("innerHTML",t.message,r.nc)}}function ja(t,e){if(1&t&&(r.Rb(0,"div",8),r.tc(1),r.Qb()),2&t){const t=r.bc();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.vc(" ",t.message," ")}}function Fa(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"div",9),r.Qb()),2&t){const t=r.bc();r.Ab(1),r.qc("width",t.width+"%")}}class Ba{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new ue.a,this._onAction=new ue.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const za={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Qa=new r.q("ToastConfig");class Va{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ua extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qa=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(c))},token:t,providedIn:"root"}),t})();class Ha{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Ga=(()=>{let t=class{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Ua(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Ha(this._createPortalHost(t))}};return t.\u0275fac=function(e){return new(e||t)(r.Vb(qa),r.Vb(r.j),r.Vb(r.g),r.Vb(c))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(qa),Object(r.Vb)(r.j),Object(r.Vb)(r.g),Object(r.Vb)(c))},token:t,providedIn:"root"}),t})();class Wa{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new ue.a,this._activate=new ue.a,this._manualClose=new ue.a,this._resetTimeout=new ue.a,this._countDuplicate=new ue.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Ka{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Ba?this._toastPackage:this._parentInjector.get(t,e,n)}}let $a=(()=>{let t=class{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(const r of this.toasts)if(r.message===t)return r.toastRef.onDuplicate(e,n),r;return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=e;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let c=e;e&&i.enableHtml&&(c=this.sanitizer.sanitize(r.H.HTML,e));const l=new Wa(a),u=new Ba(this.index,i,c,n,t,l),d=new Ka(u,this._injector),h=new Va(i.toastComponent,d),f=a.attach(h,this.toastrConfig.newestOnTop);l.componentInstance=f.instance;const p={toastId:this.index,message:e||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:f};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}};return t.\u0275fac=function(e){return new(e||t)(r.Vb(Qa),r.Vb(Ga),r.Vb(r.r),r.Vb(te),r.Vb(r.z))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(Qa),Object(r.Vb)(Ga),Object(r.Vb)(r.o),Object(r.Vb)(te),Object(r.Vb)(r.z))},token:t,providedIn:"root"}),t})(),Ya=(()=>{let t=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}};return t.\u0275fac=function(e){return new(e||t)(r.Mb($a),r.Mb(Ba),r.Mb(r.z))},t.\u0275cmp=r.Gb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Zb("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(r.yc("@flyInOut",e.state),r.Cb(e.toastClasses),r.qc("display",e.displayStyle))},attrs:Oa,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.rc(0,Na,3,0,"button",0),r.rc(1,Ma,3,5,"div",1),r.rc(2,La,1,3,"div",2),r.rc(3,ja,2,4,"div",3),r.rc(4,Fa,2,2,"div",4)),2&t&&(r.fc("ngIf",e.options.closeButton),r.Ab(1),r.fc("ngIf",e.title),r.Ab(1),r.fc("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.fc("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.fc("ngIf",e.options.progressBar))},directives:[gt],encapsulation:2,data:{animation:[Ca("flyInOut",[Sa("inactive",xa({opacity:0})),Sa("active",xa({opacity:1})),Sa("removed",xa({opacity:0})),Ia("inactive => active",Aa("{{ easeTime }}ms {{ easing }}")),Ia("active => removed",Aa("{{ easeTime }}ms {{ easing }}"))])]}}),t})();var Za;const Ja=Object.assign(Object.assign({},za),{toastComponent:Ya});let Xa=(()=>{let t=Za=class{static forRoot(t={}){return{ngModule:Za,providers:[{provide:Qa,useValue:{default:Ja,config:t}}]}}};return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[xt]]}),t})(),tc=(()=>{class t{constructor(){this.roles=[]}setTokenLocal(t){localStorage.removeItem("Token_key"),localStorage.setItem("Token_key",t)}setTokenSession(t){sessionStorage.removeItem("Token_key"),sessionStorage.setItem("Token_key",t)}getToken(){return null!==localStorage.getItem("Token_key")?localStorage.getItem("Token_key"):sessionStorage.getItem("Token_key")}setUserLocal(t){localStorage.removeItem("User_key"),localStorage.setItem("User_key",JSON.stringify(t))}setUserSession(t){sessionStorage.removeItem("User_key"),sessionStorage.setItem("User_key",JSON.stringify(t))}getUser(){return null!==localStorage.getItem("User_key")?localStorage.getItem("User_key"):sessionStorage.getItem("User_key")}setAccountLocal(t){localStorage.removeItem("Account_key"),localStorage.setItem("Account_key",JSON.stringify(t))}setAccountSession(t){sessionStorage.removeItem("Account_key"),sessionStorage.setItem("Account_key",JSON.stringify(t))}getAccount(){return null!==localStorage.getItem("Account_key")?localStorage.getItem("Account_key"):sessionStorage.getItem("Account_key")}setRoleLocal(t){localStorage.removeItem("Role_key"),localStorage.setItem("Role_key",JSON.stringify(t))}setRoleSession(t){sessionStorage.removeItem("Role_key"),sessionStorage.setItem("Role_key",JSON.stringify(t))}getRole(){return null!==localStorage.getItem("Role_key")?JSON.parse(localStorage.getItem("Role_key")).forEach(t=>{this.roles.push(t.authority)}):JSON.parse(sessionStorage.getItem("Role_key")).forEach(t=>{this.roles.push(t.authority)}),this.roles}logOut(){window.localStorage.clear(),window.sessionStorage.clear()}rememberMe(t,e,n,r){this.logOut(),this.setAccountLocal(e),this.setRoleLocal(n),this.setUserLocal(r),this.setTokenLocal(t)}isLogged(){return!(null==window.sessionStorage.getItem("Token_key")&&null==window.localStorage.getItem("Token_key"))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ec(t,e){1&t&&(r.Rb(0,"div",41),r.Nb(1,"object",42),r.Qb())}function nc(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"div",17),r.Rb(2,"h4",37),r.Rb(3,"button",38),r.Rb(4,"p"),r.tc(5),r.Qb(),r.rc(6,ec,2,0,"div",39),r.Qb(),r.Qb(),r.Rb(7,"div",40),r.Rb(8,"div",22),r.Rb(9,"span"),r.tc(10),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=e.$implicit,n=e.index,i=r.bc(2);r.Ab(5),r.wc("",n+1,". ",t.title,""),r.Ab(1),r.fc("ngIf",i.checkLogged&&"ROLE_ADMIN"===i.accountRole),r.Ab(4),r.uc(t.content)}}function rc(t,e){if(1&t&&(r.Rb(0,"div",33),r.Rb(1,"div",34),r.rc(2,nc,11,4,"div",35),r.Qb(),r.Qb()),2&t){const t=r.bc();r.Ab(2),r.fc("ngForOf",t.guide)}}function ic(t,e){1&t&&(r.Rb(0,"button",43),r.Nb(1,"object",44),r.Rb(2,"span"),r.tc(3,"Th\xeam h\u01b0\u1edbng d\u1eabn"),r.Qb(),r.Qb())}let oc=(()=>{class t{constructor(t,e,n,r,i){this._guideService=t,this._formBuilde=e,this._toast=n,this._titleService=r,this._tokenService=i,this.title="",this.checkLogged=!1,this._titleService.setTitle("H\u01b0\u1edbng d\u1eabn")}ngOnInit(){if(this._tokenService.isLogged()){this.checkLogged=!0;const t=this._tokenService.getRole();for(let e=0;e<t.length;e++)"ROLE_ADMIN"===t[e]&&(this.accountRole="ROLE_ADMIN")}this._guideService.searchByContent(this.title).subscribe(t=>{this.guide=t})}searchAll(){this._guideService.searchByContent(this.title).subscribe(t=>{this.guide=t},t=>{this._toast.error("Kh\xf4ng t\xecm th\u1ea5y h\u01b0\u1edbng d\u1eabn n\xe0o ph\xf9 h\u1ee3p")})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Lo),r.Mb(ya),r.Mb($a),r.Mb(ae),r.Mb(tc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-guide-list"]],decls:78,vars:3,consts:[["ng-controller","ctrlSupport",1,"detail-container"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"detail-cate-tit"],[1,"support-content"],[1,"faq-search"],[1,"col-sm-4","col-sm-offset-2"],[1,"col-sm-4"],[1,"faq-search-input"],["data","assets/icons/search.svg","width","20","height","20",1,"material-icons","md-24"],["type","text","placeholder","Nh\u1eadp ti\xeau \u0111\u1ec1 h\u01b0\u1edbng d\u1eabn","aria-label","Search",1,"ng-pristine","ng-untouched","ng-valid","ng-empty",2,"margin-right","10px",3,"ngModel","ngModelChange"],[1,"mt-2","row","container",2,"padding-left","2%"],["class","faq-list",4,"ngIf"],["type","submit","class","btn btn-primary d-flex justify-content-center","style","margin-top: 24px;",4,"ngIf"],[1,"detail-cate-tit","mt-5","mb-0"],["id","accordionFlushExample",1,"accordion","accordion-flush","mt-2"],[1,"accordion-item"],["id","flush-headingOne",1,"accordion-header",2,"background-color","#8CA2C2"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","collapsed"],[2,"color","rgb(6, 64, 119)"],["id","flush-collapseOne","aria-labelledby","flush-headingOne","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"mt-2"],["id","flush-headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseTwo","aria-expanded","false","aria-controls","flush-collapseTwo",1,"accordion-button","collapsed"],["id","flush-collapseTwo","aria-labelledby","flush-headingTwo","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["id","flush-headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseThree","aria-expanded","false","aria-controls","flush-collapseThree",1,"accordion-button","collapsed"],["id","flush-collapseThree","aria-labelledby","flush-headingThree","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],["id","flush-headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseFour","aria-expanded","false","aria-controls","flush-collapseFour",1,"accordion-button","collapsed"],["id","flush-collapseFour","aria-labelledby","flush-headingFour","data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"faq-list"],["ng-show","myFaqData.lstFAQ.length > 0",1,"row","toggle","toggle-primary","toggle-qa"],["id","accordionExample","class","accordion mt-3","ng-repeat","x in myFaqData.lstFAQ",4,"ngFor","ngForOf"],["id","accordionExample","ng-repeat","x in myFaqData.lstFAQ",1,"accordion","mt-3"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["class","ms-auto edit-button",4,"ngIf"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"ms-auto","edit-button"],["data","assets/icons/edit.svg","width","24px","height","24px",1,"material-icons","md-24"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-top","24px"],["data","assets/icons/create.svg","width","20","height","20",1,"me-2","slide"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"h1"),r.tc(6,"Trung t\xe2m h\u1ed7 tr\u1ee3 v\xe0 h\u01b0\u1edbng d\u1eabn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"div",5),r.Rb(8,"div",6),r.Rb(9,"div",2),r.Rb(10,"div",7),r.Rb(11,"span"),r.tc(12,"H\xe3y cho ch\xfang t\xf4i bi\u1ebft v\u1ea5n \u0111\u1ec1 c\u1ee7a b\u1ea1n"),r.Qb(),r.Qb(),r.Rb(13,"div",8),r.Rb(14,"div",9),r.Nb(15,"object",10),r.Rb(16,"input",11),r.Zb("ngModelChange",(function(t){return e.title=t}))("ngModelChange",(function(){return e.searchAll()})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",12),r.rc(18,rc,3,1,"div",13),r.rc(19,ic,4,0,"button",14),r.Rb(20,"div",15),r.Rb(21,"h1"),r.tc(22,"Nh\u1eefng c\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p"),r.Qb(),r.Qb(),r.Rb(23,"div",16),r.Rb(24,"div",17),r.Rb(25,"h2",18),r.Rb(26,"button",19),r.Rb(27,"span",20),r.tc(28,"T\xf4i l\xe0m th\u1ebf n\xe0o \u0111\u1ec3 c\xf3 th\u1ec3 \u0111\u0103ng s\u1ea3n ph\u1ea9m \u0111\u1ea5u gi\xe1 v\xe0 c\xf3 gi\u1edbi h\u1ea1n s\u1ed1 ti\u1ec1n \u0111\u1ea5u gi\xe1 kh\xf4ng ?"),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",21),r.Rb(30,"div",22),r.Rb(31,"div"),r.Rb(32,"strong"),r.tc(33,"B\u01b0\u1edbc 1: "),r.Qb(),r.tc(34," B\u1ea1n c\u1ea7n l\u1eadp t\xe0i kho\u1ea3n x\xe1c nh\u1eadn nh\u1eefng y\xeau c\u1ea7u c\u1ee7a s\xe0n \u0111\u1ea5u gi\xe1 ch\xfang t\xf4i. Ch\xfa \xfd c\u1ea7n th\u1eadn t\xe0i kho\u1ea3n thanh to\xe1n v\xe0 \u0111\u1ecba ch\u1ec9 c\u1ee7a b\u1ea1n \u0111ang sinh s\u1ed1ng "),r.Qb(),r.Rb(35,"div"),r.Rb(36,"strong"),r.tc(37,"B\u01b0\u1edbc 2: "),r.Qb(),r.tc(38," B\u1ea1n v\xe0o m\u1ee5c \u0111\u1ea5u gi\xe1, v\xe0 \u0111\u0103ng nh\u1eefng th\xf4ng tin c\u1ea7n thi\u1ebft c\u1ee7a s\u1ea3n ph\u1ea9m b\u1ea1n mu\u1ed1n \u0111\u1ea5u gi\xe1 c\u0169ng nh\u01b0 l\xe0 s\u1ed1 ti\u1ec1n \u0111\u1ea5u gi\xe1, b\u01b0\u1edbc gi\xe1, h\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m. Sau khi ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 th\xf4ng tin \u0111\u1ec3 \u0111\u1ea5u gi\xe1, b\u1ea5m \u0111\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m v\xe0 \u0111\u1ee3i ch\xfang t\xf4i ph\xea duy\u1ec7t s\u1ea3n ph\u1ea9m \u0111\xf3 l\xe0 h\u1ee3p l\u1ec7 hay kh\xf4ng trong th\u1eddi gian s\u1edbm nh\u1ea5t. "),r.Qb(),r.Rb(39,"div",23),r.tc(40,"S\u1ea3n ph\u1ea9m \u0111\u1ea5u gi\xe1 s\u1ebd "),r.Rb(41,"strong"),r.tc(42,"c\xf3 gi\u1edbi h\u1ea1n ti\u1ec1n \u0111\u1ea5u gi\xe1 d\u1ef1a v\xe0o ch\u1ea5t l\u01b0\u1ee3ng s\u1ea3n ph\u1ea9m"),r.Qb(),r.tc(43,", v\xe0 \u0111i\u1ec1u c\u1ea7n l\u01b0u \xfd l\xe0 ti\u1ec1n m\u1ed7i phi\xean \u0111\u1ea5u gi\xe1 b\u1eaft bu\u1ed9c ph\u1ea3i l\u1edbn h\u01a1n b\u01b0\u1edbc gi\xe1 \u0111\xe3 \u0111\u1ec1 ra "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(44,"div",17),r.Rb(45,"h2",24),r.Rb(46,"button",25),r.Rb(47,"span",20),r.tc(48,"Nh\u1eefng h\xecnh th\u1ee9c thanh to\xe1n c\u1ee7a trang web g\u1ed3m nh\u1eefng h\xecnh th\u1ee9c n\xe0o ?"),r.Qb(),r.Qb(),r.Qb(),r.Rb(49,"div",26),r.Rb(50,"div",22),r.tc(51," H\xecnh th\u1ee9c thanh to\xe1n c\u1ee7a s\xe0n \u0111\u1ea5u gi\xe1 ch\xfang t\xf4i bao g\u1ed3m nh\u1eefng h\xecnh th\u1ee9c nh\u01b0 "),r.Rb(52,"strong"),r.tc(53,"paypal"),r.Qb(),r.tc(54," v\xe0 "),r.Rb(55,"strong"),r.tc(56,"Ship Code ( t\u1ee9c giao h\xe0ng t\u1eadn n\u01a1i r\u1ed3i m\u1edbi thanh to\xe1n )."),r.Qb(),r.tc(57," Khi \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng qu\xfd kh\xe1ch ph\u1ea3i thanh to\xe1n cho ch\xfang t\xf4i trong v\xf2ng 1 ng\xe0y k\u1ec3 t\u1eeb ng\xe0y \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng "),r.Qb(),r.Qb(),r.Qb(),r.Rb(58,"div",17),r.Rb(59,"h2",27),r.Rb(60,"button",28),r.tc(61," Cho t\xf4i h\u1ecfi nh\u1eefng \u01b0u \u0111\xe3i c\u1ee7a t\u1eebng b\u1eadc x\u1ebfp h\u1ea1ng th\xe0nh vi\xean ? "),r.Qb(),r.Qb(),r.Rb(62,"div",29),r.Rb(63,"div",22),r.tc(64," \u1ede s\xe0n \u0111\u1ea5u gi\xe1 ch\xfang t\xf4i s\u1ebd d\u1ef1a v\xe0o \u0111i\u1ec3m c\u1ed1ng hi\u1ebfn \u0111\u1ec3 ph\xe2n lo\u1ea1i b\u1eadc th\xe0nh vi\xean v\u1edbi t\u1eebng b\u1eadc x\u1ebfp h\u1ea1ng nh\u01b0: "),r.Rb(65,"div"),r.Rb(66,"strong"),r.tc(67,"Kim c\u01b0\u01a1ng:"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(68,"div",17),r.Rb(69,"h2",30),r.Rb(70,"button",31),r.tc(71," Accordion Item #3 "),r.Qb(),r.Qb(),r.Rb(72,"div",32),r.Rb(73,"div",22),r.tc(74,"Placeholder content for this accordion, which is intended to demonstrate the "),r.Rb(75,"code"),r.tc(76,".accordion-flush"),r.Qb(),r.tc(77," class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application. "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(16),r.fc("ngModel",e.title),r.Ab(2),r.fc("ngIf",null!=e.guide),r.Ab(1),r.fc("ngIf",e.checkLogged&&"ROLE_ADMIN"===e.accountRole))},directives:[qo,Zo,ia,gt,ft],styles:['*[_ngcontent-%COMP%]{text-decoration:none}.detail-container[_ngcontent-%COMP%]{display:block;width:100%;background:#fff;padding:60px 0}.detail-cate-tit[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:block;width:100%;font-family:Roboto Condensed,sans-serif;font-size:30px;font-weight:700;color:#141ed2;margin:0 0 30px;padding:0}h1[_ngcontent-%COMP%]{line-height:1.1;-webkit-margin-before:.67em;margin-block-start:.67em;-webkit-margin-after:.67em;margin-block-end:.67em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;background:#fff}.faq-search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;border-radius:2px;border:1px solid #d4d4d4}input[_ngcontent-%COMP%]{font-family:inherit;font-size:inherit;line-height:inherit;margin:0;font:inherit;color:inherit;text-rendering:auto;word-spacing:normal;text-indent:0;text-shadow:none;text-align:start;-webkit-appearance:auto;-moz-appearance:auto;appearance:auto;cursor:text;background-color:field}.material-icons.md-24[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{letter-spacing:normal;text-transform:none}.material-icons.md-24[_ngcontent-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;display:inline-block;line-height:1;word-wrap:normal;white-space:nowrap;direction:ltr;text-rendering:optimizeLegibility;font-feature-settings:"liga";font-size:24px;margin-right:0}.faq-search-input[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;opacity:.54}.faq-search-input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;position:relative}.toggle-qa[_ngcontent-%COMP%]{padding-top:30px!important}.row[_ngcontent-%COMP%]{margin-right:-15px;margin-left:-15px}.panel-default[_ngcontent-%COMP%]{border-color:#ddd}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.05)}.pd-card-info-heading[_ngcontent-%COMP%]{border-radius:2px;overflow:hidden;color:#545454}.pd-card-info-tit[_ngcontent-%COMP%]{display:block;width:100%;border-radius:2px;padding-right:15px;padding-left:5px;background:#ebebeb;margin:0}h4[_ngcontent-%COMP%]{font-size:18px;font-family:Roboto Condensed,sans-serif;font-weight:700;padding:0;color:inherit}.pd-card-info-tit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;padding:12px 0;width:100%;min-height:24px;line-height:24px;transition:all .15s ease;border-radius:2px;font-size:16px;font-weight:700;color:#545454;text-transform:uppercase;text-decoration:none!important}a[_ngcontent-%COMP%]{background-color:transparent}.collapse.in[_ngcontent-%COMP%]{display:block}p[_ngcontent-%COMP%]{width:760px!important;margin-bottom:0!important}.edit-button[_ngcontent-%COMP%]{width:28px;height:28px;display:block;justify-content:center;align-items:center;cursor:pointer;position:relative}.edit-button[_ngcontent-%COMP%]:hover{background-color:#d1e7f8;border-radius:50%}']}),t})(),sc=(()=>{class t{constructor(t){this._httpClient=t}getAuctionByProductId(t){return this._httpClient.get(o.API_URL_AUCTION+"/auction-detail/"+t)}getAuctionPageByProductId(t,e){return this._httpClient.get(o.API_URL_AUCTION+"/auction-product/"+t+"?page="+e)}addNewAuction(t){return this._httpClient.post(o.API_URL_AUCTION,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ac=(()=>{class t{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}return t.V1_0="1.0",t.V1_1="1.1",t.V1_2="1.2",t.default=new t([t.V1_0,t.V1_1,t.V1_2]),t})();class cc{constructor(t){const{command:e,headers:n,body:r,binaryBody:i,escapeHeaderValues:o,skipContentLengthHeader:s}=t;this.command=e,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=s||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,e){const n={},r=t=>t.replace(/^\s+|\s+$/g,"");for(const i of t.headers.reverse()){i.indexOf(":");const o=r(i[0]);let s=r(i[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(s=cc.hdrValueUnEscape(s)),n[o]=s}return new cc({command:t.command,headers:n,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?cc.toUnit8Array(t,this._binaryBody).buffer:t+this._body+"\0"}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const n=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${cc.hdrValueEscape(""+n)}`:`${e}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push("content-length:"+this.bodyLength()),t.join("\n")+"\n\n"}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const n=(new TextEncoder).encode(t),r=new Uint8Array([0]),i=new Uint8Array(n.length+e.length+r.length);return i.set(n),i.set(e,n.length),i.set(r,n.length+e.length),i}static marshall(t){return new cc(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class lc{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let n;if(n=t instanceof ArrayBuffer?new Uint8Array(t):this._encoder.encode(t),e&&0!==n[n.length-1]){const t=new Uint8Array(n.length+1);t.set(n,0),t[n.length]=0,n=t}for(let r=0;r<n.length;r++)this._onByte(n[r])}_collectFrame(t){0!==t&&13!==t&&(10!==t?(this._onByte=this._collectCommand,this._reinjectByte(t)):this.onIncomingPing())}_collectCommand(t){if(13!==t)return 10===t?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(t)}_collectHeaders(t){13!==t&&(10!==t?(this._onByte=this._collectHeaderKey,this._reinjectByte(t)):this._setupCollectBody())}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t)return 10===t?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(t)}_setupCollectBody(){const t=this._results.headers.filter(t=>"content-length"===t[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var uc=function(t){return t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED",t}({}),dc=function(t){return t[t.ACTIVE=0]="ACTIVE",t[t.DEACTIVATING=1]="DEACTIVATING",t[t.INACTIVE=2]="INACTIVE",t}({});class hc{constructor(t,e,n={}){this._client=t,this._webSocket=e,this._serverFrameHandlers={CONNECTED:t=>{this.debug("connected to server "+t.headers.server),this._connected=!0,this._connectedVersion=t.headers.version,this._connectedVersion===ac.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(t.headers),this.onConnect(t)},MESSAGE:t=>{const e=t.headers.subscription,n=this._subscriptions[e]||this.onUnhandledMessage,r=t,i=this,o=this._connectedVersion===ac.V1_2?r.headers.ack:r.headers["message-id"];r.ack=(t={})=>i.ack(o,e,t),r.nack=(t={})=>i.nack(o,e,t),n(r)},RECEIPT:t=>{const e=this._receiptWatchers[t.headers["receipt-id"]];e?(e(t),delete this._receiptWatchers[t.headers["receipt-id"]]):this.onUnhandledReceipt(t)},ERROR:t=>{this.onStompError(t)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(n)}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}configure(t){Object.assign(this,t)}start(){const t=new lc(t=>{const e=cc.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug("<<< "+e),(this._serverFrameHandlers[e.command]||this.onUnhandledFrame)(e)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const t=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug("<<< "+t)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._onclose=t=>{this.debug("Connection closed to "+this._client.brokerURL),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(t){if(t.version!==ac.V1_1&&t.version!==ac.V1_2)return;if(!t["heart-beat"])return;const[e,n]=t["heart-beat"].split(",").map(t=>parseInt(t,10));if(0!==this.heartbeatOutgoing&&0!==n){const t=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${t}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===uc.OPEN&&(this._webSocket.send("\n"),this.debug(">>> PING"))},t)}if(0!==this.heartbeatIncoming&&0!==e){const t=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${t}ms`),this._ponger=setInterval(()=>{const e=Date.now()-this._lastServerActivityTS;e>2*t&&(this.debug(`did not receive server activity for the last ${e}ms`),this._closeOrDiscardWebsocket())},t)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState!==uc.CONNECTING&&this._webSocket.readyState!==uc.OPEN||this._closeOrDiscardWebsocket())}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}_discardWebsocket(){var t;this._webSocket.terminate||(t=t=>this.debug(t),this._webSocket.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const n=new Date,r=this.onclose;this.onclose=e=>{const r=(new Date).getTime()-n.getTime();t(`Discarded socket closed after ${r}ms, with code/reason: ${e.code}/${e.reason}`)},this.close(),r.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}),this._webSocket.terminate()}_transmit(t){const{command:e,headers:n,body:r,binaryBody:i,skipContentLengthHeader:o}=t,s=new cc({command:e,headers:n,body:r,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let a=s.serialize();if(this.debug(this.logRawCommunication?">>> "+a:">>> "+s),this.forceBinaryWSFrames&&"string"==typeof a&&(a=(new TextEncoder).encode(a)),"string"==typeof a&&this.splitLargeFrames){let t=a;for(;t.length>0;){const e=t.substring(0,this.maxWebSocketChunkSize);t=t.substring(this.maxWebSocketChunkSize),this._webSocket.send(e),this.debug(`chunk sent = ${e.length}, remaining = ${t.length}`)}}else this._webSocket.send(a)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug("Ignoring error during disconnect "+t)}else this._webSocket.readyState!==uc.CONNECTING&&this._webSocket.readyState!==uc.OPEN||this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}publish(t){const{destination:e,headers:n,body:r,binaryBody:i,skipContentLengthHeader:o}=t,s=Object.assign({destination:e},n);this._transmit({command:"SEND",headers:s,body:r,binaryBody:i,skipContentLengthHeader:o})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,n={}){(n=Object.assign({},n)).id||(n.id="sub-"+this._counter++),n.destination=t,this._subscriptions[n.id]=e,this._transmit({command:"SUBSCRIBE",headers:n});const r=this;return{id:n.id,unsubscribe:t=>r.unsubscribe(n.id,t)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const n=this;return{id:e,commit(){n.commit(e)},abort(){n.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,n={}){n=Object.assign({},n),this._connectedVersion===ac.V1_2?n.id=t:n["message-id"]=t,n.subscription=e,this._transmit({command:"ACK",headers:n})}nack(t,e,n={}){return n=Object.assign({},n),this._connectedVersion===ac.V1_2?n.id=t:n["message-id"]=t,n.subscription=e,this._transmit({command:"NACK",headers:n})}}var fc=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class pc{constructor(t){this.client=t}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(t){this.client.heartbeatOutgoing=t}get incoming(){return this.client.heartbeatIncoming}set incoming(t){this.client.heartbeatIncoming=t}}class gc extends class{constructor(t={}){this.stompVersions=ac.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=dc.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){return this._stompHandler?this._stompHandler._webSocket:void 0}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===dc.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){if(this.state===dc.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(dc.ACTIVE),this._connect())}_connect(){return fc(this,void 0,void 0,(function*(){if(this.connected)return void this.debug("STOMP: already connected, nothing to do");if(yield this.beforeConnect(),!this.active)return void this.debug("Client has been marked inactive, will not attempt to connect");this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new hc(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active)return this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void this._disposeStompHandler();this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===dc.DEACTIVATING&&(this._resolveSocketClose(),this._resolveSocketClose=void 0,this._changeState(dc.INACTIVE)),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()}))}_createWebSocket(){let t;return t=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return fc(this,void 0,void 0,(function*(){let t;return this.state!==dc.ACTIVE?(this.debug(`Already ${dc[this.state]}, ignoring call to deactivate`),Promise.resolve()):(this._changeState(dc.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==uc.CLOSED?(t=new Promise((t,e)=>{this._resolveSocketClose=t}),this._disposeStompHandler(),t):(this._changeState(dc.INACTIVE),Promise.resolve()))}))}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}publish(t){this._stompHandler.publish(t)}watchForReceipt(t,e){this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,n={}){return this._stompHandler.subscribe(t,e,n)}unsubscribe(t,e={}){this._stompHandler.unsubscribe(t,e)}begin(t){return this._stompHandler.begin(t)}commit(t){this._stompHandler.commit(t)}abort(t){this._stompHandler.abort(t)}ack(t,e,n={}){this._stompHandler.ack(t,e,n)}nack(t,e,n={}){this._stompHandler.nack(t,e,n)}}{constructor(t){super(),this.maxWebSocketFrameSize=16384,this._heartbeatInfo=new pc(this),this.reconnect_delay=0,this.webSocketFactory=t,this.debug=(...t)=>{console.log(...t)}}_parseConnect(...t){let e,n,r,i={};if(t.length<2)throw new Error("Connect requires at least 2 arguments");if("function"==typeof t[1])[i,n,r,e]=t;else switch(t.length){case 6:[i.login,i.passcode,n,r,e,i.host]=t;break;default:[i.login,i.passcode,n,r,e]=t}return[i,n,r,e]}connect(...t){const e=this._parseConnect(...t);e[0]&&(this.connectHeaders=e[0]),e[1]&&(this.onConnect=e[1]),e[2]&&(this.onStompError=e[2]),e[3]&&(this.onWebSocketClose=e[3]),super.activate()}disconnect(t,e={}){t&&(this.onDisconnect=t),this.disconnectHeaders=e,super.deactivate()}send(t,e={},n=""){const r=!1===(e=Object.assign({},e))["content-length"];r&&delete e["content-length"],this.publish({destination:t,headers:e,body:n,skipContentLengthHeader:r})}set reconnect_delay(t){this.reconnectDelay=t}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(t){this.onUnhandledMessage=t}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(t){this.onUnhandledReceipt=t}get heartbeat(){return this._heartbeatInfo}set heartbeat(t){this.heartbeatIncoming=t.incoming,this.heartbeatOutgoing=t.outgoing}}let mc=(()=>{class t{static client(e,n){return null==n&&(n=ac.default.protocolVersions()),new gc(()=>new(t.WebSocketClass||WebSocket)(e,n))}static over(t){let e;return"function"==typeof t?e=t:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),e=()=>t),new gc(e)}}return t.WebSocketClass=null,t})();var bc=n("zH15"),vc=n("z6cu");let yc=(()=>{class t{constructor(t){this._httpClient=t,this.httpOptions={headers:new oo({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},this.API_URL="http://localhost:8080/"}errorHandler(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(e),Object(vc.a)(e)}save(t){return this._httpClient.post(o.productUrl+"/create",JSON.stringify(t),this.httpOptions).pipe(Ge(this.errorHandler))}findAll(t,e){return this._httpClient.get(this.API_URL+"list?page="+(t-1)+"&size="+e)}addProduct(t){return this._httpClient.post("http://localhost:8080/api/v1/products/create",t)}getAllAndSearch(t){return this._httpClient.post(o.productSearchUrl,t)}getPageProductRoleAdmin(t,e){return this._httpClient.post(o.api_url_products+"?page="+e,t)}getAllAndSearchToPage(t,e){return this._httpClient.post(o.productSearchUrl+"?page="+e,t)}findByListId(t){return this._httpClient.post(o.api_url_search_by_list_id,t)}delete(t){return this._httpClient.post(o.api_url_remove_products,t)}findByDtoId(t){return this._httpClient.get(o.api_url_find_by_id+t)}review(t){return this._httpClient.get(o.api_url_review_product+t)}doNotReview(t){return this._httpClient.get(o.api_url_do_not_review_product+t)}writeReason(t){return this._httpClient.post(o.api_url_write_reason,t)}getReason(t){return this._httpClient.get(o.api_url_get_reason+t)}findByIdd(t){return this._httpClient.get(o.productUrl+"/"+t)}update(t,e){return this._httpClient.put(o.productUrl+"/update/"+e,t)}getProductDetailId(){return console.log("Lay ra id",this.productDetailId),this.productDetailId}setProductDetailId(t){console.log("tao gia tri cho id",t),this.productDetailId=t}getImgsByProductId(t){return this._httpClient.get(o.api_url_get_imgs+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_c=(()=>{class t{constructor(t,e){this._auctionService=t,this._productService=e,this.auctionSubject=new ue.a,this.productIdDetail=this._productService.getProductDetailId(),console.log("2 constructor"),console.log("product id Contructor",this.productIdDetail),this.getAllAuction()}ngOnInit(){}connect(){console.log("1 connect"),console.log("connect, product id",this.productIdDetail);const t=new bc("http://localhost:8080/ws");this.stompClient=mc.over(t),this.stompClient.connect({},()=>{this.stompClient.subscribe("/topic/auction",t=>{const e=JSON.parse(t.body);console.log(JSON.stringify(e)),this.auctionSubject.next(e),this.auctionPageByProductId.content.filter(t=>t.id===e.id)[0]||(this.auctionPageByProductId.content.unshift(e),this.auctionPageByProductId.content.pop())})})}getAllAuction(){this._auctionService.getAuctionPageByProductId(this.productIdDetail,0).subscribe(t=>{this.auctionPageByProductId=t})}disconnect(){null!=this.stompClient&&this.stompClient.disconnect()}createAuctionUsingWebsocket(t){console.log("sang",t),this.stompClient.send("/app/auctions",{},JSON.stringify(t))}setProductIdDetail(t){this.productIdDetail=t}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(sc),r.Vb(yc))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wc(t,e){if(1&t&&(r.Rb(0,"tr"),r.Rb(1,"td"),r.tc(2),r.Qb(),r.Rb(3,"td"),r.tc(4),r.Qb(),r.Rb(5,"td",4),r.tc(6),r.Qb(),r.Rb(7,"td"),r.tc(8),r.cc(9,"titlecase"),r.Qb(),r.Qb()),2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.uc(n+1),r.Ab(2),r.uc(t.currentPrice),r.Ab(2),r.uc(t.auctionTime),r.Ab(2),r.uc(r.dc(9,4,t.fullName))}}function kc(t,e){if(1&t&&(r.Rb(0,"tbody"),r.rc(1,wc,10,6,"tr",10),r.Qb()),2&t){const t=r.bc();r.Ab(1),r.fc("ngForOf",t.auctionPageByProductId.content)}}function Cc(t,e){1&t&&(r.Rb(0,"tbody"),r.Rb(1,"tr"),r.Rb(2,"td",11),r.Rb(3,"p",12),r.tc(4,"Ch\u01b0a c\xf3 \u0111\u1ea5u gi\xe1 n\xe0o"),r.Qb(),r.Qb(),r.Qb(),r.Qb())}function Ac(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",14),r.Rb(1,"span",17),r.Zb("click",(function(){r.mc(t);const n=e.index;return r.bc(2).goToPage(n)})),r.tc(2),r.Qb(),r.Qb()}if(2&t){const t=e.index,n=r.bc(2);r.fc("ngClass",n.auctionPageByProductId.number==t?"actived":""),r.Ab(2),r.uc(t+1)}}const Ec=function(){return[]};function xc(t,e){if(1&t){const t=r.Sb();r.Rb(0,"ul",13),r.Rb(1,"li",14),r.Rb(2,"span",15),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.goToPage(e.auctionPageByProductId.number-1)})),r.tc(3," Tr\u01b0\u1edbc "),r.Qb(),r.Qb(),r.rc(4,Ac,3,2,"li",16),r.Rb(5,"li",14),r.Rb(6,"span",15),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.goToPage(e.auctionPageByProductId.number+1)})),r.tc(7," Sau "),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(1),r.fc("ngClass",0==t.auctionPageByProductId.number?"disabled":""),r.Ab(3),r.fc("ngForOf",r.ic(3,Ec).constructor(t.auctionPageByProductId.totalPages)),r.Ab(1),r.fc("ngClass",t.auctionPageByProductId.number+1==t.auctionPageByProductId.totalPages?"disabled":"")}}let Sc=(()=>{class t{constructor(t,e,n){this._auctionService=t,this._acRoute=e,this._socketService=n}ngOnInit(){this.idProductDetail=this._acRoute.snapshot.params.productId,this._socketService.connect(),this._socketService.setProductIdDetail(this.idProductDetail),this.auctionPageByProductId=this._socketService.auctionPageByProductId}goToPage(t){this._auctionService.getAuctionPageByProductId(this.idProductDetail,t).subscribe(t=>{this.auctionPageByProductId=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(sc),r.Mb(Ar),r.Mb(_c))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-infomation-auction-buyer"]],decls:22,vars:3,consts:[["hidden","","id","auto-reload",3,"click"],[1,"table",2,"font-size","14px"],[1,"table-light"],[1,"border-top"],[1,"text-center"],[4,"ngIf","ngIfElse"],["pageAuctionIsEmpty",""],[1,"d-flex","justify-content-center"],["aria-label","Page navigation example",1,"d-flex","justify-content-end"],["class","my__pagination",4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"text-danger"],[1,"my__pagination"],[1,"my__page-item","pointer",3,"ngClass"],[1,"page-link",3,"click"],["class","my__page-item pointer",3,"ngClass",4,"ngFor","ngForOf"],[1,"my__page-link",3,"click"]],template:function(t,e){if(1&t&&(r.Rb(0,"button",0),r.Zb("click",(function(){return e.ngOnInit()})),r.tc(1,"Auto Reload"),r.Qb(),r.Rb(2,"div"),r.Rb(3,"div"),r.Rb(4,"div"),r.Rb(5,"table",1),r.Rb(6,"thead",2),r.Rb(7,"tr",3),r.Rb(8,"th"),r.tc(9,"STT"),r.Qb(),r.Rb(10,"th"),r.tc(11,"S\u1ed1 Ti\u1ec1n"),r.Qb(),r.Rb(12,"th",4),r.tc(13,"Th\u1eddi Gian"),r.Qb(),r.Rb(14,"th"),r.tc(15,"Th\xe0nh Vi\xean"),r.Qb(),r.Qb(),r.Qb(),r.rc(16,kc,2,1,"tbody",5),r.rc(17,Cc,5,0,"ng-template",null,6,r.sc),r.Qb(),r.Rb(19,"div",7),r.Rb(20,"nav",8),r.rc(21,xc,8,4,"ul",9),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.lc(18);r.Ab(16),r.fc("ngIf",(null==e.auctionPageByProductId?null:e.auctionPageByProductId.content.length)>0)("ngIfElse",t),r.Ab(5),r.fc("ngIf",e.auctionPageByProductId)}},directives:[gt,ft,dt],pipes:[_t],styles:[".my__pagination[_ngcontent-%COMP%]{display:flex}.my__page-item[_ngcontent-%COMP%]{margin:0 4px;border-radius:4px;display:block;padding:2px 16px;list-style:none;border:1px solid #e74c3c}.my__page-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#e74c3c;cursor:pointer;transition:background-color,.5s}.my__page-link[_ngcontent-%COMP%]{font-weight:700}.my__page-item.actived[_ngcontent-%COMP%]{color:#fff;background-color:#e74c3c}"]}),t})(),Ic=(()=>{class t{constructor(t,e){this._auctionService=t,this._acRoute=e}ngOnInit(){this.idProductDetail=this._acRoute.snapshot.params.productId,this._auctionService.getAuctionByProductId(this.idProductDetail).subscribe(t=>{this.productAuction=t,console.log("product",this.productAuction)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(sc),r.Mb(Ar))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-infomation-auction-seller"]],decls:19,vars:4,consts:[[1,"table",2,"font-size","14px"],["scope","col"],[1,"table-group-divider"]],template:function(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"div"),r.Rb(2,"table",0),r.Rb(3,"thead"),r.Rb(4,"tr"),r.Rb(5,"th",1),r.tc(6,"T\xean T\xe0i Kho\u1ea3n"),r.Qb(),r.Rb(7,"th",1),r.tc(8,"\u0110i\u1ec3m C\u1ed1ng Hi\u1ebfn"),r.Qb(),r.Rb(9,"th",1),r.tc(10,"X\u1ebfp H\u1ea1ng"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"tbody",2),r.Rb(12,"tr"),r.Rb(13,"td"),r.tc(14),r.Qb(),r.Rb(15,"td"),r.tc(16),r.Qb(),r.Rb(17,"td"),r.tc(18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(14),r.wc("",null==e.productAuction?null:e.productAuction.user.firstName," ",null==e.productAuction?null:e.productAuction.user.lastName,""),r.Ab(2),r.uc(e.productAuction.user.pointDedication),r.Ab(2),r.uc(e.productAuction.user.userType.name))},styles:[""]}),t})();function Tc(t,e){if(1&t&&(r.Rb(0,"div",23),r.Nb(1,"img",24),r.Qb()),2&t){const t=e.$implicit;r.Ab(1),r.fc("src",t.url,r.oc)}}function Dc(t,e){if(1&t&&(r.Rb(0,"div",25),r.Rb(1,"button",26),r.Nb(2,"img",24),r.Qb(),r.Qb()),2&t){const t=e.$implicit;r.Ab(2),r.fc("src",t.url,r.oc)}}function Rc(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",83),r.Rb(1,"img",84),r.Zb("click",(function(n){r.mc(t);const i=e.index;return r.bc(3).changeImage(n,1,i)})),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index;r.Db("image__item img-selected",1,""),r.gc("value",n),r.Ab(1),r.gc("src",t.url,r.oc)}}function Oc(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," The bid price must be one step greater than the current price "),r.Qb())}function Nc(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"p",92),r.tc(2,"Gi\xe1 \u0110\u1ea5u Ph\u1ea3i L\u1edbn H\u01a1n Gi\xe1 Hi\u1ec7n T\u1ea1i M\u1ed9t B\u01b0\u1edbc Gi\xe1"),r.Qb(),r.Qb())}function Pc(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",87),r.Nb(1,"input",64),r.Nb(2,"input",65),r.Nb(3,"input",88),r.Rb(4,"div",69),r.rc(5,Nc,3,0,"div",70),r.Qb(),r.Rb(6,"div",89),r.Rb(7,"button",90),r.Zb("click",(function(){return r.mc(t),r.bc(4).reduceAuctionPriceByPriceStep()})),r.tc(8,"- "),r.Qb(),r.Rb(9,"button",91),r.Nb(10,"i",68),r.Qb(),r.Rb(11,"button",90),r.Zb("click",(function(){return r.mc(t),r.bc(4).increaseAuctionPriceByPriceStep()})),r.tc(12,"+ "),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc(4);r.fc("formGroup",t.rfAuction),r.Ab(3),r.fc("value",t.rfAuction.value.currentPrice)("ngClass",null!=t.rfAuction.errors&&t.rfAuction.errors.checkAuctionPrice?"is-invalid":""),r.Ab(2),r.fc("ngIf",(null==t.rfAuction.errors?null:t.rfAuction.errors.checkAuctionPrice)&&t.rfAuction.controls.currentPrice.touched),r.Ab(4),r.fc("disabled",t.rfAuction.invalid)}}function Mc(t,e){if(1&t&&(r.Rb(0,"div",85),r.rc(1,Pc,13,5,"form",86),r.Qb()),2&t){const t=r.bc(3);r.Ab(1),r.fc("ngIf",t.rfAuction)}}function Lc(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"h1"),r.tc(2,"B\u1ea1n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfn h\xe0nh \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb())}function jc(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"h1"),r.tc(2,"S\u1ea3n ph\u1ea9m n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng"),r.Qb(),r.Qb())}function Fc(t,e){1&t&&(r.Rb(0,"div"),r.Nb(1,"app-infomation-auction-buyer"),r.Qb())}function Bc(t,e){1&t&&(r.Rb(0,"div"),r.Nb(1,"app-infomation-auction-seller"),r.Qb())}function zc(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",27),r.Rb(1,"div",28),r.Rb(2,"div",29),r.Rb(3,"div",30),r.Rb(4,"h3",31),r.tc(5),r.Qb(),r.Rb(6,"div",32),r.Nb(7,"img",33),r.Qb(),r.Rb(8,"ul",34),r.rc(9,Rc,2,5,"li",35),r.Qb(),r.Qb(),r.Rb(10,"div",36),r.Rb(11,"div",37),r.Rb(12,"div",38),r.Rb(13,"div",39),r.Rb(14,"div",40),r.Rb(15,"ul",41),r.Rb(16,"li",42),r.Rb(17,"button",43),r.tc(18," Th\xf4ng Tin S\u1ea3n Ph\u1ea9m "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(19,"div",44),r.Rb(20,"div",16),r.Rb(21,"div",8),r.Rb(22,"div",45),r.Rb(23,"span",46),r.tc(24,"Ng\xe0y B\u1eaft \u0110\u1ea7u"),r.Qb(),r.Rb(25,"span",47),r.tc(26),r.cc(27,"date"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(28,"hr"),r.Rb(29,"div",16),r.Rb(30,"div",8),r.Rb(31,"div",48),r.Rb(32,"span",46),r.tc(33,"Ng\xe0y K\u1ebft Th\xfac"),r.Qb(),r.Rb(34,"span",47),r.tc(35),r.cc(36,"date"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(37,"hr"),r.Rb(38,"div",49),r.Rb(39,"div",37),r.Rb(40,"div",16),r.Rb(41,"div",50),r.Rb(42,"span",46),r.tc(43,"M\xf4 T\u1ea3 S\u1ea3n Ph\u1ea9m"),r.Qb(),r.Qb(),r.Rb(44,"div",51),r.Rb(45,"span",52),r.tc(46),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(47,"div",53),r.Rb(48,"div",30),r.Rb(49,"div",54),r.Rb(50,"span",55),r.tc(51,"09"),r.Qb(),r.Rb(52,"span",56),r.tc(53,":"),r.Qb(),r.Rb(54,"span",55),r.tc(55,"09"),r.Qb(),r.Rb(56,"span",56),r.tc(57,":"),r.Qb(),r.Rb(58,"span",55),r.tc(59,"09"),r.Qb(),r.Qb(),r.Rb(60,"div",57),r.Rb(61,"p",58),r.tc(62,"Gi\xe1 Hi\u1ec7n T\u1ea1i"),r.Qb(),r.Rb(63,"h5",59),r.tc(64),r.Rb(65,"sup"),r.tc(66,"\u0111"),r.Qb(),r.Qb(),r.Qb(),r.Rb(67,"div",57),r.Rb(68,"p",60),r.tc(69,"B\u01b0\u1edbc Gi\xe1"),r.Qb(),r.Rb(70,"h5",61),r.tc(71),r.Rb(72,"sup"),r.tc(73,"\u0111"),r.Qb(),r.Qb(),r.Qb(),r.Rb(74,"div",62),r.Rb(75,"button",63),r.tc(76,"-"),r.Qb(),r.Nb(77,"input",64),r.Nb(78,"input",65),r.Rb(79,"button",66),r.Zb("click",(function(){return r.mc(t),r.bc(2).increaseAuctionPriceByPriceStep()})),r.tc(80,"+ "),r.Qb(),r.Rb(81,"button",67),r.Nb(82,"i",68),r.Qb(),r.Rb(83,"div",69),r.rc(84,Oc,2,0,"div",70),r.Qb(),r.Rb(85,"div"),r.Rb(86,"div",71),r.Rb(87,"div",72),r.Rb(88,"p",73),r.tc(89,"Gi\xe1 G\u1ed1c"),r.Qb(),r.Rb(90,"h5",74),r.tc(91),r.cc(92,"currency"),r.Qb(),r.Qb(),r.Rb(93,"div",75),r.Rb(94,"p",73),r.tc(95,"B\u01b0\u1edbc Gi\xe1"),r.Qb(),r.Rb(96,"h5",76),r.tc(97),r.cc(98,"currency"),r.Qb(),r.Qb(),r.Qb(),r.Rb(99,"div",77),r.Rb(100,"p",78),r.tc(101,"Gi\xe1 \u0110\u1ea5u"),r.Qb(),r.Rb(102,"h5",79),r.tc(103),r.cc(104,"currency"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(105,Mc,2,1,"div",80),r.rc(106,Lc,3,0,"div",70),r.rc(107,jc,3,0,"div",70),r.Rb(108,"div",16),r.Rb(109,"div",37),r.Rb(110,"div",38),r.Rb(111,"div",39),r.Rb(112,"div",40),r.Rb(113,"ul",41),r.Rb(114,"li",42),r.Rb(115,"button",81),r.Zb("click",(function(){return r.mc(t),r.bc(2).onChangeInfoSeller()})),r.tc(116," L\u01b0\u1ee3t \u0110\u1ea5u Gi\xe1 "),r.Qb(),r.Qb(),r.Rb(117,"li",42),r.Rb(118,"button",82),r.Zb("click",(function(){return r.mc(t),r.bc(2).onChangeInfoAuction()})),r.tc(119," Ch\u1ee7 S\u1ea3n Ph\u1ea9m "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(120,Fc,2,0,"div",70),r.rc(121,Bc,2,0,"div",70),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc(2);r.Ab(5),r.uc(t.productDetail.name),r.Ab(2),r.hc("id","image__main",1,""),r.gc("src",null==t.productDetail||null==t.productDetail.imgUrlProducts[0]?null:t.productDetail.imgUrlProducts[0].url,r.oc),r.Ab(2),r.fc("ngForOf",null==t.productDetail?null:t.productDetail.imgUrlProducts),r.Ab(17),r.uc(r.ec(27,19,t.productDetail.startTime,"dd/MM/yyyy HH:mm:ss")),r.Ab(9),r.uc(r.ec(36,22,t.productDetail.endTime,"dd/MM/yyyy HH:mm:ss")),r.Ab(11),r.uc(t.productDetail.description),r.Ab(18),r.uc(t.productDetail.maxCurrentPrice),r.Ab(7),r.uc(t.productDetail.priceStep.step),r.Ab(10),r.fc("disabled",t.rfAuction.invalid),r.Ab(3),r.fc("ngIf",(null==t.rfAuction.errors?null:t.rfAuction.errors.checkAuctionPrice)&&t.rfAuction.controls.currentPrice.touched),r.Ab(7),r.uc(r.ec(92,25,t.productDetail.initialPrice,"VND")),r.Ab(6),r.uc(r.ec(98,28,t.productDetail.priceStep.step,"VND")),r.Ab(6),r.uc(r.ec(104,31,t.productDetail.maxCurrentPrice,"VND")),r.Ab(2),r.fc("ngIf",3!=(null==t.productDetail?null:t.productDetail.auctionStatus.id)&&t.checkLogin&&"ROLE_ADMIN"!=t.accountRole),r.Ab(1),r.fc("ngIf",!t.checkLogin),r.Ab(1),r.fc("ngIf",t.checkLogin&&3==(null==t.productDetail?null:t.productDetail.auctionStatus.id)),r.Ab(13),r.fc("ngIf",t.changeBuyer),r.Ab(1),r.fc("ngIf",t.changeSeller)}}function Qc(t,e){if(1&t&&(r.Rb(0,"div",12),r.Rb(1,"h3",13),r.tc(2),r.Qb(),r.Rb(3,"div",14),r.Rb(4,"div",15),r.Rb(5,"div",16),r.Rb(6,"div",17),r.Rb(7,"div",18),r.Rb(8,"div",19),r.rc(9,Tc,2,1,"div",20),r.Qb(),r.rc(10,Dc,3,1,"div",21),r.Qb(),r.Qb(),r.rc(11,zc,122,34,"div",22),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.bc();r.Ab(2),r.uc(t.productDetail.name),r.Ab(7),r.fc("ngForOf",t.productDetail.imgUrlProducts),r.Ab(1),r.fc("ngForOf",t.productDetail.imgUrlProducts),r.Ab(1),r.fc("ngIf",t.productDetail)}}let Vc=(()=>{class t{constructor(t,e,n,r,i){this._auctionService=t,this._formBuilder=e,this._acRoute=n,this._socketService=r,this._tokenService=i,this.changeBuyer=!0,this.changeSeller=!1,this.checkLogin=!1,this.checkAuctionPrice=t=>t.get("currentPrice").value<Number(this.productDetail.maxCurrentPrice)+Number(this.productDetail.priceStep.step)?{checkAuctionPrice:!0}:null}ngOnInit(){if(this._tokenService.isLogged()){this.checkLogin=!0,this.currentAccount=JSON.parse(this._tokenService.getAccount());const t=this._tokenService.getRole();for(let e=0;e<t.length;e++)"ROLE_ADMIN"===t[e]&&(this.accountRole="ROLE_ADMIN");console.log("accountId: "+this.currentAccount.id)}this.idProductDetail=this._acRoute.snapshot.params.productId,this._socketService.setProductIdDetail(this.idProductDetail),this._auctionService.getAuctionByProductId(this.idProductDetail).subscribe(t=>{this.productDetail=t,this.rfAuction=this._formBuilder.group({currentPrice:[this.productDetail.maxCurrentPrice],userId:[5],productId:[this.idProductDetail]},{validators:[this.checkAuctionPrice]}),this.selectedChangImage()}),this._socketService.auctionSubject.subscribe(t=>{this.productDetail=Object.assign(Object.assign({},this.productDetail),{maxCurrentPrice:t.currentPrice}),this.rfAuction.get("currentPrice").setValue(t.currentPrice)})}onChangeInfoSeller(){this.changeBuyer=!0,this.changeSeller=!1;let t=document.getElementById("title-seller"),e=document.getElementById("title-buyer");e.style.backgroundColor="#ffffff",t.style.backgroundColor="transparent",t.style.color="white",e.style.color="black"}onChangeInfoAuction(){this.changeBuyer=!1,this.changeSeller=!0;let t=document.getElementById("title-seller"),e=document.getElementById("title-buyer");e.style.backgroundColor="transparent",t.style.backgroundColor="#ffffff",t.style.color="black",e.style.color="white"}increaseAuctionPriceByPriceStep(){this.rfAuction.valid?(this.rfAuction.value.currentPrice=Number(this.rfAuction.value.currentPrice)+Number(this.productDetail.priceStep.step),this.auctionPrice=this.rfAuction.value.currentPrice):(this.rfAuction.value.currentPrice=Number(this.productDetail.maxCurrentPrice)+Number(this.productDetail.priceStep.step),this.auctionPrice=this.rfAuction.value.currentPrice,this.rfAuction.setValue({currentPrice:this.auctionPrice,userId:5,productId:this.idProductDetail}),this.checkAuctionPrice(this.rfAuction))}reduceAuctionPriceByPriceStep(){this.rfAuction.valid&&(this.rfAuction.value.currentPrice=Number(this.rfAuction.value.currentPrice)-Number(this.productDetail.priceStep.step),this.auctionPrice=this.rfAuction.value.currentPrice,this.rfAuction.setValue({currentPrice:this.auctionPrice,userId:[5],productId:[this.idProductDetail]}),this.checkAuctionPrice(this.rfAuction))}onAuction(){this._socketService.createAuctionUsingWebsocket(this.rfAuction.value),document.getElementById("auto-reload").click(),this.ngOnInit()}changeImage(t,e,n){const r=t.target.src,i=document.querySelectorAll(".img-selected"+e);document.getElementById("image__main"+e).setAttribute("src",r),i.forEach(t=>{t.getAttribute("value")==n+""?t.classList.add("actived"):t.classList.remove("actived")})}selectedChangImage(){setTimeout(()=>{document.querySelectorAll(".carousel__images").forEach(t=>{t.children[0].classList.add("actived")})},500)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(sc),r.Mb(ya),r.Mb(Ar),r.Mb(_c),r.Mb(tc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-auction-product-detail"]],decls:23,vars:6,consts:[["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body","d-flex","justify-content-center","flex-wrap"],["height","300px","alt","",1,"d-block","w-auto","mb-3",3,"src"],[1,"mt-2","w-100",2,"text-align","center","font-size","20px","margin-bottom","-10px"],[2,"color","red","font-weight","bold","font-size","20px"],[1,"row","mb-3",2,"text-align","center"],[1,"col-lg-6"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",2,"padding","10px","font-size","20px","width","85%"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",2,"padding","10px","font-size","20px","width","85%",3,"click"],["class","container",4,"ngIf"],[1,"container"],[1,"mt-3","alert","alert-success","text-center",2,"color","black"],[1,"row","bg","bg-ligh"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"mt-4","card","card-body","w-50",2,"margin-right","22px"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],["class","carousel-inner",4,"ngFor","ngForOf"],["class","carousel-indicators",4,"ngFor","ngForOf"],["class","container-fluid",4,"ngIf"],[1,"carousel-inner"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-current","true","aria-label","Slide 1",1,"thumbnail"],[1,"container-fluid"],[1,"row","bg","bg-light"],[1,"col-lg-7","mt-5"],[1,"card","card-body"],[1,"alert","text-center",2,"background","#E74C3C","color","white"],[1,"d-flex","justify-content-center"],["alt","",1,"d-block","w-75","card-img","text-center",3,"id","src"],[1,"carousel__images","d-flex","justify-content-center"],[3,"value","class",4,"ngFor","ngForOf"],[1,"row","mb-5"],[1,"col-lg-12"],[1,"mt-4"],[1,"card","text-center"],[1,"card-header",2,"background","#E74C3C"],[1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],["id","title-hammer","aria-current","true",1,"nav-link","active"],["id","show-hammer"],[1,"card-body","card-detail","text-lg-start","mt-3"],[1,"card-text","title-detail"],[1,"card-text"],[1,"card-body","card-detail","text-lg-start"],[1,"row","mt-4","mb-4"],[1,"col-lg-3"],[1,"col-lg-9",2,"text-align","justify"],[2,"padding-right","40px","display","block"],[1,"col-lg-5","mt-5"],[1,"time","mt-0"],[1,"time__hh","mx-2"],[1,"mx-2"],[1,"card","mt-4"],[1,"title-currency","card-text","alert","alert-danger",2,"color","white","background-color","#dc3545"],[1,"currency","card-title"],[1,"title-currency-1","card-text","alert","alert-info",2,"color","white","background-color","#00434c"],[1,"currency-1","card-title",2,"color","#00434c"],[1,"input-group","mt-4","d-flex","align-items-center","justify-content-center"],["type","button",1,"btn","btn-outline-danger",2,"font-size","25px"],["hidden","","formControlName","userId"],["hidden","","formControlName","productId"],["type","button",1,"btn","btn-outline-danger",2,"font-size","25px",3,"click"],["type","submit",1,"hammer","w-25","btn","btn-danger",2,"font-size","25px","font-weight","bold",3,"disabled"],[1,"fa-solid","fa-gavel","mx-3",2,"font-size","30px"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"card","mt-3",2,"width","49%"],[1,"title-currency-1",2,"color","white","background-color","#2c3b59"],[1,"currency-1","card-title","product__price",2,"color","#2c3b59"],[1,"card","mt-3",2,"width","48%"],[1,"currency-1","card-title","product__price",2,"color","#00434c"],[1,"card","mt-3"],[1,"title-currency",2,"color","white","background-color","#dc3545"],[1,"currency","card-title","product__price"],["class","input-group mt-3 d-flex align-items-center justify-content-center",4,"ngIf"],["id","title-buyer","aria-current","true","type","button",1,"nav-link","active",2,"border","none",3,"click"],["id","title-seller","aria-current","true","type","button",1,"nav-link","active",2,"background-color","#E74C3C","border","none",3,"click"],[3,"value"],["height","50","width","","alt","",1,"d-block","w-100",3,"src","click"],[1,"input-group","mt-3","d-flex","align-items-center","justify-content-center"],["class","d-flex flex-wrap",3,"formGroup",4,"ngIf"],[1,"d-flex","flex-wrap",3,"formGroup"],["type","number","formControlName","currentPrice",1,"form-control","w-100",2,"font-size","24px","font-weight","bold","text-align","right",3,"value","ngClass"],[1,"w-100","d-flex","mt-3"],["type","button",1,"btn","btn-danger","w-25",2,"font-size","25px",3,"click"],["type","submit","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"hammer","btn","btn-danger","w-50","mx-2",2,"font-size","25px","font-weight","bold",3,"disabled"],[1,"text-center"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Nb(4,"img",4),r.Rb(5,"p",5),r.tc(6," \u0110\u1ea5u gi\xe1 ngay s\u1ea3n ph\u1ea9m "),r.Rb(7,"span",6),r.tc(8),r.cc(9,"titlecase"),r.Qb(),r.tc(10," v\u1edbi m\u1ee9c gi\xe1 "),r.Rb(11,"span",6),r.tc(12),r.Qb(),r.tc(13," ? "),r.Qb(),r.Qb(),r.Nb(14,"hr"),r.Rb(15,"div",7),r.Rb(16,"div",8),r.Rb(17,"button",9),r.tc(18,"\u0110\xf3ng "),r.Qb(),r.Qb(),r.Rb(19,"div",8),r.Rb(20,"button",10),r.Zb("click",(function(){return e.onAuction()})),r.tc(21,"X\xe1c Nh\u1eadn "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(22,Qc,12,4,"div",11)),2&t&&(r.Ab(4),r.gc("src",null==e.productDetail.imgUrlProducts[0]?null:e.productDetail.imgUrlProducts[0].url,r.oc),r.Ab(4),r.uc(r.dc(9,4,e.productDetail.name)),r.Ab(4),r.uc(e.rfAuction.value.currentPrice),r.Ab(10),r.fc("ngIf",e.productDetail))},directives:[gt,ft,qo,Zo,ga,oa,Jo,ca,us,dt,Sc,Ic],pipes:[_t,wt,Ct],styles:[".carousel-indicators[_ngcontent-%COMP%]   button.thumbnail[_ngcontent-%COMP%]{width:60px}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:20px}.carousel-indicators[_ngcontent-%COMP%]   button.thumbnail[_ngcontent-%COMP%]:not(.active){opacity:.7}.carousel-indicators[_ngcontent-%COMP%]{position:static}@media screen and (min-width:990px){.carousel[_ngcontent-%COMP%]{max-width:80%;margin:0 auto}}.title[_ngcontent-%COMP%]{margin-bottom:10px}.hammer[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-weight:700}.hammer[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]{list-style:none}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:12px;cursor:pointer;border:3px solid rgba(245,76,59,0)}.image__item.actived[_ngcontent-%COMP%]{border:3px solid rgba(245,76,59,.67);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.currency[_ngcontent-%COMP%]{color:#dc3545;border-radius:4px}.currency[_ngcontent-%COMP%], .title-currency[_ngcontent-%COMP%]{font-weight:700;font-size:24px;text-align:center;padding:4px 0!important}.title-currency[_ngcontent-%COMP%]{border-radius:3px;color:red}#title-seller[_ngcontent-%COMP%]{color:#fff}.currency-1[_ngcontent-%COMP%]{color:#dc3545}.currency-1[_ngcontent-%COMP%], .title-currency-1[_ngcontent-%COMP%]{font-weight:700;font-size:24px;text-align:center}.title-currency-1[_ngcontent-%COMP%]{padding:4px 0!important;border-radius:4px}.time[_ngcontent-%COMP%]{font-size:50px;font-weight:500;color:#e74c3c;display:flex;justify-content:center}.time__hh[_ngcontent-%COMP%]{background:#f5f5f5}.people-hammer[_ngcontent-%COMP%], .time__hh[_ngcontent-%COMP%]{border-radius:4px;padding:4px;box-shadow:1px 1px 2px rgba(213,31,31,.35)}.people-hammer[_ngcontent-%COMP%]{margin-bottom:-2px;background:#d1e7dd;width:80%}.title-detail[_ngcontent-%COMP%]{font-weight:700}.title-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.card-detail[_ngcontent-%COMP%]{font-size:16px;display:flex;justify-content:space-between}.product__price[_ngcontent-%COMP%]:first-letter{right:200px;margin-right:8px}"]}),t})(),Uc=(()=>{class t{constructor(t){this._httpClient=t}getListCategory(){return this._httpClient.get(o.categoryUrl)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qc=(()=>{class t{constructor(t){this._httpClient=t}getListPriceStep(){return this._httpClient.get(o.priceStepUrl)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hc=(()=>{class t{constructor(t){this._httpClient=t,this.httpOptions={headers:new oo({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}findAllUserType(){return this._httpClient.get(o.api_url_userType)}searchBy(t,e){return this._httpClient.get(o.api_url_list_user+"/list?page="+e+"&id="+t.idSearch+"&name="+t.nameSearch+"&email="+t.emailSearch+"&address="+t.addressSearch+"&userType="+t.userTypeSearch)}findUserEditById(t){return this._httpClient.get(o.api_url_list_user+"/"+t,this.httpOptions)}findUserById(t){return this._httpClient.get(o.userUrl+"find/"+t)}saveaddAcountUser(t){return console.log(t),this._httpClient.post("http://localhost:8080/api/user/v1/add",t)}updateByAdim(t,e){return this._httpClient.put(o.api_url_list_user+"/"+t,e)}unlock(t){return this._httpClient.post(o.api_url_list_user+"/unlockUser",t)}findByListId(t){return this._httpClient.post(o.api_url_list_user_list_id,t)}getAllUserChat(){return this._httpClient.get("http://localhost:8080/api/v1/users/getAll")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gc=n("D0XW");class Wc{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Kc(t,this.dueTime,this.scheduler))}}class Kc extends Ie.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function $c(t){t.debouncedNext()}var Yc=n("pxpQ"),Zc=n("spgP"),Jc=n("zIRd"),Xc=function(t,e){return(Xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},tl=function(){return(tl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function el(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function nl(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function rl(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var il=n("qOnz"),ol=n("/6Yf"),sl=function(t){function e(n,r){var i=t.call(this,al(n),"Firebase Storage: "+r+" ("+al(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Xc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return al(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(il.FirebaseError);function al(t){return"storage/"+t}function cl(){return new sl("unknown","An unknown error occurred, please check the error payload for server response.")}function ll(){return new sl("canceled","User canceled the upload/download.")}function ul(){return new sl("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dl(t){return new sl("invalid-argument",t)}function hl(){return new sl("app-deleted","The Firebase app was deleted.")}function fl(t){return new sl("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pl(t,e){return new sl("invalid-format","String does not match format '"+t+"': "+e)}function gl(t){throw new sl("internal-error","Internal error: "+t)}var ml={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},bl=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function vl(t,e){switch(t){case ml.RAW:return new bl(yl(e));case ml.BASE64:case ml.BASE64URL:return new bl(_l(t,e));case ml.DATA_URL:return new bl((n=new wl(e)).base64?_l(ml.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(kR){throw pl(ml.DATA_URL,"Malformed data URL.")}return yl(e)}(n.rest),function(t){return new wl(t).contentType}(e))}var n;throw cl()}function yl(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _l(t,e){switch(t){case ml.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw pl(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ml.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw pl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(kR){throw pl(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var wl=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw pl(ml.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),kl={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cl(t){switch(t){case"running":case"pausing":case"canceling":return kl.RUNNING;case"paused":return kl.PAUSED;case"success":return kl.SUCCESS;case"canceled":return kl.CANCELED;case"error":default:return kl.ERROR}}var Al=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),El=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Al.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Al.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Al.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch(kR){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw gl("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),xl=function(){function t(){}return t.prototype.createConnection=function(){return new El},t}(),Sl=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(kR){return new t(e,"")}if(""===r.path)return r;throw new sl("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<a.length;c++){var l=a[c],u=l.regex.exec(e);if(u){var d=u[l.indices.path];d||(d=""),r=new t(u[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new sl("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Il=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Tl(t){return"string"==typeof t||t instanceof String}function Dl(t){return Rl()&&t instanceof Blob}function Rl(){return"undefined"!=typeof Blob}function Ol(t,e,n,r){if(r<e)throw dl("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw dl("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Nl(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function Pl(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Ml=function(){function t(t,e,n,r,i,o,s,a,c,l,u){var d=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=c,this.pool_=u,this.promise_=new Promise((function(t,e){d.resolve_=t,d.reject_=e,d.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(kR){o(kR)}else null!==s?((r=cl()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?hl():ll():new sl("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Ll(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var l=!1;function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function d(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Ll(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===Al.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Ll(s,r))}else{var a=r.getErrorCode()===Al.ABORT;e(!1,new Ll(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(h,c())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)u.call.apply(u,rl([null,t],e));else{var r,o=c()||s;o?u.call.apply(u,rl([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),d(r))}}var f=!1;function p(t){f||(f=!0,l||(null!==o?(t||(a=2),clearTimeout(o),d(0)):t||(a=1)))}return d(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Ll=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function jl(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=jl();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Rl())return new Blob(t);throw new sl("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Bl=function(){function t(t,e){var n=0,r="";Dl(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Dl(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Rl()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Fl.apply(null,r))}var i=e.map((function(t){return Tl(t)?vl(ml.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function zl(t){var e,n;try{e=JSON.parse(t)}catch(kR){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Ql(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Vl(t,e){return e}var Ul=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Vl}}(),ql=null;function Hl(){if(ql)return ql;var t=[];t.push(new Ul("bucket")),t.push(new Ul("generation")),t.push(new Ul("metageneration")),t.push(new Ul("name","fullPath",!0));var e=new Ul("name");e.xform=function(t,e){return function(t){return!Tl(t)||t.length<2?t:Ql(t)}(e)},t.push(e);var n=new Ul("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Ul("timeCreated")),t.push(new Ul("updated")),t.push(new Ul("md5Hash",null,!0)),t.push(new Ul("cacheControl",null,!0)),t.push(new Ul("contentDisposition",null,!0)),t.push(new Ul("contentEncoding",null,!0)),t.push(new Ul("contentLanguage",null,!0)),t.push(new Ul("contentType",null,!0)),t.push(new Ul("metadata","customMetadata",!0)),ql=t}function Gl(t,e,n){var r=zl(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Sl(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Wl(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Kl=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function $l(t){if(!t)throw cl()}function Yl(t,e){return function(n,r){var i=Gl(t,r,e);return $l(null!==i),i}}function Zl(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new sl("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new sl("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new sl("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new sl("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Jl(t){var e=Zl(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new sl("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Xl(t,e,n){var r=Nl(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Kl(r,"GET",Yl(t,n),i);return o.errorHandler=Jl(e),o}function tu(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var eu=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function nu(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(kR){$l(!1)}return $l(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ru=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function iu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ou=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Hl(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=tu(e,r,i),a={name:s.fullPath},c=Nl(o,t.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=Wl(s,n),d=new Kl(c,"POST",(function(t){var e;nu(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(kR){$l(!1)}return $l(Tl(e)),e}),t.maxUploadRetryTime);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=Zl(e),d}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new Kl(n,"POST",(function(t){var e=nu(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(kR){$l(!1)}n||$l(!1);var i=Number(n);return $l(!isNaN(i)),new eu(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Zl(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new eu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var c=new eu(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new sl("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,u=l;i>0&&(u=Math.min(u,i));var d=c.current,h={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},f=r.slice(d,d+u);if(null===f)throw ul();var p=new Kl(n,"POST",(function(t,n){var i,s=nu(t,["active","final"]),a=c.current+u,l=r.size();return i="final"===s?Yl(e,o)(t,n):null,new eu(a,l,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=h,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=Zl(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(kR){return t._error=kR,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Xl(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=tu(e,r,i),l=Wl(c,n),u=Bl.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw ul();var d={name:c.fullPath},h=Nl(o,t.host),f=t.maxUploadRetryTime,p=new Kl(h,"POST",Yl(t,n),f);return p.urlParams=d,p.headers=s,p.body=u.uploadData(),p.errorHandler=Zl(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ll(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Cl(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ru(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Cl(this._state)){case kl.SUCCESS:iu(this._resolve.bind(null,this.snapshot))();break;case kl.CANCELED:case kl.ERROR:iu(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Cl(this._state)){case kl.RUNNING:case kl.PAUSED:t.next&&iu(t.next.bind(t,this.snapshot))();break;case kl.SUCCESS:t.complete&&iu(t.complete.bind(t))();break;case kl.CANCELED:case kl.ERROR:t.error&&iu(t.error.bind(t,this._error))();break;default:t.error&&iu(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),su=function(){function t(t,e){this._service=t,this._location=e instanceof Sl?e:Sl.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Sl(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Ql(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Sl(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw fl(t)},t}();function au(t,e){return el(this,void 0,void 0,(function(){var n,r;return nl(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Ol("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Nl(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new Kl(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=zl(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new Sl(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,l=n.items;c<l.length;c++)a=t._makeStorageReference(new Sl(e,l[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return $l(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=Zl(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function cu(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Sl(t._location.bucket,n);return new su(t.storage,r)}function lu(t){return/^[A-Za-z]+:\/\//.test(t)}function uu(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Sl.makeFromBucketSpec(n,t)}var du=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Sl.makeFromBucketSpec(i,this._host):uu(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Sl.makeFromBucketSpec(this._url,t):uu(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ol("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ol("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return el(this,void 0,void 0,(function(){var t,e;return nl(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return el(this,void 0,void 0,(function(){var t;return nl(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new su(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new Il(hl());var i=function(t,e,n,r,i,o){var s=Pl(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Ml(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return el(this,void 0,void 0,(function(){var e;return nl(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function hu(t,e){return function(t,e){if(e&&lu(e)){if(t instanceof du)return new su(t,e);throw dl("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof du){var r=e;if(null==r._bucket)throw new sl("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new su(r,r._bucket);return null!=n?t(i,n):i}return void 0!==n?cu(e,n):e}(t,e)}(t=Object(il.getModularInstance)(t),e)}var fu,pu,gu=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),mu=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new gu(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new gu(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new gu(t,i,i._ref))}:{next:e.next?function(t){return e.next(new gu(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),bu=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new vu(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new vu(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),vu=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return cu(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new mu(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ou(t,new Bl(e),n)}(t=Object(il.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ml.RAW),this._throwIfRoot("putString");var r=vl(e,t),i=tl({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new mu(new ou(this._delegate,new Bl(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return el(this,void 0,void 0,(function(){var i,o,s;return nl(this,(function(a){switch(a.label){case 0:return[4,au(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(il.getModularInstance)(t))).then((function(t){return new bu(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return au(t=Object(il.getModularInstance)(t),e)}(this._delegate,t||void 0).then((function(t){return new bu(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return el(this,void 0,void 0,(function(){var e;return nl(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Xl(t.storage,t._location,Hl()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(il.getModularInstance)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return el(this,void 0,void 0,(function(){var n;return nl(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=Nl(e.fullServerUrl(),t.host),o=Wl(n,r),s=t.maxOperationRetryTime,a=new Kl(i,"PATCH",Yl(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Jl(e),a}(t.storage,t._location,e,Hl()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(il.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return el(this,void 0,void 0,(function(){var e;return nl(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=Nl(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Kl(r,"GET",function(t,e){return function(n,r){var i=Gl(t,r,e);return $l(null!==i),function(t,e,n){var r=zl(e);if(null===r)return null;if(!Tl(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return Nl("/b/"+o(t.bucket)+"/o/"+o(r),n)+Pl({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=Jl(e),o}(t.storage,t._location,Hl()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new sl("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(il.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return el(this,void 0,void 0,(function(){var e;return nl(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=Nl(e.fullServerUrl(),t.host),r=new Kl(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Jl(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(il.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw fl(t)},t}(),yu=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(lu(t))throw dl("ref() expected a child path but got a URL, use refFromURL instead.");return new vu(hu(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!lu(t))throw dl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Sl.makeFromUrl(t,this._delegate.host)}catch(kR){throw dl("refFromUrl() expected a valid full URL but got an invalid one.")}return new vu(hu(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(il.createMockUserToken)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();function _u(t){const e=function(t){return new fe.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Gc.a){return n=>n.lift(new Wc(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Ee.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function wu(t,e,n){return{getDownloadURL:()=>Object(ce.a)(void 0).pipe(Object(Yc.b)(e.outsideAngular),nn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(ce.a)(void 0).pipe(Object(Yc.b)(e.outsideAngular),nn(()=>t.getMetadata()),n),delete:()=>Object(le.a)(t.delete()),child:r=>wu(t.child(r),e,n),updateMetadata:e=>Object(le.a)(t.updateMetadata(e)),put:(e,n)=>_u(t.put(e,n)),putString:(e,n,r)=>_u(t.putString(e,n,r)),listAll:()=>Object(le.a)(t.listAll())}}pu={TaskState:kl,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:ml,Storage:du,Reference:vu},(fu=Jc.default).INTERNAL.registerComponent(new ol.Component("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new yu(r,new du(r,i,o,new xl,n,Jc.default.SDK_VERSION))}),"PUBLIC").setServiceProps(pu).setMultipleInstances(!0)),fu.registerVersion("@firebase/storage","0.7.1");const ku=new r.q("angularfire2.storageBucket"),Cu=new r.q("angularfire2.storage.maxUploadRetryTime"),Au=new r.q("angularfire2.storage.maxOperationRetryTime");let Eu=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Zc.d(i),this.keepUnstableUntilFirst=Object(Zc.g)(this.schedulers);const a=Object(Zc.f)(t,i,e);this.storage=Object(Zc.e)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return wu(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return wu(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return wu(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Zc.c),r.Vb(Zc.b,8),r.Vb(ku,8),r.Vb(r.B),r.Vb(r.z),r.Vb(Cu,8),r.Vb(Au,8))},t.\u0275prov=r.Ib({factory:function(){return new t(r.Vb(Zc.c),r.Vb(Zc.b,8),r.Vb(ku,8),r.Vb(r.B),r.Vb(r.z),r.Vb(Cu,8),r.Vb(Au,8))},token:t,providedIn:"any"}),t})(),xu=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),Su=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Eu],imports:[xu]}),t})(),Iu=(()=>{class t{constructor(t){this._httpClient=t,this.httpOptions={headers:new oo({"Content-Type":"application/json"}),"Access-Control-Allow-Origin":"http://localhost:4200","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}create(t){return this._httpClient.post(o.imageUrl+"/create",t,this.httpOptions)}getListImgProductId(t){return this._httpClient.get(o.imageUrl+"/"+t,this.httpOptions)}update(t,e){return this._httpClient.put(o.imageUrl+"/update/"+e,t)}delete(t){return this._httpClient.delete(o.imageUrl+"/delete/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Du(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \xedt h\u01a1n 6 k\xed t\u1ef1! "),r.Qb())}function Ru(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1! "),r.Qb())}function Ou(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Nu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng s\u1ed1! "),r.Qb())}function Pu(t,e){if(1&t&&(r.Rb(0,"textarea",49),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.vc("                  ",t.checkUser,"\n            ")}}function Mu(t,e){if(1&t&&(r.Rb(0,"textarea",49),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.vc("                  ",t.checkUser,"\n            ")}}function Lu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function ju(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Gi\xe1 ban \u0111\u1ea7u kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 0! "),r.Qb())}function Fu(t,e){if(1&t&&(r.Rb(0,"option",50),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.step)}}function Bu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function zu(t,e){if(1&t&&(r.Rb(0,"option",50),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function Qu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Vu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Uu(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.uc(t.messageCreate)}}function qu(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",51),r.Rb(1,"div",52),r.Nb(2,"img",53),r.Rb(3,"span",54),r.Zb("click",(function(){r.mc(t);const n=e.index;return r.bc(2).deleteImageNew(n)})),r.Nb(4,"i",55),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t,r.oc)}}function Hu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Gu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i! "),r.Qb())}function Wu(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Ku(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1! "),r.Qb())}function $u(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Yu(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",7),r.Zb("ngSubmit",(function(){return r.mc(t),r.bc().addNewProduct()})),r.Rb(1,"fieldset"),r.Rb(2,"legend"),r.Rb(3,"div",8),r.Rb(4,"h1"),r.tc(5,"Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",4),r.Rb(7,"div",9),r.Nb(8,"object",10),r.Rb(9,"label",11),r.tc(10,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(11,"span",6),r.tc(12," (*)"),r.Qb(),r.tc(13,":"),r.Qb(),r.Qb(),r.Nb(14,"input",12),r.Rb(15,"div",13),r.rc(16,Tu,2,0,"div",14),r.rc(17,Du,2,0,"div",14),r.rc(18,Ru,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(19,"div",4),r.Rb(20,"div",15),r.Nb(21,"object",16),r.Rb(22,"label",11),r.tc(23,"M\xe3 ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(24,"span",6),r.tc(25," (*)"),r.Qb(),r.tc(26,":"),r.Qb(),r.Qb(),r.Rb(27,"div",9),r.Nb(28,"input",17,18),r.Rb(30,"button",19),r.Zb("click",(function(){r.mc(t);const e=r.lc(29);return r.bc().findUserById(e)})),r.Nb(31,"object",20),r.tc(32," Ki\u1ec3m tra "),r.Qb(),r.Rb(33,"button",21),r.Zb("click",(function(){r.mc(t);const e=r.lc(29);return r.bc().resetFindUserById(e)})),r.Nb(34,"object",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(35,"div",23),r.rc(36,Ou,2,0,"div",14),r.rc(37,Nu,2,0,"div",14),r.Qb(),r.Rb(38,"div",4),r.Rb(39,"div",9),r.Nb(40,"object",24),r.Rb(41,"label",11),r.tc(42,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng:"),r.Qb(),r.Qb(),r.rc(43,Pu,2,1,"textarea",25),r.rc(44,Mu,2,1,"textarea",25),r.Qb(),r.Rb(45,"div",4),r.Rb(46,"div",9),r.Nb(47,"object",26),r.Rb(48,"label",11),r.tc(49,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(50,"span",6),r.tc(51," (*)"),r.Qb(),r.tc(52,":"),r.Qb(),r.Qb(),r.Nb(53,"input",27),r.Rb(54,"div",13),r.rc(55,Lu,2,0,"div",14),r.rc(56,ju,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(57,"div",4),r.Rb(58,"div",9),r.Nb(59,"object",28),r.Rb(60,"label",11),r.tc(61,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Rb(62,"span",6),r.tc(63," (*)"),r.Qb(),r.tc(64,":"),r.Qb(),r.Qb(),r.Rb(65,"select",29),r.rc(66,Fu,2,2,"option",30),r.Qb(),r.Rb(67,"div",13),r.rc(68,Bu,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(69,"div",4),r.Rb(70,"div",9),r.Nb(71,"object",31),r.Rb(72,"label",11),r.tc(73,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(74,"span",6),r.tc(75,"(*)"),r.Qb(),r.tc(76,":"),r.Qb(),r.Qb(),r.Rb(77,"select",32),r.rc(78,zu,2,2,"option",30),r.Qb(),r.Rb(79,"div",13),r.rc(80,Qu,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(81,"div",4),r.Rb(82,"div",9),r.Nb(83,"object",33),r.Rb(84,"label",11),r.tc(85,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Rb(86,"span",6),r.tc(87,"(*)"),r.Qb(),r.tc(88,":"),r.Qb(),r.Qb(),r.Rb(89,"input",34),r.Zb("change",(function(e){return r.mc(t),r.bc().showPreview(e)})),r.Qb(),r.Rb(90,"div",23),r.rc(91,Vu,2,0,"div",14),r.Qb(),r.Qb(),r.rc(92,Uu,2,1,"div",14),r.Rb(93,"div",35),r.rc(94,qu,5,1,"div",36),r.Qb(),r.Rb(95,"div",4),r.Rb(96,"div",9),r.Nb(97,"object",24),r.Rb(98,"label",11),r.tc(99,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(100,"span",6),r.tc(101,"(*)"),r.Qb(),r.tc(102,":"),r.Qb(),r.Qb(),r.Nb(103,"textarea",37),r.Rb(104,"div",13),r.rc(105,Hu,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(106,"div",4),r.Rb(107,"div",9),r.Nb(108,"object",38),r.Rb(109,"label",11),r.tc(110,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Rb(111,"span",6),r.tc(112," (*)"),r.Qb(),r.tc(113,":"),r.Qb(),r.Qb(),r.Nb(114,"input",39),r.Rb(115,"div",13),r.rc(116,Gu,2,0,"div",14),r.rc(117,Wu,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(118,"div",4),r.Rb(119,"div",9),r.Nb(120,"object",40),r.Rb(121,"label",11),r.tc(122,"Th\u1eddi gian k\u1ebft th\xfac"),r.Rb(123,"span",6),r.tc(124," (*)"),r.Qb(),r.tc(125,":"),r.Qb(),r.Qb(),r.Nb(126,"input",41),r.Rb(127,"div",13),r.rc(128,Ku,2,0,"div",14),r.rc(129,$u,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(130,"div",42),r.Rb(131,"button",43),r.Nb(132,"object",44),r.Rb(133,"p"),r.tc(134," Th\xeam "),r.Qb(),r.Qb(),r.Rb(135,"button",45),r.Nb(136,"object",46),r.Rb(137,"p"),r.tc(138,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Rb(139,"button",47),r.Nb(140,"object",48),r.Rb(141,"p"),r.tc(142,"H\u1ee7y"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.formCreateProduct),r.Ab(14),r.fc("ngClass",t.formCreateProduct.controls.name.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.name.errors?null:t.formCreateProduct.controls.name.errors.required)&&t.formCreateProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.name.errors?null:t.formCreateProduct.controls.name.errors.minlength)&&t.formCreateProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.name.errors?null:t.formCreateProduct.controls.name.errors.maxlength)&&t.formCreateProduct.controls.name.touched),r.Ab(10),r.fc("ngClass",t.formCreateProduct.controls.user.invalid?"is-invalid":"is-valid"),r.Ab(8),r.fc("ngIf",(null==t.formCreateProduct.controls.user.errors?null:t.formCreateProduct.controls.user.errors.required)&&t.formCreateProduct.controls.user.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.user.errors?null:t.formCreateProduct.controls.user.errors.pattern)&&t.formCreateProduct.controls.user.touched),r.Ab(6),r.fc("ngIf",t.userFind),r.Ab(1),r.fc("ngIf",!t.userFind),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.initialPrice.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.initialPrice.errors?null:t.formCreateProduct.controls.initialPrice.errors.required)&&t.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.initialPrice.errors?null:t.formCreateProduct.controls.initialPrice.errors.pattern)&&t.formCreateProduct.controls.initialPrice.touched),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.priceStep.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",t.priceStepList),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.priceStep.errors?null:t.formCreateProduct.controls.priceStep.errors.required)&&t.formCreateProduct.controls.priceStep.touched),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.category.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",t.categoryList),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.category.errors?null:t.formCreateProduct.controls.category.errors.required)&&t.formCreateProduct.controls.category.touched),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.imageProduct.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.imageProduct.errors?null:t.formCreateProduct.controls.imageProduct.errors.required)&&t.formCreateProduct.controls.imageProduct.touched),r.Ab(1),r.fc("ngIf",""!=t.messageCreate),r.Ab(2),r.fc("ngForOf",t.imgs),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.description.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.description.errors?null:t.formCreateProduct.controls.description.errors.required)&&t.formCreateProduct.controls.description.touched),r.Ab(9),r.fc("ngClass",null!=t.formCreateProduct.errors&&t.formCreateProduct.errors.checkStartTime||t.formCreateProduct.controls.startTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.errors?null:t.formCreateProduct.errors.checkStartTime)&&t.formCreateProduct.controls.startTime.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.startTime.errors?null:t.formCreateProduct.controls.startTime.errors.required)&&t.formCreateProduct.controls.startTime.touched),r.Ab(9),r.fc("ngClass",null!=t.formCreateProduct.errors&&t.formCreateProduct.errors.checkEndTime||t.formCreateProduct.controls.endTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.errors?null:t.formCreateProduct.errors.checkEndTime)&&t.formCreateProduct.controls.endTime.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.endTime.errors?null:t.formCreateProduct.controls.endTime.errors.required)&&t.formCreateProduct.controls.endTime.touched)}}const Zu=t=>new Date(t.get("startTime").value).getTime()-(new Date).getTime()<0?{checkStartTime:!0}:null,Ju=t=>{const e=new Date(t.get("startTime").value).getTime();console.log(e);const n=new Date(t.get("endTime").value).getTime();return console.log(n),n-e<0&&e&&n?{checkEndTime:!0}:null};let Xu=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this._formBuilder=t,this._productService=e,this._categoryService=n,this._priceStepService=r,this._userService=i,this._storage=o,this._imageProductService=s,this._toast=a,this.messageCreate="",this.categoryList=[],this.priceStepList=[],this.selectedFile=[],this.imgs=[],this.img=[],this.checkUser=""}ngOnInit(){this._categoryService.getListCategory().subscribe(t=>{this.categoryList=t}),this._priceStepService.getListPriceStep().subscribe(t=>{this.priceStepList=t}),this.formCreateProduct=this._formBuilder.group({id:[],name:["",[rs.required,rs.maxLength(255),rs.minLength(6)]],description:["",[rs.required]],initialPrice:["",[rs.required,rs.pattern("\\d+$")]],startTime:["",[rs.required]],endTime:["",[rs.required]],imageProduct:["",[rs.required]],registerDay:[],priceStep:["",[rs.required]],category:["",[rs.required]],user:["",[rs.required,rs.pattern("\\d+$")]]},{validators:[Zu,Ju]})}addNewProduct(){this.formCreateProduct.valid?(this.productDto=this.formCreateProduct.value,console.log(this.formCreateProduct.value),this._productService.save(this.productDto).subscribe(t=>{if(console.log(t),0!==this.imgs.length)for(let e=0;e<this.imgs.length;e++){const n={url:this.imgs[e],product:t.id};console.log(n),this._imageProductService.create(n).subscribe(()=>{})}this._toast.success("Th\xeam m\u1edbi s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!")})):this._toast.error("Th\xeamm m\u1edbi s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}findUserById(t){t.setAttribute("disabled",!0),this._userService.findUserById(t.value).subscribe(t=>{this.userFind=t,this.formCreateProduct.patchValue({user:this.userFind.id}),console.log(this.userFind),this.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+this.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+this.userFind.firstName+" "+this.userFind.lastName},t=>{this.checkUser="Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng!"})}showPreview(t){if(t.target.files&&t.target.files[0]&&((new FileReader).readAsDataURL(t.target.files[0]),this.selectedFile=t.target.files),0!==this.selectedFile.length){setTimeout(()=>{this.messageCreate="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i........"},3e3);for(let t=0;t<this.selectedFile.length;t++){let e=this.selectedFile[t];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,e).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.messageCreate="",this.imgs.push(t)})})).subscribe(()=>{})}}}deleteImageNew(t){this.imgs.splice(t,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!"),console.log(t)}resetFindUserById(t){t.removeAttribute("disabled")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ya),r.Mb(yc),r.Mb(Uc),r.Mb(qc),r.Mb(Hc),r.Mb(Eu),r.Mb(Iu),r.Mb($a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-product-add"]],decls:10,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"bg-add-product"],[1,"boxed","shadow-md","h-100","ms-auto"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],[1,"form-label","ms-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mb-2","mt-3","w-100"],["data","assets/icons/icon-people.svg","width","20","height","20"],["type","text","formControlName","user",1,"form-control",2,"width","50%",3,"ngClass"],["testNum",""],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","mx-3",3,"click"],["data","assets/icons/check-people.svg","width","20","height","20",1,"me-2","slide"],["type","button",2,"width","20%",3,"click"],["data","assets/icons/back.svg","width","20","height","20"],[1,"invalid-feedback","d-block"],["data","assets/icons/information.svg","width","20","height","20"],["class","form-control","disabled","",4,"ngIf"],["data","assets/icons/dollar.svg","width","20","height","20"],["type","text","formControlName","initialPrice",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["aria-label","Default select example","formControlName","priceStep",1,"form-select",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["aria-label","Default select example","formControlName","category",1,"form-select",3,"ngClass"],["data","assets/icons/image.svg","width","20","height","20"],["type","file","multiple","","autocomplete","off","formControlName","imageProduct",1,"custom-file-input","form-control",3,"ngClass","change"],[1,"d-flex","justify-content-left",2,"overflow-x","scroll"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["formControlName","description",1,"form-control",3,"ngClass"],["data","assets/icons/hour-end.svg","width","20","height","20"],["type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],[1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-outline-primary","ms-auto","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/button-back.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-warning","ms-auto","d-flex","justify-content-center"],["data","assets/icons/cancel.svg","width","20","height","20",1,"me-2","slide"],["disabled","",1,"form-control"],[3,"ngValue"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3,Yu,143,31,"form",3),r.Rb(4,"div",4),r.Rb(5,"span",5),r.tc(6," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Rb(7,"span",6),r.tc(8," (*)"),r.Qb(),r.tc(9," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(3),r.fc("ngIf",e.formCreateProduct))},directives:[gt,oa,Jo,ca,qo,Zo,ga,dt,ks,ft,Cs,Ss],styles:["[_ngcontent-%COMP%]:not(i){font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}#product-model[_ngcontent-%COMP%]{justify-content:center}.boxed[_ngcontent-%COMP%]{width:500px;max-height:800px;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto;margin-right:8%}.bg-add-product[_ngcontent-%COMP%]{display:flex;border-radius:8px;align-items:center;justify-content:right;height:90%;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0);width:70%;background-size:cover;background-repeat:no-repeat}.boxed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.close[_ngcontent-%COMP%]{position:absolute;left:28px;top:40px;width:50px;background:none;font-size:25px}"]}),t})();function td(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function ed(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c \xedt h\u01a1n 6 k\xed t\u1ef1! "),r.Qb())}function nd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c nhi\u1ec1u h\u01a1n 255 k\xed t\u1ef1! "),r.Qb())}function rd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function id(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng s\u1ed1! "),r.Qb())}function od(t,e){if(1&t&&(r.Rb(0,"textarea",51),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.vc("                   ",t.checkUser,"\n            ")}}function sd(t,e){if(1&t&&(r.Rb(0,"textarea",51),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.vc("                  ",t.checkUser,"\n            ")}}function ad(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function cd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Gi\xe1 ban \u0111\u1ea7u kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n 0! "),r.Qb())}function ld(t,e){if(1&t&&(r.Rb(0,"option",52),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.step)}}function ud(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function dd(t,e){if(1&t&&(r.Rb(0,"option",52),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function hd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function fd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function pd(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.uc(t.messageEdit)}}function gd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",53),r.Rb(1,"div",54),r.Nb(2,"img",55),r.Rb(3,"span",56),r.Zb("click",(function(){r.mc(t);const n=e.index,i=e.$implicit;return r.bc(2).deleteImage(n,i)})),r.Nb(4,"i",57),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t.url,r.oc)}}function md(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",53),r.Rb(1,"div",54),r.Nb(2,"img",55),r.Rb(3,"span",56),r.Zb("click",(function(){r.mc(t);const n=e.index;return r.bc(2).deleteImageNew(n)})),r.Nb(4,"i",57),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t,r.oc)}}function bd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function vd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i! "),r.Qb())}function yd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function _d(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1! "),r.Qb())}function wd(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function kd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",7),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.updateProduct(e.id)})),r.Rb(1,"fieldset"),r.Rb(2,"legend"),r.Rb(3,"div",8),r.Rb(4,"h1"),r.tc(5,"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(6,"input",9),r.Nb(7,"input",10),r.Nb(8,"input",11),r.Rb(9,"div",4),r.Rb(10,"div",12),r.Nb(11,"object",13),r.Rb(12,"label",14),r.tc(13,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(14,"span",6),r.tc(15," (*)"),r.Qb(),r.tc(16,":"),r.Qb(),r.Qb(),r.Nb(17,"input",15),r.Rb(18,"div",16),r.rc(19,td,2,0,"div",17),r.rc(20,ed,2,0,"div",17),r.rc(21,nd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(22,"div",4),r.Rb(23,"div",12),r.Nb(24,"object",18),r.Rb(25,"label",14),r.tc(26,"M\xe3 ng\u01b0\u1eddi \u0111\u0103ng"),r.Rb(27,"span",6),r.tc(28," (*)"),r.Qb(),r.tc(29,":"),r.Qb(),r.Qb(),r.Rb(30,"div",12),r.Nb(31,"input",19,20),r.Rb(33,"button",21),r.Zb("click",(function(){r.mc(t);const e=r.lc(32);return r.bc().findUserById(e)})),r.Nb(34,"object",22),r.tc(35," Ki\u1ec3m tra "),r.Qb(),r.Rb(36,"button",23),r.Zb("click",(function(){r.mc(t);const e=r.lc(32);return r.bc().resetFindUserById(e)})),r.Nb(37,"object",24),r.Qb(),r.Qb(),r.Rb(38,"div",25),r.rc(39,rd,2,0,"div",17),r.rc(40,id,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(41,"div",4),r.Rb(42,"div",12),r.Nb(43,"object",26),r.Rb(44,"label",14),r.tc(45,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng:"),r.Qb(),r.Qb(),r.rc(46,od,2,1,"textarea",27),r.rc(47,sd,2,1,"textarea",27),r.Qb(),r.Rb(48,"div",4),r.Rb(49,"div",12),r.Nb(50,"object",28),r.Rb(51,"label",14),r.tc(52,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(53,"span",6),r.tc(54," (*)"),r.Qb(),r.tc(55,":"),r.Qb(),r.Qb(),r.Nb(56,"input",29),r.Rb(57,"div",16),r.rc(58,ad,2,0,"div",17),r.rc(59,cd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(60,"div",4),r.Rb(61,"div",12),r.Nb(62,"object",30),r.Rb(63,"label",14),r.tc(64,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Rb(65,"span",6),r.tc(66," (*)"),r.Qb(),r.tc(67,":"),r.Qb(),r.Qb(),r.Rb(68,"select",31),r.rc(69,ld,2,2,"option",32),r.Qb(),r.Rb(70,"div",16),r.rc(71,ud,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(72,"div",4),r.Rb(73,"div",12),r.Nb(74,"object",33),r.Rb(75,"label",14),r.tc(76,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(77,"span",6),r.tc(78,"(*)"),r.Qb(),r.tc(79,":"),r.Qb(),r.Qb(),r.Rb(80,"select",34),r.rc(81,dd,2,2,"option",32),r.Qb(),r.Rb(82,"div",16),r.rc(83,hd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(84,"div",4),r.Rb(85,"div",12),r.Nb(86,"object",35),r.Rb(87,"label",14),r.tc(88,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Rb(89,"span",6),r.tc(90,"(*)"),r.Qb(),r.tc(91,":"),r.Qb(),r.Qb(),r.Rb(92,"input",36),r.Zb("change",(function(e){return r.mc(t),r.bc().showPreview(e)})),r.Qb(),r.Rb(93,"div",25),r.rc(94,fd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(95,"div",37),r.rc(96,pd,2,1,"div",17),r.rc(97,gd,5,1,"div",38),r.rc(98,md,5,1,"div",38),r.Qb(),r.Rb(99,"div",4),r.Rb(100,"div",12),r.Nb(101,"object",26),r.Rb(102,"label",14),r.tc(103,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(104,"span",6),r.tc(105,"(*)"),r.Qb(),r.tc(106,":"),r.Qb(),r.Qb(),r.Nb(107,"textarea",39),r.Rb(108,"div",16),r.rc(109,bd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(110,"div",4),r.Rb(111,"div",12),r.Nb(112,"object",40),r.Rb(113,"label",14),r.tc(114,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Rb(115,"span",6),r.tc(116," (*)"),r.Qb(),r.tc(117,":"),r.Qb(),r.Qb(),r.Nb(118,"input",41),r.Rb(119,"div",16),r.rc(120,vd,2,0,"div",17),r.rc(121,yd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(122,"div",4),r.Rb(123,"div",12),r.Nb(124,"object",42),r.Rb(125,"label",14),r.tc(126,"Th\u1eddi gian k\u1ebft th\xfac"),r.Rb(127,"span",6),r.tc(128," (*)"),r.Qb(),r.tc(129,":"),r.Qb(),r.Qb(),r.Nb(130,"input",43),r.Rb(131,"div",16),r.rc(132,_d,2,0,"div",17),r.rc(133,wd,2,0,"div",17),r.Qb(),r.Qb(),r.Rb(134,"div",44),r.Rb(135,"button",45),r.Nb(136,"object",46),r.Rb(137,"p"),r.tc(138," C\u1eadp nh\u1eadt "),r.Qb(),r.Qb(),r.Rb(139,"button",47),r.Zb("click",(function(){return r.mc(t),r.bc().resetForm()})),r.Nb(140,"object",48),r.Rb(141,"p"),r.tc(142,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Rb(143,"button",49),r.Nb(144,"object",50),r.Rb(145,"p"),r.tc(146,"H\u1ee7y"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.formEditProduct),r.Ab(17),r.fc("ngClass",t.formEditProduct.controls.name.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.controls.name.errors?null:t.formEditProduct.controls.name.errors.required)&&t.formEditProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==t.formEditProduct.controls.name.errors?null:t.formEditProduct.controls.name.errors.minlength)&&t.formEditProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",(null==t.formEditProduct.controls.name.errors?null:t.formEditProduct.controls.name.errors.maxlength)&&t.formEditProduct.controls.name.touched),r.Ab(10),r.fc("ngClass",t.formEditProduct.controls.user.invalid?"is-invalid":"is-valid"),r.Ab(8),r.fc("ngIf",(null==t.formEditProduct.controls.user.errors?null:t.formEditProduct.controls.user.errors.required)&&t.formEditProduct.controls.user.touched),r.Ab(1),r.fc("ngIf",(null==t.formEditProduct.controls.user.errors?null:t.formEditProduct.controls.user.errors.pattern)&&t.formEditProduct.controls.user.touched),r.Ab(6),r.fc("ngIf",t.userFind),r.Ab(1),r.fc("ngIf",!t.userFind),r.Ab(9),r.fc("ngClass",t.formEditProduct.controls.initialPrice.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.controls.initialPrice.errors?null:t.formEditProduct.controls.initialPrice.errors.required)&&t.formEditProduct.controls.initialPrice.touched),r.Ab(1),r.fc("ngIf",(null==t.formEditProduct.controls.initialPrice.errors?null:t.formEditProduct.controls.initialPrice.errors.pattern)&&t.formEditProduct.controls.initialPrice.touched),r.Ab(9),r.fc("ngClass",t.formEditProduct.controls.priceStep.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",t.priceStepList),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.controls.priceStep.errors?null:t.formEditProduct.controls.priceStep.errors.required)&&t.formEditProduct.controls.priceStep.touched),r.Ab(9),r.fc("ngClass",t.formEditProduct.controls.category.invalid?"is-invalid":"is-valid"),r.Ab(1),r.fc("ngForOf",t.categoryList),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.controls.category.errors?null:t.formEditProduct.controls.category.errors.required)&&t.formEditProduct.controls.category.touched),r.Ab(9),r.fc("ngClass",t.formEditProduct.controls.imageProduct.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.controls.imageProduct.errors?null:t.formEditProduct.controls.imageProduct.errors.required)&&t.formEditProduct.controls.imageProduct.touched),r.Ab(2),r.fc("ngIf",""!=t.messageEdit),r.Ab(1),r.fc("ngForOf",t.imgs),r.Ab(1),r.fc("ngForOf",t.imgCreate),r.Ab(9),r.fc("ngClass",t.formEditProduct.controls.description.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.controls.description.errors?null:t.formEditProduct.controls.description.errors.required)&&t.formEditProduct.controls.description.touched),r.Ab(9),r.fc("ngClass",null!=t.formEditProduct.errors&&t.formEditProduct.errors.checkStartTime||t.formEditProduct.controls.startTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.errors?null:t.formEditProduct.errors.checkStartTime)&&t.formEditProduct.controls.startTime.touched),r.Ab(1),r.fc("ngIf",(null==t.formEditProduct.controls.startTime.errors?null:t.formEditProduct.controls.startTime.errors.required)&&t.formEditProduct.controls.startTime.touched),r.Ab(9),r.fc("ngClass",null!=t.formEditProduct.errors&&t.formEditProduct.errors.checkEndTime||t.formEditProduct.controls.endTime.invalid?"is-invalid":"is-valid"),r.Ab(2),r.fc("ngIf",(null==t.formEditProduct.errors?null:t.formEditProduct.errors.checkEndTime)&&t.formEditProduct.controls.endTime.touched),r.Ab(1),r.fc("ngIf",(null==t.formEditProduct.controls.endTime.errors?null:t.formEditProduct.controls.endTime.errors.required)&&t.formEditProduct.controls.endTime.touched)}}let Cd=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this._formBuilder=t,this._productService=e,this._categoryService=n,this._priceStepService=r,this._userService=i,this._storage=o,this._imageProductService=s,this._activatedRoute=a,this._toast=c,this.categoryList=[],this.priceStepList=[],this.selectedFile=[],this.imgs=[],this.idImageList=[],this.imgCreate=[],this.checkUser="",this.messageEdit=""}ngOnInit(){this.getListCategory(),this.getListPriceStep(),this.getFormEdit()}getFormEdit(){this._activatedRoute.paramMap.subscribe(t=>{this.id=+t.get("id"),this._productService.findByIdd(this.id).subscribe(t=>{this.productFind=t,this._userService.findUserById(t.user.id).subscribe(t=>{this.userFind=t,this.formEditProduct.patchValue({user:this.userFind.id}),this.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+this.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+this.userFind.firstName+" "+this.userFind.lastName}),console.log(this.productFind),this._imageProductService.getListImgProductId(this.productFind.id).subscribe(t=>{this.imgs=t,console.log(t)}),this.formEditProduct=this._formBuilder.group({id:[t.id,[rs.required]],name:[t.name,[rs.required,rs.maxLength(255),rs.minLength(6)]],description:[t.description,[rs.required]],initialPrice:[t.initialPrice,[rs.required,rs.pattern("\\d+$")]],startTime:[t.startTime,[rs.required]],endTime:[t.endTime,[rs.required]],registerDay:[t.registerDay],priceStep:[t.priceStep.id],category:[t.category.id],reviewStatus:[t.reviewStatus.id],auctionStatus:[t.auctionStatus.id],user:["",[rs.required,rs.pattern("\\d+$")]],imageProduct:["",[rs.required]]},{validators:[Zu,Ju]})})})}getListCategory(){this._categoryService.getListCategory().subscribe(t=>{this.categoryList=t})}getListPriceStep(){this._priceStepService.getListPriceStep().subscribe(t=>{this.priceStepList=t})}findUserById(t){t.setAttribute("disabled",!0),this._userService.findUserById(t.value).subscribe(t=>{this.userFind=t,this.formEditProduct.patchValue({user:this.userFind.id}),this.checkUser="M\xe3 ng\u01b0\u1eddi \u0111\u0103ng: "+this.userFind.id+"\nT\xean ng\u01b0\u1eddi \u0111\u0103ng: "+this.userFind.firstName+" "+this.userFind.lastName,console.log(this.userFind)},t=>{this.checkUser="Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng!"})}showPreview(t){if(t.target.files&&t.target.files[0]?((new FileReader).readAsDataURL(t.target.files[0]),this.selectedFile=t.target.files):this.selectedFile=[],console.log(this.selectedFile),0!==this.selectedFile.length){setTimeout(()=>{this.messageEdit="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i........"},3e3);for(let t=0;t<this.selectedFile.length;t++){let e=this.selectedFile[t];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,e).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.messageEdit="",this.imgCreate.push(t)})})).subscribe(()=>{})}console.log(this.imgCreate)}}updateProduct(t){if(this.formEditProduct.valid&&(this.productDto=this.formEditProduct.value,console.log(this.formEditProduct.value),this._productService.update(this.productDto,t).subscribe(t=>{if(0!==this.imgCreate.length)for(let e=0;e<this.imgCreate.length;e++){const n={url:this.imgCreate[e],product:t.id};console.log(n),this._imageProductService.create(n).subscribe(()=>{})}},t=>{this._toast.error("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}),this._toast.success("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!"),0!==this.idImageList.length))for(let e=0;e<this.idImageList.length;e++)console.log(this.idImageList[e]),this.deleteImageById(this.idImageList[e]);this._toast.error("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")}deleteImage(t,e){this.idImageList.push(e.id),this.imgs.splice(t,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}deleteImageNew(t){this.imgCreate.splice(t,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}deleteImageById(t){this._imageProductService.delete(t).subscribe(t=>{})}resetFindUserById(t){t.removeAttribute("disabled")}resetForm(){this.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ya),r.Mb(yc),r.Mb(Uc),r.Mb(qc),r.Mb(Hc),r.Mb(Eu),r.Mb(Iu),r.Mb(Ar),r.Mb($a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-product-edit"]],decls:10,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"bg-add-product"],[1,"boxed","shadow-md","h-100","ms-auto"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-4","text-center"],["type","text","formControlName","id","hidden","",1,"form-control"],["formControlName","reviewStatus","hidden",""],["formControlName","auctionStatus","hidden",""],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],[1,"form-label","ms-2"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["data","assets/icons/icon-people.svg","width","20","height","20"],["formControlName","user","type","number","formControlName","user",1,"form-control",2,"width","50%",3,"ngClass"],["testNum",""],["type","button",1,"btn","btn-primary","d-flex","justify-content-center","mx-3",3,"click"],["data","assets/icons/check-people.svg","width","20","height","20",1,"me-2","slide"],["type","button",2,"width","20%",3,"click"],["data","assets/icons/back.svg","width","20","height","20"],[1,"invalid-feedback","d-block"],["data","assets/icons/information.svg","width","20","height","20"],["class","form-control","disabled","",4,"ngIf"],["data","assets/icons/dollar.svg","width","20","height","20"],["type","number","formControlName","initialPrice",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["aria-label","Default select example","formControlName","priceStep",1,"form-select",3,"ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["formControlName","category","aria-label","Default select example",1,"form-select",3,"ngClass"],["data","assets/icons/image.svg","width","20","height","20"],["type","file","multiple","","autocomplete","off","formControlName","imageProduct",1,"custom-file-input","form-control",3,"ngClass","change"],[1,"d-flex","justify-content-left",2,"overflow-x","scroll"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["formControlName","description",1,"form-control",3,"ngClass"],["data","assets/icons/hour-end.svg","width","20","height","20"],["type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center",2,"margin-right","5px"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],["type","button",1,"btn","btn-outline","btn-outline-primary","ms-auto","d-flex","justify-content-center",2,"margin-right","5px",3,"click"],["data","assets/icons/button-back.svg","width","20","height","20",1,"me-2","slide"],[1,"btn","btn-outline","btn-warning","ms-auto","d-flex","justify-content-center"],["data","assets/icons/cancel.svg","width","20","height","20",1,"me-2","slide"],["disabled","",1,"form-control"],[3,"ngValue"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3,kd,147,32,"form",3),r.Rb(4,"div",4),r.Rb(5,"span",5),r.tc(6," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Rb(7,"span",6),r.tc(8," (*)"),r.Qb(),r.tc(9," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(3),r.fc("ngIf",e.formEditProduct))},directives:[gt,oa,Jo,ca,qo,Zo,ga,dt,us,ks,ft,Cs,Ss],styles:["[_ngcontent-%COMP%]:not(i){font-family:Noto Sans,serif!important;box-sizing:border-box!important;margin:0;border:0;font-size:16px;font:inherit;vertical-align:baseline}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}#product-model[_ngcontent-%COMP%]{justify-content:center}.boxed[_ngcontent-%COMP%]{width:500px;max-height:800px;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto;margin-right:8%}.bg-add-product[_ngcontent-%COMP%]{display:flex;border-radius:8px;align-items:center;justify-content:right;height:90%;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0);width:70%;background-size:cover;background-repeat:no-repeat}.boxed[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.close[_ngcontent-%COMP%]{position:absolute;left:28px;top:40px;width:50px;background:none;font-size:25px}"]}),t})(),Ad=(()=>{class t{constructor(t){this._httpClient=t}findAll(t,e){return this._httpClient.post(o.transactionUrl+"?page="+e,t)}findByListId(t){return this._httpClient.post(o.transactionFindByListIdUrl,t)}deleteByListId(t){return this._httpClient.post(o.transactionDeleteUrl,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ed(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",32),r.Zb("ngSubmit",(function(){return r.mc(t),r.bc().findAll(0)})),r.Rb(1,"div",1),r.Rb(2,"div",33),r.Rb(3,"div",34),r.Nb(4,"input",35),r.Rb(5,"label",36),r.tc(6,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"div",33),r.Rb(8,"div",34),r.Nb(9,"input",37),r.Rb(10,"label",38),r.tc(11,"Ng\u01b0\u1eddi mua"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"div",33),r.Rb(13,"div",34),r.Nb(14,"input",39),r.Rb(15,"label",40),r.tc(16,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",1),r.Rb(18,"div",33),r.Rb(19,"div",34),r.Nb(20,"input",41),r.Rb(21,"label",42),r.tc(22,"Th\xe0nh ti\u1ec1n"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"div",33),r.Rb(24,"div",34),r.Rb(25,"select",43),r.Rb(26,"option",44),r.tc(27,"---- T\xecnh tr\u1ea1ng ----"),r.Qb(),r.Rb(28,"option",45),r.tc(29," Th\xe0nh c\xf4ng"),r.Qb(),r.Rb(30,"option",46),r.tc(31," Th\u1ea5t b\u1ea1i"),r.Qb(),r.Qb(),r.Rb(32,"label",47),r.tc(33,"T\xecnh tr\u1ea1ng"),r.Qb(),r.Qb(),r.Qb(),r.Rb(34,"div",48),r.Rb(35,"button",49),r.Nb(36,"i",50),r.tc(37," L\u1ecdc k\u1ebft qu\u1ea3 "),r.Qb(),r.Rb(38,"button",51),r.Zb("click",(function(){return r.mc(t),r.bc().resetFormAndData()})),r.tc(39," Reset b\u1ed9 l\u1ecdc "),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.rfSearch)}}function xd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"tr"),r.Rb(1,"td",56),r.tc(2),r.Qb(),r.Rb(3,"td",56),r.tc(4),r.Qb(),r.Rb(5,"td",56),r.tc(6),r.Qb(),r.Rb(7,"td"),r.tc(8),r.Qb(),r.Rb(9,"td"),r.tc(10),r.Qb(),r.Rb(11,"td"),r.tc(12),r.Qb(),r.Rb(13,"td",56),r.tc(14),r.Qb(),r.Rb(15,"td"),r.tc(16),r.Qb(),r.Rb(17,"td",53),r.Rb(18,"input",57),r.Zb("click",(function(){r.mc(t);const n=e.$implicit;return r.bc(2).addToDelete(n.id)})),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc(2);r.Ab(2),r.uc(n+1),r.Ab(2),r.uc(t.id),r.Ab(2),r.uc(t.auctionDay),r.Ab(2),r.uc(t.userPost),r.Ab(2),r.uc(t.userBuying),r.Ab(2),r.uc(t.productName),r.Ab(2),r.uc(t.currentPrice),r.Ab(2),r.uc(t.auctionStatus),r.Ab(2),r.fc("checked",i.deleteIds.includes(t.id))}}function Sd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"table",52),r.Rb(1,"thead"),r.Rb(2,"tr"),r.Rb(3,"th"),r.tc(4,"STT"),r.Qb(),r.Rb(5,"th"),r.tc(6,"M\xe3 giao d\u1ecbch"),r.Qb(),r.Rb(7,"th"),r.tc(8,"Th\u1eddi gian \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng"),r.Qb(),r.Rb(9,"th"),r.tc(10,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Rb(11,"th"),r.tc(12,"Ng\u01b0\u1eddi mua"),r.Qb(),r.Rb(13,"th"),r.tc(14,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.Rb(15,"th"),r.tc(16,"Th\xe0nh ti\u1ec1n(vn\u0111)"),r.Qb(),r.Rb(17,"th"),r.tc(18,"T\xecnh tr\u1ea1ng giao d\u1ecbch"),r.Qb(),r.Rb(19,"th",53),r.Rb(20,"button",54),r.Zb("click",(function(){return r.mc(t),r.bc().addAllToDelete()})),r.Nb(21,"i",55),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"tbody"),r.rc(23,xd,19,9,"tr",28),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(23),r.fc("ngForOf",t.pageTransaction.content)}}function Id(t,e){1&t&&(r.Rb(0,"h3",58),r.tc(1,"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"),r.Qb())}function Td(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"nav",59),r.Rb(2,"ul",60),r.Rb(3,"li",61),r.Rb(4,"a",62),r.Zb("click",(function(){return r.mc(t),r.bc().gotoPage(0)})),r.tc(5,"First"),r.Qb(),r.Qb(),r.Rb(6,"li",61),r.Rb(7,"a",62),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.pageTransaction.number-1)})),r.tc(8,"Previous"),r.Qb(),r.Qb(),r.Rb(9,"li",63),r.Rb(10,"a",64),r.tc(11),r.Qb(),r.Qb(),r.Rb(12,"li",61),r.Rb(13,"a",62),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.pageTransaction.number+1)})),r.tc(14,"Next"),r.Qb(),r.Qb(),r.Rb(15,"li",61),r.Rb(16,"a",62),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.pageTransaction.totalPages-1)})),r.tc(17,"Last"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"button",65),r.Zb("click",(function(){return r.mc(t),r.bc().sendToDeleteGroupModal()})),r.Nb(19,"i",66),r.tc(20," Xo\xe1 "),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(4),r.fc("ngClass",t.pageTransaction.first?"disabled":""),r.Ab(3),r.fc("ngClass",t.pageTransaction.first?"disabled":""),r.Ab(4),r.wc(" ",t.pageTransaction.number+1,"/",t.pageTransaction.totalPages,""),r.Ab(2),r.fc("ngClass",t.pageTransaction.last?"disabled":""),r.Ab(3),r.fc("ngClass",t.pageTransaction.last?"disabled":""),r.Ab(2),r.fc("disabled",0==t.deleteIds.length)}}function Dd(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1," X\xf3a giao d\u1ecbch "),r.Rb(2,"strong",67),r.tc(3),r.Qb(),r.tc(4,"? "),r.Qb()),2&t){const t=e.$implicit;r.Ab(3),r.uc(t.id)}}let Rd=(()=>{class t{constructor(t,e,n){this._transactionService=t,this._router=e,this._formBuilder=n}ngOnInit(){this.createSearchForm(),this.findAll(0),this.deleteIds=[],this.checkedAll=!1}findAll(t){this._transactionService.findAll(this.rfSearch.value,t).subscribe(t=>{this.pageTransaction=t})}createSearchForm(){this.rfSearch=this._formBuilder.group({userPost:[""],userBuying:[""],nameProduct:[""],currentPrice:[""],auctionStatus:[""]})}resetFormAndData(){this.ngOnInit()}gotoPage(t){this.findAll(t)}addToDelete(t){const e=this.deleteIds.indexOf(t,0);e>-1?this.deleteIds.splice(e,1):this.deleteIds.push(t)}addAllToDelete(){this.checkedAll=!0;for(let t of this.pageTransaction.content)if(!this.deleteIds.includes(t.id)){this.checkedAll=!1;break}if(this.checkedAll)for(let t of this.pageTransaction.content){const e=this.deleteIds.indexOf(t.id,0);this.deleteIds.splice(e,1)}else for(let t of this.pageTransaction.content)-1==this.deleteIds.indexOf(t.id,0)&&this.deleteIds.push(t.id)}sendToDeleteGroupModal(){this.deleteTransaction=[],this._transactionService.findByListId(this.deleteIds).subscribe(t=>{this.deleteTransaction=t},t=>{})}delete(){this._transactionService.deleteByListId(this.deleteIds).subscribe(t=>{},t=>{},()=>{this.ngOnInit()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ad),r.Mb(Oi),r.Mb(ya))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-transaction"]],decls:56,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-2","sidebar__left"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"col-lg-10"],[1,"mt-5","mb-5",2,"text-align","center"],["id","search-row",1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-12"],[1,"card","border-black"],[1,"card-body"],["id","customer_table","class","table table-striped table-bordered",4,"ngIf"],["id","null-result-noti",4,"ngIf"],[4,"ngIf"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-4"],[1,"form-floating","mb-4","form-inp"],["type","text","placeholder","Ng\u01b0\u1eddi \u0111\u0103ng","id","floatingPost","formControlName","userPost",1,"form-control","form-control-underlined"],["for","floatingPost"],["type","text","placeholder","Ng\u01b0\u1eddi mua","id","floatingBuying","formControlName","userBuying",1,"form-control","form-control-underlined"],["for","floatingBuying"],["type","text","placeholder","T\xean s\u1ea3n ph\u1ea9m","id","floatingName","formControlName","nameProduct",1,"form-control","form-control-underlined"],["for","floatingName"],["type","text","placeholder","Th\xe0nh ti\u1ec1n","id","floatingMoney","formControlName","currentPrice",1,"form-control","form-control-underlined"],["for","floatingMoney"],["id","floatingStatus","formControlName","auctionStatus",1,"form-select","form-select-underlined"],["value",""],["value","0"],["value","1"],["for","floatingStatus"],["id","form-btn",1,"col-4"],["type","submit",1,"btn","btn-primary"],[1,"fa-solid","fa-magnifying-glass"],[1,"btn","btn-success",3,"click"],["id","customer_table",1,"table","table-striped","table-bordered"],[1,"text-center"],[1,"btn",3,"click"],[1,"fa-regular","fa-trash-can","delete-group-icon"],[1,"text-end"],["type","checkbox",1,"delete-checkbox",3,"checked","click"],["id","null-result-noti"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],[1,"page-item","active"],[1,"page-link"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-danger",3,"disabled","click"],[1,"fa-regular","fa-trash-can","delete-icon"],[2,"color","red"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div"),r.Rb(4,"nav"),r.Rb(5,"ul",3),r.Rb(6,"li",4),r.Rb(7,"a",5),r.Nb(8,"i",6),r.tc(9," Trang ch\u1ee7 "),r.Rb(10,"span",7),r.tc(11,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"li",4),r.Rb(13,"a",5),r.Nb(14,"i",8),r.tc(15," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(16,"span",7),r.tc(17,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"li",4),r.Rb(19,"a",5),r.Nb(20,"i",9),r.tc(21," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(22,"span",7),r.tc(23,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"li",4),r.Rb(25,"a",5),r.Nb(26,"i",10),r.tc(27," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(28,"span",7),r.tc(29,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",11),r.Rb(31,"h1",12),r.tc(32,"Qu\u1ea3n l\xfd giao d\u1ecbch"),r.Qb(),r.Rb(33,"div",13),r.rc(34,Ed,40,1,"form",14),r.Qb(),r.Rb(35,"div",1),r.Rb(36,"div",15),r.Rb(37,"div",16),r.Rb(38,"div",17),r.rc(39,Sd,24,1,"table",18),r.rc(40,Id,2,0,"h3",19),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(41,Td,21,7,"div",20),r.Qb(),r.Qb(),r.Qb(),r.Rb(42,"div",21),r.Rb(43,"div",22),r.Rb(44,"div",23),r.Rb(45,"div",24),r.Rb(46,"h5",25),r.tc(47,"X\xf3a giao d\u1ecbch"),r.Qb(),r.Nb(48,"button",26),r.Qb(),r.Rb(49,"div",27),r.rc(50,Dd,5,1,"div",28),r.Rb(51,"div",29),r.Rb(52,"button",30),r.tc(53,"Hu\u1ef7 b\u1ecf"),r.Qb(),r.Rb(54,"button",31),r.Zb("click",(function(){return e.delete()})),r.tc(55,"X\xe1c nh\u1eadn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(34),r.fc("ngIf",e.rfSearch),r.Ab(5),r.fc("ngIf",null!=e.pageTransaction),r.Ab(1),r.fc("ngIf",null==e.pageTransaction),r.Ab(1),r.fc("ngIf",e.pageTransaction),r.Ab(9),r.fc("ngForOf",e.deleteTransaction))},directives:[gt,ft,oa,Jo,ca,qo,Zo,ga,ks,Cs,Ss,dt],styles:[".menu[_ngcontent-%COMP%], .sidebar__left[_ngcontent-%COMP%]{background:#535151}.menu[_ngcontent-%COMP%]{padding:24px 0 0;margin:0}.menu__item[_ngcontent-%COMP%]{padding:4px 12px;list-style-type:none;cursor:pointer;margin-bottom:12px}.menu__icon[_ngcontent-%COMP%]{margin-right:4px}.menu__link[_ngcontent-%COMP%]{text-decoration:none}.menu__link[_ngcontent-%COMP%], .menu__link[_ngcontent-%COMP%]:hover{color:#fff8dc}.menu__item[_ngcontent-%COMP%]:hover{background-color:#fff8dc;opacity:.7}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#0a0a0a}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:0;padding-left:0}.form-control[_ngcontent-%COMP%]::-moz-placeholder{font-size:.95rem;color:#aaa;font-style:italic}.form-control[_ngcontent-%COMP%]::placeholder{font-size:.95rem;color:#aaa;font-style:italic}.search[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#null-result-noti[_ngcontent-%COMP%]{text-align:center;color:red}"]}),t})();function Od(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",41),r.Rb(1,"span",42),r.Zb("click",(function(){r.mc(t);const n=e.$implicit,i=r.bc(2);return i.setValueCategorySearch(n.id,i.rfSearch.value.rangePrice,i.rfSearch.value.productAuctionStatus,i.rfSearch.value.name)})),r.tc(2),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc(2);r.fc("ngClass",i.rfSearch.value.categoryID==n+1?"active":""),r.Ab(2),r.vc(" ",t.name," ")}}function Nd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",36),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.rfSearch.value)})),r.Rb(1,"div",2),r.Rb(2,"div",37),r.Rb(3,"div",38),r.Rb(4,"div",39),r.Rb(5,"ul",40),r.Rb(6,"li",41),r.Rb(7,"span",42),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.setValueCategorySearch("",e.rfSearch.value.rangePrice,e.rfSearch.value.productAuctionStatus,e.rfSearch.value.name)})),r.tc(8," T\u1ea5t c\u1ea3 "),r.Qb(),r.Qb(),r.rc(9,Od,3,2,"li",43),r.Rb(10,"li",41),r.Rb(11,"span",42),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.setValueAuctionProductStatusSearch(e.categoryIDSearch,e.rfSearch.value.rangePrice,"2",e.rfSearch.value.name)})),r.tc(12," \u0110ang \u0111\u1ea5u gi\xe1 "),r.Qb(),r.Qb(),r.Rb(13,"li",41),r.Rb(14,"span",42),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.setValueAuctionProductStatusSearch(e.categoryIDSearch,e.rfSearch.value.rangePrice,"3",e.rfSearch.value.name)})),r.tc(15," \u0110\xe3 k\u1ebft th\xfac "),r.Qb(),r.Qb(),r.Qb(),r.Rb(16,"form",44),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.rfSearch.value)})),r.Rb(17,"select",45),r.Zb("change",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.rfSearch.value)})),r.Rb(18,"option",46),r.Rb(19,"span"),r.tc(20,"M\u1ee9c gi\xe1"),r.Qb(),r.Qb(),r.Rb(21,"option",47),r.tc(22,"Nh\u1ecf h\u01a1n 5 tri\u1ec7u"),r.Qb(),r.Rb(23,"option",48),r.tc(24,"Nh\u1ecf h\u01a1n 30 tri\u1ec7u"),r.Qb(),r.Rb(25,"option",49),r.tc(26,"T\u1ea5t c\u1ea3"),r.Qb(),r.Qb(),r.Rb(27,"div",50),r.Nb(28,"input",51),r.Rb(29,"button",52),r.tc(30,"T\xecm ki\u1ebfm"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.rfSearch),r.Ab(6),r.fc("ngClass",""==(null==t.rfSearch?null:t.rfSearch.value.categoryID)?"active":""),r.Ab(3),r.fc("ngForOf",t.categorys),r.Ab(1),r.fc("ngClass","2"==t.auctionStatusId?"active":""),r.Ab(3),r.fc("ngClass","3"==t.auctionStatusId?"active":""),r.Ab(3),r.fc("formGroup",t.rfSearch)}}function Pd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",71),r.Rb(1,"img",72),r.Zb("click",(function(n){r.mc(t);const i=e.index,o=r.bc().index;return r.bc(2).changeImage(n,o,i)})),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc().index;r.Db("image__item img-selected",i,""),r.gc("value",n),r.Ab(1),r.gc("src",t.url,r.oc)}}function Md(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",73),r.Zb("click",(function(){r.mc(t);const e=r.bc().$implicit;return r.bc(2).setValueProductId(e.id)})),r.Rb(1,"span",74),r.tc(2,"\u0110\u1ea5u gi\xe1"),r.Qb(),r.Qb()}}const Ld=function(t){return["/auction-detail/",t]};function jd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",75),r.Zb("click",(function(){r.mc(t);const e=r.bc().$implicit;return r.bc(2).setValueProductId(e.id)})),r.Rb(1,"span",76),r.tc(2,"Tham gia"),r.Qb(),r.Qb()}if(2&t){const t=r.bc().$implicit;r.fc("routerLink",r.jc(1,Ld,t.id))}}function Fd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",77),r.Zb("click",(function(){r.mc(t);const e=r.bc().$implicit;return r.bc(2).setValueProductId(e.id)})),r.Rb(1,"span",78),r.tc(2,"Xem th\xeam"),r.Qb(),r.Qb()}if(2&t){const t=r.bc().$implicit;r.fc("routerLink",r.jc(1,Ld,t.id))}}function Bd(t,e){if(1&t&&(r.Rb(0,"div",55),r.Rb(1,"div",56),r.Nb(2,"img",57),r.Rb(3,"ul",58),r.rc(4,Pd,2,5,"li",59),r.Qb(),r.Rb(5,"div",60),r.Rb(6,"p",61),r.tc(7),r.cc(8,"titlecase"),r.Qb(),r.Rb(9,"span",62),r.tc(10),r.Qb(),r.Rb(11,"p",63),r.tc(12),r.cc(13,"currency"),r.Rb(14,"sup"),r.tc(15,"\u0111"),r.Qb(),r.Qb(),r.Rb(16,"p",64),r.Rb(17,"span",65),r.tc(18,"09"),r.Qb(),r.Rb(19,"span",66),r.tc(20,":"),r.Qb(),r.Rb(21,"span",65),r.tc(22,"09"),r.Qb(),r.Rb(23,"span",66),r.tc(24,":"),r.Qb(),r.Rb(25,"span",65),r.tc(26,"09"),r.Qb(),r.Qb(),r.Rb(27,"div",67),r.rc(28,Md,3,0,"button",68),r.rc(29,jd,3,3,"button",69),r.rc(30,Fd,3,3,"button",70),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.hc("id","image__main",n,""),r.gc("src",null==t.imgUrlProducts[0]?null:t.imgUrlProducts[0].url,r.oc),r.Ab(2),r.fc("ngForOf",t.imgUrlProducts),r.Ab(2),r.gc("title",t.name),r.Ab(1),r.uc(r.dc(8,11,t.name)),r.Ab(2),r.fc("ngClass",1==(null==t.auctionStatus?null:t.auctionStatus.id)?"auction":2==(null==t.auctionStatus?null:t.auctionStatus.id)?"auctioning":3==(null==t.auctionStatus?null:t.auctionStatus.id)?"auctioned":""),r.Ab(1),r.vc(" ",t.auctionStatus.name," "),r.Ab(2),r.vc("",r.ec(13,13,t.initialPrice,"VND")," "),r.Ab(16),r.fc("ngIf",1==(null==t.auctionStatus?null:t.auctionStatus.id)),r.Ab(1),r.fc("ngIf",2==(null==t.auctionStatus?null:t.auctionStatus.id)),r.Ab(1),r.fc("ngIf",3==(null==t.auctionStatus?null:t.auctionStatus.id))}}function zd(t,e){if(1&t&&(r.Rb(0,"div",53),r.rc(1,Bd,31,16,"div",54),r.Qb()),2&t){const t=r.bc();r.Ab(1),r.fc("ngForOf",t.pageProducts.content)}}function Qd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",79),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPageNumber(null==e.rfSearch?null:e.rfSearch.value,e.pageHasNext+1)})),r.tc(1,"Xem th\xeam "),r.Qb()}}let Vd=(()=>{class t{constructor(t,e,n,r,i,o,s){this._productService=t,this._formBuilder=e,this._categoryService=n,this._userService=r,this._socketService=i,this._titleService=o,this._route=s,this.pageHasNext=0,this.categoryIDSearch="",this.auctionStatusId="",this.isSelectedAuction=""}ngOnInit(){this._titleService.setTitle("Trang Ch\u1ee7"),this.rfSearch=this._formBuilder.group({name:[""],categoryID:[""],rangePrice:["999999999999999999"],productAuctionStatus:[""]}),this._categoryService.getListCategory().subscribe(t=>{this.categorys=t}),this.gotoPage(this.rfSearch.value),this.selectedChangImage(),this.getTop()}gotoPage(t){this._productService.getAllAndSearch(this.rfSearch.value).subscribe(t=>{this.pageProducts=t,console.log(t)}),this.pageHasNext=0}gotoPageNumber(t,e){this.pageHasNext+=1,this._productService.getAllAndSearchToPage(this.rfSearch.value,e).subscribe(t=>{t.content.forEach(t=>{this.pageProducts.content.push(t)})})}setValueCategorySearch(t,e,n="",r){this.categoryIDSearch=t,this.rfSearch.setValue({name:r.trim(),categoryID:t+"".trim(),rangePrice:e+"".trim(),productAuctionStatus:n}),this.gotoPage(this.rfSearch.value)}setValueAuctionProductStatusSearch(t,e,n,r){this.isSelectedAuction==n&&(n=""),this.auctionStatusId=n,this.rfSearch.setValue({name:r.trim(),categoryID:t+"".trim(),rangePrice:e+"".trim(),productAuctionStatus:n}),this.isSelectedAuction=n,this.gotoPage(this.rfSearch.value)}changeImage(t,e,n){const r=t.target.src,i=document.querySelectorAll(".img-selected"+e);document.getElementById("image__main"+e).setAttribute("src",r),i.forEach(t=>{t.getAttribute("value")==n+""?t.classList.add("actived"):t.classList.remove("actived")})}selectedChangImage(){setTimeout(()=>{const t=document.querySelectorAll(".carousel__images");console.log(t),t.forEach(t=>{var e;null===(e=t.children[0])||void 0===e||e.classList.add("actived")})},500)}getTop(){}setValueProductId(t){this._productService.setProductDetailId(t),this._route.navigate(["auction-detail",t]),console.log("bat dau truyen ",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(yc),r.Mb(ya),r.Mb(Uc),r.Mb(Hc),r.Mb(_c),r.Mb(ae),r.Mb(Oi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:62,vars:3,consts:[[1,"app","container"],[1,"my__slide"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-lg-10","p-0",2,"margin-left","-12px","margin-right","-12px"],["id","carouselExampleCaptions","data-bs-ride","false",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://salt.tikicdn.com/cache/w1080/ts/tikimsp/c9/9b/c2/2d30734356a0f9577a966c7c673ac5c4.png.webp","alt","...","height","400",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://salt.tikicdn.com/cache/w1080/ts/tikimsp/e5/0f/43/31d7c26ed78fab94754e29ad66c67980.png.webp","alt","...","height","400",1,"d-block","w-100"],["src","https://media-cdn-v2.laodong.vn/storage/newsportal/2018/12/1/644302/IMG_1554.jpg","alt","...","height","400",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-lg-2","sidebar__right"],[1,"my__card","w-100",2,"border","none"],[1,"my__card__body"],[1,"d-flex","justify-content-between"],[1,"fa-solid","fa-crown","text-warning"],[1,"text-danger"],["src","https://gomtruongan.vn/uploads/products/15082022074910/bat-tu-bao-ty-huu-da-ngoc-hoang-long-kem-de-co-nho_15082022074910.jpg","height","120px","alt","",1,"d-block","w-100"],["src","https://gomtruongan.vn/uploads/products/11032021094801/dieu-bat-men-ran-hoa-sen-boc-dong_11032021094801.jpg","height","120px","alt","",1,"d-block","w-100"],["src","https://gomtruongan.vn/uploads/products/11032021075646/dieu-bat-men-ran-boc-dong-son-thuy_11032021075646.jpg","height","120px","alt","",1,"d-block","w-100"],["class","filter",3,"formGroup","ngSubmit",4,"ngIf"],[1,"content"],["class","row","style","margin: 0 -24px;",4,"ngIf"],[1,"more","mt-2","mb-2","d-flex","justify-content-center"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"filter",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12","p-0"],[1,"filter"],[1,"category","d-flex","flex-wrap"],[1,"category__item","mb-2",3,"ngClass"],[1,"category_text",3,"click"],["class","category__item mb-2",3,"ngClass",4,"ngFor","ngForOf"],["action","",1,"w-100","form__filter","d-flex",3,"formGroup","ngSubmit"],["formControlName","rangePrice",1,"select__price",3,"change"],["value","999999999999999999",1,"text-center"],["value","5000000",1,"text-center"],["value","30000000",1,"text-center"],["value","50000000",1,"text-center"],[1,"form_search"],["type","text","formControlName","name","placeholder","B\u1ea1n c\u1ea7n t\xecm g\xec?...",1,"input__search"],[1,"btn__search"],[1,"row",2,"margin","0 -24px"],["class","col-lg-3 col-sm-6 col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-sm-6","col-12","col-md-4","mb-4"],[1,"card","product"],["height","226","alt","",1,"d-block","w-100","card-img",3,"id","src"],[1,"carousel__images","d-flex","justify-content-left"],[3,"value","class",4,"ngFor","ngForOf"],[1,"card-body"],[1,"mb-2","card__title",3,"title"],[1,"product-status",3,"ngClass"],[1,"product__price"],[1,"time"],[1,"time__hh","mx-2"],[1,"mx-2"],[1,"modal__product"],["class"," btn__auction",3,"click",4,"ngIf"],["class"," btn__auctioning",3,"routerLink","click",4,"ngIf"],["class"," btn btn__auctioned",3,"routerLink","click",4,"ngIf"],[3,"value"],["height","30","width","","alt","",1,"d-block","w-100",3,"src","click"],[1,"btn__auction",3,"click"],[1,"btn__auction--title"],[1,"btn__auctioning",3,"routerLink","click"],[1,"btn__auctioning--title"],[1,"btn","btn__auctioned",3,"routerLink","click"],[1,"btn__auctioned--title"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"div",6),r.Nb(7,"button",7),r.Nb(8,"button",8),r.Nb(9,"button",9),r.Qb(),r.Rb(10,"div",10),r.Rb(11,"div",11),r.Nb(12,"img",12),r.Nb(13,"div",13),r.Qb(),r.Rb(14,"div",14),r.Nb(15,"img",15),r.Nb(16,"div",13),r.Qb(),r.Rb(17,"div",14),r.Nb(18,"img",16),r.Nb(19,"div",13),r.Qb(),r.Qb(),r.Rb(20,"button",17),r.Nb(21,"span",18),r.Rb(22,"span",19),r.tc(23,"Previous"),r.Qb(),r.Qb(),r.Rb(24,"button",20),r.Nb(25,"span",21),r.Rb(26,"span",19),r.tc(27,"Next"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",22),r.Rb(29,"div",23),r.Rb(30,"div",24),r.Rb(31,"p",25),r.Rb(32,"span"),r.Nb(33,"i",26),r.tc(34," 1"),r.Qb(),r.Rb(35,"span",27),r.tc(36,"\u0111 90.000.000"),r.Qb(),r.Qb(),r.Qb(),r.Nb(37,"img",28),r.Qb(),r.Rb(38,"div",23),r.Rb(39,"div",24),r.Rb(40,"p",25),r.Rb(41,"span"),r.Nb(42,"i",26),r.tc(43," 2"),r.Qb(),r.Rb(44,"span",27),r.tc(45,"\u0111 80.000.000"),r.Qb(),r.Qb(),r.Qb(),r.Nb(46,"img",29),r.Qb(),r.Rb(47,"div",23),r.Rb(48,"div",24),r.Rb(49,"p",25),r.Rb(50,"span"),r.Nb(51,"i",26),r.tc(52," 3"),r.Qb(),r.Rb(53,"span",27),r.tc(54,"\u0111 80.000.000"),r.Qb(),r.Qb(),r.Qb(),r.Nb(55,"img",30),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(56,Nd,31,6,"form",31),r.Rb(57,"div",32),r.Rb(58,"div",2),r.rc(59,zd,2,1,"div",33),r.Qb(),r.Qb(),r.Rb(60,"div",34),r.rc(61,Qd,2,0,"button",35),r.Qb(),r.Qb()),2&t&&(r.Ab(56),r.fc("ngIf",e.rfSearch),r.Ab(3),r.fc("ngIf",e.pageProducts),r.Ab(2),r.fc("ngIf",e.pageHasNext+1<(null==e.pageProducts?null:e.pageProducts.totalPages)))},directives:[gt,oa,Jo,ca,dt,ft,ks,Zo,ga,Cs,Ss,qo,Ni],pipes:[_t,Ct],styles:['[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}html[_ngcontent-%COMP%]{background-color:#ecf0f1}body[_ngcontent-%COMP%]{min-height:1000px}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}.header__mobile[_ngcontent-%COMP%]{display:none}.app[_ngcontent-%COMP%]{background:rgba(255,198,189,.15)}.product__price[_ngcontent-%COMP%]{padding-left:12px;font-size:24px;text-align:right;color:#f51902;position:absolute;top:184px;right:0;left:0;margin:0;background:rgba(255,189,190,.27)}.product__price[_ngcontent-%COMP%]:first-letter{margin-right:8px;color:transparent}.select__price[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;text-indent:1px;text-overflow:""}.form__filter[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.login__btn[_ngcontent-%COMP%]{padding:4px;border:none;border-radius:2px;color:#e74c3c;box-shadow:2px 2px 8px hsla(0,0%,100%,.35);display:flex;align-items:center}.login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.cl-white[_ngcontent-%COMP%]{color:#ecf0f1}.sidebar__right[_ngcontent-%COMP%]{background:transparent;margin-right:-12px}.sidebar__right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.sidebar__right[_ngcontent-%COMP%]   .my__card[_ngcontent-%COMP%]{margin-bottom:8px}.sidebar__right[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column;overflow-y:scroll;height:400px;margin-left:24px}.sidebar__right[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter[_ngcontent-%COMP%]{padding-top:12px;width:100%;display:flex;align-items:start}select[_ngcontent-%COMP%]::-ms-expand{display:none}.form_search[_ngcontent-%COMP%]{width:80%;padding-left:8px;position:relative;display:flex;align-items:center}.btn__search[_ngcontent-%COMP%]{position:absolute;right:3px;border-radius:25px;border:none;background:#e74c3c;color:#fff;padding:4px 8px}.input__search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #e74c3c;border-radius:25px;outline:none;width:50%;position:relative}.input__search[_ngcontent-%COMP%]{width:100%}.my__card[_ngcontent-%COMP%]{border-radius:2px;box-shadow:1px 1px 8px rgba(122,119,119,.35)}.my__card__body[_ngcontent-%COMP%]{padding:4px 8px;background-color:#ecf0f1}.my__card__img[_ngcontent-%COMP%]{display:block;width:100%;border-radius:2px 2px 0 0}.category[_ngcontent-%COMP%]{display:flex}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;color:#e74c3c;border:1px solid #e74c3c;cursor:pointer}.category__item[_ngcontent-%COMP%], .category__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}#top[_ngcontent-%COMP%]{position:relative}.category__item[_ngcontent-%COMP%]:hover{background-color:#e74c3c;color:#ecf0f1}#select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";display:block;background-color:red;width:10px;height:10px;position:absolute}.category__item.active[_ngcontent-%COMP%]{background-color:#e74c3c;color:#ecf0f1}.content[_ngcontent-%COMP%]{margin-top:32px}.card[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:1px 1px 8px rgba(0,0,0,.35);position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 17px rgba(0,0,0,.35)}.card[_ngcontent-%COMP%]:hover   .modal__product[_ngcontent-%COMP%]{display:flex}.modal__product[_ngcontent-%COMP%]{display:none;position:absolute;bottom:0;left:0;width:100%;height:15%;background-color:hsla(0,0%,54.5%,.17);animation:top-down .3s ease-in-out;border-radius:0 0 4px 4px;align-items:center;justify-content:center}@keyframes top-down{0%{bottom:-30%}to{bottom:0}0%{opacity:0}to{opacity:1%}}.card-img[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0}.btn__auction--title[_ngcontent-%COMP%], .btn__auctioned--title[_ngcontent-%COMP%], .btn__auctioning--title[_ngcontent-%COMP%]{font-size:20px;color:#fff}.btn__auction[_ngcontent-%COMP%], .btn__auctioned[_ngcontent-%COMP%], .btn__auctioning[_ngcontent-%COMP%]{border-radius:2px;position:absolute;border:none;padding:4px;min-height:36px;display:flex;align-items:center;justify-content:center;width:75%}.btn__auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.btn__auction[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500)}.btn__auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.card__title[_ngcontent-%COMP%]{padding-bottom:4px;color:#4d5154;font-size:14px!important;overflow:hidden;-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;text-overflow:ellipsis;min-height:46px;border-bottom:1px solid rgba(122,123,124,.24)}.time[_ngcontent-%COMP%], .timed[_ngcontent-%COMP%]{font-size:28px;font-weight:500;color:#e74c3c;display:flex;justify-content:center}.product[_ngcontent-%COMP%]{position:relative}.card-body[_ngcontent-%COMP%]{padding:0 8px 8px}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll;width:100%;display:flex}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#f5f5f5;height:8px;width:16px}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,98,50,.9);border-radius:10px}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:4px;cursor:pointer}.image__item.actived[_ngcontent-%COMP%]{border:2px solid rgba(231,76,60,.41);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.product-status[_ngcontent-%COMP%]{top:0;left:0;position:absolute;display:block;padding:2px 8px;background:linear-gradient(90deg,#c21500,#ffc500);font-size:12px;color:#ecf0f1;border-radius:8px 0 8px 0;min-width:60%}.product-status.auctioning[_ngcontent-%COMP%]{background:linear-gradient(90deg,#11998e,#38ef7d)}.product-status.auctioned[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2980b9,#6dd5fa)}.auctioned[_ngcontent-%COMP%]{background-color:#3498db!important}.logo[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}.copyright[_ngcontent-%COMP%]{padding:12px 0}@media (max-width:992px){.header[_ngcontent-%COMP%]{padding:4px 0}.login__btn[_ngcontent-%COMP%]{padding:4px}.label_guide[_ngcontent-%COMP%], .login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .my__slide[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{margin-top:4px;flex-wrap:wrap}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:3px;color:red;border:1px solid #e74c3c;cursor:pointer}.category[_ngcontent-%COMP%], .form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form__filter[_ngcontent-%COMP%]{margin-top:8px}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.input__search[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}@media (max-width:768px){.form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:8px}.category__item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.category[_ngcontent-%COMP%], .input__search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:none}.header__mobile[_ngcontent-%COMP%]{display:block}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}}']}),t})(),Ud=(()=>{class t{constructor(t){this._toastrService=t}showSuccessNotification(t){this._toastrService.success(t,"Th\xf4ng B\xe1o",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}showErrorNotification(t){this._toastrService.error(t,"L\u1ed7i",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}showWarningNotification(t){this._toastrService.warning(t,"C\u1ea3nh b\xe1o",{timeOut:2e3,progressBar:!0,positionClass:"toast-top-right",easing:"ease-in"})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb($a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qd(t,e){1&t&&(r.Rb(0,"div",65),r.tc(1," M\xe3 b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Qb())}function Hd(t,e){1&t&&(r.Rb(0,"div",65),r.tc(1," T\xean b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Qb())}function Gd(t,e){1&t&&(r.Rb(0,"div",65),r.tc(1," \u0110\u1ecba ch\u1ec9 b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Qb())}function Wd(t,e){1&t&&(r.Rb(0,"div",65),r.tc(1," \u0110\u1ecba ch\u1ec9 b\u1ea1n nh\u1eadp kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng. "),r.Qb())}function Kd(t,e){if(1&t&&(r.Rb(0,"option",66),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t.id),r.Ab(1),r.uc(t.name)}}function $d(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",46),r.Zb("ngSubmit",(function(){return r.mc(t),r.bc().goToPage(0)})),r.Rb(1,"div",1),r.Rb(2,"div",19),r.Rb(3,"div",47),r.Nb(4,"input",48),r.Rb(5,"label",49),r.tc(6,"M\xe3 th\xe0nh vi\xean:"),r.Qb(),r.Qb(),r.rc(7,qd,2,0,"div",50),r.Qb(),r.Rb(8,"div",19),r.Rb(9,"div",51),r.Nb(10,"input",52),r.Rb(11,"label",53),r.tc(12,"H\u1ecd v\xe0 t\xean:"),r.Qb(),r.Qb(),r.rc(13,Hd,2,0,"div",50),r.Qb(),r.Rb(14,"div",19),r.Rb(15,"div",47),r.Nb(16,"input",54),r.Rb(17,"label",55),r.tc(18,"\u0110\u1ecba ch\u1ec9:"),r.Qb(),r.Qb(),r.rc(19,Gd,2,0,"div",50),r.Qb(),r.Rb(20,"div",19),r.Rb(21,"div",47),r.Nb(22,"input",56),r.Rb(23,"label",57),r.tc(24,"Email:"),r.Qb(),r.Qb(),r.rc(25,Wd,2,0,"div",50),r.Qb(),r.Rb(26,"div",19),r.Rb(27,"div",47),r.Rb(28,"select",58),r.Rb(29,"option",59),r.tc(30,"--Ch\u1ecdn--"),r.Qb(),r.rc(31,Kd,2,2,"option",60),r.Qb(),r.Rb(32,"label",61),r.tc(33,"X\u1ebfp h\u1ea1ng:"),r.Qb(),r.Qb(),r.Qb(),r.Rb(34,"div",62),r.Nb(35,"input",63),r.Rb(36,"input",64),r.Zb("click",(function(){return r.mc(t),r.bc().resetFormAndData()})),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.rfSearch),r.Ab(4),r.fc("ngClass",t.rfSearch.controls.idSearch.touched&&t.rfSearch.controls.idSearch.errors?"is-invalid":""),r.Ab(3),r.fc("ngIf",t.rfSearch.controls.idSearch.hasError("pattern")&&t.rfSearch.controls.idSearch.touched),r.Ab(3),r.fc("ngClass",t.rfSearch.controls.nameSearch.touched&&t.rfSearch.controls.nameSearch.errors?"is-invalid":""),r.Ab(3),r.fc("ngIf",t.rfSearch.controls.nameSearch.hasError("pattern")&&t.rfSearch.controls.nameSearch.touched),r.Ab(3),r.fc("ngClass",t.rfSearch.controls.addressSearch.touched&&t.rfSearch.controls.addressSearch.errors?"is-invalid":""),r.Ab(3),r.fc("ngIf",t.rfSearch.controls.addressSearch.hasError("pattern")&&t.rfSearch.controls.addressSearch.touched),r.Ab(3),r.fc("ngClass",t.rfSearch.controls.emailSearch.touched&&t.rfSearch.controls.emailSearch.errors?"is-invalid":""),r.Ab(3),r.fc("ngIf",t.rfSearch.controls.emailSearch.hasError("pattern")&&t.rfSearch.controls.emailSearch.touched),r.Ab(6),r.fc("ngForOf",t.userTypeList),r.Ab(4),r.fc("disabled",!t.rfSearch.valid)}}function Yd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",72),r.Zb("click",(function(){r.mc(t);const e=r.bc().$implicit;return r.bc(2).modalById(e.id)})),r.Nb(1,"i",23),r.Qb()}}function Zd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",73),r.Zb("click",(function(){r.mc(t);const e=r.bc().$implicit;return r.bc(2).modalById(e.id)})),r.Nb(1,"i",21),r.Qb()}}const Jd=function(t){return["/user/edit",t]};function Xd(t,e){if(1&t){const t=r.Sb();r.Rb(0,"tr"),r.Rb(1,"td"),r.tc(2),r.Qb(),r.Rb(3,"td"),r.tc(4),r.Qb(),r.Rb(5,"td"),r.tc(6),r.Qb(),r.Rb(7,"td"),r.tc(8),r.Qb(),r.Rb(9,"td"),r.tc(10),r.Qb(),r.Rb(11,"td"),r.tc(12),r.Qb(),r.Rb(13,"td"),r.tc(14),r.Qb(),r.Nb(15,"td"),r.Rb(16,"td"),r.tc(17),r.Qb(),r.Rb(18,"td"),r.Rb(19,"button",67),r.Nb(20,"i",68),r.Qb(),r.tc(21," | "),r.rc(22,Yd,2,0,"button",69),r.rc(23,Zd,2,0,"ng-template",null,70,r.sc),r.Qb(),r.Rb(25,"td",29),r.Rb(26,"input",71),r.Zb("click",(function(){r.mc(t);const n=e.$implicit;return r.bc(2).addToUnlock(n.id)})),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index,i=r.lc(24),o=r.bc(2);r.Ab(2),r.uc(5*o.pageUsers.number+n+1),r.Ab(2),r.uc(t.id),r.Ab(2),r.wc("",t.lastName," ",t.firstName," "),r.Ab(2),r.xc("",t.address.town,", ",t.address.district,", ",t.address.city," "),r.Ab(2),r.uc(t.userType.name),r.Ab(2),r.uc(t.email),r.Ab(2),r.uc(t.phone),r.Ab(3),r.uc(t.pointDedication),r.Ab(2),r.fc("routerLink",r.jc(15,Jd,t.id)),r.Ab(3),r.fc("ngIf",t.account.statusLock)("ngIfElse",i),r.Ab(4),r.fc("checked",o.unlockIds.includes(t.id))}}function th(t,e){if(1&t&&(r.Rb(0,"tbody"),r.rc(1,Xd,27,17,"tr",42),r.Qb()),2&t){const t=r.bc();r.Ab(1),r.fc("ngForOf",t.pageUsers.content)}}function eh(t,e){1&t&&(r.Rb(0,"h1",74),r.tc(1,"Kh\xf4ng t\xecm th\u1ea5y "),r.Qb())}function nh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",77),r.Rb(1,"span",78),r.Zb("click",(function(){r.mc(t);const n=e.index;return r.bc(2).goToPage(n)})),r.tc(2),r.Qb(),r.Qb()}if(2&t){const t=e.index,n=r.bc(2);r.fc("ngClass",t==n.pageUsers.number?"active":""),r.Ab(2),r.uc(t+1)}}const rh=function(){return[]};function ih(t,e){if(1&t){const t=r.Sb();r.Rb(0,"nav",75),r.Rb(1,"ul",76),r.Rb(2,"li",77),r.Rb(3,"span",78),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.goToPage(e.pageUsers.number-1)})),r.tc(4," Trang tr\u01b0\u1edbc "),r.Qb(),r.Qb(),r.rc(5,nh,3,2,"li",79),r.Rb(6,"li",77),r.Rb(7,"a",78),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.goToPage(e.pageUsers.number+1)})),r.tc(8,"Trang sau"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(2),r.fc("ngClass",0==t.pageUsers.number?"disabled":""),r.Ab(3),r.fc("ngForOf",r.ic(3,rh).constructor(t.pageUsers.totalPages)),r.Ab(1),r.fc("ngClass",t.pageUsers.totalPages==t.pageUsers.number+1?"disabled":"")}}function oh(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1," M\u1edf kho\xe1 th\xe0nh vi\xean c\xf3 "),r.Rb(2,"strong"),r.tc(3,"M\xe3 th\xe0nh vi\xean l\xe0:"),r.Qb(),r.Rb(4,"strong",65),r.tc(5),r.Qb(),r.tc(6,"? "),r.Qb()),2&t){const t=e.$implicit;r.Ab(5),r.uc(t.id)}}function sh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",80),r.Rb(1,"div",36),r.Rb(2,"div",37),r.Rb(3,"div",38),r.Rb(4,"h5",81),r.tc(5,"X\xe1c nh\u1eadn"),r.Qb(),r.Nb(6,"button",40),r.Qb(),r.Rb(7,"div",41),r.rc(8,oh,7,1,"div",42),r.Rb(9,"div",43),r.Rb(10,"button",82),r.tc(11,"Hu\u1ef7"),r.Qb(),r.Rb(12,"button",83),r.Zb("click",(function(){return r.mc(t),r.bc().unlock()})),r.tc(13,"X\xe1c nh\u1eadn "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(8),r.fc("ngForOf",t.unlockUsers)}}function ah(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1," M\u1edf kho\xe1 th\xe0nh vi\xean c\xf3 "),r.Rb(2,"strong"),r.tc(3,"M\xe3 th\xe0nh vi\xean l\xe0:"),r.Qb(),r.Rb(4,"strong",65),r.tc(5),r.Qb(),r.tc(6,"? "),r.Qb()),2&t){const t=e.$implicit;r.Ab(5),r.uc(t.id)}}let ch=(()=>{class t{constructor(t,e,n,r,i){this._userService=t,this._formBuilder=e,this._toast=n,this._notificationService=r,this._titleService=i,this.userTypeList=[],this._titleService.setTitle("Qu\u1ea3n l\xfd th\xe0nh vi\xean")}ngOnInit(){this._userService.findAllUserType().subscribe(t=>{this.userTypeList=t,this.rfSearch=this._formBuilder.group({idSearch:["",[rs.pattern("\\d{9}")]],nameSearch:["",[rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],addressSearch:["",[rs.pattern("^[a-zA-Z0-9,_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],emailSearch:["",[rs.pattern("^[a-zA-Z0-9,_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],userTypeSearch:[""]}),this.unlockIds=[],console.log("sonTN"+this.rfSearch.value),this.onSearchAndPage(),console.log(this.onSearchAndPage())})}onSearchAndPage(){this._userService.searchBy(this.rfSearch.value,0).subscribe(t=>{this.pageUsers=t,console.log("list"+this.pageUsers.content);for(let e=0;e<this.pageUsers.content.length;e++)console.log("list:"+this.pageUsers.content[e].account.username)})}goToPage(t){this._userService.searchBy(this.rfSearch.value,t).subscribe(t=>{console.log(t),this.pageUsers=t,console.log(this.pageUsers)},t=>{this._toast.error("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn Server")})}addToUnlock(t){const e=this.unlockIds.indexOf(t,0);e>-1?this.unlockIds.splice(e,1):this.unlockIds.push(t)}addAllToUnlock(){this.checkedAll=!0;for(let t of this.pageUsers.content)if(!this.unlockIds.includes(t.id)){this.checkedAll=!1;break}if(this.checkedAll)for(let t of this.pageUsers.content){const e=this.unlockIds.indexOf(t.id,0);this.unlockIds.splice(e,1)}else for(let t of this.pageUsers.content)-1==this.unlockIds.indexOf(t.id,0)&&this.unlockIds.push(t.id)}sendToUnlockGroupModal(){this.unlockUsers=[],this._userService.findByListId(this.unlockIds).subscribe(t=>{this.unlockUsers=t})}modalById(t){this._userService.findUserEditById(t).subscribe(t=>{this.user=t}),this.unlockIds=[t],this.sendToUnlockGroupModal()}unlock(){this._userService.unlock(this.unlockIds).subscribe(t=>{this._notificationService.showSuccessNotification("M\u1edf kho\xe1 th\xe0nh c\xf4ng!"),this.ngOnInit()})}resetFormAndData(){this.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hc),r.Mb(ya),r.Mb($a),r.Mb(Ud),r.Mb(ae))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-user-list"]],decls:95,vars:7,consts:[[1,"container-fluid",2,"height","100%"],[1,"row"],[1,"col-lg-2","sidebar__left"],[1,"menu"],[1,"menu__item"],["routerLink","/home",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],["routerLink","/products",1,"menu__link"],[1,"menu__icon","fa-solid","fa-book"],["routerLink","/user/list",1,"menu__link"],[1,"menu__icon","fa-solid","fa-user-pen"],["routerLink","/transaction",1,"menu__link"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"col-lg-10"],[1,"mt-5",2,"text-align","center"],[1,"mb-5"],[1,"mt-2","row"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-2"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-primary",3,"disabled","click"],[1,"fa-solid","fa-unlock"],["type","button",1,"btn","btn-danger"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-user-plus"],[1,"mt-2","row","container",2,"padding-left","2%"],[1,"mt-2","table","table-striped","table-bordered"],["width","100px"],["width","7%"],[1,"text-center"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["style","color: red;text-align: center",4,"ngIf"],["aria-label","Page navigation example","class","p-0 d-flex justify-content-end",4,"ngIf"],["class","modal fade","id","modalUnlock","tabindex","-1","aria-labelledby","exampleModalLabel-Unlock","aria-hidden","true",4,"ngIf"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept1","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-4"],["formControlName","idSearch","type","text","placeholder","M\xe3 th\xe0nh vi\xean:","id","floatingId",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingId"],["style","color: red",4,"ngIf"],[1,"form-floating"],["formControlName","nameSearch","id","floatingName","type","text","placeholder","H\u1ecd v\xe0 t\xean:",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingName"],["formControlName","addressSearch","id","floatingAddress","type","text","placeholder","\u0110\u1ecba ch\u1ec9:",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingAddress"],["formControlName","emailSearch","id","floatingEmail","type","email","placeholder","Email:",1,"form-control","form-control-underlined",3,"ngClass"],["for","floatingEmail"],["formControlName","userTypeSearch","name","classroomSearch",1,"form-select","form-control-underlined",2,"padding-left","3px"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingEmail",1,"d-flex","justify-content-start",2,"padding-left","0"],[1,"col-1"],["type","submit","value","L\u1ecdc k\u1ebft qu\u1ea3",1,"btn","btn-info","myMT",3,"disabled"],["type","button","value","Ho\xe0n t\xe1c l\u1ecdc",1,"btn","btn-success","myMT",3,"click"],[2,"color","red"],[3,"value"],["type","button","data-bs-toggle","modal","data-bs-target","#modalDelete",1,"btn","btn-info",3,"routerLink"],[1,"fa-solid","fa-pen-to-square",2,"color","darkgoldenrod"],["type","button","class","btn btn-danger","data-bs-toggle","modal","data-bs-target","#modalLock",3,"click",4,"ngIf","ngIfElse"],["no",""],["type","checkbox",1,"delete-checkbox",3,"checked","click"],["type","button","data-bs-toggle","modal","data-bs-target","#modalLock",1,"btn","btn-danger",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#modalUnlock",1,"btn","btn-primary",3,"click"],[2,"color","red","text-align","center"],["aria-label","Page navigation example",1,"p-0","d-flex","justify-content-end"],[1,"pagination"],[1,"page-item",3,"ngClass"],[1,"page-link",3,"click"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],["id","modalUnlock","tabindex","-1","aria-labelledby","exampleModalLabel-Unlock","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel-Unlock",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div"),r.Rb(4,"nav"),r.Rb(5,"ul",3),r.Rb(6,"li",4),r.Rb(7,"a",5),r.Nb(8,"i",6),r.tc(9," Trang ch\u1ee7 "),r.Rb(10,"span",7),r.tc(11,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"li",4),r.Rb(13,"a",8),r.Nb(14,"i",9),r.tc(15," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(16,"span",7),r.tc(17,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"li",4),r.Rb(19,"a",10),r.Nb(20,"i",11),r.tc(21," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(22,"span",7),r.tc(23,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"li",4),r.Rb(25,"a",12),r.Nb(26,"i",13),r.tc(27," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(28,"span",7),r.tc(29,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",14),r.Rb(31,"h1",15),r.tc(32,"Qu\u1ea3n l\xfd th\xe0nh vi\xean"),r.Qb(),r.Nb(33,"hr",16),r.Rb(34,"div",17),r.rc(35,$d,37,11,"form",18),r.Rb(36,"div",1),r.Rb(37,"div",19),r.Rb(38,"button",20),r.Zb("click",(function(){return e.sendToUnlockGroupModal()})),r.Nb(39,"i",21),r.tc(40," M\u1edf kho\xe1 "),r.Qb(),r.Qb(),r.Rb(41,"div",19),r.Rb(42,"a",22),r.tc(43,"Kho\xe1 "),r.Nb(44,"i",23),r.Qb(),r.Qb(),r.Rb(45,"div",19),r.Rb(46,"a",22),r.tc(47,"Th\xeam m\u1edbi "),r.Nb(48,"i",24),r.Qb(),r.Qb(),r.Qb(),r.Rb(49,"div",25),r.Rb(50,"table",26),r.Rb(51,"thead"),r.Rb(52,"tr"),r.Rb(53,"th"),r.tc(54,"STT"),r.Qb(),r.Rb(55,"th"),r.tc(56,"ID"),r.Qb(),r.Rb(57,"th"),r.tc(58,"T\xean th\xe0nh vi\xean"),r.Qb(),r.Rb(59,"th"),r.tc(60," \u0110\u1ecba ch\u1ec9"),r.Qb(),r.Rb(61,"th"),r.tc(62,"X\u1ebfp h\u1ea1ng"),r.Qb(),r.Rb(63,"th"),r.tc(64,"Email"),r.Qb(),r.Rb(65,"th"),r.tc(66,"S\u0110T"),r.Qb(),r.Rb(67,"th",27),r.tc(68,"L\u1ea7n \u0111\u0103ng nh\u1eadp cu\u1ed1i"),r.Qb(),r.Rb(69,"th",28),r.tc(70,"\u0110i\u1ec3m c\u1ed1ng hi\u1ebfn"),r.Qb(),r.Rb(71,"th"),r.tc(72,"T\xednh n\u0103ng"),r.Qb(),r.Rb(73,"th",29),r.Rb(74,"button",30),r.Zb("click",(function(){return e.addAllToUnlock()})),r.Nb(75,"i",21),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(76,th,2,1,"tbody",31),r.Qb(),r.rc(77,eh,2,0,"h1",32),r.rc(78,ih,9,4,"nav",33),r.Qb(),r.Nb(79,"div"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(80,sh,14,1,"div",34),r.Rb(81,"div",35),r.Rb(82,"div",36),r.Rb(83,"div",37),r.Rb(84,"div",38),r.Rb(85,"h5",39),r.tc(86,"X\xf3a giao d\u1ecbch"),r.Qb(),r.Nb(87,"button",40),r.Qb(),r.Rb(88,"div",41),r.rc(89,ah,7,1,"div",42),r.Rb(90,"div",43),r.Rb(91,"button",44),r.tc(92,"Hu\u1ef7 b\u1ecf"),r.Qb(),r.Rb(93,"button",45),r.Zb("click",(function(){return e.unlock()})),r.tc(94,"X\xe1c nh\u1eadn "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(35),r.fc("ngIf",e.rfSearch),r.Ab(3),r.fc("disabled",0==e.unlockIds.length),r.Ab(38),r.fc("ngIf",null!=e.pageUsers),r.Ab(1),r.fc("ngIf",null==e.pageUsers),r.Ab(1),r.fc("ngIf",null!=e.pageUsers),r.Ab(2),r.fc("ngIf",e.user),r.Ab(9),r.fc("ngForOf",e.unlockUsers))},directives:[Pi,gt,ft,oa,Jo,ca,qo,Zo,ga,dt,ks,Cs,Ss,Ni],styles:[""]}),t})();class lh{constructor(t,e){this.id=t,this.name=e}}class uh{constructor(t,e){this.id=t,this.name=e}}class dh{constructor(t,e){this.id=t,this.name=e}}let hh=(()=>{class t{constructor(t){this._httpClient=t,this.cities=[]}getAllAddress(){return this._httpClient.get(o.DIA_GIOI_VIETNAM_API)}getAllCities(){this.getAllAddress().subscribe(t=>{for(let e=0;e<t.length;e++)this.cities.push(new dh(e,t[e].Name))})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function ph(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function gh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function mh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function bh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," CMND kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function vh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," SDT kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function yh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function _h(t,e){if(1&t){const t=r.Sb();r.Rb(0,"input",79),r.Zb("click",(function(){return r.mc(t),r.bc(2).changStatusCity1()})),r.Qb()}if(2&t){const t=r.bc(2);r.fc("ngClass",t.rfUser.controls.email.touched?t.rfUser.controls.email.errors?"is-invalid":"is-valid":"")}}function wh(t,e){if(1&t&&(r.Rb(0,"option",84),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function kh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," T\u1ec9nh/Th\xe0nh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function Ch(t,e){if(1&t){const t=r.Sb();r.Rb(0,"select",80),r.Zb("change",(function(){return r.mc(t),r.bc(2).selectCity()})),r.Rb(1,"option",81),r.tc(2,"Ch\u1ecdn T\u1ec9nh/Th\xe0nh"),r.Qb(),r.rc(3,wh,2,2,"option",82),r.Qb(),r.Rb(4,"label",83),r.tc(5,"T\u1ec9nh/Th\xe0nh :"),r.Qb(),r.rc(6,kh,2,0,"div",30)}if(2&t){const t=r.bc(2);r.Ab(3),r.fc("ngForOf",t.cities),r.Ab(3),r.fc("ngIf",t.rfUser.controls.city.hasError("required")&&t.rfUser.controls.city.touched)}}function Ah(t,e){if(1&t){const t=r.Sb();r.Rb(0,"input",85),r.Zb("click",(function(){return r.mc(t),r.bc(2).changStatusDistrict1()})),r.Qb()}if(2&t){const t=r.bc(2);r.gc("value",t.rfUser.value.district),r.fc("ngClass",t.rfUser.controls.district.touched?t.rfUser.controls.district.errors?"is-invalid":"is-valid":"")}}function Eh(t,e){if(1&t&&(r.Rb(0,"option",84),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function xh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," Huy\u1ec7n/Qu\u1eadn th\xe0nh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function Sh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"select",86),r.Zb("change",(function(){return r.mc(t),r.bc(2).selectDistrict()})),r.Rb(1,"option",81),r.tc(2,"Ch\u1ecdn Huy\u1ec7n/Qu\u1eadn"),r.Qb(),r.rc(3,Eh,2,2,"option",82),r.Qb(),r.Rb(4,"label",87),r.tc(5,"Huy\u1ec7n/Qu\u1eadn :"),r.Qb(),r.rc(6,xh,2,0,"div",30)}if(2&t){const t=r.bc(2);r.Ab(3),r.fc("ngForOf",t.districts),r.Ab(3),r.fc("ngIf",t.rfUser.controls.district.hasError("required")&&t.rfUser.controls.district.touched)}}function Ih(t,e){if(1&t){const t=r.Sb();r.Rb(0,"input",88),r.Zb("click",(function(){return r.mc(t),r.bc(2).changStatusTown1()})),r.Qb()}if(2&t){const t=r.bc(2);r.fc("ngClass",t.rfUser.controls.email.touched?t.rfUser.controls.email.errors?"is-invalid":"is-valid":"")}}function Th(t,e){if(1&t&&(r.Rb(0,"option",84),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function Dh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," X\xe3/Ph\u01b0\u1eddng th\xe0nh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function Rh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"select",89),r.Zb("change",(function(){return r.mc(t),r.bc(2).selectWard()})),r.Rb(1,"option",81),r.tc(2,"Ch\u1ecdn X\xe3/Ph\u01b0\u1eddng"),r.Qb(),r.rc(3,Th,2,2,"option",82),r.Qb(),r.Rb(4,"label",90),r.tc(5,"X\xe3/Ph\u01b0\u1eddng :"),r.Qb(),r.rc(6,Dh,2,0,"div",30)}if(2&t){const t=r.bc(2);r.Ab(3),r.fc("ngForOf",t.wards),r.Ab(3),r.fc("ngIf",t.rfUser.controls.town.hasError("required")&&t.rfUser.controls.town.touched)}}function Oh(t,e){1&t&&(r.Rb(0,"div",78),r.tc(1," \u0110\u1ecba ch\u1ec9 chi ti\u1ebft kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng. "),r.Qb())}function Nh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",19),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.saveUser(e.id)})),r.Rb(1,"div",1),r.Rb(2,"div",20),r.Rb(3,"div",21),r.Rb(4,"h3"),r.tc(5,"S\u1eeda h\u1ed3 s\u01a1 c\xe1 nh\xe2n"),r.Qb(),r.Qb(),r.Qb(),r.Nb(6,"div",22),r.Qb(),r.Rb(7,"div",1),r.Rb(8,"div",23),r.Rb(9,"div",24),r.Rb(10,"div",25),r.Nb(11,"input",26),r.Rb(12,"label",27),r.tc(13,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(14,"span",28),r.Nb(15,"i",29),r.Qb(),r.Qb(),r.rc(16,fh,2,0,"div",30),r.Qb(),r.Rb(17,"div",23),r.Rb(18,"div",24),r.Rb(19,"div",25),r.Nb(20,"input",31),r.Rb(21,"label",32),r.tc(22,"T\xean"),r.Qb(),r.Qb(),r.Rb(23,"span",33),r.Nb(24,"i",29),r.Qb(),r.Qb(),r.rc(25,ph,2,0,"div",30),r.Qb(),r.Qb(),r.Rb(26,"div",1),r.Rb(27,"div",23),r.Rb(28,"div",34),r.Rb(29,"div",25),r.Nb(30,"input",35),r.Rb(31,"label",36),r.tc(32,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(33,"span",37),r.Nb(34,"i",29),r.Qb(),r.Qb(),r.rc(35,gh,2,0,"div",30),r.Qb(),r.Rb(36,"div",23),r.Rb(37,"div",34),r.Rb(38,"div",25),r.Nb(39,"input",38),r.Rb(40,"label",39),r.tc(41,"M\xe3 th\xe0nh vi\xean"),r.Qb(),r.Qb(),r.Rb(42,"span",40),r.Nb(43,"i",41),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(44,"div",1),r.Rb(45,"div",23),r.Rb(46,"div",34),r.Rb(47,"div",42),r.Nb(48,"input",43),r.Rb(49,"label",44),r.tc(50,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Qb(),r.rc(51,mh,2,0,"div",30),r.Qb(),r.Rb(52,"div",23),r.Rb(53,"div",34),r.Rb(54,"div",25),r.Nb(55,"input",45),r.Rb(56,"label",46),r.tc(57,"CMND (C\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n) "),r.Qb(),r.Qb(),r.Rb(58,"span",47),r.Nb(59,"i",48),r.Qb(),r.Qb(),r.rc(60,bh,2,0,"div",30),r.Qb(),r.Qb(),r.Rb(61,"div",1),r.Rb(62,"div",23),r.Rb(63,"div",34),r.Rb(64,"div",25),r.Nb(65,"input",49),r.Rb(66,"label",50),r.tc(67,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(68,"span",51),r.Nb(69,"i",52),r.Qb(),r.Qb(),r.rc(70,vh,2,0,"div",30),r.Qb(),r.Rb(71,"div",23),r.Rb(72,"div",34),r.Rb(73,"div",25),r.Nb(74,"input",53),r.Rb(75,"label",54),r.tc(76,"Email"),r.Qb(),r.Qb(),r.Rb(77,"span",55),r.Nb(78,"i",56),r.Qb(),r.Qb(),r.rc(79,yh,2,0,"div",30),r.Qb(),r.Qb(),r.Rb(80,"div",1),r.Rb(81,"div",23),r.Rb(82,"div",57),r.rc(83,_h,1,1,"input",58),r.Rb(84,"label",59),r.tc(85,"T\u1ec9nh/Th\xe0nh :"),r.Qb(),r.rc(86,Ch,7,2,"ng-template",null,60,r.sc),r.Qb(),r.Qb(),r.Rb(88,"div",23),r.Rb(89,"div",57),r.rc(90,Ah,1,2,"input",61),r.Rb(91,"label",62),r.tc(92,"Huy\u1ec7n/Qu\u1eadn :"),r.Qb(),r.rc(93,Sh,7,2,"ng-template",null,63,r.sc),r.Qb(),r.Qb(),r.Qb(),r.Rb(95,"div",1),r.Rb(96,"div",64),r.Rb(97,"div",65),r.Rb(98,"div",57),r.rc(99,Ih,1,1,"input",66),r.Rb(100,"label",67),r.tc(101,"X\xe3/Ph\u01b0\u1eddng :"),r.Qb(),r.rc(102,Rh,7,2,"ng-template",null,68,r.sc),r.Qb(),r.Qb(),r.Qb(),r.Rb(104,"div",69),r.Rb(105,"div",34),r.Rb(106,"div",25),r.Nb(107,"input",70),r.Rb(108,"label",71),r.tc(109,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.rc(110,Oh,2,0,"div",30),r.Qb(),r.Rb(111,"span",72),r.Nb(112,"i",73),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(113,"div",74),r.Rb(114,"div",75),r.Rb(115,"button",76),r.tc(116,"C\u1eadp nh\u1eadt"),r.Qb(),r.Rb(117,"button",77),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.reset(e.id)})),r.tc(118,"\u0110\u1eb7t l\u1ea1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.lc(87),e=r.lc(94),n=r.lc(103),i=r.bc();r.fc("formGroup",i.rfUser),r.Ab(11),r.fc("ngClass",i.rfUser.controls.firstName.touched?i.rfUser.controls.firstName.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",i.rfUser.controls.firstName.hasError("required")&&i.rfUser.controls.firstName.touched),r.Ab(4),r.fc("ngClass",i.rfUser.controls.lastName.touched?i.rfUser.controls.lastName.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",i.rfUser.controls.lastName.hasError("required")&&i.rfUser.controls.lastName.touched),r.Ab(5),r.fc("ngClass",i.rfUser.controls.username.touched?i.rfUser.controls.username.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",i.rfUser.controls.username.hasError("required")&&i.rfUser.controls.username.touched),r.Ab(13),r.fc("ngClass",i.rfUser.controls.birthDay.touched?i.rfUser.controls.birthDay.errors?"is-invalid":"is-valid":""),r.Ab(3),r.fc("ngIf",i.rfUser.controls.birthDay.hasError("required")&&i.rfUser.controls.birthDay.touched),r.Ab(4),r.fc("ngClass",i.rfUser.controls.idCard.touched?i.rfUser.controls.idCard.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",i.rfUser.controls.idCard.hasError("required")&&i.rfUser.controls.idCard.touched),r.Ab(5),r.fc("ngClass",i.rfUser.controls.phone.touched?i.rfUser.controls.phone.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",i.rfUser.controls.phone.hasError("required")&&i.rfUser.controls.phone.touched),r.Ab(4),r.fc("ngClass",i.rfUser.controls.email.touched?i.rfUser.controls.email.errors?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",i.rfUser.controls.email.hasError("required")&&i.rfUser.controls.email.touched),r.Ab(4),r.fc("ngIf",0==i.status)("ngIfElse",t),r.Ab(7),r.fc("ngIf",0==i.status)("ngIfElse",e),r.Ab(9),r.fc("ngIf",0==i.status)("ngIfElse",n),r.Ab(8),r.fc("ngClass",i.rfUser.controls.detailAddress.touched?i.rfUser.controls.detailAddress.errors?"is-invalid":"is-valid":""),r.Ab(3),r.fc("ngIf",i.rfUser.controls.detailAddress.hasError("required")&&i.rfUser.controls.detailAddress.touched)}}let Ph=(()=>{class t{constructor(t,e,n,r,i,o,s){this._userService=t,this._activatedRoute=e,this._formBuilder=n,this._toast=r,this._router=i,this._addressService=o,this._titleService=s,this.cities=[],this._titleService.setTitle("Ch\u1ec9nh s\u1eeda th\xe0nh vi\xean")}ngOnInit(){this.status=0,this._activatedRoute.paramMap.subscribe(t=>{this.id=+t.get("id"),console.log("Id:"+this.id),this.getById(this.id)}),this._addressService.getAllCities(),this.cities=this._addressService.cities}getById(t){return this._userService.findUserEditById(t).subscribe(t=>{var e,n,r,i,o,s;console.log("get user by id : ",t),this.rfUser=this._formBuilder.group({id:[t.id],firstName:[t.firstName,[rs.required,rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],lastName:[t.lastName,[rs.required,rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],email:[t.email,[rs.required,rs.pattern("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$")]],phone:[t.phone,[rs.required,rs.pattern("[0][9][0]\\d{7}")]],detailAddress:[null===(e=t.address)||void 0===e?void 0:e.detailAddress,[rs.required,rs.pattern("^[a-zA-Z0-9,_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],town:[null===(n=t.address)||void 0===n?void 0:n.town,[rs.required]],district:[null===(r=t.address)||void 0===r?void 0:r.district,[rs.required]],city:[null===(i=t.address)||void 0===i?void 0:i.city,[rs.required]],country:[null===(o=t.address)||void 0===o?void 0:o.country,[rs.required]],username:[null===(s=t.account)||void 0===s?void 0:s.username,[rs.required]],birthDay:[t.birthDay,[rs.required]],idCard:[t.idCard,[rs.required,rs.pattern("\\d{9}")]]})})}saveUser(t){this.rfUser.controls.city.setValue(this.currentCity),this.rfUser.controls.district.setValue(this.currentDistrcit),this.rfUser.controls.town.setValue(this.currentWard),this.user=this.rfUser.value,this._userService.updateByAdim(t,this.user).subscribe(t=>{this._router.navigate(["/user/list"]),this._toast.success("Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng")})}reset(t){this.ngOnInit(),this.getById(t)}selectCity(){this.cityIdSelected=this.rfUser.value.city,this._addressService.getAllAddress().subscribe(t=>{this.districts=[];for(let e=0;e<t[this.cityIdSelected].Districts.length;e++)this.districts.push(new lh(e,t[this.cityIdSelected].Districts[e].Name));this.currentCity=t[this.cityIdSelected].Name,console.log(this.currentCity)})}selectDistrict(){this.districtIdSelected=this.rfUser.value.district,this._addressService.getAllAddress().subscribe(t=>{this.wards=[];for(let e=0;e<t[this.cityIdSelected].Districts[this.districtIdSelected].Wards.length;e++)this.wards.push(new uh(e,t[this.cityIdSelected].Districts[this.districtIdSelected].Wards[e].Name));console.log(this.wards),this.currentDistrcit=t[this.cityIdSelected].Districts[this.districtIdSelected].Name})}selectWard(){this.wardIdSelected=this.rfUser.value.town,this._addressService.getAllAddress().subscribe(t=>{this.currentWard=t[this.cityIdSelected].Districts[this.districtIdSelected].Wards[this.wardIdSelected].Name})}changStatusCity1(){this.status=1,this.selectCity()}changStatusDistrict1(){this.status=1}changStatusTown1(){this.status=1}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hc),r.Mb(Ar),r.Mb(ya),r.Mb($a),r.Mb(Oi),r.Mb(hh),r.Mb(ae))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-user-edit"]],decls:37,vars:1,consts:[[1,"container-fluid",2,"background-color","#eee","height","100vh"],[1,"row"],[1,"col-lg-2","sidebar__left",2,"height","100vh"],[1,"menu"],[1,"menu__item"],["href","#",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__icon","fa-solid","fa-book"],[1,"menu__icon","fa-solid","fa-user-pen"],[1,"menu__icon","fa-solid","fa-handshake"],[1,"container","col-10",2,"width","75%"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"profile","row",2,"background-color","white","border-radius","20px"],[1,"col-5","bgd","d-flex","align-items-center","pl-0",2,"padding-left","0"],[1,"h-100","w-100",2,"background","url('https://images.pexels.com/photos/210661/pexels-photo-210661.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')","background-size","cover","background-repeat","no-repeat","border-top-left-radius","20px","border-bottom-left-radius","20px"],[1,"col-7","p-3"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"row","mb-3",2,"font-size","20px"],[1,"col-lg-3"],[1,"col-lg-6"],[1,"input-group"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","formControlName","firstName",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","required","","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],[1,"input-group","mt-3"],["type","text","id","floatingLogin","required","","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon3",1,"input-group-text"],["type","text","id","floatingId","required","","formControlName","id","disabled","",1,"form-control"],["for","floatingId"],["id","basic-addon4",1,"input-group-text"],[1,"fa-solid","fa-id-badge"],[1,"form-floating","flex-grow-1",2,"z-index","1"],["type","date","id","floatingDateOfBirth","required","","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["type","text","id","floatingIdCard","required","","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","text","id","floatingPhone","required","","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingEmail","required","","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-envelope"],[1,"form-floating","mt-3"],["type","text","class","form-control","id","city1","required","","formControlName","city",3,"ngClass","click",4,"ngIf","ngIfElse"],["for","city1"],["city1",""],["type","text","class","form-control","id","district1","required","","formControlName","district",3,"value","ngClass","click",4,"ngIf","ngIfElse"],["for","district1"],["district1",""],[1,"col-lg-5"],[1,"form-floating"],["type","text","class","form-control","id","town1","required","","formControlName","town",3,"ngClass","click",4,"ngIf","ngIfElse"],["for","town1"],["town1",""],[1,"col-lg-7"],["type","text","id","floatingAddress","required","","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],[1,"row","mt-3"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","mx-2"],["type","button",1,"btn","btn-warning",3,"click"],[2,"color","red"],["type","text","id","city1","required","","formControlName","city",1,"form-control",3,"ngClass","click"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","city",1,"d-flex","justify-content-start"],[3,"ngValue"],["type","text","id","district1","required","","formControlName","district",1,"form-control",3,"value","ngClass","click"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"change"],["for","district",1,"d-flex","justify-content-start"],["type","text","id","town1","required","","formControlName","town",1,"form-control",3,"ngClass","click"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"change"],["for","ward",1,"d-flex","justify-content-start"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"nav"),r.Rb(4,"ul",3),r.Rb(5,"li",4),r.Rb(6,"a",5),r.Nb(7,"i",6),r.tc(8," Trang ch\u1ee7 "),r.Rb(9,"span",7),r.tc(10,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"li",4),r.Rb(12,"a",5),r.Nb(13,"i",8),r.tc(14," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(15,"span",7),r.tc(16,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"li",4),r.Rb(18,"a",5),r.Nb(19,"i",9),r.tc(20," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(21,"span",7),r.tc(22,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"li",4),r.Rb(24,"a",5),r.Nb(25,"i",10),r.tc(26," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(27,"span",7),r.tc(28,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(29,"div",11),r.Rb(30,"div",12),r.Rb(31,"div",13),r.Rb(32,"div",14),r.Rb(33,"div",15),r.Nb(34,"div",16),r.Qb(),r.Rb(35,"div",17),r.rc(36,Nh,119,23,"form",18),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(36),r.fc("ngIf",e.rfUser))},directives:[gt,oa,Jo,ca,qo,Zo,ga,dt,ba,ks,Cs,Ss,ft],styles:[""]}),t})(),Mh=(()=>{class t{constructor(t,e,n){this.userSevice=t,this.router=e,this.builder=n}ngOnInit(){this.getAddUserform()}getAddUserform(){}addAccountUser(){this.addUser.valid&&this.userSevice.saveaddAcountUser(this.addUser.value).subscribe(()=>this.router.navigateByUrl(""))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hc),r.Mb(Oi),r.Mb(ya))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-user-add"]],decls:155,vars:1,consts:[[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","",1,"d-block","w-100"],[1,"w-50"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["data-label","DC",1,"avatar"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2",1,"form-control"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","placeholder","Name",1,"form-control"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2",1,"form-control"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2",1,"form-control"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2",1,"form-control"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth",1,"form-control"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["id","city","aria-label",".form-select-sm",1,"form-control"],["value","","selected",""],["id","district","aria-label",".form-select-sm",1,"form-control"],["id","ward","aria-label",".form-select-sm",1,"form-control"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard",1,"form-control"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],[1,"col-lg-12"],["type","button",1,"btn","btn-primary"],[1,"row","text-center","mt-3"],[2,"margin-top","10px"],[1,"container-fluid","shadow",2,"margin-top","30px","max-width","450px",3,"formGroup"],[1,"mb-2"],["type","text","formControlName","fisrtName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","text","formControlName","username",1,"form-control"],["type","date","formControlName","birthDay",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","idCard",1,"form-control"],["type","text","formControlName","detailAddress",1,"form-control"],["type","text","formControlName","town",1,"form-control"],["type","text","formControlName","district",1,"form-control"],["type","text","formControlName","city",1,"form-control"],[1,"text-center","mb-4",2,"margin-top","20px"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px"],["routerLink",""],[1,"btn","btn-primary",2,"margin-right","10px"],["type","reset",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Nb(6,"img",6),r.Qb(),r.Rb(7,"div",7),r.Rb(8,"div",8),r.Rb(9,"div",9),r.Rb(10,"div",10),r.Rb(11,"h3"),r.tc(12,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Qb(),r.Qb(),r.Qb(),r.Nb(13,"div",11),r.Qb(),r.Nb(14,"div",12),r.Rb(15,"div",8),r.Rb(16,"div",13),r.Nb(17,"div",14),r.Qb(),r.Qb(),r.Nb(18,"div",15),r.Rb(19,"div",8),r.Rb(20,"div",16),r.Rb(21,"div",17),r.Rb(22,"div",18),r.Nb(23,"input",19),r.Rb(24,"label",20),r.tc(25,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(26,"span",21),r.Nb(27,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",16),r.Rb(29,"div",17),r.Rb(30,"div",18),r.Nb(31,"input",23),r.Rb(32,"label",24),r.tc(33,"T\xean"),r.Qb(),r.Qb(),r.Rb(34,"span",25),r.Nb(35,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(36,"div",8),r.Rb(37,"div",16),r.Rb(38,"div",17),r.Rb(39,"div",18),r.Nb(40,"input",26),r.Rb(41,"label",27),r.tc(42,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(43,"span",28),r.Nb(44,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(45,"div",16),r.Rb(46,"div",17),r.Rb(47,"div",18),r.Nb(48,"input",29),r.Rb(49,"label",30),r.tc(50,"Email"),r.Qb(),r.Qb(),r.Rb(51,"span",31),r.Nb(52,"i",32),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(53,"div",8),r.Rb(54,"div",16),r.Rb(55,"div",17),r.Rb(56,"div",18),r.Nb(57,"input",33),r.Rb(58,"label",34),r.tc(59,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(60,"span",35),r.Nb(61,"i",36),r.Qb(),r.Qb(),r.Qb(),r.Rb(62,"div",16),r.Rb(63,"div",17),r.Rb(64,"div",18),r.Nb(65,"input",37),r.Rb(66,"label",38),r.tc(67,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(68,"span",39),r.Nb(69,"i",40),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(70,"div",8),r.Rb(71,"div",41),r.Rb(72,"div"),r.Rb(73,"select",42),r.Rb(74,"option",43),r.tc(75,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(76,"div",41),r.Rb(77,"div"),r.Rb(78,"select",44),r.Rb(79,"option",43),r.tc(80,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(81,"div",41),r.Rb(82,"div"),r.Rb(83,"select",45),r.Rb(84,"option",43),r.tc(85,"Ch\u1ecdn ph\u01b0\u1eddng x\xe3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(86,"div",46),r.Rb(87,"div",16),r.Rb(88,"div",17),r.Rb(89,"div",18),r.Nb(90,"input",47),r.Rb(91,"label",48),r.tc(92,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(93,"span",49),r.Nb(94,"i",50),r.Qb(),r.Qb(),r.Qb(),r.Rb(95,"div",16),r.Rb(96,"div",17),r.Rb(97,"div",18),r.Nb(98,"input",51),r.Rb(99,"label",52),r.tc(100,"CMND"),r.Qb(),r.Qb(),r.Rb(101,"span",53),r.Nb(102,"i",54),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(103,"div",8),r.Nb(104,"div",12),r.Rb(105,"div",8),r.Rb(106,"div",55),r.Rb(107,"button",56),r.tc(108,"\u0110\u0103ng k\xfd"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(109,"div",57),r.Rb(110,"h2",58),r.tc(111,"Th\xeam Th\xe0nh vi\xean"),r.Qb(),r.Qb(),r.Rb(112,"form",59),r.Rb(113,"div"),r.Rb(114,"div",60),r.tc(115," H\u1ecd: "),r.Nb(116,"input",61),r.Qb(),r.Rb(117,"div",60),r.tc(118," T\xean: "),r.Nb(119,"input",62),r.Qb(),r.Rb(120,"div",60),r.tc(121," T\xean \u0111\u0103ng nh\u1eadp: "),r.Nb(122,"input",63),r.Qb(),r.Rb(123,"div",60),r.tc(124," Ng\xe0y sinh: "),r.Nb(125,"input",64),r.Qb(),r.Rb(126,"div",60),r.tc(127," Email: "),r.Nb(128,"input",65),r.Qb(),r.Rb(129,"div",60),r.tc(130," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: "),r.Nb(131,"input",66),r.Qb(),r.Rb(132,"div",60),r.tc(133," S\u1ed1 CMND: "),r.Nb(134,"input",67),r.Qb(),r.Rb(135,"div",60),r.tc(136," S\u1ed1 nh\xe0: "),r.Nb(137,"input",68),r.Qb(),r.Rb(138,"div",60),r.tc(139," Ph\u01b0\u1eddng/X\xe3: "),r.Nb(140,"input",69),r.Qb(),r.Rb(141,"div",60),r.tc(142," Qu\u1eadn /huy\u1ec7n: "),r.Nb(143,"input",70),r.Qb(),r.Rb(144,"div",60),r.tc(145," T\u1ec9nh: "),r.Nb(146,"input",71),r.Qb(),r.Qb(),r.Rb(147,"div",72),r.Rb(148,"button",73),r.tc(149,"Th\xeam m\u1edbi"),r.Qb(),r.Rb(150,"a",74),r.Rb(151,"button",75),r.tc(152,"H\u1ee7y"),r.Qb(),r.Qb(),r.Rb(153,"button",76),r.tc(154,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(112),r.fc("formGroup",e.addUser))},directives:[Cs,Ss,oa,Jo,ca,qo,Zo,ga,Pi],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),t})(),Lh=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-lockaccount-user"]],decls:24,vars:0,consts:[[1,"container-fluid","shadow",2,"margin-top","30px","max-width","450px","padding-bottom","5px"],[1,"text-center","mb-4"],[1,"mb-2"],[1,"mb-2",2,"margin-top","20px"],["type","date",2,"margin-right","10px"],["rows","4","formControlName","",1,"form-control"],["formControlName","",1,"form-control"],[1,"text-center","mb-4",2,"margin-top","20px"],["type","submit",1,"btn","btn-primary",2,"margin-right","10px"],["routerLink",""],[1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Rb(0,"body"),r.Rb(1,"form",0),r.Rb(2,"div"),r.Rb(3,"h1",1),r.tc(4," Kh\xf3a th\xe0nh vi\xean"),r.Qb(),r.Qb(),r.Rb(5,"div",2),r.tc(6,"Th\u1eddi gian kh\xf3a:"),r.Qb(),r.Rb(7,"div",3),r.tc(8," T\u1eeb ng\xe0y: "),r.Nb(9,"input",4),r.tc(10," \u0110\u1ebfn:"),r.Nb(11,"input",4),r.Qb(),r.Rb(12,"div",2),r.tc(13," B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n kh\xf3a: "),r.Nb(14,"textarea",5),r.Qb(),r.Rb(15,"div",2),r.tc(16," L\xed do: "),r.Nb(17,"textarea",6),r.Qb(),r.Rb(18,"div",7),r.Rb(19,"button",8),r.tc(20,"Kh\xf3a"),r.Qb(),r.Rb(21,"a",9),r.Rb(22,"button",10),r.tc(23,"H\u1ee7y"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[oa,Jo,Ys,qo,Zo,ga,Pi],styles:[""]}),t})(),jh=(()=>{class t{constructor(t){this._httpClient=t}getListAuctionStatus(){return this._httpClient.get(o.api_url_list_auction_status)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fh=(()=>{class t{constructor(t){this._httpClient=t}getListPriceRange(){return this._httpClient.get(o.api_url_list_price_range)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Bh(t,e){1&t&&(r.Rb(0,"div",60),r.tc(1," T\xean s\u1ea3n ph\u1ea9m t\u1ed1i \u0111a 50 k\xfd t\u1ef1. "),r.Qb())}function zh(t,e){1&t&&(r.Rb(0,"div",60),r.tc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng t\u1ed1i \u0111a 25 k\xfd t\u1ef1. "),r.Qb())}function Qh(t,e){1&t&&(r.Rb(0,"div",60),r.tc(1," T\xean ng\u01b0\u1eddi \u0111\u0103ng sai \u0111\u1ecbnh d\u1ea1ng. "),r.Qb())}function Vh(t,e){if(1&t&&(r.Rb(0,"option",61),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("value",t.name),r.Ab(1),r.uc(t.name)}}function Uh(t,e){if(1&t&&(r.Rb(0,"option",61),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("value",t.name),r.Ab(1),r.uc(t.name)}}function qh(t,e){if(1&t&&(r.Rb(0,"option",61),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("value",t.id),r.Ab(1),r.uc(t.name)}}function Hh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",39),r.Zb("ngSubmit",(function(){return r.mc(t),r.bc().searchByRoleAdmin(0)})),r.Rb(1,"div",1),r.Rb(2,"div",40),r.Rb(3,"div",41),r.Nb(4,"input",42),r.Rb(5,"label",43),r.tc(6,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.rc(7,Bh,2,0,"div",44),r.Qb(),r.Qb(),r.Rb(8,"div",40),r.Rb(9,"div",41),r.Nb(10,"input",45),r.Rb(11,"label",46),r.tc(12,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.rc(13,zh,2,0,"div",44),r.rc(14,Qh,2,0,"div",44),r.Qb(),r.Qb(),r.Rb(15,"div",47),r.Rb(16,"button",48),r.Nb(17,"i",49),r.tc(18," L\u1ecdc k\u1ebft qu\u1ea3 "),r.Qb(),r.Rb(19,"button",50),r.Zb("click",(function(){return r.mc(t),r.bc().resetFormAndData()})),r.tc(20," L\xe0m m\u1edbi b\u1ed9 l\u1ecdc "),r.Qb(),r.Qb(),r.Qb(),r.Rb(21,"div",1),r.Rb(22,"div",40),r.Rb(23,"div",41),r.Rb(24,"select",51),r.Rb(25,"option",52),r.tc(26,"---- T\u1ea5t c\u1ea3 ----"),r.Qb(),r.rc(27,Vh,2,2,"option",53),r.Qb(),r.Rb(28,"label",54),r.tc(29,"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",40),r.Rb(31,"div",41),r.Rb(32,"select",55),r.Rb(33,"option",52),r.tc(34,"----- T\u1ea5t c\u1ea3 -----"),r.Qb(),r.rc(35,Uh,2,2,"option",53),r.Qb(),r.Rb(36,"label",56),r.tc(37,"T\xecnh tr\u1ea1ng \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Qb(),r.Rb(38,"div",40),r.Rb(39,"div",57),r.Rb(40,"select",58),r.rc(41,qh,2,2,"option",53),r.Qb(),r.Rb(42,"label",59),r.tc(43,"Gi\xe1 s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.rfSearch),r.Ab(7),r.fc("ngIf",t.rfSearch.controls.productName.hasError("maxlength")&&t.rfSearch.controls.productName.touched),r.Ab(6),r.fc("ngIf",t.rfSearch.controls.sellerName.hasError("maxlength")&&t.rfSearch.controls.sellerName.touched),r.Ab(1),r.fc("ngIf",t.rfSearch.controls.sellerName.hasError("pattern")&&t.rfSearch.controls.sellerName.touched&&!t.rfSearch.controls.sellerName.hasError("maxlength")),r.Ab(2),r.fc("disabled",t.rfSearch.invalid),r.Ab(11),r.fc("ngForOf",t.categories),r.Ab(8),r.fc("ngForOf",t.auctionStatus),r.Ab(6),r.fc("ngForOf",t.priceRanges)}}const Gh=function(t){return["/auction/",t]},Wh=function(t){return["/products/review/",t]},Kh=function(t){return["/product/edit/",t]};function $h(t,e){if(1&t){const t=r.Sb();r.Rb(0,"tr"),r.Rb(1,"td"),r.Rb(2,"a",68),r.Rb(3,"span",69),r.tc(4),r.Qb(),r.Qb(),r.Qb(),r.Rb(5,"td"),r.tc(6),r.Qb(),r.Rb(7,"td"),r.tc(8),r.Qb(),r.Rb(9,"td",70),r.tc(10),r.cc(11,"number"),r.Qb(),r.Rb(12,"td"),r.tc(13),r.Qb(),r.Rb(14,"td",70),r.tc(15),r.cc(16,"date"),r.Qb(),r.Rb(17,"td"),r.tc(18),r.Qb(),r.Rb(19,"td",65),r.Rb(20,"a",71),r.Nb(21,"i",72),r.Qb(),r.Qb(),r.Rb(22,"td",65),r.Rb(23,"input",73),r.Zb("click",(function(){r.mc(t);const n=e.$implicit;return r.bc(2).addToDelete(n.id)})),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=r.bc(2);r.Ab(2),r.fc("routerLink",2==t.reviewStatusId?r.jc(15,Gh,t.id):r.jc(17,Wh,t.id)),r.Ab(2),r.uc(t.name),r.Ab(2),r.uc(t.category),r.Ab(2),r.uc(t.userName),r.Ab(2),r.uc(r.dc(11,10,t.initialPrice)),r.Ab(3),r.uc(t.reviewStatus),r.Ab(2),r.uc(r.ec(16,12,t.startTime,"dd/MM/y H:mm:ss")),r.Ab(3),r.uc(t.auctionStatus),r.Ab(2),r.fc("routerLink",r.jc(19,Kh,t.id)),r.Ab(3),r.fc("checked",n.deleteIds.includes(t.id))}}function Yh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"table",62),r.Rb(1,"thead"),r.Rb(2,"tr"),r.Rb(3,"th",63),r.tc(4,"T\xean S\u1ea3n ph\u1ea9m"),r.Qb(),r.Rb(5,"th"),r.tc(6,"Ch\u1ee7ng lo\u1ea1i"),r.Qb(),r.Rb(7,"th",64),r.tc(8,"Ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Rb(9,"th",64),r.tc(10,"Gi\xe1 ban \u0111\u1ea7u (VN\u0110)"),r.Qb(),r.Rb(11,"th",64),r.tc(12,"Tr\u1ea1ng th\xe1i duy\u1ec7t"),r.Qb(),r.Rb(13,"th",64),r.tc(14,"Ng\xe0y \u0111\u1ea5u gi\xe1"),r.Qb(),r.Rb(15,"th",64),r.tc(16,"T\xecnh tr\u1ea1ng"),r.Qb(),r.Rb(17,"th"),r.tc(18,"S\u1eeda"),r.Qb(),r.Rb(19,"th",65),r.Rb(20,"button",66),r.Zb("click",(function(){return r.mc(t),r.bc().addAllToDelete()})),r.Nb(21,"i",67),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"tbody"),r.rc(23,$h,24,21,"tr",35),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(23),r.fc("ngForOf",t.pageProducts.content)}}function Zh(t,e){1&t&&(r.Rb(0,"h3",74),r.tc(1,"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p."),r.Qb())}function Jh(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"nav",75),r.Rb(2,"ul",76),r.Rb(3,"li",77),r.Rb(4,"a",78),r.Zb("click",(function(){return r.mc(t),r.bc().gotoPage(0)})),r.tc(5,"Trang \u0111\u1ea7u"),r.Qb(),r.Qb(),r.Rb(6,"li",77),r.Rb(7,"a",78),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.pageProducts.number-1)})),r.tc(8,"Trang tr\u01b0\u1edbc"),r.Qb(),r.Qb(),r.Rb(9,"li",79),r.Rb(10,"a",80),r.tc(11),r.Qb(),r.Qb(),r.Rb(12,"li",77),r.Rb(13,"a",78),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.pageProducts.number+1)})),r.tc(14,"Trang sau"),r.Qb(),r.Qb(),r.Rb(15,"li",77),r.Rb(16,"a",78),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.gotoPage(e.pageProducts.totalPages-1)})),r.tc(17,"Trang cu\u1ed1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(4),r.fc("ngClass",t.pageProducts.first?"disabled":""),r.Ab(3),r.fc("ngClass",t.pageProducts.first?"disabled":""),r.Ab(4),r.wc(" ",t.pageProducts.number+1,"/",t.pageProducts.totalPages,""),r.Ab(2),r.fc("ngClass",t.pageProducts.last?"disabled":""),r.Ab(3),r.fc("ngClass",t.pageProducts.last?"disabled":"")}}function Xh(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1," X\xf3a s\u1ea3n ph\u1ea9m "),r.Rb(2,"strong",60),r.tc(3),r.Qb(),r.tc(4,"? "),r.Qb()),2&t){const t=e.$implicit;r.Ab(3),r.uc(t.name)}}let tf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this._productService=t,this._notificationService=e,this._formBuilder=n,this._categoryService=r,this._auctionStatusService=i,this._priceRangeService=o,this._activatedRoute=s,this._titleService=a,this._titleService.setTitle("Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m")}ngOnInit(){this.getCategories(),this.getAuctionStatus(),this.getPriceRanges(),this.createSearchForm(),this.searchByRoleAdmin(0),this.deleteIds=[],this.checkedAll=!1}searchByRoleAdmin(t){this._productService.getPageProductRoleAdmin(this.rfSearch.value,t).subscribe(t=>{console.log("okok"),console.log(t),this.pageProducts=t},t=>{this._notificationService.showErrorNotification("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn Server.")})}createSearchForm(){this.rfSearch=this._formBuilder.group({productName:["",[rs.maxLength(50)]],categoryName:[""],sellerName:["",[rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]+$"),rs.maxLength(50)]],priceRange:[1],auctionStatusName:[""]})}resetFormAndData(){this.ngOnInit()}gotoPage(t){this.searchByRoleAdmin(t)}addToDelete(t){const e=this.deleteIds.indexOf(t,0);e>-1?this.deleteIds.splice(e,1):this.deleteIds.push(t)}addAllToDelete(){this.checkedAll=!0;for(let t of this.pageProducts.content)if(!this.deleteIds.includes(t.id)){this.checkedAll=!1;break}if(this.checkedAll)for(let t of this.pageProducts.content){const e=this.deleteIds.indexOf(t.id,0);this.deleteIds.splice(e,1)}else for(let t of this.pageProducts.content)-1==this.deleteIds.indexOf(t.id,0)&&this.deleteIds.push(t.id)}sendToDeleteGroupModal(){this.deleteProducts=[],this._productService.findByListId(this.deleteIds).subscribe(t=>{this.deleteProducts=t},t=>{this._notificationService.showErrorNotification("Kh\xf4ng th\u1ec3 t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m.")})}delete(){this._productService.delete(this.deleteIds).subscribe(t=>{this._notificationService.showSuccessNotification("Xo\xe1 th\xe0nh c\xf4ng.")},t=>{this._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi xo\xe1.")},()=>{this.ngOnInit()})}getCategories(){this._categoryService.getListCategory().subscribe(t=>{this.categories=t},t=>{this._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7.")})}getPriceRanges(){this._priceRangeService.getListPriceRange().subscribe(t=>{this.priceRanges=t},t=>{this._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7.")})}getAuctionStatus(){this._auctionStatusService.getListAuctionStatus().subscribe(t=>{this.auctionStatus=t},t=>{this._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u t\u1eeb m\xe1y ch\u1ee7.")})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(yc),r.Mb(Ud),r.Mb(ya),r.Mb(Uc),r.Mb(jh),r.Mb(Fh),r.Mb(Ar),r.Mb(ae))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list-products"]],decls:63,vars:6,consts:[[1,"container-fluid"],[1,"row"],["id","side-bar",1,"col-lg-2","sidebar__left"],[1,"menu"],[1,"menu__item"],["routerLink","/home",1,"menu__link"],[1,"menu__icon","fa","fa-home"],[1,"sr-only"],[1,"menu__item","active"],["routerLink","/products",1,"menu__link"],[1,"menu__icon","fa-solid","fa-book"],["routerLink","/user/list",1,"menu__link"],[1,"menu__icon","fa-solid","fa-user-pen"],["routerLink","/transaction",1,"menu__link"],[1,"menu__icon","fa-solid","fa-handshake"],["id","content",1,"col-lg-10"],[1,"mt-5"],["id","search-row",1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],["id","list-row",1,"row"],["id","customer_table","class","table table-striped table-bordered",4,"ngIf"],["id","null-result-noti",4,"ngIf"],["id","last-row",1,"d-flex","justify-content-between"],["routerLink","/product/create","role","button",1,"btn","btn-primary"],[1,"fa-solid","fa-square-plus"],[4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#deleteGroupModal",1,"btn","btn-danger",3,"disabled","click"],[1,"fa-regular","fa-trash-can","delete-icon"],["id","deleteGroupModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","deleteCancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","deleteAccept","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],[3,"formGroup","ngSubmit"],[1,"col-4"],[1,"form-floating","mb-4","form-inp"],["type","text","placeholder","T\xean s\u1ea3n ph\u1ea9m","id","floatingName","formControlName","productName",1,"form-control","form-control-underlined"],["for","floatingName"],["style","color: red",4,"ngIf"],["type","text","placeholder","Ng\u01b0\u1eddi \u0111\u0103ng","id","floatingSeller","formControlName","sellerName",1,"form-control","form-control-underlined"],["for","floatingSeller"],["id","form-btn",1,"col-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fa-solid","fa-magnifying-glass"],[1,"btn","btn-success",3,"click"],["id","floatingCategory","formControlName","categoryName",1,"form-select","form-select-underlined"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","floatingCategory"],["id","floatingAuctionStatus","formControlName","auctionStatusName",1,"form-select","form-select-underlined"],["for","floatingAuctionStatus"],["id","form-floating-price",1,"form-floating","mb-4"],["id","floatingPrice","formControlName","priceRange",1,"form-select","form-select-underlined"],["for","floatingPrice"],[2,"color","red"],[3,"value"],["id","customer_table",1,"table","table-striped","table-bordered"],["width","30%"],["width","10%"],[1,"text-center"],[1,"btn",3,"click"],[1,"fa-regular","fa-trash-can","delete-group-icon"],["type","button",1,"view",3,"routerLink"],[1,"text-decoration-underline"],[1,"text-end"],[3,"routerLink"],[1,"fa-regular","fa-pen-to-square","edit-icon"],["type","checkbox",1,"delete-checkbox",3,"checked","click"],["id","null-result-noti"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],[1,"page-item","active"],[1,"page-link"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div"),r.Rb(4,"nav"),r.Rb(5,"ul",3),r.Rb(6,"li",4),r.Rb(7,"a",5),r.Nb(8,"i",6),r.tc(9," Trang ch\u1ee7 "),r.Rb(10,"span",7),r.tc(11,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"li",8),r.Rb(13,"a",9),r.Nb(14,"i",10),r.tc(15," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Rb(16,"span",7),r.tc(17,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"li",4),r.Rb(19,"a",11),r.Nb(20,"i",12),r.tc(21," Qu\u1ea3n l\xfd nh\xe2n vi\xean "),r.Rb(22,"span",7),r.tc(23,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(24,"li",4),r.Rb(25,"a",13),r.Nb(26,"i",14),r.tc(27," Qu\u1ea3n l\xfd giao d\u1ecbch "),r.Rb(28,"span",7),r.tc(29,"(current)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(30,"div",15),r.Rb(31,"h1",16),r.tc(32,"Danh s\xe1ch s\u1ea3n ph\u1ea9m"),r.Qb(),r.Nb(33,"hr"),r.Rb(34,"div",17),r.rc(35,Hh,44,8,"form",18),r.Qb(),r.Rb(36,"div",19),r.rc(37,Yh,24,1,"table",20),r.rc(38,Zh,2,0,"h3",21),r.Rb(39,"div",22),r.Rb(40,"div"),r.Rb(41,"a",23),r.Nb(42,"i",24),r.tc(43," Th\xeam s\u1ea3n ph\u1ea9m "),r.Qb(),r.Qb(),r.rc(44,Jh,18,6,"div",25),r.Rb(45,"div"),r.Rb(46,"button",26),r.Zb("click",(function(){return e.sendToDeleteGroupModal()})),r.Nb(47,"i",27),r.tc(48," Xo\xe1 "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(49,"div",28),r.Rb(50,"div",29),r.Rb(51,"div",30),r.Rb(52,"div",31),r.Rb(53,"h5",32),r.tc(54,"X\xf3a s\u1ea3n ph\u1ea9m"),r.Qb(),r.Nb(55,"button",33),r.Qb(),r.Rb(56,"div",34),r.rc(57,Xh,5,1,"div",35),r.Rb(58,"div",36),r.Rb(59,"button",37),r.tc(60,"Hu\u1ef7 b\u1ecf"),r.Qb(),r.Rb(61,"button",38),r.Zb("click",(function(){return e.delete()})),r.tc(62,"X\xe1c nh\u1eadn "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(35),r.fc("ngIf",e.rfSearch),r.Ab(2),r.fc("ngIf",null!=e.pageProducts),r.Ab(1),r.fc("ngIf",null==e.pageProducts),r.Ab(6),r.fc("ngIf",e.pageProducts),r.Ab(2),r.fc("disabled",0==e.deleteIds.length),r.Ab(11),r.fc("ngForOf",e.deleteProducts))},directives:[Pi,gt,ft,oa,Jo,ca,qo,Zo,ga,ks,Cs,Ss,dt],pipes:[kt,wt],styles:["#side-bar[_ngcontent-%COMP%]{position:fixed;height:100vh}.sidebar__left[_ngcontent-%COMP%]{background-color:#fe6432;padding-top:12px;z-index:5}.sidebar__left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.box[_ngcontent-%COMP%]{margin-top:64px;position:fixed;height:85vh}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding:0;margin:0}#search-row[_ngcontent-%COMP%]{display:flex}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:14px}app-header[_ngcontent-%COMP%]{left:0;right:0;z-index:10;position:fixed}.menu[_ngcontent-%COMP%]{padding:24px 0 0;background-color:#fe6432;margin:0}.box[_ngcontent-%COMP%], .menu__item[_ngcontent-%COMP%]{display:flex}.menu__item[_ngcontent-%COMP%]{padding:4px 12px;list-style-type:none;cursor:pointer;margin-bottom:12px;align-items:center;justify-content:center}.menu__link[_ngcontent-%COMP%]{text-decoration:none}.menu__link[_ngcontent-%COMP%], .menu__link[_ngcontent-%COMP%]:hover{color:#fff8dc}.menu__item[_ngcontent-%COMP%]:hover{background-color:#fff8dc;opacity:.7}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#0a0a0a}.active[_ngcontent-%COMP%]{background-color:#534c4c}h1[_ngcontent-%COMP%]{text-align:center;color:#00f}#content[_ngcontent-%COMP%]{padding-bottom:3%;margin-left:16%}#search-row[_ngcontent-%COMP%]{width:100%;padding:0 3% 0 5%}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:none}.form-select-underlined[_ngcontent-%COMP%]{border-width:0 0 1px;border-radius:0;padding-left:13px}.form-inp[_ngcontent-%COMP%]{width:80%;margin-left:10%}#form-floating-price[_ngcontent-%COMP%]{width:100%;margin-left:0}#form-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:3%;margin-top:5%}#null-result-noti[_ngcontent-%COMP%]{text-align:center;color:red}#list-row[_ngcontent-%COMP%]{width:100%;padding:2% 2% 1% 5%}#last-row[_ngcontent-%COMP%]{padding-top:2%}.delete-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px}.edit-icon[_ngcontent-%COMP%]{font-size:20px;color:green}.delete-group-icon[_ngcontent-%COMP%]{font-size:23px;color:red}th[_ngcontent-%COMP%]{text-align:center;vertical-align:top}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;background:transparent;outline:none}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})();const ef=function(){return["/products"]};function nf(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",29),r.Zb("click",(function(){return r.mc(t),r.bc().topTop()})),r.Rb(1,"span",12),r.tc(2," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m "),r.Qb(),r.Qb()}2&t&&r.fc("routerLink",r.ic(1,ef))}const rf=function(){return["/user/list"]};function of(t,e){1&t&&(r.Rb(0,"li",30),r.Rb(1,"span",12),r.tc(2,"Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"),r.Qb(),r.Qb()),2&t&&r.fc("routerLink",r.ic(1,rf))}function sf(t,e){1&t&&(r.Rb(0,"li",11),r.Rb(1,"span",12),r.tc(2,"Qu\u1ea3n l\xfd giao d\u1ecbch"),r.Qb(),r.Qb())}const af=function(){return["auction/product/add"]};function cf(t,e){1&t&&(r.Rb(0,"li",30),r.Rb(1,"span",12),r.tc(2,"\u0110\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb()),2&t&&r.fc("routerLink",r.ic(1,af))}function lf(t,e){1&t&&(r.Rb(0,"div",31),r.Rb(1,"button",32),r.Nb(2,"i",26),r.tc(3," \u0110\u0103ng k\xfd "),r.Qb(),r.Rb(4,"button",33),r.Nb(5,"i",28),r.tc(6," \u0110\u0103ng nh\u1eadp "),r.Qb(),r.Qb())}function uf(t,e){1&t&&(r.Rb(0,"li",40),r.Rb(1,"span",41),r.tc(2,"Ph\xf2ng chat admin"),r.Qb(),r.Qb())}function df(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"div",34),r.Rb(2,"span",35),r.tc(3),r.Qb(),r.Nb(4,"img",36),r.Rb(5,"div"),r.Rb(6,"ul",37),r.Rb(7,"li"),r.Rb(8,"span",38),r.Zb("click",(function(){return r.mc(t),r.bc().logOut()})),r.tc(9,"\u0110\u0103ng xu\u1ea5t"),r.Qb(),r.Qb(),r.rc(10,uf,3,0,"li",39),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.Ab(3),r.vc("Xin ch\xe0o ",t.nameUser,""),r.Ab(1),r.gc("src",t.currentUser.avatar,r.oc),r.Ab(6),r.fc("ngIf",t.checkLogin&&"ROLE_ADMIN"==t.accountRole)}}const hf=function(){return["home"]};let ff=(()=>{class t{constructor(t,e){this.tokenService=t,this.router=e,this.checkLogin=!1}ngOnInit(){if(this.tokenService.isLogged()){this.checkLogin=!0,this.currentUser=JSON.parse(this.tokenService.getUser()),this.nameUser=this.currentUser.lastName+" "+this.currentUser.firstName;const t=this.tokenService.getRole();for(let e=0;e<t.length;e++)"ROLE_ADMIN"===t[e]&&(this.accountRole="ROLE_ADMIN")}}logOut(){this.tokenService.logOut(),this.router.navigateByUrl("/home").then(()=>{location.reload()})}topTop(){document.getElementById("top").click()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(tc),r.Mb(Oi))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-header"]],decls:44,vars:8,consts:[[1,"container","header"],[1,"container-fluid"],[1,"row"],[1,"header__menu"],[1,"menu","d-flex","align-items-center","m-0"],[1,"menu__item","band"],[1,"menu__link","logo"],[1,"fa-brands","fa-suse",3,"routerLink"],["class","menu__item",3,"routerLink","click",4,"ngIf"],["class","menu__item",3,"routerLink",4,"ngIf"],["class","menu__item",4,"ngIf"],[1,"menu__item"],[1,"menu__link"],[1,"fa-solid","fa-circle-question","mx-1"],["routerLink","/guide",1,"label_guide"],["class","login d-flex","style","display: none",4,"ngIf"],[4,"ngIf"],[1,"header__mobile","header","navbar","navbar-expand-lg","bg-light"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",2,"border","1px solid aliceblue"],[1,"text-white","fa-solid","fa-bars"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link"],["role","search",1,"d-flex","justify-content-center"],[1,"w-50","login__btn","mx-2"],[1,"fa-solid","fa-circle-user"],[1,"w-50","login__btn"],[1,"fa-solid","fa-right-to-bracket"],[1,"menu__item",3,"routerLink","click"],[1,"menu__item",3,"routerLink"],[1,"login","d-flex",2,"display","none"],[1,"login__btn","mx-2"],["routerLink","/login",1,"login__btn"],[1,"user__info"],[1,"mx-2","text-white"],[1,"avatar",3,"src"],[1,"btn__logout"],[1,"b__logout",3,"click"],["routerLink","/chat/support",4,"ngIf"],["routerLink","/chat/support"],[1,"b__logout"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"ul",4),r.Rb(5,"li",5),r.Rb(6,"span",6),r.Nb(7,"i",7),r.Qb(),r.Qb(),r.rc(8,nf,3,2,"li",8),r.rc(9,of,3,2,"li",9),r.rc(10,sf,3,0,"li",10),r.rc(11,cf,3,2,"li",9),r.Rb(12,"li",11),r.Rb(13,"span",12),r.Nb(14,"i",13),r.Rb(15,"span",14),r.tc(16,"H\u01b0\u1edbng d\u1eabn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.rc(17,lf,7,0,"div",15),r.rc(18,df,11,3,"div",16),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(19,"nav",17),r.Rb(20,"div",1),r.Rb(21,"button",18),r.Nb(22,"i",19),r.Qb(),r.Rb(23,"div",20),r.Rb(24,"ul",21),r.Rb(25,"li",22),r.Rb(26,"p",23),r.tc(27,"Trang tr\u1ee7"),r.Qb(),r.Qb(),r.Rb(28,"li",22),r.Rb(29,"p",23),r.tc(30,"\u0110ang \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Rb(31,"li",22),r.Rb(32,"p",23),r.tc(33,"\u0110\xe3 k\u1ebft th\xfac"),r.Qb(),r.Qb(),r.Rb(34,"li",22),r.Rb(35,"p",23),r.tc(36,"Top"),r.Qb(),r.Qb(),r.Qb(),r.Rb(37,"form",24),r.Rb(38,"button",25),r.Nb(39,"i",26),r.tc(40," \u0110\u0103ng k\xfd "),r.Qb(),r.Rb(41,"button",27),r.Nb(42,"i",28),r.tc(43," \u0110\u0103ng nh\u1eadp "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(7),r.fc("routerLink",r.ic(7,hf)),r.Ab(1),r.fc("ngIf",e.checkLogin&&"ROLE_ADMIN"==e.accountRole),r.Ab(1),r.fc("ngIf",e.checkLogin&&"ROLE_ADMIN"==e.accountRole),r.Ab(1),r.fc("ngIf",e.checkLogin&&"ROLE_ADMIN"==e.accountRole),r.Ab(1),r.fc("ngIf",e.checkLogin&&"ROLE_ADMIN"!=e.accountRole),r.Ab(6),r.fc("ngIf",!e.checkLogin),r.Ab(1),r.fc("ngIf",e.checkLogin))},directives:[Ni,gt,oa,Jo,Ys],styles:["[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif}html[_ngcontent-%COMP%]{background-color:#ecf0f1}body[_ngcontent-%COMP%]{min-height:1000px}ul[_ngcontent-%COMP%]{padding:0;background:transparent!important}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}.header__mobile[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c21500,#ffc500,#c21500);padding:8px 0}.header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{color:#ecf0f1}.header__menu[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.avatar[_ngcontent-%COMP%]{display:block;width:30px;height:30px}.user__info[_ngcontent-%COMP%]{display:flex;position:relative}.user__info[_ngcontent-%COMP%]:hover   .btn__logout[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn__logout[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:150px;display:none;justify-content:center;align-items:center;background-color:hsla(0,0%,96.1%,.66);box-shadow:1px 1px 4px rgba(0,0,0,.35);padding:8px 0;border-radius:2px}.b__logout[_ngcontent-%COMP%]{border:1px solid #fff;background-color:#fa5d2f;color:#fff;padding:4px 8px;width:90%;text-align:center;cursor:pointer;border-radius:4px}.b__logout[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}.logo[_ngcontent-%COMP%]{background-color:#c0392b}.logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px}.menu__item[_ngcontent-%COMP%]{padding:8px 12px}.menu__item.band[_ngcontent-%COMP%]{padding:0}.menu__item[_ngcontent-%COMP%]:hover{background:transparent!important;color:#fff!important}.menu__item[_ngcontent-%COMP%]:first-child:hover{cursor:pointer}.menu__link[_ngcontent-%COMP%]{color:#ecf0f1;text-transform:capitalize}.menu__item[_ngcontent-%COMP%]:hover   .menu__link[_ngcontent-%COMP%]{color:#fff!important}.login__btn[_ngcontent-%COMP%]{padding:4px;border:none;border-radius:2px;color:#e74c3c;box-shadow:2px 2px 8px hsla(0,0%,100%,.35);display:flex;align-items:center}.login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:4px}.header__info__icon[_ngcontent-%COMP%], .header__info__title[_ngcontent-%COMP%]{font-size:14px;color:#ecf0f1;cursor:pointer}.header__info__icon[_ngcontent-%COMP%]{margin-right:4px}.cl-white[_ngcontent-%COMP%]{color:#ecf0f1}.sidebar__right[_ngcontent-%COMP%]{padding:0 12px 0 0;display:flex;flex-direction:column;overflow-y:scroll;height:400px}.sidebar__right[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.logo[_ngcontent-%COMP%]{display:inline-block;border-radius:8px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}@media (max-width:992px){.header[_ngcontent-%COMP%]{padding:4px 0}.login__btn[_ngcontent-%COMP%]{padding:4px}.label_guide[_ngcontent-%COMP%], .login__btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .slide[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{margin-top:4px;flex-wrap:wrap}.category__item[_ngcontent-%COMP%]{padding:4px 12px;border-radius:3px;color:#e74c3c;border:none;cursor:pointer}.category__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.category[_ngcontent-%COMP%], .form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.form__filter[_ngcontent-%COMP%]{margin-top:8px}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.input__search[_ngcontent-%COMP%]{width:100%;margin-left:0!important}}@media (max-width:768px){.form__filter[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;margin-top:8px}.category__item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:none}.form_search[_ngcontent-%COMP%], .select__price[_ngcontent-%COMP%]{width:48%}.category[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.category[_ngcontent-%COMP%], .input__search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:none}.header__mobile[_ngcontent-%COMP%]{display:block}.footer__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]}),t})(),pf=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-footer"]],decls:35,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12"],[1,"footer__info","band"],[1,"footer_title"],[1,"d-flex","justify-content-between","footer__content"],[1,"d-flex"],[1,"footer__item","mx-2"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-instagram"],[1,"fa-solid","fa-phone-flip"],[1,"fa-solid","fa-envelope"],[1,"col-lg-12","copyright"],[1,"w-100","text-center"]],template:function(t,e){1&t&&(r.Rb(0,"footer"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"h5"),r.tc(7," K\u1ebft N\u1ed1i v\u1edbi ch\xfang t\xf4i "),r.Qb(),r.Rb(8,"ul",5),r.Rb(9,"div",6),r.Rb(10,"li",7),r.Rb(11,"p"),r.Nb(12,"i",8),r.Rb(13,"span"),r.tc(14,"Facebook"),r.Qb(),r.Qb(),r.Qb(),r.Rb(15,"li",7),r.Rb(16,"p"),r.Nb(17,"i",9),r.Rb(18,"span"),r.tc(19,"Instagram"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(20,"div",6),r.Rb(21,"li",7),r.Rb(22,"p"),r.Nb(23,"i",10),r.Rb(24,"span"),r.tc(25,"0909.999.999"),r.Qb(),r.Qb(),r.Qb(),r.Rb(26,"li",7),r.Rb(27,"p"),r.Nb(28,"i",11),r.Rb(29,"span"),r.tc(30,"C0622G1@Codegym.com.vn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",1),r.Rb(32,"div",12),r.Rb(33,"p",13),r.tc(34,"@Copyright T\u1eadp th\u1ec3 C0622G1"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:["[_ngcontent-%COMP%]:not(i){box-sizing:border-box;font-family:Roboto,sans-serif;margin:0;padding:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{text-decoration:none}footer[_ngcontent-%COMP%]{padding-top:32px;padding-left:12px;padding-right:12px;background-color:#181821;color:#ecf0f1;font-weight:100}.footer_title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px;font-size:20px}.footer__item[_ngcontent-%COMP%]{padding:8px 0}.logo[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;padding:4px 8px;box-shadow:1px 1px 4px hsla(0,0%,100%,.35)}.copyright[_ngcontent-%COMP%]{padding:12px}"]}),t})();function gf(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li",25),r.Rb(1,"img",26),r.Zb("click",(function(n){r.mc(t);const i=e.index;return r.bc(2).changeImage(n,1,i)})),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=e.index;r.Db("image__item img-selected",1,""),r.gc("value",n),r.Ab(1),r.gc("src",t.url,r.oc)}}function mf(t,e){if(1&t&&(r.Rb(0,"tr"),r.Rb(1,"td"),r.tc(2,"L\xfd do kho\xe1"),r.Qb(),r.Rb(3,"td"),r.tc(4),r.Qb(),r.Qb()),2&t){const t=r.bc(2);r.Ab(4),r.vc("",t.reason.reason," ")}}function bf(t,e){1&t&&(r.Rb(0,"div",32),r.tc(1," Vui l\xf2ng nh\u1eadp l\xfd do kh\xf4ng duy\u1ec7t s\u1ea3n ph\u1ea9m. "),r.Qb())}function vf(t,e){1&t&&(r.Rb(0,"div",32),r.tc(1," L\xfd do kh\xf4ng \u0111\u01b0\u1ee3c qu\xe1 250 k\xfd t\u1ef1. "),r.Qb())}function yf(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",29),r.Rb(1,"input",30),r.Zb("ngModelChange",(function(e){return r.mc(t),r.bc(3).reason.reason=e})),r.Qb(),r.rc(2,bf,2,0,"div",31),r.rc(3,vf,2,0,"div",31),r.Qb()}if(2&t){const t=r.bc(3);r.fc("formGroup",t.rfReason),r.Ab(1),r.fc("ngModel",t.reason.reason),r.Ab(1),r.fc("ngIf",t.rfReason.controls.reason.hasError("required")&&t.rfReason.controls.reason.touched),r.Ab(1),r.fc("ngIf",t.rfReason.controls.reason.hasError("maxlength")&&t.rfReason.controls.reason.touched)}}function _f(t,e){if(1&t&&(r.Rb(0,"tr"),r.Rb(1,"td"),r.Rb(2,"label",27),r.tc(3,"L\xfd do kho\xe1"),r.Qb(),r.Qb(),r.Rb(4,"td"),r.rc(5,yf,4,4,"form",28),r.Qb(),r.Qb()),2&t){const t=r.bc(2);r.Ab(5),r.fc("ngIf",t.rfReason)}}function wf(t,e){if(1&t){const t=r.Sb();r.Rb(0,"a",33),r.Zb("click",(function(){return r.mc(t),r.bc(2).review()})),r.Nb(1,"i",34),r.tc(2," Duy\u1ec7t "),r.Qb()}}function kf(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",35),r.Zb("click",(function(){return r.mc(t),r.bc(2).doNotReview()})),r.Nb(1,"i",36),r.tc(2," Kh\xf4ng duy\u1ec7t "),r.Qb()}if(2&t){const t=r.bc(2);r.fc("disabled",t.invalidProduct&&t.rfReason.invalid)}}function Cf(t,e){if(1&t&&(r.Rb(0,"div",2),r.Rb(1,"div",6),r.Rb(2,"div",7),r.Rb(3,"div",8),r.Rb(4,"div",9),r.Nb(5,"img",10),r.Rb(6,"ul",11),r.rc(7,gf,2,5,"li",12),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(8,"div",6),r.Rb(9,"div",13),r.Rb(10,"div",14),r.Rb(11,"table",15),r.Rb(12,"tr"),r.Rb(13,"td",16),r.tc(14,"T\xean s\u1ea3n ph\u1ea9m"),r.Qb(),r.Rb(15,"td",17),r.tc(16),r.Qb(),r.Qb(),r.Rb(17,"tr"),r.Rb(18,"td"),r.tc(19,"Th\xf4ng tin ng\u01b0\u1eddi \u0111\u0103ng"),r.Qb(),r.Rb(20,"td"),r.tc(21),r.Nb(22,"br"),r.tc(23),r.Nb(24,"br"),r.tc(25),r.Qb(),r.Qb(),r.Rb(26,"tr"),r.Rb(27,"td"),r.tc(28,"Ch\u1ee7ng lo\u1ea1i"),r.Qb(),r.Rb(29,"td"),r.tc(30),r.Qb(),r.Qb(),r.Rb(31,"tr"),r.Rb(32,"td"),r.tc(33,"Gi\xe1 ban \u0111\u1ea7u"),r.Qb(),r.Rb(34,"td"),r.tc(35),r.cc(36,"number"),r.Qb(),r.Qb(),r.Rb(37,"tr"),r.Rb(38,"td"),r.tc(39,"B\u01b0\u1edbc gi\xe1"),r.Qb(),r.Rb(40,"td"),r.tc(41),r.cc(42,"number"),r.Qb(),r.Qb(),r.Rb(43,"tr"),r.Rb(44,"td"),r.tc(45,"B\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1"),r.Qb(),r.Rb(46,"td"),r.tc(47),r.cc(48,"date"),r.Qb(),r.Qb(),r.Rb(49,"tr"),r.Rb(50,"td"),r.tc(51,"K\u1ebft th\xfac \u0111\u1ea5u gi\xe1"),r.Qb(),r.Rb(52,"td"),r.tc(53),r.cc(54,"date"),r.Qb(),r.Qb(),r.Rb(55,"tr"),r.Rb(56,"td"),r.tc(57,"Th\xf4ng tin chi ti\u1ebft"),r.Qb(),r.Rb(58,"td"),r.tc(59),r.Qb(),r.Qb(),r.rc(60,mf,5,1,"tr",18),r.rc(61,_f,6,1,"tr",18),r.Qb(),r.Qb(),r.Qb(),r.Rb(62,"div",19),r.Rb(63,"div",20),r.rc(64,wf,3,0,"a",21),r.Qb(),r.Rb(65,"div",20),r.rc(66,kf,3,1,"button",22),r.Qb(),r.Rb(67,"div",20),r.Rb(68,"a",23),r.Nb(69,"i",24),r.tc(70," Quay l\u1ea1i "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.bc();r.Ab(5),r.hc("id","image__main",1,""),r.gc("src",null==t.imgs[0]?null:t.imgs[0].url,r.oc),r.Ab(2),r.fc("ngForOf",t.imgs),r.Ab(9),r.uc(t.product.name),r.Ab(5),r.vc(" Id: ",t.product.userId,""),r.Ab(2),r.vc(" T\xean \u0111\u1ea7y \u0111\u1ee7: ",t.product.userName,""),r.Ab(2),r.vc(" Email: ",t.product.userName," "),r.Ab(5),r.uc(t.product.category),r.Ab(5),r.vc("",r.dc(36,17,t.product.initialPrice)," VN\u0110"),r.Ab(6),r.vc("",r.dc(42,19,t.product.priceStep)," VN\u0110"),r.Ab(6),r.uc(r.ec(48,21,t.product.startTime,"dd/MM/y hh:mm:ss a")),r.Ab(6),r.uc(r.ec(54,24,t.product.endTime,"dd/MM/y hh:mm:ss a")),r.Ab(6),r.vc("",t.product.description," "),r.Ab(1),r.fc("ngIf",3==t.product.reviewStatusId),r.Ab(1),r.fc("ngIf",t.invalidProduct&&3!=t.product.reviewStatusId),r.Ab(3),r.fc("ngIf",1==t.product.reviewStatusId),r.Ab(2),r.fc("ngIf",1==t.product.reviewStatusId)}}let Af=(()=>{class t{constructor(t,e,n,r,i,o){this._productService=t,this._notificationService=e,this._activatedRoute=n,this.router=r,this._formBuilder=i,this._titleService=o,this._titleService.setTitle("Duy\u1ec7t s\u1ea3n ph\u1ea9m")}ngOnInit(){this.getInfo()}getInfo(){const t=+this._activatedRoute.snapshot.params.id;this._productService.getImgsByProductId(t).subscribe(t=>{this.imgs=t},t=>{this._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i h\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m!")}),this._productService.getReason(t).subscribe(e=>{console.log("ly do"+e),this.reason=e,this.reason.productId=t,console.log(this.reason)}),this._productService.findByDtoId(t).subscribe(t=>{console.log("spham"+t),this.product=t,this.invalidProduct=3==this.product.reviewStatusId,console.log(this.invalidProduct)},t=>{this._notificationService.showErrorNotification("C\xf3 l\u1ed7i khi t\u1ea3i th\xf4ng tin s\u1ea3n ph\u1ea9m!")})}doNotReview(){this.invalidProduct?(console.log(this.reason),this._productService.writeReason(this.reason).subscribe(t=>{this._notificationService.showSuccessNotification("\u0110\xe3 l\u01b0u l\xfd do kho\xe1!")}),this._productService.doNotReview(this.product.id).subscribe(t=>{this.router.navigateByUrl("/products"),this._notificationService.showSuccessNotification("S\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c duy\u1ec7t!")},t=>{this._notificationService.showErrorNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")})):(this.invalidProduct=!0,this.rfReason=this._formBuilder.group({reason:["",[rs.required,rs.maxLength(250)]]}))}review(){this._productService.review(this.product.id).subscribe(t=>{this.router.navigateByUrl("/products"),this._notificationService.showSuccessNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!")},t=>{this._notificationService.showErrorNotification("Duy\u1ec7t s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i!")})}changeImage(t,e,n){const r=t.target.src,i=document.querySelectorAll(".img-selected"+e);document.getElementById("image__main"+e).setAttribute("src",r),i.forEach(t=>{t.getAttribute("value")==n+""?t.classList.add("actived"):t.classList.remove("actived")})}selectedChangImage(){setTimeout(()=>{const t=document.querySelectorAll(".carousel__images");console.log(t),t.forEach(t=>{t.children[0].classList.add("actived")})},500)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(yc),r.Mb(Ud),r.Mb(Ar),r.Mb(Oi),r.Mb(ya),r.Mb(ae))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-product-detail"]],decls:11,vars:1,consts:[[1,"container"],[1,"borderFull"],[1,"row"],[1,"register"],[1,"row","text-center"],["class","row",4,"ngIf"],[1,"col-6"],["id","img-col",1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"mt-2","card","card-body","w-50",2,"border","solid","color","green"],["height","500","alt","",1,"d-block","w-100","card-img",3,"id","src"],[1,"carousel__images","d-flex","justify-content-center"],[3,"value","class",4,"ngFor","ngForOf"],[1,"container-fluid"],[1,"row","mt-4"],["id","customer_table",1,"table","table-striped","table-bordered"],["width","28%"],["width","72%"],[4,"ngIf"],["id","review-btns",1,"row"],[1,"col-4"],["class","btn btn-success","role","button","style","width: 140px",3,"click",4,"ngIf"],["class","btn btn-warning","role","button","style","width: 140px",3,"disabled","click",4,"ngIf"],["routerLink","/products","role","button",1,"btn","btn-secondary",2,"width","140px"],[1,"fa-solid","fa-arrow-rotate-left"],[3,"value"],["height","50","width","","alt","",1,"d-block","w-100",3,"src","click"],["for","reason-input"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","text","id","reason-input","formControlName","reason",1,"form-control",3,"ngModel","ngModelChange"],["style","color: red",4,"ngIf"],[2,"color","red"],["role","button",1,"btn","btn-success",2,"width","140px",3,"click"],[1,"fa-solid","fa-check"],["role","button",1,"btn","btn-warning",2,"width","140px",3,"disabled","click"],[1,"fa-solid","fa-xmark"]],template:function(t,e){1&t&&(r.Nb(0,"app-header"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",0),r.Rb(6,"div",4),r.Rb(7,"h1"),r.tc(8,"Duy\u1ec7t s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.rc(9,Cf,71,27,"div",5),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(10,"app-footer")),2&t&&(r.Ab(9),r.fc("ngIf",e.product))},directives:[ff,gt,pf,ft,Pi,oa,Jo,ca,qo,Zo,ga],pipes:[kt,wt],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#right-col[_ngcontent-%COMP%]{padding:2% 8%}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #868585;padding:5px 0 5px 10px}table[_ngcontent-%COMP%]{border-collapse:collapse}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#eee}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fff}h1[_ngcontent-%COMP%]{text-align:center;color:#00f}#review-btns[_ngcontent-%COMP%]{padding-top:4%}.container[_ngcontent-%COMP%]{padding-bottom:5%}#img-col[_ngcontent-%COMP%]{padding-top:3%}#review-btns[_ngcontent-%COMP%]{padding-top:5%}.carousel__images[_ngcontent-%COMP%]{overflow-x:scroll}.carousel__images[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.image__item[_ngcontent-%COMP%]{min-width:45px;margin:4px;cursor:pointer}.image__item.actived[_ngcontent-%COMP%]{border:1px solid rgba(231,76,60,.41);border-radius:4px}.image__item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px rgba(0,0,0,.35)}"]}),t})(),Ef=(()=>{class t{constructor(t){this._httpClient=t}setEmailGoogle(t){this.emailGoogle=t}login(t){return this._httpClient.post(o.LOGIN_API,t)}googleLogin(t){return this._httpClient.post(o.GOOGLE_LOGIN_API,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Sf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," T\xean ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function If(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Tf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," H\u1ecd ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Df(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Rf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," T\xean \u0111\u0103ng nh\u1eadp ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Of(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Nf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," Email ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Pf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function Mf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," S\xf4\u0301 \u0111i\xea\u0323n thoa\u0323i ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng "),r.Qb())}function Lf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," Nga\u0300y sinh kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb())}function jf(t,e){if(1&t&&(r.Rb(0,"option",86),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function Ff(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," Ti\u0309nh tha\u0300nh kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function Bf(t,e){if(1&t&&(r.Rb(0,"option",86),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function zf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," Qu\xe2\u0323n huy\xea\u0323n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function Qf(t,e){if(1&t&&(r.Rb(0,"option",86),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("ngValue",t.id),r.Ab(1),r.uc(t.name)}}function Vf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," Ph\u01b0\u01a1\u0300ng xa\u0303 kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function Uf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," \u0110i\u0323a chi\u0309 chi ti\xea\u0301t kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function qf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," \u0110i\u0323a chi\u0309 chi ti\xea\u0301t pha\u0309i \u0111u\u0301ng \u0111i\u0323nh da\u0323ng "),r.Qb())}function Hf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," S\xf4\u0301 ch\u01b0\u0301ng minh nh\xe2n d\xe2n kh\xf4ng \u0111\u01b0\u01a1\u0323c bo\u0309 tr\xf4\u0301ng "),r.Qb())}function Gf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," S\xf4\u0301 ch\u01b0\u0301ng minh nh\xe2n d\xe2n pha\u0309i \u0111u\u0301ng \u0111i\u0323nh da\u0323ng "),r.Qb())}function Wf(t,e){1&t&&(r.Rb(0,"div",85),r.tc(1," M\xe2\u0323t kh\xe2\u0309u kh\xf4ng \u0111\u01b0\u01a1\u0323c \u0111\xea\u0309 tr\xf4\u0301ng "),r.Qb())}let Kf=(()=>{class t{constructor(t,e,n,r,i,o,s){this.activatedRoute=t,this.formBuilder=e,this.addressService=n,this.userService=r,this.toastr=i,this.router=o,this.authService=s,this.cities=[],this.districts=[],this.wards=[]}ngOnInit(){this.emailGoogle=this.authService.emailGoogle,this.getCreateForm(),this.addressService.getAllCities(),this.cities=this.addressService.cities}getCreateForm(){this.rfRegisterGoogle=this.formBuilder.group({firstName:["",[rs.required,rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{2,30}$")]],lastName:["",[rs.required,rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9 ]{3,30}$")]],username:["",[rs.required]],avatar:["",[rs.required]],email:[this.emailGoogle],phone:["",[rs.required,rs.pattern("[0][9][0]\\d{7}")]],birthDay:["",[rs.required]],city:["",rs.required],district:["",rs.required],town:["",rs.required],country:["Vi\xea\u0323t Nam"],idCard:["",[rs.required,rs.pattern("\\d{9}")]],password:["",[rs.required]],pointDedication:[10],statusLock:[!0],deleteStatus:[!0],userTypeId:[5],detailAddress:["",[rs.required]]})}submitCreateUser(){this.rfRegisterGoogle.controls.city.setValue(this.currentCity),this.rfRegisterGoogle.controls.district.setValue(this.currentDistrict),this.rfRegisterGoogle.controls.town.setValue(this.currentWard),this.userService.saveaddAcountUser(this.rfRegisterGoogle.value).subscribe(t=>{this.toastr.success("\u0110\u0103ng ky\u0301 tha\u0300nh c\xf4ng, m\u01a1\u0300i ba\u0323n \u0111\u0103ng nh\xe2\u0323p"),this.router.navigateByUrl("login")})}selectCity(){this.cityIdSeleted=this.rfRegisterGoogle.value.city,this.addressService.getAllAddress().subscribe(t=>{this.districts=[];for(let e=0;e<t[this.cityIdSeleted].Districts.length;e++)this.districts.push(new lh(e,t[this.cityIdSeleted].Districts[e].Name));this.currentCity=t[this.cityIdSeleted].Name})}selectDistrict(){this.districtIdSeleted=this.rfRegisterGoogle.value.district,this.addressService.getAllAddress().subscribe(t=>{this.wards=[];for(let e=0;e<t[this.cityIdSeleted].Districts[this.districtIdSeleted].Wards.length;e++)this.wards.push(new uh(e,t[this.cityIdSeleted].Districts[this.districtIdSeleted].Wards[e].Name));this.currentDistrict=t[this.cityIdSeleted].Districts[this.districtIdSeleted].Name})}selectWard(){this.wardIdSeleted=this.rfRegisterGoogle.value.town,this.addressService.getAllAddress().subscribe(t=>{this.currentWard=t[this.cityIdSeleted].Districts[this.districtIdSeleted].Wards[this.wardIdSeleted].Name})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ar),r.Mb(ya),r.Mb(hh),r.Mb(Hc),r.Mb($a),r.Mb(Oi),r.Mb(Ef))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-register-with-google"]],decls:177,vars:32,consts:[[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","",1,"d-block","w-100"],[1,"w-50"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["data-label","DC",1,"avatar"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control",3,"ngClass"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["style","color: red",4,"ngIf"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control",3,"ngClass"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control",3,"ngClass"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["disabled","","type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control",3,"ngClass"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control",3,"ngClass"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control",3,"ngClass"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["formControlName","city","id","city","aria-label",".form-select-sm",1,"form-control",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district","id","district","aria-label",".form-select-sm",1,"form-control",3,"change"],["formControlName","town","id","ward","aria-label",".form-select-sm",1,"form-control",3,"change"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control",3,"ngClass"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control",3,"ngClass"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingPassword","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control",3,"ngClass"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword",1,"form-control"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-key"],[1,"col-lg-5"],["onload","generate()"],["id","user-input",1,"floating"],[1,"col-lg-8"],["type","text","id","submit","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["type","submit","id","btn","onclick","print()",1,"btn","btn-gray"],[1,"col-lg-7"],["id","image","selectable","False",2,"margin-top","0"],[1,"col-lg-1",2,"margin-top","10px"],["onclick","generate()"],[1,"fas","fa-sync"],[2,"font-size","17px","color","blue","margin-top","6px"],["id","key"],[1,"col-lg-12"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["href",""],["type","submit",1,"btn","btn-primary"],[2,"color","red"],[3,"ngValue"]],template:function(t,e){1&t&&(r.Rb(0,"form",0),r.Zb("ngSubmit",(function(){return e.submitCreateUser()})),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"div",6),r.Nb(7,"img",7),r.Qb(),r.Rb(8,"div",8),r.Rb(9,"div",9),r.Rb(10,"div",10),r.Rb(11,"div",11),r.Rb(12,"h3"),r.tc(13,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Qb(),r.Qb(),r.Qb(),r.Nb(14,"div",12),r.Qb(),r.Nb(15,"div",13),r.Rb(16,"div",9),r.Rb(17,"div",14),r.Nb(18,"div",15),r.Qb(),r.Qb(),r.Nb(19,"div",16),r.Rb(20,"div",9),r.Rb(21,"div",17),r.Rb(22,"div",18),r.Rb(23,"div",19),r.Nb(24,"input",20),r.Rb(25,"label",21),r.tc(26,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(27,"span",22),r.Nb(28,"i",23),r.Qb(),r.Qb(),r.rc(29,xf,2,0,"div",24),r.rc(30,Sf,2,0,"div",24),r.Qb(),r.Rb(31,"div",17),r.Rb(32,"div",18),r.Rb(33,"div",19),r.Nb(34,"input",25),r.Rb(35,"label",26),r.tc(36,"T\xean"),r.Qb(),r.Qb(),r.Rb(37,"span",27),r.Nb(38,"i",23),r.Qb(),r.Qb(),r.rc(39,If,2,0,"div",24),r.rc(40,Tf,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(41,"div",9),r.Rb(42,"div",17),r.Rb(43,"div",18),r.Rb(44,"div",19),r.Nb(45,"input",28),r.Rb(46,"label",29),r.tc(47,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(48,"span",30),r.Nb(49,"i",23),r.Qb(),r.Qb(),r.rc(50,Df,2,0,"div",24),r.rc(51,Rf,2,0,"div",24),r.Qb(),r.Rb(52,"div",17),r.Rb(53,"div",18),r.Rb(54,"div",19),r.Nb(55,"input",31),r.Rb(56,"label",32),r.tc(57,"Email"),r.Qb(),r.Qb(),r.Rb(58,"span",33),r.Nb(59,"i",34),r.Qb(),r.Qb(),r.rc(60,Of,2,0,"div",24),r.rc(61,Nf,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(62,"div",9),r.Rb(63,"div",17),r.Rb(64,"div",18),r.Rb(65,"div",19),r.Nb(66,"input",35),r.Rb(67,"label",36),r.tc(68,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(69,"span",37),r.Nb(70,"i",38),r.Qb(),r.Qb(),r.rc(71,Pf,2,0,"div",24),r.rc(72,Mf,2,0,"div",24),r.Qb(),r.Rb(73,"div",17),r.Rb(74,"div",18),r.Rb(75,"div",19),r.Nb(76,"input",39),r.Rb(77,"label",40),r.tc(78,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(79,"span",41),r.Nb(80,"i",42),r.Qb(),r.Qb(),r.rc(81,Lf,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(82,"div",9),r.Rb(83,"div",43),r.Rb(84,"div"),r.Rb(85,"select",44),r.Zb("change",(function(){return e.selectCity()})),r.Rb(86,"option",45),r.tc(87,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.rc(88,jf,2,2,"option",46),r.Qb(),r.rc(89,Ff,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(90,"div",43),r.Rb(91,"div"),r.Rb(92,"select",47),r.Zb("change",(function(){return e.selectDistrict()})),r.Rb(93,"option",45),r.tc(94,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.rc(95,Bf,2,2,"option",46),r.Qb(),r.rc(96,zf,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(97,"div",43),r.Rb(98,"div"),r.Rb(99,"select",48),r.Zb("change",(function(){return e.selectWard()})),r.Rb(100,"option",45),r.tc(101,"Ch\u1ecdn ph\u01b0\u01a1\u0300ng xa\u0303"),r.Qb(),r.rc(102,Qf,2,2,"option",46),r.Qb(),r.rc(103,Vf,2,0,"div",24),r.Qb(),r.Qb(),r.Qb(),r.Rb(104,"div",49),r.Rb(105,"div",17),r.Rb(106,"div",18),r.Rb(107,"div",19),r.Nb(108,"input",50),r.Rb(109,"label",51),r.tc(110,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(111,"span",52),r.Nb(112,"i",53),r.Qb(),r.Qb(),r.rc(113,Uf,2,0,"div",24),r.rc(114,qf,2,0,"div",24),r.Qb(),r.Rb(115,"div",17),r.Rb(116,"div",18),r.Rb(117,"div",19),r.Nb(118,"input",54),r.Rb(119,"label",55),r.tc(120,"CMND"),r.Qb(),r.Qb(),r.Rb(121,"span",56),r.Nb(122,"i",57),r.Qb(),r.Qb(),r.rc(123,Hf,2,0,"div",24),r.rc(124,Gf,2,0,"div",24),r.Qb(),r.Qb(),r.Rb(125,"div",9),r.Rb(126,"div",17),r.Rb(127,"div",18),r.Rb(128,"div",19),r.Nb(129,"input",58),r.Rb(130,"label",59),r.tc(131,"M\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(132,"span",60),r.Nb(133,"i",61),r.Qb(),r.Qb(),r.rc(134,Wf,2,0,"div",24),r.Qb(),r.Rb(135,"div",17),r.Rb(136,"div",18),r.Rb(137,"div",19),r.Nb(138,"input",62),r.Rb(139,"label",63),r.tc(140,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(141,"span",64),r.Nb(142,"i",65),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(143,"div",9),r.Rb(144,"div",66),r.Rb(145,"div",67),r.Rb(146,"div",68),r.Rb(147,"div",9),r.Rb(148,"div",69),r.Nb(149,"input",70),r.Qb(),r.Rb(150,"div",43),r.Rb(151,"button",71),r.tc(152,"G\u1eedi "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(153,"div",72),r.Rb(154,"div",9),r.Rb(155,"div",43),r.Nb(156,"div",73),r.Qb(),r.Rb(157,"div",74),r.Rb(158,"div",75),r.Nb(159,"i",76),r.Qb(),r.Qb(),r.Rb(160,"div",72),r.Rb(161,"div",77),r.Nb(162,"p",78),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(163,"div",49),r.Rb(164,"div",79),r.Rb(165,"div",80),r.Nb(166,"input",81),r.Rb(167,"label",82),r.tc(168," \u0110\u1ed3ng \xfd "),r.Rb(169,"a",83),r.tc(170,"\u0111i\u1ec1u kho\u1ea3n"),r.Qb(),r.tc(171," c\u1ee7a website "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(172,"div",13),r.Rb(173,"div",9),r.Rb(174,"div",79),r.Rb(175,"button",84),r.tc(176,"\u0110\u0103ng k\xfd"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.fc("formGroup",e.rfRegisterGoogle),r.Ab(24),r.fc("ngClass",e.rfRegisterGoogle.controls.firstName.touched?e.rfRegisterGoogle.controls.firstName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.firstName.hasError("required")&&e.rfRegisterGoogle.controls.firstName.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.firstName.hasError("pattern")&&e.rfRegisterGoogle.controls.firstName.touched),r.Ab(4),r.fc("ngClass",e.rfRegisterGoogle.controls.lastName.touched?e.rfRegisterGoogle.controls.lastName.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.lastName.hasError("required")&&e.rfRegisterGoogle.controls.lastName.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.lastName.hasError("pattern")&&e.rfRegisterGoogle.controls.lastName.touched),r.Ab(5),r.fc("ngClass",e.rfRegisterGoogle.controls.username.touched?e.rfRegisterGoogle.controls.username.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.username.hasError("required")&&e.rfRegisterGoogle.controls.username.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.username.hasError("pattern")&&e.rfRegisterGoogle.controls.username.touched),r.Ab(4),r.fc("ngClass",e.rfRegisterGoogle.controls.email.touched?e.rfRegisterGoogle.controls.email.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.email.hasError("required")&&e.rfRegisterGoogle.controls.email.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.email.hasError("pattern")&&e.rfRegisterGoogle.controls.email.touched),r.Ab(5),r.fc("ngClass",e.rfRegisterGoogle.controls.phone.touched?e.rfRegisterGoogle.controls.phone.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.phone.hasError("required")&&e.rfRegisterGoogle.controls.phone.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.phone.hasError("pattern")&&e.rfRegisterGoogle.controls.phone.touched),r.Ab(4),r.fc("ngClass",e.rfRegisterGoogle.controls.birthDay.touched?e.rfRegisterGoogle.controls.birthDay.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.birthDay.hasError("required")&&e.rfRegisterGoogle.controls.birthDay.touched),r.Ab(7),r.fc("ngForOf",e.cities),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.city.hasError("required")&&e.rfRegisterGoogle.controls.city.touched),r.Ab(6),r.fc("ngForOf",e.districts),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.district.hasError("required")&&e.rfRegisterGoogle.controls.district.touched),r.Ab(6),r.fc("ngForOf",e.wards),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.town.hasError("required")&&e.rfRegisterGoogle.controls.town.touched),r.Ab(5),r.fc("ngClass",e.rfRegisterGoogle.controls.detailAddress.touched?e.rfRegisterGoogle.controls.detailAddress.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.detailAddress.hasError("required")&&e.rfRegisterGoogle.controls.detailAddress.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.detailAddress.hasError("pattern")&&e.rfRegisterGoogle.controls.detailAddress.touched),r.Ab(4),r.fc("ngClass",e.rfRegisterGoogle.controls.idCard.touched?e.rfRegisterGoogle.controls.idCard.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.idCard.hasError("required")&&e.rfRegisterGoogle.controls.idCard.touched),r.Ab(1),r.fc("ngIf",e.rfRegisterGoogle.controls.idCard.hasError("pattern")&&e.rfRegisterGoogle.controls.idCard.touched),r.Ab(5),r.fc("ngClass",e.rfRegisterGoogle.controls.password.touched?e.rfRegisterGoogle.controls.password.invalid?"is-invalid":"is-valid":""),r.Ab(5),r.fc("ngIf",e.rfRegisterGoogle.controls.password.hasError("required")&&e.rfRegisterGoogle.controls.password.touched))},directives:[oa,Jo,ca,qo,Zo,ga,dt,gt,ks,Cs,Ss,ft],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),t})(),$f=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-address-payment"]],decls:140,vars:0,consts:[[1,"row"],[1,"col-lg-4"],[1,"col-lg-2"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link",2,"padding-left","20px"],["id","pills-contact-tab","data-bs-toggle","pill","data-bs-target","#pills-contact","type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link"],[1,"container"],[1,"col-lg-1"],[1,"col-lg-8",2,"border","solid darkgray 1px","padding-top","20px","padding-bottom","20px"],[1,"col-lg-6"],[1,"input-group","form-floating","mb-3"],["type","text","id","ten","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","ten"],[2,"color","red"],[1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","ho","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","ho"],["type","text","id","floatingPhone","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","floatingPhone"],[1,"fa-solid","fa-phone-flip"],["type","email","id","mail","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","mail"],["id","basic-addon6",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","quocgia","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","quocgia"],["id","basic-addon0",1,"input-group-text"],[1,"fa-solid","fa-earth-africa"],["type","text","id","thanhpho","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","thanhpho"],[1,"fa-solid","fa-location-dot"],["type","text","id","quanhuyen","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","quanhuyen"],["type","text","id","phuongxa","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","phuongxa"],[1,"col-lg-12"],["type","text","id","floatingAddress","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],["type","email","id","huongdan","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","huongdan"],["id","basic-addon",1,"input-group-text"],[1,"fa-solid","fa-comment"],["type","button",1,"btn","btn-primary"],[1,"col-lg-3"],[1,"card","border-primary","mb-3",2,"max-width","18rem","padding","0"],[1,"card-body","text-light",2,"background-color","blue"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-primary","bg-light","border-primary"],[1,"card-title","text-light",2,"background-color","blue"],[1,"card-body","text-primary"],[1,"card-footer","bg-light","border-success",2,"color","red"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Nb(1,"div",1),r.Rb(2,"div",1),r.Rb(3,"h2"),r.tc(4,"Thanh To\xe1n"),r.Qb(),r.Qb(),r.Nb(5,"div",1),r.Qb(),r.Rb(6,"div",0),r.Nb(7,"div",2),r.Rb(8,"div",2),r.Rb(9,"button",3),r.tc(10,"\u0110\u1ecba ch\u1ec9 thanh to\xe1n "),r.Qb(),r.Qb(),r.Rb(11,"div",2),r.Rb(12,"button",4),r.tc(13,"H\xecnh th\u1ee9c giao h\xe0ng "),r.Qb(),r.Qb(),r.Rb(14,"div",2),r.Rb(15,"button",5),r.tc(16,"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng "),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",6),r.Rb(18,"div",0),r.Nb(19,"div",7),r.Rb(20,"div",8),r.Rb(21,"div",0),r.Rb(22,"div",9),r.Rb(23,"div",10),r.Nb(24,"input",11),r.Rb(25,"label",12),r.Rb(26,"span",13),r.tc(27," * "),r.Qb(),r.tc(28,"T\xean"),r.Qb(),r.Rb(29,"span",14),r.Nb(30,"i",15),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",9),r.Rb(32,"div",10),r.Nb(33,"input",16),r.Rb(34,"label",17),r.Rb(35,"span",13),r.tc(36," * "),r.Qb(),r.tc(37,"H\u1ecd"),r.Qb(),r.Rb(38,"span",14),r.Nb(39,"i",15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(40,"div",0),r.Rb(41,"div",9),r.Rb(42,"div",10),r.Nb(43,"input",18),r.Rb(44,"label",19),r.Rb(45,"span",13),r.tc(46," * "),r.Qb(),r.tc(47,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Rb(48,"span",14),r.Nb(49,"i",20),r.Qb(),r.Qb(),r.Qb(),r.Rb(50,"div",9),r.Rb(51,"div",10),r.Nb(52,"input",21),r.Rb(53,"label",22),r.Rb(54,"span",13),r.tc(55," * "),r.Qb(),r.tc(56,"Email"),r.Qb(),r.Rb(57,"span",23),r.Nb(58,"i",24),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(59,"div",0),r.Rb(60,"div",9),r.Rb(61,"div",10),r.Nb(62,"input",25),r.Rb(63,"label",26),r.Rb(64,"span",13),r.tc(65," * "),r.Qb(),r.tc(66,"Qu\u1ed1c Gia"),r.Qb(),r.Rb(67,"span",27),r.Nb(68,"i",28),r.Qb(),r.Qb(),r.Qb(),r.Rb(69,"div",9),r.Rb(70,"div",10),r.Nb(71,"input",29),r.Rb(72,"label",30),r.Rb(73,"span",13),r.tc(74," * "),r.Qb(),r.tc(75,"Th\xe0nh Ph\u1ed1/T\u1ec9nh"),r.Qb(),r.Rb(76,"span",14),r.Nb(77,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(78,"div",0),r.Rb(79,"div",9),r.Rb(80,"div",10),r.Nb(81,"input",32),r.Rb(82,"label",33),r.Rb(83,"span",13),r.tc(84," * "),r.Qb(),r.tc(85,"Qu\u1eadn/Huy\u1ec7n"),r.Qb(),r.Rb(86,"span",14),r.Nb(87,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Rb(88,"div",9),r.Rb(89,"div",10),r.Nb(90,"input",34),r.Rb(91,"label",35),r.Rb(92,"span",13),r.tc(93," * "),r.Qb(),r.tc(94,"Ph\u01b0\u1eddng /X\xe3"),r.Qb(),r.Rb(95,"span",14),r.Nb(96,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(97,"div",0),r.Rb(98,"div",36),r.Rb(99,"div",10),r.Nb(100,"input",37),r.Rb(101,"label",38),r.Rb(102,"span",13),r.tc(103," * "),r.Qb(),r.tc(104,"\u0110\u1ecba Ch\u1ec9"),r.Qb(),r.Rb(105,"span",39),r.Nb(106,"i",31),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(107,"div",0),r.Rb(108,"div",36),r.Rb(109,"div",10),r.Nb(110,"input",40),r.Rb(111,"label",41),r.tc(112,"H\u01b0\u1edbng D\u1eabn Giao H\xe0ng (Kh\xf4ng B\u1eaft Bu\u1ed9c)"),r.Qb(),r.Rb(113,"span",42),r.Nb(114,"i",43),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(115,"div",0),r.Rb(116,"div",36),r.Rb(117,"button",44),r.tc(118,"X\xe1c Nh\u1eadn"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(119,"div",45),r.Rb(120,"div",0),r.Rb(121,"div",46),r.Rb(122,"div",47),r.Rb(123,"h4",48),r.tc(124,"C\xf3 c\xe2u h\u1ecfi?"),r.Qb(),r.Rb(125,"p",49),r.tc(126,"Vui l\xf2ng li\xean h\u1ec7 b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 24 gi\u1edd c\u1ee7a ch\xfang t\xf4i."),r.Qb(),r.Qb(),r.Rb(127,"div",50),r.Rb(128,"h6"),r.tc(129,"S\u0110T.(028)-090123090"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(130,"div",0),r.Rb(131,"div",46),r.Rb(132,"h4",51),r.tc(133,"T\u1ed5ng K\u1ebft \u0110\u01a1n H\xe0ng"),r.Qb(),r.Rb(134,"div",52),r.Rb(135,"h6"),r.tc(136,"Giao h\xe0ng ti\xeau chu\u1ea9n : 49.000"),r.Qb(),r.Qb(),r.Rb(137,"div",53),r.Rb(138,"h6"),r.tc(139,"T\u1ed5ng s\u1ed1 ti\u1ec1n c\u1ea7n thanh to\xe1n : 138.000"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),t})(),Yf=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-method-payment"]],decls:63,vars:0,consts:[[1,"row"],[1,"col-lg-4"],[1,"col-lg-2"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link",2,"padding-left","20px"],["id","pills-contact-tab","data-bs-toggle","pill","data-bs-target","#pills-contact","type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link"],[1,"col-lg-6"],[1,"col-lg-12"],["src","https://toplist.vn/images/800px/3-shipantoan-117725.jpg","width","500px"],["type","radio","checked",""],[2,"color","red"],["src","https://quangan.vn/wp-content/uploads/1644509255_275_Ngan-Hang-Vietcombank-La-Ngan-Hang-Gi-VCB-Co-Tot.png",2,"width","200px","height","120px"],["src","https://newsroom.uk.paypal-corp.com/images/fillers/Wordmark%20on%20gold.png",2,"width","200px","height","110px"],["src","https://i.imgur.com/07b8DkY.png",2,"width","200px","height","110px"],[1,"card","border-primary","mb-3",2,"max-width","18rem","padding","0"],[1,"card-body","text-light",2,"background-color","blue"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-primary","bg-light","border-primary"],[1,"card-title","text-light",2,"background-color","blue"],[1,"card-body","text-primary"],[1,"card-footer","bg-light","border-success",2,"color","red"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Nb(1,"div",1),r.Rb(2,"div",1),r.Rb(3,"h2"),r.tc(4,"Thanh To\xe1n"),r.Qb(),r.Qb(),r.Nb(5,"div",1),r.Qb(),r.Rb(6,"div",0),r.Nb(7,"div",2),r.Rb(8,"div",2),r.Rb(9,"button",3),r.tc(10,"\u0110\u1ecba ch\u1ec9 thanh to\xe1n "),r.Qb(),r.Qb(),r.Rb(11,"div",2),r.Rb(12,"button",4),r.tc(13,"H\xecnh th\u1ee9c giao h\xe0ng "),r.Qb(),r.Qb(),r.Rb(14,"div",2),r.Rb(15,"button",5),r.tc(16,"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng "),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",0),r.Nb(18,"div",2),r.Rb(19,"div",6),r.Rb(20,"div",0),r.Rb(21,"div",7),r.Nb(22,"img",8),r.Rb(23,"h6"),r.Nb(24,"input",9),r.tc(25," H\xecnh th\u1ee9c giao h\xe0ng t\u1eadn nh\xe0"),r.Qb(),r.Nb(26,"hr"),r.Qb(),r.Qb(),r.Rb(27,"div",0),r.Rb(28,"div",7),r.Rb(29,"h6"),r.Rb(30,"span",10),r.tc(31,"*"),r.Qb(),r.tc(32," M\u1eddi b\u1ea1n ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n"),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",0),r.Rb(34,"div",1),r.Nb(35,"img",11),r.Qb(),r.Rb(36,"div",1),r.Nb(37,"img",12),r.Qb(),r.Rb(38,"div",1),r.Nb(39,"img",13),r.Qb(),r.Qb(),r.Qb(),r.Rb(40,"div",1),r.Rb(41,"div",0),r.Rb(42,"div",7),r.Rb(43,"div",14),r.Rb(44,"div",15),r.Rb(45,"h4",16),r.tc(46,"C\xf3 c\xe2u h\u1ecfi?"),r.Qb(),r.Rb(47,"p",17),r.tc(48,"Vui l\xf2ng li\xean h\u1ec7 b\u1ed9 ph\u1eadn h\u1ed7 tr\u1ee3 24 gi\u1edd c\u1ee7a ch\xfang t\xf4i."),r.Qb(),r.Qb(),r.Rb(49,"div",18),r.Rb(50,"h6"),r.tc(51,"S\u0110T.(028)-090123090"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(52,"div",0),r.Rb(53,"div",7),r.Rb(54,"div",14),r.Rb(55,"h4",19),r.tc(56,"T\u1ed5ng K\u1ebft \u0110\u01a1n H\xe0ng"),r.Qb(),r.Rb(57,"div",20),r.Rb(58,"h6"),r.tc(59,"Giao h\xe0ng ti\xeau chu\u1ea9n : 49.000"),r.Qb(),r.Qb(),r.Rb(60,"div",21),r.Rb(61,"h6"),r.tc(62,"T\u1ed5ng s\u1ed1 ti\u1ec1n c\u1ea7n thanh to\xe1n : 138.000"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},styles:[""]}),t})();var Zf=n("+z1p");function Jf(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}var Xf=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},tp=n("Ju5/"),ep=function(){return tp.a.Date.now()},np=/\s/,rp=/^\s+/,ip=tp.a.Symbol,op=Object.prototype,sp=op.hasOwnProperty,ap=op.toString,cp=ip?ip.toStringTag:void 0,lp=Object.prototype.toString,up=ip?ip.toStringTag:void 0,dp=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":up&&up in Object(t)?function(t){var e=sp.call(t,cp),n=t[cp];try{t[cp]=void 0;var r=!0}catch(kR){}var i=ap.call(t);return r&&(e?t[cp]=n:delete t[cp]),i}(t):function(t){return lp.call(t)}(t)},hp=function(t){return null!=t&&"object"==typeof t},fp=/^[-+]0x[0-9a-f]+$/i,pp=/^0b[01]+$/i,gp=/^0o[0-7]+$/i,mp=parseInt,bp=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||hp(t)&&"[object Symbol]"==dp(t)}(t))return NaN;if(Xf(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Xf(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;var n;t=(n=t)?n.slice(0,function(t){for(var e=t.length;e--&&np.test(t.charAt(e)););return e}(n)+1).replace(rp,""):n;var r=pp.test(t);return r||gp.test(t)?mp(t.slice(2),r?2:8):fp.test(t)?NaN:+t},vp=Math.max,yp=Math.min,_p=function(t,e){return t===e||t!=t&&e!=e},wp=function(t,e){for(var n=t.length;n--;)if(_p(t[n][0],e))return n;return-1},kp=Array.prototype.splice;function Cp(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cp.prototype.clear=function(){this.__data__=[],this.size=0},Cp.prototype.delete=function(t){var e=this.__data__,n=wp(e,t);return!(n<0||(n==e.length-1?e.pop():kp.call(e,n,1),--this.size,0))},Cp.prototype.get=function(t){var e=this.__data__,n=wp(e,t);return n<0?void 0:e[n][1]},Cp.prototype.has=function(t){return wp(this.__data__,t)>-1},Cp.prototype.set=function(t,e){var n=this.__data__,r=wp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Ap,Ep=Cp,xp=function(t){if(!Xf(t))return!1;var e=dp(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Sp=tp.a["__core-js_shared__"],Ip=(Ap=/[^.]+$/.exec(Sp&&Sp.keys&&Sp.keys.IE_PROTO||""))?"Symbol(src)_1."+Ap:"",Tp=Function.prototype.toString,Dp=function(t){if(null!=t){try{return Tp.call(t)}catch(kR){}try{return t+""}catch(kR){}}return""},Rp=/^\[object .+?Constructor\]$/,Op=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Np=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Xf(t)||(e=t,Ip&&Ip in e))&&(xp(t)?Op:Rp).test(Dp(t));var e}(n)?n:void 0},Pp=Np(tp.a,"Map"),Mp=Np(Object,"create"),Lp=Object.prototype.hasOwnProperty,jp=Object.prototype.hasOwnProperty;function Fp(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fp.prototype.clear=function(){this.__data__=Mp?Mp(null):{},this.size=0},Fp.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fp.prototype.get=function(t){var e=this.__data__;if(Mp){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Lp.call(e,t)?e[t]:void 0},Fp.prototype.has=function(t){var e=this.__data__;return Mp?void 0!==e[t]:jp.call(e,t)},Fp.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mp&&void 0===e?"__lodash_hash_undefined__":e,this};var Bp=Fp,zp=function(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};function Qp(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qp.prototype.clear=function(){this.size=0,this.__data__={hash:new Bp,map:new(Pp||Ep),string:new Bp}},Qp.prototype.delete=function(t){var e=zp(this,t).delete(t);return this.size-=e?1:0,e},Qp.prototype.get=function(t){return zp(this,t).get(t)},Qp.prototype.has=function(t){return zp(this,t).has(t)},Qp.prototype.set=function(t,e){var n=zp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Vp=Qp;function Up(t){var e=this.__data__=new Ep(t);this.size=e.size}Up.prototype.clear=function(){this.__data__=new Ep,this.size=0},Up.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Up.prototype.get=function(t){return this.__data__.get(t)},Up.prototype.has=function(t){return this.__data__.has(t)},Up.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ep){var r=n.__data__;if(!Pp||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vp(r)}return n.set(t,e),this.size=n.size,this};var qp=Up,Hp=function(){try{var t=Np(Object,"defineProperty");return t({},"",{}),t}catch(kR){}}(),Gp=function(t,e,n){"__proto__"==e&&Hp?Hp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Wp=Object.prototype.hasOwnProperty,Kp=function(t,e,n){var r=t[e];Wp.call(t,e)&&_p(r,n)&&(void 0!==n||e in t)||Gp(t,e,n)},$p=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?Gp(n,a,c):Kp(n,a,c)}return n},Yp=function(t){return hp(t)&&"[object Arguments]"==dp(t)},Zp=Object.prototype,Jp=Zp.hasOwnProperty,Xp=Zp.propertyIsEnumerable,tg=Yp(function(){return arguments}())?Yp:function(t){return hp(t)&&Jp.call(t,"callee")&&!Xp.call(t,"callee")},eg=Array.isArray,ng=n("WOAq"),rg=/^(?:0|[1-9]\d*)$/,ig=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&rg.test(t))&&t>-1&&t%1==0&&t<e},og=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},sg={};sg["[object Float32Array]"]=sg["[object Float64Array]"]=sg["[object Int8Array]"]=sg["[object Int16Array]"]=sg["[object Int32Array]"]=sg["[object Uint8Array]"]=sg["[object Uint8ClampedArray]"]=sg["[object Uint16Array]"]=sg["[object Uint32Array]"]=!0,sg["[object Arguments]"]=sg["[object Array]"]=sg["[object ArrayBuffer]"]=sg["[object Boolean]"]=sg["[object DataView]"]=sg["[object Date]"]=sg["[object Error]"]=sg["[object Function]"]=sg["[object Map]"]=sg["[object Number]"]=sg["[object Object]"]=sg["[object RegExp]"]=sg["[object Set]"]=sg["[object String]"]=sg["[object WeakMap]"]=!1;var ag=function(t){return function(e){return t(e)}},cg=n("xutz"),lg=cg.a&&cg.a.isTypedArray,ug=lg?ag(lg):function(t){return hp(t)&&og(t.length)&&!!sg[dp(t)]},dg=Object.prototype.hasOwnProperty,hg=function(t,e){var n=eg(t),r=!n&&tg(t),i=!n&&!r&&Object(ng.a)(t),o=!n&&!r&&!i&&ug(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var l in t)!e&&!dg.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ig(l,c))||a.push(l);return a},fg=Object.prototype,pg=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||fg)},gg=function(t,e){return function(n){return t(e(n))}},mg=gg(Object.keys,Object),bg=Object.prototype.hasOwnProperty,vg=function(t){return null!=t&&og(t.length)&&!xp(t)},yg=function(t){return vg(t)?hg(t):function(t){if(!pg(t))return mg(t);var e=[];for(var n in Object(t))bg.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},_g=Object.prototype.hasOwnProperty,wg=function(t){return vg(t)?hg(t,!0):function(t){if(!Xf(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=pg(t),n=[];for(var r in t)("constructor"!=r||!e&&_g.call(t,r))&&n.push(r);return n}(t)},kg=n("3/ER"),Cg=function(){return[]},Ag=Object.prototype.propertyIsEnumerable,Eg=Object.getOwnPropertySymbols,xg=Eg?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,s=[];++r<i;){var a=e[r];Ag.call(t,a)&&(s[o++]=a)}return s}(Eg(t)))}:Cg,Sg=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},Ig=gg(Object.getPrototypeOf,Object),Tg=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Sg(e,xg(t)),t=Ig(t);return e}:Cg,Dg=function(t,e,n){var r=e(t);return eg(t)?r:Sg(r,n(t))},Rg=function(t){return Dg(t,yg,xg)},Og=function(t){return Dg(t,wg,Tg)},Ng=Np(tp.a,"DataView"),Pg=Np(tp.a,"Promise"),Mg=Np(tp.a,"Set"),Lg=Np(tp.a,"WeakMap"),jg=Dp(Ng),Fg=Dp(Pp),Bg=Dp(Pg),zg=Dp(Mg),Qg=Dp(Lg),Vg=dp;(Ng&&"[object DataView]"!=Vg(new Ng(new ArrayBuffer(1)))||Pp&&"[object Map]"!=Vg(new Pp)||Pg&&"[object Promise]"!=Vg(Pg.resolve())||Mg&&"[object Set]"!=Vg(new Mg)||Lg&&"[object WeakMap]"!=Vg(new Lg))&&(Vg=function(t){var e=dp(t),n="[object Object]"==e?t.constructor:void 0,r=n?Dp(n):"";if(r)switch(r){case jg:return"[object DataView]";case Fg:return"[object Map]";case Bg:return"[object Promise]";case zg:return"[object Set]";case Qg:return"[object WeakMap]"}return e});var Ug=Vg,qg=Object.prototype.hasOwnProperty,Hg=tp.a.Uint8Array,Gg=function(t){var e=new t.constructor(t.byteLength);return new Hg(e).set(new Hg(t)),e},Wg=/\w*$/,Kg=ip?ip.prototype:void 0,$g=Kg?Kg.valueOf:void 0,Yg=Object.create,Zg=function(){function t(){}return function(e){if(!Xf(e))return{};if(Yg)return Yg(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Jg=cg.a&&cg.a.isMap,Xg=Jg?ag(Jg):function(t){return hp(t)&&"[object Map]"==Ug(t)},tm=cg.a&&cg.a.isSet,em=tm?ag(tm):function(t){return hp(t)&&"[object Set]"==Ug(t)},nm={};nm["[object Arguments]"]=nm["[object Array]"]=nm["[object ArrayBuffer]"]=nm["[object DataView]"]=nm["[object Boolean]"]=nm["[object Date]"]=nm["[object Float32Array]"]=nm["[object Float64Array]"]=nm["[object Int8Array]"]=nm["[object Int16Array]"]=nm["[object Int32Array]"]=nm["[object Map]"]=nm["[object Number]"]=nm["[object Object]"]=nm["[object RegExp]"]=nm["[object Set]"]=nm["[object String]"]=nm["[object Symbol]"]=nm["[object Uint8Array]"]=nm["[object Uint8ClampedArray]"]=nm["[object Uint16Array]"]=nm["[object Uint32Array]"]=!0,nm["[object Error]"]=nm["[object Function]"]=nm["[object WeakMap]"]=!1;var rm=function t(e,n,r,i,o,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=o?r(e,i,o,s):r(e)),void 0!==a)return a;if(!Xf(e))return e;var d=eg(e);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&qg.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!c)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(e,a)}else{var h=Ug(e),f="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(ng.a)(e))return Object(kg.a)(e,c);if("[object Object]"==h||"[object Arguments]"==h||f&&!o){if(a=l||f?{}:function(t){return"function"!=typeof t.constructor||pg(t)?{}:Zg(Ig(t))}(e),!c)return l?function(t,e){return $p(t,Tg(t),e)}(e,function(t,e){return t&&$p(e,wg(e),t)}(a,e)):function(t,e){return $p(t,xg(t),e)}(e,function(t,e){return t&&$p(e,yg(e),t)}(a,e))}else{if(!nm[h])return o?e:{};a=function(t,e,n){var r,i,o=t.constructor;switch(e){case"[object ArrayBuffer]":return Gg(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?Gg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?Gg(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(i=new(r=t).constructor(r.source,Wg.exec(r))).lastIndex=r.lastIndex,i;case"[object Set]":return new o;case"[object Symbol]":return $g?Object($g.call(t)):{}}}(e,h,c)}}s||(s=new qp);var p=s.get(e);if(p)return p;s.set(e,a),em(e)?e.forEach((function(i){a.add(t(i,n,r,i,e,s))})):Xg(e)&&e.forEach((function(i,o){a.set(o,t(i,n,r,o,e,s))}));var g=d?void 0:(u?l?Og:Rg:l?wg:yg)(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n););}(g||e,(function(i,o){g&&(i=e[o=i]),Kp(a,o,t(i,n,r,o,e,s))})),a},im=Function.prototype.toString,om=Object.prototype.hasOwnProperty,sm=im.call(Object);function am(t,e=new Set){const n=[t],r=new Set;let i=0;for(;n.length>i;){const t=n[i++];if(!(r.has(t)||cm(t)||e.has(t)))if(r.add(t),t[Symbol.iterator])try{for(const e of t)n.push(e)}catch(o){}else for(const e in t)"defaultValue"!==e&&n.push(t[e])}return r}function cm(t){const e=Object.prototype.toString.call(t),n=typeof t;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}class lm extends class{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e=t.error||t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){const n=this._listeners[t]||[];for(const r of n)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Xf(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(t,e,n){var r,i,o,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,o=i;return r=i=void 0,l=e,s=t.apply(o,n)}function p(t){return l=t,a=setTimeout(m,e),u?f(t):s}function g(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=o}function m(){var t=ep();if(g(t))return b(t);a=setTimeout(m,function(t){var n=e-(t-c);return d?yp(n,o-(t-l)):n}(t))}function b(t){return a=void 0,h&&r?f(t):(r=i=void 0,s)}function v(){var t=ep(),n=g(t);if(r=arguments,i=this,c=t,n){if(void 0===a)return p(c);if(d)return clearTimeout(a),a=setTimeout(m,e),f(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=bp(e)||0,Xf(n)&&(u=!!n.leading,o=(d="maxWait"in n)?vp(bp(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=i=a=void 0},v.flush=function(){return void 0===a?s:b(ep())},v}(t,e,{leading:r,maxWait:e,trailing:i})}(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(e,n)=>t.create(e,n),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function(t,e,n=new Set){if(t===e&&"object"==typeof(r=t)&&null!==r)return!0;var r;const i=am(t,n),o=am(e,n);for(const s of i)if(o.has(s))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return function(t,e){return rm(t,5,e="function"==typeof e?e:void 0)}(t,(t,e)=>function(t){return hp(t)&&1===t.nodeType&&!function(t){if(!hp(t)||"[object Object]"!=dp(t))return!1;var e=Ig(t);if(null===e)return!0;var n=om.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&im.call(n)==sm}(t)}(t)||"context"===e?t:void 0)}}function um(t,e){}const dm=(t,e)=>("0"+e.toString(16)).slice(-2),hm=new Array(256).fill(0).map(dm);let fm=(()=>{class t{constructor(t,e){this.config={},this.data="",this.tagName="div",this.ready=new r.n,this.change=new r.n,this.blur=new r.n,this.focus=new r.n,this.error=new r.n,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+hm[t>>0&255]+hm[t>>8&255]+hm[t>>16&255]+hm[t>>24&255]+hm[e>>0&255]+hm[e>>8&255]+hm[e>>16&255]+hm[e>>24&255]+hm[n>>0&255]+hm[n>>8&255]+hm[n>>16&255]+hm[n>>24&255]+hm[r>>0&255]+hm[r>>8&255]+hm[r>>16&255]+hm[r>>24&255]}(),this.ngZone=e,this.elementRef=t;const{CKEDITOR_VERSION:n}=window;if(n){const[t]=n.split(".").map(Number);t<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return Jf(this,void 0,void 0,(function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)}))}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe(Je()).subscribe(t=>{t.setData(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(t?this.editorInstance.enableReadOnlyMode("Lock from Angular integration (@ckeditor/ckeditor5-angular)"):this.editorInstance.disableReadOnlyMode("Lock from Angular integration (@ckeditor/ckeditor5-angular)")),this.initiallyDisabled=t}attachToWatchdog(){const t=(t,e)=>Jf(this,void 0,void 0,(function*(){return this.ngZone.runOutsideAngular(()=>Jf(this,void 0,void 0,(function*(){this.elementRef.nativeElement.appendChild(t);const n=yield this.editor.create(t,e);return this.initiallyDisabled&&n.enableReadOnlyMode("Lock from Angular integration (@ckeditor/ckeditor5-angular)"),this.ngZone.run(()=>{this.ready.emit(n)}),this.setUpEditorEvents(n),n})))})),e=t=>Jf(this,void 0,void 0,(function*(){yield t.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)})),n=()=>{this.ngZone.run(()=>{this.error.emit()})},r=document.createElement(this.tagName),i=this.getConfig();if(this.editorElement=r,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:e,sourceElementOrData:r,config:i}),this.watchdog.on("itemError",(t,{itemId:e})=>{e===this.id&&n()});else{const o=new lm(this.editor);o.setCreator(t),o.setDestructor(e),o.on("error",n),this.editorWatchdog=o,this.editorWatchdog.create(r,i)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t=Object.assign({},this.config),e=this.config.initialData||this.data;return e&&(t.initialData=e),t}setUpEditorEvents(t){const e=t.editing.view.document;t.model.document.on("change:data",e=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const e=t.getData();this.cvaOnChange(e)}this.change.emit({event:e,editor:t})})}),e.on("focus",e=>{this.ngZone.run(()=>{this.focus.emit({event:e,editor:t})})}),e.on("blur",e=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:e,editor:t})})})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.z))},t.\u0275cmp=r.Gb({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[r.zb([{provide:Bo,useExisting:Object(r.T)(()=>t),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&r.rc(0,um,0,0,"ng-template")},encapsulation:2}),t})(),pm=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[_a,xt]]}),t})();function gm(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),r.Qb())}function mm(t,e){1&t&&(r.Rb(0,"div",6),r.tc(1," T\xean ph\u1ea3i \u0111\xfang \u0111\u1ecbnh d\u1ea1ng kh\xf4ng \u0111\u01b0\u1ee3c c\xf3 kho\u1ea3ng tr\u1eafng hai \u0111\u1ea7u "),r.Qb())}function bm(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),r.Qb())}function vm(t,e){1&t&&(r.Rb(0,"div",6),r.tc(1," Gi\xe1 ban \u0111\u1ea7u ph\u1ea3i l\xe0 s\u1ed1 nguy\xean "),r.Qb())}function ym(t,e){if(1&t&&(r.Rb(0,"option",48),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("value",t.id),r.Ab(1),r.vc(" ",t.step," ")}}function _m(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span",6),r.tc(2,"Vui l\xf2ng ch\u1ecdn b\u01b0\u1edbc gi\xe1 \u0111\u1ec3 \u0111\u1ea5u gi\xe1.\u201d "),r.Qb(),r.Qb())}function wm(t,e){if(1&t&&(r.Rb(0,"option",48),r.tc(1),r.Qb()),2&t){const t=e.$implicit;r.fc("value",t.id),r.Ab(1),r.vc(" ",t.name," ")}}function km(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span",6),r.tc(2,"Vui l\xf2ng ch\u1ecdn ch\u1ee7ng lo\u1ea1i s\u1ea3n ph\u1ea9m."),r.Qb(),r.Qb())}function Cm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span",6),r.tc(2,"Vui l\xf2ng ch\u1ecdn \u1ea3nh \u0111\u1ec3 \u0111\u1ea5u gi\xe1.\u201d "),r.Qb(),r.Qb())}function Am(t,e){if(1&t&&(r.Rb(0,"div"),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.uc(t.messageImage)}}function Em(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",49),r.Rb(1,"div",50),r.Nb(2,"img",51),r.Rb(3,"span",52),r.Zb("click",(function(){r.mc(t);const n=e.index;return r.bc(2).deleteImageNew(n)})),r.Nb(4,"object",53),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t,r.oc)}}function xm(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Qb())}function Sm(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i! "),r.Qb())}function Im(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng. "),r.Qb())}function Tm(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Ng\xe0y k\u1ebft th\xfac \u0111\u1ea5u gi\xe1 kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1 v\xe0 ch\u1ec9 \u0111\u01b0\u1ee3c trong kho\u1ea3ng 30 ng\xe0y k\u1ec3 t\u1eeb ng\xe0y b\u1eaft \u0111\u1ea7u \u0111\u1ea5u gi\xe1! "),r.Qb())}function Dm(t,e){1&t&&(r.Rb(0,"div"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng! "),r.Qb())}function Rm(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",7),r.Zb("ngSubmit",(function(){return r.mc(t),r.bc().addNewProduct()})),r.Rb(1,"fieldset"),r.Rb(2,"legend"),r.Rb(3,"div",8),r.Rb(4,"h1"),r.tc(5,"Y\xeau c\u1ea7u \u0111\u1ea5u gi\xe1"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",4),r.Rb(7,"div",9),r.Nb(8,"object",10),r.Rb(9,"label",11),r.tc(10,"T\xean s\u1ea3n ph\u1ea9m"),r.Rb(11,"span",6),r.tc(12," (*)"),r.Qb(),r.tc(13,":"),r.Qb(),r.Qb(),r.Nb(14,"input",12),r.Rb(15,"div",13),r.rc(16,gm,2,0,"div",14),r.rc(17,mm,2,0,"div",15),r.Qb(),r.Qb(),r.Rb(18,"div",4),r.Rb(19,"div",16),r.Nb(20,"object",17),r.Rb(21,"label",18),r.tc(22,"Gi\xe1 ban \u0111\u1ea7u"),r.Rb(23,"span",6),r.tc(24," (*)"),r.Qb(),r.tc(25,":"),r.Qb(),r.Qb(),r.Nb(26,"input",19),r.Rb(27,"div",13),r.rc(28,bm,2,0,"div",14),r.rc(29,vm,2,0,"div",15),r.Qb(),r.Qb(),r.Rb(30,"div",4),r.Rb(31,"div",16),r.Nb(32,"object",20),r.Rb(33,"label",21),r.tc(34,"M\u1ed7i l\u1ea7n t\u0103ng \xedt nh\u1ea5t"),r.Rb(35,"span",6),r.tc(36," (*)"),r.Qb(),r.tc(37,":"),r.Qb(),r.Qb(),r.Rb(38,"div",22),r.Rb(39,"select",23),r.Rb(40,"option",24),r.tc(41,"Chon b\u01b0\u1edbc gi\xe1"),r.Qb(),r.rc(42,ym,2,2,"option",25),r.Qb(),r.Qb(),r.rc(43,_m,3,0,"div",14),r.Qb(),r.Rb(44,"div",4),r.Rb(45,"div",16),r.Nb(46,"object",26),r.Rb(47,"label",27),r.tc(48,"Ch\u1ee7ng lo\u1ea1i"),r.Rb(49,"span",6),r.tc(50,"(*)"),r.Qb(),r.tc(51,":"),r.Qb(),r.Qb(),r.Rb(52,"div",22),r.Rb(53,"select",28),r.Rb(54,"option",24),r.tc(55,"Ch\u1ee7ng lo\u1ea1i"),r.Qb(),r.rc(56,wm,2,2,"option",25),r.Qb(),r.Qb(),r.rc(57,km,3,0,"div",14),r.Qb(),r.Rb(58,"div",4),r.Rb(59,"div",16),r.Nb(60,"object",29),r.Rb(61,"label",30),r.tc(62,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),r.Rb(63,"span",6),r.tc(64,"(*)"),r.Qb(),r.tc(65,":"),r.Qb(),r.Qb(),r.Rb(66,"input",31),r.Zb("change",(function(e){return r.mc(t),r.bc().showPreview(e)})),r.Qb(),r.rc(67,Cm,3,0,"div",14),r.rc(68,Am,2,1,"div",14),r.Rb(69,"div",32),r.rc(70,Em,5,1,"div",33),r.Qb(),r.Qb(),r.Rb(71,"div",4),r.Rb(72,"div",16),r.Nb(73,"object",34),r.Rb(74,"label",35),r.tc(75,"Th\xf4ng tin chi ti\u1ebft"),r.Rb(76,"span",6),r.tc(77,"(*)"),r.Qb(),r.tc(78,":"),r.Qb(),r.Qb(),r.Rb(79,"ckeditor",36),r.Zb("ready",(function(e){return r.mc(t),r.bc().onReady(e)})),r.Qb(),r.Rb(80,"div",13),r.rc(81,xm,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(82,"div",4),r.Rb(83,"div",16),r.Nb(84,"object",37),r.Rb(85,"label",38),r.tc(86,"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"),r.Rb(87,"span",6),r.tc(88," (*)"),r.Qb(),r.tc(89,":"),r.Qb(),r.Qb(),r.Nb(90,"input",39),r.Rb(91,"div",13),r.rc(92,Sm,2,0,"div",14),r.rc(93,Im,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(94,"div",4),r.Rb(95,"div",16),r.Nb(96,"object",40),r.Rb(97,"label",41),r.tc(98,"Th\u1eddi gian k\u1ebft th\xfac"),r.Rb(99,"span",6),r.tc(100," (*)"),r.Qb(),r.tc(101,":"),r.Qb(),r.Qb(),r.Nb(102,"input",42),r.Rb(103,"div",13),r.rc(104,Tm,2,0,"div",14),r.rc(105,Dm,2,0,"div",14),r.Qb(),r.Qb(),r.Rb(106,"div",43),r.Rb(107,"button",44),r.Nb(108,"object",45),r.Rb(109,"p"),r.tc(110,"\u0110\u1ea5u gi\xe1 s\u1ea3n ph\u1ea9m"),r.Qb(),r.Qb(),r.Rb(111,"button",46),r.Zb("click",(function(){return r.mc(t),r.bc().resetForm})),r.Nb(112,"object",47),r.Rb(113,"p"),r.tc(114,"Nh\u1eadp l\u1ea1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.formCreateProduct),r.Ab(14),r.fc("ngClass",t.formCreateProduct.controls.name.touched?t.formCreateProduct.controls.name.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.name.errors?null:t.formCreateProduct.controls.name.errors.required)&&t.formCreateProduct.controls.name.touched),r.Ab(1),r.fc("ngIf",t.formCreateProduct.controls.name.hasError("pattern")),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.initialPrice.touched?t.formCreateProduct.controls.initialPrice.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.initialPrice.errors?null:t.formCreateProduct.controls.initialPrice.errors.required)&&t.formCreateProduct.controls.initialPrice.touched),r.Ab(1),r.fc("ngIf",t.formCreateProduct.controls.initialPrice.hasError("pattern")),r.Ab(13),r.fc("ngForOf",t.priceStepList),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.priceStep.errors?null:t.formCreateProduct.controls.priceStep.errors.required)&&t.formCreateProduct.controls.priceStep.touched),r.Ab(13),r.fc("ngForOf",t.categoryList),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.category.errors?null:t.formCreateProduct.controls.category.errors.required)&&t.formCreateProduct.controls.category.touched),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.imageProduct.touched?t.formCreateProduct.controls.imageProduct.invalid?"is-invalid":"is-valid":""),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.imageProduct.errors?null:t.formCreateProduct.controls.imageProduct.errors.required)&&t.formCreateProduct.controls.imageProduct.touched),r.Ab(1),r.fc("ngIf",""!=t.messageImage),r.Ab(2),r.fc("ngForOf",t.img),r.Ab(9),r.fc("editor",t.Editor)("ngClass",t.formCreateProduct.controls.description.touched?t.formCreateProduct.controls.description.invalid?"is-invalid":"is-valid":""),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.controls.description.errors?null:t.formCreateProduct.controls.description.errors.required)&&t.formCreateProduct.controls.description.touched),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.startTime.touched?t.formCreateProduct.controls.startTime.invalid||null!=t.formCreateProduct.errors&&t.formCreateProduct.errors.checkStartTime?"is-invalid":"is-valid":""),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.errors?null:t.formCreateProduct.errors.checkStartTime)&&t.formCreateProduct.controls.startTime.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.startTime.errors?null:t.formCreateProduct.controls.startTime.errors.required)&&t.formCreateProduct.controls.startTime.touched),r.Ab(9),r.fc("ngClass",t.formCreateProduct.controls.endTime.touched?t.formCreateProduct.controls.endTime.invalid||null!=t.formCreateProduct.errors&&t.formCreateProduct.errors.checkStartTime?"is-invalid":"is-valid":""),r.Ab(2),r.fc("ngIf",(null==t.formCreateProduct.errors?null:t.formCreateProduct.errors.checkEndTime)&&t.formCreateProduct.controls.endTime.touched),r.Ab(1),r.fc("ngIf",(null==t.formCreateProduct.controls.endTime.errors?null:t.formCreateProduct.controls.endTime.errors.required)&&t.formCreateProduct.controls.endTime.touched)}}const Om=t=>new Date(t.get("startTime").value).getTime()-(new Date).getTime()<0?{checkStartTime:!0}:null,Nm=t=>{const e=new Date(t.get("startTime").value).getTime();console.log(e);const n=new Date(t.get("endTime").value).getTime();return console.log(n),n-e>2592e3&&e&&n||n-e<0?{checkEndTime:!0}:null};let Pm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this._formBuilder=t,this._productService=e,this._categoryService=n,this._priceStepService=r,this._userService=i,this._storage=o,this._imageProductService=s,this._toast=a,this._tokenService=c,this.Editor=Zf,this.categoryList=[],this.priceStepList=[],this.selectedImages=[],this.img=[],this.selectedFile=[],this.messageCreate="",this.messageImage=""}onReady(t){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}ngOnInit(){this._categoryService.getListCategory().subscribe(t=>{console.log("category",t),this.categoryList=t}),this._priceStepService.getListPriceStep().subscribe(t=>{this.priceStepList=t}),this._tokenService.isLogged()&&(this.currentUser=JSON.parse(this._tokenService.getUser())),this.formCreateProduct=this._formBuilder.group({id:["",[rs.required]],name:["",[rs.required,rs.pattern("^[A-Z][a-z]*([ ][A-Z][a-z]+)*$")]],description:["",[rs.required]],initialPrice:["",[rs.required,rs.min(0),rs.pattern("\\d+")]],startTime:["",[rs.required]],endTime:["",[rs.required]],imageProduct:["",[rs.required]],registerDay:["",[rs.required]],priceStep:["",[rs.required]],category:["",[rs.required]],user:[this.currentUser.id,[rs.required]]},{validators:[Om,Nm]})}addNewProduct(){this.productDto=this.formCreateProduct.value,console.log(this.productDto),this._productService.addProduct(this.productDto).subscribe(t=>{if(0!==this.img.length)for(let e=0;e<this.img.length;e++)this._imageProductService.create({url:this.img[e],product:t.id}).subscribe(()=>{});this._toast.success("Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u1ea5u gi\xe1 th\xe0nh c\xf4ng, \u0111\u1ee3i b\u1ed9 ph\u1eadn ki\u1ec3m duy\u1ec7t x\xe1c nh\u1eadn v\xe0 th\xf4ng b\xe1o b\u1ea1n sau nh\xe9 !")},t=>{this._toast.error("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c duy\u1ec7t, vui l\xf2ng nh\u1eadp ch\xednh x\xe1c \u0111i\u1ec1u ki\u1ec7n \u0111\u1ea5u gi\xe1")})}findUserById(t){this._userService.findUserById(t).subscribe(t=>{this.userFind=t,this.formCreateProduct.patchValue({user:this.userFind.id}),console.log(this.userFind)})}showPreview(t){if(this.messageImage="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i m\u1ed9t l\xe1t",t.target.files&&t.target.files[0]?((new FileReader).readAsDataURL(t.target.files[0]),this.selectedFile=t.target.files):this.selectedFile=[],console.log(this.selectedFile),0!==this.selectedFile.length)for(let e=0;e<this.selectedFile.length;e++){let t=this.selectedFile[e];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,t).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.messageImage="",this.img.push(t),console.log(t)})})).subscribe(()=>{})}}deleteImageNew(t){this.img.splice(t,1),this._toast.error("B\u1ea1n \u0111\xe3 x\xf3a 1 \u1ea3nh!")}resetFindUserById(t){t.removeAttribute("disabled")}resetForm(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ya),r.Mb(yc),r.Mb(Uc),r.Mb(qc),r.Mb(Hc),r.Mb(Eu),r.Mb(Iu),r.Mb($a),r.Mb(tc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-auction-product-add"]],decls:10,vars:1,consts:[[1,"container","p-0"],[1,"app__","row","d-flex","ms-auto"],[1,"boxed","ms-auto"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mb-2"],[1,"fst-italic",2,"font-size","15px"],[2,"color","red"],[1,"form",3,"formGroup","ngSubmit"],[1,"mt-2","text-center"],[1,"form-field","d-flex","align-items-center","mb-2"],["data","assets/icons/interface-edit.svg","width","20","height","20"],["for","name",1,"ms-2"],["formControlName","name","id","name","type","text","placeholder","Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["style","color: red",4,"ngIf"],[1,"d-flex","align-items-center","mb-2"],["data","assets/icons/dollar.svg","width","20","height","20"],["for","initialPrice",1,"ms-2"],["formControlName","initialPrice","id","initialPrice","type","text","placeholder","Nh\u1eadp gi\xe1 ban \u0111\u1ea7u",1,"form-control",3,"ngClass"],["data","assets/icons/money-increase.svg","width","20","height","20"],["for","priceStep",1,"ms-2"],[1,"input-group"],["id","priceStep","formControlName","priceStep",1,"form-select","w-50"],["value",""],[3,"value",4,"ngFor","ngForOf"],["data","assets/icons/category.svg","width","20","height","20"],["for","category",1,"ms-2"],["id","category","formControlName","category",1,"form-select","w-50"],["data","assets/icons/image.svg","width","20","height","20"],["for","image",1,"ms-2"],["id","image","type","file","multiple","","formControlName","imageProduct",1,"form-control",2,"width","60%",3,"ngClass","change"],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","8px"],["style","margin-right: 8px",4,"ngFor","ngForOf"],["data","assets/icons/information.svg","width","20","height","20"],["for","description",1,"ms-2"],["id","description","formControlName","description",1,"form-control",3,"editor","ngClass","ready"],["data","assets/icons/hour-end.svg","width","20","height","20"],["for","startTime",1,"form-label","ms-2"],["id","startTime","type","datetime-local","formControlName","startTime",1,"form-control",3,"ngClass"],["data","assets/icons/hour-start.svg","width","20","height","20"],["for","endTime",1,"form-label","ms-2"],["id","endTime","type","datetime-local","formControlName","endTime",1,"form-control",3,"ngClass"],[1,"d-flex","mt-3","mb-2","w-100"],["type","submit",1,"btn","btn-primary","d-flex","justify-content-center"],["data","assets/icons/legal-hammer.svg","width","20","height","20",1,"me-2","slide"],["type","reset",1,"btn","btn-outline","btn-outline-primary","ms-2","d-flex","justify-content-center",3,"click"],["data","assets/icons/back.svg","width","20","height","20",1,"me-2","slide"],[3,"value"],[2,"margin-right","8px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],["data","assets/icons/garbage.svg","width","20","height","20"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.rc(3,Rm,115,24,"form",3),r.Rb(4,"div",4),r.Rb(5,"span",5),r.tc(6," Tr\u01b0\u1eddng c\xf3 d\u1ea5u "),r.Rb(7,"span",6),r.tc(8," (*)"),r.Qb(),r.tc(9," l\xe0 b\u1eaft bu\u1ed9c,kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(3),r.fc("ngIf",e.formCreateProduct))},directives:[gt,oa,Jo,ca,qo,Zo,ga,dt,ks,Cs,Ss,ft,fm],styles:["*[_ngcontent-%COMP%]{font-family:Noto Sans,serif!important;box-sizing:border-box!important;border:0;font-size:16px;font:inherit;vertical-align:baseline}h1[_ngcontent-%COMP%]{font-size:32px}body[_ngcontent-%COMP%]{width:100vw;height:100vh}.boxed[_ngcontent-%COMP%]{width:700px;max-height:950px;border-image-slice:1;border:5px solid #bdd6ec;padding:0 20px;border-radius:8px;background-color:transparent;box-shadow:4px 2px 4px 1px #eef3f7;background-color:#eef3f7!important;overflow:auto}button[_ngcontent-%COMP%]{width:200px;border-radius:20px}.app__[_ngcontent-%COMP%]{margin-right:0;margin-left:12px;background-size:cover;background-image:url(https://media.istockphoto.com/id/934890574/photo/law-and-justice-concept.jpg?c=RAo4rrJPoTJjz2QRWrKr-Z68H2Xg8XjnIbyIBaVDQ0k%3D&k=20&s=612x612&w=0)}.slide[_ngcontent-%COMP%]{animation:slide 3s cubic-bezier(.25,.46,.45,.94) both;animation-iteration-count:infinite;animation-delay:.2ms}@keyframes slide{0%{transform:translateY(0)}10%{transform:translateY(1px)}20%{transform:translateY(2px)}30%{transform:translateY(2px)}40%{transform:translateY(1px)}50%{transform:translateY(0)}60%{transform:translateY(-1px)}70%{transform:translateY(-2px)}80%{transform:translateY(-2px)}90%{transform:translateY(-1px)}to{transform:translateY(0)}}input[type=file][_ngcontent-%COMP%]::file-selector-button{background-color:#0d6efd;color:#fff}input[type=file][_ngcontent-%COMP%]:hover::file-selector-button{background-color:#0d6efd!important;color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:1200px!important;background-color:transparent!important;border:none}@media (min-width:576px){.modal-dialog[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}.btn-close[_ngcontent-%COMP%]{position:absolute;left:28px;top:28px;width:50px}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px 1px 4px rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}"]}),t})(),Mm=(()=>{class t{constructor(t){this._httpClient=t}create(t){return this._httpClient.post(o.API_URL_GUIDE+"/image",t)}getListImage(t){return this._httpClient.get(o.API_URL_GUIDE+"/image/find/"+t)}delete(t){return this._httpClient.delete(o.API_URL_GUIDE+"/image/delete/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(_o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"Ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Qb(),r.Qb())}function jm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"T\xean ch\u1ee7 \u0111\u1ec1 qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn<10-100>."),r.Qb(),r.Qb())}function Fm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"T\xean ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t."),r.Qb(),r.Qb())}function Bm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"N\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Qb(),r.Qb())}function zm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"N\u1ed9i dung qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn <30-2000>."),r.Qb(),r.Qb())}function Qm(t,e){if(1&t&&(r.Rb(0,"p"),r.tc(1),r.Qb()),2&t){const t=r.bc();r.Ab(1),r.uc(t.messageCreate)}}function Vm(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"div",25),r.Nb(2,"img",26),r.Rb(3,"span",27),r.Zb("click",(function(){r.mc(t);const n=e.index,i=r.bc(),o=r.lc(42);return i.deleteImageNew(n),o.value=""})),r.Nb(4,"i",28),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t,r.oc)}}let Um=(()=>{class t{constructor(t,e,n,r,i,o){this._guideService=t,this._formBuilder=e,this._storage=n,this._imgUrlGuideService=r,this._activatedRouter=i,this._toastService=o,this.selectedImages=[],this.imgCreate=[],this.Editor=Zf}ngOnInit(){this.guideForm=this._formBuilder.group({title:["",[rs.required,rs.minLength(10),rs.maxLength(100),rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef90-9,.?! ]*$")]],content:["",[rs.required,rs.minLength(30),rs.maxLength(2e3)]]})}createGuide(){this._guideService.create(this.guideForm.value).subscribe(t=>{if(this._toastService.success("Th\xeam m\u1edbi h\u01b0\u1edbng d\u1eabn th\xe0nh c\xf4ng","Create Guide!",{positionClass:"toast-bottom-right",timeOut:4e3}),0!==this.imgCreate.length)for(let e=0;e<this.imgCreate.length;e++){const n={url:this.imgCreate[e],guideId:t.id};console.log(n),this._imgUrlGuideService.create(n).subscribe(()=>{console.log("SUCCESS CREATE IMAGE")})}})}showPreview(t){t.target.files&&t.target.files[0]?((new FileReader).readAsDataURL(t.target.files[0]),this.selectedImages=t.target.files):this.selectedImages=[],0!==this.selectedImages.length&&(setTimeout(()=>{this.messageCreate="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i.......";for(let t=0;t<this.selectedImages.length;t++){let e=this.selectedImages[t];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,e).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.imgCreate.push(t),this.messageCreate=""})})).subscribe(()=>{})}},3e3),console.log(this.imgCreate))}deleteImageNew(t){this.imgCreate.splice(t,1),console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Lo),r.Mb(ya),r.Mb(Eu),r.Mb(Mm),r.Mb(Ar),r.Mb($a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-guide-add"]],decls:55,vars:12,consts:[[1,"container"],[1,"center"],[1,"guide","w-50",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],[1,"row"],["for","title",1,"form-label"],[2,"color","red"],["formControlName","title","id","title","type","text","placeholder"," Ch\u1ecdn ch\u1ee7 \u0111\u1ec1",1,"form-control"],[1,"col-lg-6"],[1,"guide",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],["id","guideform",3,"formGroup","ngSubmit"],["formControlName","title","id","title","type","text","placeholder"," Ch\u1ecdn ch\u1ee7 \u0111\u1ec1",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],["for","floatingTextarea"],["formControlName","content","rows","6","placeholder","Ghi n\u1ed9i dung \u1edf \u0111\xe2y","id","floatingTextarea",1,"form-control",3,"editor","ngClass"],["for","file",1,"form-label"],["type","file","id","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",3,"change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","20px"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["type","reset",1,"btn","btn-primary","w-100","mt-10",2,"margin-top","10px"],[1,"row","bdg","d-flex","align-items-center","w-50"],[1,"d-block","w-50"],["src","https://img.lovepik.com/free-png/20211213/lovepik-blue-notebook-png-image_401565364_wh1200.png","alt","",2,"width","600px","height","500px","margin-top","100px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"h3",1),r.tc(2,"T\u1ea1o M\u1edbi H\u01b0\u1edbng D\u1eabn"),r.Qb(),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"label",4),r.tc(6,"Ch\u1ee7 \u0111\u1ec1 ("),r.Rb(7,"span",5),r.tc(8,"*"),r.Qb(),r.tc(9,")"),r.Qb(),r.Nb(10,"input",6),r.Qb(),r.Rb(11,"div",3),r.Rb(12,"div",7),r.Rb(13,"h3",1),r.tc(14,"T\u1ea1o M\u1edbi H\u01b0\u1edbng D\u1eabn"),r.Qb(),r.Rb(15,"div",8),r.Rb(16,"form",9),r.Zb("ngSubmit",(function(){return e.createGuide()})),r.Rb(17,"div",3),r.Rb(18,"label",4),r.tc(19,"Ch\u1ee7 \u0111\u1ec1 ("),r.Rb(20,"span",5),r.tc(21,"*"),r.Qb(),r.tc(22,")"),r.Qb(),r.Nb(23,"input",10),r.Rb(24,"div",11),r.rc(25,Lm,3,0,"div",12),r.rc(26,jm,3,0,"div",12),r.rc(27,Fm,3,0,"div",12),r.Qb(),r.Qb(),r.Rb(28,"div",3),r.Rb(29,"label",13),r.tc(30,"N\u1ed9i dung ("),r.Rb(31,"span",5),r.tc(32,"*"),r.Qb(),r.tc(33,")"),r.Qb(),r.Nb(34,"ckeditor",14),r.Rb(35,"div",11),r.rc(36,Bm,3,0,"div",12),r.rc(37,zm,3,0,"div",12),r.Qb(),r.Qb(),r.Rb(38,"div",3),r.Rb(39,"label",15),r.tc(40,"Ch\u1ecdn h\xecnh \u1ea3nh"),r.Qb(),r.Rb(41,"input",16,17),r.Zb("change",(function(t){return e.showPreview(t)})),r.Qb(),r.Qb(),r.Rb(43,"div",18),r.rc(44,Qm,2,1,"p",12),r.rc(45,Vm,5,1,"div",19),r.Qb(),r.Rb(46,"div",1),r.Rb(47,"button",20),r.tc(48," Th\xeam H\u01b0\u1edbng d\u1eabn "),r.Qb(),r.Rb(49,"button",21),r.tc(50," \u0110\u1eb7t L\u1ea1i "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(51,"div",7),r.Rb(52,"div",22),r.Rb(53,"div",23),r.Nb(54,"img",24),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(16),r.fc("formGroup",e.guideForm),r.Ab(7),r.fc("ngClass",e.guideForm.controls.title.touched&&e.guideForm.controls.title.invalid?"is-invalid":e.guideForm.controls.title.touched&&e.guideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==e.guideForm.controls.title.errors?null:e.guideForm.controls.title.errors.required),r.Ab(1),r.fc("ngIf",(null==e.guideForm.controls.title.errors?null:e.guideForm.controls.title.errors.minlength)||(null==e.guideForm.controls.title.errors?null:e.guideForm.controls.title.errors.maxlength)),r.Ab(1),r.fc("ngIf",null==e.guideForm.controls.title.errors?null:e.guideForm.controls.title.errors.pattern),r.Ab(7),r.fc("editor",e.Editor)("ngClass",e.guideForm.controls.content.touched&&e.guideForm.controls.content.invalid?"is-invalid":e.guideForm.controls.content.touched&&e.guideForm.controls.content.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==e.guideForm.controls.content.errors?null:e.guideForm.controls.content.errors.required),r.Ab(1),r.fc("ngIf",(null==e.guideForm.controls.content.errors?null:e.guideForm.controls.content.errors.minlength)||(null==e.guideForm.controls.content.errors?null:e.guideForm.controls.content.errors.maxlength)),r.Ab(7),r.fc("ngIf",""!=e.messageCreate),r.Ab(1),r.fc("ngForOf",e.imgCreate),r.Ab(2),r.fc("disabled",!e.guideForm.valid))},directives:[qo,Zo,ga,oa,Jo,ca,dt,gt,fm,ft],styles:["form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#464646}.center[_ngcontent-%COMP%]{padding-top:30px}.guide[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:24px}#guideform[_ngcontent-%COMP%]{padding:32px}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}[_nghost-%COMP%]     .ck .ck-toolbar{font-size:17px}"]}),t})();function qm(t,e){1&t&&(r.Rb(0,"h3"),r.tc(1,"No data"),r.Qb())}function Hm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"Ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Qb(),r.Qb())}function Gm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"T\xean ch\u1ee7 \u0111\u1ec1 qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn<10-100>."),r.Qb(),r.Qb())}function Wm(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"T\xean ch\u1ee7 \u0111\u1ec1 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ee9a k\xfd t\u1ef1 \u0111\u1eb7c bi\u1ec7t."),r.Qb(),r.Qb())}function Km(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"N\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng."),r.Qb(),r.Qb())}function $m(t,e){1&t&&(r.Rb(0,"div"),r.Rb(1,"span"),r.tc(2,"N\u1ed9i dung qu\xe1 d\xe0i ho\u1eb7c qu\xe1 ng\u1eafn<30-2000>."),r.Qb(),r.Qb())}function Ym(t,e){if(1&t&&(r.Rb(0,"span"),r.tc(1),r.Qb()),2&t){const t=r.bc(2);r.Ab(1),r.uc(t.messageCreate)}}function Zm(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",26),r.Rb(1,"div",27),r.Nb(2,"img",28),r.Rb(3,"span",29),r.Zb("click",(function(){r.mc(t);const n=e.index,i=e.$implicit;return r.bc(2).deleteImage(n,i)})),r.Nb(4,"i",30),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t.url,r.oc)}}function Jm(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",26),r.Rb(1,"div",27),r.Nb(2,"img",28),r.Rb(3,"span",29),r.Zb("click",(function(){r.mc(t);const n=e.index;r.bc();const i=r.lc(27);return r.bc().deleteImageNew(n),i.value=""})),r.Nb(4,"i",30),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.gc("src",t,r.oc)}}function Xm(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",11),r.Zb("ngSubmit",(function(){return r.mc(t),r.bc().updateGuide()})),r.Nb(1,"input",12),r.Rb(2,"div",1),r.Rb(3,"label",13),r.tc(4,"Ch\u1ee7 \u0111\u1ec1 ("),r.Rb(5,"span",14),r.tc(6,"*"),r.Qb(),r.tc(7,")"),r.Qb(),r.Nb(8,"input",15),r.Rb(9,"div",16),r.rc(10,Hm,3,0,"div",5),r.rc(11,Gm,3,0,"div",5),r.rc(12,Wm,3,0,"div",5),r.Qb(),r.Qb(),r.Rb(13,"div",1),r.Rb(14,"label",17),r.tc(15,"N\u1ed9i dung ("),r.Rb(16,"span",14),r.tc(17,"*"),r.Qb(),r.tc(18,")"),r.Qb(),r.Nb(19,"ckeditor",18),r.Rb(20,"div",16),r.rc(21,Km,3,0,"div",5),r.rc(22,$m,3,0,"div",5),r.Qb(),r.Qb(),r.Rb(23,"div",1),r.Rb(24,"label",19),r.tc(25,"S\u1eeda h\xecnh \u1ea3nh(Th\xeam ho\u1eb7c x\xf3a)"),r.Qb(),r.Rb(26,"input",20,21),r.Zb("change",(function(e){return r.mc(t),r.bc().showPreview(e)})),r.Qb(),r.Rb(28,"div",22),r.rc(29,Ym,2,1,"span",5),r.rc(30,Zm,5,1,"div",23),r.rc(31,Jm,5,1,"div",23),r.Qb(),r.Qb(),r.Rb(32,"div",3),r.Rb(33,"button",24),r.tc(34," S\u1eeda H\u01b0\u1edbng d\u1eabn "),r.Qb(),r.Rb(35,"button",25),r.Zb("click",(function(){return r.mc(t),r.bc().resetEditForm()})),r.tc(36," \u0110\u1eb7t L\u1ea1i "),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.editGuideForm),r.Ab(8),r.fc("ngClass",t.editGuideForm.controls.title.touched&&t.editGuideForm.controls.title.invalid?"is-invalid":t.editGuideForm.controls.title.touched&&t.editGuideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==t.editGuideForm.controls.title.errors?null:t.editGuideForm.controls.title.errors.required),r.Ab(1),r.fc("ngIf",(null==t.editGuideForm.controls.title.errors?null:t.editGuideForm.controls.title.errors.minlength)||(null==t.editGuideForm.controls.title.errors?null:t.editGuideForm.controls.title.errors.maxlength)),r.Ab(1),r.fc("ngIf",null==t.editGuideForm.controls.title.errors?null:t.editGuideForm.controls.title.errors.pattern),r.Ab(7),r.fc("editor",t.Editor)("ngClass",t.editGuideForm.controls.content.touched&&t.editGuideForm.controls.content.invalid?"is-invalid":t.editGuideForm.controls.content.touched&&t.editGuideForm.controls.title.valid?"is-valid":""),r.Ab(2),r.fc("ngIf",null==t.editGuideForm.controls.content.errors?null:t.editGuideForm.controls.content.errors.required),r.Ab(1),r.fc("ngIf",(null==t.editGuideForm.controls.content.errors?null:t.editGuideForm.controls.content.errors.minlength)||(null==t.editGuideForm.controls.content.errors?null:t.editGuideForm.controls.content.errors.maxlength)),r.Ab(7),r.fc("ngIf",""!=t.messageCreate),r.Ab(1),r.fc("ngForOf",t.imgs),r.Ab(1),r.fc("ngForOf",t.imgCreate),r.Ab(2),r.fc("disabled",!t.editGuideForm.valid)}}let tb=(()=>{class t{constructor(t,e,n,r,i,o){this._guideService=t,this._formBuilder=e,this._storage=n,this._imgUrlGuideService=r,this._activatedRouter=i,this._toastService=o,this.Editor=Zf,this.selectedImages=[],this.imgs=[],this.imgCreate=[],this.idImageList=[]}ngOnInit(){this._activatedRouter.paramMap.subscribe(t=>{this.id=+t.get("id"),this._imgUrlGuideService.getListImage(this.id).subscribe(t=>{console.log(t),this.imgs=t})}),this._guideService.getGuideById(this.id).subscribe(t=>{console.log(t),this.editGuideForm=this._formBuilder.group({id:[t.id],title:[t.title,[rs.required,rs.minLength(10),rs.maxLength(100),rs.pattern("^[a-zA-Z_\xc0\xc1\xc2\xc3\xc8\xc9\xca\u1ebe\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\u1ebf\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef90-9,.?! ]*$")]],content:[t.content,[rs.required,rs.minLength(30),rs.maxLength(2e3)]]})})}updateGuide(){if(this.editGuideForm.valid&&(this.guide=this.editGuideForm.value,console.log(this.editGuideForm.value),this._guideService.update(this.guide).subscribe(t=>{if(this._toastService.success("C\u1eadp nh\u1eadt h\u01b0\u1edbng d\u1eabn th\xe0nh c\xf4ng","Update Guide!",{positionClass:"toast-bottom-right",timeOut:4e3}),0!==this.imgCreate.length)for(let e=0;e<this.imgCreate.length;e++){const t={url:this.imgCreate[e],guideId:this.guide.id};console.log(t),this._imgUrlGuideService.create(t).subscribe(()=>{console.log("SUCCESSFULLY CREATE")})}}),0!==this.idImageList.length))for(let t=0;t<this.idImageList.length;t++)console.log(this.idImageList[t]),this.deleteImageById(this.idImageList[t])}showPreview(t){t.target.files&&t.target.files[0]?((new FileReader).readAsDataURL(t.target.files[0]),this.selectedImages=t.target.files):this.selectedImages=[],console.log(this.selectedImages),0!==this.selectedImages.length&&setTimeout(()=>{this.messageCreate="\u0110ang t\u1ea3i \u1ea3nh vui l\xf2ng \u0111\u1ee3i.......";for(let t=0;t<this.selectedImages.length;t++){let e=this.selectedImages[t];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,e).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.imgCreate.push(t),this.messageCreate=""})})).subscribe(()=>{})}},3e3),console.log(this.imgCreate)}deleteImage(t,e){this.idImageList.push(e.id),this.imgs.splice(t,1),console.log(e)}deleteImageNew(t){this.imgCreate.splice(t,1),console.log(t)}deleteImageById(t){this._imgUrlGuideService.delete(t).subscribe(t=>{})}resetEditForm(){this.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Lo),r.Mb(ya),r.Mb(Eu),r.Mb(Mm),r.Mb(Ar),r.Mb($a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-guide-edit"]],decls:12,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-md-6"],[1,"center"],[1,"guide","w-100",2,"box-shadow","1px 1px 12px rgba(0, 0, 0, 0.35)"],[4,"ngIf"],["id","guideform","name","guide",3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-lg-6"],[1,"row","bdg","d-flex","align-items-center","w-50"],[1,"d-block","w-50"],["src","https://img.lovepik.com/free-png/20211213/lovepik-blue-notebook-png-image_401565364_wh1200.png","alt","",2,"width","600px","height","700px","margin-top","100px"],["id","guideform","name","guide",3,"formGroup","ngSubmit"],["formControlName","id","hidden",""],["for","title",1,"form-label"],[2,"color","red"],["formControlName","title","id","title","type","text",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["for","floatingTextarea"],["formControlName","content","rows","7","placeholder","Leave a content here","id","floatingTextarea",1,"form-control",3,"editor","ngClass"],[1,"form-label"],["type","file","multiple","",1,"form-control",3,"change"],["file",""],[1,"d-flex","justify-content-left",2,"overflow-x","scroll","margin-top","20px"],["style","margin-right: 10px",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["type","button",1,"btn","btn-primary","w-100","mt-10",2,"margin-top","10px",3,"click"],[2,"margin-right","10px"],[2,"position","relative"],[1,"d-block",2,"height","84px",3,"src"],["aria-label","Close",1,"remove_img",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"h3",3),r.tc(4," Ch\u1ec9nh S\u1eeda H\u01b0\u1edbng D\u1eabn"),r.Qb(),r.Rb(5,"div",4),r.rc(6,qm,2,0,"h3",5),r.rc(7,Xm,37,13,"form",6),r.Qb(),r.Qb(),r.Rb(8,"div",7),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Nb(11,"img",10),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(6),r.fc("ngIf",!e.editGuideForm),r.Ab(1),r.fc("ngIf",e.editGuideForm))},directives:[gt,oa,Jo,ca,qo,Zo,ga,dt,fm,ft],styles:["form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#464646}.center[_ngcontent-%COMP%]{padding-top:30px}.guide[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:24px}#guideform[_ngcontent-%COMP%]{padding:32px}.remove_img[_ngcontent-%COMP%]{padding:3px;position:absolute;bottom:0;right:0;margin:0;box-shadow:1px,1px,4px,rgba(0,0,0,.35);display:block;background-color:rgba(255,0,0,.6509803921568628);border-radius:2px;color:#fff;cursor:pointer}"]}),t})();n("6Uf2"),(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(T_){o(T_)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ra(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function u(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==d(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function C(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t){return t}function E(t,e,n){this.code=I+t,this.message=e||T[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new E(e.substring(I.length),t.message,t.serverResponse):null}C(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var S,I="auth/",T={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function M(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}S=R("__EID__")?"__EID__":void 0,C(N,Error),N.prototype.name="CustomError",C(P,N),P.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new L((function(){return new Q}),(function(t){t.reset()}));function z(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Q.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=V(t,e)}function K(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ut=lt.userAgent;if(ut){J=ut;break t}}J=""}function dt(t){return at(J,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===kt&&e||"",this.b=wt}function yt(t){return t instanceof vt&&t.constructor===vt&&t.b===wt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ta=!0,vt.prototype.sa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,wt={},kt={};function Ct(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(n){s.console&&s.console.error(n.message)}_t=t}else _t=t}return _t}function At(t,e){this.a=e===Tt?t:""}function Et(t){return t instanceof At&&t.constructor===At?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=yt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ct();return new At(t=e?e.createScriptURL(t):t,Tt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?yt(t):encodeURIComponent(String(t))})))}At.prototype.ta=!0,At.prototype.sa=function(){return this.a.toString()},At.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={};function Dt(t,e){this.a=e===jt?t:""}function Rt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Dt.prototype.ta=!0,Dt.prototype.sa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t))t=new Dt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Nt);t=e&&Ot.test(e[1])?new Dt(t,jt):null}return t}function Lt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,jt))}var jt={},Ft=new Dt("about:invalid#zClosurez",jt);function Bt(t,e,n){this.a=n===zt?t:""}Bt.prototype.ta=!0,Bt.prototype.sa=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function Qt(t,e,n,r){return t=t instanceof Dt?t:Lt(t),e=e||s,n=n instanceof vt?yt(n):n||"",e.open(Rt(t),n,r,void 0)}function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ut(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=u;var Ht,Gt,Wt=dt("Opera"),Kt=dt("Trident")||dt("MSIE"),$t=dt("Edge"),Yt=$t||Kt,Zt=dt("Gecko")&&!(at(J.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Jt=at(J.toLowerCase(),"webkit")&&!dt("Edge");function Xt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=(Gt=J,Zt?/rv:([^\);]+)(\)|;)/.exec(Gt):$t?/Edge\/([\d\.]+)/.exec(Gt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Jt?/WebKit\/(\S+)/.exec(Gt):Wt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ee&&(te=ee?ee[1]:""),Kt){var ne=Xt();if(null!=ne&&ne>parseFloat(te)){Ht=String(ne);break t}}Ht=te}var re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=X(String(Ht)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var oe=s.document&&Kt&&(Xt()||parseInt(Ht,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var se=!Kt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,ue,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!h(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(f(o)){s="function"==typeof o.item;break t}}s=!1}U(s?Z(o):o,r)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout((function(){throw t}),0)}function ge(t,e){ue||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ue=function(){t.then(ve)}}else ue=function(){var t=ve;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!dt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),me||(ue(),me=!0),be.add(t,e)}var me=!1,be=new F;function ve(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){pe(e)}j(B,t)}me=!1}function ye(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,(function(t){Oe(n,we,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(kR){}Oe(n,ke,t)}))}catch(r){Oe(this,ke,r)}}var _e=0,we=2,ke=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ae=new L((function(){return new Ce}),(function(t){t.reset()}));function Ee(t,e,n){var r=Ae.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof ye)return t;var e=new ye(u);return Oe(e,we,t),e}function Se(t){return new ye((function(e,n){n(t)}))}function Ie(t,e,n){Ne(t,e,n,null)||ge(w(e,t))}function Te(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ie(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){t.b||t.a!=we&&t.a!=ke||Pe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Ee(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,De(t,i),i.a}function Oe(t,e,n){t.a==_e&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Pe(t),e!=ke||n instanceof Be||function(t,e){t.g=!0,ge((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Ne(t,e,n,r){if(t instanceof ye)return De(t,Ee(e||u,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Pe(t){t.h||(t.h=!0,ge(t.gc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(kR){Fe.call(null,kR)}j(Ae,e)}function je(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Re(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=Ee(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Be(t);ge((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==_e&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),Le(r,o,ke,n)))}e.c=null}else Oe(e,ke,n)}(this,e)}),this)}},t.$c=function(t){this.a=_e,Oe(this,we,t)},t.ad=function(t){this.a=_e,Oe(this,ke,t)},t.gc=function(){for(var t;t=Me(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=pe;function Be(t){N.call(this,t)}function ze(){0!=Qe&&(Ve[g(this)]=this),this.ya=this.ya,this.pa=this.pa}C(Be,N),Be.prototype.name="cancel";var Qe=0,Ve={};function Ue(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Qe)){var e=g(t);if(0!=Qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}ze.prototype.ya=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var qe=Object.freeze||function(t){return t},He=!Kt||9<=Number(oe),Ge=Kt&&!ie("9"),We=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",u,e),s.removeEventListener("test",u,e)}catch(n){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},C($e,Ke);var Ye=qe({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Xe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function tn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new Xe(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=vn(n),t&&t[Ze]?_n(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=mn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)We||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=vn(n),t&&t[Ze]?wn(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=vn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ze])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function hn(t){return t in sn?sn[t]:sn[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function gn(t,e){if(t.wa)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new $e(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return f(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function yn(){ze.call(this),this.v=new en(this),this.bc=this,this.hb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,c=s.Wa||s.src;s.Qa&&nn(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(f(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function An(t){var e=null;return new ye((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(yn,ze),yn.prototype[Ze]=!0,yn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;mt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=kn(s,r,!0,t)&&i}if(i=kn(s=t.b=n,r,!0,t)&&i,i=kn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Sn.prototype).X=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Nn(this,t.g),this.f=t.f,Pn(this,Xn(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Nn(this,n[4]),this.f=Bn(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Wn(null,this.i))}function On(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof Wn?(t.b=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,Hn)),t.b=new Wn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function jn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Fn(t,e,n,r){var i=new Rn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Nn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?qn:Un,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Gn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Nn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Xn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Un=/[#\?:]/g,qn=/[#\?]/g,Hn=/[#\?@]/g,Gn=/#/g;function Wn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Wn(null,void 0);t=En(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Kn(t),e=tr(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Zn(t,e){return Kn(t),e=tr(t,e),Tn(t.a.b,e)}function Jn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Z(n)),t.b+=n.length)}function Xn(t){var e=new Wn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=Wn.prototype).add=function(t,e){Kn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Kn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Kn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Y(e,this.a.get(tr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,Zn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Ar();return Kt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ar(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Rt(Mt(t)||Ft)),e.location.href=n}function lr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ur(t){t=t||s.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),wr(Ar())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Mt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Lt(e),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Qt("",r,n,s),t=Rt(e),s&&(Yt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">',t=new Bt(t=(r=Ct())?r.createHTML(t):t,null,zt),r=s.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new ye((function(e){"complete"==s.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function gr(t){return t=t||Ar(),!("file:"!==Tr()&&"ionic:"!==Tr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function vr(){return Jc.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Jc.default.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function yr(){var t=vr();return"ReactNative"===t||"Node"===t}var _r="Firefox";function wr(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?_r:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=vr())?r=wr(i=Ar()):"Worker"===r&&(r=wr(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xr(){try{var t=s.localStorage,e=Pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Sr(){return(Ir()||"chrome-extension:"===Tr()||gr())&&!yr()&&xr()&&!br()}function Ir(){return"http:"===Tr()||"https:"===Tr()}function Tr(){return s.location&&s.location.protocol||null}function Dr(t){return!lr(t=t||Ar())&&wr(t)!=_r}function Rr(t){return void 0===t?null:er(t)}function Or(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Nr(t){if(null!==t)return JSON.parse(t)}function Pr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=wr(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=vr(),this.b=lr(t)||"ReactNative"===e}function Fr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Er("fireauth.oauthhelper",s)&&!Er("fireauth.iframe",s))}jr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ir()&&"chrome-extension:"!==Tr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,Vr={};function Ur(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==qr.abcd}catch(Gt){Qr=!1}function Hr(t,e,n){Qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Gr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hr(t,n,e[n])}function Wr(t){var e={};return Gr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hr(e,n,Kr(t[n]));return e}function $r(t){var e=t&&(t[ti]?"phone":null);if(!(e&&t&&t[Xr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Hr(this,"uid",t[Xr]),Hr(this,"displayName",t[Zr]||null);var n=null;t[Jr]&&(n=new Date(t[Jr]).toUTCString()),Hr(this,"enrollmentTime",n),Hr(this,"factorId",e)}function Yr(t){try{var e=new ei(t)}catch(n){e=null}return e}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",Jr="enrolledAt",Xr="mfaEnrollmentId",ti="phoneInfo";function ei(t){$r.call(this,t),Hr(this,"phoneNumber",t[ti])}function ni(t){var e={},n=t[si],r=t[ci],i=t[li];if(t=Yr(t[ai]),!i||i!=ii&&i!=oi&&!n||i==oi&&!r||i==ri&&!t)throw Error("Invalid checkActionCode response!");i==oi?(e[di]=n||null,e[fi]=n||null,e[ui]=r):(e[di]=r||null,e[fi]=r||null,e[ui]=n||null),e[hi]=t||null,Hr(this,gi,i),Hr(this,pi,Kr(e))}C(ei,$r),ei.prototype.w=function(){var t=ei.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ri="REVERT_SECOND_FACTOR_ADDITION",ii="EMAIL_SIGNIN",oi="VERIFY_AND_CHANGE_EMAIL",si="email",ai="mfaInfo",ci="newEmail",li="requestType",ui="email",di="fromEmail",hi="multiFactorInfo",fi="previousEmail",pi="data",gi="operation";function mi(t){var e=Ln(t=jn(t),bi)||null,n=Ln(t,vi)||null,r=Ln(t,wi)||null;if(r=r&&Ci[r]||null,!e||!n||!r)throw new E("argument-error",bi+", "+vi+"and "+wi+" are required in a valid action code URL.");Gr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,yi)||null,languageCode:Ln(t,_i)||null,tenantId:Ln(t,ki)||null})}var bi="apiKey",vi="oobCode",yi="continueUrl",_i="languageCode",wi="mode",ki="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ri,signIn:ii,verifyAndChangeEmail:oi,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new mi(t)}catch(e){return null}}function Ei(t){var e=t[Di];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xi];if(n&&"object"==typeof n){e=n[Ni];var r=n[Ri];if(n=n[Oi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Oi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",xi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ti])&&"object"==typeof e){if("string"==typeof(e=e[Pi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Pi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ti+" property must be a non null object when specified.");if(void 0!==(e=t[Ii])&&"boolean"!=typeof e)throw new E("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Si])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Si+" property must be a non empty string when specified.");this.i=t||null}var xi="android",Si="dynamicLinkDomain",Ii="handleCodeInApp",Ti="iOS",Di="url",Ri="installApp",Oi="minimumVersion",Ni="packageName",Pi="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Li=null;function ji(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Fi(t){try{return new ji(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Li){Li={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(c){}return null}ji.prototype.T=function(){return this.f},ji.prototype.l=function(){return this.c},ji.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Vi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ui(t){for(var e in Vi)if(Vi[e].fa==t)return Vi[e];return null}function qi(t){var e={};e["facebook.com"]=$i,e["google.com"]=Zi,e["github.com"]=Yi,e["twitter.com"]=Ji;var n=t&&t[Gi];try{if(n)return e[n]?new e[n](t):new Ki(t);if(void 0!==t[Hi])return new Wi(t)}catch(r){}return null}var Hi="idToken",Gi="providerId";function Wi(t){var e=t[Gi];if(!e&&t[Hi]){var n=Fi(t[Hi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hr(this,"providerId",e),Hr(this,"isNewUser",n)}function Ki(t){Wi.call(this,t),Hr(this,"profile",Kr((t=Nr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",t.screenName||null)}function Xi(t){var e=jn(t),n=Ln(e,"link"),r=Ln(jn(n),"link");return e=Ln(e,"deep_link_id"),Ln(jn(e),"link")||e||r||n||t}function to(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?eo:no}C(Ki,Wi),C($i,Ki),C(Yi,Ki),C(Zi,Ki),C(Ji,Ki);var eo="enroll",no="signin";function ro(){}function io(t,e){return t.then((function(t){if(t[qs]){var n=Fi(t[qs]);if(!n||e!=n.i)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new E("user-mismatch"):t}))}function oo(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Hr(this,"providerId",t),Hr(this,"signInMethod",t)}function so(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ao(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new oo(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hr(this,"idToken",e.idToken),e.accessToken&&Hr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Hr(this,"accessToken",e.oauthToken),Hr(this,"secret",e.oauthTokenSecret)}Hr(this,"providerId",t),Hr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function ho(t,e){this.Qc=e||[],Gr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Ui(t)||{}).Ja||null,this.pb=null}function fo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ho.call(this,t,[])}function po(t){ho.call(this,t,Qi),this.a=[]}function go(){po.call(this,"facebook.com")}function mo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function bo(){po.call(this,"github.com")}function vo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function yo(){po.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function wo(){ho.call(this,"twitter.com",zi)}function ko(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Hr(this,"providerId","password"),Hr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function Eo(){Gr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=So(e)))throw new E("argument-error","Invalid email link!");return new Co(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=Ai(t=Xi(t)))&&t.operation===ii?t:null}function Io(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new E("internal-error");this.a=t,Hr(this,"providerId","phone"),this.fa="phone",Hr(this,"signInMethod","phone")}function To(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Ro(t){try{this.a=t||Jc.default.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Gr(this,{providerId:"phone",isOAuthProvider:!1})}function Oo(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Io({fb:t,eb:e})}function No(t){if(t.temporaryProof&&t.phoneNumber)return new Io({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return mo(n);case"github.com":return vo(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new oo(e,s):new co(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new po(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Po(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Lo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function jo(){this.b=null,this.a=[]}to.prototype.Ha=function(){return xe(this.a?this.a:this.b)},to.prototype.w=function(){return this.type==eo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ro.prototype.ka=function(){},ro.prototype.b=function(){},ro.prototype.c=function(){},ro.prototype.w=function(){},oo.prototype.ka=function(t){return da(t,so(this))},oo.prototype.b=function(t,e){var n=so(this);return n.idToken=e,ha(t,n)},oo.prototype.c=function(t,e){return io(fa(t,so(this)),e)},oo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ka=function(t){return da(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ha(t,n)},co.prototype.c=function(t,e){return io(fa(t,lo(this)),e)},co.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ho.prototype.Ka=function(t){return this.Jb=pt(t),this},C(fo,ho),C(po,ho),po.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},po.prototype.Rb=function(){return Z(this.a)},po.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},C(go,po),Hr(go,"PROVIDER_ID","facebook.com"),Hr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(bo,po),Hr(bo,"PROVIDER_ID","github.com"),Hr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),C(yo,po),Hr(yo,"PROVIDER_ID","google.com"),Hr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(wo,ho),Hr(wo,"PROVIDER_ID","twitter.com"),Hr(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ka(t,wa,{email:this.a,oobCode:this.f}):Ka(t,Ua,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ka(t,ka,{idToken:e,email:this.a,oobCode:this.f}):Ka(t,Ma,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return io(this.ka(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Gr(Eo,{PROVIDER_ID:"password"}),Gr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Gr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(t){return t.gb(Do(this))},Io.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Ka(t,Ha,n)},Io.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",io(t=Ka(t,Ga,n),e)},Io.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Ro.prototype.gb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==eo?i.Ha().then((function(t){return function(t,e){return Ka(t,ja,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==no?i.Ha().then((function(e){return function(t,e){return Ka(t,Fa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ka(t,Na,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Gr(Ro,{PROVIDER_ID:"phone"}),Gr(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,Bo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Qo(t,e,n){E.call(this,t,n),(t=e||{}).Kb&&Hr(this,"email",t.Kb),t.ea&&Hr(this,"phoneNumber",t.ea),t.credential&&Hr(this,"credential",t.credential),t.$b&&Hr(this,"tenantId",t.$b)}function Vo(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:No(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Qo(e,n,t.message)}return null}function Uo(){}function qo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(kR){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Go(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Ko(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}C(zo,E),C(Qo,E),Qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Qo.prototype.toJSON=function(){return this.w()},Uo.prototype.c=null,C(qo,Uo),qo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},qo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Fo=new qo,C(Go,Uo),Go.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Go.prototype.b=function(){return{}},(t=Wo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Ko(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},Zo.prototype.toString=function(){return this.name};var Jo=new Zo("SEVERE",1e3),Xo=new Zo("WARNING",900),ts=new Zo("CONFIG",700),es=new Zo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ns={},rs=null;function is(t){var e;if(rs||(rs=new Yo(""),ns[""]=rs,rs.c=ts),!(e=ns[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=is(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ns[t]=e}return e}function os(t,e){t&&t.log(es,e,void 0)}function ss(t){this.f=t}function as(t){yn.call(this),this.u=t,this.h=void 0,this.readyState=cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=is("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(ss,Uo),ss.prototype.a=function(){return new as(this.f)},ss.prototype.b=function(t){return function(){return t}}({}),C(as,yn);var cs=0;function ls(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function us(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ds(t)}function ds(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function hs(t){yn.call(this),this.headers=new Sn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=fs,this.u=this.S=!1}(t=as.prototype).open=function(t,e){if(this.readyState!=cs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ds(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,us(this)),this.readyState=cs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ds(this)),this.a&&(this.readyState=3,ds(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ls(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?us(this):ds(this),3==this.readyState&&ls(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,us(this))},t.sc=function(t){this.a&&(this.response=t,us(this))},t.Va=function(t){var e=this.i;e&&e.log(Xo,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&us(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(as.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),C(hs,yn);var fs="";hs.prototype.b=is("goog.net.XhrIo");var ps=/^https?$/i,gs=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function bs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,vs(t),_s(t)}function vs(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ys(t){if(t.c&&void 0!==o)if(t.C[1]&&4==ks(t)&&2==Cs(t))os(t.b,As(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))Cn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){os(t.b,As(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Dn)[1]||null;if(!a&&s.self&&s.self.location){var c=s.self.location.protocol;a=c.substr(0,c.length-1)}i=!ps.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<ks(t)?t.a.statusText:""}catch(u){os(t.b,"Can not get status: "+u.message),l=""}t.h=l+" ["+Cs(t)+"]",vs(t)}}finally{_s(t)}}}function _s(t,e){if(t.a){ws(t);var n=t.a,r=t.C[0]?u:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(kR){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+kR.message,void 0)}}}function ws(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<ks(t)?t.a.status:-1}catch(e){return-1}}function As(t,e){return e+" ["+t.P+" "+t.l+" "+Cs(t)+"]"}function Es(t){var e=Ls;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function xs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ds(t)}function Ss(t){if(t.a){if(!t.v)throw new Rs(t);t.v=!1}}function Is(t,e,n,r){t.g.push([e,n,r]),t.a&&Ds(t)}function Ts(t){return G(t.g,(function(t){return f(t[1])}))}function Ds(t){if(t.h&&t.a&&Ts(t)){var e=t.h,n=Ps[e];n&&(s.clearTimeout(n.a),delete Ps[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var c=o.call(i||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(O(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,Ts(t)||(n=!0)}}t.c=e,r&&(c=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Es?(Is(e,c,r),e.C=!0):e.then(c,r)),n&&(e=new Ns(e),Ps[e.a]=e,t.h=e.a)}function Rs(){N.call(this)}function Os(){N.call(this)}function Ns(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=hs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,As(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(os(this.b,As(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_s(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_s(this,!0)),hs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?ys(this):this.Jc())},t.Jc=function(){ys(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return os(this.b,"Can not get response: "+e.message),null}},Es.prototype.cancel=function(t){if(this.a)this.c instanceof Es&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Os(this),Ss(this),xs(this,!1,t))}},Es.prototype.m=function(t,e){this.i=!1,xs(this,t,e)},Es.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return Is(this,r,(function(t){t instanceof Os?o.cancel():i(t)})),o.then(t,e,n)},Es.prototype.$goog_Thenable=!0,C(Rs,N),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",C(Os,N),Os.prototype.message="Deferred was canceled",Os.prototype.name="CanceledError",Ns.prototype.c=function(){throw delete Ps[this.a],this.b};var Ps={};function Ms(t){var e={},n=e.document||document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Es(o),u=null,d=null!=e.timeout?e.timeout:5e3;return 0<d&&(u=window.setTimeout((function(){js(i,!0);var t=new zs(Bs,"Timeout reached for loading script "+r);Ss(a),xs(a,!1,t)}),d),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(js(i,e.xd||!1,u),Ss(a),xs(a,!0,null))},i.onerror=function(){js(i,!0,u);var t=new zs(Fs,"Error while loading script "+r);Ss(a),xs(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ls(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&js(t,!0,this.Ma)}}function js(t,e,n){null!=n&&s.clearTimeout(n),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fs=0,Bs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Qs(t){this.f=t}function Vs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Hs,this.g=pt(t.secureTokenHeaders||Gs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ws,this.a=pt(t.firebaseHeaders||Ks),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==vr(),!(n=s.XMLHttpRequest||n&&Jc.default.INTERNAL.node&&Jc.default.INTERNAL.node.XMLHttpRequest)&&!br())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new ss(self):yr()?new Qs(n):new Go,this.b=null}C(zs,N),C(Qs,Uo),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Us,qs="idToken",Hs=new jr(3e4,6e4),Gs={"Content-Type":"application/x-www-form-urlencoded"},Ws=new jr(3e4,6e4),Ks={"Content-Type":"application/json"};function $s(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ys(t,e){e&&(t.l=Zs("https://securetoken.googleapis.com/v1/token",e),t.h=Zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Zs("https://identitytoolkit.googleapis.com/v2/",e))}function Zs(t,e){return t=jn(t),e=jn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Nn(t,e.g),t.toString()}function Js(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Xs(t,e,n,r,i,o,a){(function(){var t=Ar();return!((t="Chrome"!=wr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&oe&&!(9<oe))})()||br()?t=_(t.u,t):(Us||(Us=new ye((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[ea]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Is(t,null,e,void 0)}(Ms(xt(ta,{onload:ea})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,a)}Vs.prototype.T=function(){return this.b},Vs.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new hs(this.f);if(o){a.g=Math.max(0,o);var c=setTimeout((function(){a.dispatchEvent("timeout")}),o)}_n(a,"complete",(function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return os(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(a,"ready",(function(){c&&clearTimeout(c),Ue(this)})),wn(a,"timeout",(function(){c&&clearTimeout(c),Ue(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Fo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Fo),t.a.onreadystatechange=_(t.Wb,t);try{os(t.b,As(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return os(t.b,As(t,"Error opening Xhr: "+a.message)),void bs(t,a)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=xn(t),r=En(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!W(gs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ws(t),0<t.g&&(t.u=function(t){return Kt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),os(t.b,As(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),os(t.b,As(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){os(t.b,As(t,"Send error: "+a.message)),bs(t,a)}}(a,t,n,r,i)};var ta=new vt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),ea="__fcb"+Math.floor(1e6*Math.random()).toString();function na(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new E("invalid-email")}function ra(t){"email"in t&&na(t)}function ia(t){if(!t[qs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,pt(t));throw new E("internal-error")}}function oa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Vs.prototype.s=function(t,e,n,r,i){var o=this;Us.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Vs.prototype.Ab=function(){return Ka(this,La,{})},Vs.prototype.Cb=function(t,e){return Ka(this,Pa,{idToken:t,email:e})},Vs.prototype.Db=function(t,e){return Ka(this,Ma,{idToken:t,password:e})};var sa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function aa(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ca(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function la(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Wn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ua(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Vo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Vo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Vo(t)):t.errorMessage&&(e=$a(t.errorMessage)),e)throw e;ia(t)}function da(t,e){return e.returnIdpCredential=!0,Ka(t,Ba,e)}function ha(t,e){return e.returnIdpCredential=!0,Ka(t,Qa,e)}function fa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ka(t,za,e)}function pa(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Vs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ht(sa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ka(this,Pa,n)},t.wb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Ka(this,Ta,t)},t.xb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ka(this,xa,t)},t.vb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ka(this,Sa,t)},t.Fb=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ka(this,Ia,t)},t.gb=function(t){return Ka(this,qa,t)},t.ob=function(t,e){return Ka(this,Oa,{oobCode:t,newPassword:e})},t.Sa=function(t){return Ka(this,ma,{oobCode:t})},t.kb=function(t){return Ka(this,ga,{oobCode:t})};var ga={endpoint:"setAccountInfo",A:pa,Z:"email",B:!0},ma={endpoint:"resetPassword",A:pa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},B:!0},ba={endpoint:"signupNewUser",A:function(t){if(na(t),!t.password)throw new E("weak-password")},G:ia,V:!0,B:!0},va={endpoint:"createAuthUri",B:!0},ya={endpoint:"deleteAccount",O:["idToken"]},_a={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},wa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:na,G:ia,V:!0,B:!0},ka={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:na,G:ia,V:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:aa,G:ia,B:!0,Na:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:aa,G:ia,B:!0,Na:!0},Ea={endpoint:"getAccountInfo"},xa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");na(t)},Z:"email",B:!0},Sa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ia={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ta={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");na(t)},Z:"email",B:!0},Da={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ra={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Oa={endpoint:"resetPassword",A:pa,Z:"email",B:!0},Na={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Pa={endpoint:"setAccountInfo",O:["idToken"],A:ra,V:!0},Ma={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ra(t),!t.password)throw new E("weak-password")},G:ia,V:!0},La={endpoint:"signupNewUser",G:ia,V:!0,B:!0},ja={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Fa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Ba={endpoint:"verifyAssertion",A:ca,Za:la,G:ua,V:!0,B:!0},za={endpoint:"verifyAssertion",A:ca,Za:la,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw $a(t.errorMessage);ia(t)},V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:function(t){if(ca(t),!t.idToken)throw new E("internal-error")},Za:la,G:ua,V:!0},Va={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ia,V:!0,B:!0},Ua={endpoint:"verifyPassword",A:function(t){if(na(t),!t.password)throw new E("wrong-password")},G:ia,V:!0,B:!0},qa={endpoint:"verifyPhoneNumber",A:oa,G:ia,B:!0},Ha={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");oa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Vo(t);ia(t)}},Ga={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:oa,G:ia,B:!0},Wa={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qs]^!!t.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function Ka(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Se(new E("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=jn(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",Date.now().toString());var c="GET"==r;if(c)for(var l in i)i.hasOwnProperty(l)&&Mn(a,l,i[l]);return new ye((function(e,n){Xs(t,a.toString(),(function(t){t?t.error?n(Ya(t,o||{})):e(t):n(new E("network-request-failed"))}),r,c?void 0:er(Or(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]}))}function $a(t){return Ya({error:{errors:[{message:t}],code:400,message:t}})}function Ya(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Rr(t)),new E("internal-error",e)}function Za(t){this.b=t,this.a=null,this.sb=function(t){return(ec||(ec=new ye((function(t,e){function n(){Lr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Lr(),e(Error("Network Error"))},timeout:Xa.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},xe(Ms(r=xt(Ja,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ec=null,t})))).then((function(){return new ye((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ja=new vt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),Xa=new jr(3e4,6e4),tc=new jr(5e3,15e3),ec=null;function nc(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=jn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function rc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ic(t){try{return Jc.default.app(t).auth().Ga()}catch(e){return[]}}function oc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function sc(t){var e=ar();return function(t){return Ka(t,Da,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:hr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(ar())}))}function ac(t){return t.m||(t.m=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ic(t.b),i=new nc(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new Za(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Lo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.m}function cc(t){return t.l||(t.C=t.c?Cr(t.c,ic(t.b)):null,t.l=new Vs(t.g,R(t.i),t.C),t.f&&Ys(t.l,t.f)),t.l}function lc(t,e,n,r,i,o,s,a,c,l,u,d){return(t=new rc(t,e,n,r,i,d)).l=o,t.g=s,t.i=a,t.b=pt(c||null),t.f=l,t.zb(u).toString()}function uc(t){if(this.a=t||Jc.default.INTERNAL.reactNative&&Jc.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function dc(t){this.b=t,this.a={},this.f=_(this.c,this)}nc.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},rc.prototype.zb=function(t){return this.h=t,this},rc.prototype.toString=function(){if(this.v){var t=jn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Jc.default.app(this.c).auth().la()}catch(a){n=null}for(var r in e.pb=n,Mn(t,"providerId",this.a.providerId),e=Or((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ft(e)||Mn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Yn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Yn(t.b,"eid"),(s=ic(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=oc.prototype).Pb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return ac(t).then((function(){return function(t,e){return t.sb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ur(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){An(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return An(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Ar();return!Dr(t)&&!Mr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Se(new E("popup-blocked"));if(s&&!Dr())return this.ma().o((function(e){ur(t),i(e)})),r(),xe();this.a||(this.a=sc(cc(this)));var c=this;return this.a.then((function(){var e=c.ma().o((function(e){throw ur(t),i(e),e}));return r(),e})).then((function(){Po(n),s||cr(lc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=sc(cc(this)));var i=this;return this.a.then((function(){Po(e),cr(lc(i.s,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return ac(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){$(this.h,(function(e){return e==t}))},(t=uc.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Nr(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,Rr(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var hc,fc=[];function pc(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gc(t){this.a=t}function mc(t){this.c=t,this.b=!1,this.a=[]}function bc(t,e,n,r){var i,o,s,a,c=n||{},l=null;if(t.b)return Se(Error("connection_unavailable"));var u=r?800:50,d="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){d?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),d.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),u),t.a.push(l={messageChannel:d,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),d.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[d.port2])):r(Error("connection_unavailable"))})).then((function(e){return vc(t,l),e})).o((function(e){throw vc(t,l),e}))}function vc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),$(t.a,(function(t){return t==e}))}}function yc(){if(!kc())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(U(fc,(function(n){n.b==t&&(e=n)})),!e){var e=new dc(t);fc.push(e)}return e}(),pc(this.v,"keyChanged",(function(e,n){return Sc(t).then((function(e){return 0<e.length&&U(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),pc(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new mc(new gc(e)),bc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function _c(t){return t.i||(t.i=function t(e){return new ye((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ye((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function wc(t,e){var n=0;return new ye((function r(i,o){_c(t).then(e).then(i).o((function(e){if(!(3<++n))return _c(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function kc(){try{return!!s.indexedDB}catch(Gt){return!1}}function Cc(t){return t.objectStore("firebaseLocalStorage")}function Ac(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ec(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function xc(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?bc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function Sc(t){return _c(t).then((function(t){var e=Cc(Ac(t,!1));return e.getAll?Ec(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ic(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Tc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(kc()){var t=Pr(),r="__sak"+t;return hc||(hc=new yc),(n=hc).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){U(e.a,(function(e){e(t)}))})),t}))}function Dc(){this.a={},this.type="inMemory"}function Rc(){if(!function(){var t="Node"==vr();if(!(t=Oc()||t&&Jc.default.INTERNAL.node&&Jc.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==vr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Oc()||Jc.default.INTERNAL.node.localStorage,this.type="localStorage"}function Oc(){try{var t=s.localStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Nc(){this.type="nullStorage"}function Pc(){if(!function(){var t="Node"==vr();if(!(t=Mc()||t&&Jc.default.INTERNAL.node&&Jc.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==vr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Mc()||Jc.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mc(){try{var t=s.sessionStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Lc(){var t={};t.Browser=Bc,t.Node=zc,t.ReactNative=Qc,t.Worker=Vc,this.a=t[vr()]}dc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];U(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),Te(i).then((function(r){var i=[];U(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mc.prototype.close=function(){for(;0<this.a.length;)vc(this,this.a[0]);this.b=!0},(t=yc.prototype).set=function(t,e){var n=this,r=!1;return wc(this,(function(e){return Ec((e=Cc(Ac(e,!0))).get(t))})).then((function(i){return wc(n,(function(o){if(o=Cc(Ac(o,!0)),i)return i.value=e,Ec(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ec(o.add(s))}))})).then((function(){return n.c[t]=e,xc(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return wc(this,(function(e){return Ec(Cc(Ac(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return wc(this,(function(r){return n=!0,e.b++,Ec(Cc(Ac(r,!0)).delete(t))})).then((function(){return delete e.c[t],xc(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Ic(t),function e(){t.f=setTimeout((function(){t.l=Sc(t).then((function(e){0<e.length&&U(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Ic(this)},(t=Tc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t}))},(t=Dc.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=Rc.prototype).get=function(t){var e=this;return xe().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&un(s.window,"storage",t)},(t=Nc.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Pc.prototype).get=function(t){var e=this;return xe().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var jc,Fc,Bc={F:Rc,cb:Pc},zc={F:Rc,cb:Pc},Qc={F:uc,cb:Nc},Vc={F:Rc,cb:Nc},Uc={rd:"local",NONE:"none",td:"session"};function qc(){var t=!(Mr(Ar())||!mr()),e=Dr(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},jc||(jc=new Lc),t=jc;try{this.g=!sr()&&zr()||!s.indexedDB?new t.a.F:new Tc(br()?new Dc:new t.a.F)}catch(r){this.g=new Dc,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Dc}this.v=new Dc,this.f=_(this.Zb,this),this.b={}}function Hc(){return Fc||(Fc=new qc),Fc}function Gc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Wc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Kc(t,e,n){return n=Wc(e,n),"local"==e.F&&(t.b[n]=null),Gc(t,e.F).U(n)}function $c(t){t.c&&(clearInterval(t.c),t.c=null)}function Yc(t){this.a=t,this.b=Hc()}(t=qc.prototype).get=function(t,e){return Gc(this,t.F).get(Wc(t,e))},t.set=function(t,e,n){var r=Wc(t,n),i=this,o=Gc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Wc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ft(this.a)&&(Gc(this,"local").ca(this.f),this.h||(sr()||!zr())&&s.indexedDB||!this.l||function(t){$c(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Wc(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Gc(this,"local").ia(this.f),$c(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Gc(this,"local").ia(this.f):$c(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Kt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,_(this.nb,this))},t.nb=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var Zc,Xc={name:"authEvent",F:"local"};function tl(){this.a=Hc()}function el(t,e){this.b=nl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Zc&&(Zc=s.Int32Array?new Int32Array(ll):ll),this.reset()}C(el,(function(){this.b=-1}));for(var nl=64,rl=nl-1,il=[],ol=0;ol<rl;ol++)il[ol]=0;var sl=Y(128,il);function al(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],l=0|t.a[4],u=0|t.a[5],d=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&u^~l&d)+(0|Zc[e])|0)+(0|n[e])|0)|0,o=d,d=u,u=l,l=c+s|0,c=a,a=i,i=r,r=s+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+d|0,t.a[7]=t.a[7]+o|0}function cl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(al(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(al(t),i=0)}}t.c=i,t.g+=n}el.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var ll=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ul(){el.call(this,8,dl)}C(ul,el);var dl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hl(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new tl,this.g=new Yc(this.h),this.f=null,this.b=[],this.a=this.c=null}function fl(t){return new E("invalid-cordova-configuration",t)}function pl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function gl(t){return t.f||(t.f=t.ma().then((function(){return new ye((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),ml(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Xi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Ln(o=jn(i),"firebaseError")||null))?x(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pl(t,i)}))}var n=new Mo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=An(500).then((function(){return ml(t).then((function(){r||pl(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new jo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function ml(t){var e=null;return function(t){return t.b.get(Xc,t.a).then((function(t){return Lo(t)}))}(t.g).then((function(n){return e=n,Kc((n=t.g).b,Xc,n.a)})).then((function(){return e}))}function bl(t){this.a=t,this.b=Hc()}(t=hl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?pr().then((function(){return new ye((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",s))throw fl("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",s))throw fl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",s))throw fl("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",s))throw fl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Pb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),xe()},t.Nb=function(){return Se(new E("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Se(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,c=null,l=null,u=null;return this.c=xe().then((function(){return Po(e),gl(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Mo(e,r,null,o,new E("no-auth-event"),null,i),c=Er("BuildInfo.packageName",s);if("string"!=typeof c)throw new E("invalid-cordova-configuration");var l=Er("BuildInfo.displayName",s),u={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=c;else{if(!Ar().toLowerCase().match(/android/))return Se(new E("operation-not-supported-in-this-environment"));u.apn=c}l&&(u.appDisplayName=l),o=function(t){var e=new ul;cl(e,t),t=[];var n=8*e.g;cl(e,sl,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(al(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),u.sessionId=o;var d=lc(t.v,t.i,t.l,e,n,null,r,t.m,u,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(Xc,a.w(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(d)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=Ar(),t.a=n(d,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){c=function(){var e=Er("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),u=function(){Fr()&&l()},o.addEventListener("resume",l=function(){a||(a=An(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)})).o((function(t){return ml(i).then((function(){throw t}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),c&&i.Ta(c),i.c=null}))},t.Ea=function(t){this.b.push(t),gl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Ta=function(t){$(this.b,(function(e){return e==t}))};var vl={name:"pendingRedirect",F:"session"};function yl(t){return Kc(t.b,vl,t.a)}function _l(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Ml,this.C=new zl,this.g=new bl(Nl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wl(this.D,this.v,this.m,S,this.J)}function wl(t,e,n,r,i){var o=Jc.default.SDK_VERSION||null;return gr()?new hl(t,e,n,o,r,i):new oc(t,e,n,o,r,i)}function kl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Cl(t){t.a.Yb()&&kl(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Tl(e)&&t.s(n)})),t.a.Ub()||Ll(t.b)}function Al(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(vl,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?yl(t.g).then((function(){kl(t).o((function(e){var n=new Mo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Tl(e)&&t.s(n)}))})):Cl(t)})).o((function(){Cl(t)}))}function El(t,e){$(t.h,(function(t){return t==e}))}_l.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wl(this.D,this.v,this.m,null,this.J),this.i={}},_l.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Ll(this.b),e};var xl=new jr(2e3,1e4),Sl=new jr(3e4,6e4);function Il(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Tl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Dl(t,e,n,r,i){var o;return function(t){return t.b.set(vl,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Tl(e))throw new E("operation-not-supported-in-this-environment");return o=e,yl(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new ye((function(){})):yl(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Rl(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),xl.get())}_l.prototype.ra=function(){return this.b.ra()};var Ol={};function Nl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Pl(t,e,n,r){var i=Nl(e,n,r);return Ol[i]||(Ol[i]=new _l(t,e,n,r)),Ol[i]}function Ml(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ll(t){t.g||(t.g=!0,Bl(t,!1,null,null))}function jl(t){t.g&&!t.i&&Bl(t,!1,null,null)}function Fl(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Bl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fl(t,n):Fl(t,{user:null}),t.f=[],t.c=[]}function zl(){}function Ql(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Vl(t,e){this.a=e,Hr(this,"verificationId",t)}function Ul(t,e,n,r){return new Ro(t).gb(e,n).then((function(t){return new Vl(t,r)}))}function ql(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Gr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Hl(t,e,n){var r=e&&e[Wl];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new to(null,r),this.b=[];var i=this;U(e[Gl]||[],(function(t){(t=Yr(t))&&i.b.push(t)})),Hr(this,"auth",this.a),Hr(this,"session",this.c),Hr(this,"hints",this.b)}Ml.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ml.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Bl(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Bl(t,a,e,null)})).o((function(e){Bl(t,a,null,e)}))}(this,t,e):Se(new E("invalid-auth-event")):(Bl(this,!1,null,null),xe())}else Se(new E("invalid-auth-event"))},Ml.prototype.ra=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=An(Sl.get()).then((function(){t.b||(t.g=!0,Bl(t,!0,null,e))}))}(t))}))},zl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Se(new E("invalid-auth-event"))}else Se(new E("invalid-auth-event"))},Vl.prototype.confirm=function(t){return t=Oo(this.verificationId,t),this.a(t)};var Gl="mfaInfo",Wl="mfaPendingCredential";function Kl(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Hl(t,e,n),Hr(this,"resolver",this.b)}function $l(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Kl(e,t.serverResponse,n,t.message)}catch(r){}return null}function Yl(){}function Zl(t){Hr(this,"factorId",t.fa),this.a=t}function Jl(t){if(Zl.call(this,t),this.a.fa!=Ro.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xl(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function tu(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Xr]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[Jr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ti]=t.phoneNumber);try{e=new ei(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),eu(this,n)}function eu(t,e){t.b=e,Hr(t,"enrolledFactors",e)}function nu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ru(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function iu(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ou(t,e){t.b=Fi(e[qs]||""),t.a=e.refreshToken,iu(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function su(t,e){this.a=t||null,this.b=e||null,Gr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function au(t,e,n,r,i,o){Gr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function cu(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Jc.default.SDK_VERSION?Cr(Jc.default.SDK_VERSION):null;this.a=new Vs(this.l,R(S),r),(this.u=t.emulatorConfig||null)&&Ys(this.a,this.u),this.h=new ru(this.a),bu(this,e[qs]),ou(this.h,e),Hr(this,"refreshToken",this.h.a),_u(this,n||{}),yn.call(this),this.P=!1,this.s&&Sr()&&(this.b=Pl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new nu((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){lu(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){hu(i,t.f)},this.ja=null,this.S=new tu(this,n),Hr(this,"multiFactor",this.S)}function lu(t,e){t.u=e,Ys(t.a,e),t.b&&(e=t.b,t.b=Pl(t.s,t.l,t.m,t.u),t.P&&(El(e,t),Al(t.b,t)))}function uu(t,e){t.qa&&un(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&an(e,"languageCodeChanged",t.Pa)}function du(t,e){t.$&&un(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&an(e,"emulatorConfigChanged",t.Ba)}function hu(t,e){t.aa=e,Js(t.a,Jc.default.SDK_VERSION?Cr(Jc.default.SDK_VERSION,t.aa):null)}function fu(t,e){t.ja&&un(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&an(e,"frameworkChanged",t.Oa)}function pu(t){try{return Jc.default.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function gu(t){t.J||t.D.b||(t.D.start(),un(t,"tokenChanged",t.ba),an(t,"tokenChanged",t.ba))}function mu(t){un(t,"tokenChanged",t.ba),t.D.stop()}function bu(t,e){t.Aa=e,Hr(t,"_lat",e)}function vu(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Te(e).then((function(){return t}))}function yu(t){t.b&&!t.P&&(t.P=!0,Al(t.b,t))}function _u(t,e){Gr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new su(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wu(){}function ku(t){return xe().then((function(){if(t.J)throw new E("app-deleted")}))}function Cu(t){return H(t.providerData,(function(t){return t.providerId}))}function Au(t,e){e&&(Eu(t,e.providerId),t.providerData.push(e))}function Eu(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function xu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hr(t,e,n)}function Su(t,e){t!=e&&(Gr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Hr(t,"metadata",e.metadata?function(t){return new su(t.a,t.b)}(e.metadata):new su),U(e.providerData,(function(e){Au(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Hr(t,"refreshToken",t.h.a),eu(t.S,e.S.b))}function Iu(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ka(t.a,Ea,{idToken:e}).then(_(t.Kc,t))}(t,e).then((function(){return n||xu(t,"isAnonymous",!1),e}))}))}function Tu(t,e){e[qs]&&t.Aa!=e[qs]&&(ou(t.h,e),t.dispatchEvent(new Xl("tokenChanged")),bu(t,e[qs]),xu(t,"refreshToken",t.h.a))}function Du(t,e){return Iu(t).then((function(){if(W(Cu(t),e))return vu(t).then((function(){throw new E("provider-already-linked")}))}))}function Ru(t,e,n){return Wr({user:t,credential:No(e),additionalUserInfo:e=qi(e),operationType:n})}function Ou(t,e){return Tu(t,e),t.reload().then((function(){return t}))}function Nu(t,e,n,r,i){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));if(t.i&&!i)return Se(t.i);var o=Ui(n.providerId),s=Pr(t.uid+":::"),a=null;(!Dr()||mr())&&t.s&&n.isOAuthProvider&&(a=lc(t.s,t.l,t.m,e,n,null,s,Jc.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=dr(a,o&&o.va,o&&o.ua);return r=r().then((function(){if(Mu(t),!i)return t.I().then((function(){}))})).then((function(){return Il(t.b,c,e,n,s,!!a,t.tenantId)})).then((function(){return new ye((function(n,r){t.na(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Rl(t.b,t,e,c,s)}))})).then((function(t){return c&&ur(c),t?Wr(t):null})).o((function(t){throw c&&ur(c),t})),Lu(t,r,i)}function Pu(t,e,n,r,i){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));if(t.i&&!i)return Se(t.i);var o=null,s=Pr(t.uid+":::");return r=r().then((function(){if(Mu(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,vu(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Bu,t.w(),e.a)),e})).then((function(){return Dl(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return zu(t.ha);throw o})).then((function(){if(o)throw o})),Lu(t,r,i)}function Mu(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Lu(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Se(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Xl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){K(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$l(e.w(),pu(t),_(t.jc,t))),n||e}))}function ju(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new cu(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&Au(i,Wr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Fu(t){this.a=t,this.b=Hc()}Hl.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[Gl],delete n[Wl],mt(n,t),e.g(n)}))},C(Kl,E),Yl.prototype.tb=function(t,e,n){return e.type==eo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Do(t.a)}),Ka(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Ka(e,Aa,n)}))}(this,t,e)},C(Zl,Yl),C(Jl,Zl),C(Xl,Ke),(t=tu.prototype).yc=function(t){eu(this,function(t){var e=[];return U(t.mfaInfo||[],(function(t){(t=Yr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new to(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Tu(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ka(r,Wa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return eu(e,r),Tu(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},nu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=An(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Fr()||!t?xe():new ye((function(n){e=function(){Fr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ru.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ru.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Xs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ya(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.f,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,iu(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},su.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(cu,yn),cu.prototype.xa=function(t){this.za=t,$s(this.a,t)},cu.prototype.la=function(){return this.za},cu.prototype.Ga=function(){return Z(this.aa)},cu.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Hr(cu.prototype,"providerId","firebase"),(t=cu.prototype).reload=function(){var t=this;return Lu(this,ku(this).then((function(){return Iu(t).then((function(){return vu(t)})).then(wu)})))},t.oc=function(t){return this.I(t).then((function(t){return new ql(t)}))},t.I=function(t){var e=this;return Lu(this,ku(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.Aa&&(bu(e,t.accessToken),e.dispatchEvent(new Xl("tokenChanged"))),xu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");_u(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new au(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Au(this,e[n]);xu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xl("userReloaded",{hd:t}))},t.Lc=function(t){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Lu(this,t.c(this.a,this.uid).then((function(t){return Tu(e,t),n=Ru(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Lu(this,Du(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ru(e,t,"link"),Ou(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Lu(this,Du(this,"phone").then((function(){return Ul(pu(n),t,e,_(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Lu(this,xe().then((function(){return Ul(pu(n),t,e,_(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Lu(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Tu(e,t),e.reload()})))},t.ed=function(t){var e=this;return Lu(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Tu(e,t),e.reload()})))},t.Db=function(t){var e=this;return Lu(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Tu(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ku(this);var e=this;return Lu(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Tu(e,t),xu(e,"displayName",t.displayName||null),xu(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Hr(t,"displayName",e.displayName),Hr(t,"photoURL",e.photoURL))})),vu(e)})).then(wu))},t.cd=function(t){var e=this;return Lu(this,Iu(this).then((function(n){return W(Cu(e),t)?function(t,e,n){return Ka(t,_a,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(Cu(e),(function(t){n[t]||Eu(e,t)})),n[Ro.PROVIDER_ID]||Hr(e,"phoneNumber",null),vu(e)})):vu(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Lu(this,this.I().then((function(e){return Ka(t.a,ya,{idToken:e})})).then((function(){t.dispatchEvent(new Xl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");uu(t,null),du(t,null),fu(t,null),t.N=[],t.J=!0,mu(t),Hr(t,"refreshToken",null),t.b&&El(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Mb,this):null},t.Ec=function(t){var e=this;return Nu(this,"linkViaPopup",t,(function(){return Du(e,t.providerId).then((function(){return vu(e)}))}),!1)},t.Nc=function(t){return Nu(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Fc=function(t){var e=this;return Pu(this,"linkViaRedirect",t,(function(){return Du(e,t.providerId)}),!1)},t.Oc=function(t){return Pu(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Lu(this,this.I().then((function(n){return ha(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ru(i,t,"link"),Ou(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Lu(this,xe().then((function(){return io(fa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ru(i,t,"reauthenticate"),Tu(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Lu(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Mi(new Ei(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Lu(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Mi(new Ei(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Lu(this,t=io(xe(t),n.uid).then((function(t){return e=Ru(n,t,"reauthenticate"),Tu(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.S.w()),t};var Bu={name:"redirectUser",F:"session"};function zu(t){return Kc(t.b,Bu,t.a)}function Qu(t){this.a=t,this.b=Hc(),this.c=null,this.f=function(t){var e=qu("local"),n=qu("session"),r=qu("none");return function(t,e,n){var r=Wc(e,n),i=Gc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Nr(s.localStorage.getItem(r))}catch(c){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Uu,t.a).then((function(t){return t?qu(t):e}))}))}))})).then((function(e){return t.c=e,Vu(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(qu("local"),this.a,_(this.g,this))}function Vu(t,e){var n,r=[];for(n in Uc)Uc[n]!==e&&r.push(Kc(t.b,qu(Uc[n]),t.a));return r.push(Kc(t.b,Uu,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ie(t[a],w(o,a),s);else e(i)}))}(r)}Qu.prototype.g=function(){var t=this,e=qu("local");Ku(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Vu(t,"local").then((function(){t.c=e}))}))}))};var Uu={name:"persistence",F:"session"};function qu(t){return{name:"authUser",F:t}}function Hu(t,e){return Ku(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Gu(t){return Ku(t,(function(){return Kc(t.b,t.c,t.a)}))}function Wu(t,e,n){return Ku(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),ju(t||{})}))}))}function Ku(t,e){return t.f=t.f.then(e,e),t.f}function $u(t){if(this.l=!1,Hr(this,"settings",new Ql),Hr(this,"app",t),!rd(this).options||!rd(this).options.apiKey)throw new E("invalid-api-key");t=Jc.default.SDK_VERSION?Cr(Jc.default.SDK_VERSION):null,this.a=new Vs(rd(this).options&&rd(this).options.apiKey,R(S),t),this.P=[],this.s=[],this.N=[],this.Pa=Jc.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Jc.default.INTERNAL.createSubscribe(_(this.Ac,this)),ed(this,null),this.i=new Qu(rd(this).options.apiKey+":"+rd(this).name),this.D=new Fu(rd(this).options.apiKey+":"+rd(this).name),this.$=ad(this,function(t){var e=rd(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Bu,t.a).then((function(t){return t&&e&&(t.authDomain=e),ju(t||{})}))}(t.D,rd(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),zu(t.D)}));return ad(t,e)}(t).then((function(){return Wu(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Hu(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Gu(t.i)}))):null})).then((function(e){ed(t,e||null)}));return ad(t,n)}(this)),this.h=ad(this,function(t){return t.$.then((function(){return td(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(qu("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=rd(t).options.authDomain,n=rd(t).options.apiKey;e&&Sr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Pl(e,n,rd(t).name,t.R),Al(t.b,t),id(t)&&yu(id(t)),t.m){yu(t.m);var r=t.m;r.xa(t.la()),uu(r,t),hu(r=t.m,t.J),fu(r,t),lu(r=t.m,t.R),du(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=jn(this.R.url);t=Wr({protocol:t.c,host:t.a,port:t.g,options:Wr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function Yu(t){Ke.call(this,"languageCodeChanged"),this.h=t}function Zu(t){Ke.call(this,"emulatorConfigChanged"),this.c=t}function Ju(t){Ke.call(this,"frameworkChanged"),this.f=t}function Xu(t){return t.Oa||Se(new E("auth-domain-config-required"))}function td(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=Xu(t).then((function(){return t.b.ra()})).then((function(t){return t?Wr(t):null}));return ad(t,e)}function ed(t,e){id(t)&&(function(t,e){$(t.W,(function(t){return t==e}))}(id(t),t.Ba),un(id(t),"tokenChanged",t.qa),un(id(t),"userDeleted",t.za),un(id(t),"userInvalidated",t.Aa),mu(id(t))),e&&(e.W.push(t.Ba),an(e,"tokenChanged",t.qa),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.u&&gu(e)),Hr(t,"currentUser",e),e&&(e.xa(t.la()),uu(e,t),hu(e,t.J),fu(e,t),lu(e,t.R),du(e,t))}function nd(t,e){var n=null,r=null;return ad(t,e.then((function(e){return n=No(e),r=qi(e),function(t,e){var n={};return n.apiKey=rd(t).options.apiKey,n.authDomain=rd(t).options.authDomain,n.appName=rd(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new cu(t,e);return n&&(i.ha=n),r&&hu(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return id(t)&&e.uid==id(t).uid?(Su(id(t),e),t.da(e)):(ed(t,e),yu(e),t.da(e))})).then((function(){sd(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$l(e.w(),t,_(t.kc,t))),n||e})).then((function(){return Wr({user:id(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rd(t){return t.app}function id(t){return t.currentUser}function od(t){return id(t)&&id(t)._lat||null}function sd(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](od(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](od(t))}}function ad(t,e){return t.P.push(e),e.oa((function(){K(t.P,e)})),e}function cd(){}function ld(){this.a={},this.b=1e12}Qu.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Uc)if(Uc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(vr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!kc()&&"none"!==t)throw n;break;default:if(!xr()&&"none"!==t)throw n}}(t),Ku(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Vu(n,t)})).then((function(){if(n.c=qu(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},C($u,yn),C(Yu,Ke),C(Zu,Ke),C(Ju,Ke),(t=$u.prototype).yb=function(t){return ad(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,$s(this.a,this.aa),this.dispatchEvent(new Yu(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&pr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,Ys(this.a,this.R),this.dispatchEvent(new Zu(this.R))}},t.Gc=function(t){this.J.push(t),Js(this.a,Jc.default.SDK_VERSION?Cr(Jc.default.SDK_VERSION,this.J):null),this.dispatchEvent(new Ju(this.J))},t.Ga=function(){return Z(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rd(this).options.apiKey,authDomain:rd(this).options.authDomain,appName:rd(this).name,currentUser:id(this)&&id(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nd(i,da(i.a,o))}))},t.Xc=function(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=this,n=Ui(t.providerId),r=Pr(),i=null;(!Dr()||mr())&&rd(this).options.authDomain&&t.isOAuthProvider&&(i=lc(rd(this).options.authDomain,rd(this).options.apiKey,rd(this).name,"signInViaPopup",t,null,r,Jc.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return ad(this,n=Xu(this).then((function(n){return Il(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new ye((function(t,n){e.na("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Rl(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ur(o),t?Wr(t):null})).o((function(t){throw o&&ur(o),t})))},t.Yc=function(t){if(!Sr())return Se(new E("operation-not-supported-in-this-environment"));var e=this;return ad(this,Xu(this).then((function(){return function(t){return Ku(t,(function(){return t.b.set(Uu,t.c.F,t.a)}))}(e.i)})).then((function(){return Dl(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return td(this).then((function(e){return t.b&&jl(t.b.b),e})).o((function(e){throw t.b&&jl(t.b.b),e}))},t.dd=function(t){if(!t)return Se(new E("null-user"));if(this.S!=t.tenantId)return Se(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=rd(this).options.apiKey,n.authDomain=rd(this).options.authDomain,n.appName=rd(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new cu(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&hu(e,r),Su(e,t),e}(t,n,e.D,e.Ga());return ad(this,this.h.then((function(){if(rd(e).options.apiKey!=t.l)return r.reload()})).then((function(){return id(e)&&t.uid==id(e).uid?(Su(id(e),t),e.da(t)):(ed(e,r),yu(r),e.da(r))})).then((function(){sd(e)})))},t.Bb=function(){var t=this;return ad(this,this.h.then((function(){return t.b&&jl(t.b.b),id(t)?(ed(t,null),Gu(t.i).then((function(){sd(t)}))):xe()})))},t.Zc=function(){var t=this;return Wu(this.i,rd(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=id(t)&&e){n=id(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Su(id(t),e),id(t).I();(id(t)||e)&&(ed(t,e),e&&(yu(e),e.ha=t.D),t.b&&Al(t.b,t),sd(t))}}))},t.da=function(t){return Hu(this.i,t)},t.mc=function(){sd(this),this.da(id(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return nd(e,xe(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(id(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ad(t,t.h.then((function(){!t.l&&W(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(od(t)))})))}(this,(function(){t.next(id(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(id(r)):"function"==typeof t.next&&t.next(id(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(id(r)):"function"==typeof t.next&&t.next(id(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return ad(this,this.h.then((function(){return id(e)?id(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nd(e,Ka(e.a,Va,{token:t}))})).then((function(t){var n=t.user;return xu(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nd(n,Ka(n.a,Ua,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nd(n,Ka(n.a,ba,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return nd(e,t.ka(e.a))}))},t.Sc=function(t){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=id(t);if(e&&e.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nd(t,t.a.Ab()).then((function(e){var n=e.user;return xu(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return id(this)&&id(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&id(this)&&gu(id(this))},t.Pc=function(t){var e=this;U(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&id(this)&&mu(id(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ad(this,this.h.then((function(){e.l||W(e.s,t)&&t(od(e))})))},t.removeAuthTokenListener=function(t){$(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(qu("local"),t.a,this.ja),this.b&&(El(this.b,this),jl(this.b.b)),Promise.resolve()},t.hc=function(t){return ad(this,function(t,e){return Ka(t,va,{identifier:e,continueUri:Ir()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!So(t)},t.xb=function(t,e){var n=this;return ad(this,xe().then((function(){var t=new Ei(e);if(!t.c)throw new E("argument-error",Ii+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return ad(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return ad(this,this.a.Sa(t).then((function(t){return new ni(t)})))},t.kb=function(t){return ad(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return ad(this,xe().then((function(){return void 0===e||ft(e)?{}:Mi(new Ei(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return ad(this,Ul(this,t,e,_(this.ab,this)))},t.Vc=function(t,e){var n=this;return ad(this,xe().then((function(){var r=e||ar(),i=xo(t,r);if(!(r=So(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.ab(i)})))},cd.prototype.render=function(){},cd.prototype.reset=function(){},cd.prototype.getResponse=function(){},cd.prototype.execute=function(){};var ud=null;function dd(t,e){return(e=hd(e))&&t.a[e]||null}function hd(t){return(t=void 0===t?1e12:t)?t.toString():null}function fd(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function pd(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function gd(){}function md(){}ld.prototype.render=function(t,e){return this.a[this.b.toString()]=new fd(t,e),this.b++},ld.prototype.reset=function(t){var e=dd(this,t);t=hd(t),e&&t&&(e.delete(),delete this.a[t])},ld.prototype.getResponse=function(t){return(t=dd(this,t))?t.getResponse():null},ld.prototype.execute=function(t){(t=dd(this,t))&&t.execute()},fd.prototype.getResponse=function(){return pd(this),this.b},fd.prototype.execute=function(){pd(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},fd.prototype.delete=function(){pd(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},Hr(gd,"FACTOR_ID","phone"),md.prototype.g=function(){return ud||(ud=new ld),xe(ud)},md.prototype.c=function(){};var bd=null;function vd(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yd=new vt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_d=new jr(3e4,6e4);vd.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),_d.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},xe(Ms(xt(yd,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},vd.prototype.c=function(){this.b--};var wd=null;function kd(t,e,n,r,i,o,a){if(Hr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(bd||(bd=new md),a=bd):(wd||(wd=new vd),a=wd),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ed])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xd],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Vs(t,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var l=this.a[Cd];this.a[Cd]=function(t){if(Sd(c,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=Er(l,s);"function"==typeof e&&e(t)}};var u=this.a[Ad];this.a[Ad]=function(){if(Sd(c,null),"function"==typeof u)u();else if("string"==typeof u){var t=Er(u,s);"function"==typeof t&&t()}}}var Cd="callback",Ad="expired-callback",Ed="sitekey",xd="size";function Sd(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Id(t,e){return t.h.push(e),e.oa((function(){K(t.h,e)})),e}function Td(t){if(t.J)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Dd(t,e,n){var r=!1;try{this.b=n||Jc.default.app()}catch(s){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Jc.default.SDK_VERSION?Cr(Jc.default.SDK_VERSION,o):null,kd.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,R(S),r)}function Rd(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Od.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Od[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=kd.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Id(this,xe().then((function(){if(Ir()&&!br())return pr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Ka(t.s,Ra,{})})).then((function(e){t.a[Ed]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Td(this);var t=this;return Id(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ut(s.name),'"'),s.type){o.push(' type="',Ut(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Td(this);var t=this;return Id(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Td(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Td(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},C(Dd,kd);var Od="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nd(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Pd(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Md(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Ld(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function jd(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Fd(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Bd(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function zd(t){return p(t)&&"string"==typeof t.uid}function Qd(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Vd(t,e){for(var n in e){var r=e[n].name;t[r]=Hd(r,t[n],e[n].j)}}function Ud(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Rd(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function qd(t,e,n,r){t[e]=Hd(e,n,r)}function Hd(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rd(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Vd($u.prototype,{kb:{name:"applyActionCode",j:[Nd("code")]},Sa:{name:"checkActionCode",j:[Nd("code")]},ob:{name:"confirmPasswordReset",j:[Nd("code"),Nd("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nd("email"),Nd("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Nd("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Nd("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Qd(Md(),Ld(),"nextOrObserver"),Ld("opt_error",!0),Ld("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Qd(Md(),Ld(),"nextOrObserver"),Ld("opt_error",!0),Ld("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Nd("email"),Qd(Md("opt_actionCodeSettings",!0),jd(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Nd("email"),Md("actionCodeSettings")]},yb:{name:"setPersistence",j:[Nd("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fd()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Fd()]},Tc:{name:"signInWithCustomToken",j:[Nd("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Nd("email"),Nd("password")]},Vc:{name:"signInWithEmailLink",j:[Nd("email"),Nd("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Nd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Qd({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof cu)}},jd(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nd(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Nd("url"),Md("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Nd("code")]}}),Ud($u.prototype,{lc:{name:"languageCode",lb:Qd(Nd(),jd(),"languageCode")},ti:{name:"tenantId",lb:Qd(Nd(),jd(),"tenantId")}}),($u.Persistence=Uc).LOCAL="local",$u.Persistence.SESSION="session",$u.Persistence.NONE="none",Vd(cu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Pd("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Pd("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fd()]},rb:{name:"linkWithCredential",j:[Fd()]},Dc:{name:"linkWithPhoneNumber",j:[Nd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fd()]},ub:{name:"reauthenticateWithCredential",j:[Fd()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Nd("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Qd(Md("opt_actionCodeSettings",!0),jd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nd(null,!0)]},cd:{name:"unlink",j:[Nd("provider")]},Cb:{name:"updateEmail",j:[Nd("email")]},Db:{name:"updatePassword",j:[Nd("password")]},ed:{name:"updatePhoneNumber",j:[Fd("phone")]},Eb:{name:"updateProfile",j:[Md("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Nd("email"),Qd(Md("opt_actionCodeSettings",!0),jd(null,!0),"opt_actionCodeSettings",!0)]}}),Vd(ld.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vd(cd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vd(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ud(Ql.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Pd("appVerificationDisabledForTesting")}}),Vd(Vl.prototype,{confirm:{name:"confirm",j:[Nd("verificationCode")]}}),qd(ro,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,Ao,To,ao],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Qd(Nd(),Md(),"json")]),qd(Eo,"credential",(function(t,e){return new Co(t,e)}),[Nd("email"),Nd("password")]),Vd(Co.prototype,{w:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(go.prototype,{Ca:{name:"addScope",j:[Nd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),qd(go,"credential",mo,[Qd(Nd(),Md(),"token")]),qd(Eo,"credentialWithLink",xo,[Nd("email"),Nd("emailLink")]),Vd(bo.prototype,{Ca:{name:"addScope",j:[Nd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),qd(bo,"credential",vo,[Qd(Nd(),Md(),"token")]),Vd(yo.prototype,{Ca:{name:"addScope",j:[Nd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),qd(yo,"credential",_o,[Qd(Nd(),Qd(Md(),jd()),"idToken"),Qd(Nd(),jd(),"accessToken",!0)]),Vd(wo.prototype,{Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),qd(wo,"credential",ko,[Qd(Nd(),Md(),"token"),Nd("secret",!0)]),Vd(po.prototype,{Ca:{name:"addScope",j:[Nd("scope")]},credential:{name:"credential",j:[Qd(Nd(),Qd(Md(),jd()),"optionsOrIdToken"),Qd(Nd(),jd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Vd(co.prototype,{w:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(oo.prototype,{w:{name:"toJSON",j:[Nd(null,!0)]}}),qd(Ro,"credential",Oo,[Nd("verificationId"),Nd("verificationCode")]),Vd(Ro.prototype,{gb:{name:"verifyPhoneNumber",j:[Qd(Nd(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Bd(t.session,eo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bd(t.session,no)&&zd(t.multiFactorHint):t.session&&t.multiFactorUid?Bd(t.session,no)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Vd(Io.prototype,{w:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(E.prototype,{toJSON:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(Qo.prototype,{toJSON:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(zo.prototype,{toJSON:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(Kl.prototype,{toJSON:{name:"toJSON",j:[Nd(null,!0)]}}),Vd(Hl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Vd(tu.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Nd("displayName",!0)]},bd:{name:"unenroll",j:[Qd({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:zd},Nd(),"multiFactorInfoIdentifier")]}}),Vd(Dd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),qd(mi,"parseLink",Ai,[Nd("link")]),qd(gd,"assertion",(function(t){return new Jl(t)}),[Fd("phone")]),function(){if(void 0===Jc.default||!Jc.default.INTERNAL||!Jc.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ii,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ri,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$u,AuthCredential:ro,Error:E};qd(t,"EmailAuthProvider",Eo,[]),qd(t,"FacebookAuthProvider",go,[]),qd(t,"GithubAuthProvider",bo,[]),qd(t,"GoogleAuthProvider",yo,[]),qd(t,"TwitterAuthProvider",wo,[]),qd(t,"OAuthProvider",po,[Nd("providerId")]),qd(t,"SAMLAuthProvider",fo,[Nd("providerId")]),qd(t,"PhoneAuthProvider",Ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof $u)}}]),qd(t,"RecaptchaVerifier",Dd,[Qd(Nd(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Md("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Jc.default.app.App)}}]),qd(t,"ActionCodeURL",mi,[]),qd(t,"PhoneMultiFactorGenerator",gd,[]),Jc.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new $u(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Jc.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Jc.default.registerVersion("@firebase/auth","0.16.8"),Jc.default.INTERNAL.extendNamespace({User:cu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var eb=function(t,e){return(eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function nb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}eb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function rb(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function ib(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function ob(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var sb=n("q/0M"),ab=function(t,e){return(ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function cb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var lb,ub="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},db=db||{},hb=ub||self;function fb(){}function pb(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function gb(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mb="closure_uid_"+(1e9*Math.random()>>>0),bb=0;function vb(t,e,n){return t.call.apply(t.bind,arguments)}function yb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _b(t,e,n){return(_b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vb:yb).apply(null,arguments)}function wb(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function kb(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Cb(){this.s=this.s,this.o=this.o}var Ab={};Cb.prototype.s=!1,Cb.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,mb)&&t[mb]||(t[mb]=++bb)}(this);delete Ab[t]}},Cb.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Eb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},xb=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Sb(t){return Array.prototype.concat.apply([],arguments)}function Ib(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tb(t){return/^[\s\xa0]*$/.test(t)}var Db,Rb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ob(t,e){return-1!=t.indexOf(e)}function Nb(t,e){return t<e?-1:t>e?1:0}t:{var Pb=hb.navigator;if(Pb){var Mb=Pb.userAgent;if(Mb){Db=Mb;break t}}Db=""}function Lb(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function jb(t){var e={};for(var n in t)e[n]=t[n];return e}var Fb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bb(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Fb.length;o++)n=Fb[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zb(t){return zb[" "](t),t}zb[" "]=fb;var Qb,Vb,Ub=Ob(Db,"Opera"),qb=Ob(Db,"Trident")||Ob(Db,"MSIE"),Hb=Ob(Db,"Edge"),Gb=Hb||qb,Wb=Ob(Db,"Gecko")&&!(Ob(Db.toLowerCase(),"webkit")&&!Ob(Db,"Edge"))&&!(Ob(Db,"Trident")||Ob(Db,"MSIE"))&&!Ob(Db,"Edge"),Kb=Ob(Db.toLowerCase(),"webkit")&&!Ob(Db,"Edge");function $b(){var t=hb.document;return t?t.documentMode:void 0}t:{var Yb="",Zb=(Vb=Db,Wb?/rv:([^\);]+)(\)|;)/.exec(Vb):Hb?/Edge\/([\d\.]+)/.exec(Vb):qb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Vb):Kb?/WebKit\/(\S+)/.exec(Vb):Ub?/(?:Version)[ \/]?(\S+)/.exec(Vb):void 0);if(Zb&&(Yb=Zb?Zb[1]:""),qb){var Jb=$b();if(null!=Jb&&Jb>parseFloat(Yb)){Qb=String(Jb);break t}}Qb=Yb}var Xb={};var tv=hb.document&&qb&&($b()||parseInt(Qb,10))||void 0,ev=function(){if(!hb.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{hb.addEventListener("test",fb,e),hb.removeEventListener("test",fb,e)}catch(n){}return t}();function nv(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function rv(t,e){if(nv.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Wb){t:{try{zb(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:iv[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rv.Z.h.call(this)}}nv.prototype.h=function(){this.defaultPrevented=!0},kb(rv,nv);var iv={2:"touch",3:"pen",4:"mouse"};rv.prototype.h=function(){rv.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ov="closure_listenable_"+(1e6*Math.random()|0),sv=0;function av(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++sv,this.ca=this.fa=!1}function cv(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lv(t){this.src=t,this.g={},this.h=0}function uv(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Eb(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}lv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=dv(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new av(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var hv="closure_lm_"+(1e6*Math.random()|0),fv={};function pv(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=wv(r),e&&e[ov]?e.O(n,r,gb(i)?!!i.capture:!!i,o):gv(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pv(t,e[o],n,r,i);return null}return n=wv(n),t&&t[ov]?t.N(e,n,gb(r)?!!r.capture:!!r,i):gv(t,e,n,!1,r,i)}function gv(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=gb(i)?!!i.capture:!!i,a=yv(t);if(a||(t[hv]=a=new lv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=vv;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ev||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bv(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mv(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ov])uv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yv(e))?(uv(n,t),0==n.h&&(n.src=null,e[hv]=null)):cv(t)}}}function bv(t){return t in fv?fv[t]:fv[t]="on"+t}function vv(t,e){if(t.ca)t=!0;else{e=new rv(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&mv(t),t=n.call(r,e)}return t}function yv(t){return(t=t[hv])instanceof lv?t:null}var _v="__closure_events_fn_"+(1e9*Math.random()>>>0);function wv(t){return"function"==typeof t?t:(t[_v]||(t[_v]=function(e){return t.handleEvent(e)}),t[_v])}function kv(){Cb.call(this),this.i=new lv(this),this.P=this,this.I=null}function Cv(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new nv(e,t);else if(e instanceof nv)e.target=e.target||t;else{var i=e;Bb(e=new nv(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Av(s,r,!0,e)&&i}if(i=Av(s=e.g=t,r,!0,e)&&i,i=Av(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Av(s=e.g=n[o],r,!1,e)&&i}function Av(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&uv(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}kb(kv,Cb),kv.prototype[ov]=!0,kv.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=gb(i)?!!i.capture:!!i,r=wv(r),e&&e[ov]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=dv(s=e.g[n],r,i,o))&&(cv(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[n],e.h--))):e&&(e=yv(e))&&(n=e.g[n.toString()],e=-1,n&&(e=dv(n,r,i,o)),(r=-1<e?n[e]:null)&&mv(r))}(this,t,e,n,r)},kv.prototype.M=function(){if(kv.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)cv(n[r]);delete e.g[t],e.h--}}this.I=null},kv.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kv.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ev=hb.JSON.stringify;function xv(){var t=Pv,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Sv,Iv=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Tv.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Tv=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Dv}),(function(t){return t.reset()})),Dv=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Rv(t){hb.setTimeout((function(){throw t}),0)}function Ov(t,e){Sv||function(){var t=hb.Promise.resolve(void 0);Sv=function(){t.then(Mv)}}(),Nv||(Sv(),Nv=!0),Pv.add(t,e)}var Nv=!1,Pv=new Iv;function Mv(){for(var t;t=xv();){try{t.h.call(t.g)}catch(n){Rv(n)}var e=Tv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Nv=!1}function Lv(t,e){kv.call(this),this.h=t||1,this.g=e||hb,this.j=_b(this.kb,this),this.l=Date.now()}function jv(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Fv(t,e,n){if("function"==typeof t)n&&(t=_b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_b(t.handleEvent,t)}return 2147483647<Number(e)?-1:hb.setTimeout(t,e||0)}function Bv(t){t.g=Fv((function(){t.g=null,t.i&&(t.i=!1,Bv(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}kb(Lv,kv),(lb=Lv.prototype).da=!1,lb.S=null,lb.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cv(this,"tick"),this.da&&(jv(this),this.start()))}},lb.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lb.M=function(){Lv.Z.M.call(this),jv(this),delete this.g};var zv=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ab(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Bv(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(hb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Cb);function Qv(t){Cb.call(this),this.h=t,this.g={}}kb(Qv,Cb);var Vv=[];function Uv(t,e,n,r){Array.isArray(n)||(n&&(Vv[0]=n.toString()),n=Vv);for(var i=0;i<n.length;i++){var o=pv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function qv(t){Lb(t.g,(function(t,e){this.g.hasOwnProperty(e)&&mv(t)}),t),t.g={}}function Hv(){this.g=!0}function Gv(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ev(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Qv.prototype.M=function(){Qv.Z.M.call(this),qv(this)},Qv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hv.prototype.Aa=function(){this.g=!1},Hv.prototype.info=function(){};var Wv={},Kv=null;function $v(){return Kv=Kv||new kv}function Yv(t){nv.call(this,Wv.Ma,t)}function Zv(t){var e=$v();Cv(e,new Yv(e,t))}function Jv(t,e){nv.call(this,Wv.STAT_EVENT,t),this.stat=e}function Xv(t){var e=$v();Cv(e,new Jv(e,t))}function ty(t,e){nv.call(this,Wv.Na,t),this.size=e}function ey(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return hb.setTimeout((function(){t()}),e)}Wv.Ma="serverreachability",kb(Yv,nv),Wv.STAT_EVENT="statevent",kb(Jv,nv),Wv.Na="timingevent",kb(ty,nv);var ny={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ry={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function iy(){}function oy(){}iy.prototype.h=null;var sy,ay={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cy(){nv.call(this,"d")}function ly(){nv.call(this,"c")}function uy(){}function dy(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Qv(this),this.P=fy,this.W=new Lv(t=Gb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}kb(cy,nv),kb(ly,nv),kb(uy,iy),uy.prototype.g=function(){return new XMLHttpRequest},uy.prototype.i=function(){return{}},sy=new uy;var fy=45e3,py={},gy={};function my(t,e,n){t.K=1,t.v=By(Ny(e)),t.s=n,t.U=!0,by(t,null)}function by(t,e){t.F=Date.now(),wy(t),t.A=Ny(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Jy(n.h,"t",r),t.C=0,n=t.l.H,t.h=new hy,t.g=X_(t.l,n?e:null,!t.s),0<t.O&&(t.L=new zv(_b(t.Ia,t,t.g),t.O)),Uv(t.V,t.g,"readystatechange",t.gb),e=t.H?jb(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Zv(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function vy(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function yy(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=_y(t,n))==gy){4==e&&(t.o=4,Xv(14),i=!1),Gv(t.j,t.m,null,"[Incomplete Response]");break}if(r==py){t.o=4,Xv(15),Gv(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Gv(t.j,t.m,r,null),xy(t,r)}vy(t)&&r!=gy&&r!=py&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xv(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),H_(e),e.L=!0,Xv(11))):(Gv(t.j,t.m,n,"[Invalid Chunked Response]"),Ey(t),Ay(t))}function _y(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?gy:(n=Number(e.substring(n,r)),isNaN(n)?py:(r+=1)+n>e.length?gy:(e=e.substr(r,n),t.C=r+n,e))}function wy(t){t.Y=Date.now()+t.P,ky(t,t.P)}function ky(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ey(_b(t.eb,t),e)}function Cy(t){t.B&&(hb.clearTimeout(t.B),t.B=null)}function Ay(t){0==t.l.G||t.I||K_(t.l,t)}function Ey(t){Cy(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,jv(t.W),qv(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function xy(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||o_(n.i,t)))if(n.I=t.N,!t.J&&o_(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;W_(n),L_(n)}q_(n),Xv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ey(_b(n.ab,n),6e3));if(1>=i_(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Y_(n,11)}else if((t.J||n.g==t)&&W_(n),!Tb(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(n.K=r=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=t.g;if(l){var u=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var d=r.i;!d.g&&(Ob(u,"spdy")||Ob(u,"quic")||Ob(u,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(s_(d,d.h),d.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Fy(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=J_(r,r.H?r.la:null,r.W),f.J){a_(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Cy(p),wy(p)),r.g=f}else U_(r);0<n.l.length&&B_(n)}else"stop"!=o[0]&&"close"!=o[0]||Y_(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Y_(n,7):M_(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Zv(4)}catch(o){}}function Sy(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pb(t)||"string"==typeof t)xb(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(pb(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(pb(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Iy(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Iy)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ty(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Dy(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Dy(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Dy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(lb=dy.prototype).setTimeout=function(t){this.P=t},lb.gb=function(t){t=t.target;var e=this.L;e&&3==D_(t)?e.l():this.Ia(t)},lb.Ia=function(t){try{if(t==this.g)t:{var e=D_(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Gb||this.g&&(this.h.h||this.g.ga()||R_(this.g)))){this.I||4!=e||7==n||Zv(8==n||0>=r?3:2),Cy(this);var i=this.g.ba();this.N=i;e:if(vy(this)){var o=R_(this.g);t="";var s=o.length,a=4==D_(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ey(this),Ay(this);var c="";break e}this.h.i=new hb.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tb(l)){var d=l;break e}}d=null}if(!(i=d)){this.i=!1,this.o=3,Xv(12),Ey(this),Ay(this);break t}Gv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xy(this,i)}this.U?(yy(this,e,c),Gb&&this.i&&3==e&&(Uv(this.V,this.W,"tick",this.fb),this.W.start())):(Gv(this.j,this.m,c,null),xy(this,c)),4==e&&Ey(this),this.i&&!this.I&&(4==e?K_(this.l,this):(this.i=!1,wy(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Xv(12)):(this.o=0,Xv(13)),Ey(this),Ay(this)}}}catch(e){}},lb.fb=function(){if(this.g){var t=D_(this.g),e=this.g.ga();this.C<e.length&&(Cy(this),yy(this,t,e),this.i&&4!=t&&wy(this))}},lb.cancel=function(){this.I=!0,Ey(this)},lb.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Zv(3),Xv(17)),Ey(this),this.o=2,Ay(this)):ky(this,this.Y-t)},(lb=Iy.prototype).R=function(){Ty(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},lb.T=function(){return Ty(this),this.g.concat()},lb.get=function(t,e){return Dy(this.h,t)?this.h[t]:e},lb.set=function(t,e){Dy(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},lb.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ry=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oy(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Oy){this.g=void 0!==e?e:t.g,Py(this,t.j),this.s=t.s,My(this,t.i),Ly(this,t.m),this.l=t.l,e=t.h;var n=new Ky;n.i=e.i,e.g&&(n.g=new Iy(e.g),n.h=e.h),jy(this,n),this.o=t.o}else t&&(n=String(t).match(Ry))?(this.g=!!e,Py(this,n[1]||"",!0),this.s=zy(n[2]||""),My(this,n[3]||"",!0),Ly(this,n[4]),this.l=zy(n[5]||"",!0),jy(this,n[6]||"",!0),this.o=zy(n[7]||"")):(this.g=!!e,this.h=new Ky(null,this.g))}function Ny(t){return new Oy(t)}function Py(t,e,n){t.j=n?zy(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function My(t,e,n){t.i=n?zy(e,!0):e}function Ly(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jy(t,e,n){e instanceof Ky?(t.h=e,function(t,e){e&&!t.j&&($y(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yy(this,e),Jy(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Qy(e,Gy)),t.h=new Ky(e,t.g))}function Fy(t,e,n){t.h.set(e,n)}function By(t){return Fy(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qy(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vy),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vy(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oy.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qy(e,Uy,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Qy(e,Uy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qy(n,"/"==n.charAt(0)?Hy:qy,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qy(n,Wy)),t.join("")};var Uy=/[#\/\?@]/g,qy=/[#\?:]/g,Hy=/[#\?]/g,Gy=/[#\?@]/g,Wy=/#/g;function Ky(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $y(t){t.g||(t.g=new Iy,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yy(t,e){$y(t),e=Xy(t,e),Dy(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Dy((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ty(t)))}function Zy(t,e){return $y(t),e=Xy(t,e),Dy(t.g.h,e)}function Jy(t,e,n){Yy(t,e),0<n.length&&(t.i=null,t.g.set(Xy(t,e),Ib(n)),t.h+=n.length)}function Xy(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(lb=Ky.prototype).add=function(t,e){$y(this),this.i=null,t=Xy(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},lb.forEach=function(t,e){$y(this),this.g.forEach((function(n,r){xb(n,(function(n){t.call(e,n,r,this)}),this)}),this)},lb.T=function(){$y(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},lb.R=function(t){$y(this);var e=[];if("string"==typeof t)Zy(this,t)&&(e=Sb(e,this.g.get(Xy(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Sb(e,t[n])}return e},lb.set=function(t,e){return $y(this),this.i=null,Zy(this,t=Xy(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},lb.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},lb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var t_=function(){return function(t,e){this.h=t,this.g=e}}();function e_(t){this.l=t||n_,t=hb.PerformanceNavigationTiming?0<(t=hb.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(hb.g&&hb.g.Ea&&hb.g.Ea()&&hb.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var n_=10;function r_(t){return!!t.h||!!t.g&&t.g.size>=t.j}function i_(t){return t.h?1:t.g?t.g.size:0}function o_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function s_(t,e){t.g?t.g.add(e):t.h=e}function a_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function c_(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=cb(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ib(t.i)}function l_(){}function u_(){this.g=new l_}function d_(t,e,n){var r=n||"";try{Sy(t,(function(t,n){var i=t;gb(t)&&(i=Ev(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(kR){throw e.push(r+"type="+encodeURIComponent("_badmap")),kR}}function h_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function f_(t){this.l=t.$b||null,this.j=t.ib||!1}function p_(t,e){kv.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=g_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}e_.prototype.cancel=function(){var t,e;if(this.i=c_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=cb(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},l_.prototype.stringify=function(t){return hb.JSON.stringify(t,void 0)},l_.prototype.parse=function(t){return hb.JSON.parse(t,void 0)},kb(f_,iy),f_.prototype.g=function(){return new p_(this.l,this.j)},f_.prototype.i=function(t){return function(){return t}}({}),kb(p_,kv);var g_=0;function m_(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function b_(t){t.readyState=4,t.l=null,t.j=null,t.A=null,v_(t)}function v_(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(lb=p_.prototype).open=function(t,e){if(this.readyState!=g_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,v_(this)},lb.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||hb).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},lb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,b_(this)),this.readyState=g_},lb.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,v_(this)),this.g&&(this.readyState=3,v_(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==hb.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m_(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},lb.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?b_(this):v_(this),3==this.readyState&&m_(this)}},lb.Ua=function(t){this.g&&(this.response=this.responseText=t,b_(this))},lb.Ta=function(t){this.g&&(this.response=t,b_(this))},lb.ha=function(){this.g&&b_(this)},lb.setRequestHeader=function(t,e){this.v.append(t,e)},lb.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},lb.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(p_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var y_=hb.JSON.parse;function __(t){kv.call(this),this.headers=new Iy,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=w_,this.K=this.L=!1}kb(__,kv);var w_="",k_=/^https?$/i,C_=["POST","PUT"];function A_(t){return"content-type"==t.toLowerCase()}function E_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,x_(t),I_(t)}function x_(t){t.D||(t.D=!0,Cv(t,"complete"),Cv(t,"error"))}function S_(t){if(t.h&&void 0!==db&&(!t.C[1]||4!=D_(t)||2!=t.ba()))if(t.v&&4==D_(t))Fv(t.Fa,0,t);else if(Cv(t,"readystatechange"),4==D_(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ry)[1]||null;if(!o&&hb.self&&hb.self.location){var s=hb.self.location.protocol;o=s.substr(0,s.length-1)}i=!k_.test(o?o.toLowerCase():"")}e=i}if(e)Cv(t,"complete"),Cv(t,"success");else{t.m=6;try{var a=2<D_(t)?t.g.statusText:""}catch(c){a=""}t.j=a+" ["+t.ba()+"]",x_(t)}}finally{I_(t)}}}function I_(t,e){if(t.g){T_(t);var n=t.g,r=t.C[0]?fb:null;t.g=null,t.C=null,e||Cv(t,"ready");try{n.onreadystatechange=r}catch(kR){}}}function T_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(hb.clearTimeout(t.A),t.A=null)}function D_(t){return t.g?t.g.readyState:0}function R_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case w_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function O_(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Lb(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fy(t,e,n))}function N_(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function P_(t){this.za=0,this.l=[],this.h=new Hv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=N_("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=N_("baseRetryDelayMs",5e3,t),this.$a=N_("retryDelaySeedMs",1e4,t),this.Ya=N_("forwardChannelMaxRetries",2,t),this.ra=N_("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new e_(t&&t.concurrentRequestLimit),this.Ca=new u_,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function M_(t){if(j_(t),3==t.G){var e=t.V++,n=Ny(t.F);Fy(n,"SID",t.J),Fy(n,"RID",e),Fy(n,"TYPE","terminate"),Q_(t,n),(e=new dy(t,t.h,e,void 0)).K=2,e.v=By(Ny(n)),n=!1,hb.navigator&&hb.navigator.sendBeacon&&(n=hb.navigator.sendBeacon(e.v.toString(),"")),!n&&hb.Image&&((new Image).src=e.v,n=!0),n||(e.g=X_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wy(e)}Z_(t)}function L_(t){t.g&&(H_(t),t.g.cancel(),t.g=null)}function j_(t){L_(t),t.u&&(hb.clearTimeout(t.u),t.u=null),W_(t),t.i.cancel(),t.m&&("number"==typeof t.m&&hb.clearTimeout(t.m),t.m=null)}function F_(t,e){t.l.push(new t_(t.Za++,e)),3==t.G&&B_(t)}function B_(t){r_(t.i)||t.m||(t.m=!0,Ov(t.Ha,t),t.C=0)}function z_(t,e){var n;n=e?e.m:t.V++;var r=Ny(t.F);Fy(r,"SID",t.J),Fy(r,"RID",n),Fy(r,"AID",t.U),Q_(t,r),t.o&&t.s&&O_(r,t.o,t.s),n=new dy(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=V_(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),s_(t.i,n),my(n,r,e)}function Q_(t,e){t.j&&Sy({},(function(t,n){Fy(e,n,t)}))}function V_(t,e,n){n=Math.min(t.l.length,n);var r=t.j?_b(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var l=i[c].h,u=i[c].g;if(0>(l-=o))o=Math.max(0,i[c].h-100),a=!1;else try{d_(u,s,"req"+l+"_")}catch(d){r&&r(u)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function U_(t){t.g||t.u||(t.Y=1,Ov(t.Ga,t),t.A=0)}function q_(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ey(_b(t.Ga,t),$_(t,t.A)),t.A++,0))}function H_(t){null!=t.B&&(hb.clearTimeout(t.B),t.B=null)}function G_(t){t.g=new dy(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ny(t.oa);Fy(e,"RID","rpc"),Fy(e,"SID",t.J),Fy(e,"CI",t.N?"0":"1"),Fy(e,"AID",t.U),Q_(t,e),Fy(e,"TYPE","xmlhttp"),t.o&&t.s&&O_(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=By(Ny(e)),n.s=null,n.U=!0,by(n,t)}function W_(t){null!=t.v&&(hb.clearTimeout(t.v),t.v=null)}function K_(t,e){var n=null;if(t.g==e){W_(t),H_(t),t.g=null;var r=2}else{if(!o_(t.i,e))return;n=e.D,a_(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Cv(r=$v(),new ty(r,n,e,i)),B_(t)}else U_(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(i_(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ey(_b(t.Ha,t,e),$_(t,t.C)),t.C++,0)))}(t,e)||2==r&&q_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Y_(t,5);break;case 4:Y_(t,10);break;case 3:Y_(t,6);break;default:Y_(t,2)}}function $_(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Y_(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=_b(t.jb,t);n||(n=new Oy("//www.google.com/images/cleardot.gif"),hb.location&&"http"==hb.location.protocol||Py(n,"https"),By(n)),function(t,e){var n=new Hv;if(hb.Image){var r=new Image;r.onload=wb(h_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wb(h_,n,r,"TestLoadImage: error",!1,e),r.onabort=wb(h_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wb(h_,n,r,"TestLoadImage: timeout",!1,e),hb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xv(2);t.G=0,t.j&&t.j.va(e),Z_(t),j_(t)}function Z_(t){t.G=0,t.I=-1,t.j&&(0==c_(t.i).length&&0==t.l.length||(t.i.i.length=0,Ib(t.l),t.l.length=0),t.j.ua())}function J_(t,e,n){var r=function(t){return t instanceof Oy?Ny(t):new Oy(t,void 0)}(n);if(""!=r.i)e&&My(r,e+"."+r.i),Ly(r,r.m);else{var i=hb.location;r=function(t,e,n,r){var i=new Oy(null,void 0);return t&&Py(i,t),e&&My(i,e),n&&Ly(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Lb(t.aa,(function(t,e){Fy(r,e,t)})),n=t.sa,(e=t.D)&&n&&Fy(r,e,n),Fy(r,"VER",t.ma),Q_(t,r),r}function X_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new __(n&&t.Ba&&!t.qa?new f_({ib:!0}):t.qa)).L=t.H,e}function tw(){}function ew(){if(qb&&!(10<=Number(tv)))throw Error("Environmental error: no available transport.")}function nw(t,e){kv.call(this),this.g=new P_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Tb(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tb(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ow(this)}function rw(t){cy.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function iw(){ly.call(this),this.status=1}function ow(t){this.g=t}(lb=__.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sy.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:sy),this.g.onreadystatechange=_b(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void E_(this,o)}t=n||"";var i=new Iy(this.headers);r&&Sy(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=A_,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=hb.FormData&&t instanceof hb.FormData,!(0<=Eb(C_,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{T_(this),0<this.B&&((this.K=function(t){return qb&&function(){return t=Xb,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Rb(String(Qb)).split("."),n=Rb("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Nb(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Nb(0==o[2].length,0==s[2].length)||Nb(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_b(this.pa,this)):this.A=Fv(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){E_(this,o)}},lb.pa=function(){void 0!==db&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cv(this,"timeout"),this.abort(8))},lb.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cv(this,"complete"),Cv(this,"abort"),I_(this))},lb.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),I_(this,!0)),__.Z.M.call(this)},lb.Fa=function(){this.s||(this.F||this.v||this.l?S_(this):this.cb())},lb.cb=function(){S_(this)},lb.ba=function(){try{return 2<D_(this)?this.g.status:-1}catch(Vb){return-1}},lb.ga=function(){try{return this.g?this.g.responseText:""}catch(Vb){return""}},lb.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),y_(e)}},lb.Da=function(){return this.m},lb.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lb=P_.prototype).ma=8,lb.G=1,lb.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},lb.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new dy(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Bb(n=jb(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=V_(this,e,r),Fy(i=Ny(this.F),"RID",t),Fy(i,"CVER",22),this.D&&Fy(i,"X-HTTP-Session-Id",this.D),Q_(this,i),this.o&&n&&O_(i,this.o,n),s_(this.i,e),this.Ra&&Fy(i,"TYPE","init"),this.ja?(Fy(i,"$req",r),Fy(i,"SID","null"),e.$=!0,my(e,i,null)):my(e,i,r),this.G=2}}else 3==this.G&&(t?z_(this,t):0==this.l.length||r_(this.i)||z_(this))},lb.Ga=function(){if(this.u=null,G_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ey(_b(this.bb,this),t)}},lb.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xv(10),L_(this),G_(this))},lb.ab=function(){null!=this.v&&(this.v=null,L_(this),q_(this),Xv(19))},lb.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Xv(2)):(this.h.info("Failed to ping google.com"),Xv(1))},(lb=tw.prototype).xa=function(){},lb.wa=function(){},lb.va=function(){},lb.ua=function(){},lb.Oa=function(){},ew.prototype.g=function(t,e){return new nw(t,e)},kb(nw,kv),nw.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ov(_b(t.hb,t,e))),Xv(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=J_(t,null,t.W),B_(t)},nw.prototype.close=function(){M_(this.g)},nw.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,F_(this.g,e)}else this.v?((e={}).__data__=Ev(t),F_(this.g,e)):F_(this.g,t)},nw.prototype.M=function(){this.g.j=null,delete this.j,M_(this.g),delete this.g,nw.Z.M.call(this)},kb(rw,cy),kb(iw,ly),kb(ow,tw),ow.prototype.xa=function(){Cv(this.g,"a")},ow.prototype.wa=function(t){Cv(this.g,new rw(t))},ow.prototype.va=function(t){Cv(this.g,new iw(t))},ow.prototype.ua=function(){Cv(this.g,"b")},ew.prototype.createWebChannel=ew.prototype.g,nw.prototype.send=nw.prototype.u,nw.prototype.open=nw.prototype.m,nw.prototype.close=nw.prototype.close,ny.NO_ERROR=0,ny.TIMEOUT=8,ny.HTTP_ERROR=6,ry.COMPLETE="complete",oy.EventType=ay,ay.OPEN="a",ay.CLOSE="b",ay.ERROR="c",ay.MESSAGE="d",kv.prototype.listen=kv.prototype.N,__.prototype.listenOnce=__.prototype.O,__.prototype.getLastError=__.prototype.La,__.prototype.getLastErrorCode=__.prototype.Da,__.prototype.getStatus=__.prototype.ba,__.prototype.getResponseJson=__.prototype.Qa,__.prototype.getResponseText=__.prototype.ga,__.prototype.send=__.prototype.ea;var sw=ny,aw=ry,cw=Wv,lw=f_,uw=oy,dw=__,hw=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();hw.o=-1;var fw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return nb(e,t),e}(Error),gw=new sb.Logger("@firebase/firestore");function mw(){return gw.logLevel}function bw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gw.logLevel<=sb.LogLevel.DEBUG){var r=e.map(_w);gw.debug.apply(gw,ob(["Firestore (8.10.1): "+t],r))}}function vw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gw.logLevel<=sb.LogLevel.ERROR){var r=e.map(_w);gw.error.apply(gw,ob(["Firestore (8.10.1): "+t],r))}}function yw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gw.logLevel<=sb.LogLevel.WARN){var r=e.map(_w);gw.warn.apply(gw,ob(["Firestore (8.10.1): "+t],r))}}function _w(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(kR){return t}}function ww(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw vw(e),new Error(e)}function kw(t,e){t||ww()}function Cw(t,e){return t}function Aw(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ew=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Aw(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xw(t,e){return t<e?-1:t>e?1:0}function Sw(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Iw(t){return t+"\0"}var Tw=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pw(fw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pw(fw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new pw(fw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pw(fw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?xw(this.nanoseconds,t.nanoseconds):xw(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Dw=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Tw(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Rw(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ow(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pw=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ww(),void 0===n?n=t.length-e:n>t.length-e&&ww(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new pw(fw.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Pw),Lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Lw.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new pw(fw.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new pw(fw.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new pw(fw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pw(fw.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Pw),Fw=function(){function t(t){this.fields=t,t.sort(jw.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Sw(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Bw=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return xw(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Bw.EMPTY_BYTE_STRING=new Bw("");var zw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qw(t){if(kw(!!t),"string"==typeof t){var e=0,n=zw.exec(t);if(kw(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vw(t.seconds),nanos:Vw(t.nanos)}}function Vw(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Uw(t){return"string"==typeof t?Bw.fromBase64String(t):Bw.fromUint8Array(t)}function qw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hw(t){var e=Qw(t.mapValue.fields.__local_write_time__.timestampValue);return new Tw(e.seconds,e.nanos)}function Gw(t){return null==t}function Ww(t){return 0===t&&1/t==-1/0}function Kw(t){return"number"==typeof t&&Number.isInteger(t)&&!Ww(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $w=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Mw.fromString(e))},t.fromName=function(e){return new t(Mw.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Mw.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Mw.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Mw(e.slice()))},t}();function Yw(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qw(t)?4:10:ww()}function Zw(t,e){var n=Yw(t);if(n!==Yw(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hw(t).isEqual(Hw(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Qw(t.timestampValue),r=Qw(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Uw(t.bytesValue).isEqual(Uw(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Vw(t.geoPointValue.latitude)===Vw(e.geoPointValue.latitude)&&Vw(t.geoPointValue.longitude)===Vw(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Vw(t.integerValue)===Vw(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Vw(t.doubleValue),r=Vw(e.doubleValue);return n===r?Ww(n)===Ww(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sw(t.arrayValue.values||[],e.arrayValue.values||[],Zw);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Rw(n)!==Rw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zw(n[i],r[i])))return!1;return!0}(t,e);default:return ww()}}function Jw(t,e){return void 0!==(t.values||[]).find((function(t){return Zw(t,e)}))}function Xw(t,e){var n=Yw(t),r=Yw(e);if(n!==r)return xw(n,r);switch(n){case 0:return 0;case 1:return xw(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Vw(t.integerValue||t.doubleValue),r=Vw(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return tk(t.timestampValue,e.timestampValue);case 4:return tk(Hw(t),Hw(e));case 5:return xw(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Uw(t),r=Uw(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xw(n[i],r[i]);if(0!==o)return o}return xw(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xw(Vw(t.latitude),Vw(e.latitude));return 0!==n?n:xw(Vw(t.longitude),Vw(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Xw(n[i],r[i]);if(o)return o}return xw(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=xw(r[s],o[s]);if(0!==a)return a;var c=Xw(n[r[s]],i[o[s]]);if(0!==c)return c}return xw(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ww()}}function tk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xw(t,e);var n=Qw(t),r=Qw(e),i=xw(n.seconds,r.seconds);return 0!==i?i:xw(n.nanos,r.nanos)}function ek(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Qw(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Uw(e.bytesValue).toBase64():"referenceValue"in e?$w.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):ww();var n}(t)}function nk(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function rk(t){return!!t&&"integerValue"in t}function ik(t){return!!t&&"arrayValue"in t}function ok(t){return!!t&&"nullValue"in t}function sk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ak(t){return!!t&&"mapValue"in t}function ck(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Ow(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=ck(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ck(t.arrayValue.values[r]);return n}return Object.assign({},t)}var lk=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ak(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ck(e)},t.prototype.setAll=function(t){var e=this,n=jw.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ck(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ak(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Zw(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ak(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Ow(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(ck(this.value))},t}();function uk(t){var e=[];return Ow(t.fields,(function(t,n){var r=new jw([t]);if(ak(n)){var i=uk(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Fw(e)}var dk=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Dw.min(),lk.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,lk.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,lk.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=lk.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=lk.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),hk=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function fk(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new hk(t,e,n,r,i,o,s)}function pk(t){var e=Cw(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ek(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Gw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Sk(e.startAt)),e.endAt&&(n+="|ub:",n+=Sk(e.endAt)),e.h=n}return e.h}function gk(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Zw(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rk(t.startAt,e.startAt)&&Rk(t.endAt,e.endAt)}function mk(t){return $w.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var bk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return nb(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new vk(t,n,r):"array-contains"===n?new kk(t,r):"in"===n?new Ck(t,r):"not-in"===n?new Ak(t,r):"array-contains-any"===n?new Ek(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new yk(t,n):new _k(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Xw(e,this.value)):null!==e&&Yw(this.value)===Yw(e)&&this.m(Xw(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ww()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),vk=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=$w.fromName(r.referenceValue),i}return nb(e,t),e.prototype.matches=function(t){var e=$w.comparator(t.key,this.key);return this.m(e)},e}(bk),yk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=wk(0,n),r}return nb(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bk),_k=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=wk(0,n),r}return nb(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bk);function wk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return $w.fromName(t.referenceValue)}))}var kk=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return nb(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ik(e)&&Jw(e.arrayValue,this.value)},e}(bk),Ck=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return nb(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Jw(this.value.arrayValue,e)},e}(bk),Ak=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return nb(e,t),e.prototype.matches=function(t){if(Jw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Jw(this.value.arrayValue,e)},e}(bk),Ek=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return nb(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ik(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Jw(e.value.arrayValue,t)}))},e}(bk),xk=function(t,e){this.position=t,this.before=e};function Sk(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ek(t)})).join(",")}var Ik=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dk(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?$w.comparator($w.fromName(s.referenceValue),n.key):Xw(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Rk(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Zw(t.position[n],e.position[n]))return!1;return!0}var Ok=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Nk(t,e,n,r,i,o,s,a){return new Ok(t,e,n,r,i,o,s,a)}function Pk(t){return new Ok(t)}function Mk(t){return!Gw(t.limit)&&"F"===t.limitType}function Lk(t){return!Gw(t.limit)&&"L"===t.limitType}function jk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Fk(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Bk(t){return null!==t.collectionGroup}function zk(t){var e=Cw(t);if(null===e.p){e.p=[];var n=Fk(e),r=jk(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ik(n)),e.p.push(new Ik(jw.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ik(jw.keyField(),c))}}}return e.p}function Qk(t){var e=Cw(t);if(!e.T)if("F"===e.limitType)e.T=fk(e.path,e.collectionGroup,zk(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=zk(e);r<i.length;r++){var o=i[r];n.push(new Ik(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new xk(e.endAt.position,!e.endAt.before):null,a=e.startAt?new xk(e.startAt.position,!e.startAt.before):null;e.T=fk(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Vk(t,e,n){return new Ok(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uk(t,e){return gk(Qk(t),Qk(e))&&t.limitType===e.limitType}function qk(t){return pk(Qk(t))+"|lt:"+t.limitType}function Hk(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ek(e.value);var e})).join(", ")+"]"),Gw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Sk(t.startAt)),t.endAt&&(e+=", endAt: "+Sk(t.endAt)),"Target("+e+")"}(Qk(t))+"; limitType="+t.limitType+")"}function Gk(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):$w.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dk(t.startAt,zk(t),e)||t.endAt&&Dk(t.endAt,zk(t),e))}(t,e)}function Wk(t){return function(e,n){for(var r=!1,i=0,o=zk(t);i<o.length;i++){var s=o[i],a=Kk(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Kk(t,e,n){var r=t.field.isKeyField()?$w.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Xw(r,i):ww()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ww()}}function $k(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ww(e)?"-0":e}}function Yk(t){return{integerValue:""+t}}function Zk(t,e){return Kw(e)?Yk(e):$k(t,e)}var Jk=function(){this._=void 0};function Xk(t,e,n){return t instanceof nC?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof rC?iC(t,e):t instanceof oC?sC(t,e):function(t,e){var n=eC(t,e),r=cC(n)+cC(t.A);return rk(n)&&rk(t.A)?Yk(r):$k(t.R,r)}(t,e)}function tC(t,e,n){return t instanceof rC?iC(t,e):t instanceof oC?sC(t,e):n}function eC(t,e){return t instanceof aC?rk(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var nC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e}(Jk),rC=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return nb(e,t),e}(Jk);function iC(t,e){for(var n=lC(e),r=function(t){n.some((function(e){return Zw(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var oC=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return nb(e,t),e}(Jk);function sC(t,e){for(var n=lC(e),r=function(t){n=n.filter((function(e){return!Zw(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var aC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return nb(e,t),e}(Jk);function cC(t){return Vw(t.integerValue||t.doubleValue)}function lC(t){return ik(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var uC=function(t,e){this.field=t,this.transform=e},dC=function(t,e){this.version=t,this.transformResults=e},hC=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fC(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var pC=function(){};function gC(t,e,n){t instanceof _C?function(t,e,n){var r=t.value.clone(),i=CC(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof wC?function(t,e,n){if(fC(t.precondition,e)){var r=CC(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(kC(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function mC(t,e,n){t instanceof _C?function(t,e,n){if(fC(t.precondition,e)){var r=t.value.clone(),i=AC(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(yC(e),r).setHasLocalMutations()}}(t,e,n):t instanceof wC?function(t,e,n){if(fC(t.precondition,e)){var r=AC(t.fieldTransforms,n,e),i=e.data;i.setAll(kC(t)),i.setAll(r),e.convertToFoundDocument(yC(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){fC(t.precondition,e)&&e.convertToNoDocument(Dw.min())}(t,e)}function bC(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=eC(o.transform,s||null);null!=a&&(null==n&&(n=lk.empty()),n.set(o.field,a))}return n||null}function vC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Sw(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof rC&&e instanceof rC||t instanceof oC&&e instanceof oC?Sw(t.elements,e.elements,Zw):t instanceof aC&&e instanceof aC?Zw(t.A,e.A):t instanceof nC&&e instanceof nC}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function yC(t){return t.isFoundDocument()?t.version:Dw.min()}var _C=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return nb(e,t),e}(pC),wC=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return nb(e,t),e}(pC);function kC(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function CC(t,e,n){var r=new Map;kw(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tC(s,a,n[i]))}return r}function AC(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,Xk(a,c,e))}return r}var EC,xC,SC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return nb(e,t),e}(pC),IC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return nb(e,t),e}(pC),TC=function(t){this.count=t};function DC(t){switch(t){case fw.OK:return ww();case fw.CANCELLED:case fw.UNKNOWN:case fw.DEADLINE_EXCEEDED:case fw.RESOURCE_EXHAUSTED:case fw.INTERNAL:case fw.UNAVAILABLE:case fw.UNAUTHENTICATED:return!1;case fw.INVALID_ARGUMENT:case fw.NOT_FOUND:case fw.ALREADY_EXISTS:case fw.PERMISSION_DENIED:case fw.FAILED_PRECONDITION:case fw.ABORTED:case fw.OUT_OF_RANGE:case fw.UNIMPLEMENTED:case fw.DATA_LOSS:return!0;default:return ww()}}function RC(t){if(void 0===t)return vw("GRPC error has no .code"),fw.UNKNOWN;switch(t){case EC.OK:return fw.OK;case EC.CANCELLED:return fw.CANCELLED;case EC.UNKNOWN:return fw.UNKNOWN;case EC.DEADLINE_EXCEEDED:return fw.DEADLINE_EXCEEDED;case EC.RESOURCE_EXHAUSTED:return fw.RESOURCE_EXHAUSTED;case EC.INTERNAL:return fw.INTERNAL;case EC.UNAVAILABLE:return fw.UNAVAILABLE;case EC.UNAUTHENTICATED:return fw.UNAUTHENTICATED;case EC.INVALID_ARGUMENT:return fw.INVALID_ARGUMENT;case EC.NOT_FOUND:return fw.NOT_FOUND;case EC.ALREADY_EXISTS:return fw.ALREADY_EXISTS;case EC.PERMISSION_DENIED:return fw.PERMISSION_DENIED;case EC.FAILED_PRECONDITION:return fw.FAILED_PRECONDITION;case EC.ABORTED:return fw.ABORTED;case EC.OUT_OF_RANGE:return fw.OUT_OF_RANGE;case EC.UNIMPLEMENTED:return fw.UNIMPLEMENTED;case EC.DATA_LOSS:return fw.DATA_LOSS;default:return ww()}}(xC=EC||(EC={}))[xC.OK=0]="OK",xC[xC.CANCELLED=1]="CANCELLED",xC[xC.UNKNOWN=2]="UNKNOWN",xC[xC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xC[xC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xC[xC.NOT_FOUND=5]="NOT_FOUND",xC[xC.ALREADY_EXISTS=6]="ALREADY_EXISTS",xC[xC.PERMISSION_DENIED=7]="PERMISSION_DENIED",xC[xC.UNAUTHENTICATED=16]="UNAUTHENTICATED",xC[xC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xC[xC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xC[xC.ABORTED=10]="ABORTED",xC[xC.OUT_OF_RANGE=11]="OUT_OF_RANGE",xC[xC.UNIMPLEMENTED=12]="UNIMPLEMENTED",xC[xC.INTERNAL=13]="INTERNAL",xC[xC.UNAVAILABLE=14]="UNAVAILABLE",xC[xC.DATA_LOSS=15]="DATA_LOSS";var OC=function(){function t(t,e){this.comparator=t,this.root=e||PC.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,PC.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,PC.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new NC(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new NC(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new NC(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new NC(this.root,t,this.comparator,!0)},t}(),NC=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),PC=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ww();if(this.right.isRed())throw ww();var t=this.left.check();if(t!==this.right.check())throw ww();return t+(this.isRed()?0:1)},t}();PC.EMPTY=null,PC.RED=!0,PC.BLACK=!1,PC.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ww()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ww()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ww()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ww()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ww()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new PC(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var MC=function(){function t(t){this.comparator=t,this.data=new OC(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new LC(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new LC(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),LC=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),jC=new OC($w.comparator);function FC(){return jC}var BC=new OC($w.comparator);function zC(){return BC}var QC=new OC($w.comparator);function VC(){return QC}var UC=new MC($w.comparator);function qC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=UC,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var HC=new MC(xw);function GC(){return HC}var WC=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,KC.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Dw.min(),r,GC(),FC(),qC())},t}(),KC=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Bw.EMPTY_BYTE_STRING,n,qC(),qC(),qC())},t}(),$C=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},YC=function(t,e){this.targetId=t,this.V=e},ZC=function(t,e,n,r){void 0===n&&(n=Bw.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},JC=function(){function t(){this.S=0,this.D=eA(),this.C=Bw.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=qC(),e=qC(),n=qC();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ww()}})),new KC(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=eA()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),XC=function(){function t(t){this.W=t,this.G=new Map,this.H=FC(),this.J=tA(),this.Y=new MC(xw)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ww()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(mk(i))if(0===n){var o=new $w(i.path);this.tt(e,o,dk.newNoDocument(o,Dw.min()))}else kw(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&mk(o.target)){var s=new $w(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,dk.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=qC();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new WC(t,n,this.Y,this.H,r);return this.H=FC(),this.J=tA(),this.Y=new MC(xw),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new JC,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new MC(xw),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||bw("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new JC),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function tA(){return new OC($w.comparator)}function eA(){return new OC($w.comparator)}var nA={asc:"ASCENDING",desc:"DESCENDING"},rA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iA=function(t,e){this.databaseId=t,this.I=e};function oA(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(t,e){return t.I?e.toBase64():e.toUint8Array()}function aA(t,e){return oA(t,e.toTimestamp())}function cA(t){return kw(!!t),Dw.fromTimestamp(function(t){var e=Qw(t);return new Tw(e.seconds,e.nanos)}(t))}function lA(t,e){return function(t){return new Mw(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function uA(t){var e=Mw.fromString(t);return kw(NA(e)),e}function dA(t,e){return lA(t.databaseId,e.path)}function hA(t,e){var n=uA(e);if(n.get(1)!==t.databaseId.projectId)throw new pw(fw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pw(fw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $w(mA(n))}function fA(t,e){return lA(t.databaseId,e)}function pA(t){var e=uA(t);return 4===e.length?Mw.emptyPath():mA(e)}function gA(t){return new Mw(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mA(t){return kw(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function bA(t,e,n){return{name:dA(t,e),fields:n.value.mapValue.fields}}function vA(t,e,n){var r=hA(t,e.name),i=cA(e.updateTime),o=new lk({mapValue:{fields:e.fields}}),s=dk.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function yA(t,e){var n;if(e instanceof _C)n={update:bA(t,e.key,e.value)};else if(e instanceof SC)n={delete:dA(t,e.key)};else if(e instanceof wC)n={update:bA(t,e.key,e.data),updateMask:OA(e.fieldMask)};else{if(!(e instanceof IC))return ww();n={verify:dA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof nC)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rC)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oC)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof aC)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ww()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:aA(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ww()}(t,e.precondition)),n}function _A(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?hC.updateTime(cA(t.updateTime)):void 0!==t.exists?hC.exists(t.exists):hC.none()}(e.currentDocument):hC.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(kw("REQUEST_TIME"===e.setToServerValue),n=new nC):"appendMissingElements"in e?n=new rC(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new oC(e.removeAllFromArray.values||[]):"increment"in e?n=new aC(t,e.increment):ww();var r=jw.fromServerFormat(e.fieldPath);return new uC(r,n)}(t,e)})):[];if(e.update){var i=hA(t,e.update.name),o=new lk({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Fw((t.fieldPaths||[]).map((function(t){return jw.fromServerFormat(t)})))}(e.updateMask);return new wC(i,o,s,n,r)}return new _C(i,o,n,r)}if(e.delete){var a=hA(t,e.delete);return new SC(a,n)}if(e.verify){var c=hA(t,e.verify);return new IC(c,n)}return ww()}function wA(t,e){return{documents:[fA(t,e.path)]}}function kA(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fA(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fA(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(sk(t.value))return{unaryFilter:{field:IA(t.field),op:"IS_NAN"}};if(ok(t.value))return{unaryFilter:{field:IA(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(sk(t.value))return{unaryFilter:{field:IA(t.field),op:"IS_NOT_NAN"}};if(ok(t.value))return{unaryFilter:{field:IA(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:IA(t.field),op:SA(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:IA(t.field),direction:xA(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Gw(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=AA(e.startAt)),e.endAt&&(n.structuredQuery.endAt=AA(e.endAt)),n}function CA(t){var e=pA(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){kw(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[RA(e)]:void 0!==e.fieldFilter?[DA(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):ww():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Ik(TA(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return Gw(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=EA(n.startAt));var u=null;return n.endAt&&(u=EA(n.endAt)),Nk(e,i,a,s,c,"F",l,u)}function AA(t){return{before:t.before,values:t.position}}function EA(t){return new xk(t.values||[],!!t.before)}function xA(t){return nA[t]}function SA(t){return rA[t]}function IA(t){return{fieldPath:t.canonicalString()}}function TA(t){return jw.fromServerFormat(t.fieldPath)}function DA(t){return bk.create(TA(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ww()}}(t.fieldFilter.op),t.fieldFilter.value)}function RA(t){switch(t.unaryFilter.op){case"IS_NAN":var e=TA(t.unaryFilter.field);return bk.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=TA(t.unaryFilter.field);return bk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=TA(t.unaryFilter.field);return bk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=TA(t.unaryFilter.field);return bk.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ww()}}function OA(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function NA(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function PA(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=LA(e)),e=MA(t.get(n),e);return LA(e)}function MA(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function LA(t){return t+"\x01\x01"}function jA(t){var e=t.length;if(kw(e>=2),2===e)return kw("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Mw.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ww(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ww()}o=s+2}return new Mw(r)}var FA=function(t,e){this.seconds=t,this.nanoseconds=e},BA=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};BA.store="owner",BA.key="owner";var zA=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};zA.store="mutationQueues",zA.keyPath="userId";var QA=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};QA.store="mutations",QA.keyPath="batchId",QA.userMutationsIndex="userMutationsIndex",QA.userMutationsKeyPath=["userId","batchId"];var VA=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,PA(e)]},t.key=function(t,e,n){return[t,PA(e),n]},t}();VA.store="documentMutations",VA.PLACEHOLDER=new VA;var UA=function(t,e){this.path=t,this.readTime=e},qA=function(t,e){this.path=t,this.version=e},HA=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};HA.store="remoteDocuments",HA.readTimeIndex="readTimeIndex",HA.readTimeIndexPath="readTime",HA.collectionReadTimeIndex="collectionReadTimeIndex",HA.collectionReadTimeIndexPath=["parentPath","readTime"];var GA=function(t){this.byteSize=t};GA.store="remoteDocumentGlobal",GA.key="remoteDocumentGlobalKey";var WA=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};WA.store="targets",WA.keyPath="targetId",WA.queryTargetsIndexName="queryTargetsIndex",WA.queryTargetsKeyPath=["canonicalId","targetId"];var KA=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};KA.store="targetDocuments",KA.keyPath=["targetId","path"],KA.documentTargetsIndex="documentTargetsIndex",KA.documentTargetsKeyPath=["path","targetId"];var $A=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$A.key="targetGlobalKey",$A.store="targetGlobal";var YA=function(t,e){this.collectionId=t,this.parent=e};YA.store="collectionParents",YA.keyPath=["collectionId","parent"];var ZA=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ZA.store="clientMetadata",ZA.keyPath="clientId";var JA=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};JA.store="bundles",JA.keyPath="bundleId";var XA=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};XA.store="namedQueries",XA.keyPath="name";var tE=ob(ob([],ob(ob([],ob(ob([],ob(ob([],[zA.store,QA.store,VA.store,HA.store,WA.store,BA.store,$A.store,KA.store]),[ZA.store])),[GA.store])),[YA.store])),[JA.store,XA.store]),eE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nE=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),rE=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},iE=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ww(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),oE=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new rE,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new cE(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=fE(e.target.error);n.ft.reject(new cE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new cE(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(bw("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new uE(e)},t}(),sE=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(il.getUA)())&&vw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return bw("SimpleDb","Removing database:",t),dE(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(il.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return rb(this,void 0,void 0,(function(){var e,n=this;return ib(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(bw("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new cE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new pw(fw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new cE(t,n))},i.onupgradeneeded=function(t){bw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){bw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return rb(this,void 0,void 0,(function(){var i,o,s,a,c;return ib(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,l,u;return ib(this,(function(d){switch(d.label){case 0:++o,d.label=1;case 1:return d.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=d.sent(),e=oE.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),iE.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(d.sent(),s),c)];case 4:return bw("SimpleDb","Transaction failed with error:",(l=d.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&o<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),aE=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return dE(this.Pt.delete())},t}(),cE=function(t){function e(e,n){var r=this;return(r=t.call(this,fw.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return nb(e,t),e}(pw);function lE(t){return"IndexedDbTransactionError"===t.name}var uE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(bw("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(bw("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dE(n)},t.prototype.add=function(t){return bw("SimpleDb","ADD",this.store.name,t,t),dE(this.store.add(t))},t.prototype.get=function(t){var e=this;return dE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),bw("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return bw("SimpleDb","DELETE",this.store.name,t),dE(this.store.delete(t))},t.prototype.count=function(){return bw("SimpleDb","COUNT",this.store.name),dE(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){bw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new iE((function(n,r){e.onerror=function(t){var e=fE(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new iE((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new aE(i),s=e(i.primaryKey,i.value,o);if(s instanceof iE){var a=s.catch((function(t){return o.done(),iE.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return iE.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function dE(t){return new iE((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=fE(t.target.error);n(e)}}))}var hE=!1;function fE(t){var e=sE._t(Object(il.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new pw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hE||(hE=!0,setTimeout((function(){throw r}),0)),r}}return t}var pE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return nb(e,t),e}(nE);function gE(t,e){var n=Cw(t);return sE.It(n.Mt,e)}var mE=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&gC(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&mC(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&mC(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dw.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),qC())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Sw(this.mutations,t.mutations,(function(t,e){return vC(t,e)}))&&Sw(this.baseMutations,t.baseMutations,(function(t,e){return vC(t,e)}))},t}(),bE=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){kw(e.mutations.length===r.length);for(var i=VC(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),vE=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Dw.min()),void 0===o&&(o=Dw.min()),void 0===s&&(s=Bw.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),yE=function(t){this.Lt=t};function _E(t,e){if(e.document)return vA(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=$w.fromSegments(e.noDocument.path),r=EE(e.noDocument.readTime),i=dk.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=$w.fromSegments(e.unknownDocument.path);return r=EE(e.unknownDocument.version),dk.newUnknownDocument(o,r)}return ww()}function wE(t,e,n){var r=kE(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:dA(t,e.key),fields:e.data.value.mapValue.fields,updateTime:oA(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new HA(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=AE(e.version);return s=e.hasCommittedMutations,new HA(null,new UA(a,c),null,s,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),u=AE(e.version);return new HA(new qA(l,u),null,null,!0,r,i)}return ww()}function kE(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function CE(t){var e=new Tw(t[0],t[1]);return Dw.fromTimestamp(e)}function AE(t){var e=t.toTimestamp();return new FA(e.seconds,e.nanoseconds)}function EE(t){var e=new Tw(t.seconds,t.nanoseconds);return Dw.fromTimestamp(e)}function xE(t,e){for(var n=(e.baseMutations||[]).map((function(e){return _A(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return _A(t.Lt,e)})),o=Tw.fromMillis(e.localWriteTimeMs);return new mE(e.batchId,o,n,i)}function SE(t){var e,n,r=EE(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?EE(t.lastLimboFreeSnapshotVersion):Dw.min();return void 0!==t.query.documents?(kw(1===(n=t.query).documents.length),e=Qk(Pk(pA(n.documents[0])))):e=function(t){return Qk(CA(t))}(t.query),new vE(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Bw.fromBase64String(t.resumeToken))}function IE(t,e){var n,r=AE(e.snapshotVersion),i=AE(e.lastLimboFreeSnapshotVersion);n=mk(e.target)?wA(t.Lt,e.target):kA(t.Lt,e.target);var o=e.resumeToken.toBase64();return new WA(e.targetId,pk(e.target),r,o,e.sequenceNumber,i,n)}function TE(t){var e=CA({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Vk(e,e.limit,"L"):e}var DE=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return RE(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:EE(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return RE(t).put({bundleId:(n=e).id,createTime:AE(cA(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return OE(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:TE(e.bundledQuery),readTime:EE(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return OE(t).put(function(t){return{name:t.name,readTime:AE(cA(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function RE(t){return gE(t,JA.store)}function OE(t){return gE(t,XA.store)}var NE=function(){function t(){this.Bt=new PE}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),iE.resolve()},t.prototype.getCollectionParents=function(t,e){return iE.resolve(this.Bt.getEntries(e))},t}(),PE=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new MC(Mw.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new MC(Mw.comparator)).toArray()},t}(),ME=function(){function t(){this.qt=new PE}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:PA(i)};return LE(t).put(o)}return iE.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Iw(e),""],!1,!0);return LE(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(jA(o.parent))}return n}))},t}();function LE(t){return gE(t,YA.store)}var jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function BE(t,e,n){var r=t.store(QA.store),i=t.store(VA.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){kw(1===a)})));for(var l=[],u=0,d=n.mutations;u<d.length;u++){var h=d[u],f=VA.key(e,h.key.path,n.batchId);o.push(i.delete(f)),l.push(h.key)}return iE.waitFor(o).next((function(){return l}))}function zE(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ww();e=t.noDocument}return JSON.stringify(e).length}FE.DEFAULT_COLLECTION_PERCENTILE=10,FE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,FE.DEFAULT=new FE(41943040,FE.DEFAULT_COLLECTION_PERCENTILE,FE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),FE.DISABLED=new FE(-1,0,0);var QE=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return kw(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return UE(t).$t({index:QA.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=qE(t),s=UE(t);return s.add({}).next((function(a){kw("number"==typeof a);for(var c=new mE(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return yA(t.Lt,e)})),i=n.mutations.map((function(e){return yA(t.Lt,e)}));return new QA(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),u=[],d=new MC((function(t,e){return xw(t.canonicalString(),e.canonicalString())})),h=0,f=r;h<f.length;h++){var p=f[h],g=VA.key(i.userId,p.key.path,a);d=d.add(p.key.path.popLast()),u.push(s.put(l)),u.push(o.put(g,VA.PLACEHOLDER))}return d.forEach((function(e){u.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=c.keys()})),iE.waitFor(u).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return UE(t).get(e).next((function(t){return t?(kw(t.userId===n.userId),xE(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?iE.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return UE(t).$t({index:QA.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(kw(e.batchId>=r),o=xE(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return UE(t).$t({index:QA.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return UE(t).Nt(QA.userMutationsIndex,n).next((function(t){return t.map((function(t){return xE(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=VA.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return qE(t).$t({range:i},(function(r,i,s){var a=r[0],c=r[2],l=jA(r[1]);if(a===n.userId&&e.path.isEqual(l))return UE(t).get(c).next((function(t){if(!t)throw ww();kw(t.userId===n.userId),o.push(xE(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new MC(xw),i=[];return e.forEach((function(e){var o=VA.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=qE(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[2],c=jA(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(a)})),iE.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=VA.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new MC(xw);return qE(t).$t({range:s},(function(t,e,o){var s=t[0],c=t[2],l=jA(t[1]);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(UE(t).get(e).next((function(t){if(null===t)throw ww();kw(t.userId===n.userId),r.push(xE(n.R,t))})))})),iE.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return BE(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),iE.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return iE.resolve();var r=IDBKeyRange.lowerBound(VA.prefixForUser(e.userId)),i=[];return qE(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=jA(t[1]);i.push(o)}else r.done()})).next((function(){kw(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return VE(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return HE(t).get(this.userId).next((function(t){return t||new zA(e.userId,-1,"")}))},t}();function VE(t,e,n){var r=VA.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return qE(t).$t({range:o,Ft:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function UE(t){return gE(t,QA.store)}function qE(t){return gE(t,VA.store)}function HE(t){return gE(t,zA.store)}var GE=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),WE=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new GE(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Dw.fromTimestamp(new Tw(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return KE(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return kw(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return KE(t).$t((function(s,a){var c=SE(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))})).next((function(){return iE.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return KE(t).$t((function(t,n){var r=SE(n);e(r)}))},t.prototype.Xt=function(t){return $E(t).get($A.key).next((function(t){return kw(null!==t),t}))},t.prototype.Zt=function(t,e){return $E(t).put($A.key,e)},t.prototype.te=function(t,e){return KE(t).put(IE(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=pk(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return KE(t).$t({range:r,index:WA.queryTargetsIndexName},(function(t,n,r){var o=SE(n);gk(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=YE(t);return e.forEach((function(e){var s=PA(e.path);i.push(o.put(new KA(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),iE.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=YE(t);return iE.forEach(e,(function(e){var o=PA(e.path);return iE.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=YE(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=YE(t),i=qC();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=jA(t[1]),o=new $w(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=PA(e.path),r=IDBKeyRange.bound([n],[Iw(n)],!1,!0),i=0;return YE(t).$t({index:KA.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return KE(t).get(e).next((function(t){return t?SE(t):null}))},t}();function KE(t){return gE(t,WA.store)}function $E(t){return gE(t,$A.store)}function YE(t){return gE(t,KA.store)}function ZE(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){if(t.code!==fw.FAILED_PRECONDITION||t.message!==eE)throw t;return bw("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function JE(t,e){var n=t[1],r=e[1],i=xw(t[0],e[0]);return 0===i?xw(n,r):i}var XE=function(){function t(t){this.ne=t,this.buffer=new MC(JE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();JE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),tx=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;bw("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return rb(e,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return lE(e=n.sent())?(bw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ZE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ex=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return iE.resolve(hw.o);var r=new XE(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bw("LruGarbageCollector","Garbage collection skipped; disabled"),iE.resolve(jE)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(bw("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jE):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,c,l=this,u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(bw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),mw()<=sb.LogLevel.DEBUG&&bw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-u)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),iE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),nx=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new ex(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return rx(t,n)},t.prototype.removeReference=function(t,e,n){return rx(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return rx(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return HE(t).Ot((function(r){return VE(t,r,e).next((function(t){return t&&(n=!0),iE.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var c=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),YE(t).delete([0,PA(s.path)])}))}));i.push(c)}})).next((function(){return iE.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return rx(t,e)},t.prototype.we=function(t,e){var n,r=YE(t),i=hw.o;return r.$t({index:KA.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==hw.o&&e(new $w(jA(n)),i),i=s,n=o):i=hw.o})).next((function(){i!==hw.o&&e(new $w(jA(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function rx(t,e){return YE(t).put(function(t,e){return new KA(0,PA(t.path),e)}(e,t.currentSequenceNumber))}var ix=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ow(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Nw(this.inner)},t}(),ox=function(){function t(){this.changes=new ix((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Dw.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:dk.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?iE.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),sx=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return lx(t).put(ux(e),n)},t.prototype.removeEntry=function(t,e){var n=lx(t),r=ux(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return lx(t).get(ux(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return lx(t).get(ux(e)).next((function(t){return{document:n.ye(e,t),size:zE(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=FC();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=FC(),i=new OC($w.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,zE(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return iE.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return lx(t).$t({range:r},(function(t,e,r){for(var s=$w.fromSegments(t);o&&$w.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=FC(),o=e.path.length+1,s={};if(n.isEqual(Dw.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),l=kE(n);s.range=IDBKeyRange.lowerBound([c,l],!0),s.index=HA.collectionReadTimeIndex}return lx(t).$t(s,(function(t,n,s){if(t.length===o){var a=_E(r.R,n);e.path.isPrefixOf(a.key.path)?Gk(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new ax(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return cx(t).get(GA.key).next((function(t){return kw(!!t),t}))},t.prototype.me=function(t,e){return cx(t).put(GA.key,e)},t.prototype.ye=function(t,e){if(e){var n=_E(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Dw.min()))return n}return dk.newInvalidDocument(t)},t}(),ax=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ix((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return nb(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new MC((function(t,e){return xw(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=wE(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var l=zE(c);r+=l-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var u=wE(e.Ie.R,dk.newNoDocument(o,Dw.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,u))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),iE.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ox);function cx(t){return gE(t,GA.store)}function lx(t){return gE(t,HA.store)}function ux(t){return t.path.toArray()}var dx=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;kw(n<r&&n>=0&&r<=11);var o=new oE("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(BA.store)}(t),function(t){t.createObjectStore(zA.store,{keyPath:zA.keyPath}),t.createObjectStore(QA.store,{keyPath:QA.keyPath,autoIncrement:!0}).createIndex(QA.userMutationsIndex,QA.userMutationsKeyPath,{unique:!0}),t.createObjectStore(VA.store)}(t),hx(t),function(t){t.createObjectStore(HA.store)}(t));var s=iE.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(KA.store),t.deleteObjectStore(WA.store),t.deleteObjectStore($A.store)}(t),hx(t)),s=s.next((function(){return function(t){var e=t.store($A.store),n=new $A(0,0,Dw.min().toTimestamp(),0);return e.put($A.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(QA.store).Nt().next((function(n){t.deleteObjectStore(QA.store),t.createObjectStore(QA.store,{keyPath:QA.keyPath,autoIncrement:!0}).createIndex(QA.userMutationsIndex,QA.userMutationsKeyPath,{unique:!0});var r=e.store(QA.store),i=n.map((function(t){return r.put(t)}));return iE.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ZA.store,{keyPath:ZA.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(GA.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(HA.store);e.createIndex(HA.readTimeIndex,HA.readTimeIndexPath,{unique:!1}),e.createIndex(HA.collectionReadTimeIndex,HA.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(JA.store,{keyPath:JA.keyPath})}(t),function(t){t.createObjectStore(XA.store,{keyPath:XA.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(HA.store).$t((function(t,n){e+=zE(n)})).next((function(){var n=new GA(e);return t.store(GA.store).put(GA.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(zA.store),r=t.store(QA.store);return n.Nt().next((function(n){return iE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(QA.userMutationsIndex,i).next((function(r){return iE.forEach(r,(function(r){kw(r.userId===n.userId);var i=xE(e.R,r);return BE(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(KA.store),n=t.store(HA.store);return t.store($A.store).get($A.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Mw(n),s=function(t){return[0,PA(t)]}(o);r.push(e.get(s).next((function(n){return n?iE.resolve():function(n){return e.put(new KA(0,PA(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return iE.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(YA.store,{keyPath:YA.keyPath});var n=e.store(YA.store),r=new PE,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:PA(i)})}};return e.store(HA.store).$t({Ft:!0},(function(t,e){var n=new Mw(t);return i(n.popLast())})).next((function(){return e.store(VA.store).$t({Ft:!0},(function(t,e){var n=jA(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(WA.store);return n.$t((function(t,r){var i=SE(r),o=IE(e.R,i);return n.put(o)}))},t}();function hx(t){t.createObjectStore(KA.store,{keyPath:KA.keyPath}).createIndex(KA.documentTargetsIndex,KA.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(WA.store,{keyPath:WA.keyPath}).createIndex(WA.queryTargetsIndexName,WA.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($A.store)}var fx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",px=function(){function t(e,n,r,i,o,s,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new pw(fw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nx(this,i),this.Le=n+"main",this.R=new yE(c),this.Be=new sE(this.Le,11,new dx(this.R)),this.qe=new WE(this.referenceDelegate,this.R),this.Ut=new ME,this.Ue=function(t,e){return new sx(t,e)}(this.R,this.Ut),this.Ke=new DE,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===u&&vw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new pw(fw.FAILED_PRECONDITION,fx);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new hw(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return rb(e,void 0,void 0,(function(){return ib(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return rb(e,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return rb(e,void 0,void 0,(function(){return ib(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return mx(e).put(new ZA(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(lE(e))return bw("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return bw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return gx(t).get(BA.key).next((function(t){return iE.resolve(e.tn(t))}))},t.prototype.en=function(t){return mx(t).delete(this.clientId)},t.prototype.nn=function(){return rb(this,void 0,void 0,(function(){var t,e,n,r=this;return ib(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=gE(t,ZA.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return iE.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?iE.resolve(!0):gx(t).get(BA.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new pw(fw.FAILED_PRECONDITION,fx);return!1}}return!(!e.networkEnabled||!e.inForeground)||mx(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&bw("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return rb(this,void 0,void 0,(function(){var t=this;return ib(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[BA.store,ZA.store],(function(e){var n=new pE(e,hw.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return mx(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return QE.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return bw("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",tE,(function(o){return r=new pE(o,i.Ne?i.Ne.next():hw.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw vw("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new pw(fw.FAILED_PRECONDITION,eE);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return gx(t).get(BA.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new pw(fw.FAILED_PRECONDITION,fx)}))},t.prototype.Ze=function(t){var e=new BA(this.clientId,this.allowTabSynchronization,Date.now());return gx(t).put(BA.key,e)},t.yt=function(){return sE.yt()},t.prototype.Xe=function(t){var e=this,n=gx(t);return n.get(BA.key).next((function(t){return e.tn(t)?(bw("IndexedDbPersistence","Releasing primary lease."),n.delete(BA.key)):iE.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(vw("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(il.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return bw("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return vw("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){vw("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gx(t){return gE(t,BA.store)}function mx(t){return gE(t,ZA.store)}function bx(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var vx=function(t,e){this.progress=t,this.wn=e},yx=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return $w.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Bk(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new $w(e)).next((function(t){var e=zC();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=zC();return this.Ut.getCollectionParents(t,i).next((function(s){return iE.forEach(s,(function(s){var a=function(t,e){return new Ok(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],l=c.key,u=r.get(l);null==u&&(u=dk.newInvalidDocument(l),r=r.insert(l,u)),mC(c,u,o.localWriteTime),u.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(t,n){Gk(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=qC(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof wC&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))})),l}))},t}(),_x=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=qC(),i=qC(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),wx=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Dw.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Mk(e)||Lk(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(mw()<=sb.LogLevel.DEBUG&&bw("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Hk(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new MC(Wk(t));return e.forEach((function(e,r){Gk(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return mw()<=sb.LogLevel.DEBUG&&bw("QueryEngine","Using full collection scan to execute query:",Hk(e)),this.Sn.getDocumentsMatchingQuery(t,e,Dw.min())},t}(),kx=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new OC(xw),this.Fn=new ix((function(t){return pk(t)}),gk),this.$n=Dw.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new yx(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Cx(t,e,n,r){return new kx(t,e,n,r)}function Ax(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o;return ib(this,(function(s){switch(s.label){case 0:return n=Cw(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new yx(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=qC(),a=0,c=o;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,d=l.mutations;u<d.length;u++)s=s.add(d[u].key)}for(var h=0,f=e;h<f.length;h++){var p=f[h];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ex(t,e){var n=Cw(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=iE.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);kw(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function xx(t){var e=Cw(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Sx(t,e){var n=Cw(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,l),function(t,e,n){return kw(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&s.push(n.qe.updateTargetData(t,l))}}}));var a=FC();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Ix(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Dw.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(c)}return iE.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function Ix(t,e,n,r,i){var o=qC();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=FC();return n.forEach((function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Dw.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):bw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Tx(t,e){var n=Cw(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Dx(t,e){var n=Cw(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?iE.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new vE(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Rx(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s;return ib(this,(function(a){switch(a.label){case 0:r=Cw(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!lE(s=a.sent()))throw s;return bw("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function Ox(t,e,n){var r=Cw(t),i=Dw.min(),o=qC();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Cw(t),i=r.Fn.get(n);return void 0!==i?iE.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Qk(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Dw.min(),n?o:qC())})).next((function(t){return{documents:t,Bn:o}}))}))}function Nx(t,e){var n=Cw(t),r=Cw(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Px(t){var e=Cw(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Cw(t),i=FC(),o=kE(n),s=lx(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:HA.readTimeIndex,range:a},(function(t,e){var n=_E(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:CE(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Mx(t){return rb(this,void 0,void 0,(function(){var e;return ib(this,(function(n){return[2,(e=Cw(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=lx(t),n=Dw.min();return e.$t({index:HA.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=CE(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Lx(t,e,n,r){return rb(this,void 0,void 0,(function(){var i,o,s,a,c,l,u,d,h,f;return ib(this,(function(p){switch(p.label){case 0:for(i=Cw(t),o=qC(),s=FC(),a=VC(),c=0,l=n;c<l.length;c++)d=e.qn((u=l[c]).metadata.name),u.document&&(o=o.add(d)),s=s.insert(d,e.Un(u)),a=a.insert(d,e.Kn(u.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Dx(i,function(t){return Qk(Pk(Mw.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Ix(t,h,s,Dw.min(),a).next((function(e){return h.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function jx(t,e,n){return void 0===n&&(n=qC()),rb(this,void 0,void 0,(function(){var r,i;return ib(this,(function(o){switch(o.label){case 0:return[4,Dx(t,Qk(TE(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Cw(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=cA(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(Bw.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Fx=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return iE.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:cA(n.createTime)}),iE.resolve()},t.prototype.getNamedQuery=function(t,e){return iE.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:TE(t.bundledQuery),readTime:cA(t.readTime)}}(e)),iE.resolve()},t}(),Bx=function(){function t(){this.Wn=new MC(zx.Gn),this.zn=new MC(zx.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new zx(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new zx(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new $w(new Mw([])),r=new zx(n,t),i=new zx(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new $w(new Mw([])),n=new zx(e,t),r=new zx(e,t+1),i=qC();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new zx(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),zx=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return $w.comparator(t.key,e.key)||xw(t.ns,e.ns)},t.Hn=function(t,e){return xw(t.ns,e.ns)||$w.comparator(t.key,e.key)},t}(),Qx=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new MC(zx.Gn)}return t.prototype.checkEmpty=function(t){return iE.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new mE(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new zx(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return iE.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return iE.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return iE.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return iE.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return iE.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new zx(e,0),i=new zx(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),iE.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new MC(xw);return e.forEach((function(t){var e=new zx(t,0),i=new zx(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),iE.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;$w.isDocumentKey(i)||(i=i.child(""));var o=new zx(new $w(i),0),s=new MC(xw);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),iE.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;kw(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return iE.forEach(e.mutations,(function(i){var o=new zx(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new zx(e,0),r=this.rs.firstAfterOrEqual(n);return iE.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return iE.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Vx=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new OC($w.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return iE.resolve(n?n.document.clone():dk.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=FC();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():dk.newInvalidDocument(t))})),iE.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=FC(),i=new $w(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,l=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;l.compareTo(n)<=0||Gk(e,c)&&(r=r.insert(c.key,c.clone()))}return iE.resolve(r)},t.prototype.fs=function(t,e){return iE.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Ux(this)},t.prototype.getSize=function(t){return iE.resolve(this.size)},t}(),Ux=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return nb(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),iE.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ox),qx=function(){function t(t){this.persistence=t,this.ds=new ix((function(t){return pk(t)}),gk),this.lastRemoteSnapshotVersion=Dw.min(),this.highestTargetId=0,this.ws=0,this._s=new Bx,this.targetCount=0,this.ys=GE.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),iE.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return iE.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return iE.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),iE.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),iE.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new GE(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,iE.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),iE.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,iE.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),iE.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return iE.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return iE.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),iE.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),iE.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),iE.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return iE.resolve(n)},t.prototype.containsKey=function(t,e){return iE.resolve(this._s.containsKey(e))},t}(),Hx=function(){function t(t,e){var n=this;this.gs={},this.Ne=new hw(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new qx(this),this.Ut=new NE,this.Ue=function(t,e){return new Vx(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new yE(e),this.Ke=new Fx(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Qx(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;bw("MemoryPersistence","Starting transaction:",t);var i=new Gx(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return iE.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Gx=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return nb(e,t),e}(nE),Wx=function(){function t(t){this.persistence=t,this.As=new Bx,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ww()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),iE.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),iE.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),iE.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return iE.forEach(this.vs,(function(r){var i=$w.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return iE.or([function(){return iE.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Kx=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function $x(t,e){return"firestore_clients_"+t+"_"+e}function Yx(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Zx(t,e){return"firestore_targets_"+t+"_"+e}Kx.UNAUTHENTICATED=new Kx(null),Kx.GOOGLE_CREDENTIALS=new Kx("google-credentials-uid"),Kx.FIRST_PARTY=new Kx("first-party-uid"),Kx.MOCK_USER=new Kx("mock-user");var Jx=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new pw(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(vw("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xx=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pw(i.error.code,i.error.message)),o?new t(e,i.state,r):(vw("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tS=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=GC(),s=0;i&&s<r.activeTargetIds.length;++s)i=Kw(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(vw("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),eS=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(vw("SharedClientState","Failed to parse online state: "+e),null)},t}(),nS=function(){function t(){this.activeTargetIds=GC()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),rS=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new OC(xw),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=$x(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new nS),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return rb(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,l,u=this;return ib(this,(function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem($x(this.persistenceKey,r)))&&(o=tS.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,l=this.$s;c<l.length;c++)this.ks(l[c]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return u.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Zx(this.persistenceKey,t));if(n){var r=Xx.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Zx(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return bw("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){bw("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){bw("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(bw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void vw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return rb(e,void 0,void 0,(function(){var t,e,r,i,o,s;return ib(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=hw.o;if(null!=t)try{var n=JSON.parse(t);kw("number"==typeof n),e=n}catch(t){vw("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hw.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Jx(this.currentUser,t,e,n),i=Yx(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Yx(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Zx(this.persistenceKey,t),i=new Xx(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return tS.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Jx.Vs(new Kx(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Xx.Vs(r,e)},t.prototype.js=function(t){return eS.Vs(t)},t.prototype.ii=function(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(bw("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=GC();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),iS=function(){function t(){this.li=new nS,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new nS,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),oS=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),sS=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){bw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){bw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),aS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cS=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),lS=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return nb(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var s=new dw;s.listenOnce(aw.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case sw.NO_ERROR:var e=s.getResponseJson();bw("Connection","XHR received:",JSON.stringify(e)),i(e);break;case sw.TIMEOUT:bw("Connection",'RPC "'+t+'" timed out'),o(new pw(fw.DEADLINE_EXCEEDED,"Request time out"));break;case sw.HTTP_ERROR:var n=s.getStatus();if(bw("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(fw).indexOf(e)>=0?e:fw.UNKNOWN}(r.status);o(new pw(a,r.message))}else o(new pw(fw.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new pw(fw.UNAVAILABLE,"Connection failed."));break;default:ww()}}finally{bw("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ew,i=$v(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new lw({})),this.ki(o.initMessageHeaders,e),Object(il.isMobileCordova)()||Object(il.isReactNative)()||Object(il.isElectron)()||Object(il.isIE)()||Object(il.isUWP)()||Object(il.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");bw("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,l=!1,u=new cS({Ei:function(t){l?bw("Connection","Not sending because WebChannel is closed:",t):(c||(bw("Connection","Opening WebChannel transport."),a.open(),c=!0),bw("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),d=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(a,uw.EventType.OPEN,(function(){l||bw("Connection","WebChannel transport opened.")})),d(a,uw.EventType.CLOSE,(function(){l||(l=!0,bw("Connection","WebChannel transport closed"),u.Vi())})),d(a,uw.EventType.ERROR,(function(t){l||(l=!0,yw("Connection","WebChannel transport errored:",t),u.Vi(new pw(fw.UNAVAILABLE,"The operation could not be completed")))})),d(a,uw.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];kw(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){bw("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=EC[t];if(void 0!==e)return RC(e)}(i),s=r.message;void 0===o&&(o=fw.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,u.Vi(new pw(o,s)),a.close()}else bw("Connection","WebChannel received:",n),u.Si(n)}})),d(i,cw.STAT_EVENT,(function(t){10===t.stat?bw("Connection","Detected buffering proxy"):11===t.stat&&bw("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Pi()}),0),u},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);bw("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return bw("RestConnection","Received: ",t),t}),(function(e){throw yw("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+aS[t]},t}());function uS(){return"undefined"!=typeof window?window:null}function dS(){return"undefined"!=typeof document?document:null}function hS(t){return new iA(t,!0)}var fS=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&bw("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),pS=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new fS(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return rb(this,void 0,void 0,(function(){return ib(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===fw.RESOURCE_EXHAUSTED?(vw(e.toString()),vw("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===fw.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new pw(fw.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return rb(t,void 0,void 0,(function(){return ib(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return bw("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(bw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),gS=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return nb(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ww()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(kw(void 0===e||"string"==typeof e),Bw.fromBase64String(e||"")):(kw(void 0===e||e instanceof Uint8Array),Bw.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?fw.UNKNOWN:RC(t.code);return new pw(e,t.message||"")}(a);n=new ZC(r,i,o,s||null)}else if("documentChange"in e){i=hA(t,(r=e.documentChange).document.name),o=cA(r.document.updateTime);var a=new lk({mapValue:{fields:r.document.fields}}),c=(s=dk.newFoundDocument(i,o,a),r.targetIds||[]);n=new $C(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=hA(t,(r=e.documentDelete).document),o=r.readTime?cA(r.readTime):Dw.min(),a=dk.newNoDocument(i,o),n=new $C([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=hA(t,(r=e.documentRemove).document),n=new $C([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ww();var l=e.filter;i=new TC(r=l.count||0),n=new YC(o=l.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Dw.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Dw.min():e.readTime?cA(e.readTime):Dw.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=gA(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=mk(r)?{documents:wA(t,r)}:{query:kA(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=sA(t,e.resumeToken):e.snapshotVersion.compareTo(Dw.min())>0&&(n.readTime=oA(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ww()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=gA(this.R),e.removeTarget=t,this.cr(e)},e}(pS),mS=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return nb(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(kw(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(kw(void 0!==e),t.map((function(t){return function(t,e){var n=cA(t.updateTime?t.updateTime:e);return n.isEqual(Dw.min())&&(n=cA(e)),new dC(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=cA(t.commitTime);return this.listener.Tr(n,e)}return kw(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=gA(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return yA(e.R,t)}))};this.cr(n)},e}(pS),bS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return nb(e,t),e.prototype.br=function(){if(this.Rr)throw new pw(fw.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===fw.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new pw(fw.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===fw.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new pw(fw.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),vS=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(vw(e),this.Vr=!1):bw("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),yS=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return rb(o,void 0,void 0,(function(){return ib(this,(function(t){switch(t.label){case 0:return IS(this)?(bw("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return rb(this,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return(e=Cw(t)).Or.add(4),[4,wS(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,_S(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new vS(n,r)};function _S(t){return rb(this,void 0,void 0,(function(){var e,n;return ib(this,(function(r){switch(r.label){case 0:if(!IS(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wS(t){return rb(this,void 0,void 0,(function(){var e,n;return ib(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function kS(t,e){var n=Cw(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),SS(n)?xS(n):US(n).er()&&AS(n,e))}function CS(t,e){var n=Cw(t),r=US(n);n.$r.delete(e),r.er()&&ES(n,e),0===n.$r.size&&(r.er()?r.ir():IS(n)&&n.Br.set("Unknown"))}function AS(t,e){t.qr.U(e.targetId),US(t).mr(e)}function ES(t,e){t.qr.U(e),US(t).yr(e)}function xS(t){t.qr=new XC({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),US(t).start(),t.Br.Sr()}function SS(t){return IS(t)&&!US(t).tr()&&t.$r.size>0}function IS(t){return 0===Cw(t).Or.size}function TS(t){t.qr=void 0}function DS(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){return t.$r.forEach((function(e,n){AS(t,e)})),[2]}))}))}function RS(t,e){return rb(this,void 0,void 0,(function(){return ib(this,(function(n){return TS(t),SS(t)?(t.Br.Nr(e),xS(t)):t.Br.set("Unknown"),[2]}))}))}function OS(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o;return ib(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ZC&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o;return ib(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),bw("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,NS(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof $C?t.qr.X(e):e instanceof YC?t.qr.rt(e):t.qr.et(e),n.isEqual(Dw.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,xx(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Bw.EMPTY_BYTE_STRING,n.snapshotVersion)),ES(t,e);var r=new vE(n.target,e,1,n.sequenceNumber);AS(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return bw("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,NS(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function NS(t,e,n){return rb(this,void 0,void 0,(function(){var r=this;return ib(this,(function(i){switch(i.label){case 0:if(!lE(e))throw e;return t.Or.add(1),[4,wS(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return xx(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return rb(r,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return bw("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,_S(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function PS(t,e){return e().catch((function(n){return NS(t,n,e)}))}function MS(t){return rb(this,void 0,void 0,(function(){var e,n,r,i,o;return ib(this,(function(s){switch(s.label){case 0:e=Cw(t),n=qS(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return IS(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Tx(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=qS(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,NS(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return LS(e)&&jS(e),[2]}}))}))}function LS(t){return IS(t)&&!qS(t).tr()&&t.Fr.length>0}function jS(t){qS(t).start()}function FS(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){return qS(t).Ar(),[2]}))}))}function BS(t){return rb(this,void 0,void 0,(function(){var e,n,r;return ib(this,(function(i){for(e=qS(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function zS(t,e,n){return rb(this,void 0,void 0,(function(){var r,i;return ib(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=bE.from(r,e,n),[4,PS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,MS(t)];case 2:return o.sent(),[2]}}))}))}function QS(t,e){return rb(this,void 0,void 0,(function(){return ib(this,(function(n){switch(n.label){case 0:return e&&qS(t).pr?[4,function(t,e){return rb(this,void 0,void 0,(function(){var n,r;return ib(this,(function(i){switch(i.label){case 0:return DC(r=e.code)&&r!==fw.ABORTED?(n=t.Fr.shift(),qS(t).sr(),[4,PS(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,MS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return LS(t)&&jS(t),[2]}}))}))}function VS(t,e){return rb(this,void 0,void 0,(function(){var n;return ib(this,(function(r){switch(r.label){case 0:return n=Cw(t),e?(n.Or.delete(2),[4,_S(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,wS(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function US(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Cw(t);return r.br(),new gS(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:DS.bind(null,t),Ri:RS.bind(null,t),_r:OS.bind(null,t)}),t.Mr.push((function(n){return rb(e,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),SS(t)?xS(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),TS(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function qS(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Cw(t);return r.br(),new mS(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:FS.bind(null,t),Ri:QS.bind(null,t),Ir:BS.bind(null,t),Tr:zS.bind(null,t)}),t.Mr.push((function(n){return rb(e,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,MS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(bw("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var HS=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new rE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pw(fw.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function GS(t,e){if(vw("AsyncQueue",e+": "+t),lE(t))return new pw(fw.UNAVAILABLE,e+": "+t);throw t}var WS=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||$w.comparator(e.key,n.key)}:function(t,e){return $w.comparator(t.key,e.key)},this.keyedMap=zC(),this.sortedSet=new OC(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),KS=function(){function t(){this.Qr=new OC($w.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):ww():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),$S=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,WS.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uk(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),YS=function(){this.Wr=void 0,this.listeners=[]},ZS=function(){this.queries=new ix((function(t){return qk(t)}),Uk),this.onlineState="Unknown",this.Gr=new Set};function JS(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return ib(this,(function(l){switch(l.label){case 0:if(n=Cw(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new YS),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return a=l.sent(),c=GS(a,"Initialization of query '"+Hk(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&nI(n),[2]}}))}))}function XS(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s;return ib(this,(function(a){return n=Cw(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function tI(t,e){for(var n=Cw(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);a.Wr=s}}r&&nI(n)}function eI(t,e,n){var r=Cw(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function nI(t){t.Gr.forEach((function(t){t.next()}))}var rI=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new $S(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=$S.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),iI=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),oI=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return hA(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?vA(this.R,t.document,!1):dk.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return cA(t)},t}(),sI=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=aI(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new oI(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||qC()).add(s);e.set(l,u)}}return e},t.prototype.complete=function(){return rb(this,void 0,void 0,(function(){var t,e,n,r,i;return ib(this,(function(o){switch(o.label){case 0:return[4,Lx(this.localStore,new oI(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,jx(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vx(Object.assign({},this.progress),t))]}}))}))},t}();function aI(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var cI=function(t){this.key=t},lI=function(t){this.key=t},uI=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=qC(),this.mutatedKeys=qC(),this.lo=Wk(t),this.fo=new WS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new KS,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=Mk(this.query)&&i.size===this.query.limit?i.last():null,l=Lk(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var u=i.get(t),d=Gk(n.query,e)?e:null,h=!!u&&n.mutatedKeys.has(u.key),f=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;u&&d?u.data.isEqual(d.data)?h!==f&&(r.track({type:3,doc:d}),p=!0):n.yo(u,d)||(r.track({type:2,doc:d}),p=!0,(c&&n.lo(d,c)>0||l&&n.lo(d,l)<0)&&(a=!0)):!u&&d?(r.track({type:0,doc:d}),p=!0):u&&!d&&(r.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(d?(s=s.add(d),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Mk(this.query)||Lk(this.query))for(;s.size>this.query.limit;){var u=Mk(this.query)?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ww()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new $S(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new KS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=qC(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new lI(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new cI(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=qC();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return $S.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),dI=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hI=function(t){this.key=t,this.bo=!1},fI=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ix((function(t){return qk(t)}),Uk),this.Vo=new Map,this.So=new Set,this.Do=new OC($w.comparator),this.Co=new Map,this.No=new Bx,this.xo={},this.ko=new Map,this.Fo=GE.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function pI(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s;return ib(this,(function(a){switch(a.label){case 0:return n=UI(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Dx(n.localStore,Qk(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,gI(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&kS(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function gI(t,e,n,r){return rb(this,void 0,void 0,(function(){var i,o,s,a,c,l;return ib(this,(function(u){switch(u.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return rb(this,void 0,void 0,(function(){var i,o,s;return ib(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ox(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(II(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ox(t.localStore,e,!0)];case 1:return i=u.sent(),o=new uI(e,i.Bn),s=o._o(i.documents),a=KC.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),II(t,n,c.To),l=new dI(e,n,o),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function mI(t,e){return rb(this,void 0,void 0,(function(){var n,r,i;return ib(this,(function(o){switch(o.label){case 0:return n=Cw(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Uk(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Rx(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),CS(n.remoteStore,r.targetId),xI(n,r.targetId)})).catch(ZE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return xI(n,r.targetId),[4,Rx(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function bI(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s;return ib(this,(function(a){switch(a.label){case 0:r=qI(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cw(t),i=Tw.now(),o=e.reduce((function(t,e){return t.add(e.key)}),qC());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var l=c[a],u=bC(l,n.get(l.key));null!=u&&s.push(new wC(l.key,u,uk(u.value.mapValue),hC.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new OC(xw)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,RI(r,i.changes)];case 3:return a.sent(),[4,MS(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=GS(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function vI(t,e){return rb(this,void 0,void 0,(function(){var n,r;return ib(this,(function(i){switch(i.label){case 0:n=Cw(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Sx(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(kw(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?kw(r.bo):t.removedDocuments.size>0&&(kw(r.bo),r.bo=!1))})),[4,RI(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ZE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function yI(t,e,n){var r=Cw(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Cw(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&nI(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _I(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s,a,c;return ib(this,(function(l){switch(l.label){case 0:return(r=Cw(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new OC($w.comparator)).insert(o,dk.newNoDocument(o,Dw.min())),a=qC().add(o),c=new WC(Dw.min(),new Map,new MC(xw),s,a),[4,vI(r,c)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),DI(r),[3,4];case 2:return[4,Rx(r.localStore,e,!1).then((function(){return xI(r,e,n)})).catch(ZE)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function wI(t,e){return rb(this,void 0,void 0,(function(){var n,r,i;return ib(this,(function(o){switch(o.label){case 0:n=Cw(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ex(n.localStore,e)];case 2:return i=o.sent(),EI(n,r,null),AI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,RI(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ZE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function kI(t,e,n){return rb(this,void 0,void 0,(function(){var r,i;return ib(this,(function(o){switch(o.label){case 0:r=Cw(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Cw(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return kw(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),EI(r,e,n),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,RI(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ZE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function CI(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s;return ib(this,(function(a){switch(a.label){case 0:IS((n=Cw(t)).remoteStore)||bw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Cw(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=GS(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function AI(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function EI(t,e,n){var r=Cw(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function xI(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||SI(t,e)}))}function SI(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(CS(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),DI(t))}function II(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cI?(t.No.addReference(o.key,e),TI(t,o)):o instanceof lI?(bw("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||SI(t,o.key)):ww()}}function TI(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(bw("SyncEngine","New document in limbo: "+n),t.So.add(r),DI(t))}function DI(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new $w(Mw.fromString(e)),r=t.Fo.next();t.Co.set(r,new hI(n)),t.Do=t.Do.insert(n,r),kS(t.remoteStore,new vE(Qk(Pk(n.path)),r,2,hw.o))}}function RI(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s;return ib(this,(function(a){switch(a.label){case 0:return r=Cw(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=_x.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,l;return ib(this,(function(u){switch(u.label){case 0:n=Cw(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return iE.forEach(e,(function(e){return iE.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return iE.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return u.sent(),[3,4];case 3:if(!lE(r=u.sent()))throw r;return bw("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.kn.get(a),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(a,l));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function OI(t,e){return rb(this,void 0,void 0,(function(){var n,r;return ib(this,(function(i){switch(i.label){case 0:return(n=Cw(t)).currentUser.isEqual(e)?[3,3]:(bw("SyncEngine","User change. New user:",e.toKey()),[4,Ax(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new pw(fw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,RI(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function NI(t,e){var n=Cw(t),r=n.Co.get(e);if(r&&r.bo)return qC().add(r.key);var i=qC(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);i=i.unionWith(c.view.wo)}return i}function PI(t,e){return rb(this,void 0,void 0,(function(){var n,r,i;return ib(this,(function(o){switch(o.label){case 0:return[4,Ox((n=Cw(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&II(n,e.targetId,i.To),i)]}}))}))}function MI(t){return rb(this,void 0,void 0,(function(){var e;return ib(this,(function(n){return[2,Px((e=Cw(t)).localStore).then((function(t){return RI(e,t)}))]}))}))}function LI(t,e,n,r){return rb(this,void 0,void 0,(function(){var i,o;return ib(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Cw(t),r=Cw(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):iE.resolve(null)}))}))}((i=Cw(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,MS(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(EI(i,e,r||null),AI(i,e),function(t,e){Cw(Cw(t)._n).Gt(e)}(i.localStore,e)):ww(),s.label=4;case 4:return[4,RI(i,o)];case 5:return s.sent(),[3,7];case 6:bw("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function jI(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return ib(this,(function(l){switch(l.label){case 0:return UI(n=Cw(t)),qI(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,FI(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,VS(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)kS(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then((function(){return xI(n,e),Rx(n.localStore,e,!0)})),CS(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,FI(n,a)];case 5:return l.sent(),function(t){var e=Cw(t);e.Co.forEach((function(t,n){CS(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new OC($w.comparator)}(n),n.$o=!1,[4,VS(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function FI(t,e,n){return rb(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,l,u,d,h,f,p;return ib(this,(function(g){switch(g.label){case 0:n=Cw(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(c=void 0,(l=n.Vo.get(a=s[o]))&&0!==l.length?[4,Dx(n.localStore,Qk(l[0]))]:[3,7]):[3,13];case 2:c=g.sent(),u=0,d=l,g.label=3;case 3:return u<d.length?(h=n.Po.get(d[u]),[4,PI(n,h)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,Nx(n.localStore,a)];case 8:return p=g.sent(),[4,Dx(n.localStore,p)];case 9:return c=g.sent(),[4,gI(n,BI(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function BI(t){return Nk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zI(t){var e=Cw(t);return Cw(Cw(e.localStore).persistence).fn()}function QI(t,e,n,r){return rb(this,void 0,void 0,(function(){var i,o,s;return ib(this,(function(a){switch(a.label){case 0:return(i=Cw(t)).$o?(bw("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Px(i.localStore)];case 3:return o=a.sent(),s=WC.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,RI(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Rx(i.localStore,e,!0)];case 6:return a.sent(),xI(i,e,r),[3,8];case 7:ww(),a.label=8;case 8:return[2]}}))}))}function VI(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s,a,c,l,u,d;return ib(this,(function(h){switch(h.label){case 0:if(!(r=UI(t)).$o)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(bw("SyncEngine","Adding an already active target "+s),[3,5]):[4,Nx(r.localStore,s)]:[3,6];case 2:return a=h.sent(),[4,Dx(r.localStore,a)];case 3:return c=h.sent(),[4,gI(r,BI(a),c.targetId,!1)];case 4:h.sent(),kS(r.remoteStore,c),h.label=5;case 5:return i++,[3,1];case 6:l=function(t){return ib(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Rx(r.localStore,t,!1).then((function(){CS(r.remoteStore,t),xI(r,t)})).catch(ZE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},u=0,d=n,h.label=7;case 7:return u<d.length?[5,l(d[u])]:[3,10];case 8:h.sent(),h.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))}function UI(t){var e=Cw(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_I.bind(null,e),e.vo._r=tI.bind(null,e.eventManager),e.vo.Mo=eI.bind(null,e.eventManager),e}function qI(t){var e=Cw(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kI.bind(null,e),e}function HI(t,e,n){var r=Cw(t);(function(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s,a,c;return ib(this,(function(l){switch(l.label){case 0:return l.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=l.sent(),[4,function(t,e){var n=Cw(t),r=cA(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Ke.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,r)];case 2:return l.sent()?[4,e.close()]:[3,4];case 3:return[2,(l.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(aI(r)),i=new sI(r,t.localStore,e.R),[4,e.Lo()];case 5:o=l.sent(),l.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=l.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=l.sent(),l.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=l.sent(),[4,RI(t,a.wn,void 0)];case 12:return l.sent(),[4,function(t,e){var n=Cw(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Ke.saveBundleMetadata(t,e)}))}(t.localStore,r)];case 13:return l.sent(),n._completeWith(a.progress),[3,15];case 14:return yw("SyncEngine","Loading bundle failed with "+(c=l.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var GI=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return this.R=hS(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Cx(this.persistence,new wx,t.initialUser,this.R)},t.prototype.qo=function(t){return new Hx(Wx.bs,this.R)},t.prototype.Bo=function(t){return new iS},t.prototype.terminate=function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),WI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return nb(e,t),e.prototype.initialize=function(e){return rb(this,void 0,void 0,(function(){var n=this;return ib(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Mx(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,qI(this.Qo.syncEngine)];case 4:return r.sent(),[4,MS(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Cx(this.persistence,new wx,t.initialUser,this.R)},e.prototype.Uo=function(t){return new tx(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=bx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?FE.withCacheSize(this.cacheSizeBytes):FE.DEFAULT;return new px(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,uS(),dS(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new iS},e}(GI),KI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return nb(e,t),e.prototype.initialize=function(e){return rb(this,void 0,void 0,(function(){var n,r=this;return ib(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof rS?(this.sharedClientState.syncEngine={ui:LI.bind(null,n),ai:QI.bind(null,n),hi:VI.bind(null,n),fn:zI.bind(null,n),ci:MI.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return rb(r,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return[4,jI(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=uS();if(!rS.yt(e))throw new pw(fw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bx(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new rS(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(WI),$I=function(){function t(){}return t.prototype.initialize=function(t,e){return rb(this,void 0,void 0,(function(){var n=this;return ib(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return yI(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=OI.bind(null,this.syncEngine),[4,VS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new ZS},t.prototype.createDatastore=function(t){var e=hS(t.databaseInfo.databaseId),n=new lS(t.databaseInfo);return function(t,e,n){return new bS(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return yI(s.syncEngine,t,0)},o=sS.yt()?new sS:new oS,new yS(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new fI(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return rb(this,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return e=Cw(t),bw("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,wS(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();function YI(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return rb(this,void 0,void 0,(function(){var r;return ib(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var ZI=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),JI=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new rE,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return rb(this,void 0,void 0,(function(){var t,e,n,r;return ib(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new iI(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return rb(this,void 0,void 0,(function(){var t,e;return ib(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return rb(this,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return rb(this,void 0,void 0,(function(){var t,e;return ib(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),XI=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return rb(this,void 0,void 0,(function(){var e,n=this;return ib(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pw(fw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return rb(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ib(this,(function(c){switch(c.label){case 0:return n=Cw(t),r=gA(n.R)+"/documents",i={documents:e.map((function(t){return dA(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){kw(!!e.found);var n=hA(t,e.found.name),r=cA(e.found.updateTime),i=new lk({mapValue:{fields:e.found.fields}});return dk.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){kw(!!e.missing),kw(!!e.readTime);var n=hA(t,e.missing),r=cA(e.readTime);return dk.newNoDocument(n,r)}(t,e):ww()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());kw(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new SC(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return rb(this,void 0,void 0,(function(){var t,e=this;return ib(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=$w.fromPath(n);e.mutations.push(new IC(r,e.precondition(r)))})),[4,function(t,e){return rb(this,void 0,void 0,(function(){var n,r,i;return ib(this,(function(o){switch(o.label){case 0:return n=Cw(t),r=gA(n.R)+"/documents",i={writes:e.map((function(t){return yA(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ww();e=Dw.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new pw(fw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?hC.updateTime(e):hC.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dw.min()))throw new pw(fw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hC.updateTime(e)}return hC.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),tT=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new fS(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return rb(t,void 0,void 0,(function(){var t,e,n=this;return ib(this,(function(r){return t=new XI(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Gw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!DC(e)}return!1},t}(),eT=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Kx.UNAUTHENTICATED,this.clientId=Ew.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return rb(r,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return bw("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return rb(this,void 0,void 0,(function(){return ib(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pw(fw.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new rE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return rb(t,void 0,void 0,(function(){var t,n;return ib(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=GS(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function nT(t,e){return rb(this,void 0,void 0,(function(){var n,r,i=this;return ib(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),bw("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return rb(i,void 0,void 0,(function(){return ib(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ax(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function rT(t,e){return rb(this,void 0,void 0,(function(){var n,r;return ib(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,iT(t)];case 1:return n=i.sent(),bw("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return rb(this,void 0,void 0,(function(){var n,r;return ib(this,(function(i){switch(i.label){case 0:return(n=Cw(t)).asyncQueue.verifyOperationInProgress(),bw("RemoteStore","RemoteStore received new credentials"),r=IS(n),n.Or.add(3),[4,wS(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,_S(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function iT(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(bw("FirestoreClient","Using default OfflineComponentProvider"),[4,nT(t,new GI)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function oT(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(bw("FirestoreClient","Using default OnlineComponentProvider"),[4,rT(t,new $I)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function sT(t){return iT(t).then((function(t){return t.persistence}))}function aT(t){return iT(t).then((function(t){return t.localStore}))}function cT(t){return oT(t).then((function(t){return t.remoteStore}))}function lT(t){return oT(t).then((function(t){return t.syncEngine}))}function uT(t){return rb(this,void 0,void 0,(function(){var e,n;return ib(this,(function(r){switch(r.label){case 0:return[4,oT(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=pI.bind(null,e.syncEngine),n.onUnlisten=mI.bind(null,e.syncEngine),n)]}}))}))}function dT(t,e,n){var r=this;void 0===n&&(n={});var i=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(r,void 0,void 0,(function(){var r;return ib(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ZI({next:function(o){e.enqueueAndForget((function(){return XS(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new pw(fw.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new pw(fw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new rI(Pk(n.path),o,{includeMetadataChanges:!0,so:!0});return JS(t,s)},[4,uT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function hT(t,e,n){var r=this;void 0===n&&(n={});var i=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(r,void 0,void 0,(function(){var r;return ib(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ZI({next:function(n){e.enqueueAndForget((function(){return XS(t,s)})),n.fromCache&&"server"===r.source?i.reject(new pw(fw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new rI(n,o,{includeMetadataChanges:!0,so:!0});return JS(t,s)},[4,uT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var fT=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},pT=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),gT=new Map,mT=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},bT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Kx.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),vT=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),yT=function(){function t(t){var e=this;this.currentUser=Kx.UNAUTHENTICATED,this.oc=new rE,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){bw("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(bw("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(bw("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(kw("string"==typeof n.accessToken),new mT(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return rb(n,void 0,void 0,(function(){return ib(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return kw(null===t||"string"==typeof t),new Kx(t)},t}(),_T=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Kx.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),wT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new _T(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Kx.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function kT(t,e,n){if(!n)throw new pw(fw.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function CT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pw(fw.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function AT(t,e,n,r){if(!0===e&&!0===r)throw new pw(fw.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ET(t){if(!$w.isDocumentKey(t))throw new pw(fw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xT(t){if($w.isDocumentKey(t))throw new pw(fw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ST(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ww()}function IT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pw(fw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ST(t);throw new pw(fw.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function TT(t,e){if(e<=0)throw new pw(fw.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var DT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new pw(fw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pw(fw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,AT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),RT=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,t instanceof pT?(this._databaseId=t,this._credentials=new bT):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pw(fw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pT(t.options.projectId)}(t),this._credentials=new yT(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new pw(fw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new pw(fw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new bT;switch(t.type){case"gapi":var e=t.client;return kw(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new wT(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new pw(fw.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=gT.get(this))&&(bw("ComponentProvider","Removing Datastore"),gT.delete(this),t.terminate()),Promise.resolve();var t},t}(),OT=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new PT(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),NT=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),PT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Pk(r))||this)._path=r,i.type="collection",i}return nb(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new OT(this.firestore,null,new $w(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(NT);function MT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(il.getModularInstance)(t),kT("collection","path",e),t instanceof RT)return xT(n=Mw.fromString.apply(Mw,ob([e],r))),new PT(t,null,n);if(!(t instanceof OT||t instanceof PT))throw new pw(fw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xT(n=Mw.fromString.apply(Mw,ob([t.path],r)).child(Mw.fromString(e))),new PT(t.firestore,null,n)}function LT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(il.getModularInstance)(t),1===arguments.length&&(e=Ew.u()),kT("doc","path",e),t instanceof RT)return ET(n=Mw.fromString.apply(Mw,ob([e],r))),new OT(t,null,new $w(n));if(!(t instanceof OT||t instanceof PT))throw new pw(fw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ET(n=t._path.child(Mw.fromString.apply(Mw,ob([e],r)))),new OT(t.firestore,t instanceof PT?t.converter:null,new $w(n))}function jT(t,e){return t=Object(il.getModularInstance)(t),e=Object(il.getModularInstance)(e),(t instanceof OT||t instanceof PT)&&(e instanceof OT||e instanceof PT)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function FT(t,e){return t=Object(il.getModularInstance)(t),e=Object(il.getModularInstance)(e),t instanceof NT&&e instanceof NT&&t.firestore===e.firestore&&Uk(t._query,e._query)&&t.converter===e.converter}var BT=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new fS(this,"async_queue_retry"),this.Ic=function(){var e=dS();e&&bw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=dS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=dS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new rE;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return rb(this,void 0,void 0,(function(){var t,e=this;return ib(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!lE(t=n.sent()))throw t;return bw("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,vw("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=HS.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&ww()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return rb(this,void 0,void 0,(function(){var t;return ib(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function zT(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var QT=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new rE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),VT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new BT,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return nb(e,t),e.prototype._terminate=function(){return this._firestoreClient||qT(this),this._firestoreClient.terminate()},e}(RT);function UT(t){return t._firestoreClient||qT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qT(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new fT(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new eT(t._credentials,t._queue,r)}function HT(t,e,n){var r=this,i=new rE;return t.asyncQueue.enqueue((function(){return rb(r,void 0,void 0,(function(){var r;return ib(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,nT(t,n)];case 1:return o.sent(),[4,rT(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===fw.FAILED_PRECONDITION||t.code===fw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function GT(t){if(t._initialized||t._terminated)throw new pw(fw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var WT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new pw(fw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jw(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),KT=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Bw.fromBase64String(e))}catch(e){throw new pw(fw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Bw.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),$T=function(t){this._methodName=t},YT=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new pw(fw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pw(fw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return xw(this._lat,t._lat)||xw(this._long,t._long)},t}(),ZT=/^__.*__$/,JT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new wC(t,this.data,this.fieldMask,e,this.fieldTransforms):new _C(t,this.data,e,this.fieldTransforms)},t}(),XT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new wC(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function tD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ww()}}var eD=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return wD(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(tD(this.Nc)&&ZT.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),nD=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||hS(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new eD({Nc:t,methodName:e,qc:n,path:jw.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function rD(t){var e=t._freezeSettings(),n=hS(t._databaseId);return new nD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iD(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);bD("Data must be an object, but it was:",s,r);var a,c,l=gD(r,s);if(o.merge)a=new Fw(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var u=[],d=0,h=o.mergeFields;d<h.length;d++){var f=vD(e,h[d],n);if(!s.contains(f))throw new pw(fw.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");kD(u,f)||u.push(f)}a=new Fw(u),c=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,c=s.fieldTransforms;return new JT(new lk(l),a,c)}var oD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($T);function sD(t,e,n){return new eD({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var aD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype._toFieldTransform=function(t){return new uC(t.path,new nC)},e.prototype.isEqual=function(t){return t instanceof e},e}($T),cD=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return nb(e,t),e.prototype._toFieldTransform=function(t){var e=sD(this,t,!0),n=this.Kc.map((function(t){return pD(t,e)})),r=new rC(n);return new uC(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($T),lD=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return nb(e,t),e.prototype._toFieldTransform=function(t){var e=sD(this,t,!0),n=this.Kc.map((function(t){return pD(t,e)})),r=new oC(n);return new uC(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($T),uD=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return nb(e,t),e.prototype._toFieldTransform=function(t){var e=new aC(t.R,Zk(t.R,this.Qc));return new uC(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($T);function dD(t,e,n,r){var i=t.Uc(1,e,n);bD("Data must be an object, but it was:",i,r);var o=[],s=lk.empty();Ow(r,(function(t,r){var a=_D(e,t,n);r=Object(il.getModularInstance)(r);var c=i.Oc(a);if(r instanceof oD)o.push(a);else{var l=pD(r,c);null!=l&&(o.push(a),s.set(a,l))}}));var a=new Fw(o);return new XT(s,a,i.fieldTransforms)}function hD(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[vD(e,r,n)],c=[i];if(o.length%2!=0)throw new pw(fw.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(vD(e,o[l])),c.push(o[l+1]);for(var u=[],d=lk.empty(),h=a.length-1;h>=0;--h)if(!kD(u,a[h])){var f=a[h],p=c[h];p=Object(il.getModularInstance)(p);var g=s.Oc(f);if(p instanceof oD)u.push(f);else{var m=pD(p,g);null!=m&&(u.push(f),d.set(f,m))}}var b=new Fw(u);return new XT(d,b,s.fieldTransforms)}function fD(t,e,n,r){return void 0===r&&(r=!1),pD(n,t.Uc(r?4:3,e))}function pD(t,e){if(mD(t=Object(il.getModularInstance)(t)))return bD("Unsupported field value:",e,t),gD(t,e);if(t instanceof $T)return function(t,e){if(!tD(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=pD(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(il.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zk(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Tw.fromDate(t);return{timestampValue:oA(e.R,n)}}if(t instanceof Tw)return n=new Tw(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:oA(e.R,n)};if(t instanceof YT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof KT)return{bytesValue:sA(e.R,t._byteString)};if(t instanceof OT){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:lA(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+ST(t))}(t,e)}function gD(t,e){var n={};return Nw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ow(t,(function(t,r){var i=pD(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function mD(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Tw||t instanceof YT||t instanceof KT||t instanceof OT||t instanceof $T)}function bD(t,e,n){if(!mD(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ST(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function vD(t,e,n){if((e=Object(il.getModularInstance)(e))instanceof WT)return e._internalPath;if("string"==typeof e)return _D(t,e);throw wD("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yD=new RegExp("[~\\*/\\[\\]]");function _D(t,e,n){if(e.search(yD)>=0)throw wD("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(WT.bind.apply(WT,ob([void 0],e.split(".")))))._internalPath}catch(kR){throw wD("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function wD(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new pw(fw.INVALID_ARGUMENT,(a+=". ")+t+c)}function kD(t,e){return t.some((function(t){return t.isEqual(e)}))}var CD=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new OT(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ED("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),AD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(CD);function ED(t,e){return"string"==typeof e?_D(t,e):e instanceof WT?e._internalPath:e._delegate._internalPath}var xD=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),SD=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return nb(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ID(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ED("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(CD),ID=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(SD),TD=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xD(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new ID(n._firestore,n._userDataWriter,r.key,r,new xD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pw(fw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new ID(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xD(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ID(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xD(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:DD(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function DD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ww()}}function RD(t,e){return t instanceof SD&&e instanceof SD?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof TD&&e instanceof TD&&t._firestore===e._firestore&&FT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function OD(t){if(Lk(t)&&0===t.explicitOrderBy.length)throw new pw(fw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ND=function(){};function PD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var MD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return nb(e,t),e.prototype._apply=function(t){var e=rD(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pw(fw.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){VD(s,o);for(var c=[],l=0,u=s;l<u.length;l++)c.push(QD(r,t,u[l]));a={arrayValue:{values:c}}}else a=QD(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||VD(s,o),a=fD(n,"where",s,"in"===o||"not-in"===o);var d=bk.create(i,o,a);return function(t,e){if(e.g()){var n=Fk(t);if(null!==n&&!n.isEqual(e.field))throw new pw(fw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jk(t);null!==r&&UD(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new pw(fw.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new NT(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ok(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(ND),LD=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return nb(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new pw(fw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new pw(fw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ik(e,n);return function(t,e){if(null===jk(t)){var n=Fk(t);null!==n&&UD(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new NT(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ok(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(ND),jD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return nb(e,t),e.prototype._apply=function(t){return new NT(t.firestore,t.converter,Vk(t._query,this.Hc,this.Jc))},e}(ND),FD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return nb(e,t),e.prototype._apply=function(t){var e=zD(t,this.type,this.Yc,this.Xc);return new NT(t.firestore,t.converter,function(t,e){return new Ok(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(ND),BD=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return nb(e,t),e.prototype._apply=function(t){var e=zD(t,this.type,this.Yc,this.Xc);return new NT(t.firestore,t.converter,function(t,e){return new Ok(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(ND);function zD(t,e,n,r){if(n[0]=Object(il.getModularInstance)(n[0]),n[0]instanceof CD)return function(t,e,n,r,i){if(!r)throw new pw(fw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=zk(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(nk(e,r.key));else{var l=r.data.field(c.field);if(qw(l))throw new pw(fw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new pw(fw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}o.push(l)}}return new xk(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=rD(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new pw(fw.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var l=i[c];if(s[c].field.isKeyField()){if("string"!=typeof l)throw new pw(fw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Bk(t)&&-1!==l.indexOf("/"))throw new pw(fw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(Mw.fromString(l));if(!$w.isDocumentKey(u))throw new pw(fw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var d=new $w(u);a.push(nk(e,d))}else{var h=fD(n,r,l);a.push(h)}}return new xk(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function QD(t,e,n){if("string"==typeof(n=Object(il.getModularInstance)(n))){if(""===n)throw new pw(fw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bk(e)&&-1!==n.indexOf("/"))throw new pw(fw.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Mw.fromString(n));if(!$w.isDocumentKey(r))throw new pw(fw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return nk(t,new $w(r))}if(n instanceof OT)return nk(t,n._key);throw new pw(fw.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ST(n)+".")}function VD(t,e){if(!Array.isArray(t)||0===t.length)throw new pw(fw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new pw(fw.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function UD(t,e,n){if(!n.isEqual(e))throw new pw(fw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var qD=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Yw(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vw(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Uw(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ww()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Ow(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new YT(Vw(t.latitude),Vw(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return qw(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Hw(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Qw(t);return new Tw(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Mw.fromString(t);kw(NA(n));var r=new pT(n.get(1),n.get(3)),i=new $w(n.popFirst(5));return r.isEqual(e)||vw("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function HD(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var GD=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return nb(e,t),e.prototype.convertBytes=function(t){return new KT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new OT(this.firestore,null,e)},e}(qD),WD=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=rD(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=KD(t,this._firestore),i=HD(r.converter,e,n),o=iD(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,hC.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=KD(t,this._firestore);return o="string"==typeof(e=Object(il.getModularInstance)(e))||e instanceof WT?hD(this._dataReader,"WriteBatch.update",s._key,e,n,r):dD(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,hC.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=KD(t,this._firestore);return this._mutations=this._mutations.concat(new SC(e._key,hC.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new pw(fw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function KD(t,e){if((t=Object(il.getModularInstance)(t)).firestore!==e)throw new pw(fw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var $D=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return nb(e,t),e.prototype.convertBytes=function(t){return new KT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new OT(this.firestore,null,e)},e}(qD);function YD(t,e,n){t=IT(t,OT);var r=IT(t.firestore,VT),i=HD(t.converter,e,n);return XD(r,[iD(rD(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,hC.none())])}function ZD(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=IT(t,OT);var o=IT(t.firestore,VT),s=rD(o);return XD(o,[("string"==typeof(e=Object(il.getModularInstance)(e))||e instanceof WT?hD(s,"updateDoc",t._key,e,n,r):dD(s,"updateDoc",t._key,e)).toMutation(t._key,hC.exists(!0))])}function JD(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(il.getModularInstance)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||zT(i[a])||(s=i[a],a++);var c,l,u,d={includeMetadataChanges:s.includeMetadataChanges};if(zT(i[a])){var h=i[a];i[a]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[a+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[a+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof OT)l=IT(t.firestore,VT),u=Pk(t._key.path),c={next:function(e){i[a]&&i[a](tR(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=IT(t,NT);l=IT(f.firestore,VT),u=f._query;var p=new $D(l);c={next:function(t){i[a]&&i[a](new TD(l,p,f,t))},error:i[a+1],complete:i[a+2]},OD(t._query)}return function(t,e,n,r){var i=this,o=new ZI(r),s=new rI(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return rb(i,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return e=JS,[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return rb(i,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return e=XS,[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(UT(l),u,d,c)}function XD(t,e){return function(t,e){var n=this,r=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(n,void 0,void 0,(function(){var n;return ib(this,(function(i){switch(i.label){case 0:return n=bI,[4,lT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(UT(t),e)}function tR(t,e,n){var r=n.docs.get(e._key),i=new $D(t);return new SD(t,i,e._key,r,new xD(n.hasPendingWrites,n.fromCache),e.converter)}var eR=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return nb(e,t),e.prototype.get=function(e){var n=this,r=KD(e,this._firestore),i=new $D(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new SD(n._firestore,i,r._key,t._document,new xD(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=rD(t)}return t.prototype.get=function(t){var e=this,n=KD(t,this._firestore),r=new GD(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return ww();var i=t[0];if(i.isFoundDocument())return new CD(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new CD(e._firestore,r,n._key,null,n.converter);throw ww()}))},t.prototype.set=function(t,e,n){var r=KD(t,this._firestore),i=HD(r.converter,e,n),o=iD(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=KD(t,this._firestore);return o="string"==typeof(e=Object(il.getModularInstance)(e))||e instanceof WT?hD(this._dataReader,"Transaction.update",s._key,e,n,r):dD(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=KD(t,this._firestore);return this._transaction.delete(e._key),this},t}());function nR(){if("undefined"==typeof Uint8Array)throw new pw(fw.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rR(){if("undefined"==typeof atob)throw new pw(fw.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iR=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return rR(),new t(KT.fromBase64String(e))},t.fromUint8Array=function(e){return nR(),new t(KT.fromUint8Array(e))},t.prototype.toBase64=function(){return rR(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return nR(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),oR=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){GT(t=IT(t,VT));var n=UT(t),r=t._freezeSettings(),i=new $I;return HT(n,i,new WI(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){GT(t=IT(t,VT));var e=UT(t),n=t._freezeSettings(),r=new $I;return HT(e,r,new KI(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new pw(fw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new rE;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return rb(e,void 0,void 0,(function(){var e;return ib(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return rb(this,void 0,void 0,(function(){return ib(this,(function(e){switch(e.label){case 0:return sE.yt()?[4,sE.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(bx(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),sR=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof pT||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||yw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=IT(t,RT))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&yw("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Kx.MOCK_USER;else{s=Object(il.createMockUserToken)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new pw(fw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kx(c)}t._credentials=new vT(new mT(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return rb(e,void 0,void 0,(function(){var e,n;return ib(this,(function(r){switch(r.label){case 0:return[4,sT(t)];case 1:return e=r.sent(),[4,cT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Cw(t);return e.Or.delete(0),_S(e)}(n))]}}))}))}))}(UT(IT(this._delegate,VT)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return rb(e,void 0,void 0,(function(){var e,n;return ib(this,(function(r){switch(r.label){case 0:return[4,sT(t)];case 1:return e=r.sent(),[4,cT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return rb(this,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return(e=Cw(t)).Or.add(0),[4,wS(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(UT(IT(this._delegate,VT)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&AT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(e,void 0,void 0,(function(){var e;return ib(this,(function(r){switch(r.label){case 0:return e=CI,[4,lT(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(UT(IT(this._delegate,VT)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ZI(e);return t.asyncQueue.enqueueAndForget((function(){return rb(n,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return e=function(t,e){Cw(t).Gr.add(e),e.next()},[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return rb(n,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return e=function(t,e){Cw(t).Gr.delete(e)},[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(UT(t=IT(t,VT)),zT(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new pw(fw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _R(this,MT(this._delegate,t))}catch(t){throw hR(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new dR(this,LT(this._delegate,t))}catch(t){throw hR(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new bR(this,function(t,e){if(t=IT(t,RT),kT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pw(fw.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new NT(t,null,function(t){return new Ok(Mw.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw hR(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(n,void 0,void 0,(function(){var n;return ib(this,(function(i){switch(i.label){case 0:return[4,function(t){return oT(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new tT(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(UT(t),(function(n){return e(new eR(t,n))}))}(this._delegate,(function(n){return t(new cR(e,n))}))},t.prototype.batch=function(){var t=this;return UT(this._delegate),new lR(new WD(this._delegate,(function(e){return XD(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new pw(fw.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new pw(fw.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),aR=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return nb(e,t),e.prototype.convertBytes=function(t){return new iR(new KT(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return dR.eu(e,this.firestore,null)},e}(qD),cR=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new aR(t)}return t.prototype.get=function(t){var e=this,n=wR(t);return this._delegate.get(n).then((function(t){return new gR(e._firestore,new SD(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=wR(t);return n?(CT("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=wR(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ob([s,e,n],i)),this},t.prototype.delete=function(t){var e=wR(t);return this._delegate.delete(e),this},t}(),lR=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=wR(t);return n?(CT("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=wR(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ob([s,e,n],i)),this},t.prototype.delete=function(t){var e=wR(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),uR=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ID(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mR(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new aR(e),n),i.set(n,o)),o},t}();uR.su=new WeakMap;var dR=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new aR(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new pw(fw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new OT(n._delegate,r,new $w(e)))},t.eu=function(e,n,r){return new t(n,new OT(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _R(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new _R(this.firestore,MT(this._delegate,t))}catch(t){throw hR(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(il.getModularInstance)(t))instanceof OT&&jT(this._delegate,t)},t.prototype.set=function(t,e){e=CT("DocumentReference.set",e);try{return e?YD(this._delegate,t,e):YD(this._delegate,t)}catch(t){throw hR(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ZD(this._delegate,t):ZD.apply(void 0,ob([this._delegate,t,e],n))}catch(t){throw hR(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return XD(IT((t=this._delegate).firestore,VT),[new SC(t._key,hC.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fR(e),i=pR(e,(function(e){return new gR(t.firestore,new SD(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return JD(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=IT(t,OT);var e=IT(t.firestore,VT),n=UT(e),r=new $D(e);return function(t,e){var n=this,r=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(n,void 0,void 0,(function(){var n;return ib(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return rb(this,void 0,void 0,(function(){var r,i;return ib(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Cw(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new pw(fw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=GS(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,aT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new SD(e,r,t._key,n,new xD(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=IT(t,OT);var e=IT(t.firestore,VT);return dT(UT(e),t._key,{source:"server"}).then((function(n){return tR(e,t,n)}))}(this._delegate):function(t){t=IT(t,OT);var e=IT(t.firestore,VT);return dT(UT(e),t._key).then((function(n){return tR(e,t,n)}))}(this._delegate)).then((function(t){return new gR(e.firestore,new SD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?uR.nu(this.firestore,e):null))},t}();function hR(t,e,n){return t.message=t.message.replace(e,n),t}function fR(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!zT(r))return r}return{}}function pR(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=zT(t[0])?t[0]:zT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gR=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new dR(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return RD(this._delegate,t._delegate)},t}(),mR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nb(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(gR),bR=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new aR(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,PD(this._delegate,function(t,e,n){var r=e,i=ED("where",t);return new MD(i,r,n)}(e,n,r)))}catch(e){throw hR(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,PD(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ED("orderBy",t);return new LD(r,n)}(e,n)))}catch(e){throw hR(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,PD(this._delegate,function(t){return TT("limit",t),new jD("limit",t,"F")}(e)))}catch(e){throw hR(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,PD(this._delegate,function(t){return TT("limitToLast",t),new jD("limitToLast",t,"L")}(e)))}catch(e){throw hR(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PD(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new FD("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw hR(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PD(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new FD("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw hR(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PD(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BD("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw hR(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,PD(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BD("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw hR(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return FT(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=IT(t,NT);var e=IT(t.firestore,VT),n=UT(e),r=new $D(e);return function(t,e){var n=this,r=new rE;return t.asyncQueue.enqueueAndForget((function(){return rb(n,void 0,void 0,(function(){var n;return ib(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return rb(this,void 0,void 0,(function(){var r,i,o,s,a;return ib(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Ox(t,e,!0)];case 1:return a=c.sent(),r=new uI(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=GS(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,aT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new TD(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=IT(t,NT);var e=IT(t.firestore,VT),n=UT(e),r=new $D(e);return hT(n,t._query,{source:"server"}).then((function(n){return new TD(e,r,t,n)}))}(this._delegate):function(t){t=IT(t,NT);var e=IT(t.firestore,VT),n=UT(e),r=new $D(e);return OD(t._query),hT(n,t._query).then((function(n){return new TD(e,r,t,n)}))}(this._delegate)).then((function(t){return new yR(e.firestore,new TD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fR(e),i=pR(e,(function(e){return new yR(t.firestore,new TD(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return JD(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?uR.nu(this.firestore,e):null))},t}(),vR=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new mR(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),yR=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new bR(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new mR(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new vR(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new mR(n._firestore,r))}))},t.prototype.isEqual=function(t){return RD(this._delegate,t._delegate)},t}(),_R=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return nb(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new dR(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new dR(this.firestore,void 0===t?LT(this._delegate):LT(this._delegate,t))}catch(t){throw hR(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=IT(t.firestore,VT),r=LT(t),i=HD(t.converter,e);return XD(n,[iD(rD(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,hC.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new dR(e.firestore,t)}))},e.prototype.isEqual=function(t){return jT(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?uR.nu(this.firestore,t):null))},e}(bR);function wR(t){return IT(t,OT)}var kR,CR,AR=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(WT.bind.apply(WT,ob([void 0],t)))}return t.documentId=function(){return new t(jw.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(il.getModularInstance)(t))instanceof WT&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),ER=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new aD("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new oD("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cD("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lD("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new uD("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),xR={Firestore:sR,GeoPoint:YT,Timestamp:Tw,Blob:iR,Transaction:cR,WriteBatch:lR,DocumentReference:dR,DocumentSnapshot:gR,Query:bR,QueryDocumentSnapshot:mR,QuerySnapshot:yR,CollectionReference:_R,FieldPath:AR,FieldValue:ER,setLogLevel:function(t){gw.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ol.Component("firestore",(function(t){return function(t,e){return new sR(t,new VT(t,e),new oR)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},xR)))})(kR=Jc.default),kR.registerVersion("@firebase/firestore","2.4.1"),(CR=sR).prototype.loadBundle=function(t){return function(t,e){var n=UT(t=IT(t,VT)),r=new QT;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new JI(t,e)}(function(t,e){if(t instanceof Uint8Array)return YI(t,e);if(t instanceof ArrayBuffer)return YI(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,hS(e));t.asyncQueue.enqueueAndForget((function(){return rb(i,void 0,void 0,(function(){var e;return ib(this,(function(n){switch(n.label){case 0:return e=HI,[4,lT(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,t._databaseId,e,r),r}(this._delegate,t)},CR.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return rb(n,void 0,void 0,(function(){var n;return ib(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=Cw(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Ke.getNamedQuery(t,e)}))},[4,aT(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(UT(e=IT(e,VT)),n).then((function(t){return t?new NT(e,null,t.query):null}))).then((function(t){return t?new bR(r,t):null}))};var SR=function(t,e){return(SR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function IR(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function TR(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var DR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},RR=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}SR(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),OR=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return IR(this,void 0,void 0,(function(){var t;return TR(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return IR(this,void 0,void 0,(function(){return TR(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return IR(this,void 0,void 0,(function(){var t,e;return TR(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function NR(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var PR=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return NR(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?NR(t,(function(t){return e.decode(t)})):t},t}(),MR=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new PR,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new OR(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(kR){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return IR(this,void 0,void 0,(function(){var r,i,o;return TR(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return IR(this,void 0,void 0,(function(){var t;return TR(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return IR(this,void 0,void 0,(function(){var r,i,o,s,a,c,l,u,d,h;return TR(this,(function(f){switch(f.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new RR("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,l=a.promise,[4,Promise.race([LR(c,this.postJSON(r,i,o)),l,LR(c,this.cancelAllRequests)])];case 2:if(!(u=f.sent()))throw new RR("cancelled","Firebase Functions instance was deleted.");if(d=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!DR[a])return new RR("internal","internal");r=DR[a],i=a}var c=s.message;"string"==typeof c&&(i=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(kR){}return"ok"===r?null:new RR(r,i,o)}(u.status,u.json,this.serializer))throw d;if(!u.json)throw new RR("internal","Response is not valid JSON object.");if(void 0===(h=u.json.data)&&(h=u.json.result),void 0===h)throw new RR("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}}))}))},t}();function LR(t,e){return IR(this,void 0,void 0,(function(){var n;return TR(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}!function(t,e){var n={Functions:MR};t.INTERNAL.registerComponent(new ol.Component("functions",(function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new MR(i,o,a,s,r,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Jc.default,fetch.bind(self)),Jc.default.registerVersion("@firebase/functions","0.6.16");var jR=function(){return(jR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function FR(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function BR(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function zR(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var QR,VR=n("nbvr"),UR=((QR={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',QR["not-registered"]="Firebase Installation is not registered.",QR["installation-not-found"]="Firebase Installation not found.",QR["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',QR["app-offline"]="Could not process request. Application offline.",QR["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",QR),qR=new il.ErrorFactory("installations","Installations",UR);function HR(t){return t instanceof il.FirebaseError&&t.code.includes("request-failed")}function GR(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function WR(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function KR(t,e){return FR(this,void 0,void 0,(function(){var n,r;return BR(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,qR.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function $R(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function YR(t,e){var n=e.refreshToken,r=$R(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function ZR(t){return FR(this,void 0,void 0,(function(){var e;return BR(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function JR(t,e){var n=e.fid;return FR(this,void 0,void 0,(function(){var e,r,i,o,s;return BR(this,(function(a){switch(a.label){case 0:return e=GR(t),r=$R(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.32"})},[4,ZR((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:WR(s.authToken)}];case 3:return[4,KR("Create Installation",o)];case 4:throw a.sent()}}))}))}function XR(t){return new Promise((function(e){setTimeout(e,t)}))}var tO=/^[cdef][\w-]{21}$/;function eO(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return tO.test(e)?e:""}catch(n){return""}}function nO(t){return t.appName+"!"+t.appId}var rO=new Map;function iO(t,e){var n=nO(t);oO(n,e),function(t,e){var n=aO();n&&n.postMessage({key:t,fid:e}),cO()}(n,e)}function oO(t,e){var n,r,i=rO.get(t);if(i)try{for(var o=zR(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var sO=null;function aO(){return!sO&&"BroadcastChannel"in self&&((sO=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){oO(t.data.key,t.data.fid)}),sO}function cO(){0===rO.size&&sO&&(sO.close(),sO=null)}var lO="firebase-installations-store",uO=null;function dO(){return uO||(uO=Object(VR.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(lO)}}))),uO}function hO(t,e){return FR(this,void 0,void 0,(function(){var n,r,i,o,s;return BR(this,(function(a){switch(a.label){case 0:return n=nO(t),[4,dO()];case 1:return r=a.sent(),i=r.transaction(lO,"readwrite"),[4,(o=i.objectStore(lO)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||iO(t,e.fid),[2,e]}}))}))}function fO(t){return FR(this,void 0,void 0,(function(){var e,n,r;return BR(this,(function(i){switch(i.label){case 0:return e=nO(t),[4,dO()];case 1:return n=i.sent(),[4,(r=n.transaction(lO,"readwrite")).objectStore(lO).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function pO(t,e){return FR(this,void 0,void 0,(function(){var n,r,i,o,s,a;return BR(this,(function(c){switch(c.label){case 0:return n=nO(t),[4,dO()];case 1:return r=c.sent(),i=r.transaction(lO,"readwrite"),[4,(o=i.objectStore(lO)).get(n)];case 2:return s=c.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||iO(t,a.fid),[2,a]}}))}))}function gO(t){return FR(this,void 0,void 0,(function(){var e,n,r;return BR(this,(function(i){switch(i.label){case 0:return[4,pO(t,(function(n){var r=function(t){return vO(t||{fid:eO(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qR.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return FR(this,void 0,void 0,(function(){var n,r;return BR(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,JR(t,e)];case 1:return n=i.sent(),[2,hO(t,n)];case 2:return HR(r=i.sent())&&409===r.customData.serverCode?[4,fO(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,hO(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mO(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function mO(t){return FR(this,void 0,void 0,(function(){var e,n,r,i;return BR(this,(function(o){switch(o.label){case 0:return[4,bO(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,XR(100)];case 3:return o.sent(),[4,bO(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,gO(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function bO(t){return pO(t,(function(t){if(!t)throw qR.create("installation-not-found");return vO(t)}))}function vO(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function yO(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return FR(this,void 0,void 0,(function(){var t,i,o,s,a;return BR(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return GR(t)+"/"+n+"/authTokens:generate"}(n,e),i=YR(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.32"}})},[4,ZR((function(){return fetch(t,s)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,WR(c.sent())];case 3:return[4,KR("Generate Auth Token",a)];case 4:throw c.sent()}}))}))}function _O(t,e){return void 0===e&&(e=!1),FR(this,void 0,void 0,(function(){var n,r,i;return BR(this,(function(o){switch(o.label){case 0:return[4,pO(t.appConfig,(function(r){if(!kO(r))throw qR.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return FR(this,void 0,void 0,(function(){var n,r;return BR(this,(function(i){switch(i.label){case 0:return[4,wO(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,XR(100)];case 3:return i.sent(),[4,wO(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,_O(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw qR.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return jR(jR({},t),{authToken:e})}(r);return n=function(t,e){return FR(this,void 0,void 0,(function(){var n,r,i;return BR(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,yO(t,e)];case 1:return n=o.sent(),i=jR(jR({},e),{authToken:n}),[4,hO(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!HR(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,fO(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=jR(jR({},e),{authToken:{requestStatus:0}}),[4,hO(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function wO(t){return pO(t,(function(t){if(!kO(t))throw qR.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?jR(jR({},t),{authToken:{requestStatus:0}}):t}))}function kO(t){return void 0!==t&&2===t.registrationStatus}function CO(t){return FR(this,void 0,void 0,(function(){var e;return BR(this,(function(n){switch(n.label){case 0:return[4,gO(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function AO(t,e){return FR(this,void 0,void 0,(function(){var n,r,i,o;return BR(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return GR(t)+"/"+n}(t,e),r=YR(t,e),i={method:"DELETE",headers:r},[4,ZR((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,KR("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function EO(t){return qR.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new ol.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw EO("App Configuration");if(!t.name)throw EO("App Name");try{for(var r=zR(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw EO(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return FR(this,void 0,void 0,(function(){var e,n,r;return BR(this,(function(i){switch(i.label){case 0:return[4,gO(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):_O(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),FR(this,void 0,void 0,(function(){return BR(this,(function(n){switch(n.label){case 0:return[4,CO(t.appConfig)];case 1:return n.sent(),[4,_O(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return FR(this,void 0,void 0,(function(){var e,n;return BR(this,(function(r){switch(r.label){case 0:return[4,pO(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw qR.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw qR.create("app-offline");case 3:return[4,AO(e,n)];case 4:return r.sent(),[4,fO(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){aO();var n=nO(t),r=rO.get(n);r||(r=new Set,rO.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=nO(t),r=rO.get(n);r&&(r.delete(e),0===r.size&&rO.delete(n),cO())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(Jc.default);var xO,SO=function(){return(SO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function IO(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function TO(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function DO(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var RO=((xO={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xO["only-available-in-window"]="This method is available in a Window context.",xO["only-available-in-sw"]="This method is available in a service worker context.",xO["permission-default"]="The notification permission was not granted and dismissed instead.",xO["permission-blocked"]="The notification permission was not granted and blocked instead.",xO["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",xO["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",xO["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",xO["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",xO["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",xO["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",xO["token-update-no-token"]="FCM returned no token when updating the user to push.",xO["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",xO["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",xO["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",xO["invalid-vapid-key"]="The public VAPID key must be a string.",xO["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",xO),OO=new il.ErrorFactory("messaging","Messaging",RO),NO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",PO=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function MO(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LO(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function jO(t){return IO(this,void 0,void 0,(function(){var e,n=this;return TO(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(VR.openDb)("fcm_token_details_db",5,(function(r){return IO(n,void 0,void 0,(function(){var n,i,o,s;return TO(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:MO(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:MO(o.auth),p256dh:MO(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:MO(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(VR.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(VR.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(VR.deleteDb)("undefined")];case 6:return r.sent(),[2,FO(e)?e:null]}}))}))}function FO(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var BO=null;function zO(){return BO||(BO=Object(VR.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}}))),BO}function QO(t){return IO(this,void 0,void 0,(function(){var e,n,r;return TO(this,(function(i){switch(i.label){case 0:return e=qO(t),[4,zO()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,jO(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,VO(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function VO(t,e){return IO(this,void 0,void 0,(function(){var n,r,i;return TO(this,(function(o){switch(o.label){case 0:return n=qO(t),[4,zO()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function UO(t){return IO(this,void 0,void 0,(function(){var e,n,r;return TO(this,(function(i){switch(i.label){case 0:return e=qO(t),[4,zO()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function qO(t){return t.appConfig.appId}function HO(t,e){return IO(this,void 0,void 0,(function(){var n,r,i,o,s;return TO(this,(function(a){switch(a.label){case 0:return[4,$O(t)];case 1:n=a.sent(),r=YO(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(KO(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),OO.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw OO.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw OO.create("token-subscribe-no-token");return[2,o.token]}}))}))}function GO(t,e){return IO(this,void 0,void 0,(function(){var n,r,i,o,s;return TO(this,(function(a){switch(a.label){case 0:return[4,$O(t)];case 1:n=a.sent(),r=YO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(KO(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),OO.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw OO.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw OO.create("token-update-no-token");return[2,o.token]}}))}))}function WO(t,e){return IO(this,void 0,void 0,(function(){var n,r,i,o;return TO(this,(function(s){switch(s.label){case 0:return[4,$O(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(KO(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw OO.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),OO.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function KO(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function $O(t){var e=t.appConfig,n=t.installations;return IO(this,void 0,void 0,(function(){var t;return TO(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function YO(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==NO&&(n.web.applicationPubKey=e),n}function ZO(t,e,n){return IO(this,void 0,void 0,(function(){var r,i,o,s;return TO(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw OO.create("permission-blocked");return[4,eN(e,n)];case 1:return r=a.sent(),[4,QO(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:MO(r.getKey("auth")),p256dh:MO(r.getKey("p256dh"))},i?[3,3]:[2,tN(t,o)];case 3:if(u=(l=o).endpoint===(c=i.subscriptionOptions).endpoint,l.vapidKey===c.vapidKey&&u&&l.auth===c.auth&&l.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,WO(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,tN(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,XO({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,l,u}))}))}function JO(t,e){return IO(this,void 0,void 0,(function(){var n,r;return TO(this,(function(i){switch(i.label){case 0:return[4,QO(t)];case 1:return(n=i.sent())?[4,WO(t,n.token)]:[3,4];case 2:return i.sent(),[4,UO(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function XO(t,e,n){return IO(this,void 0,void 0,(function(){var r,i,o;return TO(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,GO(e,t)];case 1:return r=s.sent(),i=SO(SO({},t),{token:r,createTime:Date.now()}),[4,VO(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,JO(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function tN(t,e){return IO(this,void 0,void 0,(function(){var n,r;return TO(this,(function(i){switch(i.label){case 0:return[4,HO(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,VO(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function eN(t,e){return IO(this,void 0,void 0,(function(){var n;return TO(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LO(e)})]}}))}))}function nN(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function rN(t){return new Promise((function(e){setTimeout(e,t)}))}var iN=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw OO.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return IO(this,void 0,void 0,(function(){var n;return TO(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,QO(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:NO,r.label=2;case 2:return[2,ZO(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return JO(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw OO.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw OO.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw OO.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw OO.create("only-available-in-window")},t.prototype.onMessage=function(){throw OO.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw OO.create("only-available-in-window")},t.prototype.onPush=function(t){return IO(this,void 0,void 0,(function(){var e,n,r,i;return TO(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,cN()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,aN(n,e)]:(r=!1,e.notification?[4,lN(oN(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,rN(1e3)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return IO(this,void 0,void 0,(function(){var r;return TO(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,JO(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,QO(this.firebaseDependencies)];case 3:return r=i.sent(),[4,JO(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,ZO(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:NO)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return IO(this,void 0,void 0,(function(){var r,i,o,s,a;return TO(this,(function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(nN(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,sN(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,rN(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=PO.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function oN(t){var e,n=SO({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function sN(t){return IO(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return TO(this,(function(c){switch(c.label){case 0:return[4,cN()];case 1:e=c.sent();try{for(n=DO(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function aN(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=PO.PUSH_RECEIVED;try{for(var i=DO(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function cN(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function lN(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var uN=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return IO(this,void 0,void 0,(function(){var e,n;return TO(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===PO.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),nN(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return IO(this,void 0,void 0,(function(){return TO(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw OO.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,ZO(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return IO(this,void 0,void 0,(function(){return TO(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=NO),[2]}))}))},t.prototype.updateSwReg=function(t){return IO(this,void 0,void 0,(function(){return TO(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw OO.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return IO(this,void 0,void 0,(function(){var t,e;return TO(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),OO.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return IO(this,void 0,void 0,(function(){return TO(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,JO(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return IO(this,void 0,void 0,(function(){var t;return TO(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw OO.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw OO.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw OO.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw OO.create("invalid-sw-registration");if(this.swRegistration)throw OO.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw OO.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw OO.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return IO(this,void 0,void 0,(function(){var n;return TO(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case PO.NOTIFICATION_CLICKED:return"notification_open";case PO.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function dN(t){return OO.create("missing-app-config-values",{valueName:t})}var hN={isSupported:fN};function fN(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Jc.default.INTERNAL.registerComponent(new ol.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw dN("App Configuration Object");if(!t.name)throw dN("App Name");var r=t.options;try{for(var i=DO(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw dN(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!fN())throw OO.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new iN(n):new uN(n)}),"PUBLIC").setServiceProps(hN));var pN=function(){return(pN=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function gN(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var mN,bN,vN,yN=((mN={})["trace started"]="Trace {$traceName} was started before.",mN["trace stopped"]="Trace {$traceName} is not running.",mN["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",mN["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",mN["no window"]="Window is not available.",mN["no app id"]="App id is not available.",mN["no project id"]="Project id is not available.",mN["no api key"]="Api key is not available.",mN["invalid cc log"]="Attempted to queue invalid cc event",mN["FB not default"]="Performance can only start when Firebase app instance is the default one.",mN["RC response not ok"]="RC response is not ok",mN["invalid attribute name"]="Attribute name {$attributeName} is invalid.",mN["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",mN["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",mN["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",mN),_N=new il.ErrorFactory("performance","Performance",yN),wN=new sb.Logger("Performance");wN.logLevel=sb.LogLevel.INFO;var kN,CN=function(){function t(t){if(this.window=t,!t)throw _N.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(il.isIndexedDBAvailable)()||(wN.info("IndexedDB is not supported by current browswer"),!1):(wN.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===bN&&(bN=new t(vN)),bN},t}();function AN(t,e){var n=t.length-e.length;if(n<0||n>1)throw _N.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var EN,xN=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=AN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=AN("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw _N.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw _N.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw _N.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===kN&&(kN=new t),kN},t}();function SN(){return EN}var IN=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),TN=["firebase_","google_","ga_"],DN=new RegExp("^[a-zA-Z]\\w*$");function RN(){var t=CN.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function ON(){switch(CN.getInstance().document.visibilityState){case"visible":return IN.VISIBLE;case"hidden":return IN.HIDDEN;default:return IN.UNKNOWN}}function NN(){var t=CN.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function PN(t){if(!t)return t;var e=xN.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=MN(e.tracesSamplingRate),e.logNetworkAfterSampling=MN(e.networkRequestsSamplingRate),t}function MN(t){return Math.random()<=t}var LN,jN=1;function FN(){return jN=2,LN=LN||function(){var t=CN.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=xN.getInstance().installationsService.getId()).then((function(t){EN=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=CN.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(PN(e),Promise.resolve()):function(t){return(e=xN.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+xN.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+xN.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:xN.getInstance().getAppId(),app_version:"0.4.18",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw _N.create("RC response not ok")}))})).catch((function(){wN.info("Could not fetch config, will use default configs")}));var e}(t).then(PN).then((function(t){return function(t){var e=CN.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*xN.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return BN()}),(function(){return BN()}))}function BN(){jN=3}var zN,QN=3,VN=[],UN=!1;function qN(t){if(!t.eventTime||!t.message)throw _N.create("invalid cc log");VN=gN(gN([],VN),[t])}function HN(t,e){var n;zN||(n=KN,zN=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.apply(void 0,t);qN({message:r,eventTime:Date.now()})}),zN(t,e)}function GN(t){var e=xN.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&CN.getInstance().requiredApisAvailable()&&(t.isAuto&&ON()!==IN.VISIBLE||(3===jN?WN(t):FN().then((function(){return WN(t)}),(function(){return WN(t)}))))}function WN(t){if(SN()){var e=xN.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return HN(t,1)}),0)}}function KN(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:$N(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:$N(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function $N(){return{google_app_id:xN.getInstance().getAppId(),app_instance_id:SN(),web_app_info:{sdk_version:"0.4.18",page_url:CN.getInstance().getUrl(),service_worker_status:RN(),visibility_state:ON(),effective_connection_type:NN()},application_process_state:0}}var YN=["_fp","_fcp","_fid"],ZN=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=CN.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw _N.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw _N.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),GN(this)},t.prototype.record=function(t,e,n){if(t<=0)throw _N.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw _N.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=pN({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}GN(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith("_wt_")&&YN.indexOf(i)>-1)&&i.startsWith("_"))throw _N.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&wN.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||TN.some((function(t){return n.startsWith(t)}))||!n.match(DN)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw _N.create("invalid attribute name",{attributeName:t});if(!i)throw _N.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return pN({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=CN.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*CN.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find((function(t){return"first-contentful-paint"===t.name}));c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}GN(o)}},t.createUserTimingTrace=function(e){GN(new t(e,!1,e))},t}();function JN(t){var e=t;if(e&&void 0!==e.responseStart){var n=CN.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=xN.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return HN(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function XN(){SN()&&(setTimeout((function(){return function(){var t=CN.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){ZN.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),ZN.createOobTrace(e,n,t))}))}else ZN.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=CN.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)JN(n[e]);t.setupObserver("resource",JN)}()}),0),setTimeout((function(){return function(){for(var t=CN.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)tP(n[e]);t.setupObserver("measure",tP)}()}),0))}function tP(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&ZN.createUserTimingTrace(e)}var eP=function(){function t(t){this.app=t,CN.getInstance().requiredApisAvailable()&&Object(il.validateIndexedDBOpenable)().then((function(t){t&&(UN||(function t(e){setTimeout((function(){var e,n;if(0!==QN)return VN.length?(n=(e=VN.splice(0,1e3)).map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(e,n){return function(t){var e=xN.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||wN.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(VN=gN(gN([],n),VN),wN.info("Retry transport request later.")),QN=3,t(i)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:xN.getInstance().logSource,log_event:n},e).catch((function(){VN=gN(gN([],e),VN),QN--,wN.info("Tries left: "+QN+"."),t(1e4)}))):t(1e4)}),e)}(5500),UN=!0),FN().then(XN,XN))})).catch((function(t){wN.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new ZN(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return xN.getInstance().instrumentationEnabled},set:function(t){xN.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return xN.getInstance().dataCollectionEnabled},set:function(t){xN.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new ol.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw _N.create("FB not default");if("undefined"==typeof window)throw _N.create("no window");return function(t){vN=t}(window),xN.getInstance().firebaseAppInstance=t,xN.getInstance().installationsService=e,new eP(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.18")}(Jc.default);var nP=function(){return(nP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function rP(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function iP(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var oP,sP="https://www.googletagmanager.com/gtag/js",aP=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),cP=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),lP=new sb.Logger("@firebase/analytics");function uP(t,e,n,r,i,o){return rP(this,void 0,void 0,(function(){var s,a,c,l;return iP(this,(function(u){switch(u.label){case 0:s=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=u.sent(),(c=a.find((function(t){return t.measurementId===i})))?[4,e[c.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return l=u.sent(),lP.error(l),[3,8];case 8:return t(aP.CONFIG,i,o),[2]}}))}))}function dP(t,e,n,r,i){return rP(this,void 0,void 0,(function(){var o,s,a,c,l,u,d;return iP(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=h.sent(),c=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,u=s;l<u.length&&"break"!==c(u[l]);l++);h.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return h.sent(),t(aP.EVENT,r,i||{}),[3,5];case 4:return d=h.sent(),lP.error(d),[3,5];case 5:return[2]}}))}))}var hP=((oP={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",oP["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",oP["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",oP["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",oP["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",oP["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",oP["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",oP["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',oP["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',oP),fP=new il.ErrorFactory("analytics","Analytics",hP),pP=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function gP(t){var e;return rP(this,void 0,void 0,(function(){var n,r,i,o,s,a;return iP(this,(function(c){switch(c.label){case 0:return n=t.appId,r={method:"GET",headers:(l=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":l}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return a=c.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw fP.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var l}))}))}function mP(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=pP),rP(this,void 0,void 0,(function(){var e,s,a,c,l,u,d;return iP(this,(function(h){switch(h.label){case 0:e=t.appId,s=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,bP(n,i)];case 2:return h.sent(),[3,4];case 3:if(a=h.sent(),s)return lP.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return h.trys.push([4,6,,7]),[4,gP(t)];case 5:return c=h.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof il.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l=h.sent())){if(r.deleteThrottleMetadata(e),s)return lP.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:s}];throw l}return u=503===Number(l.customData.httpStatus)?Object(il.calculateBackoffMillis)(o,r.intervalMillis,30):Object(il.calculateBackoffMillis)(o,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:o+1},r.setThrottleMetadata(e,d),lP.debug("Calling attemptFetch again in "+u+" millis"),[2,mP(t,d,n,r)];case 7:return[2]}}))}))}function bP(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(fP.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var vP,yP,_P=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),wP={},kP=[],CP={},AP="dataLayer",EP="gtag",xP=!1;function SP(t){if(xP)throw fP.create("already-initialized");t.dataLayerName&&(AP=t.dataLayerName),t.gtagName&&(EP=t.gtagName)}function IP(){return rP(this,void 0,void 0,(function(){return iP(this,(function(t){switch(t.label){case 0:if(Object(il.isBrowserExtension)())return[2,!1];if(!Object(il.areCookiesEnabled)())return[2,!1];if(!Object(il.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(il.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new ol.Component("analytics",(function(t){return function(t,e){!function(){var t=[];if(Object(il.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(il.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=fP.create("invalid-analytics-context",{errorInfo:e});lP.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw fP.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw fP.create("no-api-key");lP.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=wP[i])throw fP.create("already-exists",{id:i});if(!xP){n=AP,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return rP(this,void 0,void 0,(function(){var a;return iP(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==aP.EVENT?[3,2]:[4,dP(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return i!==aP.CONFIG?[3,4]:[4,uP(t,e,n,r,o,s)];case 3:return c.sent(),[3,5];case 4:t(aP.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),lP.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(wP,kP,CP,AP,EP);yP=o.wrappedGtag,vP=o.gtagCore,xP=!0}return wP[i]=function(t,e,n,r,i,o){return rP(this,void 0,void 0,(function(){var s,a,c,l,u,d,h;return iP(this,(function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=pP),rP(this,void 0,void 0,(function(){var n,r,i,o,s,a,c=this;return iP(this,(function(l){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw fP.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw fP.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _P,setTimeout((function(){return rP(c,void 0,void 0,(function(){return iP(this,(function(t){return a.abort(),[2]}))}))}),6e4),[2,mP({appId:r,apiKey:i,measurementId:o},s,a,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&lP.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return lP.error(t)})),e.push(s),a=function(){return rP(this,void 0,void 0,(function(){var t;return iP(this,(function(e){switch(e.label){case 0:return Object(il.isIndexedDBAvailable)()?[3,1]:(lP.warn(fP.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(il.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),lP.warn(fP.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return c=f.sent(),l=c[0],u=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(sP))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=sP+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,d=h,null!=u&&(d.firebase_id=u),i(aP.CONFIG,l.measurementId,d),[2,l.measurementId]}}))}))}(t,kP,CP,e,vP,AP),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return rP(this,void 0,void 0,(function(){var o,s;return iP(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(aP.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=nP(nP({},r),{send_to:o}),t(aP.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(yP,wP[i],t,e,n).catch((function(t){return lP.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return rP(this,void 0,void 0,(function(){var i;return iP(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(aP.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(aP.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(yP,wP[i],t,e).catch((function(t){return lP.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return rP(this,void 0,void 0,(function(){var i;return iP(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(aP.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(aP.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(yP,wP[i],t,e).catch((function(t){return lP.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return rP(this,void 0,void 0,(function(){var i,o,s,a,c;return iP(this,(function(l){switch(l.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(aP.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=l.sent(),t(aP.CONFIG,c,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}}))}))})(yP,wP[i],t,e).catch((function(t){return lP.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return rP(this,void 0,void 0,(function(){var n;return iP(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(wP[i],t).catch((function(t){return lP.error(t)}))},INTERNAL:{delete:function(){return delete wP[i],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:SP,EventName:cP,isSupported:IP})),t.INTERNAL.registerComponent(new ol.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(kR){throw fP.create("interop-component-reg-failed",{reason:kR})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(Jc.default);var TP=function(){return(TP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function DP(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(kR){o(kR)}}function a(t){try{c(r.throw(t))}catch(kR){o(kR)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function RP(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(kR){a=[6,kR],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var OP,NP=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return DP(this,void 0,void 0,(function(){var e,n,r,i,o;return RP(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),PP=((OP={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",OP["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",OP["registration-api-key"]="Undefined API key. Check Firebase app initialization.",OP["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",OP["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",OP["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",OP["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",OP["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",OP["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",OP["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',OP["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',OP["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",OP["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",OP),MP=new il.ErrorFactory("remoteconfig","Remote Config",PP),LP=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return DP(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,l,u,d,h,f,p,g,m;return RP(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=b.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===v&&(v=navigator),v.languages&&v.languages[0]||v.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return b.sent(),[4,s];case 4:return c=b.sent(),[3,6];case 5:throw l=b.sent(),u="fetch-client-network","AbortError"===l.name&&(u="fetch-timeout"),MP.create(u,{originalErrorMessage:l.message});case 6:if(d=c.status,h=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];g=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,c.json()];case 8:return g=b.sent(),[3,10];case 9:throw m=b.sent(),MP.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:f=g.entries,p=g.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?d=500:"NO_CHANGE"===p?d=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==d&&200!==d)throw MP.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:h,config:f}]}var v}))}))},t}(),jP=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),FP=["1","true","t","yes","y","on"],BP=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&FP.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),zP=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=sb.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=sb.LogLevel.SILENT;break;default:this._logger.logLevel=sb.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return DP(this,void 0,void 0,(function(){var t,e,n;return RP(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return DP(this,void 0,void 0,(function(){var t,e,n,r=this;return RP(this,(function(i){switch(i.label){case 0:t=new jP,setTimeout((function(){return DP(r,void 0,void 0,(function(){return RP(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof il.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return DP(this,void 0,void 0,(function(){return RP(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(TP(TP({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new BP("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new BP("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new BP("static"))},t}();function QP(t,e){var n=t.target.error||void 0;return MP.create(e,{originalErrorMessage:n&&n.message})}var VP=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(QP(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return DP(this,void 0,void 0,(function(){var e,n=this;return RP(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(QP(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(kR){i(MP.create("storage-get",{originalErrorMessage:kR&&kR.message}))}}))]}}))}))},t.prototype.set=function(t,e){return DP(this,void 0,void 0,(function(){var n,r=this;return RP(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(QP(t,"storage-set"))},c.onsuccess=function(){i()}}catch(kR){o(MP.create("storage-set",{originalErrorMessage:kR&&kR.message}))}}))]}}))}))},t.prototype.delete=function(t){return DP(this,void 0,void 0,(function(){var e,n=this;return RP(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(QP(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(kR){i(MP.create("storage-delete",{originalErrorMessage:kR&&kR.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),UP=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return DP(this,void 0,void 0,(function(){var t,e,n,r,i,o;return RP(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function qP(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(MP.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var HP,GP=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return DP(this,void 0,void 0,(function(){var e;return RP(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return DP(this,void 0,void 0,(function(){var e,i,o;return RP(this,(function(s){switch(s.label){case 0:return[4,qP(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof il.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(il.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}();(HP=Jc.default).INTERNAL.registerComponent(new ol.Component("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw MP.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,c=o.appId;if(!s)throw MP.create("registration-project-id");if(!a)throw MP.create("registration-api-key");if(!c)throw MP.create("registration-app-id");var l=new VP(c,r.name,n=n||"firebase"),u=new UP(l),d=new sb.Logger("@firebase/remote-config");d.logLevel=sb.LogLevel.ERROR;var h=new LP(i,HP.SDK_VERSION,n,s,a,c),f=new GP(h,l),p=new NP(f,l,u,d),g=new zP(r,p,u,l,d);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),HP.registerVersion("@firebase/remote-config","0.1.43"),n("X8/r"),Jc.default.registerVersion("firebase","8.10.1","app"),Jc.default.SDK_VERSION="8.10.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Jc.default.registerVersion("firebase","8.10.1");var WP=n("EcEN"),KP=Jc.default.initializeApp;function $P(t,e){if(1&t&&(r.Rb(0,"textarea",16),r.tc(1),r.Qb()),2&t){const t=r.bc().$implicit;r.Ab(1),r.vc("        ",t.message,"\n      ")}}function YP(t,e){if(1&t&&(r.Rb(0,"textarea",17),r.tc(1),r.Qb()),2&t){const t=r.bc().$implicit;r.Ab(1),r.vc("        ",t.message,"\n      ")}}function ZP(t,e){if(1&t&&(r.Rb(0,"div",11),r.Rb(1,"span",12),r.tc(2),r.Qb(),r.Rb(3,"span",13),r.tc(4),r.cc(5,"date"),r.Qb(),r.rc(6,$P,2,1,"textarea",14),r.rc(7,YP,2,1,"textarea",15),r.Qb()),2&t){const t=e.$implicit;r.Ab(2),r.uc(t.username),r.Ab(2),r.uc(r.ec(5,4,t.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.fc("ngIf","admin"===t.username),r.Ab(1),r.fc("ngIf","admin"!==t.username)}}function JP(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",18),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(1,"input",19),r.Rb(2,"button",20),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(3,"i",21),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.form),r.Ab(2),r.fc("disabled",!t.form.valid)}}let XP=(()=>{class t{constructor(t,e){this.formBuilder=t,this.tokenService=e,this.title="firechat",this.username="",this.message="",this.chats=[],this.checkLogged=!1,this.app=KP(o.firebaseConfig),this.form=this.formBuilder.group({message:["",[rs.required]],username:[""]})}onChatSubmit(t){const e=t;e.timestamp=(new Date).toString(),e.id=Object(WP.v4)(),this.chats=[],Jc.default.database().ref("/chat/"+this.username).push(e),this.form=this.formBuilder.group({message:["",[rs.required]],username:[this.username]}),this.heiht(),this.autoScroll()}ngOnInit(){if(this.tokenService.isLogged()){this.checkLogged=!0;const t=this.tokenService.getRole();for(let e=0;e<t.length;e++)"ROLE_ADMIN"===t[e]&&(this.accountRole="ROLE_ADMIN");this.currentUser=JSON.parse(this.tokenService.getUser()),this.nameUser=this.currentUser.lastName+" "+this.currentUser.firstName,this.currentAccount=JSON.parse(this.tokenService.getAccount()),this.username=this.currentAccount.username}Jc.default.database().ref("/chat/"+this.username).on("value",t=>{this.chats=[];const e=t.val();for(let n in e)this.chats.push(e[n]),console.log(this.chats);this.autoScroll()})}openForm(){document.getElementById("myForm").style.display="block",this.autoScroll()}closeForm(){document.getElementById("myForm").style.display="none"}autoScroll(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),100)}heiht(){setTimeout((function(){document.querySelectorAll("textarea").forEach(t=>{console.log("height",t.scrollHeight),t.setAttribute("style","height:"+t.scrollHeight+"px;overflow-y:hidden;")})}))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ya),r.Mb(tc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-chat-user"]],decls:17,vars:2,consts:[["type","button",1,"open-chatbox",3,"click"],[1,"fa-solid","fa-message",2,"font-size","24px"],["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],[3,"click"],["id","minimize",1,"fa-solid","fa-window-minimize"],["action","","id","scroll",1,"chatbox__body"],[1,"admin__message"],["class","me__box",4,"ngFor","ngForOf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"me__box"],[1,"user_name"],[1,"date-time"],["readonly","","class","admin__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"admin__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","L\u1eddi nh\u1eafn c\u1ee7a b\u1ea1n..",1,"input__mesage"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(t,e){1&t&&(r.Rb(0,"button",0),r.Zb("click",(function(){return e.openForm()})),r.Nb(1,"i",1),r.Qb(),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"p"),r.tc(5,"H\u1ed7 tr\u1ee3 0957465734"),r.Qb(),r.Rb(6,"span",4),r.Zb("click",(function(){return e.closeForm()})),r.Nb(7,"i",5),r.Qb(),r.Qb(),r.Rb(8,"div",6),r.Rb(9,"div",7),r.Rb(10,"p"),r.tc(11,"Web \u0111\u1ea5u gi\xe1 xin ch\xe0o, b\u1ea5t c\u1ee9 m\u1ed9t l\u1eddi nh\u1eafn n\xe0o, h\xe3y g\u1eedi cho ch\xfang t\xf4i"),r.Qb(),r.Rb(12,"p"),r.tc(13,"Ch\xfang t\xf4i s\u1ebd tr\u1ea3 l\u1eddi s\u1edbm nh\u1ea5t c\xf3 th\u1ec3!"),r.Qb(),r.Qb(),r.rc(14,ZP,8,7,"div",8),r.Qb(),r.Rb(15,"div",9),r.rc(16,JP,4,2,"form",10),r.Qb(),r.Qb()),2&t&&(r.Ab(14),r.fc("ngForOf",e.chats),r.Ab(2),r.fc("ngIf",e.form))},directives:[ft,gt,oa,Jo,ca,qo,Zo,ga],pipes:[wt],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{display:none;right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%], .user_name[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.admin__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var tM=Jc.default.initializeApp;function eM(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"li",9),r.Zb("click",(function(){r.mc(t);const n=e.$implicit;return r.bc().chooseUser(n)})),r.tc(2),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(2),r.uc(t)}}function nM(t,e){if(1&t&&(r.Rb(0,"textarea",17),r.tc(1),r.Qb()),2&t){const t=r.bc().$implicit;r.Ab(1),r.vc("        ",t.message,"\n      ")}}function rM(t,e){if(1&t&&(r.Rb(0,"textarea",18),r.tc(1),r.Qb()),2&t){const t=r.bc().$implicit;r.Ab(1),r.vc("        ",t.message,"\n      ")}}function iM(t,e){if(1&t&&(r.Rb(0,"div",12),r.Rb(1,"span",13),r.tc(2),r.Qb(),r.Rb(3,"span",14),r.tc(4),r.cc(5,"date"),r.Qb(),r.rc(6,nM,2,1,"textarea",15),r.rc(7,rM,2,1,"textarea",16),r.Qb()),2&t){const t=e.$implicit;r.Ab(2),r.uc(t.username),r.Ab(2),r.uc(r.ec(5,4,t.timestamp,"dd/MM/yyyy HH:mm:ss")),r.Ab(2),r.fc("ngIf","admin"!==t.username),r.Ab(1),r.fc("ngIf","admin"===t.username)}}function oM(t,e){if(1&t&&(r.Rb(0,"div"),r.Rb(1,"div",10),r.rc(2,iM,8,7,"div",11),r.Qb(),r.Qb()),2&t){const t=r.bc();r.Ab(2),r.fc("ngForOf",t.chats)}}function sM(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",19),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(1,"input",20),r.Rb(2,"button",21),r.Zb("click",(function(){r.mc(t);const e=r.bc();return e.onChatSubmit(e.form.value)})),r.Nb(3,"i",22),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.form),r.Ab(1),r.fc("readOnly",""==t.itemUser),r.Ab(1),r.fc("disabled",!t.form.valid)}}let aM=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this._toast=e,this._userService=n,this.userchat=[],this.title="firechat",this.username="admin",this.message="",this.chats=[],this.itemUser="",this.app=tM(o.firebaseConfig),this.form=this.formBuilder.group({message:["",[rs.required]],username:["admin"]})}onChatSubmit(t){const e=t;e.timestamp=(new Date).toString(),e.id=Object(WP.v4)(),this.chats=[],Jc.default.database().ref("chat").child(this.itemUser.toString()).push(e),console.log(this.chats),this.form=this.formBuilder.group({message:["",[rs.required]],username:[e.username]}),this.autoScroll(),this.heiht()}ngOnInit(){this.userchat=["son","giang"],this._userService.getAllUserChat().subscribe(t=>{for(let e=0;e<t.length;e++)this.userchat.push(t[e].account.username);console.log("user chat: ",this.userchat);for(let e=0;e<this.userchat.length;e++)Jc.default.database().ref("/chat/"+this.userchat[e]).once("value",t=>{var e;const n=t.val();for(let r in n)this.chatInfor=n[r];console.log("chat info",this.chatInfor),null!=this.chatInfor&&"admin"!=(null===(e=this.chatInfor)||void 0===e?void 0:e.username)&&this._toast.success("New Message From "+this.chatInfor.username,"receive",{timeOut:1e3})})},t=>{alert("loi")}),console.log(this.userchat);for(let t=0;t<this.userchat.length;t++)Jc.default.database().ref("chat").child(this.userchat[t]).once("value",t=>{const e=t.val();for(let n in e)this.chatInfor=e[n];"admin"!=this.chatInfor.username&&this._toast.success("New Message From "+this.chatInfor.username,"receive",{timeOut:2e3})});Jc.default.database().ref("chat/khach").once("value",t=>{const e=t.val();console.log(e)})}autoScroll(){setTimeout((function(){document.getElementById("scroll").scrollTop=document.getElementById("scroll").scrollHeight}),100)}heiht(){setTimeout((function(){document.querySelectorAll("textarea").forEach(t=>{console.log("height",t.scrollHeight),t.setAttribute("style","height:"+t.scrollHeight+"px;overflow-y:hidden;")})}))}chooseUser(t){this.chats=[],this.itemUser=t;for(let e=0;e<this.userchat.length;e++)if(t===this.userchat[e]){this.check=e;break}console.log(this.userchat[this.check]),console.log(t),console.log(this.itemUser),Jc.default.database().ref("chat").on("value",e=>{this.chats=[];const n=e.child(t).val();for(let t in n)this.chats.push(n[t]);this.autoScroll(),this.heiht(),this.itemUser=t,console.log(this.chats)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ya),r.Mb($a),r.Mb(Hc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-chat-admin"]],decls:12,vars:3,consts:[[1,"container"],[1,"list-group",2,"min-height","500px","margin-top","100px"],["aria-current","true",1,"list-group-item","active",2,"width","30%"],[4,"ngFor","ngForOf"],["id","myForm",1,"chatbox"],[1,"chatbox__header","d-flex","justify-content-between"],[4,"ngIf"],[1,"chatbox__Footer"],["action","","class","form__input__message",3,"formGroup","ngSubmit",4,"ngIf"],[1,"list-group-item",2,"width","30%",3,"click"],["id","scroll",1,"chatbox__body"],["class","me__box",4,"ngFor","ngForOf"],[1,"me__box"],[1,"user_name"],[1,"date-time"],["readonly","","class","user__message",4,"ngIf"],["readonly","","class","me__message",4,"ngIf"],["readonly","",1,"user__message"],["readonly","",1,"me__message"],["action","",1,"form__input__message",3,"formGroup","ngSubmit"],["formControlName","message","type","text","placeholder","T\u01b0 v\u1ea5n...",1,"input__mesage",3,"readOnly"],[1,"send",2,"border","solid whitesmoke 0.1px","background-color","white",3,"disabled","click"],[1,"fa-solid","fa-paper-plane"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"ul",1),r.Rb(2,"li",2),r.tc(3,"List Chat"),r.Qb(),r.rc(4,eM,3,1,"div",3),r.Qb(),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Rb(7,"p"),r.tc(8,"T\u01b0 v\u1ea5n vi\xean"),r.Qb(),r.Qb(),r.rc(9,oM,3,1,"div",6),r.Rb(10,"div",7),r.rc(11,sM,4,3,"form",8),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(4),r.fc("ngForOf",e.userchat),r.Ab(5),r.fc("ngIf",e.itemUser==e.userchat[e.check]),r.Ab(2),r.fc("ngIf",e.form))},directives:[ft,gt,oa,Jo,ca,qo,Zo,ga],pipes:[wt],styles:["#myForm[_ngcontent-%COMP%]{font-family:sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.open-chatbox[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fff;padding:18px;border:none;cursor:pointer;opacity:.8;position:fixed;bottom:23px;border-radius:50%;right:30px;display:flex}.open-chatbox[_ngcontent-%COMP%]:hover{padding:20px}.chatbox[_ngcontent-%COMP%]{right:12px}.chatbox[_ngcontent-%COMP%], .chatbox__start[_ngcontent-%COMP%]{position:fixed;border:none;bottom:12px;box-shadow:1px 1px 10px rgba(0,0,0,.35);border-radius:10px;z-index:9;background-color:#ecf0f1}.chatbox__start[_ngcontent-%COMP%]{right:350px}.chatbox__start[_ngcontent-%COMP%]   .chatbox__body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.chat__name[_ngcontent-%COMP%]{padding:4px;text-align:center;font-size:32px;margin-bottom:24px}.btn__chat__start[_ngcontent-%COMP%], .chat__name[_ngcontent-%COMP%]{width:100%;border-radius:25px;outline:none;border:none}.btn__chat__start[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:12px}p[_ngcontent-%COMP%]{padding:0;margin:0}.chatbox__header[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;background:linear-gradient(90deg,#ff5f6d,#ffc371);font-family:sans-serif;color:#fff;padding:12px}.chatbox__body[_ngcontent-%COMP%]{width:300px;height:50vh;padding:32px 10px 10px;overflow-y:scroll}.chatbox__body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.form__input__message[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chatbox__Footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:0 0 10px 10px}.input__mesage[_ngcontent-%COMP%]{width:85%;padding:8px 12px;outline:none;font-size:16px;border-radius:0 0 0 10px;border:none;border-right:2px solid #ecf0f1}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:15%;color:#fe6432}.send[_ngcontent-%COMP%]:hover{font-size:20px;cursor:pointer}.date-time[_ngcontent-%COMP%], .user_name[_ngcontent-%COMP%]{display:block;width:100%;text-align:center;font-size:12px;color:#868686;clear:both}.user__message[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5f6d,#ffc371);color:#fdfdfd;padding:8px;border-radius:0 8px 8px 8px;margin-bottom:24px;border:none;float:left}textarea[_ngcontent-%COMP%]{resize:none;outline:none;cursor:default}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.me__message[_ngcontent-%COMP%]{text-align:right;border:none;background-color:rgba(199,198,198,.4117647058823529);margin-bottom:24px;border-radius:10px;padding:8px;display:inline-block;float:right;line-height:100%}#minimize[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),cM=(()=>{class t{constructor(t,e,n,r){this.userService=t,this.router=e,this.formBuilder=n,this._storage=r,this.selectedImages=[]}ngOnInit(){this.userCreateForm=this.formBuilder.group({firstName:[],lastName:[],username:[],avatar:[],email:[],phone:[],birthDay:[],city:[],district:[],town:[],country:["viet nam"],idCard:[],password:[],pointDedication:[10],statusLock:[!0],deleteStatus:[!0],userTypeId:[5]})}submitCreateUser(){this.userService.saveaddAcountUser(this.userCreateForm.value).subscribe(t=>{this.router.navigateByUrl("")})}showPreview(t){if(t.target.files&&t.target.files[0]?((new FileReader).readAsDataURL(t.target.files[0]),this.selectedImages=t.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(let e=0;e<this.selectedImages.length;e++){let t=this.selectedImages[e];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,t).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.userCreateForm.patchValue({avatar:t})})})).subscribe(()=>{})}}generate(){let t;document.getElementById("submit").setAttribute("value",""),t=document.getElementById("image"),this.captchaString="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=1;n<6;n++)this.captchaString+=e.charAt(Math.random()*e.length);t.innerHTML=this.captchaString}printd(){const t=$("#submit").val();console.log(t),t==this.captchaString?(document.getElementById("key").innerHTML="M\xe3 ch\xednh x\xe1c",this.generate()):(document.getElementById("key").innerHTML="M\xe3 kh\xf4ng ch\xednh x\xe1c",this.generate())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hc),r.Mb(Oi),r.Mb(ya),r.Mb(Eu))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-user-create"]],decls:159,vars:2,consts:[[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"register",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp","alt","",1,"d-block","w-100"],[1,"w-50"],[1,"row"],[1,"text-center"],[1,"row",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["type","file","id","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",2,"font-size","35px","width","3em","height","3em","border-radius","50%","background","#008578",3,"change"],["userPhoto",""],[2,"height","200px","width","200px",3,"src"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","formControlName","firstName","id","floatingFistName","placeholder","Ho","aria-label","Ho","aria-describedby","basic-addon2",1,"form-control"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthday",1,"form-control"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["id","city","aria-label",".form-select-sm",1,"form-control"],["value","","selected",""],["id","district","aria-label",".form-select-sm",1,"form-control"],["id","ward","aria-label",".form-select-sm",1,"form-control"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],["type","password","id","floatingPassword","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingConfirmPassword","placeholder","ConfirmPassword",1,"form-control"],["for","floatingConfirmPassword"],["id","basic-addon9",1,"input-group-text"],[1,"fa-solid","fa-key"],[1,"col-lg-5"],["id","user-input",1,"floating"],[1,"col-lg-8"],["type","text","id","submit","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["type","button","id","btn",1,"btn","btn-gray",3,"click"],[1,"col-lg-7"],["id","image","selectable","False",2,"margin-top","0"],[1,"col-lg-1",2,"margin-top","10px"],[2,"cursor","pointer",3,"click"],[1,"fas","fa-sync"],[2,"font-size","17px","color","blue","margin-top","6px"],["id","key"],[1,"col-lg-12"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["href",""],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.tc(0,"/**\n* Create by: TruongLH\n* Date created: 16/12/2022\n* Function: to create user componet\n*/\n"),r.Rb(1,"form",0),r.Zb("ngSubmit",(function(){return e.submitCreateUser()})),r.Rb(2,"div",1),r.Rb(3,"div",2),r.Rb(4,"div",3),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Nb(8,"img",7),r.Qb(),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Rb(11,"div",10),r.Rb(12,"div",11),r.Rb(13,"h3"),r.tc(14,"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n m\u1edbi"),r.Qb(),r.Qb(),r.Qb(),r.Nb(15,"div",12),r.Qb(),r.Nb(16,"div",13),r.Rb(17,"div",9),r.Rb(18,"div",14),r.Rb(19,"input",15,16),r.Zb("change",(function(t){return e.showPreview(t)})),r.Qb(),r.Qb(),r.Rb(21,"div"),r.Nb(22,"img",17),r.Qb(),r.Qb(),r.Nb(23,"div",18),r.Rb(24,"div",9),r.Rb(25,"div",19),r.Rb(26,"div",20),r.Rb(27,"div",21),r.Nb(28,"input",22),r.Rb(29,"label",23),r.tc(30,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(31,"span",24),r.Nb(32,"i",25),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",19),r.Rb(34,"div",20),r.Rb(35,"div",21),r.Nb(36,"input",26),r.Rb(37,"label",27),r.tc(38,"T\xean"),r.Qb(),r.Qb(),r.Rb(39,"span",28),r.Nb(40,"i",25),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(41,"div",9),r.Rb(42,"div",19),r.Rb(43,"div",20),r.Rb(44,"div",21),r.Nb(45,"input",29),r.Rb(46,"label",30),r.tc(47,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(48,"span",31),r.Nb(49,"i",25),r.Qb(),r.Qb(),r.Qb(),r.Rb(50,"div",19),r.Rb(51,"div",20),r.Rb(52,"div",21),r.Nb(53,"input",32),r.Rb(54,"label",33),r.tc(55,"Email"),r.Qb(),r.Qb(),r.Rb(56,"span",34),r.Nb(57,"i",35),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(58,"div",9),r.Rb(59,"div",19),r.Rb(60,"div",20),r.Rb(61,"div",21),r.Nb(62,"input",36),r.Rb(63,"label",37),r.tc(64,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(65,"span",38),r.Nb(66,"i",39),r.Qb(),r.Qb(),r.Qb(),r.Rb(67,"div",19),r.Rb(68,"div",20),r.Rb(69,"div",21),r.Nb(70,"input",40),r.Rb(71,"label",41),r.tc(72,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(73,"span",42),r.Nb(74,"i",43),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(75,"div",9),r.Rb(76,"div",44),r.Rb(77,"div"),r.Rb(78,"select",45),r.Rb(79,"option",46),r.tc(80,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(81,"div",44),r.Rb(82,"div"),r.Rb(83,"select",47),r.Rb(84,"option",46),r.tc(85,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(86,"div",44),r.Rb(87,"div"),r.Rb(88,"select",48),r.Rb(89,"option",46),r.tc(90,"Ch\u1ecdn ph\u01b0\u1eddng x\xe3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(91,"div",49),r.Rb(92,"div",19),r.Rb(93,"div",20),r.Rb(94,"div",21),r.Nb(95,"input",50),r.Rb(96,"label",51),r.tc(97,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(98,"span",52),r.Nb(99,"i",53),r.Qb(),r.Qb(),r.Qb(),r.Rb(100,"div",19),r.Rb(101,"div",20),r.Rb(102,"div",21),r.Nb(103,"input",54),r.Rb(104,"label",55),r.tc(105,"CMND"),r.Qb(),r.Qb(),r.Rb(106,"span",56),r.Nb(107,"i",57),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(108,"div",9),r.Rb(109,"div",19),r.Rb(110,"div",20),r.Rb(111,"div",21),r.Nb(112,"input",58),r.Rb(113,"label",59),r.tc(114,"M\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(115,"span",60),r.Nb(116,"i",61),r.Qb(),r.Qb(),r.Qb(),r.Rb(117,"div",19),r.Rb(118,"div",20),r.Rb(119,"div",21),r.Nb(120,"input",62),r.Rb(121,"label",63),r.tc(122,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(123,"span",64),r.Nb(124,"i",65),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(125,"div",9),r.Rb(126,"div",66),r.Rb(127,"div"),r.Rb(128,"div",67),r.Rb(129,"div",9),r.Rb(130,"div",68),r.Nb(131,"input",69),r.Qb(),r.Rb(132,"div",44),r.Rb(133,"button",70),r.Zb("click",(function(){return e.printd()})),r.tc(134,"G\u1eedi"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(135,"div",71),r.Rb(136,"div",9),r.Rb(137,"div",44),r.Nb(138,"div",72),r.Qb(),r.Rb(139,"div",73),r.Rb(140,"div",74),r.Zb("click",(function(){return e.generate()})),r.Nb(141,"i",75),r.Qb(),r.Qb(),r.Rb(142,"div",71),r.Rb(143,"div",76),r.Nb(144,"p",77),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(145,"div",49),r.Rb(146,"div",78),r.Rb(147,"div",79),r.Nb(148,"input",80),r.Rb(149,"label",81),r.tc(150," \u0110\u1ed3ng \xfd "),r.Rb(151,"a",82),r.tc(152,"\u0111i\u1ec1u kho\u1ea3n"),r.Qb(),r.tc(153," c\u1ee7a website "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(154,"div",13),r.Rb(155,"div",9),r.Rb(156,"div",78),r.Rb(157,"button",83),r.tc(158,"\u0110\u0103ng k\xfd"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(1),r.fc("formGroup",e.userCreateForm),r.Ab(21),r.gc("src",e.imgs,r.oc))},directives:[oa,Jo,ca,qo,Zo,ga,Cs,Ss],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),t})();function lM(t,e){if(1&t&&(r.Rb(0,"div"),r.Nb(1,"img",76),r.Qb()),2&t){const t=e.$implicit;r.Ab(1),r.gc("src",t,r.oc)}}function uM(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",1),r.Zb("ngSubmit",(function(){r.mc(t);const e=r.bc();return e.updateUser(e.id)})),r.Rb(1,"div",2),r.Rb(2,"div",3),r.Rb(3,"div",4),r.Rb(4,"div",5),r.Rb(5,"div",6),r.Rb(6,"div",7),r.Nb(7,"div",8),r.Qb(),r.Rb(8,"div",9),r.Rb(9,"div",10),r.Rb(10,"div",11),r.Rb(11,"div",12),r.Rb(12,"h3"),r.tc(13,"S\u1eeda h\u1ed3 s\u01a1 c\xe1 nh\xe2n"),r.Qb(),r.Qb(),r.Qb(),r.Nb(14,"div",13),r.Qb(),r.Nb(15,"div",14),r.Rb(16,"div",10),r.Rb(17,"div",15),r.Rb(18,"input",16,17),r.Zb("change",(function(e){return r.mc(t),r.bc().showPreview(e)})),r.Qb(),r.Qb(),r.rc(20,lM,2,1,"div",18),r.Qb(),r.Nb(21,"div",19),r.Rb(22,"div",10),r.Rb(23,"div",20),r.Rb(24,"div",21),r.Rb(25,"div",22),r.Nb(26,"input",23),r.Rb(27,"label",24),r.tc(28,"H\u1ecd"),r.Qb(),r.Qb(),r.Rb(29,"span",25),r.Nb(30,"i",26),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"div",20),r.Rb(32,"div",21),r.Rb(33,"div",22),r.Nb(34,"input",27),r.Rb(35,"label",28),r.tc(36,"T\xean"),r.Qb(),r.Qb(),r.Rb(37,"span",29),r.Nb(38,"i",26),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(39,"div",10),r.Rb(40,"div",20),r.Rb(41,"div",21),r.Rb(42,"div",22),r.Nb(43,"input",30),r.Rb(44,"label",31),r.tc(45,"T\xean \u0111\u0103ng nh\u1eadp"),r.Qb(),r.Qb(),r.Rb(46,"span",32),r.Nb(47,"i",26),r.Qb(),r.Qb(),r.Qb(),r.Rb(48,"div",20),r.Rb(49,"div",21),r.Rb(50,"div",22),r.Nb(51,"input",33),r.Rb(52,"label",34),r.tc(53,"Email"),r.Qb(),r.Qb(),r.Rb(54,"span",35),r.Nb(55,"i",36),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(56,"div",10),r.Rb(57,"div",20),r.Rb(58,"div",21),r.Rb(59,"div",22),r.Nb(60,"input",37),r.Rb(61,"label",38),r.tc(62,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),r.Qb(),r.Qb(),r.Rb(63,"span",39),r.Nb(64,"i",40),r.Qb(),r.Qb(),r.Qb(),r.Rb(65,"div",20),r.Rb(66,"div",21),r.Rb(67,"div",22),r.Nb(68,"input",41),r.Rb(69,"label",42),r.tc(70,"Ng\xe0y sinh"),r.Qb(),r.Qb(),r.Rb(71,"span",43),r.Nb(72,"i",44),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(73,"div",10),r.Rb(74,"div",45),r.Rb(75,"div"),r.Rb(76,"select",46),r.Rb(77,"option",47),r.tc(78,"Ch\u1ecdn t\u1ec9nh th\xe0nh"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(79,"div",45),r.Rb(80,"div"),r.Rb(81,"select",48),r.Rb(82,"option",49),r.tc(83,"Ch\u1ecdn qu\u1eadn huy\u1ec7n"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(84,"div",45),r.Rb(85,"div"),r.Rb(86,"select",50),r.Rb(87,"option",49),r.tc(88,"Ch\u1ecdn ph\u01b0\u1eddng x\xe3"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(89,"div",51),r.Rb(90,"div",20),r.Rb(91,"div",21),r.Rb(92,"div",22),r.Nb(93,"input",52),r.Rb(94,"label",53),r.tc(95,"\u0110\u1ecba ch\u1ec9 chi ti\u1ebft"),r.Qb(),r.Qb(),r.Rb(96,"span",54),r.Nb(97,"i",55),r.Qb(),r.Qb(),r.Qb(),r.Rb(98,"div",20),r.Rb(99,"div",21),r.Rb(100,"div",22),r.Nb(101,"input",56),r.Rb(102,"label",57),r.tc(103,"CMND"),r.Qb(),r.Qb(),r.Rb(104,"span",58),r.Nb(105,"i",59),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(106,"div",10),r.Rb(107,"div",60),r.Rb(108,"div",21),r.Rb(109,"div",22),r.Nb(110,"input",61),r.Rb(111,"label",62),r.tc(112,"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i"),r.Qb(),r.Qb(),r.Rb(113,"span",63),r.Nb(114,"i",64),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(115,"div",10),r.Rb(116,"div",20),r.Rb(117,"div",21),r.Rb(118,"div",22),r.Nb(119,"input",65),r.Rb(120,"label",66),r.tc(121,"M\u1eadt kh\u1ea9u m\u1edbi"),r.Qb(),r.Qb(),r.Rb(122,"span",67),r.Nb(123,"i",68),r.Qb(),r.Qb(),r.Qb(),r.Rb(124,"div",20),r.Rb(125,"div",21),r.Rb(126,"div",22),r.Nb(127,"input",69),r.Rb(128,"label",70),r.tc(129,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),r.Qb(),r.Qb(),r.Rb(130,"span",71),r.Nb(131,"i",72),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(132,"div",14),r.Rb(133,"div",10),r.Rb(134,"div",73),r.Rb(135,"button",74),r.tc(136,"C\u1eadp nh\u1eadt"),r.Qb(),r.Rb(137,"button",75),r.tc(138,"\u0110\u1eb7t l\u1ea1i"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.fc("formGroup",t.updateUserForm),r.Ab(20),r.fc("ngForOf",t.imgs)}}let dM=(()=>{class t{constructor(t,e,n,r){this._userService=t,this._activatedRoute=e,this._builder=n,this._storage=r,this.selectedImages=[],this.imgs=[]}ngOnInit(){console.log("ok1"),this._activatedRoute.paramMap.subscribe(t=>{this.id=+t.get("id"),this.getUserUpdate(this.id)})}getUserUpdate(t){return console.log("ok2"),this._userService.findUserById(t).subscribe(e=>{console.log("ok3"),console.log(e),this.updateUserForm=this._builder.group({id:[t],firstName:[e.firstName],lastName:[e.lastName],username:[e.account.username],avatar:[e.avatar],email:[e.email],phone:[e.phone],birthDay:[e.birthDay],city:[e.address.city],district:[e.address.district],town:[e.address.town],country:["viet nam"],idCard:[e.idCard],password:[e.account.password],pointDedication:[10],statusLock:[!0],deleteStatus:[!0],userTypeId:[5]})})}updateUser(t){}showPreview(t){if(t.target.files&&t.target.files[0]?((new FileReader).readAsDataURL(t.target.files[0]),this.selectedImages=t.target.files):this.selectedImages=[],0!==this.selectedImages.length)for(let e=0;e<this.selectedImages.length;e++){let t=this.selectedImages[e];const n="RoomsImages/"+Date.now(),r=this._storage.ref(n);this._storage.upload(n,t).snapshotChanges().pipe(pn(()=>{r.getDownloadURL().subscribe(t=>{this.updateUserForm.patchValue({avatar:t})})})).subscribe(()=>{})}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Hc),r.Mb(Ar),r.Mb(ya),r.Mb(Eu))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-user-update"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[2,"background-color","#eee"],[1,"container"],[1,"borderFull"],[1,"row",2,"padding","32px 0"],[1,"profile",2,"background-color","white","border-radius","20px"],[1,"bgd","d-flex","align-items-center","w-50"],[1,"h-100","w-100",2,"background-size","cover","background","url('https://i.pinimg.com/736x/43/69/a0/4369a065ab04219b041ef2cd23387255.jpg') no-repeat","border-top-left-radius","20px","border-bottom-left-radius","20px"],[1,"w-50","p-3"],[1,"row"],[1,"text-center"],[1,"row","mb-3",2,"font-size","20px"],[1,"col-lg-3"],[1,"row",2,"height","10px"],[1,"col-lg-3",2,"padding-left","42%"],["type","file","id","file","multiple","","name","image","autocomplete","off","id","inputGroupFile01",1,"custom-file-input","form-control",2,"font-size","35px","width","3em","height","3em","border-radius","50%","background","#008578",3,"change"],["userPhoto",""],[4,"ngFor","ngForOf"],[1,"row",2,"height","25px"],[1,"col-lg-6"],[1,"input-group","mb-3"],[1,"form-floating","flex-grow-1"],["type","text","id","floatingFistName","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","firstName",1,"form-control"],["for","floatingFistName"],["id","basic-addon14",1,"input-group-text"],[1,"fa-solid","fa-user"],["type","text","id","floatingName","placeholder","Name","formControlName","lastName",1,"form-control"],["for","floatingName"],["id","basic-addon2",1,"input-group-text"],["type","text","id","floatingLogin","placeholder","T\xean \u0111\u0103ng nh\u1eadp","aria-label","T\xean \u0111\u0103ng nh\u1eadp","aria-describedby","basic-addon2","formControlName","username",1,"form-control"],["for","floatingLogin"],["id","basic-addon1",1,"input-group-text"],["type","email","id","floatingEmail","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control"],["for","floatingEmail"],["id","basic-addon3",1,"input-group-text"],[1,"fa-solid","fa-envelope"],["type","text","id","floatingPhone","placeholder","PhoneNumber","aria-label","PhoneNumber","aria-describedby","basic-addon2","formControlName","phone",1,"form-control"],["for","floatingPhone"],["id","basic-addon5",1,"input-group-text"],[1,"fa-solid","fa-phone-flip"],["type","text","id","floatingDateOfBirth","placeholder","DateOfBirth","formControlName","birthDay",1,"form-control"],["for","floatingDateOfBirth"],["id","basic-addon4",1,"input-group-text"],[1,"fa-regular","fa-calendar"],[1,"col-lg-4"],["id","city","aria-label",".form-select-sm",1,"form-control"],["formControlName","city","value","city","selected",""],["id","district","aria-label",".form-select-sm",1,"form-control"],["value","","selected",""],["id","ward","aria-label",".form-select-sm",1,"form-control"],[1,"row","mt-3"],["type","text","id","floatingAddress","placeholder","Address","aria-label","Address","aria-describedby","basic-addon2","formControlName","detailAddress",1,"form-control"],["for","floatingAddress"],["id","basic-addon7",1,"input-group-text"],[1,"fa-solid","fa-location-dot"],["type","text","id","floatingIdCard","placeholder","IdCard","formControlName","idCard",1,"form-control"],["for","floatingIdCard"],["id","basic-addon6",1,"input-group-text"],[1,"fa-regular","fa-id-card"],[1,"col-lg-12"],["type","password","id","floatingPassword","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2","formControlName","password",1,"form-control"],["for","floatingPassword"],["id","basic-addon8",1,"input-group-text"],[1,"fa-solid","fa-lock"],["type","password","id","floatingVerification","placeholder","name@example.com","aria-label","name@example.com","aria-describedby","basic-addon2",1,"form-control"],["for","floatingVerification"],["id","basic-addon10",1,"input-group-text"],[1,"fa-solid","fa-key"],["type","password","id","floatingConfirmVerification","placeholder","M\xe3 x\xe1c minh",1,"form-control"],["for","floatingConfirmVerification"],["id","basic-addon11",1,"input-group-text"],[1,"fa-solid","fa-circle-check"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","mx-2"],["type","reset",1,"btn","btn-warning"],[2,"height","200px","width","200px",3,"src"]],template:function(t,e){1&t&&r.rc(0,uM,139,2,"form",0),2&t&&r.fc("ngIf",e.updateUserForm)},directives:[gt,oa,Jo,ca,ft,qo,Zo,ga,Cs,Ss],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.profile[_ngcontent-%COMP%]{padding:0!important;margin-top:32px;display:flex;box-shadow:1px 1px 17px rgba(0,0,0,.35)}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),t})();var hM=n("qgXg"),fM=n("Ylt2");class pM extends ue.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new gM(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new de.a;if(this.isStopped||this.hasError?o=fn.a.EMPTY:(this.observers.push(t),o=new fM.a(this,t)),r&&t.add(t=new Yc.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||hM.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class gM{constructor(t,e){this.time=t,this.value=e}}class mM extends ue.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),fn.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),fn.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}class bM{}let vM=(()=>{class t extends class{constructor(){}loadScript(t,e,n,r=null){if("undefined"!=typeof document&&!document.getElementById(t)){let t=document.createElement("script");t.async=!0,t.src=e,t.onload=n,r||(r=document.head),r.appendChild(t)}}}{constructor(t,e={scope:"email"}){super(),this.clientId=t,this.initOptions=e}initialize(){return new Promise((e,n)=>{try{this.loadScript(t.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{e()}).catch(t=>{n(t)})})})}catch(r){n(r)}})}getLoginStatus(e){const n=Object.assign(Object.assign({},this.initOptions),e);return new Promise((e,r)=>{if(this.auth2.isSignedIn.get()){let t=new bM;const r=this.auth2.currentUser.get().getBasicProfile(),i=this.auth2.currentUser.get().getAuthResponse(!0);t.id=r.getId(),t.name=r.getName(),t.email=r.getEmail(),t.photoUrl=r.getImageUrl(),t.firstName=r.getGivenName(),t.lastName=r.getFamilyName(),t.response=i;const o=n=>{t.authToken=n.access_token,t.idToken=n.id_token,e(t)};n.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(o):o(this.auth2.currentUser.get().getAuthResponse(!0))}else r("No user is currently logged in with "+t.PROVIDER_ID)})}signIn(t){const e=Object.assign(Object.assign({},this.initOptions),t);return new Promise((n,r)=>{(e&&e.offline_access?this.auth2.grantOfflineAccess(t):this.auth2.signIn(t)).then(t=>{let e=new bM;if(t&&t.code)e.authorizationCode=t.code;else{let t=this.auth2.currentUser.get().getBasicProfile(),n=this.auth2.currentUser.get().getAuthResponse(!0),r=n.access_token,i=n.id_token;e.id=t.getId(),e.name=t.getName(),e.email=t.getEmail(),e.photoUrl=t.getImageUrl(),e.firstName=t.getGivenName(),e.lastName=t.getFamilyName(),e.authToken=r,e.idToken=i,e.response=n}n(e)},t=>{r(t)}).catch(t=>{r(t)})})}signOut(t){return new Promise((e,n)=>{let r;r=t?this.auth2.disconnect():this.auth2.signOut(),r.then(t=>{t?n(t):e()}).catch(t=>{n(t)})})}}return t.PROVIDER_ID="GOOGLE",t})(),yM=(()=>{class t{constructor(t){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new pM(1),this.initialized=!1,this._initState=new mM,t instanceof Promise?t.then(t=>{this.initialize(t)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:e=console.error}=t;t.providers.forEach(t=>{this.providers.set(t.id,t.provider)}),Promise.all(Array.from(this.providers.values()).map(t=>t.initialize())).then(()=>{if(this.autoLogin){const t=[];let e=!1;this.providers.forEach((n,r)=>{let i=n.getLoginStatus();t.push(i),i.then(t=>{t.provider=r,this._user=t,this._authState.next(t),e=!0}).catch(console.debug)}),Promise.all(t).catch(()=>{e||(this._user=null,this._authState.next(null))})}}).catch(t=>{e(t)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(e){return new Promise((n,r)=>{if(this.initialized)if(e!==vM.PROVIDER_ID)r(t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const i=this.providers.get(e);i?i.getLoginStatus({refreshToken:!0}).then(t=>{t.provider=e,this._user=t,this._authState.next(t),n()}).catch(t=>{r(t)}):r(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(t.ERR_NOT_INITIALIZED)})}signIn(e,n){return new Promise((r,i)=>{if(this.initialized){let o=this.providers.get(e);o?o.signIn(n).then(t=>{t.provider=e,r(t),this._user=t,this._authState.next(t)}).catch(t=>{i(t)}):i(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(t.ERR_NOT_INITIALIZED)})}signOut(e=!1){return new Promise((n,r)=>{if(this.initialized)if(this._user){let i=this.providers.get(this._user.provider);i?i.signOut(e).then(()=>{n(),this._user=null,this._authState.next(null)}).catch(t=>{r(t)}):r(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(t.ERR_NOT_LOGGED_IN);else r(t.ERR_NOT_INITIALIZED)})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb("SocialAuthServiceConfig"))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",t.ERR_NOT_LOGGED_IN="Not logged in",t.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",t})(),_M=(()=>{class t{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(e){return{ngModule:t,providers:[yM,{provide:"SocialAuthServiceConfig",useValue:e}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Vb(t,12))},providers:[yM],imports:[[xt]]}),t})();class wM{constructor(t){this.value=t}}function kM(t,e){1&t&&(r.Rb(0,"div",20),r.Rb(1,"p",29),r.tc(2,"Vui lo\u0300ng nh\xe2\u0323p t\xean \u0111\u0103ng nh\xe2\u0323p"),r.Qb(),r.Qb())}function CM(t,e){1&t&&(r.Rb(0,"div",20),r.Rb(1,"p",29),r.tc(2,"T\xean \u0111\u0103ng nh\xe2\u0323p t\xf4\u0301i thi\xea\u0309u ch\u01b0\u0301a 4 ky\u0301 t\u01b0\u0323"),r.Qb(),r.Qb())}function AM(t,e){1&t&&(r.Rb(0,"div",20),r.Rb(1,"p",29),r.tc(2,"Vui lo\u0300ng nh\xe2\u0323p m\xe2\u0323t kh\xe2\u0309u"),r.Qb(),r.Qb())}function EM(t,e){1&t&&(r.Rb(0,"div",20),r.Rb(1,"p",29),r.tc(2,"M\xe2\u0323t kh\xe2\u0309u t\xf4\u0301i thi\xea\u0309u ch\u01b0\u0301a 5 ky\u0301 t\u01b0\u0323"),r.Qb(),r.Qb())}let xM=(()=>{class t{constructor(t,e,n,r,i,o){this.formBuilder=t,this.toastr=e,this.router=n,this.authService=r,this.tokenService=i,this.socialAuthService=o}ngOnInit(){this.getFormLogin()}getFormLogin(){this.rfLogin=this.formBuilder.group({username:["",[rs.required,rs.minLength(3)]],password:["",[rs.required,rs.minLength(5)]],rememberMe:[!1]})}login(){this.authService.login(this.rfLogin.value).subscribe(t=>{null!=t.token&&(this.rfLogin.value.rememberMe?this.tokenService.rememberMe(t.token,t.account,t.roles,t.user):(this.tokenService.setAccountSession(t.account),this.tokenService.setTokenSession(t.token),this.tokenService.setUserSession(t.user),this.tokenService.setRoleSession(t.roles)),this.router.navigate(["/home"]).then(()=>{location.reload()}))},t=>{t.message?(this.toastr.error("Kh\xf4ng ti\u0300m th\xe2\u0301y ng\u01b0\u01a1\u0300i du\u0300ng"),this.router.navigateByUrl("/login")):(this.toastr.error("\u0110\u0103ng nh\xe2\u0323p th\xe2\u0301t ba\u0323i"),this.router.navigateByUrl("/login"),console.log("\u0110\u0103ng nh\xe2\u0323p th\xe2\u0301t ba\u0323i"))})}loginWithGoogle(){this.socialAuthService.signIn(vM.PROVIDER_ID).then(t=>{this.socialUser=t;const e=new wM(this.socialUser.idToken);this.authService.googleLogin(e).subscribe(t=>{null==t.token?(this.authService.setEmailGoogle(t.email),this.router.navigateByUrl("/registerWithGoogle")):(this.tokenService.setAccountLocal(t.account),this.tokenService.setTokenLocal(t.token),this.tokenService.setUserLocal(t.user),this.tokenService.setRoleLocal(t.roles),this.router.navigate(["/home"]).then(()=>{location.reload()}))})})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ya),r.Mb($a),r.Mb(Oi),r.Mb(Ef),r.Mb(tc),r.Mb(yM))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],decls:46,vars:6,consts:[[1,"",2,"height","600px","display","flex","justify-content","center","align-items","center"],[1,"container","h-100"],[1,"row","h-100",2,"display","flex","justify-content","center","align-items","center","box-sizing","border-box"],[1,"col-xxl-4","col-xl-5","col-lg-5","col-md-7","col-sm-9"],[1,"card","shadow-lg",2,"box-sizing","border-box"],[1,"card-body"],[1,"mb-5","mt-2","text-primary","h2","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-4"],["formControlName","username","type","text","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["class","col-12",4,"ngIf"],["formControlName","password","type","password","id","floatingPassword","placeholder","name@example.com",1,"form-control"],["for","floatingPassword"],[1,"row","form-floating","mb-4"],[1,"col-7"],["type","checkbox","formControlName","rememberMe","name","remember","id","remember",1,"form-check-input"],["for","remember",1,"form-check-label",2,"margin-left","3px"],[1,"col-5"],["href","#",1,"float-end","mb-1"],[1,"col-12"],["type","submit",1,"btn","btn-primary",2,"width","100%",3,"disabled"],[1,"mt-5","bordert"],[1,"text-center",2,"margin-top","35px"],["href","#","target","_blank",1,"px-3",3,"click"],["src","https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-suite-everything-you-need-know-about-google-newest-0.png","alt",""],[1,"card-footer","py-3","border-1"],[1,"text-center"],["href","#",1,"abc"],[2,"color","red","margin-left","15px"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"div",5),r.Rb(6,"h1",6),r.tc(7,"\u0110\u0103ng Nh\xe2\u0323p"),r.Qb(),r.Rb(8,"form",7),r.Zb("ngSubmit",(function(){return e.login()})),r.Rb(9,"div",8),r.Nb(10,"input",9),r.Rb(11,"label",10),r.tc(12,"T\xean \u0111\u0103ng nh\xe2\u0323p"),r.Rb(13,"small"),r.tc(14," *"),r.Qb(),r.Qb(),r.rc(15,kM,3,0,"div",11),r.rc(16,CM,3,0,"div",11),r.Qb(),r.Rb(17,"div",8),r.Nb(18,"input",12),r.Rb(19,"label",13),r.tc(20,"M\xe2\u0323t kh\xe2\u0309u"),r.Rb(21,"small"),r.tc(22," *"),r.Qb(),r.Qb(),r.rc(23,AM,3,0,"div",11),r.rc(24,EM,3,0,"div",11),r.Qb(),r.Rb(25,"div",14),r.Rb(26,"div",15),r.Nb(27,"input",16),r.Rb(28,"label",17),r.tc(29,"Ghi nh\u01a1\u0301 \u0111\u0103ng nh\xe2\u0323p"),r.Qb(),r.Qb(),r.Rb(30,"div",18),r.Rb(31,"a",19),r.tc(32," Qu\xean m\xe2\u0323t kh\xe2\u0309u? "),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",14),r.Rb(34,"div",20),r.Rb(35,"button",21),r.tc(36," \u0110\u0103ng Nh\xe2\u0323p "),r.Qb(),r.Qb(),r.Qb(),r.Rb(37,"div",22),r.Rb(38,"div",23),r.Rb(39,"a",24),r.Zb("click",(function(){return e.loginWithGoogle()})),r.Nb(40,"img",25),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(41,"div",26),r.Rb(42,"div",27),r.tc(43," Ba\u0323n ch\u01b0a co\u0301 ta\u0300i khoa\u0309n? "),r.Rb(44,"a",28),r.tc(45,"\u0110\u0103ng ky\u0301 ngay"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Ab(8),r.fc("formGroup",e.rfLogin),r.Ab(7),r.fc("ngIf",e.rfLogin.controls.username.hasError("required")&&e.rfLogin.controls.username.touched),r.Ab(1),r.fc("ngIf",e.rfLogin.controls.username.hasError("minlength")&&e.rfLogin.controls.username.touched),r.Ab(7),r.fc("ngIf",e.rfLogin.controls.password.hasError("required")&&e.rfLogin.controls.password.touched),r.Ab(1),r.fc("ngIf",e.rfLogin.controls.password.hasError("minlength")&&e.rfLogin.controls.password.touched),r.Ab(11),r.fc("disabled",e.rfLogin.invalid))},directives:[oa,Jo,ca,qo,Zo,ga,gt,Qo],styles:['body[_ngcontent-%COMP%]{font-family:sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}.text-center[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f}.mb-4[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-body[_ngcontent-%COMP%]{padding:32px 24px}.bordert[_ngcontent-%COMP%]{border-top:1px solid #aaa;position:relative}.bordert[_ngcontent-%COMP%]:after{content:"Ho\u0103\u0323c \u0111\u0103ng nh\xe2\u0323p v\u01a1\u0301i";position:absolute;top:-13px;left:27%;background-color:#fff;padding:0 8px}img[_ngcontent-%COMP%]{width:40px;height:40px;-o-object-fit:cover;object-fit:cover;border-radius:50%;position:relative}small[_ngcontent-%COMP%]{color:red}.floating-password[_ngcontent-%COMP%]{margin-top:29px}']}),t})(),SM=(()=>{class t{constructor(t,e,n){this.tokenService=t,this.router=e,this.toastr=n}canActivate(t,e){if(this.tokenService.getToken())return!0;this.toastr.error("Y\xeau c\u1ea7u \u0111\u0103ng nh\u1eadp."),this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(tc),r.Vb(Oi),r.Vb($a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),IM=(()=>{class t{constructor(t,e,n){this.tokenService=t,this.router=e,this.toastr=n}canActivate(t,e){if(this.tokenService.getToken()){const t=this.tokenService.getRole();for(let e=0;e<t.length;e++)if("ROLE_ADMIN"===t[e])return!0;this.toastr.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n v\xe0o trang n\xe0y."),this.router.navigateByUrl("/home")}else this.toastr.error("Y\xeau c\u1ea7u \u0111\u0103ng nh\u1eadp."),this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(tc),r.Vb(Oi),r.Vb($a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TM=[{path:"products",component:tf,canActivate:[IM]},{path:"products/review/:id",component:Af,canActivate:[IM]},{path:"product/create",component:Xu,canActivate:[IM]},{path:"product/edit/:id",component:Cd,canActivate:[IM]},{path:"home",component:Vd},{path:"",component:Vd},{path:"transaction",component:Rd},{path:"transaction",component:Rd},{path:"user/list",component:ch,canActivate:[IM]},{path:"user/edit/:id",component:Ph,canActivate:[IM]},{path:"user-add",component:Mh,canActivate:[IM]},{path:"user/lockaccount",component:Lh,canActivate:[IM]},{path:"product/add",component:Xu,canActivate:[IM]},{path:"auction/product/add",component:Pm,canActivate:[SM]},{path:"confirmAddress",component:$f},{path:"methodPayment",component:Yf},{path:"login",component:xM},{path:"guide",component:oc},{path:"guide/edit/:id",component:tb,canActivate:[IM]},{path:"guide/add",component:Um,canActivate:[IM]},{path:"chat/user",component:XP},{path:"chat/support",component:aM,canActivate:[IM]},{path:"auction-detail/:productId",component:Vc},{path:"user/create",component:cM,canActivate:[IM]},{path:"user/update/:id",component:dM,canActivate:[IM]},{path:"registerWithGoogle",component:Kf}];let DM=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[Ki.forRoot(TM)],Ki]}),t})();function RM(t,e){1&t&&r.Nb(0,"app-chat-user")}let OM=(()=>{class t{constructor(t,e){this._toastService=t,this._tokenService=e,this.checklogged=!1,this.title="Auction"}ngOnInit(){if(this._tokenService.isLogged()){this.checklogged=!0;const t=this._tokenService.getRole();for(let e=0;e<t.length;e++)"ROLE_ADMIN"===t[e]&&(this.accountRole="ROLE_ADMIN")}}showMessage(){console.log("alo"),this._toastService.success("hello","info",{timeOut:3e3,positionClass:"toast-top-right"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb($a),r.Mb(tc))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.Nb(0,"app-header"),r.Nb(1,"router-outlet"),r.Nb(2,"app-footer"),r.rc(3,RM,1,0,"app-chat-user",0)),2&t&&(r.Ab(3),r.fc("ngIf",e.checklogged&&"ROLE_ADMIN"!=e.accountRole))},directives:[ff,Fi,pf,gt,XP],styles:[".border[_ngcontent-%COMP%]{border:1px solid #a9a9a9;padding-top:20px;padding-bottom:20px}.avatar[_ngcontent-%COMP%]{font-size:27px;width:90px;height:90px;background:#009578}.avatar[_ngcontent-%COMP%]:after{font-family:Readex Pro,sans-serif;color:#fff}.register[_ngcontent-%COMP%]{margin-top:32px;display:flex;padding:32px 24px;box-shadow:1px 1px 17px rgba(0,0,0,.35)}#image[_ngcontent-%COMP%]{width:100px;font-weight:400;height:40px;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-decoration:line-through;font-style:italic;font-size:x-large;border:1px solid #a9a9a9;padding-left:15px;border-radius:1px}#btn[_ngcontent-%COMP%]{color:#fff;background-color:brown}.avatar[_ngcontent-%COMP%]{font-size:35px;width:3em;height:3em;border-radius:50%;background:#008578;display:inline-flex;align-items:center;justify-content:center}.avatar[_ngcontent-%COMP%]:after{content:attr(data-label)}"]}),t})();function NM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function PM(t){switch(t.length){case 0:return new Da;case 1:return t[0];default:return new Ra(t)}}function MM(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,u=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}u[r]=a}),r||a.push(u),l=u,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function LM(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&jM(n,"start",t)));break;case"done":t.onDone(()=>r(n&&jM(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&jM(n,"destroy",t)))}}function jM(t,e,n){const r=n.totalTime,i=FM(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function FM(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function BM(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function zM(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let QM=(t,e)=>!1,VM=(t,e)=>!1,UM=(t,e,n)=>[];const qM=NM();(qM||"undefined"!=typeof Element)&&(QM=(t,e)=>t.contains(e),VM=(()=>{if(qM||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):VM}})(),UM=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let HM=null,GM=!1;function WM(t){HM||(HM=("undefined"!=typeof document?document.body:null)||{},GM=!!HM.style&&"WebkitAppearance"in HM.style);let e=!0;return HM.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in HM.style,!e&&GM)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in HM.style),e}const KM=VM,$M=QM,YM=UM;function ZM(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let JM=(()=>{class t{validateStyleProperty(t){return WM(t)}matchesElement(t,e){return KM(t,e)}containsElement(t,e){return $M(t,e)}query(t,e,n){return YM(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Da(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),XM=(()=>{class t{}return t.NOOP=new JM,t})();function tL(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eL(parseFloat(e[1]),e[2])}function eL(t,e){switch(e){case"s":return 1e3*t;default:return t}}function nL(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=eL(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=eL(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function rL(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function iL(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else rL(t,n);return n}function oL(t,e,n){return n?e+":"+n+";":""}function sL(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=oL(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=oL(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function aL(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=gL(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),NM()&&sL(t))}function cL(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=gL(e);t.style[n]=""}),NM()&&sL(t))}function lL(t){return Array.isArray(t)?1==t.length?t[0]:Ea(t):t}const uL=new RegExp("{{\\s*(.+?)\\s*}}","g");function dL(t){let e=[];if("string"==typeof t){let n;for(;n=uL.exec(t);)e.push(n[1]);uL.lastIndex=0}return e}function hL(t,e,n){const r=t.toString(),i=r.replace(uL,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function fL(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const pL=/-+([a-z0-9])/g;function gL(t){return t.replace(pL,(...t)=>t[1].toUpperCase())}function mL(t,e){return 0===t||0===e}function bL(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=yL(t,e)}))}}return e}function vL(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function yL(t,e){return window.getComputedStyle(t)[e]}function _L(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(CL(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(CL(s,i))}(t,n,e)):n.push(t),n}const wL=new Set(["true","1"]),kL=new Set(["false","0"]);function CL(t,e){const n=wL.has(t)||kL.has(t),r=wL.has(e)||kL.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?wL.has(t):kL.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?wL.has(e):kL.has(e)),s&&a}}const AL=new RegExp("s*:selfs*,?","g");function EL(t,e,n){return new xL(t).build(e,n)}class xL{constructor(t){this._driver=t}build(t,e){const n=new SL(e);return this._resetContextStyleTimingState(n),vL(this,lL(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(IL(t)){const e=t;Object.keys(e).forEach(t=>{dL(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=fL(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=vL(this,lL(t.animation),e);return{type:1,matchers:_L(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:TL(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>vL(this,t,e)),options:TL(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=vL(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:TL(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return DL(nL(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=DL(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||nL(r,e),DL(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:xa({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=xa(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(IL(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=dL(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(IL(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(IL(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const d=l-1,h=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=u>0?r==d?1:u*r:i[r],s=o*p;e.currentTime=h+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:vL(this,lL(t.animation),e),options:TL(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:TL(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:TL(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(AL,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,BM(e.collectedStyles,e.currentQuerySelector,{});const s=vL(this,lL(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:TL(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:nL(t.timings,e.errors,!0);return{type:12,animation:vL(this,lL(t.animation),e),timings:n,options:null}}}class SL{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function IL(t){return!Array.isArray(t)&&"object"==typeof t}function TL(t){var e;return t?(t=rL(t)).params&&(t.params=(e=t.params)?rL(e):null):t={},t}function DL(t,e,n){return{duration:t,delay:e,easing:n}}function RL(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class OL{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const NL=new RegExp(":enter","g"),PL=new RegExp(":leave","g");function ML(t,e,n,r,i,o={},s={},a,c,l=[]){return(new LL).buildKeyframes(t,e,n,r,i,o,s,a,c,l)}class LL{buildKeyframes(t,e,n,r,i,o,s,a,c,l=[]){c=c||new OL;const u=new FL(t,e,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),vL(this,n,u);const d=u.timelines.filter(t=>t.containsAnimation());if(d.length&&Object.keys(s).length){const t=d[d.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return d.length?d.map(t=>t.buildKeyframes()):[RL(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?tL(n.duration):null,o=null!=n.delay?tL(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),vL(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=jL);const t=tL(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>vL(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?tL(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),vL(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return nL(e.params?hL(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?tL(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jL);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),vL(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;vL(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const jL={};class FL{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jL,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new BL(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=tL(n.duration)),null!=n.delay&&(r.delay=tL(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=hL(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new FL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=jL,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new zL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(NL,"."+this._enterClassName)).replace(PL,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class BL{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new BL(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):iL(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=hL(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=iL(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?fL(t.values()):[],o=e.size?fL(e.values()):[];if(n){const t=r[0],e=rL(t);t.offset=0,e.offset=1,r=[t,e]}return RL(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class zL extends BL{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=iL(t[0],!1);a.offset=0,i.push(a);const c=iL(t[0],!1);c.offset=QL(s),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let s=iL(t[r],!1);s.offset=QL((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return RL(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function QL(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class VL{}class UL extends VL{normalizePropertyName(t,e){return gL(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(qL[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const qL=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function HL(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const GL={};class WL{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,l){const u=[],d=this.ast.options&&this.ast.options.params||GL,h=this.buildStyles(n,s&&s.params||GL,u),f=a&&a.params||GL,p=this.buildStyles(r,f,u),g=new Set,m=new Map,b=new Map,v="void"===r,y={params:Object.assign(Object.assign({},d),f)},_=l?[]:ML(t,e,this.ast.animation,i,o,h,p,y,c,u);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return HL(e,this._triggerName,n,r,v,h,p,[],[],m,b,w,u);_.forEach(t=>{const n=t.element,r=BM(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=BM(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const k=fL(g.values());return HL(e,this._triggerName,n,r,v,h,p,_,k,m,b,w)}}class KL{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=rL(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=hL(o,r,e)),n[t]=o})}}),n}}class $L{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new KL(t.style,t.options&&t.options.params||{})}),YL(this.states,"true","1"),YL(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new WL(t,e,this.states))}),this.fallbackTransition=new WL(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function YL(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ZL=new OL;class JL{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=EL(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=MM(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=ML(this._driver,e,i,"ng-enter","ng-leave",{},{},n,ZL,r),o.forEach(t=>{const e=BM(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=PM(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=FM(e,"","","");return LM(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const XL=[],tj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ej={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class nj{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=rL(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const rj=new nj("void");class ij{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dj(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=BM(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=BM(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(dj(t,"ng-trigger"),dj(t,"ng-trigger-"+e),a[e]=rj),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new sj(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(dj(t,"ng-trigger"),dj(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new nj(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=rj),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{cL(t,n),aL(t,r)})}return}const l=BM(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,c.value,t,c.params),d=!1;if(!u){if(!r)return;u=i.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:o,isFallbackTransition:d}),d||(dj(t,"ng-animate-queued"),o.onStart(()=>{hj(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&PM(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||rj,s=new nj("void"),a=new sj(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==tj||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){dj(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=FM(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,LM(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class oj{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ij(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(aj(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!aj(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dj(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hj(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(aj(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return aj(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return PM(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=tj,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)dj(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?PM(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new OL,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=uj(d,this.collectedEnterElements),f=new Map;let p=0;h.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>dj(t,n))});const g=[],m=new Set,b=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const v=new Map,y=uj(d,Array.from(m));y.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>dj(t,n))}),t.push(()=>{h.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>hj(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>hj(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,i),d=v.get(i),h=f.get(i),p=this._buildInstruction(t,n,h,d,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>cL(i,p.fromStyles)),e.onDestroy(()=>aL(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>cL(i,p.fromStyles)),e.onDestroy(()=>aL(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>BM(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const k=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,k))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{BM(k,e,[]).push(t),t.destroy()})});const A=g.filter(t=>pj(t,a,c)),E=new Map;lj(E,this.driver,b,c,"*").forEach(t=>{pj(t,a,c)&&A.push(t)});const x=new Map;h.forEach((t,e)=>{lj(x,this.driver,new Set(t),a,"!")}),A.forEach(t=>{const e=E.get(t),n=x.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const S=[],I=[],T={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>aL(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=T;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,k,i,x,E);if(o.setRealPlayer(n),t===T)S.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=PM(e)),r.push(o)}}else cL(e,s.fromStyles),o.onDestroy(()=>aL(e,s.toStyles)),I.push(o),l.has(e)&&r.push(o)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=PM(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<g.length;D++){const t=g[D],e=t.__ng_removed;if(hj(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?fj(this,t,r):this.processLeaveNode(t)}return g.length=0,S.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),S}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=BM(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}cL(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,d=e.timelines.map(e=>{const d=e.element;l.add(d);const h=d.__ng_removed;if(h&&h.removedBeforeQueried)return new Da(e.duration,e.delay);const f=d!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Ra?t(i.players,n):n.push(i)}}(t,e),e}((n.get(d)||XL).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===d),g=i.get(d),m=o.get(d),b=MM(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&u.add(d),f){const e=new sj(t,s,d);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{BM(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>dj(t,"ng-animating"));const h=PM(d);return h.onDestroy(()=>{l.forEach(t=>hj(t,"ng-animating")),aL(a,e.toStyles)}),u.forEach(t=>{BM(r,t,[]).push(h)}),h}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Da(t.duration,t.delay)}}class sj{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Da,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>LM(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){BM(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function aj(t){return t&&1===t.nodeType}function cj(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function lj(t,e,n,r,i){const o=[];n.forEach(t=>o.push(cj(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=ej,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>cj(t,o[a++])),s}function uj(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function dj(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function hj(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function fj(t,e,n){PM(n).onDone(()=>t.processLeaveNode(e))}function pj(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class gj{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new oj(t,e,n),this._timelineEngine=new JL(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=EL(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new $L(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=zM(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=zM(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mj(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=vj(e[0]),e.length>1&&(r=vj(e[e.length-1]))):e&&(n=vj(e)),n||r?new bj(t,n,r):null}let bj=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&aL(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(aL(this._element,this._initialStyles),this._endStyles&&(aL(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(cL(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cL(this._element,this._endStyles),this._endStyles=null),aL(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function vj(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];yj(i)&&(e=e||{},e[i]=t[i])}return e}function yj(t){return"display"===t||"position"===t}class _j{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=xj(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ej(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Aj(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wj(this._element,this._name,"paused")}resume(){wj(this._element,this._name,"running")}setPosition(t){const e=kj(this._element,this._name);this._position=t*this._duration,Ej(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Aj(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=xj(t,"").split(","),r=Cj(n,e);r>=0&&(n.splice(r,1),Ej(t,"",n.join(",")))}(this._element,this._name))}}function wj(t,e,n){Ej(t,"PlayState",n,kj(t,e))}function kj(t,e){const n=xj(t,"");return n.indexOf(",")>0?Cj(n.split(","),e):Cj([n],e)}function Cj(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Aj(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Ej(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function xj(t,e){return t.style["animation"+e]}class Sj{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _j(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:yL(this.element,n))})}this.currentSnapshot=t}}class Ij extends Da{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ZM(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Tj{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return WM(t)}matchesElement(t,e){return KM(t,e)}containsElement(t,e){return $M(t,e)}query(t,e,n){return YM(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ZM(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Sj),c={};mL(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=bL(t,e,c));if(0==n)return new Ij(t,l);const u="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(d);const h=mj(t,e),f=new Sj(t,e,u,n,r,i,l,h);return f.onDestroy(()=>{var t;(t=d).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Dj{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:yL(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Rj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Oj().toString()),this._cssKeyframesDriver=new Tj}validateStyleProperty(t){return WM(t)}matchesElement(t,e){return KM(t,e)}containsElement(t,e){return $M(t,e)}query(t,e,n){return YM(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=o.filter(t=>t instanceof Dj);mL(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=mj(t,e=bL(t,e=e.map(t=>iL(t,!1)),c));return new Dj(t,e,a,u)}}function Oj(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Nj=(()=>{class t extends ka{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ea(t):t;return Lj(this._renderer,null,e,"register",[n]),new Pj(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.E),r.Vb(c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Pj extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Mj(this._id,t,e||{},this._renderer)}}class Mj{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Lj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Lj(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let jj=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Fj("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Bj(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.E),r.Vb(gj),r.Vb(r.z))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Fj{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Bj extends Fj{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let zj=(()=>{class t extends gj{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c),r.Vb(XM),r.Vb(VL))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Qj=[{provide:XM,useFactory:function(){return"function"==typeof Oj()?new Rj:new Tj}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:ka,useClass:Nj},{provide:VL,useFactory:function(){return new UL}},{provide:gj,useClass:zj},{provide:r.E,useFactory:function(t,e,n){return new jj(t,e,n)},deps:[qt,gj,r.z]}];let Vj=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:Qj,imports:[oe]}),t})();const Uj={scope:"profile email",plugin_name:"login"};let qj=(()=>{class t{}return t.\u0275mod=r.Kb({type:t,bootstrap:[OM]}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:vM.PROVIDER_ID,provider:new vM("360980124241-cu5j4vb8mfob7il8h62oa320t8ldoi7l.apps.googleusercontent.com",Uj)}]}}],imports:[[wa,oe,DM,_a,Mo,Vj,Xa.forRoot(),Su,Zc.a.initializeApp(o.firebaseConfig),_M,pm]]}),t})();o.production&&Object(r.S)(),re().bootstrapModule(qj).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);